function _mergeNamespaces(a,o){for(var e=0;e<o.length;e++){const c=o[e];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in a)){const g=Object.getOwnPropertyDescriptor(c,h);g&&Object.defineProperty(a,h,g.get?g:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function e(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(h){if(h.ep)return;h.ep=!0;const g=e(h);fetch(h.href,g)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var o=a.default;if(typeof o=="function"){var e=function c(){return this instanceof c?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};e.prototype=o.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(a).forEach(function(c){var h=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(e,c,h.get?h:{enumerable:!0,get:function(){return a[c]}})}),e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$2&&a[z$2]||a["@@iterator"],typeof a=="function"?a:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$3(a,o,e){this.props=a,this.context=o,this.refs=D$2,this.updater=e||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(a,o){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,o,"setState")};E$3.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(a,o,e){this.props=a,this.context=o,this.refs=D$2,this.updater=e||B$3}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$2(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(a,o,e){var c,h={},g=null,b=null;if(o!=null)for(c in o.ref!==void 0&&(b=o.ref),o.key!==void 0&&(g=""+o.key),o)J$2.call(o,c)&&!L$3.hasOwnProperty(c)&&(h[c]=o[c]);var $=arguments.length-2;if($===1)h.children=e;else if(1<$){for(var j=Array($),rt=0;rt<$;rt++)j[rt]=arguments[rt+2];h.children=j}if(a&&a.defaultProps)for(c in $=a.defaultProps,$)h[c]===void 0&&(h[c]=$[c]);return{$$typeof:l$4,type:a,key:g,ref:b,props:h,_owner:K$3.current}}function N$4(a,o){return{$$typeof:l$4,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}}function O$3(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$4}function escape(a){var o={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(e){return o[e]})}var P$3=/\/+/g;function Q$3(a,o){return typeof a=="object"&&a!==null&&a.key!=null?escape(""+a.key):o.toString(36)}function R$3(a,o,e,c,h){var g=typeof a;(g==="undefined"||g==="boolean")&&(a=null);var b=!1;if(a===null)b=!0;else switch(g){case"string":case"number":b=!0;break;case"object":switch(a.$$typeof){case l$4:case n$2:b=!0}}if(b)return b=a,h=h(b),a=c===""?"."+Q$3(b,0):c,I$3(h)?(e="",a!=null&&(e=a.replace(P$3,"$&/")+"/"),R$3(h,o,e,"",function(rt){return rt})):h!=null&&(O$3(h)&&(h=N$4(h,e+(!h.key||b&&b.key===h.key?"":(""+h.key).replace(P$3,"$&/")+"/")+a)),o.push(h)),1;if(b=0,c=c===""?".":c+":",I$3(a))for(var $=0;$<a.length;$++){g=a[$];var j=c+Q$3(g,$);b+=R$3(g,o,e,j,h)}else if(j=A$2(a),typeof j=="function")for(a=j.call(a),$=0;!(g=a.next()).done;)g=g.value,j=c+Q$3(g,$++),b+=R$3(g,o,e,j,h);else if(g==="object")throw o=String(a),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return b}function S$3(a,o,e){if(a==null)return a;var c=[],h=0;return R$3(a,c,"","",function(g){return o.call(e,g,h++)}),c}function T$3(a){if(a._status===-1){var o=a._result;o=o(),o.then(function(e){(a._status===0||a._status===-1)&&(a._status=1,a._result=e)},function(e){(a._status===0||a._status===-1)&&(a._status=2,a._result=e)}),a._status===-1&&(a._status=0,a._result=o)}if(a._status===1)return a._result.default;throw a._result}var U$3={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(a,o,e){S$3(a,function(){o.apply(this,arguments)},e)},count:function(a){var o=0;return S$3(a,function(){o++}),o},toArray:function(a){return S$3(a,function(o){return o})||[]},only:function(a){if(!O$3(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$3;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(a,o,e){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var c=C$2({},a.props),h=a.key,g=a.ref,b=a._owner;if(o!=null){if(o.ref!==void 0&&(g=o.ref,b=K$3.current),o.key!==void 0&&(h=""+o.key),a.type&&a.type.defaultProps)var $=a.type.defaultProps;for(j in o)J$2.call(o,j)&&!L$3.hasOwnProperty(j)&&(c[j]=o[j]===void 0&&$!==void 0?$[j]:o[j])}var j=arguments.length-2;if(j===1)c.children=e;else if(1<j){$=Array(j);for(var rt=0;rt<j;rt++)$[rt]=arguments[rt+2];c.children=$}return{$$typeof:l$4,type:a.type,key:h,ref:g,props:c,_owner:b}};react_production_min.createContext=function(a){return a={$$typeof:u$2,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$2,_context:a},a.Consumer=a};react_production_min.createElement=M$3;react_production_min.createFactory=function(a){var o=M$3.bind(null,a);return o.type=a,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$2,render:a}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(a){return{$$typeof:y$2,_payload:{_status:-1,_result:a},_init:T$3}};react_production_min.memo=function(a,o){return{$$typeof:x$2,type:a,compare:o===void 0?null:o}};react_production_min.startTransition=function(a){var o=V$3.transition;V$3.transition={};try{a()}finally{V$3.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(a,o){return U$3.current.useCallback(a,o)};react_production_min.useContext=function(a){return U$3.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$3.current.useDeferredValue(a)};react_production_min.useEffect=function(a,o){return U$3.current.useEffect(a,o)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(a,o,e){return U$3.current.useImperativeHandle(a,o,e)};react_production_min.useInsertionEffect=function(a,o){return U$3.current.useInsertionEffect(a,o)};react_production_min.useLayoutEffect=function(a,o){return U$3.current.useLayoutEffect(a,o)};react_production_min.useMemo=function(a,o){return U$3.current.useMemo(a,o)};react_production_min.useReducer=function(a,o,e){return U$3.current.useReducer(a,o,e)};react_production_min.useRef=function(a){return U$3.current.useRef(a)};react_production_min.useState=function(a){return U$3.current.useState(a)};react_production_min.useSyncExternalStore=function(a,o,e){return U$3.current.useSyncExternalStore(a,o,e)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$2=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q(a,o,e){var c,h={},g=null,b=null;e!==void 0&&(g=""+e),o.key!==void 0&&(g=""+o.key),o.ref!==void 0&&(b=o.ref);for(c in o)m$1.call(o,c)&&!p$3.hasOwnProperty(c)&&(h[c]=o[c]);if(a&&a.defaultProps)for(c in o=a.defaultProps,o)h[c]===void 0&&(h[c]=o[c]);return{$$typeof:k$2,type:a,key:g,ref:b,props:h,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function o(wr,Sr){var br=wr.length;wr.push(Sr);e:for(;0<br;){var xr=br-1>>>1,Or=wr[xr];if(0<h(Or,Sr))wr[xr]=Sr,wr[br]=Or,br=xr;else break e}}function e(wr){return wr.length===0?null:wr[0]}function c(wr){if(wr.length===0)return null;var Sr=wr[0],br=wr.pop();if(br!==Sr){wr[0]=br;e:for(var xr=0,Or=wr.length,In=Or>>>1;xr<In;){var Nn=2*(xr+1)-1,Hn=wr[Nn],Bn=Nn+1,qn=wr[Bn];if(0>h(Hn,br))Bn<Or&&0>h(qn,Hn)?(wr[xr]=qn,wr[Bn]=br,xr=Bn):(wr[xr]=Hn,wr[Nn]=br,xr=Nn);else if(Bn<Or&&0>h(qn,br))wr[xr]=qn,wr[Bn]=br,xr=Bn;else break e}}return Sr}function h(wr,Sr){var br=wr.sortIndex-Sr.sortIndex;return br!==0?br:wr.id-Sr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;a.unstable_now=function(){return g.now()}}else{var b=Date,$=b.now();a.unstable_now=function(){return b.now()-$}}var j=[],rt=[],nt=1,pt=null,wt=3,Dt=!1,Lt=!1,it=!1,st=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(wr){for(var Sr=e(rt);Sr!==null;){if(Sr.callback===null)c(rt);else if(Sr.startTime<=wr)c(rt),Sr.sortIndex=Sr.expirationTime,o(j,Sr);else break;Sr=e(rt)}}function ot(wr){if(it=!1,Et(wr),!Lt)if(e(j)!==null)Lt=!0,Rr(_t);else{var Sr=e(rt);Sr!==null&&Cr(ot,Sr.startTime-wr)}}function _t(wr,Sr){Lt=!1,it&&(it=!1,bt(It),It=-1),Dt=!0;var br=wt;try{for(Et(Sr),pt=e(j);pt!==null&&(!(pt.expirationTime>Sr)||wr&&!gr());){var xr=pt.callback;if(typeof xr=="function"){pt.callback=null,wt=pt.priorityLevel;var Or=xr(pt.expirationTime<=Sr);Sr=a.unstable_now(),typeof Or=="function"?pt.callback=Or:pt===e(j)&&c(j),Et(Sr)}else c(j);pt=e(j)}if(pt!==null)var In=!0;else{var Nn=e(rt);Nn!==null&&Cr(ot,Nn.startTime-Sr),In=!1}return In}finally{pt=null,wt=br,Dt=!1}}var Mt=!1,Bt=null,It=-1,jt=5,tr=-1;function gr(){return!(a.unstable_now()-tr<jt)}function vr(){if(Bt!==null){var wr=a.unstable_now();tr=wr;var Sr=!0;try{Sr=Bt(!0,wr)}finally{Sr?hr():(Mt=!1,Bt=null)}}else Mt=!1}var hr;if(typeof gt=="function")hr=function(){gt(vr)};else if(typeof MessageChannel<"u"){var mr=new MessageChannel,Er=mr.port2;mr.port1.onmessage=vr,hr=function(){Er.postMessage(null)}}else hr=function(){st(vr,0)};function Rr(wr){Bt=wr,Mt||(Mt=!0,hr())}function Cr(wr,Sr){It=st(function(){wr(a.unstable_now())},Sr)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(wr){wr.callback=null},a.unstable_continueExecution=function(){Lt||Dt||(Lt=!0,Rr(_t))},a.unstable_forceFrameRate=function(wr){0>wr||125<wr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):jt=0<wr?Math.floor(1e3/wr):5},a.unstable_getCurrentPriorityLevel=function(){return wt},a.unstable_getFirstCallbackNode=function(){return e(j)},a.unstable_next=function(wr){switch(wt){case 1:case 2:case 3:var Sr=3;break;default:Sr=wt}var br=wt;wt=Sr;try{return wr()}finally{wt=br}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(wr,Sr){switch(wr){case 1:case 2:case 3:case 4:case 5:break;default:wr=3}var br=wt;wt=wr;try{return Sr()}finally{wt=br}},a.unstable_scheduleCallback=function(wr,Sr,br){var xr=a.unstable_now();switch(typeof br=="object"&&br!==null?(br=br.delay,br=typeof br=="number"&&0<br?xr+br:xr):br=xr,wr){case 1:var Or=-1;break;case 2:Or=250;break;case 5:Or=1073741823;break;case 4:Or=1e4;break;default:Or=5e3}return Or=br+Or,wr={id:nt++,callback:Sr,priorityLevel:wr,startTime:br,expirationTime:Or,sortIndex:-1},br>xr?(wr.sortIndex=br,o(rt,wr),e(j)===null&&wr===e(rt)&&(it?(bt(It),It=-1):it=!0,Cr(ot,br-xr))):(wr.sortIndex=Or,o(j,wr),Lt||Dt||(Lt=!0,Rr(_t))),wr},a.unstable_shouldYield=gr,a.unstable_wrapCallback=function(wr){var Sr=wt;return function(){var br=wt;wt=Sr;try{return wr.apply(this,arguments)}finally{wt=br}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$3=reactExports,ca$2=schedulerExports;function p$2(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,e=1;e<arguments.length;e++)o+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$2=new Set,ea$2={};function fa$3(a,o){ha$3(a,o),ha$3(a+"Capture",o)}function ha$3(a,o){for(ea$2[a]=o,a=0;a<o.length;a++)da$2.add(o[a])}var ia$3=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$2=Object.prototype.hasOwnProperty,ka$3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$3={},ma$2={};function oa$3(a){return ja$2.call(ma$2,a)?!0:ja$2.call(la$3,a)?!1:ka$3.test(a)?ma$2[a]=!0:(la$3[a]=!0,!1)}function pa$3(a,o,e,c){if(e!==null&&e.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:e!==null?!e.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa$3(a,o,e,c){if(o===null||typeof o>"u"||pa$3(a,o,e,c))return!0;if(c)return!1;if(e!==null)switch(e.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$1(a,o,e,c,h,g,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=e,this.propertyName=a,this.type=o,this.sanitizeURL=g,this.removeEmptyString=b}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$1[a]=new v$1(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];z$1[o]=new v$1(o,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$1[a]=new v$1(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$1[a]=new v$1(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$1[a]=new v$1(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$1[a]=new v$1(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$1[a]=new v$1(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra$3=/[\-:]([a-z])/g;function sa$2(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(ra$3,sa$2);z$1[o]=new v$1(o,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(ra$3,sa$2);z$1[o]=new v$1(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(ra$3,sa$2);z$1[o]=new v$1(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta$3(a,o,e,c){var h=z$1.hasOwnProperty(o)?z$1[o]:null;(h!==null?h.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa$3(o,e,h,c)&&(e=null),c||h===null?oa$3(o)&&(e===null?a.removeAttribute(o):a.setAttribute(o,""+e)):h.mustUseProperty?a[h.propertyName]=e===null?h.type===3?!1:"":e:(o=h.attributeName,c=h.attributeNamespace,e===null?a.removeAttribute(o):(h=h.type,e=h===3||h===4&&e===!0?"":""+e,c?a.setAttributeNS(c,o,e):a.setAttribute(o,e))))}var ua$3=aa$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$3=Symbol.for("react.element"),wa$3=Symbol.for("react.portal"),ya$3=Symbol.for("react.fragment"),za$3=Symbol.for("react.strict_mode"),Aa$3=Symbol.for("react.profiler"),Ba$3=Symbol.for("react.provider"),Ca$3=Symbol.for("react.context"),Da$3=Symbol.for("react.forward_ref"),Ea$3=Symbol.for("react.suspense"),Fa$3=Symbol.for("react.suspense_list"),Ga$2=Symbol.for("react.memo"),Ha$3=Symbol.for("react.lazy"),Ia$3=Symbol.for("react.offscreen"),Ja$3=Symbol.iterator;function Ka$3(a){return a===null||typeof a!="object"?null:(a=Ja$3&&a[Ja$3]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La$3;function Ma$3(a){if(La$3===void 0)try{throw Error()}catch(e){var o=e.stack.trim().match(/\n( *(at )?)/);La$3=o&&o[1]||""}return`
`+La$3+a}var Na$3=!1;function Oa$3(a,o){if(!a||Na$3)return"";Na$3=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(rt){var c=rt}Reflect.construct(a,[],o)}else{try{o.call()}catch(rt){c=rt}a.call(o.prototype)}else{try{throw Error()}catch(rt){c=rt}a()}}catch(rt){if(rt&&c&&typeof rt.stack=="string"){for(var h=rt.stack.split(`
`),g=c.stack.split(`
`),b=h.length-1,$=g.length-1;1<=b&&0<=$&&h[b]!==g[$];)$--;for(;1<=b&&0<=$;b--,$--)if(h[b]!==g[$]){if(b!==1||$!==1)do if(b--,$--,0>$||h[b]!==g[$]){var j=`
`+h[b].replace(" at new "," at ");return a.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",a.displayName)),j}while(1<=b&&0<=$);break}}}finally{Na$3=!1,Error.prepareStackTrace=e}return(a=a?a.displayName||a.name:"")?Ma$3(a):""}function Pa$2(a){switch(a.tag){case 5:return Ma$3(a.type);case 16:return Ma$3("Lazy");case 13:return Ma$3("Suspense");case 19:return Ma$3("SuspenseList");case 0:case 2:case 15:return a=Oa$3(a.type,!1),a;case 11:return a=Oa$3(a.type.render,!1),a;case 1:return a=Oa$3(a.type,!0),a;default:return""}}function Qa$3(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya$3:return"Fragment";case wa$3:return"Portal";case Aa$3:return"Profiler";case za$3:return"StrictMode";case Ea$3:return"Suspense";case Fa$3:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca$3:return(a.displayName||"Context")+".Consumer";case Ba$3:return(a._context.displayName||"Context")+".Provider";case Da$3:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga$2:return o=a.displayName||null,o!==null?o:Qa$3(a.type)||"Memo";case Ha$3:o=a._payload,a=a._init;try{return Qa$3(a(o))}catch{}}return null}function Ra$3(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$3(o);case 8:return o===za$3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa$3(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta$3(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua$2(a){var o=Ta$3(a)?"checked":"value",e=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),c=""+a[o];if(!a.hasOwnProperty(o)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var h=e.get,g=e.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return h.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(a,o,{enumerable:e.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Va$2(a){a._valueTracker||(a._valueTracker=Ua$2(a))}function Wa$2(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var e=o.getValue(),c="";return a&&(c=Ta$3(a)?a.checked?"true":"false":a.value),a=c,a!==e?(o.setValue(a),!0):!1}function Xa$2(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya$2(a,o){var e=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??a._wrapperState.initialChecked})}function Za$2(a,o){var e=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;e=Sa$3(o.value!=null?o.value:e),a._wrapperState={initialChecked:c,initialValue:e,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab$2(a,o){o=o.checked,o!=null&&ta$3(a,"checked",o,!1)}function bb$2(a,o){ab$2(a,o);var e=Sa$3(o.value),c=o.type;if(e!=null)c==="number"?(e===0&&a.value===""||a.value!=e)&&(a.value=""+e):a.value!==""+e&&(a.value=""+e);else if(c==="submit"||c==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?cb$2(a,o.type,e):o.hasOwnProperty("defaultValue")&&cb$2(a,o.type,Sa$3(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function db$2(a,o,e){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,e||o===a.value||(a.value=o),a.defaultValue=o}e=a.name,e!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,e!==""&&(a.name=e)}function cb$2(a,o,e){(o!=="number"||Xa$2(a.ownerDocument)!==a)&&(e==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+e&&(a.defaultValue=""+e))}var eb$2=Array.isArray;function fb$2(a,o,e,c){if(a=a.options,o){o={};for(var h=0;h<e.length;h++)o["$"+e[h]]=!0;for(e=0;e<a.length;e++)h=o.hasOwnProperty("$"+a[e].value),a[e].selected!==h&&(a[e].selected=h),h&&c&&(a[e].defaultSelected=!0)}else{for(e=""+Sa$3(e),o=null,h=0;h<a.length;h++){if(a[h].value===e){a[h].selected=!0,c&&(a[h].defaultSelected=!0);return}o!==null||a[h].disabled||(o=a[h])}o!==null&&(o.selected=!0)}}function gb$2(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb$2(a,o){var e=o.value;if(e==null){if(e=o.children,o=o.defaultValue,e!=null){if(o!=null)throw Error(p$2(92));if(eb$2(e)){if(1<e.length)throw Error(p$2(93));e=e[0]}o=e}o==null&&(o=""),e=o}a._wrapperState={initialValue:Sa$3(e)}}function ib$2(a,o){var e=Sa$3(o.value),c=Sa$3(o.defaultValue);e!=null&&(e=""+e,e!==a.value&&(a.value=e),o.defaultValue==null&&a.defaultValue!==e&&(a.defaultValue=e)),c!=null&&(a.defaultValue=""+c)}function jb$2(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function kb$2(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$2(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?kb$2(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb$1,nb$1=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,e,c,h){MSApp.execUnsafeLocalFunction(function(){return a(o,e,c,h)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb$1.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function ob$2(a,o){if(o){var e=a.firstChild;if(e&&e===a.lastChild&&e.nodeType===3){e.nodeValue=o;return}}a.textContent=o}var pb$2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$2=["Webkit","ms","Moz","O"];Object.keys(pb$2).forEach(function(a){qb$2.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),pb$2[o]=pb$2[a]})});function rb$2(a,o,e){return o==null||typeof o=="boolean"||o===""?"":e||typeof o!="number"||o===0||pb$2.hasOwnProperty(a)&&pb$2[a]?(""+o).trim():o+"px"}function sb$2(a,o){a=a.style;for(var e in o)if(o.hasOwnProperty(e)){var c=e.indexOf("--")===0,h=rb$2(e,o[e],c);e==="float"&&(e="cssFloat"),c?a.setProperty(e,h):a[e]=h}}var tb$2=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$2(a,o){if(o){if(tb$2[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$2(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$2(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$2(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$2(62))}}function vb$2(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$2=null;function xb$2(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb$2=null,zb$2=null,Ab$2=null;function Bb$2(a){if(a=Cb$2(a)){if(typeof yb$2!="function")throw Error(p$2(280));var o=a.stateNode;o&&(o=Db$2(o),yb$2(a.stateNode,a.type,o))}}function Eb$2(a){zb$2?Ab$2?Ab$2.push(a):Ab$2=[a]:zb$2=a}function Fb$1(){if(zb$2){var a=zb$2,o=Ab$2;if(Ab$2=zb$2=null,Bb$2(a),o)for(a=0;a<o.length;a++)Bb$2(o[a])}}function Gb$2(a,o){return a(o)}function Hb$2(){}var Ib$2=!1;function Jb$2(a,o,e){if(Ib$2)return a(o,e);Ib$2=!0;try{return Gb$2(a,o,e)}finally{Ib$2=!1,(zb$2!==null||Ab$2!==null)&&(Hb$2(),Fb$1())}}function Kb$2(a,o){var e=a.stateNode;if(e===null)return null;var c=Db$2(e);if(c===null)return null;e=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(e&&typeof e!="function")throw Error(p$2(231,o,typeof e));return e}var Lb$2=!1;if(ia$3)try{var Mb$2={};Object.defineProperty(Mb$2,"passive",{get:function(){Lb$2=!0}}),window.addEventListener("test",Mb$2,Mb$2),window.removeEventListener("test",Mb$2,Mb$2)}catch{Lb$2=!1}function Nb$2(a,o,e,c,h,g,b,$,j){var rt=Array.prototype.slice.call(arguments,3);try{o.apply(e,rt)}catch(nt){this.onError(nt)}}var Ob$2=!1,Pb$2=null,Qb$2=!1,Rb$2=null,Sb$2={onError:function(a){Ob$2=!0,Pb$2=a}};function Tb$2(a,o,e,c,h,g,b,$,j){Ob$2=!1,Pb$2=null,Nb$2.apply(Sb$2,arguments)}function Ub$1(a,o,e,c,h,g,b,$,j){if(Tb$2.apply(this,arguments),Ob$2){if(Ob$2){var rt=Pb$2;Ob$2=!1,Pb$2=null}else throw Error(p$2(198));Qb$2||(Qb$2=!0,Rb$2=rt)}}function Vb$1(a){var o=a,e=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(e=o.return),a=o.return;while(a)}return o.tag===3?e:null}function Wb$1(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function Xb$1(a){if(Vb$1(a)!==a)throw Error(p$2(188))}function Yb$1(a){var o=a.alternate;if(!o){if(o=Vb$1(a),o===null)throw Error(p$2(188));return o!==a?null:a}for(var e=a,c=o;;){var h=e.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){e=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===e)return Xb$1(h),a;if(g===c)return Xb$1(h),o;g=g.sibling}throw Error(p$2(188))}if(e.return!==c.return)e=h,c=g;else{for(var b=!1,$=h.child;$;){if($===e){b=!0,e=h,c=g;break}if($===c){b=!0,c=h,e=g;break}$=$.sibling}if(!b){for($=g.child;$;){if($===e){b=!0,e=g,c=h;break}if($===c){b=!0,c=g,e=h;break}$=$.sibling}if(!b)throw Error(p$2(189))}}if(e.alternate!==c)throw Error(p$2(190))}if(e.tag!==3)throw Error(p$2(188));return e.stateNode.current===e?a:o}function Zb$1(a){return a=Yb$1(a),a!==null?$b$1(a):null}function $b$1(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=$b$1(a);if(o!==null)return o;a=a.sibling}return null}var ac$1=ca$2.unstable_scheduleCallback,bc$1=ca$2.unstable_cancelCallback,cc$1=ca$2.unstable_shouldYield,dc$1=ca$2.unstable_requestPaint,B$2=ca$2.unstable_now,ec$1=ca$2.unstable_getCurrentPriorityLevel,fc$1=ca$2.unstable_ImmediatePriority,gc$1=ca$2.unstable_UserBlockingPriority,hc$1=ca$2.unstable_NormalPriority,ic$1=ca$2.unstable_LowPriority,jc$1=ca$2.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(a){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,a,void 0,(a.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(a){return a>>>=0,a===0?32:31-(pc$1(a)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc$1(a,o){var e=a.pendingLanes;if(e===0)return 0;var c=0,h=a.suspendedLanes,g=a.pingedLanes,b=e&268435455;if(b!==0){var $=b&~h;$!==0?c=tc$1($):(g&=b,g!==0&&(c=tc$1(g)))}else b=e&~h,b!==0?c=tc$1(b):g!==0&&(c=tc$1(g));if(c===0)return 0;if(o!==0&&o!==c&&!(o&h)&&(h=c&-c,g=o&-o,h>=g||h===16&&(g&4194240)!==0))return o;if(c&4&&(c|=e&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=c;0<o;)e=31-oc$1(o),h=1<<e,c|=a[e],o&=~h;return c}function vc$1(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(a,o){for(var e=a.suspendedLanes,c=a.pingedLanes,h=a.expirationTimes,g=a.pendingLanes;0<g;){var b=31-oc$1(g),$=1<<b,j=h[b];j===-1?(!($&e)||$&c)&&(h[b]=vc$1($,o)):j<=o&&(a.expiredLanes|=$),g&=~$}}function xc$1(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc$1(){var a=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),a}function zc$1(a){for(var o=[],e=0;31>e;e++)o.push(a);return o}function Ac$1(a,o,e){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-oc$1(o),a[o]=e}function Bc$1(a,o){var e=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var c=a.eventTimes;for(a=a.expirationTimes;0<e;){var h=31-oc$1(e),g=1<<h;o[h]=0,c[h]=-1,a[h]=-1,e&=~g}}function Cc$1(a,o){var e=a.entangledLanes|=o;for(a=a.entanglements;e;){var c=31-oc$1(e),h=1<<c;h&o|a[c]&o&&(a[c]|=o),e&=~h}}var C$1=0;function Dc$1(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(a,o){switch(a){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(o.pointerId)}}function Tc$1(a,o,e,c,h,g){return a===null||a.nativeEvent!==g?(a={blockedOn:o,domEventName:e,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},o!==null&&(o=Cb$2(o),o!==null&&Fc$1(o)),a):(a.eventSystemFlags|=c,o=a.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),a)}function Uc$1(a,o,e,c,h){switch(o){case"focusin":return Lc$1=Tc$1(Lc$1,a,o,e,c,h),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,a,o,e,c,h),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,a,o,e,c,h),!0;case"pointerover":var g=h.pointerId;return Oc$1.set(g,Tc$1(Oc$1.get(g)||null,a,o,e,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Pc$1.set(g,Tc$1(Pc$1.get(g)||null,a,o,e,c,h)),!0}return!1}function Vc$1(a){var o=Wc$1(a.target);if(o!==null){var e=Vb$1(o);if(e!==null){if(o=e.tag,o===13){if(o=Wb$1(e),o!==null){a.blockedOn=o,Ic$1(a.priority,function(){Gc$1(e)});return}}else if(o===3&&e.stateNode.current.memoizedState.isDehydrated){a.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc$1(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var e=Yc$1(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(e===null){e=a.nativeEvent;var c=new e.constructor(e.type,e);wb$2=c,e.target.dispatchEvent(c),wb$2=null}else return o=Cb$2(e),o!==null&&Fc$1(o),a.blockedOn=e,!1;o.shift()}return!0}function Zc$1(a,o,e){Xc$1(a)&&e.delete(o)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(a,o){a.blockedOn===o&&(a.blockedOn=null,Jc$1||(Jc$1=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$1)))}function bd$1(a){function o(h){return ad$1(h,a)}if(0<Kc$1.length){ad$1(Kc$1[0],a);for(var e=1;e<Kc$1.length;e++){var c=Kc$1[e];c.blockedOn===a&&(c.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,a),Mc$1!==null&&ad$1(Mc$1,a),Nc$1!==null&&ad$1(Nc$1,a),Oc$1.forEach(o),Pc$1.forEach(o),e=0;e<Qc$1.length;e++)c=Qc$1[e],c.blockedOn===a&&(c.blockedOn=null);for(;0<Qc$1.length&&(e=Qc$1[0],e.blockedOn===null);)Vc$1(e),e.blockedOn===null&&Qc$1.shift()}var cd$1=ua$3.ReactCurrentBatchConfig,dd$1=!0;function ed$1(a,o,e,c){var h=C$1,g=cd$1.transition;cd$1.transition=null;try{C$1=1,fd$1(a,o,e,c)}finally{C$1=h,cd$1.transition=g}}function gd$1(a,o,e,c){var h=C$1,g=cd$1.transition;cd$1.transition=null;try{C$1=4,fd$1(a,o,e,c)}finally{C$1=h,cd$1.transition=g}}function fd$1(a,o,e,c){if(dd$1){var h=Yc$1(a,o,e,c);if(h===null)hd$1(a,o,c,id$1,e),Sc$1(a,c);else if(Uc$1(h,a,o,e,c))c.stopPropagation();else if(Sc$1(a,c),o&4&&-1<Rc$1.indexOf(a)){for(;h!==null;){var g=Cb$2(h);if(g!==null&&Ec$1(g),g=Yc$1(a,o,e,c),g===null&&hd$1(a,o,c,id$1,e),g===h)break;h=g}h!==null&&c.stopPropagation()}else hd$1(a,o,c,null,e)}}var id$1=null;function Yc$1(a,o,e,c){if(id$1=null,a=xb$2(c),a=Wc$1(a),a!==null)if(o=Vb$1(a),o===null)a=null;else if(e=o.tag,e===13){if(a=Wb$1(o),a!==null)return a;a=null}else if(e===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return id$1=a,null}function jd$1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md=null;function nd(){if(md)return md;var a,o=ld$1,e=o.length,c,h="value"in kd$1?kd$1.value:kd$1.textContent,g=h.length;for(a=0;a<e&&o[a]===h[a];a++);var b=e-a;for(c=1;c<=b&&o[e-c]===h[g-c];c++);return md=h.slice(a,1<c?1-c:void 0)}function od(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function o(e,c,h,g,b){this._reactName=e,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(e=a[$],this[$]=e?e(g):g[$]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Od[a])?!!o[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var o=Md[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia$3&&"CompositionEvent"in window,be$1=null;ia$3&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia$3&&"TextEvent"in window&&!be$1,de$1=ia$3&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(a,o){switch(a){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je$1(a,o){switch(a){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return a=o.data,a===ee&&fe?null:a;default:return null}}function ke(a,o){if(ie)return a==="compositionend"||!ae&&ge(a,o)?(a=nd(),md=ld$1=kd$1=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de$1&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!le[a.type]:o==="textarea"}function ne(a,o,e,c){Eb$2(c),o=oe(o,"onChange"),0<o.length&&(e=new td("onChange","change",null,e,c),a.push({event:e,listeners:o}))}var pe$1=null,qe=null;function re(a){se(a,0)}function te(a){var o=ue(a);if(Wa$2(o))return a}function ve(a,o){if(a==="change")return o}var we$1=!1;if(ia$3){var xe$1;if(ia$3){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe$1=ye}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe=pe$1=null)}function Be$1(a){if(a.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,a,xb$2(a)),Jb$2(re,o)}}function Ce$1(a,o,e){a==="focusin"?(Ae(),pe$1=o,qe=e,pe$1.attachEvent("onpropertychange",Be$1)):a==="focusout"&&Ae()}function De$1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee$1(a,o){if(a==="click")return te(o)}function Fe$1(a,o){if(a==="input"||a==="change")return te(o)}function Ge(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(a,o){if(He$1(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var e=Object.keys(a),c=Object.keys(o);if(e.length!==c.length)return!1;for(c=0;c<e.length;c++){var h=e[c];if(!ja$2.call(o,h)||!He$1(a[h],o[h]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke$1(a,o){var e=Je(a);a=0;for(var c;e;){if(e.nodeType===3){if(c=a+e.textContent.length,a<=o&&c>=o)return{node:e,offset:o-a};a=c}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=Je(e)}}function Le$1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Le$1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var a=window,o=Xa$2();o instanceof a.HTMLIFrameElement;){try{var e=typeof o.contentWindow.location.href=="string"}catch{e=!1}if(e)a=o.contentWindow;else break;o=Xa$2(a.document)}return o}function Ne$1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Oe(a){var o=Me(),e=a.focusedElem,c=a.selectionRange;if(o!==e&&e&&e.ownerDocument&&Le$1(e.ownerDocument.documentElement,e)){if(c!==null&&Ne$1(e)){if(o=c.start,a=c.end,a===void 0&&(a=o),"selectionStart"in e)e.selectionStart=o,e.selectionEnd=Math.min(a,e.value.length);else if(a=(o=e.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var h=e.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!a.extend&&g>c&&(h=c,c=g,g=h),h=Ke$1(e,g);var b=Ke$1(e,c);h&&b&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==b.node||a.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(h.node,h.offset),a.removeAllRanges(),g>c?(a.addRange(o),a.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),a.addRange(o)))}}for(o=[],a=e;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<o.length;e++)a=o[e],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia$3&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re=null,Se$1=null,Te=!1;function Ue(a,o,e){var c=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Te||Qe$1==null||Qe$1!==Xa$2(c)||(c=Qe$1,"selectionStart"in c&&Ne$1(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se$1&&Ie$1(Se$1,c)||(Se$1=c,c=oe(Re,"onSelect"),0<c.length&&(o=new td("onSelect","select",null,o,e),a.push({event:o,listeners:c}),o.target=Qe$1)))}function Ve(a,o){var e={};return e[a.toLowerCase()]=o.toLowerCase(),e["Webkit"+a]="webkit"+o,e["Moz"+a]="moz"+o,e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia$3&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(a){if(Xe$1[a])return Xe$1[a];if(!We[a])return a;var o=We[a],e;for(e in o)if(o.hasOwnProperty(e)&&e in Ye$1)return Xe$1[a]=o[e];return a}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,o){df.set(a,o),fa$3(o,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$3("onMouseEnter",["mouseout","mouseover"]);ha$3("onMouseLeave",["mouseout","mouseover"]);ha$3("onPointerEnter",["pointerout","pointerover"]);ha$3("onPointerLeave",["pointerout","pointerover"]);fa$3("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$3("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$3("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$3("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$3("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$3("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,o,e){var c=a.type||"unknown-event";a.currentTarget=e,Ub$1(c,o,void 0,a),a.currentTarget=null}function se(a,o){o=(o&4)!==0;for(var e=0;e<a.length;e++){var c=a[e],h=c.event;c=c.listeners;e:{var g=void 0;if(o)for(var b=c.length-1;0<=b;b--){var $=c[b],j=$.instance,rt=$.currentTarget;if($=$.listener,j!==g&&h.isPropagationStopped())break e;nf(h,$,rt),g=j}else for(b=0;b<c.length;b++){if($=c[b],j=$.instance,rt=$.currentTarget,$=$.listener,j!==g&&h.isPropagationStopped())break e;nf(h,$,rt),g=j}}}if(Qb$2)throw a=Rb$2,Qb$2=!1,Rb$2=null,a}function D$1(a,o){var e=o[of];e===void 0&&(e=o[of]=new Set);var c=a+"__bubble";e.has(c)||(pf(o,a,2,!1),e.add(c))}function qf(a,o,e){var c=0;o&&(c|=4),pf(e,a,c,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da$2.forEach(function(e){e!=="selectionchange"&&(mf.has(e)||qf(e,!1,a),qf(e,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(a,o,e,c){switch(jd$1(o)){case 1:var h=ed$1;break;case 4:h=gd$1;break;default:h=fd$1}e=h.bind(null,o,e,a),h=void 0,!Lb$2||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),c?h!==void 0?a.addEventListener(o,e,{capture:!0,passive:h}):a.addEventListener(o,e,!0):h!==void 0?a.addEventListener(o,e,{passive:h}):a.addEventListener(o,e,!1)}function hd$1(a,o,e,c,h){var g=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var $=c.stateNode.containerInfo;if($===h||$.nodeType===8&&$.parentNode===h)break;if(b===4)for(b=c.return;b!==null;){var j=b.tag;if((j===3||j===4)&&(j=b.stateNode.containerInfo,j===h||j.nodeType===8&&j.parentNode===h))return;b=b.return}for(;$!==null;){if(b=Wc$1($),b===null)return;if(j=b.tag,j===5||j===6){c=g=b;continue e}$=$.parentNode}}c=c.return}Jb$2(function(){var rt=g,nt=xb$2(e),pt=[];e:{var wt=df.get(a);if(wt!==void 0){var Dt=td,Lt=a;switch(a){case"keypress":if(od(e)===0)break e;case"keydown":case"keyup":Dt=Rd;break;case"focusin":Lt="focus",Dt=Fd;break;case"focusout":Lt="blur",Dt=Fd;break;case"beforeblur":case"afterblur":Dt=Fd;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=Vd;break;case $e$1:case af:case bf:Dt=Hd;break;case cf:Dt=Xd;break;case"scroll":Dt=vd;break;case"wheel":Dt=Zd;break;case"copy":case"cut":case"paste":Dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=Td}var it=(o&4)!==0,st=!it&&a==="scroll",bt=it?wt!==null?wt+"Capture":null:wt;it=[];for(var gt=rt,Et;gt!==null;){Et=gt;var ot=Et.stateNode;if(Et.tag===5&&ot!==null&&(Et=ot,bt!==null&&(ot=Kb$2(gt,bt),ot!=null&&it.push(tf(gt,ot,Et)))),st)break;gt=gt.return}0<it.length&&(wt=new Dt(wt,Lt,null,e,nt),pt.push({event:wt,listeners:it}))}}if(!(o&7)){e:{if(wt=a==="mouseover"||a==="pointerover",Dt=a==="mouseout"||a==="pointerout",wt&&e!==wb$2&&(Lt=e.relatedTarget||e.fromElement)&&(Wc$1(Lt)||Lt[uf]))break e;if((Dt||wt)&&(wt=nt.window===nt?nt:(wt=nt.ownerDocument)?wt.defaultView||wt.parentWindow:window,Dt?(Lt=e.relatedTarget||e.toElement,Dt=rt,Lt=Lt?Wc$1(Lt):null,Lt!==null&&(st=Vb$1(Lt),Lt!==st||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Dt=null,Lt=rt),Dt!==Lt)){if(it=Bd,ot="onMouseLeave",bt="onMouseEnter",gt="mouse",(a==="pointerout"||a==="pointerover")&&(it=Td,ot="onPointerLeave",bt="onPointerEnter",gt="pointer"),st=Dt==null?wt:ue(Dt),Et=Lt==null?wt:ue(Lt),wt=new it(ot,gt+"leave",Dt,e,nt),wt.target=st,wt.relatedTarget=Et,ot=null,Wc$1(nt)===rt&&(it=new it(bt,gt+"enter",Lt,e,nt),it.target=Et,it.relatedTarget=st,ot=it),st=ot,Dt&&Lt)t:{for(it=Dt,bt=Lt,gt=0,Et=it;Et;Et=vf(Et))gt++;for(Et=0,ot=bt;ot;ot=vf(ot))Et++;for(;0<gt-Et;)it=vf(it),gt--;for(;0<Et-gt;)bt=vf(bt),Et--;for(;gt--;){if(it===bt||bt!==null&&it===bt.alternate)break t;it=vf(it),bt=vf(bt)}it=null}else it=null;Dt!==null&&wf(pt,wt,Dt,it,!1),Lt!==null&&st!==null&&wf(pt,st,Lt,it,!0)}}e:{if(wt=rt?ue(rt):window,Dt=wt.nodeName&&wt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&wt.type==="file")var _t=ve;else if(me$1(wt))if(we$1)_t=Fe$1;else{_t=De$1;var Mt=Ce$1}else(Dt=wt.nodeName)&&Dt.toLowerCase()==="input"&&(wt.type==="checkbox"||wt.type==="radio")&&(_t=Ee$1);if(_t&&(_t=_t(a,rt))){ne(pt,_t,e,nt);break e}Mt&&Mt(a,wt,rt),a==="focusout"&&(Mt=wt._wrapperState)&&Mt.controlled&&wt.type==="number"&&cb$2(wt,"number",wt.value)}switch(Mt=rt?ue(rt):window,a){case"focusin":(me$1(Mt)||Mt.contentEditable==="true")&&(Qe$1=Mt,Re=rt,Se$1=null);break;case"focusout":Se$1=Re=Qe$1=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(pt,e,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(pt,e,nt)}var Bt;if(ae)e:{switch(a){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else ie?ge(a,e)&&(It="onCompositionEnd"):a==="keydown"&&e.keyCode===229&&(It="onCompositionStart");It&&(de$1&&e.locale!=="ko"&&(ie||It!=="onCompositionStart"?It==="onCompositionEnd"&&ie&&(Bt=nd()):(kd$1=nt,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie=!0)),Mt=oe(rt,It),0<Mt.length&&(It=new Ld(It,a,null,e,nt),pt.push({event:It,listeners:Mt}),Bt?It.data=Bt:(Bt=he(e),Bt!==null&&(It.data=Bt)))),(Bt=ce?je$1(a,e):ke(a,e))&&(rt=oe(rt,"onBeforeInput"),0<rt.length&&(nt=new Ld("onBeforeInput","beforeinput",null,e,nt),pt.push({event:nt,listeners:rt}),nt.data=Bt))}se(pt,o)})}function tf(a,o,e){return{instance:a,listener:o,currentTarget:e}}function oe(a,o){for(var e=o+"Capture",c=[];a!==null;){var h=a,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Kb$2(a,e),g!=null&&c.unshift(tf(a,g,h)),g=Kb$2(a,o),g!=null&&c.push(tf(a,g,h))),a=a.return}return c}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,o,e,c,h){for(var g=o._reactName,b=[];e!==null&&e!==c;){var $=e,j=$.alternate,rt=$.stateNode;if(j!==null&&j===c)break;$.tag===5&&rt!==null&&($=rt,h?(j=Kb$2(e,g),j!=null&&b.unshift(tf(e,j,$))):h||(j=Kb$2(e,g),j!=null&&b.push(tf(e,j,$)))),e=e.return}b.length!==0&&a.push({event:o,listeners:b})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,o,e){if(o=zf(o),zf(a)!==o&&e)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,o){var e=o,c=0;do{var h=e.nextSibling;if(a.removeChild(e),h&&h.nodeType===8)if(e=h.data,e==="/$"){if(c===0){a.removeChild(h),bd$1(o);return}c--}else e!=="$"&&e!=="$?"&&e!=="$!"||c++;e=h}while(e);bd$1(o)}function Lf(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var e=a.data;if(e==="$"||e==="$!"||e==="$?"){if(o===0)return a;o--}else e==="/$"&&o++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(a){var o=a[Of];if(o)return o;for(var e=a.parentNode;e;){if(o=e[uf]||e[Of]){if(e=o.alternate,o.child!==null||e!==null&&e.child!==null)for(a=Mf(a);a!==null;){if(e=a[Of])return e;a=Mf(a)}return o}a=e,e=a.parentNode}return null}function Cb$2(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$2(33))}function Db$2(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E$2(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(a,o){Tf++,Sf[Tf]=a.current,a.current=o}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,o){var e=a.type.contextTypes;if(!e)return Vf;var c=a.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in e)h[g]=o[g];return c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=h),h}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(a,o,e){if(H$2.current!==Vf)throw Error(p$2(168));G$1(H$2,o),G$1(Wf,e)}function bg(a,o,e){var c=a.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return e;c=c.getChildContext();for(var h in c)if(!(h in o))throw Error(p$2(108,Ra$3(a)||"Unknown",h));return A$1({},e,c)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,a),G$1(Wf,Wf.current),!0}function dg(a,o,e){var c=a.stateNode;if(!c)throw Error(p$2(169));e?(a=bg(a,o,Xf),c.__reactInternalMemoizedMergedChildContext=a,E$2(Wf),E$2(H$2),G$1(H$2,a)):E$2(Wf),G$1(Wf,e)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,o=C$1;try{var e=eg;for(C$1=1;a<e.length;a++){var c=e[a];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(h){throw eg!==null&&(eg=eg.slice(a+1)),ac$1(fc$1,jg),h}finally{C$1=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,o){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=o}function ug(a,o,e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var c=rg;a=sg;var h=32-oc$1(c)-1;c&=~(1<<h),e+=1;var g=32-oc$1(o)+h;if(30<g){var b=h-h%5;g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,rg=1<<32-oc$1(o)+h|e<<h|c,sg=g+a}else rg=1<<g|e<<h|c,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(a,o){var e=Bg(5,null,null,0);e.elementType="DELETED",e.stateNode=o,e.return=a,o=a.deletions,o===null?(a.deletions=[e],a.flags|=16):o.push(e)}function Cg(a,o){switch(a.tag){case 5:var e=a.type;return o=o.nodeType!==1||e.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,xg=a,yg=Lf(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,xg=a,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(e=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:o,treeContext:e,retryLane:1073741824},e=Bg(18,null,null,0),e.stateNode=o,e.return=a,a.child=e,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I$2){var o=yg;if(o){var e=o;if(!Cg(a,o)){if(Dg(a))throw Error(p$2(418));o=Lf(e.nextSibling);var c=xg;o&&Cg(a,o)?Ag(c,e):(a.flags=a.flags&-4097|2,I$2=!1,xg=a)}}else{if(Dg(a))throw Error(p$2(418));a.flags=a.flags&-4097|2,I$2=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I$2)return Fg(a),I$2=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Ef(a.type,a.memoizedProps)),o&&(o=yg)){if(Dg(a))throw Hg(),Error(p$2(418));for(;o;)Ag(a,o),o=Lf(o.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$2(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var e=a.data;if(e==="/$"){if(o===0){yg=Lf(a.nextSibling);break e}o--}else e!=="$"&&e!=="$!"&&e!=="$?"||o++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua$3.ReactCurrentBatchConfig;function Lg(a,o){if(a&&a.defaultProps){o=A$1({},o),a=a.defaultProps;for(var e in a)o[e]===void 0&&(o[e]=a[e]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var o=Mg.current;E$2(Mg),a._currentValue=o}function Sg(a,o,e){for(;a!==null;){var c=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),a===e)break;a=a.return}}function Tg(a,o){Ng=a,Pg=Og=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(Ug=!0),a.firstContext=null)}function Vg(a){var o=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=a,Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return o}var Wg=null;function Xg(a){Wg===null?Wg=[a]:Wg.push(a)}function Yg(a,o,e,c){var h=o.interleaved;return h===null?(e.next=e,Xg(o)):(e.next=h.next,h.next=e),o.interleaved=e,Zg(a,c)}function Zg(a,o){a.lanes|=o;var e=a.alternate;for(e!==null&&(e.lanes|=o),e=a,a=a.return;a!==null;)a.childLanes|=o,e=a.alternate,e!==null&&(e.childLanes|=o),e=a,a=a.return;return e.tag===3?e.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(a,o,e){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,K$2&2){var h=c.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),c.pending=o,Zg(a,e)}return h=c.interleaved,h===null?(o.next=o,Xg(c)):(o.next=h.next,h.next=o),c.interleaved=o,Zg(a,e)}function eh(a,o,e){if(o=o.updateQueue,o!==null&&(o=o.shared,(e&4194240)!==0)){var c=o.lanes;c&=a.pendingLanes,e|=c,o.lanes=e,Cc$1(a,e)}}function fh(a,o){var e=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,e===c)){var h=null,g=null;if(e=e.firstBaseUpdate,e!==null){do{var b={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};g===null?h=g=b:g=g.next=b,e=e.next}while(e!==null);g===null?h=g=o:g=g.next=o}else h=g=o;e={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},a.updateQueue=e;return}a=e.lastBaseUpdate,a===null?e.firstBaseUpdate=o:a.next=o,e.lastBaseUpdate=o}function gh(a,o,e,c){var h=a.updateQueue;$g=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,$=h.shared.pending;if($!==null){h.shared.pending=null;var j=$,rt=j.next;j.next=null,b===null?g=rt:b.next=rt,b=j;var nt=a.alternate;nt!==null&&(nt=nt.updateQueue,$=nt.lastBaseUpdate,$!==b&&($===null?nt.firstBaseUpdate=rt:$.next=rt,nt.lastBaseUpdate=j))}if(g!==null){var pt=h.baseState;b=0,nt=rt=j=null,$=g;do{var wt=$.lane,Dt=$.eventTime;if((c&wt)===wt){nt!==null&&(nt=nt.next={eventTime:Dt,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Lt=a,it=$;switch(wt=o,Dt=e,it.tag){case 1:if(Lt=it.payload,typeof Lt=="function"){pt=Lt.call(Dt,pt,wt);break e}pt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=it.payload,wt=typeof Lt=="function"?Lt.call(Dt,pt,wt):Lt,wt==null)break e;pt=A$1({},pt,wt);break e;case 2:$g=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,wt=h.effects,wt===null?h.effects=[$]:wt.push($))}else Dt={eventTime:Dt,lane:wt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},nt===null?(rt=nt=Dt,j=pt):nt=nt.next=Dt,b|=wt;if($=$.next,$===null){if($=h.shared.pending,$===null)break;wt=$,$=wt.next,wt.next=null,h.lastBaseUpdate=wt,h.shared.pending=null}}while(!0);if(nt===null&&(j=pt),h.baseState=j,h.firstBaseUpdate=rt,h.lastBaseUpdate=nt,o=h.shared.interleaved,o!==null){h=o;do b|=h.lane,h=h.next;while(h!==o)}else g===null&&(h.shared.lanes=0);hh|=b,a.lanes=b,a.memoizedState=pt}}function ih(a,o,e){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var c=a[o],h=c.callback;if(h!==null){if(c.callback=null,c=e,typeof h!="function")throw Error(p$2(191,h));h.call(c)}}}var jh=new aa$3.Component().refs;function kh(a,o,e,c){o=a.memoizedState,e=e(c,o),e=e==null?o:A$1({},o,e),a.memoizedState=e,a.lanes===0&&(a.updateQueue.baseState=e)}var nh={isMounted:function(a){return(a=a._reactInternals)?Vb$1(a)===a:!1},enqueueSetState:function(a,o,e){a=a._reactInternals;var c=L$2(),h=lh(a),g=ch(c,h);g.payload=o,e!=null&&(g.callback=e),o=dh(a,g,h),o!==null&&(mh(o,a,h,c),eh(o,a,h))},enqueueReplaceState:function(a,o,e){a=a._reactInternals;var c=L$2(),h=lh(a),g=ch(c,h);g.tag=1,g.payload=o,e!=null&&(g.callback=e),o=dh(a,g,h),o!==null&&(mh(o,a,h,c),eh(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var e=L$2(),c=lh(a),h=ch(e,c);h.tag=2,o!=null&&(h.callback=o),o=dh(a,h,c),o!==null&&(mh(o,a,c,e),eh(o,a,c))}};function oh(a,o,e,c,h,g,b){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,g,b):o.prototype&&o.prototype.isPureReactComponent?!Ie$1(e,c)||!Ie$1(h,g):!0}function ph(a,o,e){var c=!1,h=Vf,g=o.contextType;return typeof g=="object"&&g!==null?g=Vg(g):(h=Zf(o)?Xf:H$2.current,c=o.contextTypes,g=(c=c!=null)?Yf(a,h):Vf),o=new o(e,g),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,a.stateNode=o,o._reactInternals=a,c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=h,a.__reactInternalMemoizedMaskedChildContext=g),o}function qh(a,o,e,c){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(e,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(e,c),o.state!==a&&nh.enqueueReplaceState(o,o.state,null)}function rh(a,o,e,c){var h=a.stateNode;h.props=e,h.state=a.memoizedState,h.refs=jh,ah(a);var g=o.contextType;typeof g=="object"&&g!==null?h.context=Vg(g):(g=Zf(o)?Xf:H$2.current,h.context=Yf(a,g)),h.state=a.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(kh(a,o,g,e),h.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(o=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),o!==h.state&&nh.enqueueReplaceState(h,h.state,null),gh(a,e,h,c),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308)}function sh(a,o,e){if(a=e.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(p$2(309));var c=e.stateNode}if(!c)throw Error(p$2(147,a));var h=c,g=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(b){var $=h.refs;$===jh&&($=h.refs={}),b===null?delete $[g]:$[g]=b},o._stringRef=g,o)}if(typeof a!="string")throw Error(p$2(284));if(!e._owner)throw Error(p$2(290,a))}return a}function th(a,o){throw a=Object.prototype.toString.call(o),Error(p$2(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function uh(a){var o=a._init;return o(a._payload)}function vh(a){function o(bt,gt){if(a){var Et=bt.deletions;Et===null?(bt.deletions=[gt],bt.flags|=16):Et.push(gt)}}function e(bt,gt){if(!a)return null;for(;gt!==null;)o(bt,gt),gt=gt.sibling;return null}function c(bt,gt){for(bt=new Map;gt!==null;)gt.key!==null?bt.set(gt.key,gt):bt.set(gt.index,gt),gt=gt.sibling;return bt}function h(bt,gt){return bt=wh(bt,gt),bt.index=0,bt.sibling=null,bt}function g(bt,gt,Et){return bt.index=Et,a?(Et=bt.alternate,Et!==null?(Et=Et.index,Et<gt?(bt.flags|=2,gt):Et):(bt.flags|=2,gt)):(bt.flags|=1048576,gt)}function b(bt){return a&&bt.alternate===null&&(bt.flags|=2),bt}function $(bt,gt,Et,ot){return gt===null||gt.tag!==6?(gt=xh(Et,bt.mode,ot),gt.return=bt,gt):(gt=h(gt,Et),gt.return=bt,gt)}function j(bt,gt,Et,ot){var _t=Et.type;return _t===ya$3?nt(bt,gt,Et.props.children,ot,Et.key):gt!==null&&(gt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha$3&&uh(_t)===gt.type)?(ot=h(gt,Et.props),ot.ref=sh(bt,gt,Et),ot.return=bt,ot):(ot=yh(Et.type,Et.key,Et.props,null,bt.mode,ot),ot.ref=sh(bt,gt,Et),ot.return=bt,ot)}function rt(bt,gt,Et,ot){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Et.containerInfo||gt.stateNode.implementation!==Et.implementation?(gt=zh(Et,bt.mode,ot),gt.return=bt,gt):(gt=h(gt,Et.children||[]),gt.return=bt,gt)}function nt(bt,gt,Et,ot,_t){return gt===null||gt.tag!==7?(gt=Ah(Et,bt.mode,ot,_t),gt.return=bt,gt):(gt=h(gt,Et),gt.return=bt,gt)}function pt(bt,gt,Et){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=xh(""+gt,bt.mode,Et),gt.return=bt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va$3:return Et=yh(gt.type,gt.key,gt.props,null,bt.mode,Et),Et.ref=sh(bt,null,gt),Et.return=bt,Et;case wa$3:return gt=zh(gt,bt.mode,Et),gt.return=bt,gt;case Ha$3:var ot=gt._init;return pt(bt,ot(gt._payload),Et)}if(eb$2(gt)||Ka$3(gt))return gt=Ah(gt,bt.mode,Et,null),gt.return=bt,gt;th(bt,gt)}return null}function wt(bt,gt,Et,ot){var _t=gt!==null?gt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return _t!==null?null:$(bt,gt,""+Et,ot);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va$3:return Et.key===_t?j(bt,gt,Et,ot):null;case wa$3:return Et.key===_t?rt(bt,gt,Et,ot):null;case Ha$3:return _t=Et._init,wt(bt,gt,_t(Et._payload),ot)}if(eb$2(Et)||Ka$3(Et))return _t!==null?null:nt(bt,gt,Et,ot,null);th(bt,Et)}return null}function Dt(bt,gt,Et,ot,_t){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return bt=bt.get(Et)||null,$(gt,bt,""+ot,_t);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va$3:return bt=bt.get(ot.key===null?Et:ot.key)||null,j(gt,bt,ot,_t);case wa$3:return bt=bt.get(ot.key===null?Et:ot.key)||null,rt(gt,bt,ot,_t);case Ha$3:var Mt=ot._init;return Dt(bt,gt,Et,Mt(ot._payload),_t)}if(eb$2(ot)||Ka$3(ot))return bt=bt.get(Et)||null,nt(gt,bt,ot,_t,null);th(gt,ot)}return null}function Lt(bt,gt,Et,ot){for(var _t=null,Mt=null,Bt=gt,It=gt=0,jt=null;Bt!==null&&It<Et.length;It++){Bt.index>It?(jt=Bt,Bt=null):jt=Bt.sibling;var tr=wt(bt,Bt,Et[It],ot);if(tr===null){Bt===null&&(Bt=jt);break}a&&Bt&&tr.alternate===null&&o(bt,Bt),gt=g(tr,gt,It),Mt===null?_t=tr:Mt.sibling=tr,Mt=tr,Bt=jt}if(It===Et.length)return e(bt,Bt),I$2&&tg(bt,It),_t;if(Bt===null){for(;It<Et.length;It++)Bt=pt(bt,Et[It],ot),Bt!==null&&(gt=g(Bt,gt,It),Mt===null?_t=Bt:Mt.sibling=Bt,Mt=Bt);return I$2&&tg(bt,It),_t}for(Bt=c(bt,Bt);It<Et.length;It++)jt=Dt(Bt,bt,It,Et[It],ot),jt!==null&&(a&&jt.alternate!==null&&Bt.delete(jt.key===null?It:jt.key),gt=g(jt,gt,It),Mt===null?_t=jt:Mt.sibling=jt,Mt=jt);return a&&Bt.forEach(function(gr){return o(bt,gr)}),I$2&&tg(bt,It),_t}function it(bt,gt,Et,ot){var _t=Ka$3(Et);if(typeof _t!="function")throw Error(p$2(150));if(Et=_t.call(Et),Et==null)throw Error(p$2(151));for(var Mt=_t=null,Bt=gt,It=gt=0,jt=null,tr=Et.next();Bt!==null&&!tr.done;It++,tr=Et.next()){Bt.index>It?(jt=Bt,Bt=null):jt=Bt.sibling;var gr=wt(bt,Bt,tr.value,ot);if(gr===null){Bt===null&&(Bt=jt);break}a&&Bt&&gr.alternate===null&&o(bt,Bt),gt=g(gr,gt,It),Mt===null?_t=gr:Mt.sibling=gr,Mt=gr,Bt=jt}if(tr.done)return e(bt,Bt),I$2&&tg(bt,It),_t;if(Bt===null){for(;!tr.done;It++,tr=Et.next())tr=pt(bt,tr.value,ot),tr!==null&&(gt=g(tr,gt,It),Mt===null?_t=tr:Mt.sibling=tr,Mt=tr);return I$2&&tg(bt,It),_t}for(Bt=c(bt,Bt);!tr.done;It++,tr=Et.next())tr=Dt(Bt,bt,It,tr.value,ot),tr!==null&&(a&&tr.alternate!==null&&Bt.delete(tr.key===null?It:tr.key),gt=g(tr,gt,It),Mt===null?_t=tr:Mt.sibling=tr,Mt=tr);return a&&Bt.forEach(function(vr){return o(bt,vr)}),I$2&&tg(bt,It),_t}function st(bt,gt,Et,ot){if(typeof Et=="object"&&Et!==null&&Et.type===ya$3&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va$3:e:{for(var _t=Et.key,Mt=gt;Mt!==null;){if(Mt.key===_t){if(_t=Et.type,_t===ya$3){if(Mt.tag===7){e(bt,Mt.sibling),gt=h(Mt,Et.props.children),gt.return=bt,bt=gt;break e}}else if(Mt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha$3&&uh(_t)===Mt.type){e(bt,Mt.sibling),gt=h(Mt,Et.props),gt.ref=sh(bt,Mt,Et),gt.return=bt,bt=gt;break e}e(bt,Mt);break}else o(bt,Mt);Mt=Mt.sibling}Et.type===ya$3?(gt=Ah(Et.props.children,bt.mode,ot,Et.key),gt.return=bt,bt=gt):(ot=yh(Et.type,Et.key,Et.props,null,bt.mode,ot),ot.ref=sh(bt,gt,Et),ot.return=bt,bt=ot)}return b(bt);case wa$3:e:{for(Mt=Et.key;gt!==null;){if(gt.key===Mt)if(gt.tag===4&&gt.stateNode.containerInfo===Et.containerInfo&&gt.stateNode.implementation===Et.implementation){e(bt,gt.sibling),gt=h(gt,Et.children||[]),gt.return=bt,bt=gt;break e}else{e(bt,gt);break}else o(bt,gt);gt=gt.sibling}gt=zh(Et,bt.mode,ot),gt.return=bt,bt=gt}return b(bt);case Ha$3:return Mt=Et._init,st(bt,gt,Mt(Et._payload),ot)}if(eb$2(Et))return Lt(bt,gt,Et,ot);if(Ka$3(Et))return it(bt,gt,Et,ot);th(bt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,gt!==null&&gt.tag===6?(e(bt,gt.sibling),gt=h(gt,Et),gt.return=bt,bt=gt):(e(bt,gt),gt=xh(Et,bt.mode,ot),gt.return=bt,bt=gt),b(bt)):e(bt,gt)}return st}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p$2(174));return a}function Ih(a,o){switch(G$1(Gh,o),G$1(Fh,a),G$1(Eh,Dh),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb$2(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=lb$2(o,a)}E$2(Eh),G$1(Eh,o)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(a){Hh(Gh.current);var o=Hh(Eh.current),e=lb$2(o,a.type);o!==e&&(G$1(Fh,a),G$1(Eh,e))}function Lh(a){Fh.current===a&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(a){for(var o=a;o!==null;){if(o.tag===13){var e=o.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$3.ReactCurrentDispatcher,Qh=ua$3.ReactCurrentBatchConfig,Rh=0,N$3=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$2(321))}function Wh(a,o){if(o===null)return!1;for(var e=0;e<o.length&&e<a.length;e++)if(!He$1(a[e],o[e]))return!1;return!0}function Xh(a,o,e,c,h,g){if(Rh=g,N$3=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=a===null||a.memoizedState===null?Yh:Zh,a=e(c,h),Th){g=0;do{if(Th=!1,Uh=0,25<=g)throw Error(p$2(301));g+=1,P$2=O$2=null,o.updateQueue=null,Ph.current=$h,a=e(c,h)}while(Th)}if(Ph.current=ai$1,o=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$3=null,Sh=!1,o)throw Error(p$2(300));return a}function bi$1(){var a=Uh!==0;return Uh=0,a}function ci$1(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$3.memoizedState=P$2=a:P$2=P$2.next=a,P$2}function di$1(){if(O$2===null){var a=N$3.alternate;a=a!==null?a.memoizedState:null}else a=O$2.next;var o=P$2===null?N$3.memoizedState:P$2.next;if(o!==null)P$2=o,O$2=a;else{if(a===null)throw Error(p$2(310));O$2=a,a={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$3.memoizedState=P$2=a:P$2=P$2.next=a}return P$2}function ei$1(a,o){return typeof o=="function"?o(a):o}function fi$1(a){var o=di$1(),e=o.queue;if(e===null)throw Error(p$2(311));e.lastRenderedReducer=a;var c=O$2,h=c.baseQueue,g=e.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}c.baseQueue=h=g,e.pending=null}if(h!==null){g=h.next,c=c.baseState;var $=b=null,j=null,rt=g;do{var nt=rt.lane;if((Rh&nt)===nt)j!==null&&(j=j.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),c=rt.hasEagerState?rt.eagerState:a(c,rt.action);else{var pt={lane:nt,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};j===null?($=j=pt,b=c):j=j.next=pt,N$3.lanes|=nt,hh|=nt}rt=rt.next}while(rt!==null&&rt!==g);j===null?b=c:j.next=$,He$1(c,o.memoizedState)||(Ug=!0),o.memoizedState=c,o.baseState=b,o.baseQueue=j,e.lastRenderedState=c}if(a=e.interleaved,a!==null){h=a;do g=h.lane,N$3.lanes|=g,hh|=g,h=h.next;while(h!==a)}else h===null&&(e.lanes=0);return[o.memoizedState,e.dispatch]}function gi$1(a){var o=di$1(),e=o.queue;if(e===null)throw Error(p$2(311));e.lastRenderedReducer=a;var c=e.dispatch,h=e.pending,g=o.memoizedState;if(h!==null){e.pending=null;var b=h=h.next;do g=a(g,b.action),b=b.next;while(b!==h);He$1(g,o.memoizedState)||(Ug=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),e.lastRenderedState=g}return[g,c]}function hi$1(){}function ii$1(a,o){var e=N$3,c=di$1(),h=o(),g=!He$1(c.memoizedState,h);if(g&&(c.memoizedState=h,Ug=!0),c=c.queue,ji$1(ki$1.bind(null,e,c,a),[a]),c.getSnapshot!==o||g||P$2!==null&&P$2.memoizedState.tag&1){if(e.flags|=2048,li$1(9,mi$1.bind(null,e,c,h,o),void 0,null),R$2===null)throw Error(p$2(349));Rh&30||ni$1(e,o,h)}return h}function ni$1(a,o,e){a.flags|=16384,a={getSnapshot:o,value:e},o=N$3.updateQueue,o===null?(o={lastEffect:null,stores:null},N$3.updateQueue=o,o.stores=[a]):(e=o.stores,e===null?o.stores=[a]:e.push(a))}function mi$1(a,o,e,c){o.value=e,o.getSnapshot=c,oi$1(o)&&pi$1(a)}function ki$1(a,o,e){return e(function(){oi$1(o)&&pi$1(a)})}function oi$1(a){var o=a.getSnapshot;a=a.value;try{var e=o();return!He$1(a,e)}catch{return!0}}function pi$1(a){var o=Zg(a,1);o!==null&&mh(o,a,1,-1)}function qi$1(a){var o=ci$1();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei$1,lastRenderedState:a},o.queue=a,a=a.dispatch=ri$1.bind(null,N$3,a),[o.memoizedState,a]}function li$1(a,o,e,c){return a={tag:a,create:o,destroy:e,deps:c,next:null},o=N$3.updateQueue,o===null?(o={lastEffect:null,stores:null},N$3.updateQueue=o,o.lastEffect=a.next=a):(e=o.lastEffect,e===null?o.lastEffect=a.next=a:(c=e.next,e.next=a,a.next=c,o.lastEffect=a)),a}function si$1(){return di$1().memoizedState}function ti$1(a,o,e,c){var h=ci$1();N$3.flags|=a,h.memoizedState=li$1(1|o,e,void 0,c===void 0?null:c)}function ui$1(a,o,e,c){var h=di$1();c=c===void 0?null:c;var g=void 0;if(O$2!==null){var b=O$2.memoizedState;if(g=b.destroy,c!==null&&Wh(c,b.deps)){h.memoizedState=li$1(o,e,g,c);return}}N$3.flags|=a,h.memoizedState=li$1(1|o,e,g,c)}function vi$1(a,o){return ti$1(8390656,8,a,o)}function ji$1(a,o){return ui$1(2048,8,a,o)}function wi$1(a,o){return ui$1(4,2,a,o)}function xi$1(a,o){return ui$1(4,4,a,o)}function yi$1(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function zi$1(a,o,e){return e=e!=null?e.concat([a]):null,ui$1(4,4,yi$1.bind(null,o,a),e)}function Ai$1(){}function Bi$1(a,o){var e=di$1();o=o===void 0?null:o;var c=e.memoizedState;return c!==null&&o!==null&&Wh(o,c[1])?c[0]:(e.memoizedState=[a,o],a)}function Ci$1(a,o){var e=di$1();o=o===void 0?null:o;var c=e.memoizedState;return c!==null&&o!==null&&Wh(o,c[1])?c[0]:(a=a(),e.memoizedState=[a,o],a)}function Di$1(a,o,e){return Rh&21?(He$1(e,o)||(e=yc$1(),N$3.lanes|=e,hh|=e,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=e)}function Ei$1(a,o){var e=C$1;C$1=e!==0&&4>e?e:4,a(!0);var c=Qh.transition;Qh.transition={};try{a(!1),o()}finally{C$1=e,Qh.transition=c}}function Fi$1(){return di$1().memoizedState}function Gi$1(a,o,e){var c=lh(a);if(e={lane:c,action:e,hasEagerState:!1,eagerState:null,next:null},Hi$1(a))Ii$1(o,e);else if(e=Yg(a,o,e,c),e!==null){var h=L$2();mh(e,a,c,h),Ji$1(e,o,c)}}function ri$1(a,o,e){var c=lh(a),h={lane:c,action:e,hasEagerState:!1,eagerState:null,next:null};if(Hi$1(a))Ii$1(o,h);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var b=o.lastRenderedState,$=g(b,e);if(h.hasEagerState=!0,h.eagerState=$,He$1($,b)){var j=o.interleaved;j===null?(h.next=h,Xg(o)):(h.next=j.next,j.next=h),o.interleaved=h;return}}catch{}finally{}e=Yg(a,o,h,c),e!==null&&(h=L$2(),mh(e,a,c,h),Ji$1(e,o,c))}}function Hi$1(a){var o=a.alternate;return a===N$3||o!==null&&o===N$3}function Ii$1(a,o){Th=Sh=!0;var e=a.pending;e===null?o.next=o:(o.next=e.next,e.next=o),a.pending=o}function Ji$1(a,o,e){if(e&4194240){var c=o.lanes;c&=a.pendingLanes,e|=c,o.lanes=e,Cc$1(a,e)}}var ai$1={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,o){return ci$1().memoizedState=[a,o===void 0?null:o],a},useContext:Vg,useEffect:vi$1,useImperativeHandle:function(a,o,e){return e=e!=null?e.concat([a]):null,ti$1(4194308,4,yi$1.bind(null,o,a),e)},useLayoutEffect:function(a,o){return ti$1(4194308,4,a,o)},useInsertionEffect:function(a,o){return ti$1(4,2,a,o)},useMemo:function(a,o){var e=ci$1();return o=o===void 0?null:o,a=a(),e.memoizedState=[a,o],a},useReducer:function(a,o,e){var c=ci$1();return o=e!==void 0?e(o):o,c.memoizedState=c.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},c.queue=a,a=a.dispatch=Gi$1.bind(null,N$3,a),[c.memoizedState,a]},useRef:function(a){var o=ci$1();return a={current:a},o.memoizedState=a},useState:qi$1,useDebugValue:Ai$1,useDeferredValue:function(a){return ci$1().memoizedState=a},useTransition:function(){var a=qi$1(!1),o=a[0];return a=Ei$1.bind(null,a[1]),ci$1().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,e){var c=N$3,h=ci$1();if(I$2){if(e===void 0)throw Error(p$2(407));e=e()}else{if(e=o(),R$2===null)throw Error(p$2(349));Rh&30||ni$1(c,o,e)}h.memoizedState=e;var g={value:e,getSnapshot:o};return h.queue=g,vi$1(ki$1.bind(null,c,g,a),[a]),c.flags|=2048,li$1(9,mi$1.bind(null,c,g,e,o),void 0,null),e},useId:function(){var a=ci$1(),o=R$2.identifierPrefix;if(I$2){var e=sg,c=rg;e=(c&~(1<<32-oc$1(c)-1)).toString(32)+e,o=":"+o+"R"+e,e=Uh++,0<e&&(o+="H"+e.toString(32)),o+=":"}else e=Vh++,o=":"+o+"r"+e.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$1,useReducer:fi$1,useRef:si$1,useState:function(){return fi$1(ei$1)},useDebugValue:Ai$1,useDeferredValue:function(a){var o=di$1();return Di$1(o,O$2.memoizedState,a)},useTransition:function(){var a=fi$1(ei$1)[0],o=di$1().memoizedState;return[a,o]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$1,useReducer:gi$1,useRef:si$1,useState:function(){return gi$1(ei$1)},useDebugValue:Ai$1,useDeferredValue:function(a){var o=di$1();return O$2===null?o.memoizedState=a:Di$1(o,O$2.memoizedState,a)},useTransition:function(){var a=gi$1(ei$1)[0],o=di$1().memoizedState;return[a,o]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1};function Ki$1(a,o){try{var e="",c=o;do e+=Pa$2(c),c=c.return;while(c);var h=e}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:a,source:o,stack:h,digest:null}}function Li$1(a,o,e){return{value:a,source:null,stack:e??null,digest:o??null}}function Mi$1(a,o){try{console.error(o.value)}catch(e){setTimeout(function(){throw e})}}var Ni$1=typeof WeakMap=="function"?WeakMap:Map;function Oi$1(a,o,e){e=ch(-1,e),e.tag=3,e.payload={element:null};var c=o.value;return e.callback=function(){Pi$1||(Pi$1=!0,Qi$1=c),Mi$1(a,o)},e}function Ri$1(a,o,e){e=ch(-1,e),e.tag=3;var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;e.payload=function(){return c(h)},e.callback=function(){Mi$1(a,o)}}var g=a.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Mi$1(a,o),typeof c!="function"&&(Si$1===null?Si$1=new Set([this]):Si$1.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),e}function Ti$1(a,o,e){var c=a.pingCache;if(c===null){c=a.pingCache=new Ni$1;var h=new Set;c.set(o,h)}else h=c.get(o),h===void 0&&(h=new Set,c.set(o,h));h.has(e)||(h.add(e),a=Ui$1.bind(null,a,o,e),o.then(a,a))}function Vi$1(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function Wi$1(a,o,e,c,h){return a.mode&1?(a.flags|=65536,a.lanes=h,a):(a===o?a.flags|=65536:(a.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(o=ch(-1,1),o.tag=2,dh(e,o,1))),e.lanes|=1),a)}var Xi$1=ua$3.ReactCurrentOwner,Ug=!1;function Yi$1(a,o,e,c){o.child=a===null?Ch(o,null,e,c):Bh(o,a.child,e,c)}function Zi$1(a,o,e,c,h){e=e.render;var g=o.ref;return Tg(o,h),c=Xh(a,o,e,c,g,h),e=bi$1(),a!==null&&!Ug?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~h,$i$1(a,o,h)):(I$2&&e&&vg(o),o.flags|=1,Yi$1(a,o,c,h),o.child)}function aj(a,o,e,c,h){if(a===null){var g=e.type;return typeof g=="function"&&!bj(g)&&g.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(o.tag=15,o.type=g,cj(a,o,g,c,h)):(a=yh(e.type,null,c,o,o.mode,h),a.ref=o.ref,a.return=o,o.child=a)}if(g=a.child,!(a.lanes&h)){var b=g.memoizedProps;if(e=e.compare,e=e!==null?e:Ie$1,e(b,c)&&a.ref===o.ref)return $i$1(a,o,h)}return o.flags|=1,a=wh(g,c),a.ref=o.ref,a.return=o,o.child=a}function cj(a,o,e,c,h){if(a!==null){var g=a.memoizedProps;if(Ie$1(g,c)&&a.ref===o.ref)if(Ug=!1,o.pendingProps=c=g,(a.lanes&h)!==0)a.flags&131072&&(Ug=!0);else return o.lanes=a.lanes,$i$1(a,o,h)}return dj(a,o,e,c,h)}function ej(a,o,e){var c=o.pendingProps,h=c.children,g=a!==null?a.memoizedState:null;if(c.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=e;else{if(!(e&1073741824))return a=g!==null?g.baseLanes|e:e,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,G$1(fj,gj),gj|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:e,G$1(fj,gj),gj|=c}else g!==null?(c=g.baseLanes|e,o.memoizedState=null):c=e,G$1(fj,gj),gj|=c;return Yi$1(a,o,h,e),o.child}function hj(a,o){var e=o.ref;(a===null&&e!==null||a!==null&&a.ref!==e)&&(o.flags|=512,o.flags|=2097152)}function dj(a,o,e,c,h){var g=Zf(e)?Xf:H$2.current;return g=Yf(o,g),Tg(o,h),e=Xh(a,o,e,c,g,h),c=bi$1(),a!==null&&!Ug?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~h,$i$1(a,o,h)):(I$2&&c&&vg(o),o.flags|=1,Yi$1(a,o,e,h),o.child)}function ij(a,o,e,c,h){if(Zf(e)){var g=!0;cg(o)}else g=!1;if(Tg(o,h),o.stateNode===null)jj(a,o),ph(o,e,c),rh(o,e,c,h),c=!0;else if(a===null){var b=o.stateNode,$=o.memoizedProps;b.props=$;var j=b.context,rt=e.contextType;typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(e)?Xf:H$2.current,rt=Yf(o,rt));var nt=e.getDerivedStateFromProps,pt=typeof nt=="function"||typeof b.getSnapshotBeforeUpdate=="function";pt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==c||j!==rt)&&qh(o,b,c,rt),$g=!1;var wt=o.memoizedState;b.state=wt,gh(o,c,b,h),j=o.memoizedState,$!==c||wt!==j||Wf.current||$g?(typeof nt=="function"&&(kh(o,e,nt,c),j=o.memoizedState),($=$g||oh(o,e,$,c,wt,j,rt))?(pt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=j),b.props=c,b.state=j,b.context=rt,c=$):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{b=o.stateNode,bh(a,o),$=o.memoizedProps,rt=o.type===o.elementType?$:Lg(o.type,$),b.props=rt,pt=o.pendingProps,wt=b.context,j=e.contextType,typeof j=="object"&&j!==null?j=Vg(j):(j=Zf(e)?Xf:H$2.current,j=Yf(o,j));var Dt=e.getDerivedStateFromProps;(nt=typeof Dt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==pt||wt!==j)&&qh(o,b,c,j),$g=!1,wt=o.memoizedState,b.state=wt,gh(o,c,b,h);var Lt=o.memoizedState;$!==pt||wt!==Lt||Wf.current||$g?(typeof Dt=="function"&&(kh(o,e,Dt,c),Lt=o.memoizedState),(rt=$g||oh(o,e,rt,c,wt,Lt,j)||!1)?(nt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Lt,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Lt,j)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||$===a.memoizedProps&&wt===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&wt===a.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Lt),b.props=c,b.state=Lt,b.context=j,c=rt):(typeof b.componentDidUpdate!="function"||$===a.memoizedProps&&wt===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&wt===a.memoizedState||(o.flags|=1024),c=!1)}return kj(a,o,e,c,g,h)}function kj(a,o,e,c,h,g){hj(a,o);var b=(o.flags&128)!==0;if(!c&&!b)return h&&dg(o,e,!1),$i$1(a,o,g);c=o.stateNode,Xi$1.current=o;var $=b&&typeof e.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,a!==null&&b?(o.child=Bh(o,a.child,null,g),o.child=Bh(o,null,$,g)):Yi$1(a,o,$,g),o.memoizedState=c.state,h&&dg(o,e,!0),o.child}function lj(a){var o=a.stateNode;o.pendingContext?ag(a,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(a,o.context,!1),Ih(a,o.containerInfo)}function mj(a,o,e,c,h){return Ig(),Jg(h),o.flags|=256,Yi$1(a,o,e,c),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}function pj(a,o,e){var c=o.pendingProps,h=M$2.current,g=!1,b=(o.flags&128)!==0,$;if(($=b)||($=a!==null&&a.memoizedState===null?!1:(h&2)!==0),$?(g=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(h|=1),G$1(M$2,h&1),a===null)return Eg(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(b=c.children,a=c.fallback,g?(c=o.mode,g=o.child,b={mode:"hidden",children:b},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=b):g=qj(b,c,0,null),a=Ah(a,c,e,null),g.return=o,a.return=o,g.sibling=a,o.child=g,o.child.memoizedState=oj(e),o.memoizedState=nj,a):rj(o,b));if(h=a.memoizedState,h!==null&&($=h.dehydrated,$!==null))return sj(a,o,b,c,$,h,e);if(g){g=c.fallback,b=o.mode,h=a.child,$=h.sibling;var j={mode:"hidden",children:c.children};return!(b&1)&&o.child!==h?(c=o.child,c.childLanes=0,c.pendingProps=j,o.deletions=null):(c=wh(h,j),c.subtreeFlags=h.subtreeFlags&14680064),$!==null?g=wh($,g):(g=Ah(g,b,e,null),g.flags|=2),g.return=o,c.return=o,c.sibling=g,o.child=c,c=g,g=o.child,b=a.child.memoizedState,b=b===null?oj(e):{baseLanes:b.baseLanes|e,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=a.childLanes&~e,o.memoizedState=nj,c}return g=a.child,a=g.sibling,c=wh(g,{mode:"visible",children:c.children}),!(o.mode&1)&&(c.lanes=e),c.return=o,c.sibling=null,a!==null&&(e=o.deletions,e===null?(o.deletions=[a],o.flags|=16):e.push(a)),o.child=c,o.memoizedState=null,c}function rj(a,o){return o=qj({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function tj(a,o,e,c){return c!==null&&Jg(c),Bh(o,a.child,null,e),a=rj(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function sj(a,o,e,c,h,g,b){if(e)return o.flags&256?(o.flags&=-257,c=Li$1(Error(p$2(422))),tj(a,o,b,c)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(g=c.fallback,h=o.mode,c=qj({mode:"visible",children:c.children},h,0,null),g=Ah(g,h,b,null),g.flags|=2,c.return=o,g.return=o,c.sibling=g,o.child=c,o.mode&1&&Bh(o,a.child,null,b),o.child.memoizedState=oj(b),o.memoizedState=nj,g);if(!(o.mode&1))return tj(a,o,b,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var $=c.dgst;return c=$,g=Error(p$2(419)),c=Li$1(g,c,void 0),tj(a,o,b,c)}if($=(b&a.childLanes)!==0,Ug||$){if(c=R$2,c!==null){switch(b&-b){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|b)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Zg(a,h),mh(c,a,h,-1))}return uj(),c=Li$1(Error(p$2(421))),tj(a,o,b,c)}return h.data==="$?"?(o.flags|=128,o.child=a.child,o=vj.bind(null,a),h._reactRetry=o,null):(a=g.treeContext,yg=Lf(h.nextSibling),xg=o,I$2=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=o),o=rj(o,c.children),o.flags|=4096,o)}function wj(a,o,e){a.lanes|=o;var c=a.alternate;c!==null&&(c.lanes|=o),Sg(a.return,o,e)}function xj(a,o,e,c,h){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:e,tailMode:h}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=e,g.tailMode=h)}function yj(a,o,e){var c=o.pendingProps,h=c.revealOrder,g=c.tail;if(Yi$1(a,o,c.children,e),c=M$2.current,c&2)c=c&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wj(a,e,o);else if(a.tag===19)wj(a,e,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}if(G$1(M$2,c),!(o.mode&1))o.memoizedState=null;else switch(h){case"forwards":for(e=o.child,h=null;e!==null;)a=e.alternate,a!==null&&Mh(a)===null&&(h=e),e=e.sibling;e=h,e===null?(h=o.child,o.child=null):(h=e.sibling,e.sibling=null),xj(o,!1,h,e,g);break;case"backwards":for(e=null,h=o.child,o.child=null;h!==null;){if(a=h.alternate,a!==null&&Mh(a)===null){o.child=h;break}a=h.sibling,h.sibling=e,e=h,h=a}xj(o,!0,e,null,g);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function $i$1(a,o,e){if(a!==null&&(o.dependencies=a.dependencies),hh|=o.lanes,!(e&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(p$2(153));if(o.child!==null){for(a=o.child,e=wh(a,a.pendingProps),o.child=e,e.return=o;a.sibling!==null;)a=a.sibling,e=e.sibling=wh(a,a.pendingProps),e.return=o;e.sibling=null}return o.child}function zj(a,o,e){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,h=o.memoizedProps.value;G$1(Mg,c._currentValue),c._currentValue=h;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(G$1(M$2,M$2.current&1),o.flags|=128,null):e&o.child.childLanes?pj(a,o,e):(G$1(M$2,M$2.current&1),a=$i$1(a,o,e),a!==null?a.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(c=(e&o.childLanes)!==0,a.flags&128){if(c)return yj(a,o,e);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G$1(M$2,M$2.current),c)break;return null;case 22:case 23:return o.lanes=0,ej(a,o,e)}return $i$1(a,o,e)}var Aj,Bj,Cj,Dj;Aj=function(a,o){for(var e=o.child;e!==null;){if(e.tag===5||e.tag===6)a.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Bj=function(){};Cj=function(a,o,e,c){var h=a.memoizedProps;if(h!==c){a=o.stateNode,Hh(Eh.current);var g=null;switch(e){case"input":h=Ya$2(a,h),c=Ya$2(a,c),g=[];break;case"select":h=A$1({},h,{value:void 0}),c=A$1({},c,{value:void 0}),g=[];break;case"textarea":h=gb$2(a,h),c=gb$2(a,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(a.onclick=Bf)}ub$2(e,c);var b;e=null;for(rt in h)if(!c.hasOwnProperty(rt)&&h.hasOwnProperty(rt)&&h[rt]!=null)if(rt==="style"){var $=h[rt];for(b in $)$.hasOwnProperty(b)&&(e||(e={}),e[b]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea$2.hasOwnProperty(rt)?g||(g=[]):(g=g||[]).push(rt,null));for(rt in c){var j=c[rt];if($=h!=null?h[rt]:void 0,c.hasOwnProperty(rt)&&j!==$&&(j!=null||$!=null))if(rt==="style")if($){for(b in $)!$.hasOwnProperty(b)||j&&j.hasOwnProperty(b)||(e||(e={}),e[b]="");for(b in j)j.hasOwnProperty(b)&&$[b]!==j[b]&&(e||(e={}),e[b]=j[b])}else e||(g||(g=[]),g.push(rt,e)),e=j;else rt==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,$=$?$.__html:void 0,j!=null&&$!==j&&(g=g||[]).push(rt,j)):rt==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(rt,""+j):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(rt)?(j!=null&&rt==="onScroll"&&D$1("scroll",a),g||$===j||(g=[])):(g=g||[]).push(rt,j))}e&&(g=g||[]).push("style",e);var rt=g;(o.updateQueue=rt)&&(o.flags|=4)}};Dj=function(a,o,e,c){e!==c&&(o.flags|=4)};function Ej(a,o){if(!I$2)switch(a.tailMode){case"hidden":o=a.tail;for(var e=null;o!==null;)o.alternate!==null&&(e=o),o=o.sibling;e===null?a.tail=null:e.sibling=null;break;case"collapsed":e=a.tail;for(var c=null;e!==null;)e.alternate!==null&&(c=e),e=e.sibling;c===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function S$2(a){var o=a.alternate!==null&&a.alternate.child===a.child,e=0,c=0;if(o)for(var h=a.child;h!==null;)e|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=a,h=h.sibling;else for(h=a.child;h!==null;)e|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=a,h=h.sibling;return a.subtreeFlags|=c,a.childLanes=e,o}function Fj(a,o,e){var c=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(o),null;case 1:return Zf(o.type)&&$f(),S$2(o),null;case 3:return c=o.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Gg(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(a,o),S$2(o),null;case 5:Lh(o);var h=Hh(Gh.current);if(e=o.type,a!==null&&o.stateNode!=null)Cj(a,o,e,c,h),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(p$2(166));return S$2(o),null}if(a=Hh(Eh.current),Gg(o)){c=o.stateNode,e=o.type;var g=o.memoizedProps;switch(c[Of]=o,c[Pf]=g,a=(o.mode&1)!==0,e){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(h=0;h<lf.length;h++)D$1(lf[h],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za$2(c,g),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},D$1("invalid",c);break;case"textarea":hb$2(c,g),D$1("invalid",c)}ub$2(e,g),h=null;for(var b in g)if(g.hasOwnProperty(b)){var $=g[b];b==="children"?typeof $=="string"?c.textContent!==$&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,$,a),h=["children",$]):typeof $=="number"&&c.textContent!==""+$&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,$,a),h=["children",""+$]):ea$2.hasOwnProperty(b)&&$!=null&&b==="onScroll"&&D$1("scroll",c)}switch(e){case"input":Va$2(c),db$2(c,g,!0);break;case"textarea":Va$2(c),jb$2(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Bf)}c=h,o.updateQueue=c,c!==null&&(o.flags|=4)}else{b=h.nodeType===9?h:h.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb$2(e)),a==="http://www.w3.org/1999/xhtml"?e==="script"?(a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof c.is=="string"?a=b.createElement(e,{is:c.is}):(a=b.createElement(e),e==="select"&&(b=a,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):a=b.createElementNS(a,e),a[Of]=o,a[Pf]=c,Aj(a,o,!1,!1),o.stateNode=a;e:{switch(b=vb$2(e,c),e){case"dialog":D$1("cancel",a),D$1("close",a),h=c;break;case"iframe":case"object":case"embed":D$1("load",a),h=c;break;case"video":case"audio":for(h=0;h<lf.length;h++)D$1(lf[h],a);h=c;break;case"source":D$1("error",a),h=c;break;case"img":case"image":case"link":D$1("error",a),D$1("load",a),h=c;break;case"details":D$1("toggle",a),h=c;break;case"input":Za$2(a,c),h=Ya$2(a,c),D$1("invalid",a);break;case"option":h=c;break;case"select":a._wrapperState={wasMultiple:!!c.multiple},h=A$1({},c,{value:void 0}),D$1("invalid",a);break;case"textarea":hb$2(a,c),h=gb$2(a,c),D$1("invalid",a);break;default:h=c}ub$2(e,h),$=h;for(g in $)if($.hasOwnProperty(g)){var j=$[g];g==="style"?sb$2(a,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&nb$1(a,j)):g==="children"?typeof j=="string"?(e!=="textarea"||j!=="")&&ob$2(a,j):typeof j=="number"&&ob$2(a,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea$2.hasOwnProperty(g)?j!=null&&g==="onScroll"&&D$1("scroll",a):j!=null&&ta$3(a,g,j,b))}switch(e){case"input":Va$2(a),db$2(a,c,!1);break;case"textarea":Va$2(a),jb$2(a);break;case"option":c.value!=null&&a.setAttribute("value",""+Sa$3(c.value));break;case"select":a.multiple=!!c.multiple,g=c.value,g!=null?fb$2(a,!!c.multiple,g,!1):c.defaultValue!=null&&fb$2(a,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(a.onclick=Bf)}switch(e){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S$2(o),null;case 6:if(a&&o.stateNode!=null)Dj(a,o,a.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(p$2(166));if(e=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(c=o.stateNode,e=o.memoizedProps,c[Of]=o,(g=c.nodeValue!==e)&&(a=xg,a!==null))switch(a.tag){case 3:Af(c.nodeValue,e,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,e,(a.mode&1)!==0)}g&&(o.flags|=4)}else c=(e.nodeType===9?e:e.ownerDocument).createTextNode(c),c[Of]=o,o.stateNode=c}return S$2(o),null;case 13:if(E$2(M$2),c=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,g=!1;else if(g=Gg(o),c!==null&&c.dehydrated!==null){if(a===null){if(!g)throw Error(p$2(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p$2(317));g[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S$2(o),g=!1}else zg!==null&&(Gj(zg),zg=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=e,o):(c=c!==null,c!==(a!==null&&a.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(a===null||M$2.current&1?T$2===0&&(T$2=3):uj())),o.updateQueue!==null&&(o.flags|=4),S$2(o),null);case 4:return Jh(),Bj(a,o),a===null&&sf(o.stateNode.containerInfo),S$2(o),null;case 10:return Rg(o.type._context),S$2(o),null;case 17:return Zf(o.type)&&$f(),S$2(o),null;case 19:if(E$2(M$2),g=o.memoizedState,g===null)return S$2(o),null;if(c=(o.flags&128)!==0,b=g.rendering,b===null)if(c)Ej(g,!1);else{if(T$2!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(b=Mh(a),b!==null){for(o.flags|=128,Ej(g,!1),c=b.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=e,e=o.child;e!==null;)g=e,a=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=a,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,a=b.dependencies,g.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e=e.sibling;return G$1(M$2,M$2.current&1|2),o.child}a=a.sibling}g.tail!==null&&B$2()>Hj&&(o.flags|=128,c=!0,Ej(g,!1),o.lanes=4194304)}else{if(!c)if(a=Mh(b),a!==null){if(o.flags|=128,c=!0,e=a.updateQueue,e!==null&&(o.updateQueue=e,o.flags|=4),Ej(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!I$2)return S$2(o),null}else 2*B$2()-g.renderingStartTime>Hj&&e!==1073741824&&(o.flags|=128,c=!0,Ej(g,!1),o.lanes=4194304);g.isBackwards?(b.sibling=o.child,o.child=b):(e=g.last,e!==null?e.sibling=b:o.child=b,g.last=b)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=B$2(),o.sibling=null,e=M$2.current,G$1(M$2,c?e&1|2:e&1),o):(S$2(o),null);case 22:case 23:return Ij(),c=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?gj&1073741824&&(S$2(o),o.subtreeFlags&6&&(o.flags|=8192)):S$2(o),null;case 24:return null;case 25:return null}throw Error(p$2(156,o.tag))}function Jj(a,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E$2(M$2),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(p$2(340));Ig()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(a,o){var e=a.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(c){W$2(a,o,c)}else e.current=null}function Nj(a,o,e){try{e()}catch(c){W$2(a,o,c)}}var Oj=!1;function Pj(a,o){if(Cf=dd$1,a=Me(),Ne$1(a)){if("selectionStart"in a)var e={start:a.selectionStart,end:a.selectionEnd};else e:{e=(e=a.ownerDocument)&&e.defaultView||window;var c=e.getSelection&&e.getSelection();if(c&&c.rangeCount!==0){e=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{e.nodeType,g.nodeType}catch{e=null;break e}var b=0,$=-1,j=-1,rt=0,nt=0,pt=a,wt=null;t:for(;;){for(var Dt;pt!==e||h!==0&&pt.nodeType!==3||($=b+h),pt!==g||c!==0&&pt.nodeType!==3||(j=b+c),pt.nodeType===3&&(b+=pt.nodeValue.length),(Dt=pt.firstChild)!==null;)wt=pt,pt=Dt;for(;;){if(pt===a)break t;if(wt===e&&++rt===h&&($=b),wt===g&&++nt===c&&(j=b),(Dt=pt.nextSibling)!==null)break;pt=wt,wt=pt.parentNode}pt=Dt}e=$===-1||j===-1?null:{start:$,end:j}}else e=null}e=e||{start:0,end:0}}else e=null;for(Df={focusedElem:a,selectionRange:e},dd$1=!1,V$2=o;V$2!==null;)if(o=V$2,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,V$2=a;else for(;V$2!==null;){o=V$2;try{var Lt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var it=Lt.memoizedProps,st=Lt.memoizedState,bt=o.stateNode,gt=bt.getSnapshotBeforeUpdate(o.elementType===o.type?it:Lg(o.type,it),st);bt.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var Et=o.stateNode.containerInfo;Et.nodeType===1?Et.textContent="":Et.nodeType===9&&Et.documentElement&&Et.removeChild(Et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(ot){W$2(o,o.return,ot)}if(a=o.sibling,a!==null){a.return=o.return,V$2=a;break}V$2=o.return}return Lt=Oj,Oj=!1,Lt}function Qj(a,o,e){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var g=h.destroy;h.destroy=void 0,g!==void 0&&Nj(o,e,g)}h=h.next}while(h!==c)}}function Rj(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var e=o=o.next;do{if((e.tag&a)===a){var c=e.create;e.destroy=c()}e=e.next}while(e!==o)}}function Sj(a){var o=a.ref;if(o!==null){var e=a.stateNode;switch(a.tag){case 5:a=e;break;default:a=e}typeof o=="function"?o(a):o.current=a}}function Tj(a){var o=a.alternate;o!==null&&(a.alternate=null,Tj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Uj(a){return a.tag===5||a.tag===3||a.tag===4}function Vj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Uj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wj(a,o,e){var c=a.tag;if(c===5||c===6)a=a.stateNode,o?e.nodeType===8?e.parentNode.insertBefore(a,o):e.insertBefore(a,o):(e.nodeType===8?(o=e.parentNode,o.insertBefore(a,e)):(o=e,o.appendChild(a)),e=e._reactRootContainer,e!=null||o.onclick!==null||(o.onclick=Bf));else if(c!==4&&(a=a.child,a!==null))for(Wj(a,o,e),a=a.sibling;a!==null;)Wj(a,o,e),a=a.sibling}function Xj(a,o,e){var c=a.tag;if(c===5||c===6)a=a.stateNode,o?e.insertBefore(a,o):e.appendChild(a);else if(c!==4&&(a=a.child,a!==null))for(Xj(a,o,e),a=a.sibling;a!==null;)Xj(a,o,e),a=a.sibling}var X$2=null,Yj=!1;function Zj(a,o,e){for(e=e.child;e!==null;)ak(a,o,e),e=e.sibling}function ak(a,o,e){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,e)}catch{}switch(e.tag){case 5:U$2||Mj(e,o);case 6:var c=X$2,h=Yj;X$2=null,Zj(a,o,e),X$2=c,Yj=h,X$2!==null&&(Yj?(a=X$2,e=e.stateNode,a.nodeType===8?a.parentNode.removeChild(e):a.removeChild(e)):X$2.removeChild(e.stateNode));break;case 18:X$2!==null&&(Yj?(a=X$2,e=e.stateNode,a.nodeType===8?Kf(a.parentNode,e):a.nodeType===1&&Kf(a,e),bd$1(a)):Kf(X$2,e.stateNode));break;case 4:c=X$2,h=Yj,X$2=e.stateNode.containerInfo,Yj=!0,Zj(a,o,e),X$2=c,Yj=h;break;case 0:case 11:case 14:case 15:if(!U$2&&(c=e.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,b=g.destroy;g=g.tag,b!==void 0&&(g&2||g&4)&&Nj(e,o,b),h=h.next}while(h!==c)}Zj(a,o,e);break;case 1:if(!U$2&&(Mj(e,o),c=e.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=e.memoizedProps,c.state=e.memoizedState,c.componentWillUnmount()}catch($){W$2(e,o,$)}Zj(a,o,e);break;case 21:Zj(a,o,e);break;case 22:e.mode&1?(U$2=(c=U$2)||e.memoizedState!==null,Zj(a,o,e),U$2=c):Zj(a,o,e);break;default:Zj(a,o,e)}}function bk(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var e=a.stateNode;e===null&&(e=a.stateNode=new Lj),o.forEach(function(c){var h=ck.bind(null,a,c);e.has(c)||(e.add(c),c.then(h,h))})}}function dk(a,o){var e=o.deletions;if(e!==null)for(var c=0;c<e.length;c++){var h=e[c];try{var g=a,b=o,$=b;e:for(;$!==null;){switch($.tag){case 5:X$2=$.stateNode,Yj=!1;break e;case 3:X$2=$.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=$.stateNode.containerInfo,Yj=!0;break e}$=$.return}if(X$2===null)throw Error(p$2(160));ak(g,b,h),X$2=null,Yj=!1;var j=h.alternate;j!==null&&(j.return=null),h.return=null}catch(rt){W$2(h,o,rt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,a),o=o.sibling}function ek(a,o){var e=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(dk(o,a),fk(a),c&4){try{Qj(3,a,a.return),Rj(3,a)}catch(it){W$2(a,a.return,it)}try{Qj(5,a,a.return)}catch(it){W$2(a,a.return,it)}}break;case 1:dk(o,a),fk(a),c&512&&e!==null&&Mj(e,e.return);break;case 5:if(dk(o,a),fk(a),c&512&&e!==null&&Mj(e,e.return),a.flags&32){var h=a.stateNode;try{ob$2(h,"")}catch(it){W$2(a,a.return,it)}}if(c&4&&(h=a.stateNode,h!=null)){var g=a.memoizedProps,b=e!==null?e.memoizedProps:g,$=a.type,j=a.updateQueue;if(a.updateQueue=null,j!==null)try{$==="input"&&g.type==="radio"&&g.name!=null&&ab$2(h,g),vb$2($,b);var rt=vb$2($,g);for(b=0;b<j.length;b+=2){var nt=j[b],pt=j[b+1];nt==="style"?sb$2(h,pt):nt==="dangerouslySetInnerHTML"?nb$1(h,pt):nt==="children"?ob$2(h,pt):ta$3(h,nt,pt,rt)}switch($){case"input":bb$2(h,g);break;case"textarea":ib$2(h,g);break;case"select":var wt=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var Dt=g.value;Dt!=null?fb$2(h,!!g.multiple,Dt,!1):wt!==!!g.multiple&&(g.defaultValue!=null?fb$2(h,!!g.multiple,g.defaultValue,!0):fb$2(h,!!g.multiple,g.multiple?[]:"",!1))}h[Pf]=g}catch(it){W$2(a,a.return,it)}}break;case 6:if(dk(o,a),fk(a),c&4){if(a.stateNode===null)throw Error(p$2(162));h=a.stateNode,g=a.memoizedProps;try{h.nodeValue=g}catch(it){W$2(a,a.return,it)}}break;case 3:if(dk(o,a),fk(a),c&4&&e!==null&&e.memoizedState.isDehydrated)try{bd$1(o.containerInfo)}catch(it){W$2(a,a.return,it)}break;case 4:dk(o,a),fk(a);break;case 13:dk(o,a),fk(a),h=a.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(gk=B$2())),c&4&&bk(a);break;case 22:if(nt=e!==null&&e.memoizedState!==null,a.mode&1?(U$2=(rt=U$2)||nt,dk(o,a),U$2=rt):dk(o,a),fk(a),c&8192){if(rt=a.memoizedState!==null,(a.stateNode.isHidden=rt)&&!nt&&a.mode&1)for(V$2=a,nt=a.child;nt!==null;){for(pt=V$2=nt;V$2!==null;){switch(wt=V$2,Dt=wt.child,wt.tag){case 0:case 11:case 14:case 15:Qj(4,wt,wt.return);break;case 1:Mj(wt,wt.return);var Lt=wt.stateNode;if(typeof Lt.componentWillUnmount=="function"){c=wt,e=wt.return;try{o=c,Lt.props=o.memoizedProps,Lt.state=o.memoizedState,Lt.componentWillUnmount()}catch(it){W$2(c,e,it)}}break;case 5:Mj(wt,wt.return);break;case 22:if(wt.memoizedState!==null){hk(pt);continue}}Dt!==null?(Dt.return=wt,V$2=Dt):hk(pt)}nt=nt.sibling}e:for(nt=null,pt=a;;){if(pt.tag===5){if(nt===null){nt=pt;try{h=pt.stateNode,rt?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):($=pt.stateNode,j=pt.memoizedProps.style,b=j!=null&&j.hasOwnProperty("display")?j.display:null,$.style.display=rb$2("display",b))}catch(it){W$2(a,a.return,it)}}}else if(pt.tag===6){if(nt===null)try{pt.stateNode.nodeValue=rt?"":pt.memoizedProps}catch(it){W$2(a,a.return,it)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===a)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===a)break e;for(;pt.sibling===null;){if(pt.return===null||pt.return===a)break e;nt===pt&&(nt=null),pt=pt.return}nt===pt&&(nt=null),pt.sibling.return=pt.return,pt=pt.sibling}}break;case 19:dk(o,a),fk(a),c&4&&bk(a);break;case 21:break;default:dk(o,a),fk(a)}}function fk(a){var o=a.flags;if(o&2){try{e:{for(var e=a.return;e!==null;){if(Uj(e)){var c=e;break e}e=e.return}throw Error(p$2(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ob$2(h,""),c.flags&=-33);var g=Vj(a);Xj(a,g,h);break;case 3:case 4:var b=c.stateNode.containerInfo,$=Vj(a);Wj(a,$,b);break;default:throw Error(p$2(161))}}catch(j){W$2(a,a.return,j)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function ik(a,o,e){V$2=a,jk(a)}function jk(a,o,e){for(var c=(a.mode&1)!==0;V$2!==null;){var h=V$2,g=h.child;if(h.tag===22&&c){var b=h.memoizedState!==null||Kj;if(!b){var $=h.alternate,j=$!==null&&$.memoizedState!==null||U$2;$=Kj;var rt=U$2;if(Kj=b,(U$2=j)&&!rt)for(V$2=h;V$2!==null;)b=V$2,j=b.child,b.tag===22&&b.memoizedState!==null?kk(h):j!==null?(j.return=b,V$2=j):kk(h);for(;g!==null;)V$2=g,jk(g),g=g.sibling;V$2=h,Kj=$,U$2=rt}lk(a)}else h.subtreeFlags&8772&&g!==null?(g.return=h,V$2=g):lk(a)}}function lk(a){for(;V$2!==null;){var o=V$2;if(o.flags&8772){var e=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U$2||Rj(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!U$2)if(e===null)c.componentDidMount();else{var h=o.elementType===o.type?e.memoizedProps:Lg(o.type,e.memoizedProps);c.componentDidUpdate(h,e.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&ih(o,g,c);break;case 3:var b=o.updateQueue;if(b!==null){if(e=null,o.child!==null)switch(o.child.tag){case 5:e=o.child.stateNode;break;case 1:e=o.child.stateNode}ih(o,b,e)}break;case 5:var $=o.stateNode;if(e===null&&o.flags&4){e=$;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&e.focus();break;case"img":j.src&&(e.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var rt=o.alternate;if(rt!==null){var nt=rt.memoizedState;if(nt!==null){var pt=nt.dehydrated;pt!==null&&bd$1(pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$2||o.flags&512&&Sj(o)}catch(wt){W$2(o,o.return,wt)}}if(o===a){V$2=null;break}if(e=o.sibling,e!==null){e.return=o.return,V$2=e;break}V$2=o.return}}function hk(a){for(;V$2!==null;){var o=V$2;if(o===a){V$2=null;break}var e=o.sibling;if(e!==null){e.return=o.return,V$2=e;break}V$2=o.return}}function kk(a){for(;V$2!==null;){var o=V$2;try{switch(o.tag){case 0:case 11:case 15:var e=o.return;try{Rj(4,o)}catch(j){W$2(o,e,j)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var h=o.return;try{c.componentDidMount()}catch(j){W$2(o,h,j)}}var g=o.return;try{Sj(o)}catch(j){W$2(o,g,j)}break;case 5:var b=o.return;try{Sj(o)}catch(j){W$2(o,b,j)}}}catch(j){W$2(o,o.return,j)}if(o===a){V$2=null;break}var $=o.sibling;if($!==null){$.return=o.return,V$2=$;break}V$2=o.return}}var mk=Math.ceil,nk=ua$3.ReactCurrentDispatcher,ok=ua$3.ReactCurrentOwner,pk=ua$3.ReactCurrentBatchConfig,K$2=0,R$2=null,Y$2=null,Z$2=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi$1=!1,Qi$1=null,Si$1=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K$2&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(a){return a.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(a=C$1,a!==0||(a=window.event,a=a===void 0?16:jd$1(a.type)),a):1}function mh(a,o,e,c){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac$1(a,e,c),(!(K$2&2)||a!==R$2)&&(a===R$2&&(!(K$2&2)&&(rk|=e),T$2===4&&Dk(a,Z$2)),Ek(a,c),e===1&&K$2===0&&!(o.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(a,o){var e=a.callbackNode;wc$1(a,o);var c=uc$1(a,a===R$2?Z$2:0);if(c===0)e!==null&&bc$1(e),a.callbackNode=null,a.callbackPriority=0;else if(o=c&-c,a.callbackPriority!==o){if(e!=null&&bc$1(e),o===1)a.tag===0?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){!(K$2&6)&&jg()}),e=null;else{switch(Dc$1(c)){case 1:e=fc$1;break;case 4:e=gc$1;break;case 16:e=hc$1;break;case 536870912:e=jc$1;break;default:e=hc$1}e=Gk(e,Hk.bind(null,a))}a.callbackPriority=o,a.callbackNode=e}}function Hk(a,o){if(Bk=-1,Ck=0,K$2&6)throw Error(p$2(327));var e=a.callbackNode;if(Ik()&&a.callbackNode!==e)return null;var c=uc$1(a,a===R$2?Z$2:0);if(c===0)return null;if(c&30||c&a.expiredLanes||o)o=Jk(a,c);else{o=c;var h=K$2;K$2|=2;var g=Kk();(R$2!==a||Z$2!==o)&&(vk=null,Hj=B$2()+500,Lk(a,o));do try{Mk();break}catch($){Nk(a,$)}while(!0);Qg(),nk.current=g,K$2=h,Y$2!==null?o=0:(R$2=null,Z$2=0,o=T$2)}if(o!==0){if(o===2&&(h=xc$1(a),h!==0&&(c=h,o=Ok(a,h))),o===1)throw e=qk,Lk(a,0),Dk(a,c),Ek(a,B$2()),e;if(o===6)Dk(a,c);else{if(h=a.current.alternate,!(c&30)&&!Pk(h)&&(o=Jk(a,c),o===2&&(g=xc$1(a),g!==0&&(c=g,o=Ok(a,g))),o===1))throw e=qk,Lk(a,0),Dk(a,c),Ek(a,B$2()),e;switch(a.finishedWork=h,a.finishedLanes=c,o){case 0:case 1:throw Error(p$2(345));case 2:Qk(a,uk,vk);break;case 3:if(Dk(a,c),(c&130023424)===c&&(o=gk+500-B$2(),10<o)){if(uc$1(a,0)!==0)break;if(h=a.suspendedLanes,(h&c)!==c){L$2(),a.pingedLanes|=a.suspendedLanes&h;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),o);break}Qk(a,uk,vk);break;case 4:if(Dk(a,c),(c&4194240)===c)break;for(o=a.eventTimes,h=-1;0<c;){var b=31-oc$1(c);g=1<<b,b=o[b],b>h&&(h=b),c&=~g}if(c=h,c=B$2()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*mk(c/1960))-c,10<c){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),c);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(a,B$2()),a.callbackNode===e?Hk.bind(null,a):null}function Ok(a,o){var e=tk;return a.current.memoizedState.isDehydrated&&(Lk(a,o).flags|=256),a=Jk(a,o),a!==2&&(o=uk,uk=e,o!==null&&Gj(o)),a}function Gj(a){uk===null?uk=a:uk.push.apply(uk,a)}function Pk(a){for(var o=a;;){if(o.flags&16384){var e=o.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var c=0;c<e.length;c++){var h=e[c],g=h.getSnapshot;h=h.value;try{if(!He$1(g(),h))return!1}catch{return!1}}}if(e=o.child,o.subtreeFlags&16384&&e!==null)e.return=o,o=e;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(a,o){for(o&=~sk,o&=~rk,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var e=31-oc$1(o),c=1<<e;a[e]=-1,o&=~c}}function Fk(a){if(K$2&6)throw Error(p$2(327));Ik();var o=uc$1(a,0);if(!(o&1))return Ek(a,B$2()),null;var e=Jk(a,o);if(a.tag!==0&&e===2){var c=xc$1(a);c!==0&&(o=c,e=Ok(a,c))}if(e===1)throw e=qk,Lk(a,0),Dk(a,o),Ek(a,B$2()),e;if(e===6)throw Error(p$2(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Qk(a,uk,vk),Ek(a,B$2()),null}function Rk(a,o){var e=K$2;K$2|=1;try{return a(o)}finally{K$2=e,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(a){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var o=K$2;K$2|=1;var e=pk.transition,c=C$1;try{if(pk.transition=null,C$1=1,a)return a()}finally{C$1=c,pk.transition=e,K$2=o,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(a,o){a.finishedWork=null,a.finishedLanes=0;var e=a.timeoutHandle;if(e!==-1&&(a.timeoutHandle=-1,Gf(e)),Y$2!==null)for(e=Y$2.return;e!==null;){var c=e;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(c);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(c.type._context);break;case 22:case 23:Ij()}e=e.return}if(R$2=a,Y$2=a=wh(a.current,null),Z$2=gj=o,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(e=Wg[o],c=e.interleaved,c!==null){e.interleaved=null;var h=c.next,g=e.pending;if(g!==null){var b=g.next;g.next=h,c.next=b}e.pending=c}Wg=null}return a}function Nk(a,o){do{var e=Y$2;try{if(Qg(),Ph.current=ai$1,Sh){for(var c=N$3.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Sh=!1}if(Rh=0,P$2=O$2=N$3=null,Th=!1,Uh=0,ok.current=null,e===null||e.return===null){T$2=1,qk=o,Y$2=null;break}e:{var g=a,b=e.return,$=e,j=o;if(o=Z$2,$.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var rt=j,nt=$,pt=nt.tag;if(!(nt.mode&1)&&(pt===0||pt===11||pt===15)){var wt=nt.alternate;wt?(nt.updateQueue=wt.updateQueue,nt.memoizedState=wt.memoizedState,nt.lanes=wt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var Dt=Vi$1(b);if(Dt!==null){Dt.flags&=-257,Wi$1(Dt,b,$,g,o),Dt.mode&1&&Ti$1(g,rt,o),o=Dt,j=rt;var Lt=o.updateQueue;if(Lt===null){var it=new Set;it.add(j),o.updateQueue=it}else Lt.add(j);break e}else{if(!(o&1)){Ti$1(g,rt,o),uj();break e}j=Error(p$2(426))}}else if(I$2&&$.mode&1){var st=Vi$1(b);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Wi$1(st,b,$,g,o),Jg(Ki$1(j,$));break e}}g=j=Ki$1(j,$),T$2!==4&&(T$2=2),tk===null?tk=[g]:tk.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var bt=Oi$1(g,j,o);fh(g,bt);break e;case 1:$=j;var gt=g.type,Et=g.stateNode;if(!(g.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(Et)))){g.flags|=65536,o&=-o,g.lanes|=o;var ot=Ri$1(g,$,o);fh(g,ot);break e}}g=g.return}while(g!==null)}Tk(e)}catch(_t){o=_t,Y$2===e&&e!==null&&(Y$2=e=e.return);continue}break}while(!0)}function Kk(){var a=nk.current;return nk.current=ai$1,a===null?ai$1:a}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$2)}function Jk(a,o){var e=K$2;K$2|=2;var c=Kk();(R$2!==a||Z$2!==o)&&(vk=null,Lk(a,o));do try{Uk();break}catch(h){Nk(a,h)}while(!0);if(Qg(),K$2=e,nk.current=c,Y$2!==null)throw Error(p$2(261));return R$2=null,Z$2=0,T$2}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$1();)Vk(Y$2)}function Vk(a){var o=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps,o===null?Tk(a):Y$2=o,ok.current=null}function Tk(a){var o=a;do{var e=o.alternate;if(a=o.return,o.flags&32768){if(e=Jj(e,o),e!==null){e.flags&=32767,Y$2=e;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T$2=6,Y$2=null;return}}else if(e=Fj(e,o,gj),e!==null){Y$2=e;return}if(o=o.sibling,o!==null){Y$2=o;return}Y$2=o=a}while(o!==null);T$2===0&&(T$2=5)}function Qk(a,o,e){var c=C$1,h=pk.transition;try{pk.transition=null,C$1=1,Xk(a,o,e,c)}finally{pk.transition=h,C$1=c}return null}function Xk(a,o,e,c){do Ik();while(xk!==null);if(K$2&6)throw Error(p$2(327));e=a.finishedWork;var h=a.finishedLanes;if(e===null)return null;if(a.finishedWork=null,a.finishedLanes=0,e===a.current)throw Error(p$2(177));a.callbackNode=null,a.callbackPriority=0;var g=e.lanes|e.childLanes;if(Bc$1(a,g),a===R$2&&(Y$2=R$2=null,Z$2=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),g=(e.flags&15990)!==0,e.subtreeFlags&15990||g){g=pk.transition,pk.transition=null;var b=C$1;C$1=1;var $=K$2;K$2|=4,ok.current=null,Pj(a,e),ek(e,a),Oe(Df),dd$1=!!Cf,Df=Cf=null,a.current=e,ik(e),dc$1(),K$2=$,C$1=b,pk.transition=g}else a.current=e;if(wk&&(wk=!1,xk=a,yk=h),g=a.pendingLanes,g===0&&(Si$1=null),mc$1(e.stateNode),Ek(a,B$2()),o!==null)for(c=a.onRecoverableError,e=0;e<o.length;e++)h=o[e],c(h.value,{componentStack:h.stack,digest:h.digest});if(Pi$1)throw Pi$1=!1,a=Qi$1,Qi$1=null,a;return yk&1&&a.tag!==0&&Ik(),g=a.pendingLanes,g&1?a===Ak?zk++:(zk=0,Ak=a):zk=0,jg(),null}function Ik(){if(xk!==null){var a=Dc$1(yk),o=pk.transition,e=C$1;try{if(pk.transition=null,C$1=16>a?16:a,xk===null)var c=!1;else{if(a=xk,xk=null,yk=0,K$2&6)throw Error(p$2(331));var h=K$2;for(K$2|=4,V$2=a.current;V$2!==null;){var g=V$2,b=g.child;if(V$2.flags&16){var $=g.deletions;if($!==null){for(var j=0;j<$.length;j++){var rt=$[j];for(V$2=rt;V$2!==null;){var nt=V$2;switch(nt.tag){case 0:case 11:case 15:Qj(8,nt,g)}var pt=nt.child;if(pt!==null)pt.return=nt,V$2=pt;else for(;V$2!==null;){nt=V$2;var wt=nt.sibling,Dt=nt.return;if(Tj(nt),nt===rt){V$2=null;break}if(wt!==null){wt.return=Dt,V$2=wt;break}V$2=Dt}}}var Lt=g.alternate;if(Lt!==null){var it=Lt.child;if(it!==null){Lt.child=null;do{var st=it.sibling;it.sibling=null,it=st}while(it!==null)}}V$2=g}}if(g.subtreeFlags&2064&&b!==null)b.return=g,V$2=b;else e:for(;V$2!==null;){if(g=V$2,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Qj(9,g,g.return)}var bt=g.sibling;if(bt!==null){bt.return=g.return,V$2=bt;break e}V$2=g.return}}var gt=a.current;for(V$2=gt;V$2!==null;){b=V$2;var Et=b.child;if(b.subtreeFlags&2064&&Et!==null)Et.return=b,V$2=Et;else e:for(b=gt;V$2!==null;){if($=V$2,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Rj(9,$)}}catch(_t){W$2($,$.return,_t)}if($===b){V$2=null;break e}var ot=$.sibling;if(ot!==null){ot.return=$.return,V$2=ot;break e}V$2=$.return}}if(K$2=h,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,a)}catch{}c=!0}return c}finally{C$1=e,pk.transition=o}}return!1}function Yk(a,o,e){o=Ki$1(e,o),o=Oi$1(a,o,1),a=dh(a,o,1),o=L$2(),a!==null&&(Ac$1(a,1,o),Ek(a,o))}function W$2(a,o,e){if(a.tag===3)Yk(a,a,e);else for(;o!==null;){if(o.tag===3){Yk(o,a,e);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(c))){a=Ki$1(e,a),a=Ri$1(o,a,1),o=dh(o,a,1),a=L$2(),o!==null&&(Ac$1(o,1,a),Ek(o,a));break}}o=o.return}}function Ui$1(a,o,e){var c=a.pingCache;c!==null&&c.delete(o),o=L$2(),a.pingedLanes|=a.suspendedLanes&e,R$2===a&&(Z$2&e)===e&&(T$2===4||T$2===3&&(Z$2&130023424)===Z$2&&500>B$2()-gk?Lk(a,0):sk|=e),Ek(a,o)}function Zk(a,o){o===0&&(a.mode&1?(o=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):o=1);var e=L$2();a=Zg(a,o),a!==null&&(Ac$1(a,o,e),Ek(a,e))}function vj(a){var o=a.memoizedState,e=0;o!==null&&(e=o.retryLane),Zk(a,e)}function ck(a,o){var e=0;switch(a.tag){case 13:var c=a.stateNode,h=a.memoizedState;h!==null&&(e=h.retryLane);break;case 19:c=a.stateNode;break;default:throw Error(p$2(314))}c!==null&&c.delete(o),Zk(a,e)}var Wk;Wk=function(a,o,e){if(a!==null)if(a.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(a.lanes&e)&&!(o.flags&128))return Ug=!1,zj(a,o,e);Ug=!!(a.flags&131072)}else Ug=!1,I$2&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;jj(a,o),a=o.pendingProps;var h=Yf(o,H$2.current);Tg(o,e),h=Xh(null,o,c,a,h,e);var g=bi$1();return o.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(c)?(g=!0,cg(o)):g=!1,o.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ah(o),h.updater=nh,o.stateNode=h,h._reactInternals=o,rh(o,c,a,e),o=kj(null,o,c,!0,g,e)):(o.tag=0,I$2&&g&&vg(o),Yi$1(null,o,h,e),o=o.child),o;case 16:c=o.elementType;e:{switch(jj(a,o),a=o.pendingProps,h=c._init,c=h(c._payload),o.type=c,h=o.tag=$k(c),a=Lg(c,a),h){case 0:o=dj(null,o,c,a,e);break e;case 1:o=ij(null,o,c,a,e);break e;case 11:o=Zi$1(null,o,c,a,e);break e;case 14:o=aj(null,o,c,Lg(c.type,a),e);break e}throw Error(p$2(306,c,""))}return o;case 0:return c=o.type,h=o.pendingProps,h=o.elementType===c?h:Lg(c,h),dj(a,o,c,h,e);case 1:return c=o.type,h=o.pendingProps,h=o.elementType===c?h:Lg(c,h),ij(a,o,c,h,e);case 3:e:{if(lj(o),a===null)throw Error(p$2(387));c=o.pendingProps,g=o.memoizedState,h=g.element,bh(a,o),gh(o,c,null,e);var b=o.memoizedState;if(c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){h=Ki$1(Error(p$2(423)),o),o=mj(a,o,c,e,h);break e}else if(c!==h){h=Ki$1(Error(p$2(424)),o),o=mj(a,o,c,e,h);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I$2=!0,zg=null,e=Ch(o,null,c,e),o.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Ig(),c===h){o=$i$1(a,o,e);break e}Yi$1(a,o,c,e)}o=o.child}return o;case 5:return Kh(o),a===null&&Eg(o),c=o.type,h=o.pendingProps,g=a!==null?a.memoizedProps:null,b=h.children,Ef(c,h)?b=null:g!==null&&Ef(c,g)&&(o.flags|=32),hj(a,o),Yi$1(a,o,b,e),o.child;case 6:return a===null&&Eg(o),null;case 13:return pj(a,o,e);case 4:return Ih(o,o.stateNode.containerInfo),c=o.pendingProps,a===null?o.child=Bh(o,null,c,e):Yi$1(a,o,c,e),o.child;case 11:return c=o.type,h=o.pendingProps,h=o.elementType===c?h:Lg(c,h),Zi$1(a,o,c,h,e);case 7:return Yi$1(a,o,o.pendingProps,e),o.child;case 8:return Yi$1(a,o,o.pendingProps.children,e),o.child;case 12:return Yi$1(a,o,o.pendingProps.children,e),o.child;case 10:e:{if(c=o.type._context,h=o.pendingProps,g=o.memoizedProps,b=h.value,G$1(Mg,c._currentValue),c._currentValue=b,g!==null)if(He$1(g.value,b)){if(g.children===h.children&&!Wf.current){o=$i$1(a,o,e);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var $=g.dependencies;if($!==null){b=g.child;for(var j=$.firstContext;j!==null;){if(j.context===c){if(g.tag===1){j=ch(-1,e&-e),j.tag=2;var rt=g.updateQueue;if(rt!==null){rt=rt.shared;var nt=rt.pending;nt===null?j.next=j:(j.next=nt.next,nt.next=j),rt.pending=j}}g.lanes|=e,j=g.alternate,j!==null&&(j.lanes|=e),Sg(g.return,e,o),$.lanes|=e;break}j=j.next}}else if(g.tag===10)b=g.type===o.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(p$2(341));b.lanes|=e,$=b.alternate,$!==null&&($.lanes|=e),Sg(b,e,o),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===o){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}Yi$1(a,o,h.children,e),o=o.child}return o;case 9:return h=o.type,c=o.pendingProps.children,Tg(o,e),h=Vg(h),c=c(h),o.flags|=1,Yi$1(a,o,c,e),o.child;case 14:return c=o.type,h=Lg(c,o.pendingProps),h=Lg(c.type,h),aj(a,o,c,h,e);case 15:return cj(a,o,o.type,o.pendingProps,e);case 17:return c=o.type,h=o.pendingProps,h=o.elementType===c?h:Lg(c,h),jj(a,o),o.tag=1,Zf(c)?(a=!0,cg(o)):a=!1,Tg(o,e),ph(o,c,h),rh(o,c,h,e),kj(null,o,c,!0,a,e);case 19:return yj(a,o,e);case 22:return ej(a,o,e)}throw Error(p$2(156,o.tag))};function Gk(a,o){return ac$1(a,o)}function al(a,o,e,c){this.tag=a,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,o,e,c){return new al(a,o,e,c)}function bj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $k(a){if(typeof a=="function")return bj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da$3)return 11;if(a===Ga$2)return 14}return 2}function wh(a,o){var e=a.alternate;return e===null?(e=Bg(a.tag,o,a.key,a.mode),e.elementType=a.elementType,e.type=a.type,e.stateNode=a.stateNode,e.alternate=a,a.alternate=e):(e.pendingProps=o,e.type=a.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=a.flags&14680064,e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,o=a.dependencies,e.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},e.sibling=a.sibling,e.index=a.index,e.ref=a.ref,e}function yh(a,o,e,c,h,g){var b=2;if(c=a,typeof a=="function")bj(a)&&(b=1);else if(typeof a=="string")b=5;else e:switch(a){case ya$3:return Ah(e.children,h,g,o);case za$3:b=8,h|=8;break;case Aa$3:return a=Bg(12,e,o,h|2),a.elementType=Aa$3,a.lanes=g,a;case Ea$3:return a=Bg(13,e,o,h),a.elementType=Ea$3,a.lanes=g,a;case Fa$3:return a=Bg(19,e,o,h),a.elementType=Fa$3,a.lanes=g,a;case Ia$3:return qj(e,h,g,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba$3:b=10;break e;case Ca$3:b=9;break e;case Da$3:b=11;break e;case Ga$2:b=14;break e;case Ha$3:b=16,c=null;break e}throw Error(p$2(130,a==null?a:typeof a,""))}return o=Bg(b,e,o,h),o.elementType=a,o.type=c,o.lanes=g,o}function Ah(a,o,e,c){return a=Bg(7,a,c,o),a.lanes=e,a}function qj(a,o,e,c){return a=Bg(22,a,c,o),a.elementType=Ia$3,a.lanes=e,a.stateNode={isHidden:!1},a}function xh(a,o,e){return a=Bg(6,a,null,o),a.lanes=e,a}function zh(a,o,e){return o=Bg(4,a.children!==null?a.children:[],a.key,o),o.lanes=e,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function bl(a,o,e,c,h){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function cl(a,o,e,c,h,g,b,$,j){return a=new bl(a,o,e,$,j),o===1?(o=1,g===!0&&(o|=8)):o=0,g=Bg(3,null,null,o),a.current=g,g.stateNode=a,g.memoizedState={element:c,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(g),a}function dl(a,o,e){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$3,key:c==null?null:""+c,children:a,containerInfo:o,implementation:e}}function el(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb$1(a)!==a||a.tag!==1)throw Error(p$2(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$2(171))}if(a.tag===1){var e=a.type;if(Zf(e))return bg(a,e,o)}return o}function fl(a,o,e,c,h,g,b,$,j){return a=cl(e,c,!0,a,h,g,b,$,j),a.context=el(null),e=a.current,c=L$2(),h=lh(e),g=ch(c,h),g.callback=o??null,dh(e,g,h),a.current.lanes=h,Ac$1(a,h,c),Ek(a,c),a}function gl(a,o,e,c){var h=o.current,g=L$2(),b=lh(h);return e=el(e),o.context===null?o.context=e:o.pendingContext=e,o=ch(g,b),o.payload={element:a},c=c===void 0?null:c,c!==null&&(o.callback=c),a=dh(h,o,b),a!==null&&(mh(a,h,b,g),eh(a,h,b)),b}function hl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var e=a.retryLane;a.retryLane=e!==0&&e<o?e:o}}function jl(a,o){il(a,o),(a=a.alternate)&&il(a,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}nl.prototype.render=ml.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(p$2(409));gl(a,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Sk(function(){gl(null,a,null,null)}),o[uf]=null}};function nl(a){this._internalRoot=a}nl.prototype.unstable_scheduleHydration=function(a){if(a){var o=Hc$1();a={blockedOn:null,target:a,priority:o};for(var e=0;e<Qc$1.length&&o!==0&&o<Qc$1[e].priority;e++);Qc$1.splice(e,0,a),e===0&&Vc$1(a)}};function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(a,o,e,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var rt=hl(b);g.call(rt)}}var b=fl(o,c,a,0,null,!1,!1,"",ql);return a._reactRootContainer=b,a[uf]=b.current,sf(a.nodeType===8?a.parentNode:a),Sk(),b}for(;h=a.lastChild;)a.removeChild(h);if(typeof c=="function"){var $=c;c=function(){var rt=hl(j);$.call(rt)}}var j=cl(a,0,!1,null,null,!1,!1,"",ql);return a._reactRootContainer=j,a[uf]=j.current,sf(a.nodeType===8?a.parentNode:a),Sk(function(){gl(o,j,e,c)}),j}function sl(a,o,e,c,h){var g=e._reactRootContainer;if(g){var b=g;if(typeof h=="function"){var $=h;h=function(){var j=hl(b);$.call(j)}}gl(o,b,a,h)}else b=rl(e,o,a,h,c);return hl(b)}Ec$1=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var e=tc$1(o.pendingLanes);e!==0&&(Cc$1(o,e|1),Ek(o,B$2()),!(K$2&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var c=Zg(a,1);if(c!==null){var h=L$2();mh(c,a,1,h)}}),jl(a,1)}};Fc$1=function(a){if(a.tag===13){var o=Zg(a,134217728);if(o!==null){var e=L$2();mh(o,a,134217728,e)}jl(a,134217728)}};Gc$1=function(a){if(a.tag===13){var o=lh(a),e=Zg(a,o);if(e!==null){var c=L$2();mh(e,a,o,c)}jl(a,o)}};Hc$1=function(){return C$1};Ic$1=function(a,o){var e=C$1;try{return C$1=a,o()}finally{C$1=e}};yb$2=function(a,o,e){switch(o){case"input":if(bb$2(a,e),o=e.name,e.type==="radio"&&o!=null){for(e=a;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<e.length;o++){var c=e[o];if(c!==a&&c.form===a.form){var h=Db$2(c);if(!h)throw Error(p$2(90));Wa$2(c),bb$2(c,h)}}}break;case"textarea":ib$2(a,e);break;case"select":o=e.value,o!=null&&fb$2(a,!!e.multiple,o,!1)}};Gb$2=Rk;Hb$2=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$2,ue,Db$2,Eb$2,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$3.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb$1(a),a===null?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(a,o){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$2(200));return dl(a,o,null,e)};reactDom_production_min.createRoot=function(a,o){if(!ol(a))throw Error(p$2(299));var e=!1,c="",h=ll;return o!=null&&(o.unstable_strictMode===!0&&(e=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(h=o.onRecoverableError)),o=cl(a,1,!1,null,null,e,!1,c,h),a[uf]=o.current,sf(a.nodeType===8?a.parentNode:a),new ml(o)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(p$2(188)):(a=Object.keys(a).join(","),Error(p$2(268,a)));return a=Zb$1(o),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Sk(a)};reactDom_production_min.hydrate=function(a,o,e){if(!pl(o))throw Error(p$2(200));return sl(null,a,o,!0,e)};reactDom_production_min.hydrateRoot=function(a,o,e){if(!ol(a))throw Error(p$2(405));var c=e!=null&&e.hydratedSources||null,h=!1,g="",b=ll;if(e!=null&&(e.unstable_strictMode===!0&&(h=!0),e.identifierPrefix!==void 0&&(g=e.identifierPrefix),e.onRecoverableError!==void 0&&(b=e.onRecoverableError)),o=fl(o,null,a,1,e??null,h,!1,g,b),a[uf]=o.current,sf(a),c)for(a=0;a<c.length;a++)e=c[a],h=e._getVersion,h=h(e._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[e,h]:o.mutableSourceEagerHydrationData.push(e,h);return new nl(o)};reactDom_production_min.render=function(a,o,e){if(!pl(o))throw Error(p$2(200));return sl(null,a,o,!1,e)};reactDom_production_min.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p$2(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,o,e,c){if(!pl(e))throw Error(p$2(200));if(a==null||a._reactInternals===void 0)throw Error(p$2(38));return sl(a,o,e,!1,c)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const Ke=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a},_extends$3.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(a){a===void 0&&(a={});function o(h,g){let{pathname:b="/",search:$="",hash:j=""}=parsePath(h.location.hash.substr(1));return!b.startsWith("/")&&!b.startsWith(".")&&(b="/"+b),createLocation("",{pathname:b,search:$,hash:j},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function e(h,g){let b=h.document.querySelector("base"),$="";if(b&&b.getAttribute("href")){let j=h.location.href,rt=j.indexOf("#");$=rt===-1?j:j.slice(0,rt)}return $+"#"+(typeof g=="string"?g:createPath(g))}function c(h,g){warning$2(h.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(g)+")")}return getUrlBasedHistory(o,e,c,a)}function invariant(a,o){if(a===!1||a===null||typeof a>"u")throw new Error(o)}function warning$2(a,o){if(!a){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,o){return{usr:a.state,key:a.key,idx:o}}function createLocation(a,o,e,c){return e===void 0&&(e=null),_extends$3({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:e,key:o&&o.key||c||createKey()})}function createPath(a){let{pathname:o="/",search:e="",hash:c=""}=a;return e&&e!=="?"&&(o+=e.charAt(0)==="?"?e:"?"+e),c&&c!=="#"&&(o+=c.charAt(0)==="#"?c:"#"+c),o}function parsePath(a){let o={};if(a){let e=a.indexOf("#");e>=0&&(o.hash=a.substr(e),a=a.substr(0,e));let c=a.indexOf("?");c>=0&&(o.search=a.substr(c),a=a.substr(0,c)),a&&(o.pathname=a)}return o}function getUrlBasedHistory(a,o,e,c){c===void 0&&(c={});let{window:h=document.defaultView,v5Compat:g=!1}=c,b=h.history,$=Action.Pop,j=null,rt=nt();rt==null&&(rt=0,b.replaceState(_extends$3({},b.state,{idx:rt}),""));function nt(){return(b.state||{idx:null}).idx}function pt(){$=Action.Pop;let st=nt(),bt=st==null?null:st-rt;rt=st,j&&j({action:$,location:it.location,delta:bt})}function wt(st,bt){$=Action.Push;let gt=createLocation(it.location,st,bt);e&&e(gt,st),rt=nt()+1;let Et=getHistoryState(gt,rt),ot=it.createHref(gt);try{b.pushState(Et,"",ot)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;h.location.assign(ot)}g&&j&&j({action:$,location:it.location,delta:1})}function Dt(st,bt){$=Action.Replace;let gt=createLocation(it.location,st,bt);e&&e(gt,st),rt=nt();let Et=getHistoryState(gt,rt),ot=it.createHref(gt);b.replaceState(Et,"",ot),g&&j&&j({action:$,location:it.location,delta:0})}function Lt(st){let bt=h.location.origin!=="null"?h.location.origin:h.location.href,gt=typeof st=="string"?st:createPath(st);return gt=gt.replace(/ $/,"%20"),invariant(bt,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,bt)}let it={get action(){return $},get location(){return a(h,b)},listen(st){if(j)throw new Error("A history only accepts one active listener");return h.addEventListener(PopStateEventType,pt),j=st,()=>{h.removeEventListener(PopStateEventType,pt),j=null}},createHref(st){return o(h,st)},createURL:Lt,encodeLocation(st){let bt=Lt(st);return{pathname:bt.pathname,search:bt.search,hash:bt.hash}},push:wt,replace:Dt,go(st){return b.go(st)}};return it}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));function matchRoutes(a,o,e){e===void 0&&(e="/");let c=typeof o=="string"?parsePath(o):o,h=stripBasename(c.pathname||"/",e);if(h==null)return null;let g=flattenRoutes(a);rankRouteBranches(g);let b=null;for(let $=0;b==null&&$<g.length;++$){let j=decodePath(h);b=matchRouteBranch(g[$],j)}return b}function flattenRoutes(a,o,e,c){o===void 0&&(o=[]),e===void 0&&(e=[]),c===void 0&&(c="");let h=(g,b,$)=>{let j={relativePath:$===void 0?g.path||"":$,caseSensitive:g.caseSensitive===!0,childrenIndex:b,route:g};j.relativePath.startsWith("/")&&(invariant(j.relativePath.startsWith(c),'Absolute route path "'+j.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),j.relativePath=j.relativePath.slice(c.length));let rt=joinPaths([c,j.relativePath]),nt=e.concat(j);g.children&&g.children.length>0&&(invariant(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+rt+'".')),flattenRoutes(g.children,o,nt,rt)),!(g.path==null&&!g.index)&&o.push({path:rt,score:computeScore(rt,g.index),routesMeta:nt})};return a.forEach((g,b)=>{var $;if(g.path===""||!(($=g.path)!=null&&$.includes("?")))h(g,b);else for(let j of explodeOptionalSegments(g.path))h(g,b,j)}),o}function explodeOptionalSegments(a){let o=a.split("/");if(o.length===0)return[];let[e,...c]=o,h=e.endsWith("?"),g=e.replace(/\?$/,"");if(c.length===0)return h?[g,""]:[g];let b=explodeOptionalSegments(c.join("/")),$=[];return $.push(...b.map(j=>j===""?g:[g,j].join("/"))),h&&$.push(...b),$.map(j=>a.startsWith("/")&&j===""?"/":j)}function rankRouteBranches(a){a.sort((o,e)=>o.score!==e.score?e.score-o.score:compareIndexes(o.routesMeta.map(c=>c.childrenIndex),e.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,o){let e=a.split("/"),c=e.length;return e.some(isSplat)&&(c+=splatPenalty),o&&(c+=indexRouteValue),e.filter(h=>!isSplat(h)).reduce((h,g)=>h+(paramRe.test(g)?dynamicSegmentValue:g===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(a,o){return a.length===o.length&&a.slice(0,-1).every((c,h)=>c===o[h])?a[a.length-1]-o[o.length-1]:0}function matchRouteBranch(a,o){let{routesMeta:e}=a,c={},h="/",g=[];for(let b=0;b<e.length;++b){let $=e[b],j=b===e.length-1,rt=h==="/"?o:o.slice(h.length)||"/",nt=matchPath({path:$.relativePath,caseSensitive:$.caseSensitive,end:j},rt);if(!nt)return null;Object.assign(c,nt.params);let pt=$.route;g.push({params:c,pathname:joinPaths([h,nt.pathname]),pathnameBase:normalizePathname(joinPaths([h,nt.pathnameBase])),route:pt}),nt.pathnameBase!=="/"&&(h=joinPaths([h,nt.pathnameBase]))}return g}function matchPath(a,o){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,c]=compilePath(a.path,a.caseSensitive,a.end),h=o.match(e);if(!h)return null;let g=h[0],b=g.replace(/(.)\/+$/,"$1"),$=h.slice(1);return{params:c.reduce((rt,nt,pt)=>{let{paramName:wt,isOptional:Dt}=nt;if(wt==="*"){let it=$[pt]||"";b=g.slice(0,g.length-it.length).replace(/(.)\/+$/,"$1")}const Lt=$[pt];return Dt&&!Lt?rt[wt]=void 0:rt[wt]=(Lt||"").replace(/%2F/g,"/"),rt},{}),pathname:g,pathnameBase:b,pattern:a}}function compilePath(a,o,e){o===void 0&&(o=!1),e===void 0&&(e=!0),warning$2(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let c=[],h="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,$,j)=>(c.push({paramName:$,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(c.push({paramName:"*"}),h+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?h+="\\/*$":a!==""&&a!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,o?void 0:"i"),c]}function decodePath(a){try{return a.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning$2(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),a}}function stripBasename(a,o){if(o==="/")return a;if(!a.toLowerCase().startsWith(o.toLowerCase()))return null;let e=o.endsWith("/")?o.length-1:o.length,c=a.charAt(e);return c&&c!=="/"?null:a.slice(e)||"/"}function resolvePath(a,o){o===void 0&&(o="/");let{pathname:e,search:c="",hash:h=""}=typeof a=="string"?parsePath(a):a;return{pathname:e?e.startsWith("/")?e:resolvePathname(e,o):o,search:normalizeSearch(c),hash:normalizeHash(h)}}function resolvePathname(a,o){let e=o.replace(/\/+$/,"").split("/");return a.split("/").forEach(h=>{h===".."?e.length>1&&e.pop():h!=="."&&e.push(h)}),e.length>1?e.join("/"):"/"}function getInvalidPathError(a,o,e,c){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((o,e)=>e===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(a,o){let e=getPathContributingMatches(a);return o?e.map((c,h)=>h===a.length-1?c.pathname:c.pathnameBase):e.map(c=>c.pathnameBase)}function resolveTo(a,o,e,c){c===void 0&&(c=!1);let h;typeof a=="string"?h=parsePath(a):(h=_extends$3({},a),invariant(!h.pathname||!h.pathname.includes("?"),getInvalidPathError("?","pathname","search",h)),invariant(!h.pathname||!h.pathname.includes("#"),getInvalidPathError("#","pathname","hash",h)),invariant(!h.search||!h.search.includes("#"),getInvalidPathError("#","search","hash",h)));let g=a===""||h.pathname==="",b=g?"/":h.pathname,$;if(b==null)$=e;else{let pt=o.length-1;if(!c&&b.startsWith("..")){let wt=b.split("/");for(;wt[0]==="..";)wt.shift(),pt-=1;h.pathname=wt.join("/")}$=pt>=0?o[pt]:"/"}let j=resolvePath(h,$),rt=b&&b!=="/"&&b.endsWith("/"),nt=(g||b===".")&&e.endsWith("/");return!j.pathname.endsWith("/")&&(rt||nt)&&(j.pathname+="/"),j}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,o){let{relative:e}=o===void 0?{}:o;useInRouterContext()||invariant(!1);let{basename:c,navigator:h}=reactExports.useContext(NavigationContext),{hash:g,pathname:b,search:$}=useResolvedPath(a,{relative:e}),j=b;return c!=="/"&&(j=b==="/"?c:joinPaths([c,b])),h.createHref({pathname:j,search:$,hash:g})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let a=reactExports.useContext(DataRouterContext),{basename:o,future:e,navigator:c}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(h,e.v7_relativeSplatPath)),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(function(rt,nt){if(nt===void 0&&(nt={}),!$.current)return;if(typeof rt=="number"){c.go(rt);return}let pt=resolveTo(rt,JSON.parse(b),g,nt.relative==="path");a==null&&o!=="/"&&(pt.pathname=pt.pathname==="/"?o:joinPaths([o,pt.pathname])),(nt.replace?c.replace:c.push)(pt,nt.state,nt)},[o,c,b,g,a])}function useParams(){let{matches:a}=reactExports.useContext(RouteContext),o=a[a.length-1];return o?o.params:{}}function useResolvedPath(a,o){let{relative:e}=o===void 0?{}:o,{future:c}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(h,c.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(b),g,e==="path"),[a,b,g,e])}function useRoutes(a,o){return useRoutesImpl(a,o)}function useRoutesImpl(a,o,e,c){useInRouterContext()||invariant(!1);let{navigator:h}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),b=g[g.length-1],$=b?b.params:{};b&&b.pathname;let j=b?b.pathnameBase:"/";b&&b.route;let rt=useLocation(),nt;if(o){var pt;let st=typeof o=="string"?parsePath(o):o;j==="/"||(pt=st.pathname)!=null&&pt.startsWith(j)||invariant(!1),nt=st}else nt=rt;let wt=nt.pathname||"/",Dt=wt;if(j!=="/"){let st=j.replace(/^\//,"").split("/");Dt="/"+wt.replace(/^\//,"").split("/").slice(st.length).join("/")}let Lt=matchRoutes(a,{pathname:Dt}),it=_renderMatches(Lt&&Lt.map(st=>Object.assign({},st,{params:Object.assign({},$,st.params),pathname:joinPaths([j,h.encodeLocation?h.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?j:joinPaths([j,h.encodeLocation?h.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),g,e,c);return o&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},nt),navigationType:Action.Pop}},it):it}function DefaultErrorComponent(){let a=useRouteError(),o=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),e?reactExports.createElement("pre",{style:h},e):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,e){return e.location!==o.location||e.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:e.error,location:e.location,revalidation:o.revalidation||e.revalidation}}componentDidCatch(o,e){console.error("React Router caught the following error during render",o,e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:o,match:e,children:c}=a,h=reactExports.useContext(DataRouterContext);return h&&h.static&&h.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:o},c)}function _renderMatches(a,o,e,c){var h;if(o===void 0&&(o=[]),e===void 0&&(e=null),c===void 0&&(c=null),a==null){var g;if((g=e)!=null&&g.errors)a=e.matches;else return null}let b=a,$=(h=e)==null?void 0:h.errors;if($!=null){let nt=b.findIndex(pt=>pt.route.id&&($==null?void 0:$[pt.route.id]));nt>=0||invariant(!1),b=b.slice(0,Math.min(b.length,nt+1))}let j=!1,rt=-1;if(e&&c&&c.v7_partialHydration)for(let nt=0;nt<b.length;nt++){let pt=b[nt];if((pt.route.HydrateFallback||pt.route.hydrateFallbackElement)&&(rt=nt),pt.route.id){let{loaderData:wt,errors:Dt}=e,Lt=pt.route.loader&&wt[pt.route.id]===void 0&&(!Dt||Dt[pt.route.id]===void 0);if(pt.route.lazy||Lt){j=!0,rt>=0?b=b.slice(0,rt+1):b=[b[0]];break}}}return b.reduceRight((nt,pt,wt)=>{let Dt,Lt=!1,it=null,st=null;e&&(Dt=$&&pt.route.id?$[pt.route.id]:void 0,it=pt.route.errorElement||defaultErrorElement,j&&(rt<0&&wt===0?(warningOnce("route-fallback",!1),Lt=!0,st=null):rt===wt&&(Lt=!0,st=pt.route.hydrateFallbackElement||null)));let bt=o.concat(b.slice(0,wt+1)),gt=()=>{let Et;return Dt?Et=it:Lt?Et=st:pt.route.Component?Et=reactExports.createElement(pt.route.Component,null):pt.route.element?Et=pt.route.element:Et=nt,reactExports.createElement(RenderedRoute,{match:pt,routeContext:{outlet:nt,matches:bt,isDataRoute:e!=null},children:Et})};return e&&(pt.route.ErrorBoundary||pt.route.errorElement||wt===0)?reactExports.createElement(RenderErrorBoundary,{location:e.location,revalidation:e.revalidation,component:it,error:Dt,children:gt(),routeContext:{outlet:null,matches:bt,isDataRoute:!0}}):gt()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext$1(a){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useDataRouterState(a){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext(a){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId(a){let o=useRouteContext(),e=o.matches[o.matches.length-1];return e.route.id||invariant(!1),e.route.id}function useRouteError(){var a;let o=reactExports.useContext(RouteErrorContext),e=useDataRouterState(DataRouterStateHook$1.UseRouteError),c=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return o!==void 0?o:(a=e.errors)==null?void 0:a[c]}function useNavigateStable(){let{router:a}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{e.current=!0}),reactExports.useCallback(function(h,g){g===void 0&&(g={}),e.current&&(typeof h=="number"?a.navigate(h):a.navigate(h,_extends$2({fromRouteId:o},g)))},[a,o])}const alreadyWarned={};function warningOnce(a,o,e){!o&&!alreadyWarned[a]&&(alreadyWarned[a]=!0)}function Route(a){invariant(!1)}function Router(a){let{basename:o="/",children:e=null,location:c,navigationType:h=Action.Pop,navigator:g,static:b=!1,future:$}=a;useInRouterContext()&&invariant(!1);let j=o.replace(/^\/*/,"/"),rt=reactExports.useMemo(()=>({basename:j,navigator:g,static:b,future:_extends$2({v7_relativeSplatPath:!1},$)}),[j,$,g,b]);typeof c=="string"&&(c=parsePath(c));let{pathname:nt="/",search:pt="",hash:wt="",state:Dt=null,key:Lt="default"}=c,it=reactExports.useMemo(()=>{let st=stripBasename(nt,j);return st==null?null:{location:{pathname:st,search:pt,hash:wt,state:Dt,key:Lt},navigationType:h}},[j,nt,pt,wt,Dt,Lt,h]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:rt},reactExports.createElement(LocationContext.Provider,{children:e,value:it}))}function Routes(a){let{children:o,location:e}=a;return useRoutes(createRoutesFromChildren(o),e)}new Promise(()=>{});function createRoutesFromChildren(a,o){o===void 0&&(o=[]);let e=[];return reactExports.Children.forEach(a,(c,h)=>{if(!reactExports.isValidElement(c))return;let g=[...o,h];if(c.type===reactExports.Fragment){e.push.apply(e,createRoutesFromChildren(c.props.children,g));return}c.type!==Route&&invariant(!1),!c.props.index||!c.props.children||invariant(!1);let b={id:c.props.id||g.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(b.children=createRoutesFromChildren(c.props.children,g)),e.push(b)}),e}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$7(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function isModifiedEvent$1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,o){return a.button===0&&(!o||o==="_self")&&!isModifiedEvent$1(a)}const _excluded$6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_excluded2$1=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(a){let{basename:o,children:e,future:c,window:h}=a,g=reactExports.useRef();g.current==null&&(g.current=createHashHistory({window:h,v5Compat:!0}));let b=g.current,[$,j]=reactExports.useState({action:b.action,location:b.location}),{v7_startTransition:rt}=c||{},nt=reactExports.useCallback(pt=>{rt&&startTransitionImpl?startTransitionImpl(()=>j(pt)):j(pt)},[j,rt]);return reactExports.useLayoutEffect(()=>b.listen(nt),[b,nt]),reactExports.createElement(Router,{basename:o,children:e,location:$.location,navigationType:$.action,navigator:b,future:c})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(o,e){let{onClick:c,relative:h,reloadDocument:g,replace:b,state:$,target:j,to:rt,preventScrollReset:nt,unstable_viewTransition:pt}=o,wt=_objectWithoutPropertiesLoose$7(o,_excluded$6),{basename:Dt}=reactExports.useContext(NavigationContext),Lt,it=!1;if(typeof rt=="string"&&ABSOLUTE_URL_REGEX.test(rt)&&(Lt=rt,isBrowser))try{let Et=new URL(window.location.href),ot=rt.startsWith("//")?new URL(Et.protocol+rt):new URL(rt),_t=stripBasename(ot.pathname,Dt);ot.origin===Et.origin&&_t!=null?rt=_t+ot.search+ot.hash:it=!0}catch{}let st=useHref(rt,{relative:h}),bt=useLinkClickHandler(rt,{replace:b,state:$,target:j,preventScrollReset:nt,relative:h,unstable_viewTransition:pt});function gt(Et){c&&c(Et),Et.defaultPrevented||bt(Et)}return reactExports.createElement("a",_extends$1({},wt,{href:Lt||st,onClick:it||g?c:gt,ref:e,target:j}))}),NavLink$2=reactExports.forwardRef(function(o,e){let{"aria-current":c="page",caseSensitive:h=!1,className:g="",end:b=!1,style:$,to:j,unstable_viewTransition:rt,children:nt}=o,pt=_objectWithoutPropertiesLoose$7(o,_excluded2$1),wt=useResolvedPath(j,{relative:pt.relative}),Dt=useLocation(),Lt=reactExports.useContext(DataRouterStateContext),{navigator:it,basename:st}=reactExports.useContext(NavigationContext),bt=Lt!=null&&useViewTransitionState(wt)&&rt===!0,gt=it.encodeLocation?it.encodeLocation(wt).pathname:wt.pathname,Et=Dt.pathname,ot=Lt&&Lt.navigation&&Lt.navigation.location?Lt.navigation.location.pathname:null;h||(Et=Et.toLowerCase(),ot=ot?ot.toLowerCase():null,gt=gt.toLowerCase()),ot&&st&&(ot=stripBasename(ot,st)||ot);const _t=gt!=="/"&&gt.endsWith("/")?gt.length-1:gt.length;let Mt=Et===gt||!b&&Et.startsWith(gt)&&Et.charAt(_t)==="/",Bt=ot!=null&&(ot===gt||!b&&ot.startsWith(gt)&&ot.charAt(gt.length)==="/"),It={isActive:Mt,isPending:Bt,isTransitioning:bt},jt=Mt?c:void 0,tr;typeof g=="function"?tr=g(It):tr=[g,Mt?"active":null,Bt?"pending":null,bt?"transitioning":null].filter(Boolean).join(" ");let gr=typeof $=="function"?$(It):$;return reactExports.createElement(Link,_extends$1({},pt,{"aria-current":jt,className:tr,ref:e,style:gr,to:j,unstable_viewTransition:rt}),typeof nt=="function"?nt(It):nt)});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(a){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useLinkClickHandler(a,o){let{target:e,replace:c,state:h,preventScrollReset:g,relative:b,unstable_viewTransition:$}=o===void 0?{}:o,j=useNavigate(),rt=useLocation(),nt=useResolvedPath(a,{relative:b});return reactExports.useCallback(pt=>{if(shouldProcessLinkClick(pt,e)){pt.preventDefault();let wt=c!==void 0?c:createPath(rt)===createPath(nt);j(a,{replace:wt,state:h,preventScrollReset:g,relative:b,unstable_viewTransition:$})}},[rt,j,nt,c,h,e,a,g,b,$])}function useViewTransitionState(a,o){o===void 0&&(o={});let e=reactExports.useContext(ViewTransitionContext);e==null&&invariant(!1);let{basename:c}=useDataRouterContext(DataRouterHook.useViewTransitionState),h=useResolvedPath(a,{relative:o.relative});if(!e.isTransitioning)return!1;let g=stripBasename(e.currentLocation.pathname,c)||e.currentLocation.pathname,b=stripBasename(e.nextLocation.pathname,c)||e.nextLocation.pathname;return matchPath(h.pathname,b)!=null||matchPath(h.pathname,g)!=null}var dist$2={},Navbar$1={};const mcloud_logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABPCAYAAAAQlxDmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QgeDQk2h9q0aQAADmpJREFUeNrtXXuYU9W1/61zkgzDc2ByMuM45GR4fDyGZHiM16uFXm2V6idWKWpLa6Gg9oHaa1Xwtra0Kn0/KKKoxVKxLVKq9T7Ui9ZPvNZXZQAzmaBYYJLMMDBJEMSBYSY5Z90/Mthz9jxIhuRMBrP+y87JPnvt317PvfYOUKACFahABSpQz0SDefDbAFupe9SIU5/ldkeiOhZrKwCRQwpWw5FsK50tMc1hovMATAagArAJjx4mpn0gfQcTvZXU+IWZTfGWAhBnSIGxzlqWaBmAawCM6EcXDEIdM/8mkXBsqm1pOVEAIu2ZAwVU50IQ3QbGeVns+igYj9mIfzY1HD9YAKIP8o8tm0ayvg6MOWmy0Anw8S4Vla7EfECM770Tia27DtAKQBiobhbsjphyLwh3ALD38ti7BLykE79qk7TX2k8Wx42qhgFpd+XIkiQVVUPCJwmYDeAiAEN66W8HSbTU2xitLwABoK6iwumwJ/7cNWkitRGwWSfp0ZpQ698zNvKVI8foUtH1TLgJwLQeHjlOoEXecPQvH2sgGsaWnqdL0tMAzhW+0pjwoI7E92eEjh7NitpzO68kojUAqrrZJcL9vlDsWwToHzsggu4xUzWSXwUwWvhqD4GWesPR17P9zncnOUd0nqQfAri1+2Twz73h+IqPFRDBcaPdmmZ7A0CF8NWT8gksyXVgFnA75zHRHwCMEmTjDl84/quPBRBBRRmuDcXLAGYJDv8vfeHoCqvUw9uqMkMCngegmFQi8/yaSPx/rJwTaSCA0IrxQE8g1ISjd1qpo6eHY7tYlz4F0PuGZpmIngiMdY0/q4EIVLnmgrBIkMstvnB0QHRzTVNrA0j/HIAOQ/MwlviBsxaIf0yYUMQ6PySoxD2dnfYlA+WtAIAvFP8/ZtwlNF/mdyvXnJVAnEgeWwpgnFFLEWhpPuR/fJHYWjBeMQkqYdUWQD6rgKibBTtYv0vw3R/MhYvaT69Fl3XcACBpaJ40xWONVFgGhD2mXEUg1dDULhH9CHlE1c2xvQQ8ZlosjNvOLtVEWGxmkDd6G6OtyDPSZP45zInA8+s9pZPPCiACqms+AfNMQMj8O+QhTd8ffw/gOnPATWuD1XAMWiCCHqXcr7p+wcDmbi/WZTkfgWCAQDRUEOdLtDblLb9HuWzQRdZ+1XkjgdaitxQ0owng+b5IfEe+gFA3C3ZHXHkEwJI+HnvWnnQsnnLgwOG8lwi/R1lMoPXofR8AIIwF0StvV5X+S74A4Tis/PE0IADAFQlb5zN1s3rdM8kPIOrdo0YTo6eo9CSAhNA2VNKlhzkP0vEB1TUfjGt7+OrDHtr+1R53ZdWbouwDodwFwk8MTUdZ58V7muLPVldD1tqUmwCsgSFQIuYfMOTXBgwFCcOYtTVG95qB1ySdFnubovuCHqVcY34IoKsNv2odQcM8VaHQybwDom7c6FEOzbYbxtQ289d8kfhvTGCpyloAtyB/6YRMGF8dih36iLeKiqEOW+JdEMYaY4yaSGxN3qimf0yYUFSvKrc4NNvbEPYXNMn2Qjf0mZ9HflO9EQQAqG1pOQEiMQWyut6j/Cmglk4ZUCC2AHK9qtzcnvhgH4C1ADziMzLr54htOqE8z4HobXzndNMojOsYUkO96tp0JqnzfqumYKUyQZOxEcCFp3HMX+hUYvNqd6QM9S5PSYnM9u0AJghPHgawB2ArE4CUmnSa2m0umL/qi8TXf2TMq1xzWeetp5mz40y03BeKPkwA5xwIv8e5kJjWAxiWrqgD+G8QO8D0RQCVwjBWy8Oj/1EdROeA6CG3cxaIngVQZo7t8BQDbxNjIghfQvfyzt5oa7Fd+/zEve8fyxkQ9W7nTSB6uAe19iEBaxm8G6DbANSm2eV+bzg2cSD3IwwB6Po0H08Q8w9ZojAxbuBU/ZRIO9kmXV6zrzWadRvhV13LQPRI99/RE0mdJ3vDsbt94fgfNUpcCkIgzZTC7oEGIbUipWDaIIA+743E7/GFYo95w7E5BFoAoFl4biYl9Vd2TihXsgpEwO26lMD3C1LUDsJSXzj6RWPF9YzQ0aPFNm02A7/tIYgTRXIaD9DeuWB1p6ajEHRJn+0NR582NnrD0b+QRLXixhKASXJC+9O2NFQapaeOysaBeDvAY8wRJ33GF46+0acUjS9zIaF/koDxXW/8NwCXC2JxnS8S+/NAgcCAVK8qOwiYbmhuIcIDrEMHiEH42+l4TeWqnFuEwO+jwogzB0J1/hWgS0ySIOEyX2PslX4y/SIBF/+zjcOJhGPqQG2ZBjyurzPzQ8ZhSkxzpkWiGUf7wWo4tDblP4XFxkzSBX2VjJ5WJfhV1wIBBBBwS39A6PqtbtPw1a7cU1cbqUX2zh8MBAg7xzormPmn5kHS+v6AAADVQXTKJ3BdyhU39Mj6Q32pYOl0AZvE/GPBv/4vbzi24UyYr26O7QVhjSC+3/RXOSdZDYRNovsAjDQ0HWGZvndG/MVibUzSV2B2QmY09FEV0icQU9zOy5kw0dDUYZPt/56NCWhLFt0DYL+hqYiY1luZiW1QnRcDWGpeELwiXZezL6oJtb4JYKOpb+p9/7tPIHSiJWZh4N9NbTwYzsYkXNjc3E6g5YIBmROwqJZoG2DTQauF5h17wvGsbeEypPtgrgq5oLf9716B2OUpKSHgSlPeSJYezuZkdJ1J2CoYkV8FFWV4roFwupVlAGqM606X9GXZPEFUE25tZIE/1qVFGQFhY9snYD6545/WGPVne0JkDbcaDTeASn0or8wlCEGPUs6EewUD/ej0xsNv5cA33mh+TY+HcXoHgonmCB3+by4mpbo5thfgHwmG+/agR5meKyC01MaUsRz/YLEtuTwX7yoq5udhlrLauoqKoenbCOZaM5K0PVcT06YN+YVguGWNsToXhjvgcV4kbokyeGUmCbpMaPKe+IcA3jM02e0OzZeBsaYy0yqS9YZcAXFhc3M7MYve2EUB1bkwm++pmwU7p/bTjQC/6QvHNyCXRGgQYqmyTLymUpOIdRQdzuVYvZH4MwQ8JXCwut49anS23mGPK8sBqjYm8HSWb8x10pEYMfNn3ZkJECUmkT5w4ChyTEmS7wRgTHO4AEdWDLf/3DGVBHxbaH5keuRQELknYe64JBMgjAc3UFlZ6cj1aGeEDoXAdI8g1t/MRu0T2aS1AIxu8QHHEP6OFTGLDioSnJGODIy1uZ5nCJ0cbcWgix0j1wjGTZJ16ZdnYrgDVa653TKiTN/pMqQ5JzJnrcFMx9IHQkLI5O9LPNmKQU/cu7eDddwIw54vA7MDbueN/emv0eMZwjqvE6bmpZpI9HELU1qTBI+0Mf04gk2rEhLkmVaNuqYp9jeIhptoVX8M9zE+fgdO7YV0mSJodJtVvHSVZprcVclG76UNhAS8ISBziYUrCJzUvgXAeNbaReRYlUkfuzzlHgIEO0Brfc2tAav4cLyvXCDYpsaezoX0IRHSNnOkjU8HqlxllknFgfebGXSv2Wzha37VmbZkytDXADBGsS2OIfr3rVxQpPMXBB5eyijF4Yu07gewy5h+0nW+wUomEs7orwHabZxbAtals8cdcDvngfmz5sXEd1hloIHUdRMMWigEc09lBETXwB8XOrm1pzxJrqh2BxJE+s0wFWvR+QG3s88F8XplZTGnLj8xG+hQfLOVC6mzXfqGEI8dOhyO/TVjIIba9A0Ajhiayh2OTktF2xuKvwzQJsFw/9g/vszV229GyB3fhekYMXUSNEuLnv3njqkE8d1CSPDri837E+kBkUqE8WpBTG5vcLs+YSVTNujLARh971Ipqa/rcQI8ZeczsELIMaz2hg+/Y5mjAUhklzfAvAUbldvxYB/OUd/UlRltNNkKwqadY50VVjE2NRw/yIyVArML/KpydzcvifUnYawjYjRxu3SflQun3uNaCcalQlR3V1837qQVrQbcrkuZeKsJOEIgaZM/PXPvoZgVzG0DbKUeZScYXoGFTSRhI2u6B6lz26VCOuGamnD0KctAUJWbAfHEFL/oDcfn9lWYnHbaIKAqqxi4W2jeq8t8RepIrAV6V3UtIPCTmcRTvnDsPKvUUYOq3NvDHB0kiWac7kx52qWO08KxldT9mO4ESaPtfo/zC5bYCu3ktsyceH7JinEFPUp5QFWe6QGEYwyel87B/rSBIECXhscWA3ha+GokMT1RryrP1ruds3LJsE5DMkxxSCU5BUBRhterzts1xjsQy0iBDyDhyppwfGea85sZbQHkKapyPwPLeunwVZ3wqGaTn8um/Xi9srJ4mNyxRbzBAKlc/+tInbkQtyBPSExz+1u11xv/kzxltcT6lwB8WYgTTlGzJNG8TIot+p9adruuZ+J16P3SWwbwLoAgg0NE1P8yFcYwMK4yHiTsopc7E/Zra1ta4inX1bmQmP4gSHqSga0S+B0m0s9AHEtAPAnATMEtFem5zoR98akx5RwIoOuCxKR8P4iuwgCQRnLVjNChkNmgOx8n0JcHYDgxZrrTF4n+PtNjWxnZiJ6oev+RiC8Sv1pims3AM7D2wMkxEYQUQ5LVtxq3MGiFYwiPr4lEH+8PCGcsESLtrjpHTeqJRQCuAKgWOb79qyeJqFedvwfo+hxPfitALxLrm+OR+Nbe0hYDBoTJgR83elRRQp7IRFUskZN0HtlvE0GkADyJgMtgPn3zcqecvLp2/5EPAKDerVwLwmZB0g8y8ByBw2Dq32FJiTsBOgpdaiLmxmlN0f39XfmWA5Gb1IGyBIwN3VYn85sgUgBcYOKJsJ3bpYtrWluP5ztvg+6vbQKq8iQDC9J4tE3WMCNV0pn/JA02IDoS9kXEON0VEkfA0vzBAsKglIhTeZ2AqixDKqg03oPRAcYTxLTK2xTdN5h4GtT/unUqzwOgPEncnuhwNOXrfwgVqEAFKlCBCtRf+n97Y2CaOfCNbwAAAABJRU5ErkJggg==",mcloud_logo$1=Object.freeze(Object.defineProperty({__proto__:null,default:mcloud_logo},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(mcloud_logo$1);function _typeof$6(a){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$6(a)}Object.defineProperty(Navbar$1,"__esModule",{value:!0});Navbar$1.default=void 0;var _mcloud_logo=_interopRequireDefault$8(require$$1$2),_react$8=_interopRequireDefault$8(reactExports);function _interopRequireDefault$8(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck$6(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(a,o){for(var e=0;e<o.length;e++){var c=o[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey$2(c.key),c)}}function _createClass$6(a,o,e){return o&&_defineProperties$6(a.prototype,o),e&&_defineProperties$6(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey$2(a){var o=_toPrimitive$2(a,"string");return _typeof$6(o)==="symbol"?o:String(o)}function _toPrimitive$2(a,o){if(_typeof$6(a)!=="object"||a===null)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var c=e.call(a,o||"default");if(_typeof$6(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)}function _inherits$6(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&_setPrototypeOf$7(a,o)}function _setPrototypeOf$7(a,o){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$7(a,o)}function _createSuper$6(a){var o=_isNativeReflectConstruct$6();return function(){var c=_getPrototypeOf$6(a),h;if(o){var g=_getPrototypeOf$6(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$6(this,h)}}function _possibleConstructorReturn$6(a,o){if(o&&(_typeof$6(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(a)}function _assertThisInitialized$6(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$6(a){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf$6(a)}var mainSections={learn:{name:"LEARN",link:"https://www.materialscloud.org/learn"},work:{name:"WORK",link:"https://www.materialscloud.org/work"},discover:{name:"DISCOVER",link:"https://www.materialscloud.org/discover"},explore:{name:"EXPLORE",link:"https://www.materialscloud.org/explore"},archive:{name:"ARCHIVE",link:"https://www.materialscloud.org/archive"}},dropdownSections={policies:{name:"Policies",link:"https://www.materialscloud.org/policies"},dmp:{name:"Data Management Plan",link:"https://www.materialscloud.org/dmp"},terms:{name:"Terms of Use",link:"https://www.materialscloud.org/termssummary"},infrastructure:{name:"Infrastructure",link:"https://www.materialscloud.org/infrastructure"},team:{name:"Team & Contact",link:"https://www.materialscloud.org/team"},partners:{name:"Partners",link:"https://www.materialscloud.org/home#partners"},restapi:{name:"Connect your REST API",link:"https://www.materialscloud.org/explore/connect"}},DropdownMenu=function(a){_inherits$6(e,a);var o=_createSuper$6(e);function e(c){var h;return _classCallCheck$6(this,e),h=o.call(this,c),h.state={dropdownOpen:!1},h.toggleDropdown=h.toggleDropdown.bind(_assertThisInitialized$6(h)),h.setWrapperRef=h.setWrapperRef.bind(_assertThisInitialized$6(h)),h.handleClickOutside=h.handleClickOutside.bind(_assertThisInitialized$6(h)),h}return _createClass$6(e,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(h){this.wrapperRef=h}},{key:"handleClickOutside",value:function(h){this.wrapperRef&&!this.wrapperRef.contains(h.target)&&this.state.dropdownOpen&&this.setState({dropdownOpen:!1})}},{key:"toggleDropdown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var h=this,g="dropdown-content";return this.state.dropdownOpen&&(g+=" dropdown-open"),_react$8.default.createElement("div",{ref:this.setWrapperRef,className:"more-dropdown"},_react$8.default.createElement("a",{className:"more-btn",onClick:this.toggleDropdown},"More ",_react$8.default.createElement("i",{className:"fa fa-caret-down"})),_react$8.default.createElement("div",{className:g},Object.keys(dropdownSections).map(function(b,$){var j="";return b==h.props.activeSection&&(j="active"),_react$8.default.createElement("a",{key:$,className:j,href:dropdownSections[b].link},dropdownSections[b].name)})))}}]),e}(_react$8.default.Component),Navbar=function(a){_inherits$6(e,a);var o=_createSuper$6(e);function e(){return _classCallCheck$6(this,e),o.apply(this,arguments)}return _createClass$6(e,[{key:"render",value:function(){var h=this;return _react$8.default.createElement("div",{className:"mc-navbar"},_react$8.default.createElement("a",{className:"mc-navbrand",href:"https://www.materialscloud.org/home"},_react$8.default.createElement("img",{src:_mcloud_logo.default,height:"50",alt:"MC logo"})),Object.keys(mainSections).map(function(g,b){var $="mc-navlink";return g==h.props.activeSection&&($+=" active"),_react$8.default.createElement("a",{key:b,className:$,href:mainSections[g].link},mainSections[g].name)}),_react$8.default.createElement(DropdownMenu,{activeSection:this.props.activeSection}))}}]),e}(_react$8.default.Component),_default$7=Navbar;Navbar$1.default=_default$7;var Breadcrumbs$1={};Object.defineProperty(Breadcrumbs$1,"__esModule",{value:!0});Breadcrumbs$1.default=void 0;var _react$7=_interopRequireDefault$7(reactExports);function _interopRequireDefault$7(a){return a&&a.__esModule?a:{default:a}}function Breadcrumbs(a){return _react$7.default.createElement("ul",{className:"mc-breadcrumb"},a.breadcrumbsPath.map(function(o,e){return _react$7.default.createElement("li",{key:e},_react$7.default.createElement("a",{href:o.link},o.name))}))}var _default$6=Breadcrumbs;Breadcrumbs$1.default=_default$6;function _typeof$5(a){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$5(a)}Object.defineProperty(dist$2,"__esModule",{value:!0});var default_1$1=dist$2.default=void 0,_react$6=_interopRequireDefault$6(reactExports),_Navbar=_interopRequireDefault$6(Navbar$1),_Breadcrumbs=_interopRequireDefault$6(Breadcrumbs$1);function _interopRequireDefault$6(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck$5(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(a,o){for(var e=0;e<o.length;e++){var c=o[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey$1(c.key),c)}}function _createClass$5(a,o,e){return o&&_defineProperties$5(a.prototype,o),e&&_defineProperties$5(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey$1(a){var o=_toPrimitive$1(a,"string");return _typeof$5(o)==="symbol"?o:String(o)}function _toPrimitive$1(a,o){if(_typeof$5(a)!=="object"||a===null)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var c=e.call(a,o||"default");if(_typeof$5(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)}function _inherits$5(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&_setPrototypeOf$6(a,o)}function _setPrototypeOf$6(a,o){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$6(a,o)}function _createSuper$5(a){var o=_isNativeReflectConstruct$5();return function(){var c=_getPrototypeOf$5(a),h;if(o){var g=_getPrototypeOf$5(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$5(this,h)}}function _possibleConstructorReturn$5(a,o){if(o&&(_typeof$5(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(a)}function _assertThisInitialized$5(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$5(a){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf$5(a)}var MaterialsCloudHeader=function(a){_inherits$5(e,a);var o=_createSuper$5(e);function e(c){return _classCallCheck$5(this,e),o.call(this,c)}return _createClass$5(e,[{key:"render",value:function(){return _react$6.default.createElement("div",{className:"main-container"},_react$6.default.createElement(_Navbar.default,{activeSection:this.props.activeSection}),_react$6.default.createElement("div",{className:"content-container"},_react$6.default.createElement(_Breadcrumbs.default,{breadcrumbsPath:this.props.breadcrumbsPath}),this.props.children))}}]),e}(_react$6.default.Component),_default$5=MaterialsCloudHeader;default_1$1=dist$2.default=_default$5;var dist$1={},PTable$1={},classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(a){(function(){var o={}.hasOwnProperty;function e(){for(var g="",b=0;b<arguments.length;b++){var $=arguments[b];$&&(g=h(g,c($)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return e.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var $ in g)o.call(g,$)&&g[$]&&(b=h(b,$));return b}function h(g,b){return b?g?g+" "+b:g+b:g}a.exports?(e.default=e,a.exports=e):window.classNames=e})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports),DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(a,o){const{prefixes:e}=reactExports.useContext(ThemeContext);return a||e[o]||o}function useBootstrapBreakpoints(){const{breakpoints:a}=reactExports.useContext(ThemeContext);return a}function useBootstrapMinBreakpoint(){const{minBreakpoint:a}=reactExports.useContext(ThemeContext);return a}function useIsRTL(){const{dir:a}=reactExports.useContext(ThemeContext);return a==="rtl"}const PopoverHeader=reactExports.forwardRef(({className:a,bsPrefix:o,as:e="div",...c},h)=>(o=useBootstrapPrefix(o,"popover-header"),jsxRuntimeExports.jsx(e,{ref:h,className:classNames(a,o),...c})));PopoverHeader.displayName="PopoverHeader";const PopoverHeader$1=PopoverHeader,PopoverBody=reactExports.forwardRef(({className:a,bsPrefix:o,as:e="div",...c},h)=>(o=useBootstrapPrefix(o,"popover-body"),jsxRuntimeExports.jsx(e,{ref:h,className:classNames(a,o),...c})));PopoverBody.displayName="PopoverBody";const PopoverBody$1=PopoverBody;function getOverlayDirection(a,o){let e=a;return a==="left"?e=o?"end":"start":a==="right"&&(e=o?"start":"end"),e}function getInitialPopperStyles(a="absolute"){return{position:a,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Popover=reactExports.forwardRef(({bsPrefix:a,placement:o="right",className:e,style:c,children:h,body:g,arrowProps:b,hasDoneInitialMeasure:$,popper:j,show:rt,...nt},pt)=>{const wt=useBootstrapPrefix(a,"popover"),Dt=useIsRTL(),[Lt]=(o==null?void 0:o.split("-"))||[],it=getOverlayDirection(Lt,Dt);let st=c;return rt&&!$&&(st={...c,...getInitialPopperStyles(j==null?void 0:j.strategy)}),jsxRuntimeExports.jsxs("div",{ref:pt,role:"tooltip",style:st,"x-placement":Lt,className:classNames(e,wt,Lt&&`bs-popover-${it}`),...nt,children:[jsxRuntimeExports.jsx("div",{className:"popover-arrow",...b}),g?jsxRuntimeExports.jsx(PopoverBody$1,{children:h}):h]})}),Popover$1=Object.assign(Popover,{Header:PopoverHeader$1,Body:PopoverBody$1,POPPER_OFFSET:[0,8]}),Popover$2=Object.freeze(Object.defineProperty({__proto__:null,default:Popover$1},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(Popover$2);var HelpButton$1={};function contains$1(a,o){if(a.contains)return a.contains(o);if(a.compareDocumentPosition)return a===o||!!(a.compareDocumentPosition(o)&16)}var propTypes$3={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(c,h,g,b,$,j){if(j!==ReactPropTypesSecret){var rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw rt.name="Invariant Violation",rt}}a.isRequired=a;function o(){return a}var e={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e};propTypes$3.exports=factoryWithThrowingShims();var propTypesExports=propTypes$3.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function useMounted(){const a=reactExports.useRef(!0),o=reactExports.useRef(()=>a.current);return reactExports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),o.current}function useUpdatedRef(a){const o=reactExports.useRef(a);return o.current=a,o}function useWillUnmount(a){const o=useUpdatedRef(a);reactExports.useEffect(()=>()=>o.current(),[])}const MAX_DELAY_MS=2**31-1;function setChainedTimeout(a,o,e){const c=e-Date.now();a.current=c<=MAX_DELAY_MS?setTimeout(o,c):setTimeout(()=>setChainedTimeout(a,o,e),MAX_DELAY_MS)}function useTimeout(){const a=useMounted(),o=reactExports.useRef();return useWillUnmount(()=>clearTimeout(o.current)),reactExports.useMemo(()=>{const e=()=>clearTimeout(o.current);function c(h,g=0){a()&&(e(),g<=MAX_DELAY_MS?o.current=setTimeout(h,g):setChainedTimeout(o,h,Date.now()+g))}return{set:c,clear:e,handleRef:o}},[])}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$6(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function defaultKey(a){return"default"+a.charAt(0).toUpperCase()+a.substr(1)}function _toPropertyKey(a){var o=_toPrimitive(a,"string");return typeof o=="symbol"?o:String(o)}function _toPrimitive(a,o){if(typeof a!="object"||a===null)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var c=e.call(a,o||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)}function useUncontrolledProp$1(a,o,e){var c=reactExports.useRef(a!==void 0),h=reactExports.useState(o),g=h[0],b=h[1],$=a!==void 0,j=c.current;return c.current=$,!$&&j&&g!==o&&b(o),[$?a:g,reactExports.useCallback(function(rt){for(var nt=arguments.length,pt=new Array(nt>1?nt-1:0),wt=1;wt<nt;wt++)pt[wt-1]=arguments[wt];e&&e.apply(void 0,[rt].concat(pt)),b(rt)},[e])]}function useUncontrolled(a,o){return Object.keys(o).reduce(function(e,c){var h,g=e,b=g[defaultKey(c)],$=g[c],j=_objectWithoutPropertiesLoose$6(g,[defaultKey(c),c].map(_toPropertyKey)),rt=o[c],nt=useUncontrolledProp$1($,b,a[rt]),pt=nt[0],wt=nt[1];return _extends({},j,(h={},h[c]=pt,h[rt]=wt,h))},a)}function _setPrototypeOf$5(a,o){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$5(a,o)}function _inheritsLoose(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,_setPrototypeOf$5(a,o)}const toFnRef=a=>!a||typeof a=="function"?a:o=>{a.current=o};function mergeRefs(a,o){const e=toFnRef(a),c=toFnRef(o);return h=>{e&&e(h),c&&c(h)}}function useMergedRefs(a,o){return reactExports.useMemo(()=>mergeRefs(a,o),[a,o])}function useCallbackRef(){return reactExports.useState(null)}var has=Object.prototype.hasOwnProperty;function find(a,o,e){for(e of a.keys())if(dequal(e,o))return e}function dequal(a,o){var e,c,h;if(a===o)return!0;if(a&&o&&(e=a.constructor)===o.constructor){if(e===Date)return a.getTime()===o.getTime();if(e===RegExp)return a.toString()===o.toString();if(e===Array){if((c=a.length)===o.length)for(;c--&&dequal(a[c],o[c]););return c===-1}if(e===Set){if(a.size!==o.size)return!1;for(c of a)if(h=c,h&&typeof h=="object"&&(h=find(o,h),!h)||!o.has(h))return!1;return!0}if(e===Map){if(a.size!==o.size)return!1;for(c of a)if(h=c[0],h&&typeof h=="object"&&(h=find(o,h),!h)||!dequal(c[1],o.get(h)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),o=new Uint8Array(o);else if(e===DataView){if((c=a.byteLength)===o.byteLength)for(;c--&&a.getInt8(c)===o.getInt8(c););return c===-1}if(ArrayBuffer.isView(a)){if((c=a.byteLength)===o.byteLength)for(;c--&&a[c]===o[c];);return c===-1}if(!e||typeof a=="object"){c=0;for(e in a)if(has.call(a,e)&&++c&&!has.call(o,e)||!(e in o)||!dequal(a[e],o[e]))return!1;return Object.keys(o).length===c}}return a!==a&&o!==o}function useSafeState(a){const o=useMounted();return[a[0],reactExports.useCallback(e=>{if(o())return a[1](e)},[o,a[1]])]}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(a,o){return a.concat([o+"-"+start,o+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(a,o){return a.concat([o,o+"-"+start,o+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$1="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$1,afterMain,beforeWrite,write,afterWrite];function getBasePlacement(a){return a.split("-")[0]}function getWindow(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var o=a.ownerDocument;return o&&o.defaultView||window}return a}function isElement$1(a){var o=getWindow(a).Element;return a instanceof o||a instanceof Element}function isHTMLElement(a){var o=getWindow(a).HTMLElement;return a instanceof o||a instanceof HTMLElement}function isShadowRoot(a){if(typeof ShadowRoot>"u")return!1;var o=getWindow(a).ShadowRoot;return a instanceof o||a instanceof ShadowRoot}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(a,o,e){o===void 0&&(o=!1),e===void 0&&(e=!1);var c=a.getBoundingClientRect(),h=1,g=1;o&&isHTMLElement(a)&&(h=a.offsetWidth>0&&round(c.width)/a.offsetWidth||1,g=a.offsetHeight>0&&round(c.height)/a.offsetHeight||1);var b=isElement$1(a)?getWindow(a):window,$=b.visualViewport,j=!isLayoutViewport()&&e,rt=(c.left+(j&&$?$.offsetLeft:0))/h,nt=(c.top+(j&&$?$.offsetTop:0))/g,pt=c.width/h,wt=c.height/g;return{width:pt,height:wt,top:nt,right:rt+pt,bottom:nt+wt,left:rt,x:rt,y:nt}}function getLayoutRect(a){var o=getBoundingClientRect(a),e=a.offsetWidth,c=a.offsetHeight;return Math.abs(o.width-e)<=1&&(e=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:a.offsetLeft,y:a.offsetTop,width:e,height:c}}function contains(a,o){var e=o.getRootNode&&o.getRootNode();if(a.contains(o))return!0;if(e&&isShadowRoot(e)){var c=o;do{if(c&&a.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function getNodeName(a){return a?(a.nodeName||"").toLowerCase():null}function getComputedStyle$2(a){return getWindow(a).getComputedStyle(a)}function isTableElement(a){return["table","td","th"].indexOf(getNodeName(a))>=0}function getDocumentElement(a){return((isElement$1(a)?a.ownerDocument:a.document)||window.document).documentElement}function getParentNode(a){return getNodeName(a)==="html"?a:a.assignedSlot||a.parentNode||(isShadowRoot(a)?a.host:null)||getDocumentElement(a)}function getTrueOffsetParent(a){return!isHTMLElement(a)||getComputedStyle$2(a).position==="fixed"?null:a.offsetParent}function getContainingBlock(a){var o=/firefox/i.test(getUAString()),e=/Trident/i.test(getUAString());if(e&&isHTMLElement(a)){var c=getComputedStyle$2(a);if(c.position==="fixed")return null}var h=getParentNode(a);for(isShadowRoot(h)&&(h=h.host);isHTMLElement(h)&&["html","body"].indexOf(getNodeName(h))<0;){var g=getComputedStyle$2(h);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||o&&g.willChange==="filter"||o&&g.filter&&g.filter!=="none")return h;h=h.parentNode}return null}function getOffsetParent(a){for(var o=getWindow(a),e=getTrueOffsetParent(a);e&&isTableElement(e)&&getComputedStyle$2(e).position==="static";)e=getTrueOffsetParent(e);return e&&(getNodeName(e)==="html"||getNodeName(e)==="body"&&getComputedStyle$2(e).position==="static")?o:e||getContainingBlock(a)||o}function getMainAxisFromPlacement(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function within(a,o,e){return max(a,min(o,e))}function withinMaxClamp(a,o,e){var c=within(a,o,e);return c>e?e:c}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(a){return Object.assign({},getFreshSideObject(),a)}function expandToHashMap(a,o){return o.reduce(function(e,c){return e[c]=a,e},{})}var toPaddingObject=function(o,e){return o=typeof o=="function"?o(Object.assign({},e.rects,{placement:e.placement})):o,mergePaddingObject(typeof o!="number"?o:expandToHashMap(o,basePlacements))};function arrow(a){var o,e=a.state,c=a.name,h=a.options,g=e.elements.arrow,b=e.modifiersData.popperOffsets,$=getBasePlacement(e.placement),j=getMainAxisFromPlacement($),rt=[left,right].indexOf($)>=0,nt=rt?"height":"width";if(!(!g||!b)){var pt=toPaddingObject(h.padding,e),wt=getLayoutRect(g),Dt=j==="y"?top:left,Lt=j==="y"?bottom:right,it=e.rects.reference[nt]+e.rects.reference[j]-b[j]-e.rects.popper[nt],st=b[j]-e.rects.reference[j],bt=getOffsetParent(g),gt=bt?j==="y"?bt.clientHeight||0:bt.clientWidth||0:0,Et=it/2-st/2,ot=pt[Dt],_t=gt-wt[nt]-pt[Lt],Mt=gt/2-wt[nt]/2+Et,Bt=within(ot,Mt,_t),It=j;e.modifiersData[c]=(o={},o[It]=Bt,o.centerOffset=Bt-Mt,o)}}function effect$1(a){var o=a.state,e=a.options,c=e.element,h=c===void 0?"[data-popper-arrow]":c;h!=null&&(typeof h=="string"&&(h=o.elements.popper.querySelector(h),!h)||contains(o.elements.popper,h)&&(o.elements.arrow=h))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(a){return a.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(a,o){var e=a.x,c=a.y,h=o.devicePixelRatio||1;return{x:round(e*h)/h||0,y:round(c*h)/h||0}}function mapToStyles(a){var o,e=a.popper,c=a.popperRect,h=a.placement,g=a.variation,b=a.offsets,$=a.position,j=a.gpuAcceleration,rt=a.adaptive,nt=a.roundOffsets,pt=a.isFixed,wt=b.x,Dt=wt===void 0?0:wt,Lt=b.y,it=Lt===void 0?0:Lt,st=typeof nt=="function"?nt({x:Dt,y:it}):{x:Dt,y:it};Dt=st.x,it=st.y;var bt=b.hasOwnProperty("x"),gt=b.hasOwnProperty("y"),Et=left,ot=top,_t=window;if(rt){var Mt=getOffsetParent(e),Bt="clientHeight",It="clientWidth";if(Mt===getWindow(e)&&(Mt=getDocumentElement(e),getComputedStyle$2(Mt).position!=="static"&&$==="absolute"&&(Bt="scrollHeight",It="scrollWidth")),Mt=Mt,h===top||(h===left||h===right)&&g===end){ot=bottom;var jt=pt&&Mt===_t&&_t.visualViewport?_t.visualViewport.height:Mt[Bt];it-=jt-c.height,it*=j?1:-1}if(h===left||(h===top||h===bottom)&&g===end){Et=right;var tr=pt&&Mt===_t&&_t.visualViewport?_t.visualViewport.width:Mt[It];Dt-=tr-c.width,Dt*=j?1:-1}}var gr=Object.assign({position:$},rt&&unsetSides),vr=nt===!0?roundOffsetsByDPR({x:Dt,y:it},getWindow(e)):{x:Dt,y:it};if(Dt=vr.x,it=vr.y,j){var hr;return Object.assign({},gr,(hr={},hr[ot]=gt?"0":"",hr[Et]=bt?"0":"",hr.transform=(_t.devicePixelRatio||1)<=1?"translate("+Dt+"px, "+it+"px)":"translate3d("+Dt+"px, "+it+"px, 0)",hr))}return Object.assign({},gr,(o={},o[ot]=gt?it+"px":"",o[Et]=bt?Dt+"px":"",o.transform="",o))}function computeStyles(a){var o=a.state,e=a.options,c=e.gpuAcceleration,h=c===void 0?!0:c,g=e.adaptive,b=g===void 0?!0:g,$=e.roundOffsets,j=$===void 0?!0:$,rt={placement:getBasePlacement(o.placement),variation:getVariation(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:h,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,mapToStyles(Object.assign({},rt,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:b,roundOffsets:j})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,mapToStyles(Object.assign({},rt,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(a){var o=a.state,e=a.instance,c=a.options,h=c.scroll,g=h===void 0?!0:h,b=c.resize,$=b===void 0?!0:b,j=getWindow(o.elements.popper),rt=[].concat(o.scrollParents.reference,o.scrollParents.popper);return g&&rt.forEach(function(nt){nt.addEventListener("scroll",e.update,passive)}),$&&j.addEventListener("resize",e.update,passive),function(){g&&rt.forEach(function(nt){nt.removeEventListener("scroll",e.update,passive)}),$&&j.removeEventListener("resize",e.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,function(o){return hash$1[o]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(a){return a.replace(/start|end/g,function(o){return hash[o]})}function getWindowScroll(a){var o=getWindow(a),e=o.pageXOffset,c=o.pageYOffset;return{scrollLeft:e,scrollTop:c}}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getWindowScroll(a).scrollLeft}function getViewportRect(a,o){var e=getWindow(a),c=getDocumentElement(a),h=e.visualViewport,g=c.clientWidth,b=c.clientHeight,$=0,j=0;if(h){g=h.width,b=h.height;var rt=isLayoutViewport();(rt||!rt&&o==="fixed")&&($=h.offsetLeft,j=h.offsetTop)}return{width:g,height:b,x:$+getWindowScrollBarX(a),y:j}}function getDocumentRect(a){var o,e=getDocumentElement(a),c=getWindowScroll(a),h=(o=a.ownerDocument)==null?void 0:o.body,g=max(e.scrollWidth,e.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),b=max(e.scrollHeight,e.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),$=-c.scrollLeft+getWindowScrollBarX(a),j=-c.scrollTop;return getComputedStyle$2(h||e).direction==="rtl"&&($+=max(e.clientWidth,h?h.clientWidth:0)-g),{width:g,height:b,x:$,y:j}}function isScrollParent(a){var o=getComputedStyle$2(a),e=o.overflow,c=o.overflowX,h=o.overflowY;return/auto|scroll|overlay|hidden/.test(e+h+c)}function getScrollParent(a){return["html","body","#document"].indexOf(getNodeName(a))>=0?a.ownerDocument.body:isHTMLElement(a)&&isScrollParent(a)?a:getScrollParent(getParentNode(a))}function listScrollParents(a,o){var e;o===void 0&&(o=[]);var c=getScrollParent(a),h=c===((e=a.ownerDocument)==null?void 0:e.body),g=getWindow(c),b=h?[g].concat(g.visualViewport||[],isScrollParent(c)?c:[]):c,$=o.concat(b);return h?$:$.concat(listScrollParents(getParentNode(b)))}function rectToClientRect(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function getInnerBoundingClientRect(a,o){var e=getBoundingClientRect(a,!1,o==="fixed");return e.top=e.top+a.clientTop,e.left=e.left+a.clientLeft,e.bottom=e.top+a.clientHeight,e.right=e.left+a.clientWidth,e.width=a.clientWidth,e.height=a.clientHeight,e.x=e.left,e.y=e.top,e}function getClientRectFromMixedType(a,o,e){return o===viewport?rectToClientRect(getViewportRect(a,e)):isElement$1(o)?getInnerBoundingClientRect(o,e):rectToClientRect(getDocumentRect(getDocumentElement(a)))}function getClippingParents(a){var o=listScrollParents(getParentNode(a)),e=["absolute","fixed"].indexOf(getComputedStyle$2(a).position)>=0,c=e&&isHTMLElement(a)?getOffsetParent(a):a;return isElement$1(c)?o.filter(function(h){return isElement$1(h)&&contains(h,c)&&getNodeName(h)!=="body"}):[]}function getClippingRect(a,o,e,c){var h=o==="clippingParents"?getClippingParents(a):[].concat(o),g=[].concat(h,[e]),b=g[0],$=g.reduce(function(j,rt){var nt=getClientRectFromMixedType(a,rt,c);return j.top=max(nt.top,j.top),j.right=min(nt.right,j.right),j.bottom=min(nt.bottom,j.bottom),j.left=max(nt.left,j.left),j},getClientRectFromMixedType(a,b,c));return $.width=$.right-$.left,$.height=$.bottom-$.top,$.x=$.left,$.y=$.top,$}function computeOffsets(a){var o=a.reference,e=a.element,c=a.placement,h=c?getBasePlacement(c):null,g=c?getVariation(c):null,b=o.x+o.width/2-e.width/2,$=o.y+o.height/2-e.height/2,j;switch(h){case top:j={x:b,y:o.y-e.height};break;case bottom:j={x:b,y:o.y+o.height};break;case right:j={x:o.x+o.width,y:$};break;case left:j={x:o.x-e.width,y:$};break;default:j={x:o.x,y:o.y}}var rt=h?getMainAxisFromPlacement(h):null;if(rt!=null){var nt=rt==="y"?"height":"width";switch(g){case start:j[rt]=j[rt]-(o[nt]/2-e[nt]/2);break;case end:j[rt]=j[rt]+(o[nt]/2-e[nt]/2);break}}return j}function detectOverflow(a,o){o===void 0&&(o={});var e=o,c=e.placement,h=c===void 0?a.placement:c,g=e.strategy,b=g===void 0?a.strategy:g,$=e.boundary,j=$===void 0?clippingParents:$,rt=e.rootBoundary,nt=rt===void 0?viewport:rt,pt=e.elementContext,wt=pt===void 0?popper:pt,Dt=e.altBoundary,Lt=Dt===void 0?!1:Dt,it=e.padding,st=it===void 0?0:it,bt=mergePaddingObject(typeof st!="number"?st:expandToHashMap(st,basePlacements)),gt=wt===popper?reference:popper,Et=a.rects.popper,ot=a.elements[Lt?gt:wt],_t=getClippingRect(isElement$1(ot)?ot:ot.contextElement||getDocumentElement(a.elements.popper),j,nt,b),Mt=getBoundingClientRect(a.elements.reference),Bt=computeOffsets({reference:Mt,element:Et,strategy:"absolute",placement:h}),It=rectToClientRect(Object.assign({},Et,Bt)),jt=wt===popper?It:Mt,tr={top:_t.top-jt.top+bt.top,bottom:jt.bottom-_t.bottom+bt.bottom,left:_t.left-jt.left+bt.left,right:jt.right-_t.right+bt.right},gr=a.modifiersData.offset;if(wt===popper&&gr){var vr=gr[h];Object.keys(tr).forEach(function(hr){var mr=[right,bottom].indexOf(hr)>=0?1:-1,Er=[top,bottom].indexOf(hr)>=0?"y":"x";tr[hr]+=vr[Er]*mr})}return tr}function computeAutoPlacement(a,o){o===void 0&&(o={});var e=o,c=e.placement,h=e.boundary,g=e.rootBoundary,b=e.padding,$=e.flipVariations,j=e.allowedAutoPlacements,rt=j===void 0?placements:j,nt=getVariation(c),pt=nt?$?variationPlacements:variationPlacements.filter(function(Lt){return getVariation(Lt)===nt}):basePlacements,wt=pt.filter(function(Lt){return rt.indexOf(Lt)>=0});wt.length===0&&(wt=pt);var Dt=wt.reduce(function(Lt,it){return Lt[it]=detectOverflow(a,{placement:it,boundary:h,rootBoundary:g,padding:b})[getBasePlacement(it)],Lt},{});return Object.keys(Dt).sort(function(Lt,it){return Dt[Lt]-Dt[it]})}function getExpandedFallbackPlacements(a){if(getBasePlacement(a)===auto)return[];var o=getOppositePlacement(a);return[getOppositeVariationPlacement(a),o,getOppositeVariationPlacement(o)]}function flip(a){var o=a.state,e=a.options,c=a.name;if(!o.modifiersData[c]._skip){for(var h=e.mainAxis,g=h===void 0?!0:h,b=e.altAxis,$=b===void 0?!0:b,j=e.fallbackPlacements,rt=e.padding,nt=e.boundary,pt=e.rootBoundary,wt=e.altBoundary,Dt=e.flipVariations,Lt=Dt===void 0?!0:Dt,it=e.allowedAutoPlacements,st=o.options.placement,bt=getBasePlacement(st),gt=bt===st,Et=j||(gt||!Lt?[getOppositePlacement(st)]:getExpandedFallbackPlacements(st)),ot=[st].concat(Et).reduce(function(Nn,Hn){return Nn.concat(getBasePlacement(Hn)===auto?computeAutoPlacement(o,{placement:Hn,boundary:nt,rootBoundary:pt,padding:rt,flipVariations:Lt,allowedAutoPlacements:it}):Hn)},[]),_t=o.rects.reference,Mt=o.rects.popper,Bt=new Map,It=!0,jt=ot[0],tr=0;tr<ot.length;tr++){var gr=ot[tr],vr=getBasePlacement(gr),hr=getVariation(gr)===start,mr=[top,bottom].indexOf(vr)>=0,Er=mr?"width":"height",Rr=detectOverflow(o,{placement:gr,boundary:nt,rootBoundary:pt,altBoundary:wt,padding:rt}),Cr=mr?hr?right:left:hr?bottom:top;_t[Er]>Mt[Er]&&(Cr=getOppositePlacement(Cr));var wr=getOppositePlacement(Cr),Sr=[];if(g&&Sr.push(Rr[vr]<=0),$&&Sr.push(Rr[Cr]<=0,Rr[wr]<=0),Sr.every(function(Nn){return Nn})){jt=gr,It=!1;break}Bt.set(gr,Sr)}if(It)for(var br=Lt?3:1,xr=function(Hn){var Bn=ot.find(function(qn){var Wn=Bt.get(qn);if(Wn)return Wn.slice(0,Hn).every(function(Yn){return Yn})});if(Bn)return jt=Bn,"break"},Or=br;Or>0;Or--){var In=xr(Or);if(In==="break")break}o.placement!==jt&&(o.modifiersData[c]._skip=!0,o.placement=jt,o.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(a,o,e){return e===void 0&&(e={x:0,y:0}),{top:a.top-o.height-e.y,right:a.right-o.width+e.x,bottom:a.bottom-o.height+e.y,left:a.left-o.width-e.x}}function isAnySideFullyClipped(a){return[top,right,bottom,left].some(function(o){return a[o]>=0})}function hide(a){var o=a.state,e=a.name,c=o.rects.reference,h=o.rects.popper,g=o.modifiersData.preventOverflow,b=detectOverflow(o,{elementContext:"reference"}),$=detectOverflow(o,{altBoundary:!0}),j=getSideOffsets(b,c),rt=getSideOffsets($,h,g),nt=isAnySideFullyClipped(j),pt=isAnySideFullyClipped(rt);o.modifiersData[e]={referenceClippingOffsets:j,popperEscapeOffsets:rt,isReferenceHidden:nt,hasPopperEscaped:pt},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":nt,"data-popper-escaped":pt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(a,o,e){var c=getBasePlacement(a),h=[left,top].indexOf(c)>=0?-1:1,g=typeof e=="function"?e(Object.assign({},o,{placement:a})):e,b=g[0],$=g[1];return b=b||0,$=($||0)*h,[left,right].indexOf(c)>=0?{x:$,y:b}:{x:b,y:$}}function offset(a){var o=a.state,e=a.options,c=a.name,h=e.offset,g=h===void 0?[0,0]:h,b=placements.reduce(function(nt,pt){return nt[pt]=distanceAndSkiddingToXY(pt,o.rects,g),nt},{}),$=b[o.placement],j=$.x,rt=$.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=j,o.modifiersData.popperOffsets.y+=rt),o.modifiersData[c]=b}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(a){var o=a.state,e=a.name;o.modifiersData[e]=computeOffsets({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(a){return a==="x"?"y":"x"}function preventOverflow(a){var o=a.state,e=a.options,c=a.name,h=e.mainAxis,g=h===void 0?!0:h,b=e.altAxis,$=b===void 0?!1:b,j=e.boundary,rt=e.rootBoundary,nt=e.altBoundary,pt=e.padding,wt=e.tether,Dt=wt===void 0?!0:wt,Lt=e.tetherOffset,it=Lt===void 0?0:Lt,st=detectOverflow(o,{boundary:j,rootBoundary:rt,padding:pt,altBoundary:nt}),bt=getBasePlacement(o.placement),gt=getVariation(o.placement),Et=!gt,ot=getMainAxisFromPlacement(bt),_t=getAltAxis(ot),Mt=o.modifiersData.popperOffsets,Bt=o.rects.reference,It=o.rects.popper,jt=typeof it=="function"?it(Object.assign({},o.rects,{placement:o.placement})):it,tr=typeof jt=="number"?{mainAxis:jt,altAxis:jt}:Object.assign({mainAxis:0,altAxis:0},jt),gr=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,vr={x:0,y:0};if(Mt){if(g){var hr,mr=ot==="y"?top:left,Er=ot==="y"?bottom:right,Rr=ot==="y"?"height":"width",Cr=Mt[ot],wr=Cr+st[mr],Sr=Cr-st[Er],br=Dt?-It[Rr]/2:0,xr=gt===start?Bt[Rr]:It[Rr],Or=gt===start?-It[Rr]:-Bt[Rr],In=o.elements.arrow,Nn=Dt&&In?getLayoutRect(In):{width:0,height:0},Hn=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Bn=Hn[mr],qn=Hn[Er],Wn=within(0,Bt[Rr],Nn[Rr]),Yn=Et?Bt[Rr]/2-br-Wn-Bn-tr.mainAxis:xr-Wn-Bn-tr.mainAxis,po=Et?-Bt[Rr]/2+br+Wn+qn+tr.mainAxis:Or+Wn+qn+tr.mainAxis,eo=o.elements.arrow&&getOffsetParent(o.elements.arrow),wo=eo?ot==="y"?eo.clientTop||0:eo.clientLeft||0:0,Vn=(hr=gr==null?void 0:gr[ot])!=null?hr:0,Kn=Cr+Yn-Vn-wo,to=Cr+po-Vn,fs=within(Dt?min(wr,Kn):wr,Cr,Dt?max(Sr,to):Sr);Mt[ot]=fs,vr[ot]=fs-Cr}if($){var hs,Cs=ot==="x"?top:left,ps=ot==="x"?bottom:right,ls=Mt[_t],cs=_t==="y"?"height":"width",ss=ls+st[Cs],os=ls-st[ps],as=[top,left].indexOf(bt)!==-1,gs=(hs=gr==null?void 0:gr[_t])!=null?hs:0,vs=as?ss:ls-Bt[cs]-It[cs]-gs+tr.altAxis,tn=as?ls+Bt[cs]+It[cs]-gs-tr.altAxis:os,Pr=Dt&&as?withinMaxClamp(vs,ls,tn):within(Dt?vs:ss,ls,Dt?tn:os);Mt[_t]=Pr,vr[_t]=Pr-ls}o.modifiersData[c]=vr}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function getNodeScroll(a){return a===getWindow(a)||!isHTMLElement(a)?getWindowScroll(a):getHTMLElementScroll(a)}function isElementScaled(a){var o=a.getBoundingClientRect(),e=round(o.width)/a.offsetWidth||1,c=round(o.height)/a.offsetHeight||1;return e!==1||c!==1}function getCompositeRect(a,o,e){e===void 0&&(e=!1);var c=isHTMLElement(o),h=isHTMLElement(o)&&isElementScaled(o),g=getDocumentElement(o),b=getBoundingClientRect(a,h,e),$={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(c||!c&&!e)&&((getNodeName(o)!=="body"||isScrollParent(g))&&($=getNodeScroll(o)),isHTMLElement(o)?(j=getBoundingClientRect(o,!0),j.x+=o.clientLeft,j.y+=o.clientTop):g&&(j.x=getWindowScrollBarX(g))),{x:b.left+$.scrollLeft-j.x,y:b.top+$.scrollTop-j.y,width:b.width,height:b.height}}function order(a){var o=new Map,e=new Set,c=[];a.forEach(function(g){o.set(g.name,g)});function h(g){e.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function($){if(!e.has($)){var j=o.get($);j&&h(j)}}),c.push(g)}return a.forEach(function(g){e.has(g.name)||h(g)}),c}function orderModifiers(a){var o=order(a);return modifierPhases.reduce(function(e,c){return e.concat(o.filter(function(h){return h.phase===c}))},[])}function debounce$1(a){var o;return function(){return o||(o=new Promise(function(e){Promise.resolve().then(function(){o=void 0,e(a())})})),o}}function mergeByName(a){var o=a.reduce(function(e,c){var h=e[c.name];return e[c.name]=h?Object.assign({},h,c,{options:Object.assign({},h.options,c.options),data:Object.assign({},h.data,c.data)}):c,e},{});return Object.keys(o).map(function(e){return o[e]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var a=arguments.length,o=new Array(a),e=0;e<a;e++)o[e]=arguments[e];return!o.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function popperGenerator(a){a===void 0&&(a={});var o=a,e=o.defaultModifiers,c=e===void 0?[]:e,h=o.defaultOptions,g=h===void 0?DEFAULT_OPTIONS:h;return function($,j,rt){rt===void 0&&(rt=g);var nt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,g),modifiersData:{},elements:{reference:$,popper:j},attributes:{},styles:{}},pt=[],wt=!1,Dt={state:nt,setOptions:function(bt){var gt=typeof bt=="function"?bt(nt.options):bt;it(),nt.options=Object.assign({},g,nt.options,gt),nt.scrollParents={reference:isElement$1($)?listScrollParents($):$.contextElement?listScrollParents($.contextElement):[],popper:listScrollParents(j)};var Et=orderModifiers(mergeByName([].concat(c,nt.options.modifiers)));return nt.orderedModifiers=Et.filter(function(ot){return ot.enabled}),Lt(),Dt.update()},forceUpdate:function(){if(!wt){var bt=nt.elements,gt=bt.reference,Et=bt.popper;if(areValidElements(gt,Et)){nt.rects={reference:getCompositeRect(gt,getOffsetParent(Et),nt.options.strategy==="fixed"),popper:getLayoutRect(Et)},nt.reset=!1,nt.placement=nt.options.placement,nt.orderedModifiers.forEach(function(tr){return nt.modifiersData[tr.name]=Object.assign({},tr.data)});for(var ot=0;ot<nt.orderedModifiers.length;ot++){if(nt.reset===!0){nt.reset=!1,ot=-1;continue}var _t=nt.orderedModifiers[ot],Mt=_t.fn,Bt=_t.options,It=Bt===void 0?{}:Bt,jt=_t.name;typeof Mt=="function"&&(nt=Mt({state:nt,options:It,name:jt,instance:Dt})||nt)}}}},update:debounce$1(function(){return new Promise(function(st){Dt.forceUpdate(),st(nt)})}),destroy:function(){it(),wt=!0}};if(!areValidElements($,j))return Dt;Dt.setOptions(rt).then(function(st){!wt&&rt.onFirstUpdate&&rt.onFirstUpdate(st)});function Lt(){nt.orderedModifiers.forEach(function(st){var bt=st.name,gt=st.options,Et=gt===void 0?{}:gt,ot=st.effect;if(typeof ot=="function"){var _t=ot({state:nt,name:bt,instance:Dt,options:Et}),Mt=function(){};pt.push(_t||Mt)}})}function it(){pt.forEach(function(st){return st()}),pt=[]}return Dt}}const createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$1,flip$1,preventOverflow$1,arrow$1]}),_excluded$5=["enabled","placement","strategy","modifiers"];function _objectWithoutPropertiesLoose$5(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}const disabledApplyStylesModifier={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:a})=>()=>{const{reference:o,popper:e}=a.elements;if("removeAttribute"in o){const c=(o.getAttribute("aria-describedby")||"").split(",").filter(h=>h.trim()!==e.id);c.length?o.setAttribute("aria-describedby",c.join(",")):o.removeAttribute("aria-describedby")}},fn:({state:a})=>{var o;const{popper:e,reference:c}=a.elements,h=(o=e.getAttribute("role"))==null?void 0:o.toLowerCase();if(e.id&&h==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(e.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${e.id}`:e.id)}}},EMPTY_MODIFIERS=[];function usePopper(a,o,e={}){let{enabled:c=!0,placement:h="bottom",strategy:g="absolute",modifiers:b=EMPTY_MODIFIERS}=e,$=_objectWithoutPropertiesLoose$5(e,_excluded$5);const j=reactExports.useRef(b),rt=reactExports.useRef(),nt=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.update()},[]),pt=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.forceUpdate()},[]),[wt,Dt]=useSafeState(reactExports.useState({placement:h,update:nt,forceUpdate:pt,attributes:{},styles:{popper:{},arrow:{}}})),Lt=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:st})=>{const bt={},gt={};Object.keys(st.elements).forEach(Et=>{bt[Et]=st.styles[Et],gt[Et]=st.attributes[Et]}),Dt({state:st,styles:bt,attributes:gt,update:nt,forceUpdate:pt,placement:st.placement})}}),[nt,pt,Dt]),it=reactExports.useMemo(()=>(dequal(j.current,b)||(j.current=b),j.current),[b]);return reactExports.useEffect(()=>{!rt.current||!c||rt.current.setOptions({placement:h,strategy:g,modifiers:[...it,Lt,disabledApplyStylesModifier]})},[g,h,Lt,c,it]),reactExports.useEffect(()=>{if(!(!c||a==null||o==null))return rt.current=createPopper(a,o,Object.assign({},$,{placement:h,strategy:g,modifiers:[...it,ariaDescribedByModifier,Lt]})),()=>{rt.current!=null&&(rt.current.destroy(),rt.current=void 0,Dt(st=>Object.assign({},st,{attributes:{},styles:{popper:{}}})))}},[c,a,o]),wt}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(a,o,e,c){if(c&&typeof c!="boolean"&&!onceSupported){var h=c.once,g=c.capture,b=e;!onceSupported&&h&&(b=e.__once||function $(j){this.removeEventListener(o,$,g),e.call(this,j)},e.__once=b),a.addEventListener(o,b,optionsSupported?c:g)}a.addEventListener(o,e,c)}function removeEventListener(a,o,e,c){var h=c&&typeof c!="boolean"?c.capture:c;a.removeEventListener(o,e,h),e.__once&&a.removeEventListener(o,e.__once,h)}function listen(a,o,e,c){return addEventListener(a,o,e,c),function(){removeEventListener(a,o,e,c)}}function ownerDocument(a){return a&&a.ownerDocument||document}function useCommittedRef(a){const o=reactExports.useRef(a);return reactExports.useEffect(()=>{o.current=a},[a]),o}function useEventCallback(a){const o=useCommittedRef(a);return reactExports.useCallback(function(...e){return o.current&&o.current(...e)},[o])}const noop$4=()=>{};function isLeftClickEvent(a){return a.button===0}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}const getRefTarget=a=>a&&("current"in a?a.current:a),InitialTriggerEvents={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function useClickOutside(a,o=noop$4,{disabled:e,clickTrigger:c="click"}={}){const h=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(rt=>{const nt=getRefTarget(a);warning$1(!!nt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),h.current=!nt||isModifiedEvent(rt)||!isLeftClickEvent(rt)||!!contains$1(nt,rt.target)||g.current,g.current=!1},[a]),$=useEventCallback(rt=>{const nt=getRefTarget(a);nt&&contains$1(nt,rt.target)&&(g.current=!0)}),j=useEventCallback(rt=>{h.current||o(rt)});reactExports.useEffect(()=>{var rt,nt;if(e||a==null)return;const pt=ownerDocument(getRefTarget(a)),wt=pt.defaultView||window;let Dt=(rt=wt.event)!=null?rt:(nt=wt.parent)==null?void 0:nt.event,Lt=null;InitialTriggerEvents[c]&&(Lt=listen(pt,InitialTriggerEvents[c],$,!0));const it=listen(pt,c,b,!0),st=listen(pt,c,gt=>{if(gt===Dt){Dt=void 0;return}j(gt)});let bt=[];return"ontouchstart"in pt.documentElement&&(bt=[].slice.call(pt.body.children).map(gt=>listen(gt,"mousemove",noop$4))),()=>{Lt==null||Lt(),it(),st(),bt.forEach(gt=>gt())}},[a,e,c,b,$,j])}function isEscKey(a){return a.code==="Escape"||a.keyCode===27}const noop$3=()=>{};function useRootClose(a,o,{disabled:e,clickTrigger:c}={}){const h=o||noop$3;useClickOutside(a,h,{disabled:e,clickTrigger:c});const g=useEventCallback(b=>{isEscKey(b)&&h(b)});reactExports.useEffect(()=>{if(e||a==null)return;const b=ownerDocument(getRefTarget(a));let $=(b.defaultView||window).event;const j=listen(b,"keyup",rt=>{if(rt===$){$=void 0;return}g(rt)});return()=>{j()}},[a,e,g])}const Context$1=reactExports.createContext(canUseDOM?window:void 0);Context$1.Provider;function useWindow(){return reactExports.useContext(Context$1)}const resolveContainerRef=(a,o)=>canUseDOM?a==null?(o||ownerDocument()).body:(typeof a=="function"&&(a=a()),a&&"current"in a&&(a=a.current),a&&("nodeType"in a||a.getBoundingClientRect)?a:null):null;function useWaitForDOMRef(a,o){const e=useWindow(),[c,h]=reactExports.useState(()=>resolveContainerRef(a,e==null?void 0:e.document));if(!c){const g=resolveContainerRef(a);g&&h(g)}return reactExports.useEffect(()=>{o&&c&&o(c)},[o,c]),reactExports.useEffect(()=>{const g=resolveContainerRef(a);g!==c&&h(g)},[a,c]),c}function toModifierMap(a){const o={};return Array.isArray(a)?(a==null||a.forEach(e=>{o[e.name]=e}),o):a||o}function toModifierArray(a={}){return Array.isArray(a)?a:Object.keys(a).map(o=>(a[o].name=o,a[o]))}function mergeOptionsWithPopperConfig({enabled:a,enableEvents:o,placement:e,flip:c,offset:h,fixed:g,containerPadding:b,arrowElement:$,popperConfig:j={}}){var rt,nt,pt,wt,Dt;const Lt=toModifierMap(j.modifiers);return Object.assign({},j,{placement:e,enabled:a,strategy:g?"fixed":j.strategy,modifiers:toModifierArray(Object.assign({},Lt,{eventListeners:{enabled:o,options:(rt=Lt.eventListeners)==null?void 0:rt.options},preventOverflow:Object.assign({},Lt.preventOverflow,{options:b?Object.assign({padding:b},(nt=Lt.preventOverflow)==null?void 0:nt.options):(pt=Lt.preventOverflow)==null?void 0:pt.options}),offset:{options:Object.assign({offset:h},(wt=Lt.offset)==null?void 0:wt.options)},arrow:Object.assign({},Lt.arrow,{enabled:!!$,options:Object.assign({},(Dt=Lt.arrow)==null?void 0:Dt.options,{element:$})}),flip:Object.assign({enabled:!!c},Lt.flip)}))})}const isReactNative=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u",useEffect=isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect;function NoopTransition({children:a,in:o,onExited:e,mountOnEnter:c,unmountOnExit:h}){const g=reactExports.useRef(null),b=reactExports.useRef(o),$=useEventCallback(e);reactExports.useEffect(()=>{o?b.current=!0:$(g.current)},[o,$]);const j=useMergedRefs(g,a.ref),rt=reactExports.cloneElement(a,{ref:j});return o?rt:h||!b.current&&c?null:rt}function useTransition({in:a,onTransition:o}){const e=reactExports.useRef(null),c=reactExports.useRef(!0),h=useEventCallback(o);return useEffect(()=>{if(!e.current)return;let g=!1;return h({in:a,element:e.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[a,h]),useEffect(()=>(c.current=!1,()=>{c.current=!0}),[]),e}function ImperativeTransition({children:a,in:o,onExited:e,onEntered:c,transition:h}){const[g,b]=reactExports.useState(!o);o&&g&&b(!1);const $=useTransition({in:!!o,onTransition:rt=>{const nt=()=>{rt.isStale()||(rt.in?c==null||c(rt.element,rt.initial):(b(!0),e==null||e(rt.element)))};Promise.resolve(h(rt)).then(nt,pt=>{throw rt.in||b(!0),pt})}}),j=useMergedRefs($,a.ref);return g&&!o?null:reactExports.cloneElement(a,{ref:j})}function renderTransition(a,o,e){return a?jsxRuntimeExports.jsx(a,Object.assign({},e)):o?jsxRuntimeExports.jsx(ImperativeTransition,Object.assign({},e,{transition:o})):jsxRuntimeExports.jsx(NoopTransition,Object.assign({},e))}const Overlay$2=reactExports.forwardRef((a,o)=>{const{flip:e,offset:c,placement:h,containerPadding:g,popperConfig:b={},transition:$,runTransition:j}=a,[rt,nt]=useCallbackRef(),[pt,wt]=useCallbackRef(),Dt=useMergedRefs(nt,o),Lt=useWaitForDOMRef(a.container),it=useWaitForDOMRef(a.target),[st,bt]=reactExports.useState(!a.show),gt=usePopper(it,rt,mergeOptionsWithPopperConfig({placement:h,enableEvents:!!a.show,containerPadding:g||5,flip:e,offset:c,arrowElement:pt,popperConfig:b}));a.show&&st&&bt(!1);const Et=(...gr)=>{bt(!0),a.onExited&&a.onExited(...gr)},ot=a.show||!st;if(useRootClose(rt,a.onHide,{disabled:!a.rootClose||a.rootCloseDisabled,clickTrigger:a.rootCloseEvent}),!ot)return null;const{onExit:_t,onExiting:Mt,onEnter:Bt,onEntering:It,onEntered:jt}=a;let tr=a.children(Object.assign({},gt.attributes.popper,{style:gt.styles.popper,ref:Dt}),{popper:gt,placement:h,show:!!a.show,arrowProps:Object.assign({},gt.attributes.arrow,{style:gt.styles.arrow,ref:wt})});return tr=renderTransition($,j,{in:!!a.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:tr,onExit:_t,onExiting:Mt,onExited:Et,onEnter:Bt,onEntering:It,onEntered:jt}),Lt?Ke.createPortal(tr,Lt):null});Overlay$2.displayName="Overlay";const BaseOverlay=Overlay$2;function hasClass(a,o){return a.classList?!!o&&a.classList.contains(o):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+o+" ")!==-1}const Tooltip=reactExports.forwardRef(({bsPrefix:a,placement:o="right",className:e,style:c,children:h,arrowProps:g,hasDoneInitialMeasure:b,popper:$,show:j,...rt},nt)=>{a=useBootstrapPrefix(a,"tooltip");const pt=useIsRTL(),[wt]=(o==null?void 0:o.split("-"))||[],Dt=getOverlayDirection(wt,pt);let Lt=c;return j&&!b&&(Lt={...c,...getInitialPopperStyles($==null?void 0:$.strategy)}),jsxRuntimeExports.jsxs("div",{ref:nt,style:Lt,role:"tooltip","x-placement":wt,className:classNames(e,a,`bs-tooltip-${Dt}`),...rt,children:[jsxRuntimeExports.jsx("div",{className:"tooltip-arrow",...g}),jsxRuntimeExports.jsx("div",{className:`${a}-inner`,children:h})]})});Tooltip.displayName="Tooltip";const Tooltip$1=Object.assign(Tooltip,{TOOLTIP_OFFSET:[0,6]});function useOverlayOffset(a){const o=reactExports.useRef(null),e=useBootstrapPrefix(void 0,"popover"),c=useBootstrapPrefix(void 0,"tooltip"),h=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(a)return a;if(o.current){if(hasClass(o.current,e))return Popover$1.POPPER_OFFSET;if(hasClass(o.current,c))return Tooltip$1.TOOLTIP_OFFSET}return[0,0]}}}),[a,e,c]);return[o,[h]]}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(a){_inheritsLoose(o,a);function o(c,h){var g;g=a.call(this,c,h)||this;var b=h,$=b&&!b.isMounting?c.enter:c.appear,j;return g.appearStatus=null,c.in?$?(j=EXITED,g.appearStatus=ENTERING):j=ENTERED:c.unmountOnExit||c.mountOnEnter?j=UNMOUNTED:j=EXITED,g.state={status:j},g.nextCallback=null,g}o.getDerivedStateFromProps=function(h,g){var b=h.in;return b&&g.status===UNMOUNTED?{status:EXITED}:null};var e=o.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(h){var g=null;if(h!==this.props){var b=this.state.status;this.props.in?b!==ENTERING&&b!==ENTERED&&(g=ENTERING):(b===ENTERING||b===ENTERED)&&(g=EXITING)}this.updateStatus(!1,g)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var h=this.props.timeout,g,b,$;return g=b=$=h,h!=null&&typeof h!="number"&&(g=h.exit,b=h.enter,$=h.appear!==void 0?h.appear:b),{exit:g,enter:b,appear:$}},e.updateStatus=function(h,g){if(h===void 0&&(h=!1),g!==null)if(this.cancelNextCallback(),g===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var b=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this);b&&forceReflow(b)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},e.performEnter=function(h){var g=this,b=this.props.enter,$=this.context?this.context.isMounting:h,j=this.props.nodeRef?[$]:[Ke.findDOMNode(this),$],rt=j[0],nt=j[1],pt=this.getTimeouts(),wt=$?pt.appear:pt.enter;if(!h&&!b||config.disabled){this.safeSetState({status:ENTERED},function(){g.props.onEntered(rt)});return}this.props.onEnter(rt,nt),this.safeSetState({status:ENTERING},function(){g.props.onEntering(rt,nt),g.onTransitionEnd(wt,function(){g.safeSetState({status:ENTERED},function(){g.props.onEntered(rt,nt)})})})},e.performExit=function(){var h=this,g=this.props.exit,b=this.getTimeouts(),$=this.props.nodeRef?void 0:Ke.findDOMNode(this);if(!g||config.disabled){this.safeSetState({status:EXITED},function(){h.props.onExited($)});return}this.props.onExit($),this.safeSetState({status:EXITING},function(){h.props.onExiting($),h.onTransitionEnd(b.exit,function(){h.safeSetState({status:EXITED},function(){h.props.onExited($)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(h,g){g=this.setNextCallback(g),this.setState(h,g)},e.setNextCallback=function(h){var g=this,b=!0;return this.nextCallback=function($){b&&(b=!1,g.nextCallback=null,h($))},this.nextCallback.cancel=function(){b=!1},this.nextCallback},e.onTransitionEnd=function(h,g){this.setNextCallback(g);var b=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this),$=h==null&&!this.props.addEndListener;if(!b||$){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var j=this.props.nodeRef?[this.nextCallback]:[b,this.nextCallback],rt=j[0],nt=j[1];this.props.addEndListener(rt,nt)}h!=null&&setTimeout(this.nextCallback,h)},e.render=function(){var h=this.state.status;if(h===UNMOUNTED)return null;var g=this.props,b=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var $=_objectWithoutPropertiesLoose$6(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof b=="function"?b(h,$):React.cloneElement(React.Children.only(b),$))},o}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$2(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$2,onEntering:noop$2,onEntered:noop$2,onExit:noop$2,onExiting:noop$2,onExited:noop$2};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function ownerWindow(a){var o=ownerDocument(a);return o&&o.defaultView||window}function getComputedStyle$1(a,o){return ownerWindow(a).getComputedStyle(a,o)}var rUpper=/([A-Z])/g;function hyphenate(a){return a.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(a){return hyphenate(a).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(a){return!!(a&&supportedTransforms.test(a))}function style(a,o){var e="",c="";if(typeof o=="string")return a.style.getPropertyValue(hyphenateStyleName(o))||getComputedStyle$1(a).getPropertyValue(hyphenateStyleName(o));Object.keys(o).forEach(function(h){var g=o[h];!g&&g!==0?a.style.removeProperty(hyphenateStyleName(h)):isTransform(h)?c+=h+"("+g+") ":e+=hyphenateStyleName(h)+": "+g+";"}),c&&(e+="transform: "+c+";"),a.style.cssText+=";"+e}function triggerEvent(a,o,e,c){if(e===void 0&&(e=!1),c===void 0&&(c=!0),a){var h=document.createEvent("HTMLEvents");h.initEvent(o,e,c),a.dispatchEvent(h)}}function parseDuration$1(a){var o=style(a,"transitionDuration")||"",e=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*e}function emulateTransitionEnd(a,o,e){e===void 0&&(e=5);var c=!1,h=setTimeout(function(){c||triggerEvent(a,"transitionend",!0)},o+e),g=listen(a,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(h),g()}}function transitionEnd(a,o,e,c){e==null&&(e=parseDuration$1(a)||0);var h=emulateTransitionEnd(a,e,c),g=listen(a,"transitionend",o);return function(){h(),g()}}function parseDuration(a,o){const e=style(a,o)||"",c=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*c}function transitionEndListener(a,o){const e=parseDuration(a,"transitionDuration"),c=parseDuration(a,"transitionDelay"),h=transitionEnd(a,g=>{g.target===a&&(h(),o(g))},e+c)}function triggerBrowserReflow(a){a.offsetHeight}function safeFindDOMNode(a){return a&&"setState"in a?Ke.findDOMNode(a):a??null}const TransitionWrapper=React.forwardRef(({onEnter:a,onEntering:o,onEntered:e,onExit:c,onExiting:h,onExited:g,addEndListener:b,children:$,childRef:j,...rt},nt)=>{const pt=reactExports.useRef(null),wt=useMergedRefs(pt,j),Dt=Mt=>{wt(safeFindDOMNode(Mt))},Lt=Mt=>Bt=>{Mt&&pt.current&&Mt(pt.current,Bt)},it=reactExports.useCallback(Lt(a),[a]),st=reactExports.useCallback(Lt(o),[o]),bt=reactExports.useCallback(Lt(e),[e]),gt=reactExports.useCallback(Lt(c),[c]),Et=reactExports.useCallback(Lt(h),[h]),ot=reactExports.useCallback(Lt(g),[g]),_t=reactExports.useCallback(Lt(b),[b]);return jsxRuntimeExports.jsx(Transition$1,{ref:nt,...rt,onEnter:it,onEntered:bt,onEntering:st,onExit:gt,onExited:ot,onExiting:Et,addEndListener:_t,nodeRef:pt,children:typeof $=="function"?(Mt,Bt)=>$(Mt,{...Bt,ref:Dt}):React.cloneElement($,{ref:Dt})})}),TransitionWrapper$1=TransitionWrapper,fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:a,children:o,transitionClasses:e={},onEnter:c,...h},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...h},$=reactExports.useCallback((j,rt)=>{triggerBrowserReflow(j),c==null||c(j,rt)},[c]);return jsxRuntimeExports.jsx(TransitionWrapper$1,{ref:g,addEndListener:transitionEndListener,...b,onEnter:$,childRef:o.ref,children:(j,rt)=>reactExports.cloneElement(o,{...rt,className:classNames("fade",a,o.props.className,fadeStyles[j],e[j])})})});Fade.displayName="Fade";const Fade$1=Fade;function wrapRefs(a,o){const{ref:e}=a,{ref:c}=o;a.ref=e.__wrapped||(e.__wrapped=h=>e(safeFindDOMNode(h))),o.ref=c.__wrapped||(c.__wrapped=h=>c(safeFindDOMNode(h)))}const Overlay=reactExports.forwardRef(({children:a,transition:o=Fade$1,popperConfig:e={},rootClose:c=!1,placement:h="top",show:g=!1,...b},$)=>{const j=reactExports.useRef({}),[rt,nt]=reactExports.useState(null),[pt,wt]=useOverlayOffset(b.offset),Dt=useMergedRefs($,pt),Lt=o===!0?Fade$1:o||void 0,it=useEventCallback(st=>{nt(st),e==null||e.onFirstUpdate==null||e.onFirstUpdate(st)});return useEffect(()=>{rt&&b.target&&(j.current.scheduleUpdate==null||j.current.scheduleUpdate())},[rt,b.target]),reactExports.useEffect(()=>{g||nt(null)},[g]),jsxRuntimeExports.jsx(BaseOverlay,{...b,ref:Dt,popperConfig:{...e,modifiers:wt.concat(e.modifiers||[]),onFirstUpdate:it},transition:Lt,rootClose:c,placement:h,show:g,children:(st,{arrowProps:bt,popper:gt,show:Et})=>{var ot,_t;wrapRefs(st,bt);const Mt=gt==null?void 0:gt.placement,Bt=Object.assign(j.current,{state:gt==null?void 0:gt.state,scheduleUpdate:gt==null?void 0:gt.update,placement:Mt,outOfBoundaries:(gt==null||(ot=gt.state)==null||(_t=ot.modifiersData.hide)==null?void 0:_t.isReferenceHidden)||!1,strategy:e.strategy}),It=!!rt;return typeof a=="function"?a({...st,placement:Mt,show:Et,...!o&&Et&&{className:"show"},popper:Bt,arrowProps:bt,hasDoneInitialMeasure:It}):reactExports.cloneElement(a,{...st,placement:Mt,arrowProps:bt,popper:Bt,hasDoneInitialMeasure:It,className:classNames(a.props.className,!o&&Et&&"show"),style:{...a.props.style,...st.style}})}})});Overlay.displayName="Overlay";const Overlay$1=Overlay;function normalizeDelay(a){return a&&typeof a=="object"?a:{show:a,hide:a}}function handleMouseOverOut(a,o,e){const[c]=o,h=c.currentTarget,g=c.relatedTarget||c.nativeEvent[e];(!g||g!==h)&&!contains$1(h,g)&&a(...o)}PropTypes.oneOf(["click","hover","focus"]);const OverlayTrigger=({trigger:a=["hover","focus"],overlay:o,children:e,popperConfig:c={},show:h,defaultShow:g=!1,onToggle:b,delay:$,placement:j,flip:rt=j&&j.indexOf("auto")!==-1,...nt})=>{const pt=reactExports.useRef(null),wt=useMergedRefs(pt,e.ref),Dt=useTimeout(),Lt=reactExports.useRef(""),[it,st]=useUncontrolledProp$1(h,g,b),bt=normalizeDelay($),{onFocus:gt,onBlur:Et,onClick:ot}=typeof e!="function"?reactExports.Children.only(e).props:{},_t=Er=>{wt(safeFindDOMNode(Er))},Mt=reactExports.useCallback(()=>{if(Dt.clear(),Lt.current="show",!bt.show){st(!0);return}Dt.set(()=>{Lt.current==="show"&&st(!0)},bt.show)},[bt.show,st,Dt]),Bt=reactExports.useCallback(()=>{if(Dt.clear(),Lt.current="hide",!bt.hide){st(!1);return}Dt.set(()=>{Lt.current==="hide"&&st(!1)},bt.hide)},[bt.hide,st,Dt]),It=reactExports.useCallback((...Er)=>{Mt(),gt==null||gt(...Er)},[Mt,gt]),jt=reactExports.useCallback((...Er)=>{Bt(),Et==null||Et(...Er)},[Bt,Et]),tr=reactExports.useCallback((...Er)=>{st(!it),ot==null||ot(...Er)},[ot,st,it]),gr=reactExports.useCallback((...Er)=>{handleMouseOverOut(Mt,Er,"fromElement")},[Mt]),vr=reactExports.useCallback((...Er)=>{handleMouseOverOut(Bt,Er,"toElement")},[Bt]),hr=a==null?[]:[].concat(a),mr={ref:_t};return hr.indexOf("click")!==-1&&(mr.onClick=tr),hr.indexOf("focus")!==-1&&(mr.onFocus=It,mr.onBlur=jt),hr.indexOf("hover")!==-1&&(mr.onMouseOver=gr,mr.onMouseOut=vr),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[typeof e=="function"?e(mr):reactExports.cloneElement(e,mr),jsxRuntimeExports.jsx(Overlay$1,{...nt,show:it,onHide:Bt,flip:rt,placement:j,popperConfig:c,target:pt.current,children:o})]})},OverlayTrigger$1=Object.freeze(Object.defineProperty({__proto__:null,default:OverlayTrigger},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(OverlayTrigger$1);Object.defineProperty(HelpButton$1,"__esModule",{value:!0});HelpButton$1.default=void 0;var _react$5=_interopRequireDefault$5(reactExports),_OverlayTrigger=_interopRequireDefault$5(require$$1);function _interopRequireDefault$5(a){return a&&a.__esModule?a:{default:a}}function HelpButton(a){return _react$5.default.createElement(_OverlayTrigger.default,{trigger:"click",rootClose:!0,placement:a.placement,overlay:a.popover},_react$5.default.createElement("div",{className:"help-button"},"?"))}var _default$4=HelpButton;HelpButton$1.default=_default$4;var ptable_data={};Object.defineProperty(ptable_data,"__esModule",{value:!0});ptable_data.elementsInfo=ptable_data.elementClassColors=void 0;var elementsInfo=[{sym:"X",class:"X"},{sym:"H",class:"H"},{sym:"He",class:"noble"},{sym:"Li",class:"alkali"},{sym:"Be",class:"alkaline_earth"},{sym:"B",class:"semimetal"},{sym:"C",class:"nonmetal"},{sym:"N",class:"nonmetal"},{sym:"O",class:"nonmetal"},{sym:"F",class:"halogen"},{sym:"Ne",class:"noble"},{sym:"Na",class:"alkali"},{sym:"Mg",class:"alkaline_earth"},{sym:"Al",class:"post_transition"},{sym:"Si",class:"semimetal"},{sym:"P",class:"nonmetal"},{sym:"S",class:"nonmetal"},{sym:"Cl",class:"halogen"},{sym:"Ar",class:"noble"},{sym:"K",class:"alkali"},{sym:"Ca",class:"alkaline_earth"},{sym:"Sc",class:"transition"},{sym:"Ti",class:"transition"},{sym:"V",class:"transition"},{sym:"Cr",class:"transition"},{sym:"Mn",class:"transition"},{sym:"Fe",class:"transition"},{sym:"Co",class:"transition"},{sym:"Ni",class:"transition"},{sym:"Cu",class:"transition"},{sym:"Zn",class:"transition"},{sym:"Ga",class:"post_transition"},{sym:"Ge",class:"semimetal"},{sym:"As",class:"semimetal"},{sym:"Se",class:"nonmetal"},{sym:"Br",class:"halogen"},{sym:"Kr",class:"noble"},{sym:"Rb",class:"alkali"},{sym:"Sr",class:"alkaline_earth"},{sym:"Y",class:"transition"},{sym:"Zr",class:"transition"},{sym:"Nb",class:"transition"},{sym:"Mo",class:"transition"},{sym:"Tc",class:"transition"},{sym:"Ru",class:"transition"},{sym:"Rh",class:"transition"},{sym:"Pd",class:"transition"},{sym:"Ag",class:"transition"},{sym:"Cd",class:"transition"},{sym:"In",class:"post_transition"},{sym:"Sn",class:"post_transition"},{sym:"Sb",class:"semimetal"},{sym:"Te",class:"semimetal"},{sym:"I",class:"halogen"},{sym:"Xe",class:"noble"},{sym:"Cs",class:"alkali"},{sym:"Ba",class:"alkaline_earth"},{sym:"La",class:"lanthanoid"},{sym:"Ce",class:"lanthanoid"},{sym:"Pr",class:"lanthanoid"},{sym:"Nd",class:"lanthanoid"},{sym:"Pm",class:"lanthanoid"},{sym:"Sm",class:"lanthanoid"},{sym:"Eu",class:"lanthanoid"},{sym:"Gd",class:"lanthanoid"},{sym:"Tb",class:"lanthanoid"},{sym:"Dy",class:"lanthanoid"},{sym:"Ho",class:"lanthanoid"},{sym:"Er",class:"lanthanoid"},{sym:"Tm",class:"lanthanoid"},{sym:"Yb",class:"lanthanoid"},{sym:"Lu",class:"lanthanoid"},{sym:"Hf",class:"transition"},{sym:"Ta",class:"transition"},{sym:"W",class:"transition"},{sym:"Re",class:"transition"},{sym:"Os",class:"transition"},{sym:"Ir",class:"transition"},{sym:"Pt",class:"transition"},{sym:"Au",class:"transition"},{sym:"Hg",class:"transition"},{sym:"Tl",class:"post_transition"},{sym:"Pb",class:"post_transition"},{sym:"Bi",class:"post_transition"},{sym:"Po",class:"post_transition"},{sym:"At",class:"halogen"},{sym:"Rn",class:"noble"},{sym:"Fr",class:"alkali"},{sym:"Ra",class:"alkaline_earth"},{sym:"Ac",class:"actinoid"},{sym:"Th",class:"actinoid"},{sym:"Pa",class:"actinoid"},{sym:"U",class:"actinoid"},{sym:"Np",class:"actinoid"},{sym:"Pu",class:"actinoid"},{sym:"Am",class:"actinoid"},{sym:"Cm",class:"actinoid"},{sym:"Bk",class:"actinoid"},{sym:"Cf",class:"actinoid"},{sym:"Es",class:"actinoid"},{sym:"Fm",class:"actinoid"},{sym:"Md",class:"actinoid"},{sym:"No",class:"actinoid"},{sym:"Lr",class:"actinoid"},{sym:"Rf",class:"transition"},{sym:"Db",class:"transition"},{sym:"Sg",class:"transition"},{sym:"Bh",class:"transition"},{sym:"Hs",class:"transition"},{sym:"Mt",class:"X"},{sym:"Ds",class:"X"},{sym:"Rg",class:"X"},{sym:"Cn",class:"X"},{sym:"Nh",class:"X"},{sym:"Fl",class:"X"},{sym:"Mc",class:"X"},{sym:"Lv",class:"X"},{sym:"Ts",class:"X"},{sym:"Og",class:"X"}];ptable_data.elementsInfo=elementsInfo;var elementClassColors={X:"rgb(220, 220, 220)",H:"rgb(220, 105, 105)",noble:"rgb(196, 205, 255)",alkali:"rgb(209, 146, 146)",alkaline_earth:"rgb(209, 189, 146)",semimetal:"rgb(189, 214, 163)",nonmetal:"rgb(214, 163, 190)",halogen:"rgb(210, 214, 163)",post_transition:"rgb(163, 178, 214)",transition:"rgb(169, 196, 212)",lanthanoid:"rgb(237, 184, 255)",actinoid:"rgb(191, 150, 255)"};ptable_data.elementClassColors=elementClassColors;var utils$2={};Object.defineProperty(utils$2,"__esModule",{value:!0});utils$2.RGB_Log_Blend=void 0;function _slicedToArray$3(a,o){return _arrayWithHoles$3(a)||_iterableToArrayLimit$3(a,o)||_unsupportedIterableToArray$3(a,o)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(a,o){if(a){if(typeof a=="string")return _arrayLikeToArray$3(a,o);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray$3(a,o)}}function _arrayLikeToArray$3(a,o){(o==null||o>a.length)&&(o=a.length);for(var e=0,c=new Array(o);e<o;e++)c[e]=a[e];return c}function _iterableToArrayLimit$3(a,o){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var c=[],h=!0,g=!1,b,$;try{for(e=e.call(a);!(h=(b=e.next()).done)&&(c.push(b.value),!(o&&c.length===o));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&e.return!=null&&e.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles$3(a){if(Array.isArray(a))return a}var RGB_Log_Blend=function(o,e,c){var h=parseInt,g=Math.round,b=1-o,$=e.split(","),j=_slicedToArray$3($,4),rt=j[0],nt=j[1],pt=j[2],wt=j[3],Dt=c.split(","),Lt=_slicedToArray$3(Dt,4),it=Lt[0],st=Lt[1],bt=Lt[2],gt=Lt[3],Et=wt||gt,ot=Et?","+(wt?gt?g((parseFloat(wt)*b+parseFloat(gt)*o)*1e3)/1e3+")":wt:gt):")";return"rgb"+(Et?"a(":"(")+g(Math.pow(b*Math.pow(h(rt[3]=="a"?rt.slice(5):rt.slice(4)),2)+o*Math.pow(h(it[3]=="a"?it.slice(5):it.slice(4)),2),.5))+","+g(Math.pow(b*Math.pow(h(nt),2)+o*Math.pow(h(st),2),.5))+","+g(Math.pow(b*Math.pow(h(pt),2)+o*Math.pow(h(bt),2),.5))+ot};utils$2.RGB_Log_Blend=RGB_Log_Blend;function _typeof$4(a){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$4(a)}Object.defineProperty(PTable$1,"__esModule",{value:!0});PTable$1.default=PTable$1.Element=void 0;var _react$4=_interopRequireDefault$4(reactExports),_Popover$1=_interopRequireDefault$4(require$$1$1),_HelpButton$1=_interopRequireDefault$4(HelpButton$1),_ptable_data=ptable_data,_utils=utils$2;function _interopRequireDefault$4(a){return a&&a.__esModule?a:{default:a}}function _defineProperty$2(a,o,e){return o in a?Object.defineProperty(a,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[o]=e,a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray$2(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray$2(a)}function _slicedToArray$2(a,o){return _arrayWithHoles$2(a)||_iterableToArrayLimit$2(a,o)||_unsupportedIterableToArray$2(a,o)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(a,o){if(a){if(typeof a=="string")return _arrayLikeToArray$2(a,o);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray$2(a,o)}}function _arrayLikeToArray$2(a,o){(o==null||o>a.length)&&(o=a.length);for(var e=0,c=new Array(o);e<o;e++)c[e]=a[e];return c}function _iterableToArrayLimit$2(a,o){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var c=[],h=!0,g=!1,b,$;try{for(e=e.call(a);!(h=(b=e.next()).done)&&(c.push(b.value),!(o&&c.length===o));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&e.return!=null&&e.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles$2(a){if(Array.isArray(a))return a}function _classCallCheck$4(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(a,o){for(var e=0;e<o.length;e++){var c=o[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$4(a,o,e){return o&&_defineProperties$4(a.prototype,o),e&&_defineProperties$4(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$4(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&_setPrototypeOf$4(a,o)}function _setPrototypeOf$4(a,o){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$4(a,o)}function _createSuper$4(a){var o=_isNativeReflectConstruct$4();return function(){var c=_getPrototypeOf$4(a),h;if(o){var g=_getPrototypeOf$4(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$4(this,h)}}function _possibleConstructorReturn$4(a,o){if(o&&(_typeof$4(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(a)}function _assertThisInitialized$4(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$4(a){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf$4(a)}var Element$1=function(a){_inherits$4(e,a);var o=_createSuper$4(e);function e(c){var h;_classCallCheck$4(this,e),h=o.call(this,c),h.handleOnClick=h.handleOnClick.bind(_assertThisInitialized$4(h)),h.symbol=_ptable_data.elementsInfo[h.props.num].sym;var g=_ptable_data.elementsInfo[h.props.num].class;return h.color=_ptable_data.elementClassColors[g],h}return _createClass$4(e,[{key:"handleOnClick",value:function(){this.props.disabled&&this.props.selection==0||this.props.onSelectionChange!=null&&this.props.onSelectionChange({element:this.symbol})}},{key:"render",value:function(){var h="pt_element pt_element-".concat(this.props.num);return this.props.disabled&&this.props.selection==0?h+=" pt_element-disabled":h+=" pt_element-state".concat(this.props.selection),this.props.doc||(h+=" nondoc"),this.props.num>=57&&this.props.num<=71&&(h+=" lanthanide"),_react$4.default.createElement("div",{className:h,style:{backgroundColor:(0,_utils.RGB_Log_Blend)(.5,this.color,"rgb(220, 220, 220)")},onClick:this.handleOnClick},_react$4.default.createElement("div",{className:"elem_num"},this.props.num),_react$4.default.createElement("div",{className:"elem_sym"},this.symbol))}}]),e}(_react$4.default.Component);PTable$1.Element=Element$1;var helpPopover$1=_react$4.default.createElement(_Popover$1.default,{id:"popover-basic"},_react$4.default.createElement(_Popover$1.default.Header,{as:"h3"},"Filtering mode help"),_react$4.default.createElement(_Popover$1.default.Body,{style:{textAlign:"justify"}},_react$4.default.createElement("b",null,"Include/exclude elements"),_react$4.default.createElement("br",null),"The green selected elements must be included, while the red elements must not be included in the formula. For example",_react$4.default.createElement("div",{className:"doc-elements"},_react$4.default.createElement(Element$1,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$4.default.createElement(Element$1,{num:8,disabled:!1,onSelectionChange:null,selection:2,doc:!0})),"filters for materials that contain Si and any other elements except O.",_react$4.default.createElement("br",null),_react$4.default.createElement("b",null,"Only selected elements"),_react$4.default.createElement("br",null),"Only the selected elements are allowed in the resulting chemical formula. For example",_react$4.default.createElement("div",{className:"doc-elements"},_react$4.default.createElement(Element$1,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$4.default.createElement(Element$1,{num:8,disabled:!1,onSelectionChange:null,selection:1,doc:!0})),"only allows for formulas in the form of Si",_react$4.default.createElement("sub",null,"x"),"O",_react$4.default.createElement("sub",null,"y"),".")),SelectionMode=function(a){_inherits$4(e,a);var o=_createSuper$4(e);function e(c){return _classCallCheck$4(this,e),o.call(this,c)}return _createClass$4(e,[{key:"render",value:function(){var h=this;return _react$4.default.createElement("div",{className:"selection_mode_outer"},_react$4.default.createElement("div",{className:"selection_mode_inner",onChange:function(b){return h.props.onSelectionChange({mode:b.target.value})}},_react$4.default.createElement("div",{style:{marginBottom:"2px"}},"Elements filtering mode:"),_react$4.default.createElement("label",{className:"selection_mode_control"},_react$4.default.createElement("input",{type:"radio",name:"sel_mode",value:"include",defaultChecked:!0}),"Include/exclude"),_react$4.default.createElement("label",{className:"selection_mode_control"},_react$4.default.createElement("input",{type:"radio",name:"sel_mode",value:"exact"}),"Only selected")),_react$4.default.createElement("div",{className:"help-button-container"},_react$4.default.createElement(_HelpButton$1.default,{popover:helpPopover$1,placement:"right"})))}}]),e}(_react$4.default.Component);function fitsFilter(a,o,e){var c=o.every(function(g){return a.includes(g)}),h=!0;return e.length!=0&&(h=a.every(function(g){return!e.has(g)})),c&&h}function enabledElements(a,o){for(var e=new Set,c=[],h=new Set,g=0,b=Object.entries(o.elements);g<b.length;g++){var $=_slicedToArray$2(b[g],2),j=$[0],rt=$[1];rt==1&&c.push(j),rt==2&&h.add(j)}return a.forEach(function(nt){fitsFilter(nt.elem_array,c,h)&&(e=new Set([].concat(_toConsumableArray(e),_toConsumableArray(nt.elem_array))))}),e}var PTable=function(a){_inherits$4(e,a);var o=_createSuper$4(e);function e(c){var h;return _classCallCheck$4(this,e),h=o.call(this,c),_defineProperty$2(_assertThisInitialized$4(h),"makeElements",function(g,b){for(var $=[],j=g;j<=b;j++){var rt=_ptable_data.elementsInfo[j].sym,nt=0;rt in h.props.filter.elements&&(nt=h.props.filter.elements[rt]),$.push(_react$4.default.createElement(Element$1,{key:j,num:j,disabled:!h.enabledElems.has(rt),onSelectionChange:h.props.onSelectionChange,selection:nt,doc:!1}))}return $}),h}return _createClass$4(e,[{key:"render",value:function(){return this.enabledElems=enabledElements(this.props.rows,this.props.filter),_react$4.default.createElement("div",{className:"ptable_outer"},_react$4.default.createElement("div",{className:"ptable"},_react$4.default.createElement(SelectionMode,{onSelectionChange:this.props.onSelectionChange,filter:this.props.filter}),this.makeElements(1,56),this.makeElements(72,88),this.makeElements(104,118),this.makeElements(57,71),this.makeElements(89,103)))}}]),e}(_react$4.default.Component),_default$3=PTable;PTable$1.default=_default$3;var MaterialDataGrid$1={},main={},agGridReact={},agGridReactLegacy={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v28.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          *//**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function makeNull(a){return a==null||a===""?null:a}function exists(a,o){return o===void 0&&(o=!1),a!=null&&(a!==""||o)}function missing(a){return!exists(a)}function missingOrEmpty(a){return a==null||a.length===0}function toStringOrNull(a){return a!=null&&typeof a.toString=="function"?a.toString():null}function attrToNumber(a){if(a!==void 0){if(a===null||a==="")return null;if(typeof a=="number")return isNaN(a)?void 0:a;var o=parseInt(a,10);return isNaN(o)?void 0:o}}function attrToBoolean(a){if(a!==void 0)return a===null||a===""?!1:typeof a=="boolean"?a:/true/i.test(a)}function attrToString(a){if(!(a==null||a===""))return a}function referenceCompare(a,o){return a==null&&o==null?!0:a==null&&o!=null||a!=null&&o==null?!1:a===o}function jsonEquals(a,o){var e=a?JSON.stringify(a):null,c=o?JSON.stringify(o):null;return e===c}function defaultComparator(a,o,e){e===void 0&&(e=!1);var c=a==null,h=o==null;if(a&&a.toNumber&&(a=a.toNumber()),o&&o.toNumber&&(o=o.toNumber()),c&&h)return 0;if(c)return-1;if(h)return 1;function g(b,$){return b>$?1:b<$?-1:0}if(typeof a!="string"||!e)return g(a,o);try{return a.localeCompare(o)}catch{return g(a,o)}}function values(a){if(a instanceof Set||a instanceof Map){var o=[];return a.forEach(function(e){return o.push(e)}),o}return Object.values(a)}var GenericUtils=Object.freeze({__proto__:null,makeNull,exists,missing,missingOrEmpty,toStringOrNull,attrToNumber,attrToBoolean,attrToString,referenceCompare,jsonEquals,defaultComparator,values});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ColumnKeyCreator=function(){function a(){this.existingKeys={}}return a.prototype.addExistingKeys=function(o){for(var e=0;e<o.length;e++)this.existingKeys[o[e]]=!0},a.prototype.getUniqueKey=function(o,e){o=toStringOrNull(o);for(var c=0;;){var h=void 0;if(o?(h=o,c!==0&&(h+="_"+c)):e?(h=e,c!==0&&(h+="_"+c)):h=""+c,!this.existingKeys[h])return this.existingKeys[h]=!0,h;c++}},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function iterateObject(a,o){a!=null&&(Array.isArray(a)?a.forEach(function(e,c){return o(""+c,e)}):Object.keys(a).forEach(function(e){return o(e,a[e])}))}function cloneObject(a){for(var o={},e=Object.keys(a),c=0;c<e.length;c++){var h=e[c],g=a[h];o[h]=g}return o}function deepCloneObject(a){return JSON.parse(JSON.stringify(a))}function deepCloneDefinition(a,o){if(a){var e=a,c={};return Object.keys(e).forEach(function(h){if(!(o&&o.indexOf(h)>=0)){var g=e[h],b=isNonNullObject(g)&&g.constructor===Object;b?c[h]=deepCloneDefinition(g):c[h]=g}}),c}}function getProperty(a,o){return a[o]}function setProperty(a,o,e){a[o]=e}function copyPropertiesIfPresent(a,o){for(var e=[],c=2;c<arguments.length;c++)e[c-2]=arguments[c];e.forEach(function(h){return copyPropertyIfPresent(a,o,h)})}function copyPropertyIfPresent(a,o,e,c){var h=getProperty(a,e);h!==void 0&&setProperty(o,e,c?c(h):h)}function getAllKeysInObjects(a){var o={};return a.filter(function(e){return e!=null}).forEach(function(e){Object.keys(e).forEach(function(c){return o[c]=null})}),Object.keys(o)}function getAllValuesInObject(a){if(!a)return[];var o=Object;if(typeof o.values=="function")return o.values(a);var e=[];for(var c in a)a.hasOwnProperty(c)&&a.propertyIsEnumerable(c)&&e.push(a[c]);return e}function mergeDeep(a,o,e,c){e===void 0&&(e=!0),c===void 0&&(c=!1),exists(o)&&iterateObject(o,function(h,g){var b=a[h];if(b!==g){if(c){var $=b==null&&g!=null;if($){var j=typeof g=="object"&&g.constructor===Object,rt=j;rt&&(b={},a[h]=b)}}isNonNullObject(g)&&isNonNullObject(b)&&!Array.isArray(b)?mergeDeep(b,g,e,c):(e||g!==void 0)&&(a[h]=g)}})}function missingOrEmptyObject(a){return missing(a)||Object.keys(a).length===0}function get(a,o,e){if(a==null)return e;for(var c=o.split("."),h=a;c.length>1;)if(h=h[c.shift()],h==null)return e;var g=h[c[0]];return g??e}function set(a,o,e){if(a!=null){for(var c=o.split("."),h=a;c.length>1;)if(h=h[c.shift()],h==null)return;h[c[0]]=e}}function deepFreeze(a){return Object.freeze(a),values(a).forEach(function(o){(isNonNullObject(o)||typeof o=="function")&&deepFreeze(o)}),a}function getValueUsingField(a,o,e){if(!(!o||!a)){if(!e)return a[o];for(var c=o.split("."),h=a,g=0;g<c.length;g++){if(h==null)return;h=h[c[g]]}return h}}function removeAllReferences(a,o){Object.keys(a).forEach(function(h){var g=a[h];typeof g=="object"&&(a[h]=void 0)});var e=Object.getPrototypeOf(a),c={};Object.keys(e).forEach(function(h){var g=e[h];if(typeof g=="function"){var b=function(){console.warn("AG Grid: "+o+" function "+h+`() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};c[h]={value:b,writable:!0}}}),Object.defineProperties(a,c)}function isNonNullObject(a){return typeof a=="object"&&a!==null}var ObjectUtils=Object.freeze({__proto__:null,iterateObject,cloneObject,deepCloneObject,deepCloneDefinition,getProperty,setProperty,copyPropertiesIfPresent,copyPropertyIfPresent,getAllKeysInObjects,getAllValuesInObject,mergeDeep,missingOrEmptyObject,get,set,deepFreeze,getValueUsingField,removeAllReferences,isNonNullObject});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var doOnceFlags={};function doOnce(a,o){doOnceFlags[o]||(a(),doOnceFlags[o]=!0)}function getFunctionName(a){if(a.name)return a.name;var o=/function\s+([^\(]+)/.exec(a.toString());return o&&o.length===2?o[1].trim():null}function isFunction(a){return!!(a&&a.constructor&&a.call&&a.apply)}function executeInAWhile(a){executeAfter(a,400)}var executeNextVMTurnFuncs=[],executeNextVMTurnPending=!1;function executeNextVMTurn(a){executeNextVMTurnFuncs.push(a),!executeNextVMTurnPending&&(executeNextVMTurnPending=!0,window.setTimeout(function(){var o=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,o.forEach(function(e){return e()})},0))}function executeAfter(a,o){o===void 0&&(o=0),a.length>0&&window.setTimeout(function(){return a.forEach(function(e){return e()})},o)}function debounce(a,o,e){e===void 0&&(e=!1);var c;return function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var b=this,$=e&&!c;window.clearTimeout(c),c=window.setTimeout(function(){c=null,e||a.apply(b,h)},o),$&&a.apply(b,h)}}function throttle(a,o){var e=0;return function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var g=this,b=new Date().getTime();b-e<o||(e=b,a.apply(g,c))}}function waitUntil(a,o,e,c){e===void 0&&(e=100);var h=new Date().getTime(),g=null,b=!1,$=function(){var j=new Date().getTime()-h>e;(a()||j)&&(o(),b=!0,g!=null&&(window.clearInterval(g),g=null),j&&c&&console.warn(c))};$(),b||(g=window.setInterval($,10))}function compose(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return function(e){return a.reduce(function(c,h){return h(c)},e)}}function callIfPresent(a){a&&a()}var noop$1=function(){},FunctionUtils=Object.freeze({__proto__:null,doOnce,getFunctionName,isFunction,executeInAWhile,executeNextVMTurn,executeAfter,debounce,throttle,waitUntil,compose,callIfPresent,noop:noop$1});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Context=function(){function a(o,e){if(this.beanWrappers={},this.destroyed=!1,!(!o||!o.beanClasses)){this.contextParams=o,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var c=this.getBeanInstances();this.wireBeans(c),this.logger.log(">> ag-Application Context ready - component is alive")}}return a.prototype.getBeanInstances=function(){return values(this.beanWrappers).map(function(o){return o.beanInstance})},a.prototype.createBean=function(o,e){if(!o)throw Error("Can't wire to bean since it is null");return this.wireBeans([o],e),o},a.prototype.wireBeans=function(o,e){this.autoWireBeans(o),this.methodWireBeans(o),this.callLifeCycleMethods(o,"preConstructMethods"),exists(e)&&o.forEach(e),this.callLifeCycleMethods(o,"postConstructMethods")},a.prototype.createBeans=function(){var o=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),iterateObject(this.beanWrappers,function(c,h){var g;h.bean.__agBeanMetaData&&h.bean.__agBeanMetaData.autowireMethods&&h.bean.__agBeanMetaData.autowireMethods.agConstructor&&(g=h.bean.__agBeanMetaData.autowireMethods.agConstructor);var b=o.getBeansForParameters(g,h.bean.name),$=applyToConstructor(h.bean,b);h.beanInstance=$});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},a.prototype.createBeanWrapper=function(o){var e=o.__agBeanMetaData;if(!e){var c=void 0;o.prototype.constructor?c=getFunctionName(o.prototype.constructor):c=""+o,console.error("Context item "+c+" is not a bean");return}var h={bean:o,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=h},a.prototype.autoWireBeans=function(o){var e=this;o.forEach(function(c){e.forEachMetaDataInHierarchy(c,function(h,g){var b=h.agClassAttributes;b&&b.forEach(function($){var j=e.lookupBeanInstance(g,$.beanName,$.optional);c[$.attributeName]=j})})})},a.prototype.methodWireBeans=function(o){var e=this;o.forEach(function(c){e.forEachMetaDataInHierarchy(c,function(h,g){iterateObject(h.autowireMethods,function(b,$){if(b!=="agConstructor"){var j=e.getBeansForParameters($,g);c[b].apply(c,j)}})})})},a.prototype.forEachMetaDataInHierarchy=function(o,e){for(var c=Object.getPrototypeOf(o);c!=null;){var h=c.constructor;if(h.hasOwnProperty("__agBeanMetaData")){var g=h.__agBeanMetaData,b=this.getBeanName(h);e(g,b)}c=Object.getPrototypeOf(c)}},a.prototype.getBeanName=function(o){if(o.__agBeanMetaData&&o.__agBeanMetaData.beanName)return o.__agBeanMetaData.beanName;var e=o.toString(),c=e.substring(9,e.indexOf("("));return c},a.prototype.getBeansForParameters=function(o,e){var c=this,h=[];return o&&iterateObject(o,function(g,b){var $=c.lookupBeanInstance(e,b);h[Number(g)]=$}),h},a.prototype.lookupBeanInstance=function(o,e,c){if(c===void 0&&(c=!1),e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var h=this.beanWrappers[e];return h?h.beanInstance:(c||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+o),null)},a.prototype.callLifeCycleMethods=function(o,e){var c=this;o.forEach(function(h){return c.callLifeCycleMethodsOnBean(h,e)})},a.prototype.callLifeCycleMethodsOnBean=function(o,e,c){var h={};this.forEachMetaDataInHierarchy(o,function(b){var $=b[e];$&&$.forEach(function(j){j!=c&&(h[j]=!0)})});var g=Object.keys(h);g.forEach(function(b){return o[b]()})},a.prototype.getBean=function(o){return this.lookupBeanInstance("getBean",o,!0)},a.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var o=this.getBeanInstances();this.destroyBeans(o),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},a.prototype.destroyBean=function(o){o&&this.destroyBeans([o])},a.prototype.destroyBeans=function(o){var e=this;return o?(o.forEach(function(c){e.callLifeCycleMethodsOnBean(c,"preDestroyMethods","destroy");var h=c;typeof h.destroy=="function"&&h.destroy()}),[]):[]},a}();function applyToConstructor(a,o){var e=[null].concat(o),c=a.bind.apply(a,e);return new c}function PreConstruct(a,o,e){var c=getOrCreateProps$1(a.constructor);c.preConstructMethods||(c.preConstructMethods=[]),c.preConstructMethods.push(o)}function PostConstruct(a,o,e){var c=getOrCreateProps$1(a.constructor);c.postConstructMethods||(c.postConstructMethods=[]),c.postConstructMethods.push(o)}function PreDestroy(a,o,e){var c=getOrCreateProps$1(a.constructor);c.preDestroyMethods||(c.preDestroyMethods=[]),c.preDestroyMethods.push(o)}function Bean(a){return function(o){var e=getOrCreateProps$1(o);e.beanName=a}}function Autowired(a){return function(o,e,c){autowiredFunc(o,a,!1,o,e,null)}}function Optional(a){return function(o,e,c){autowiredFunc(o,a,!0,o,e,null)}}function autowiredFunc(a,o,e,c,h,g){if(o===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof g=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var b=getOrCreateProps$1(a.constructor);b.agClassAttributes||(b.agClassAttributes=[]),b.agClassAttributes.push({attributeName:h,beanName:o,optional:e})}function Qualifier(a){return function(o,e,c){var h=typeof o=="function"?o:o.constructor,g;if(typeof c=="number"){var b=void 0;e?(g=getOrCreateProps$1(h),b=e):(g=getOrCreateProps$1(h),b="agConstructor"),g.autowireMethods||(g.autowireMethods={}),g.autowireMethods[b]||(g.autowireMethods[b]={}),g.autowireMethods[b][c]=a}}}function getOrCreateProps$1(a){return a.hasOwnProperty("__agBeanMetaData")||(a.__agBeanMetaData={}),a.__agBeanMetaData}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$i=function(){return __assign$i=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$i.apply(this,arguments)},__decorate$2A=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$a=function(a,o){return function(e,c){o(e,c,a)}},EventService=function(){function a(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return a.prototype.setBeans=function(o,e,c,h){if(h===void 0&&(h=null),this.frameworkOverrides=c,this.gridOptionsWrapper=e,h){var g=e.useAsyncEvents();this.addGlobalListener(h,g)}},a.prototype.getListeners=function(o,e,c){var h=e?this.allAsyncListeners:this.allSyncListeners,g=h.get(o);return!g&&c&&(g=new Set,h.set(o,g)),g},a.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},a.prototype.addEventListener=function(o,e,c){c===void 0&&(c=!1),this.getListeners(o,c,!0).add(e)},a.prototype.removeEventListener=function(o,e,c){c===void 0&&(c=!1);var h=this.getListeners(o,c,!1);if(h&&(h.delete(e),h.size===0)){var g=c?this.allAsyncListeners:this.allSyncListeners;g.delete(o)}},a.prototype.addGlobalListener=function(o,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(o)},a.prototype.removeGlobalListener=function(o,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(o)},a.prototype.dispatchEvent=function(o){var e=o;this.gridOptionsWrapper&&(e=__assign$i(__assign$i({},o),{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},a.prototype.dispatchEventOnce=function(o){this.firedEvents[o.type]||this.dispatchEvent(o)},a.prototype.dispatchToListeners=function(o,e){var c=this,h=o.type,g=function(j){return j.forEach(function(rt){e?c.dispatchAsync(function(){return rt(o)}):rt(o)})},b=this.getListeners(h,e,!1);b&&g(b);var $=e?this.globalAsyncListeners:this.globalSyncListeners;$.forEach(function(j){e?c.dispatchAsync(function(){return c.frameworkOverrides.dispatchEvent(h,function(){return j(h,o)},!0)}):c.frameworkOverrides.dispatchEvent(h,function(){return j(h,o)},!0)})},a.prototype.dispatchAsync=function(o){this.asyncFunctionsQueue.push(o),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},a.prototype.flushAsyncQueue=function(){this.scheduled=!1;var o=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],o.forEach(function(e){return e()})},__decorate$2A([__param$a(0,Qualifier("loggerFactory")),__param$a(1,Qualifier("gridOptionsWrapper")),__param$a(2,Qualifier("frameworkOverrides")),__param$a(3,Qualifier("globalEventListener"))],a.prototype,"setBeans",null),a=__decorate$2A([Bean("eventService")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Constants=function(){function a(){}return a.ROW_BUFFER_SIZE=10,a.LAYOUT_INTERVAL=500,a.BATCH_WAIT_MILLIS=50,a.EXPORT_TYPE_DRAG_COPY="dragCopy",a.EXPORT_TYPE_CLIPBOARD="clipboard",a.EXPORT_TYPE_EXCEL="excel",a.EXPORT_TYPE_CSV="csv",a.ROW_MODEL_TYPE_INFINITE="infinite",a.ROW_MODEL_TYPE_VIEWPORT="viewport",a.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",a.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",a.ALWAYS="always",a.ONLY_WHEN_GROUPING="onlyWhenGrouping",a.PINNED_TOP="top",a.PINNED_BOTTOM="bottom",a.DOM_LAYOUT_NORMAL="normal",a.DOM_LAYOUT_PRINT="print",a.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",a.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",a.SOURCE_PASTE="paste",a.PINNED_RIGHT="right",a.PINNED_LEFT="left",a.SORT_ASC="asc",a.SORT_DESC="desc",a.INPUT_SELECTOR="input, select, button, textarea",a.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",a.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ModuleNames;(function(a){a.CommunityCoreModule="@ag-grid-community/core",a.CommunityAllModules="@ag-grid-community/all",a.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",a.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",a.CsvExportModule="@ag-grid-community/csv-export",a.EnterpriseCoreModule="@ag-grid-enterprise/core",a.EnterpriseAllModules="@ag-grid-enterprise/all",a.RowGroupingModule="@ag-grid-enterprise/row-grouping",a.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",a.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",a.MenuModule="@ag-grid-enterprise/menu",a.SetFilterModule="@ag-grid-enterprise/set-filter",a.MultiFilterModule="@ag-grid-enterprise/multi-filter",a.StatusBarModule="@ag-grid-enterprise/status-bar",a.SideBarModule="@ag-grid-enterprise/side-bar",a.RangeSelectionModule="@ag-grid-enterprise/range-selection",a.MasterDetailModule="@ag-grid-enterprise/master-detail",a.RichSelectModule="@ag-grid-enterprise/rich-select",a.GridChartsModule="@ag-grid-enterprise/charts",a.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",a.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",a.ExcelExportModule="@ag-grid-enterprise/excel-export",a.ClipboardModule="@ag-grid-enterprise/clipboard",a.SparklinesModule="@ag-grid-enterprise/sparklines",a.AngularModule="@ag-grid-community/angular",a.ReactModule="@ag-grid-community/react",a.VueModule="@ag-grid-community/vue",a.PolymerModule="@ag-grid-community/polymer"})(ModuleNames||(ModuleNames={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ModuleRegistry=function(){function a(){}return a.register=function(o,e){e===void 0&&(e=!0),a.modulesMap[o.moduleName]=o,a.moduleBased===void 0?a.moduleBased=e:a.moduleBased!==e&&doOnce(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},a.registerModules=function(o,e){e===void 0&&(e=!0),o&&o.forEach(function(c){return a.register(c,e)})},a.assertRegistered=function(o,e){if(this.isRegistered(o))return!0;var c=e+o,h;return a.moduleBased?h="AG Grid: unable to use "+e+" as module "+o+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":h="AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",doOnce(function(){console.warn(h)},c),!1},a.isRegistered=function(o){return!!a.modulesMap[o]},a.getRegisteredModules=function(){return values(a.modulesMap)},a.isPackageBased=function(){return!a.moduleBased},a.modulesMap={},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$2z=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},instanceIdSequence$4=0,Column=function(){function a(o,e,c,h){this.instanceId=instanceIdSequence$4++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new EventService,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=o,this.userProvidedColDef=e,this.colId=c,this.primary=h,this.setState(o)}return a.prototype.getInstanceId=function(){return this.instanceId},a.prototype.setState=function(o){o.sort!==void 0?(o.sort===Constants.SORT_ASC||o.sort===Constants.SORT_DESC)&&(this.sort=o.sort):(o.initialSort===Constants.SORT_ASC||o.initialSort===Constants.SORT_DESC)&&(this.sort=o.initialSort);var e=attrToNumber(o.sortIndex),c=attrToNumber(o.initialSortIndex);e!==void 0?e!==null&&(this.sortIndex=e):c!==null&&(this.sortIndex=c);var h=attrToBoolean(o.hide),g=attrToBoolean(o.initialHide);h!==void 0?this.visible=!h:this.visible=!g,o.pinned!==void 0?this.setPinned(o.pinned):this.setPinned(o.initialPinned);var b=attrToNumber(o.flex),$=attrToNumber(o.initialFlex);b!==void 0?this.flex=b:$!==void 0&&(this.flex=$)},a.prototype.setColDef=function(o,e){this.colDef=o,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_COL_DEF_CHANGED,"api"))},a.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},a.prototype.setParent=function(o){this.parent=o},a.prototype.getParent=function(){return this.parent},a.prototype.setOriginalParent=function(o){this.originalParent=o},a.prototype.getOriginalParent=function(){return this.originalParent},a.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},a.prototype.initDotNotation=function(){var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o},a.prototype.initMinAndMaxWidths=function(){var o=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(o),this.maxWidth=this.columnUtils.calculateColMaxWidth(o)},a.prototype.resetActualWidth=function(o){o===void 0&&(o="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,o,!0)},a.prototype.isEmptyGroup=function(){return!1},a.prototype.isRowGroupDisplayed=function(o){if(missing(this.colDef)||missing(this.colDef.showRowGroup))return!1;var e=this.colDef.showRowGroup===!0,c=this.colDef.showRowGroup===o;return e||c},a.prototype.isPrimary=function(){return this.primary},a.prototype.isFilterAllowed=function(){var o=!!this.colDef.filter||!!this.colDef.filterFramework;return o},a.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},a.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},a.prototype.validate=function(){var o=this.colDef;function e(b,$,j){doOnce(function(){j?console.warn(b,j):doOnce(function(){return console.warn(b)},$)},$)}var c=this.gridOptionsWrapper.isRowModelDefault();if(c&&!ModuleRegistry.isRegistered(ModuleNames.RowGroupingModule)){var h=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"];h.forEach(function(b){exists(o[b])&&(ModuleRegistry.isPackageBased()?e("AG Grid: "+b+" is only valid in ag-grid-enterprise, your column definition should not have "+b,"ColumnRowGroupingMissing"+b):e("AG Grid: "+b+" is only valid with AG Grid Enterprise Module "+ModuleNames.RowGroupingModule+" - your column definition should not have "+b,"ColumnRowGroupingMissing"+b))})}if(ModuleRegistry.isRegistered(ModuleNames.RichSelectModule)||(this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&(ModuleRegistry.isPackageBased()?e("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):e("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()){var g=["rowGroup","rowGroupIndex","pivot","pivotIndex"];g.forEach(function(b){exists(o[b])&&e("AG Grid: "+b+" is not possible when doing tree data, your column definition should not have "+b,"TreeDataCannotRowGroup")})}exists(this.colDef.width)&&typeof this.colDef.width!="number"&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),o.pinnedRowCellRenderer&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererParams&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererFramework&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowValueGetter&&e("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},a.prototype.addEventListener=function(o,e){this.eventService.addEventListener(o,e)},a.prototype.removeEventListener=function(o,e){this.eventService.removeEventListener(o,e)},a.prototype.createColumnFunctionCallbackParams=function(o){return{node:o,data:o.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},a.prototype.isSuppressNavigable=function(o){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var e=this.createColumnFunctionCallbackParams(o),c=this.colDef.suppressNavigable;return c(e)}return!1},a.prototype.isCellEditable=function(o){return o.group&&!this.gridOptionsWrapper.isEnableGroupEdit()?!1:this.isColumnFunc(o,this.colDef.editable)},a.prototype.isSuppressFillHandle=function(){return!!attrToBoolean(this.colDef.suppressFillHandle)},a.prototype.isAutoHeight=function(){return!!attrToBoolean(this.colDef.autoHeight)},a.prototype.isAutoHeaderHeight=function(){return!!attrToBoolean(this.colDef.autoHeaderHeight)},a.prototype.isRowDrag=function(o){return this.isColumnFunc(o,this.colDef.rowDrag)},a.prototype.isDndSource=function(o){return this.isColumnFunc(o,this.colDef.dndSource)},a.prototype.isCellCheckboxSelection=function(o){return this.isColumnFunc(o,this.colDef.checkboxSelection)},a.prototype.isSuppressPaste=function(o){return this.isColumnFunc(o,this.colDef?this.colDef.suppressPaste:null)},a.prototype.isResizable=function(){return!!attrToBoolean(this.colDef.resizable)},a.prototype.isColumnFunc=function(o,e){if(typeof e=="boolean")return e;if(typeof e=="function"){var c=this.createColumnFunctionCallbackParams(o),h=e;return h(c)}return!1},a.prototype.setMoving=function(o,e){e===void 0&&(e="api"),this.moving=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_MOVING_CHANGED,e))},a.prototype.createColumnEvent=function(o,e){return{type:o,column:this,columns:[this],source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},a.prototype.isMoving=function(){return this.moving},a.prototype.getSort=function(){return this.sort},a.prototype.setSort=function(o,e){e===void 0&&(e="api"),this.sort!==o&&(this.sort=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_SORT_CHANGED,e)))},a.prototype.setMenuVisible=function(o,e){e===void 0&&(e="api"),this.menuVisible!==o&&(this.menuVisible=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_MENU_VISIBLE_CHANGED,e)))},a.prototype.isMenuVisible=function(){return this.menuVisible},a.prototype.isSortAscending=function(){return this.sort===Constants.SORT_ASC},a.prototype.isSortDescending=function(){return this.sort===Constants.SORT_DESC},a.prototype.isSortNone=function(){return missing(this.sort)},a.prototype.isSorting=function(){return exists(this.sort)},a.prototype.getSortIndex=function(){return this.sortIndex},a.prototype.setSortIndex=function(o){this.sortIndex=o},a.prototype.setAggFunc=function(o){this.aggFunc=o},a.prototype.getAggFunc=function(){return this.aggFunc},a.prototype.getLeft=function(){return this.left},a.prototype.getOldLeft=function(){return this.oldLeft},a.prototype.getRight=function(){return this.left+this.actualWidth},a.prototype.setLeft=function(o,e){e===void 0&&(e="api"),this.oldLeft=this.left,this.left!==o&&(this.left=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_LEFT_CHANGED,e)))},a.prototype.isFilterActive=function(){return this.filterActive},a.prototype.setFilterActive=function(o,e,c){e===void 0&&(e="api"),this.filterActive!==o&&(this.filterActive=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_FILTER_ACTIVE_CHANGED,e)));var h=this.createColumnEvent(a.EVENT_FILTER_CHANGED,e);c&&mergeDeep(h,c),this.eventService.dispatchEvent(h)},a.prototype.setPinned=function(o){o===!0||o===Constants.PINNED_LEFT?this.pinned=Constants.PINNED_LEFT:o===Constants.PINNED_RIGHT?this.pinned=Constants.PINNED_RIGHT:this.pinned=null},a.prototype.setFirstRightPinned=function(o,e){e===void 0&&(e="api"),this.firstRightPinned!==o&&(this.firstRightPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_FIRST_RIGHT_PINNED_CHANGED,e)))},a.prototype.setLastLeftPinned=function(o,e){e===void 0&&(e="api"),this.lastLeftPinned!==o&&(this.lastLeftPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_LAST_LEFT_PINNED_CHANGED,e)))},a.prototype.isFirstRightPinned=function(){return this.firstRightPinned},a.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},a.prototype.isPinned=function(){return this.pinned===Constants.PINNED_LEFT||this.pinned===Constants.PINNED_RIGHT},a.prototype.isPinnedLeft=function(){return this.pinned===Constants.PINNED_LEFT},a.prototype.isPinnedRight=function(){return this.pinned===Constants.PINNED_RIGHT},a.prototype.getPinned=function(){return this.pinned},a.prototype.setVisible=function(o,e){e===void 0&&(e="api");var c=o===!0;this.visible!==c&&(this.visible=c,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_VISIBLE_CHANGED,e)))},a.prototype.isVisible=function(){return this.visible},a.prototype.getColDef=function(){return this.colDef},a.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},a.prototype.getColId=function(){return this.colId},a.prototype.getId=function(){return this.getColId()},a.prototype.getUniqueId=function(){return this.getId()},a.prototype.getDefinition=function(){return this.colDef},a.prototype.getActualWidth=function(){return this.actualWidth},a.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},a.prototype.setAutoHeaderHeight=function(o){var e=o!==this.autoHeaderHeight;return this.autoHeaderHeight=o,e},a.prototype.createBaseColDefParams=function(o){var e={node:o,data:o.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return e},a.prototype.getColSpan=function(o){if(missing(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(o),c=this.colDef.colSpan(e);return Math.max(c,1)},a.prototype.getRowSpan=function(o){if(missing(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(o),c=this.colDef.rowSpan(e);return Math.max(c,1)},a.prototype.setActualWidth=function(o,e,c){e===void 0&&(e="api"),c===void 0&&(c=!1),this.minWidth!=null&&(o=Math.max(o,this.minWidth)),this.maxWidth!=null&&(o=Math.min(o,this.maxWidth)),this.actualWidth!==o&&(this.actualWidth=o,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),c||this.fireColumnWidthChangedEvent(e))},a.prototype.fireColumnWidthChangedEvent=function(o){this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_WIDTH_CHANGED,o))},a.prototype.isGreaterThanMax=function(o){return this.maxWidth!=null?o>this.maxWidth:!1},a.prototype.getMinWidth=function(){return this.minWidth},a.prototype.getMaxWidth=function(){return this.maxWidth},a.prototype.getFlex=function(){return this.flex||0},a.prototype.setFlex=function(o){this.flex!==o&&(this.flex=o)},a.prototype.setMinimum=function(o){o===void 0&&(o="api"),exists(this.minWidth)&&this.setActualWidth(this.minWidth,o)},a.prototype.setRowGroupActive=function(o,e){e===void 0&&(e="api"),this.rowGroupActive!==o&&(this.rowGroupActive=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_ROW_GROUP_CHANGED,e)))},a.prototype.isRowGroupActive=function(){return this.rowGroupActive},a.prototype.setPivotActive=function(o,e){e===void 0&&(e="api"),this.pivotActive!==o&&(this.pivotActive=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_PIVOT_CHANGED,e)))},a.prototype.isPivotActive=function(){return this.pivotActive},a.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},a.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},a.prototype.setValueActive=function(o,e){e===void 0&&(e="api"),this.aggregationActive!==o&&(this.aggregationActive=o,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_VALUE_CHANGED,e)))},a.prototype.isValueActive=function(){return this.aggregationActive},a.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},a.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},a.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},a.prototype.getMenuTabs=function(o){var e=this.getColDef().menuTabs;return e==null&&(e=o),e},a.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),this.colDef?!!this.colDef.lockPosition:!1},a.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),this.colDef?!!this.colDef.lockVisible:!1},a.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),this.colDef?!!this.colDef.lockPinned:!1},a.EVENT_MOVING_CHANGED="movingChanged",a.EVENT_LEFT_CHANGED="leftChanged",a.EVENT_WIDTH_CHANGED="widthChanged",a.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",a.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",a.EVENT_VISIBLE_CHANGED="visibleChanged",a.EVENT_FILTER_CHANGED="filterChanged",a.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",a.EVENT_SORT_CHANGED="sortChanged",a.EVENT_COL_DEF_CHANGED="colDefChanged",a.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",a.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",a.EVENT_PIVOT_CHANGED="columnPivotChanged",a.EVENT_VALUE_CHANGED="columnValueChanged",__decorate$2z([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$2z([Autowired("columnUtils")],a.prototype,"columnUtils",void 0),__decorate$2z([PostConstruct],a.prototype,"initialise",null),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function firstExistingValue(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];for(var e=0;e<a.length;e++){var c=a[e];if(exists(c))return c}return null}function existsAndNotEmpty(a){return a!=null&&a.length>0}function last(a){if(!(!a||!a.length))return a[a.length-1]}function areEqual(a,o,e){return a==null&&o==null?!0:a!=null&&o!=null&&a.length===o.length&&a.every(function(c,h){return e?e(c,o[h]):o[h]===c})}function compareArrays(a,o){return areEqual(a,o)}function shallowCompare(a,o){return areEqual(a,o)}function sortNumerically(a){return a.sort(function(o,e){return o-e})}function removeRepeatsFromArray(a,o){if(a)for(var e=a.length-2;e>=0;e--){var c=a[e]===o,h=a[e+1]===o;c&&h&&a.splice(e+1,1)}}function removeFromArray(a,o){var e=a.indexOf(o);e>=0&&a.splice(e,1)}function removeAllFromArray(a,o){o.forEach(function(e){return removeFromArray(a,e)})}function insertIntoArray(a,o,e){a.splice(e,0,o)}function insertArrayIntoArray(a,o,e){if(!(a==null||o==null))for(var c=o.length-1;c>=0;c--){var h=o[c];insertIntoArray(a,h,e)}}function moveInArray(a,o,e){removeAllFromArray(a,o),o.slice().reverse().forEach(function(c){return insertIntoArray(a,c,e)})}function includes(a,o){return a.indexOf(o)>-1}function flatten(a){return[].concat.apply([],a)}function pushAll(a,o){o==null||a==null||o.forEach(function(e){return a.push(e)})}function toStrings(a){return a.map(toStringOrNull)}function forEachReverse(a,o){if(a!=null)for(var e=a.length-1;e>=0;e--)o(a[e],e)}var ArrayUtils=Object.freeze({__proto__:null,firstExistingValue,existsAndNotEmpty,last,areEqual,compareArrays,shallowCompare,sortNumerically,removeRepeatsFromArray,removeFromArray,removeAllFromArray,insertIntoArray,insertArrayIntoArray,moveInArray,includes,flatten,pushAll,toStrings,forEachReverse});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$2y=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ColumnGroup=function(){function a(o,e,c,h){this.displayedChildren=[],this.localEventService=new EventService,this.groupId=e,this.instanceId=c,this.providedColumnGroup=o,this.pinned=h}return a.createUniqueId=function(o,e){return o+"_"+e},a.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},a.prototype.getParent=function(){return this.parent},a.prototype.setParent=function(o){this.parent=o},a.prototype.getUniqueId=function(){return a.createUniqueId(this.groupId,this.instanceId)},a.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},a.prototype.isMoving=function(){var o=this.getProvidedColumnGroup().getLeafColumns();return!o||o.length===0?!1:o.every(function(e){return e.isMoving()})},a.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(h){h instanceof a&&h.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var o=last(this.displayedChildren),e=o.getLeft();this.setLeft(e)}else{var c=this.displayedChildren[0].getLeft();this.setLeft(c)}else this.setLeft(null)},a.prototype.getLeft=function(){return this.left},a.prototype.getOldLeft=function(){return this.oldLeft},a.prototype.setLeft=function(o){this.oldLeft=o,this.left!==o&&(this.left=o,this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_LEFT_CHANGED)))},a.prototype.getPinned=function(){return this.pinned},a.prototype.createAgEvent=function(o){return{type:o}},a.prototype.addEventListener=function(o,e){this.localEventService.addEventListener(o,e)},a.prototype.removeEventListener=function(o,e){this.localEventService.removeEventListener(o,e)},a.prototype.getGroupId=function(){return this.groupId},a.prototype.getInstanceId=function(){return this.instanceId},a.prototype.isChildInThisGroupDeepSearch=function(o){var e=!1;return this.children.forEach(function(c){o===c&&(e=!0),c instanceof a&&c.isChildInThisGroupDeepSearch(o)&&(e=!0)}),e},a.prototype.getActualWidth=function(){var o=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){o+=e.getActualWidth()}),o},a.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var o=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(o=!0)}),o},a.prototype.getMinWidth=function(){var o=0;return this.displayedChildren.forEach(function(e){o+=e.getMinWidth()||0}),o},a.prototype.addChild=function(o){this.children||(this.children=[]),this.children.push(o)},a.prototype.getDisplayedChildren=function(){return this.displayedChildren},a.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},a.prototype.getDisplayedLeafColumns=function(){var o=[];return this.addDisplayedLeafColumns(o),o},a.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},a.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},a.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},a.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},a.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},a.prototype.setExpanded=function(o){this.providedColumnGroup.setExpanded(o)},a.prototype.addDisplayedLeafColumns=function(o){this.displayedChildren.forEach(function(e){e instanceof Column?o.push(e):e instanceof a&&e.addDisplayedLeafColumns(o)})},a.prototype.addLeafColumns=function(o){this.children.forEach(function(e){e instanceof Column?o.push(e):e instanceof a&&e.addLeafColumns(o)})},a.prototype.getChildren=function(){return this.children},a.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},a.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},a.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},a.prototype.getPaddingLevel=function(){var o=this.getParent();return!this.isPadding()||!o||!o.isPadding()?0:1+o.getPaddingLevel()},a.prototype.calculateDisplayedColumns=function(){var o=this;this.displayedChildren=[];for(var e=this;e!=null&&e.isPadding();)e=e.getParent();var c=e?e.providedColumnGroup.isExpandable():!1;if(!c){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(h){var g=h instanceof a&&(!h.displayedChildren||!h.displayedChildren.length);if(!g){var b=h.getColumnGroupShow();switch(b){case a.HEADER_GROUP_SHOW_OPEN:e.providedColumnGroup.isExpanded()&&o.displayedChildren.push(h);break;case a.HEADER_GROUP_SHOW_CLOSED:e.providedColumnGroup.isExpanded()||o.displayedChildren.push(h);break;default:o.displayedChildren.push(h);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_DISPLAYED_CHILDREN_CHANGED))},a.HEADER_GROUP_SHOW_OPEN="open",a.HEADER_GROUP_SHOW_CLOSED="closed",a.EVENT_LEFT_CHANGED="leftChanged",a.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",__decorate$2y([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ProvidedColumnGroup=function(){function a(o,e,c,h){this.localEventService=new EventService,this.expandable=!1,this.colGroupDef=o,this.groupId=e,this.expanded=!!o&&!!o.openByDefault,this.padding=c,this.level=h}return a.prototype.reset=function(o,e){this.colGroupDef=o,this.level=e,this.originalParent=null,this.children=void 0,this.expandable=void 0},a.prototype.setOriginalParent=function(o){this.originalParent=o},a.prototype.getOriginalParent=function(){return this.originalParent},a.prototype.getLevel=function(){return this.level},a.prototype.isVisible=function(){return this.children?this.children.some(function(o){return o.isVisible()}):!1},a.prototype.isPadding=function(){return this.padding},a.prototype.setExpanded=function(o){this.expanded=o===void 0?!1:o;var e={type:a.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(e)},a.prototype.isExpandable=function(){return this.expandable},a.prototype.isExpanded=function(){return this.expanded},a.prototype.getGroupId=function(){return this.groupId},a.prototype.getId=function(){return this.getGroupId()},a.prototype.setChildren=function(o){this.children=o},a.prototype.getChildren=function(){return this.children},a.prototype.getColGroupDef=function(){return this.colGroupDef},a.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},a.prototype.addLeafColumns=function(o){this.children&&this.children.forEach(function(e){e instanceof Column?o.push(e):e instanceof a&&e.addLeafColumns(o)})},a.prototype.getColumnGroupShow=function(){var o=this.colGroupDef;if(o)return o.columnGroupShow},a.prototype.setupExpandable=function(){var o=this;this.setExpandable(),this.getLeafColumns().forEach(function(e){return e.addEventListener(Column.EVENT_VISIBLE_CHANGED,o.onColumnVisibilityChanged.bind(o))})},a.prototype.setExpandable=function(){if(!this.isPadding()){for(var o=!1,e=!1,c=!1,h=this.findChildrenRemovingPadding(),g=0,b=h.length;g<b;g++){var $=h[g];if($.isVisible()){var j=$.getColumnGroupShow();j===ColumnGroup.HEADER_GROUP_SHOW_OPEN?(o=!0,c=!0):j===ColumnGroup.HEADER_GROUP_SHOW_CLOSED?(e=!0,c=!0):(o=!0,e=!0)}}var rt=o&&e&&c;if(this.expandable!==rt){this.expandable=rt;var nt={type:a.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(nt)}}},a.prototype.findChildrenRemovingPadding=function(){var o=[],e=function(c){c.forEach(function(h){var g=h instanceof a&&h.isPadding();g?e(h.children):o.push(h)})};return e(this.children),o},a.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},a.prototype.addEventListener=function(o,e){this.localEventService.addEventListener(o,e)},a.prototype.removeEventListener=function(o,e){this.localEventService.removeEventListener(o,e)},a.EVENT_EXPANDED_CHANGED="expandedChanged",a.EVENT_EXPANDABLE_CHANGED="expandableChanged",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AG_GRID_STOP_PROPAGATION="__ag_Grid_Stop_Propagation",PASSIVE_EVENTS$1=["touchstart","touchend","touchmove","touchcancel"],supports={};function stopPropagationForAgGrid(a){a[AG_GRID_STOP_PROPAGATION]=!0}function isStopPropagationForAgGrid(a){return a[AG_GRID_STOP_PROPAGATION]===!0}var isEventSupported=function(){var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},o=function(e){if(typeof supports[e]=="boolean")return supports[e];var c=document.createElement(a[e]||"div");return e="on"+e,supports[e]=e in c};return o}();function getCtrlForEvent(a,o,e){for(var c=o.target;c;){var h=a.getDomData(c,e);if(h)return h;c=c.parentElement}return null}function addChangeListener(a,o){a.addEventListener("changed",o),a.addEventListener("paste",o),a.addEventListener("input",o)}function isElementInEventPath(a,o){return!o||!a?!1:getEventPath(o).indexOf(a)>=0}function createEventPath(a){for(var o=[],e=a.target;e;)o.push(e),e=e.parentElement;return o}function addAgGridEventPath(a){a.__agGridEventPath=getEventPath(a)}function getEventPath(a){var o=a;return o.path?o.path:o.composedPath?o.composedPath():o.__agGridEventPath?o.__agGridEventPath:createEventPath(a)}function addSafePassiveEventListener(a,o,e,c){var h=includes(PASSIVE_EVENTS$1,e),g=h?{passive:!0}:void 0;a&&a.addEventListener&&a.addEventListener(o,e,c,g)}var EventUtils=Object.freeze({__proto__:null,stopPropagationForAgGrid,isStopPropagationForAgGrid,isEventSupported,getCtrlForEvent,addChangeListener,isElementInEventPath,createEventPath,addAgGridEventPath,getEventPath,addSafePassiveEventListener});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$2x=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},BeanStub=function(){function a(){var o=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!o.destroyed}}return a.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},a.prototype.getContext=function(){return this.context},a.prototype.destroy=function(){this.destroyFunctions.forEach(function(o){return o()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:a.EVENT_DESTROYED})},a.prototype.addEventListener=function(o,e){this.localEventService||(this.localEventService=new EventService),this.localEventService.addEventListener(o,e)},a.prototype.removeEventListener=function(o,e){this.localEventService&&this.localEventService.removeEventListener(o,e)},a.prototype.dispatchEventAsync=function(o){var e=this;window.setTimeout(function(){return e.dispatchEvent(o)},0)},a.prototype.dispatchEvent=function(o){this.localEventService&&this.localEventService.dispatchEvent(o)},a.prototype.addManagedListener=function(o,e,c){var h=this;if(!this.destroyed){o instanceof HTMLElement?addSafePassiveEventListener(this.getFrameworkOverrides(),o,e,c):o.addEventListener(e,c);var g=function(){return o.removeEventListener(e,c),h.destroyFunctions=h.destroyFunctions.filter(function(b){return b!==g}),null};return this.destroyFunctions.push(g),g}},a.prototype.addDestroyFunc=function(o){this.isAlive()?this.destroyFunctions.push(o):o()},a.prototype.createManagedBean=function(o,e){var c=this.createBean(o,e);return this.addDestroyFunc(this.destroyBean.bind(this,o,e)),c},a.prototype.createBean=function(o,e,c){return(e||this.getContext()).createBean(o,c)},a.prototype.destroyBean=function(o,e){return(e||this.getContext()).destroyBean(o)},a.prototype.destroyBeans=function(o,e){var c=this;return o&&o.forEach(function(h){return c.destroyBean(h,e)}),[]},a.EVENT_DESTROYED="destroyed",__decorate$2x([Autowired("frameworkOverrides")],a.prototype,"frameworkOverrides",void 0),__decorate$2x([Autowired("context")],a.prototype,"context",void 0),__decorate$2x([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$2x([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$2x([PreDestroy],a.prototype,"destroy",null),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2U=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2w=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$9=function(a,o){return function(e,c){o(e,c,a)}},ColumnFactory=function(a){__extends$2U(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},o.prototype.createColumnTree=function(e,c,h){var g=new ColumnKeyCreator,b=this.extractExistingTreeData(h),$=b.existingCols,j=b.existingGroups,rt=b.existingColKeys;g.addExistingKeys(rt);var nt=this.recursivelyCreateColumns(e,0,c,$,g,j),pt=this.findMaxDept(nt,0);this.logger.log("Number of levels for grouped columns is "+pt);var wt=this.balanceColumnTree(nt,0,pt,g),Dt=function(Lt,it){Lt instanceof ProvidedColumnGroup&&Lt.setupExpandable(),Lt.setOriginalParent(it)};return this.columnUtils.depthFirstOriginalTreeSearch(null,wt,Dt),{columnTree:wt,treeDept:pt}},o.prototype.extractExistingTreeData=function(e){var c=[],h=[],g=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(b){if(b instanceof ProvidedColumnGroup){var $=b;h.push($)}else{var j=b;g.push(j.getId()),c.push(j)}}),{existingCols:c,existingGroups:h,existingColKeys:g}},o.prototype.createForAutoGroups=function(e,c){var h=this;return e.map(function(g){return h.createAutoGroupTreeItem(c,g)})},o.prototype.createAutoGroupTreeItem=function(e,c){for(var h=this.findDepth(e),g=c,b=h-1;b>=0;b--){var $=new ProvidedColumnGroup(null,"FAKE_PATH_"+c.getId()+"}_"+b,!0,b);this.context.createBean($),$.setChildren([g]),g.setOriginalParent($),g=$}return g},o.prototype.findDepth=function(e){for(var c=0,h=e;h&&h[0]&&h[0]instanceof ProvidedColumnGroup;)c++,h=h[0].getChildren();return c},o.prototype.balanceColumnTree=function(e,c,h,g){for(var b=[],$=0;$<e.length;$++){var j=e[$];if(j instanceof ProvidedColumnGroup){var rt=j,nt=this.balanceColumnTree(rt.getChildren(),c+1,h,g);rt.setChildren(nt),b.push(rt)}else{for(var pt=void 0,wt=void 0,Dt=h-1;Dt>=c;Dt--){var Lt=g.getUniqueKey(null,null),it=this.createMergedColGroupDef(null),st=new ProvidedColumnGroup(it,Lt,!0,c);this.context.createBean(st),wt&&wt.setChildren([st]),wt=st,pt||(pt=wt)}if(pt&&wt){b.push(pt);var bt=e.some(function(gt){return gt instanceof ProvidedColumnGroup});if(bt){wt.setChildren([j]);continue}else{wt.setChildren(e);break}}b.push(j)}}return b},o.prototype.findMaxDept=function(e,c){for(var h=c,g=0;g<e.length;g++){var b=e[g];if(b instanceof ProvidedColumnGroup){var $=b,j=this.findMaxDept($.getChildren(),c+1);h<j&&(h=j)}}return h},o.prototype.recursivelyCreateColumns=function(e,c,h,g,b,$){var j=this;return(e||[]).map(function(rt){return j.isColumnGroup(rt)?j.createColumnGroup(h,rt,c,g,b,$):j.createColumn(h,rt,g,b)})},o.prototype.createColumnGroup=function(e,c,h,g,b,$){var j=this.createMergedColGroupDef(c),rt=b.getUniqueKey(j.groupId||null,null),nt=this.findExistingGroup(c,$),pt;nt?(pt=nt,pt.reset(j,h),removeFromArray($,nt)):(pt=new ProvidedColumnGroup(j,rt,!1,h),this.context.createBean(pt));var wt=this.recursivelyCreateColumns(j.children,h+1,e,g,b,$);return pt.setChildren(wt),pt},o.prototype.createMergedColGroupDef=function(e){var c={};return Object.assign(c,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(c,e),this.checkForDeprecatedItems(c),c},o.prototype.createColumn=function(e,c,h,g){var b=this.mergeColDefs(c);this.checkForDeprecatedItems(b);var $=this.findExistingColumn(c,h);if(h&&$&&removeFromArray(h,$),$)$.setColDef(b,c),this.applyColumnState($,b);else{var j=g.getUniqueKey(b.colId,b.field);$=new Column(b,c,j,e),this.context.createBean($)}return $},o.prototype.applyColumnState=function(e,c){var h=attrToNumber(c.flex);h!==void 0&&e.setFlex(h);var g=e.getFlex()<=0;if(g){var b=attrToNumber(c.width);if(b!=null)e.setActualWidth(b);else{var $=e.getActualWidth();e.setActualWidth($)}}c.sort!==void 0&&(c.sort==Constants.SORT_ASC||c.sort==Constants.SORT_DESC?e.setSort(c.sort):e.setSort(void 0));var j=attrToNumber(c.sortIndex);j!==void 0&&e.setSortIndex(j);var rt=attrToBoolean(c.hide);rt!==void 0&&e.setVisible(!rt),c.pinned!==void 0&&e.setPinned(c.pinned)},o.prototype.findExistingColumn=function(e,c){return(c||[]).find(function(h){var g=h.getUserProvidedColDef();if(!g)return!1;var b=e.colId!=null,$=e.field!=null;return b?h.getId()===e.colId:$?g.field===e.field:g===e})},o.prototype.findExistingGroup=function(e,c){return c.find(function(h){var g=h.getColGroupDef();if(!g)return!1;var b=e.groupId!=null;return b?h.getId()===e.groupId:!1})},o.prototype.mergeColDefs=function(e){var c={},h=this.gridOptionsWrapper.getDefaultColDef();mergeDeep(c,h,!1,!0);var g=e.type;g||(g=h&&h.type),g&&this.assignColumnTypes(g,c),mergeDeep(c,e,!1,!0);var b=this.gridOptionsWrapper.getAutoGroupColumnDef(),$=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();return e.rowGroup&&b&&$&&mergeDeep(c,{sort:b.sort,initialSort:b.initialSort},!1,!0),c},o.prototype.assignColumnTypes=function(e,c){var h=[];if(e instanceof Array){var g=e.some(function(j){return typeof j!="string"});g?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):h=e}else if(typeof e=="string")h=e.split(",");else{console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return}var b=Object.assign({},DefaultColumnTypes),$=this.gridOptionsWrapper.getColumnTypes()||{};iterateObject($,function(j,rt){j in b?console.warn("AG Grid: the column type '"+j+"' is a default column type and cannot be overridden."):b[j]=rt}),h.forEach(function(j){var rt=b[j.trim()];rt?mergeDeep(c,rt,!1,!0):console.warn("AG Grid: colDef.type '"+j+"' does not correspond to defined gridOptions.columnTypes")})},o.prototype.checkForDeprecatedItems=function(e){if(e){var c=e;c.group!==void 0&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),c.headerGroup!==void 0&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),c.headerGroupShow!==void 0&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),c.suppressRowGroup!==void 0&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),c.suppressAggregation!==void 0&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(c.suppressRowGroup||c.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),c.displayName&&(console.warn("AG Grid: Found displayName "+c.displayName+", please use headerName instead, displayName is deprecated."),c.headerName=c.displayName)}},o.prototype.isColumnGroup=function(e){return e.children!==void 0},__decorate$2w([Autowired("columnUtils")],o.prototype,"columnUtils",void 0),__decorate$2w([__param$9(0,Qualifier("loggerFactory"))],o.prototype,"setBeans",null),o=__decorate$2w([Bean("columnFactory")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Events=function(){function a(){}return a.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",a.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",a.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",a.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",a.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",a.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",a.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",a.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",a.EVENT_COLUMN_MOVED="columnMoved",a.EVENT_COLUMN_VISIBLE="columnVisible",a.EVENT_COLUMN_PINNED="columnPinned",a.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",a.EVENT_COLUMN_RESIZED="columnResized",a.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",a.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",a.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",a.EVENT_ROW_GROUP_OPENED="rowGroupOpened",a.EVENT_ROW_DATA_CHANGED="rowDataChanged",a.EVENT_ROW_DATA_UPDATED="rowDataUpdated",a.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",a.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",a.EVENT_CHART_CREATED="chartCreated",a.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",a.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",a.EVENT_CHART_DESTROYED="chartDestroyed",a.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",a.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",a.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",a.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",a.EVENT_MODEL_UPDATED="modelUpdated",a.EVENT_PASTE_START="pasteStart",a.EVENT_PASTE_END="pasteEnd",a.EVENT_FILL_START="fillStart",a.EVENT_FILL_END="fillEnd",a.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",a.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",a.EVENT_CELL_CLICKED="cellClicked",a.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",a.EVENT_CELL_MOUSE_DOWN="cellMouseDown",a.EVENT_CELL_CONTEXT_MENU="cellContextMenu",a.EVENT_CELL_VALUE_CHANGED="cellValueChanged",a.EVENT_CELL_EDIT_REQUEST="cellEditRequest",a.EVENT_ROW_VALUE_CHANGED="rowValueChanged",a.EVENT_CELL_FOCUSED="cellFocused",a.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",a.EVENT_ROW_SELECTED="rowSelected",a.EVENT_SELECTION_CHANGED="selectionChanged",a.EVENT_CELL_KEY_DOWN="cellKeyDown",a.EVENT_CELL_KEY_PRESS="cellKeyPress",a.EVENT_CELL_MOUSE_OVER="cellMouseOver",a.EVENT_CELL_MOUSE_OUT="cellMouseOut",a.EVENT_FILTER_CHANGED="filterChanged",a.EVENT_FILTER_MODIFIED="filterModified",a.EVENT_FILTER_OPENED="filterOpened",a.EVENT_SORT_CHANGED="sortChanged",a.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",a.EVENT_ROW_CLICKED="rowClicked",a.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",a.EVENT_GRID_READY="gridReady",a.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",a.EVENT_VIEWPORT_CHANGED="viewportChanged",a.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",a.EVENT_FIRST_DATA_RENDERED="firstDataRendered",a.EVENT_DRAG_STARTED="dragStarted",a.EVENT_DRAG_STOPPED="dragStopped",a.EVENT_CHECKBOX_CHANGED="checkboxChanged",a.EVENT_ROW_EDITING_STARTED="rowEditingStarted",a.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",a.EVENT_CELL_EDITING_STARTED="cellEditingStarted",a.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",a.EVENT_BODY_SCROLL="bodyScroll",a.EVENT_BODY_SCROLL_END="bodyScrollEnd",a.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",a.EVENT_PAGINATION_CHANGED="paginationChanged",a.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",a.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",a.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",a.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",a.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",a.EVENT_FLASH_CELLS="flashCells",a.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",a.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",a.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",a.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",a.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",a.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",a.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",a.EVENT_ROW_DRAG_ENTER="rowDragEnter",a.EVENT_ROW_DRAG_MOVE="rowDragMove",a.EVENT_ROW_DRAG_LEAVE="rowDragLeave",a.EVENT_ROW_DRAG_END="rowDragEnd",a.EVENT_POPUP_TO_FRONT="popupToFront",a.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",a.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",a.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",a.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",a.EVENT_KEYBOARD_FOCUS="keyboardFocus",a.EVENT_MOUSE_FOCUS="mouseFocus",a.EVENT_STORE_UPDATED="storeUpdated",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var GroupInstanceIdCreator=function(){function a(){this.existingIds={}}return a.prototype.getInstanceIdForKey=function(o){var e=this.existingIds[o],c;return typeof e!="number"?c=0:c=e+1,this.existingIds[o]=c,c},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function utf8_encode(a){var o=String.fromCharCode;function e(pt){var wt=[];if(!pt)return[];for(var Dt=pt.length,Lt=0,it,st;Lt<Dt;)it=pt.charCodeAt(Lt++),it>=55296&&it<=56319&&Lt<Dt?(st=pt.charCodeAt(Lt++),(st&64512)==56320?wt.push(((it&1023)<<10)+(st&1023)+65536):(wt.push(it),Lt--)):wt.push(it);return wt}function c(pt){if(pt>=55296&&pt<=57343)throw Error("Lone surrogate U+"+pt.toString(16).toUpperCase()+" is not a scalar value")}function h(pt,wt){return o(pt>>wt&63|128)}function g(pt){if(pt>=0&&pt<=31&&pt!==10){var wt=pt.toString(16).toUpperCase(),Dt=wt.padStart(4,"0");return"_x"+Dt+"_"}if(!(pt&4294967168))return o(pt);var Lt="";return pt&4294965248?pt&4294901760?pt&4292870144||(Lt=o(pt>>18&7|240),Lt+=h(pt,12),Lt+=h(pt,6)):(c(pt),Lt=o(pt>>12&15|224),Lt+=h(pt,6)):Lt=o(pt>>6&31|192),Lt+=o(pt&63|128),Lt}for(var b=e(a),$=b.length,j=-1,rt,nt="";++j<$;)rt=b[j],nt+=g(rt);return nt}function camelCaseToHyphen(a){return a==null?null:a.replace(/([A-Z])/g,function(o){return"-"+o[0].toLowerCase()})}function hyphenToCamelCase(a){return a==null?null:a.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()})}function capitalise(a){return a[0].toUpperCase()+a.substr(1).toLowerCase()}function escapeString(a,o){if(a==null)return null;var e=a.toString().toString();return o?e:e.replace(reUnescapedHtml,function(c){return HTML_ESCAPES[c]})}function camelCaseToHumanText(a){if(!a||a==null)return null;var o=/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,e=a.replace(o,"$1$4 $2$3$5").replace("."," ").split(" ");return e.map(function(c){return c.substring(0,1).toUpperCase()+(c.length>1?c.substring(1,c.length):"")}).join(" ")}var StringUtils=Object.freeze({__proto__:null,utf8_encode,camelCaseToHyphen,hyphenToCamelCase,capitalise,escapeString,camelCaseToHumanText});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function convertToMap(a){var o=new Map;return a.forEach(function(e){return o.set(e[0],e[1])}),o}function mapById(a,o){var e=new Map;return a.forEach(function(c){return e.set(o(c),c)}),e}function keys(a){var o=[];return a.forEach(function(e,c){return o.push(c)}),o}var MapUtils=Object.freeze({__proto__:null,convertToMap,mapById,keys});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$p=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$j=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$p(arguments[o]));return a},ColDefUtil=function(){function a(){}return a.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],a.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],a.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],a.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],a.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","showDisabledCheckboxes","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight"],a.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],a.ALL_PROPERTIES=__spread$j(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.NUMBER_PROPERTIES,a.FUNCTION_PROPERTIES,a.BOOLEAN_PROPERTIES),a.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$o=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$i=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$o(arguments[o]));return a},PropertyKeys=function(){function a(){}return a.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],a.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],a.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],a.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],a.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","enableChartToolPanelsButton","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","serverSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter"],a.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupSortComparator","defaultGroupOrderComparator","rowDragText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],a.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],a.FUNCTION_PROPERTIES=__spread$i(a.FUNCTIONAL_PROPERTIES,a.CALLBACK_PROPERTIES),a.ALL_PROPERTIES=__spread$i(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.NUMBER_PROPERTIES,a.FUNCTION_PROPERTIES,a.BOOLEAN_PROPERTIES),a.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$h=function(){return __assign$h=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$h.apply(this,arguments)},__read$n=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$h=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$n(arguments[o]));return a},ComponentUtil=function(){function a(){}return a.getEventCallbacks=function(){return a.EVENT_CALLBACKS||(a.EVENT_CALLBACKS=a.EVENTS.map(function(o){return a.getCallbackForEvent(o)})),a.EVENT_CALLBACKS},a.copyAttributesToGridOptions=function(o,e,c){typeof o!="object"&&(o={});var h=o,g=function(b){return typeof e[b]<"u"};return g("groupAggFiltering")&&typeof e.groupAggFiltering!="function"&&(h.groupAggFiltering=a.toBoolean(e.groupAggFiltering),delete e.groupAggFiltering),__spread$h(a.ARRAY_PROPERTIES,a.STRING_PROPERTIES,a.OBJECT_PROPERTIES,a.FUNCTION_PROPERTIES,a.getEventCallbacks()).filter(g).forEach(function(b){return h[b]=e[b]}),a.BOOLEAN_PROPERTIES.filter(g).forEach(function(b){return h[b]=a.toBoolean(e[b])}),a.NUMBER_PROPERTIES.filter(g).forEach(function(b){return h[b]=a.toNumber(e[b])}),o},a.getCallbackForEvent=function(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substr(1)},a.processOnChange=function(o,e,c,h){if(o){var g=__assign$h({},o),b=e,$=function(nt){return g[nt]};$("groupAggFiltering")&&(typeof g.groupAggFiltering=="function"?b.groupAggFiltering=g.groupAggFiltering:b.groupAggFiltering=a.toBoolean(g.groupAggFiltering),delete g.groupAggFiltering),$("groupDisplayType")&&typeof g.groupDisplayType.currentValue=="string"&&(c.setGroupDisplayType(g.groupDisplayType.currentValue),delete g.groupDisplayType),g.domLayout&&(c.setDomLayout(g.domLayout.currentValue),delete g.domLayout),g.rowClass&&(c.setRowClass(g.rowClass.currentValue),delete g.rowClass),g.paginationPageSize&&(c.paginationSetPageSize(a.toNumber(g.paginationPageSize.currentValue)),delete g.paginationPageSize),g.rowGroupPanelShow&&(c.setRowGroupPanelShow(g.rowGroupPanelShow.currentValue),delete g.rowGroupPanelShow),g.groupRemoveSingleChildren&&(c.setGroupRemoveSingleChildren(a.toBoolean(g.groupRemoveSingleChildren.currentValue)),delete g.groupRemoveSingleChildren),g.groupRemoveLowestSingleChildren&&(c.setGroupRemoveLowestSingleChildren(a.toBoolean(g.groupRemoveLowestSingleChildren.currentValue)),delete g.groupRemoveLowestSingleChildren),g.suppressRowDrag&&(c.setSuppressRowDrag(a.toBoolean(g.suppressRowDrag.currentValue)),delete g.suppressRowDrag),g.suppressMoveWhenRowDragging&&(c.setSuppressMoveWhenRowDragging(a.toBoolean(g.suppressMoveWhenRowDragging.currentValue)),delete g.suppressMoveWhenRowDragging),g.suppressRowClickSelection&&(c.setSuppressRowClickSelection(a.toBoolean(g.suppressRowClickSelection.currentValue)),delete g.suppressRowClickSelection),g.suppressClipboardPaste&&(c.setSuppressClipboardPaste(a.toBoolean(g.suppressClipboardPaste.currentValue)),delete g.suppressClipboardPaste),g.headerHeight&&(c.setHeaderHeight(a.toNumber(g.headerHeight.currentValue)),delete g.headerHeight),g.pivotHeaderHeight&&(c.setPivotHeaderHeight(a.toNumber(g.pivotHeaderHeight.currentValue)),delete g.pivotHeaderHeight),g.groupHeaderHeight&&(c.setGroupHeaderHeight(a.toNumber(g.groupHeaderHeight.currentValue)),delete g.groupHeaderHeight),g.pivotGroupHeaderHeight&&(c.setPivotGroupHeaderHeight(a.toNumber(g.pivotGroupHeaderHeight.currentValue)),delete g.pivotGroupHeaderHeight),g.floatingFiltersHeight&&(c.setFloatingFiltersHeight(a.toNumber(g.floatingFiltersHeight.currentValue)),delete g.floatingFiltersHeight),g.functionsReadOnly&&(c.setFunctionsReadOnly(a.toBoolean(g.functionsReadOnly.currentValue)),delete g.functionsReadOnly),__spread$h(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.getEventCallbacks()).filter($).forEach(function(nt){return b[nt]=g[nt].currentValue}),a.BOOLEAN_PROPERTIES.filter($).forEach(function(nt){return b[nt]=a.toBoolean(g[nt].currentValue)}),a.NUMBER_PROPERTIES.filter($).forEach(function(nt){return b[nt]=a.toNumber(g[nt].currentValue)}),g.enableCellTextSelection&&(c.setEnableCellTextSelection(a.toBoolean(g.enableCellTextSelection.currentValue)),delete g.enableCellTextSelection),g.quickFilterText&&(c.setQuickFilter(g.quickFilterText.currentValue),delete g.quickFilterText),g.autoGroupColumnDef&&(c.setAutoGroupColumnDef(g.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete g.autoGroupColumnDef),g.columnDefs&&(c.setColumnDefs(g.columnDefs.currentValue,"gridOptionsChanged"),delete g.columnDefs),g.defaultColDef&&(c.setDefaultColDef(g.defaultColDef.currentValue,"gridOptionsChanged"),delete g.defaultColDef),g.pivotMode&&(h.setPivotMode(a.toBoolean(g.pivotMode.currentValue)),delete g.pivotMode);var j=c;Object.keys(g).forEach(function(nt){var pt="set"+nt.charAt(0).toUpperCase()+nt.substring(1);j[pt]&&j[pt](o[nt].currentValue)});var rt={type:Events.EVENT_COMPONENT_STATE_CHANGED};iterateObject(o,function(nt,pt){rt[nt]=pt}),c.dispatchEvent(rt)}},a.toBoolean=function(o){return typeof o=="boolean"?o:typeof o=="string"?o.toUpperCase()==="TRUE"||o=="":!1},a.toNumber=function(o){if(typeof o=="number")return o;if(typeof o=="string")return Number(o)},a.EVENTS=[],a.PUBLIC_EVENTS=[],a.EXCLUDED_INTERNAL_EVENTS=[],a.STRING_PROPERTIES=PropertyKeys.STRING_PROPERTIES,a.OBJECT_PROPERTIES=PropertyKeys.OBJECT_PROPERTIES,a.ARRAY_PROPERTIES=PropertyKeys.ARRAY_PROPERTIES,a.NUMBER_PROPERTIES=PropertyKeys.NUMBER_PROPERTIES,a.BOOLEAN_PROPERTIES=PropertyKeys.BOOLEAN_PROPERTIES,a.FUNCTION_PROPERTIES=PropertyKeys.FUNCTION_PROPERTIES,a.ALL_PROPERTIES=PropertyKeys.ALL_PROPERTIES,a}();ComponentUtil.EVENTS=values(Events);ComponentUtil.EXCLUDED_INTERNAL_EVENTS=[Events.EVENT_SCROLLBAR_WIDTH_CHANGED,Events.EVENT_CHECKBOX_CHANGED,Events.EVENT_HEIGHT_SCALE_CHANGED,Events.EVENT_BODY_HEIGHT_CHANGED,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Events.EVENT_SCROLL_VISIBILITY_CHANGED,Events.EVENT_COLUMN_HOVER_CHANGED,Events.EVENT_FLASH_CELLS,Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Events.EVENT_DISPLAYED_ROWS_CHANGED,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Events.EVENT_POPUP_TO_FRONT,Events.EVENT_KEYBOARD_FOCUS,Events.EVENT_MOUSE_FOCUS,Events.EVENT_STORE_UPDATED,Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Events.EVENT_FILL_START,Events.EVENT_FILL_END,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,Events.EVENT_FULL_WIDTH_ROW_FOCUSED,Events.EVENT_HEADER_HEIGHT_CHANGED,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED];ComponentUtil.PUBLIC_EVENTS=ComponentUtil.EVENTS.filter(function(a){return!includes(ComponentUtil.EXCLUDED_INTERNAL_EVENTS,a)});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SideBarDefParser=function(){function a(){}return a.parse=function(o){if(!o)return null;if(o===!0)return{toolPanels:[a.DEFAULT_COLUMN_COMP,a.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof o=="string")return a.parse([o]);if(Array.isArray(o)){var e=[];return o.forEach(function(h){var g=a.DEFAULT_BY_KEY[h];if(!g){console.warn("AG Grid: the key "+h+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(a.DEFAULT_BY_KEY).join(","));return}e.push(g)}),e.length===0?null:{toolPanels:e,defaultToolPanel:e[0].id}}var c={toolPanels:a.parseComponents(o.toolPanels),defaultToolPanel:o.defaultToolPanel,hiddenByDefault:o.hiddenByDefault,position:o.position};return c},a.parseComponents=function(o){var e=[];return o&&o.forEach(function(c){var h=null;if(typeof c=="string"){var g=a.DEFAULT_BY_KEY[c];if(!g){console.warn("AG Grid: the key "+c+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(a.DEFAULT_BY_KEY).join(","));return}h=g}else h=c;e.push(h)}),e},a.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},a.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},a.DEFAULT_BY_KEY={columns:a.DEFAULT_COLUMN_COMP,filters:a.DEFAULT_FILTER_COMP},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __values$5=function(a){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&a[o],c=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},isSafari,isIE,isEdge,isChrome,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,browserInfo;function getBrowserInfo(){if(browserInfo)return browserInfo;var a=navigator.userAgent,o=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],e,c;if(/trident/i.test(o[1]))return e=/\brv[ :]+(\d+)/g.exec(a)||[],c=e[1]!=null?parseFloat(e[1]):0,{name:"IE",version:c};if(o[1]==="Chrome"&&(e=a.match(/\bOPR|Edge\/(\d+)/),e!=null))return c=e[1]!=null?parseFloat(e[1]):0,{name:"Opera",version:c};o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],e=a.match(/version\/(\d+)/i),e!=null&&o.splice(1,1,e[1]);var h=o[0];return c=o[1]!=null?parseFloat(o[1]):0,browserInfo={name:h,version:c},browserInfo}function isBrowserIE(){return isIE===void 0&&(isIE=!!document.documentMode),isIE}function isBrowserEdge(){return isEdge===void 0&&(isEdge=!isBrowserIE()&&!!window.StyleMedia),isEdge}function isBrowserSafari(){return isSafari===void 0&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function isBrowserChrome(){if(isChrome===void 0){var a=window;isChrome=!!a.chrome&&(!!a.chrome.webstore||!!a.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function isBrowserFirefox(){if(isFirefox===void 0){var a=window;isFirefox=typeof a.InstallTrigger<"u"}return isFirefox}function isMacOsUserAgent(){return isMacOs===void 0&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function isIOSUserAgent(){return isIOS===void 0&&(isIOS=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream),isIOS}function browserSupportsPreventScroll(){return!isBrowserSafari()||getBrowserInfo().version>=15}function getTabIndex(a){if(!a)return null;var o=a.tabIndex,e=a.getAttribute("tabIndex");return o===-1&&(e===null||e===""&&!isBrowserFirefox())?null:o.toString()}function getMaxDivHeight(){if(!document.body)return-1;var a=1e6,o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var c=a*2;if(e.style.height=c+"px",c>o||e.clientHeight!==c)break;a=c}return document.body.removeChild(e),a}function getScrollbarWidth(){return browserScrollbarWidth==null&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}function initScrollbarWidthAndVisibility(){var a=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",a.appendChild(o);var e=o.offsetWidth-o.clientWidth;e===0&&o.clientWidth===0&&(e=null),o.parentNode&&o.parentNode.removeChild(o),e!=null&&(browserScrollbarWidth=e,invisibleScrollbar=e===0)}function isInvisibleScrollbar(){return invisibleScrollbar==null&&initScrollbarWidthAndVisibility(),invisibleScrollbar}function hasOverflowScrolling(){var a,o,e=["webkit","moz","o","ms"],c=document.createElement("div"),h=document.getElementsByTagName("body")[0],g=!1,b;h.appendChild(c),c.setAttribute("style",e.map(function(nt){return"-"+nt+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var $=window.getComputedStyle(c);if($.overflowScrolling==="touch"&&(g=!0),!g)try{for(var j=__values$5(e),rt=j.next();!rt.done;rt=j.next())if(b=rt.value,$[b+"OverflowScrolling"]==="touch"){g=!0;break}}catch(nt){a={error:nt}}finally{try{rt&&!rt.done&&(o=j.return)&&o.call(j)}finally{if(a)throw a.error}}return c.parentNode&&c.parentNode.removeChild(c),g}function getBodyWidth(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function getBodyHeight(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var BrowserUtils=Object.freeze({__proto__:null,getBrowserInfo,isBrowserEdge,isBrowserSafari,isBrowserChrome,isBrowserFirefox,isMacOsUserAgent,isIOSUserAgent,browserSupportsPreventScroll,getTabIndex,getMaxDivHeight,getScrollbarWidth,isInvisibleScrollbar,hasOverflowScrolling,getBodyWidth,getBodyHeight});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function fuzzyCheckStrings(a,o,e){var c={},h=a.filter(function(g){return!o.some(function(b){return b===g})});return h.length>0&&h.forEach(function(g){return c[g]=fuzzySuggestions(g,e)}),c}function fuzzySuggestions(a,o,e,c){var h=c?string_weighted_distances:string_distances,g=o.map(function(b){return{value:b,relevance:h(a.toLowerCase(),b.toLocaleLowerCase())}});return g.sort(function(b,$){return $.relevance-b.relevance}),e&&(g=g.filter(function(b){return b.relevance!==0})),g.map(function(b){return b.value})}function get_bigrams(a){var o=a.toLowerCase(),e=new Array(o.length-1),c,h,g;for(c=h=0,g=e.length;h<=g;c=h+=1)e[c]=o.slice(c,c+2);return e}function string_distances(a,o){if(a.length===0&&o.length===0)return 0;var e=get_bigrams(a),c=get_bigrams(o),h=e.length+c.length,g=0,b,$;for(b=0,$=e.length;b<$;b++){var j=e[b],rt=void 0,nt=void 0;for(rt=0,nt=c.length;rt<nt;rt++){var pt=c[rt];j===pt&&g++}}return g>0?2*g/h:0}function string_weighted_distances(a,o){for(var e=a.replace(/\s/g,""),c=o.replace(/\s/g,""),h=0,g=0,b=0;b<e.length;b++){var $=c.indexOf(e[b],g);$!==-1&&(g=$,h+=100-g*100/1e4*100)}return h}var FuzzyMatchUtils=Object.freeze({__proto__:null,fuzzyCheckStrings,fuzzySuggestions,get_bigrams,string_distances,string_weighted_distances});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function padStartWidthZeros(a,o){return a.toString().padStart(o,"0")}function createArrayOfNumbers(a,o){for(var e=[],c=a;c<=o;c++)e.push(c);return e}function isNumeric(a){return a!==""&&!isNaN(parseFloat(a))&&isFinite(a)}function cleanNumber(a){return typeof a=="string"&&(a=parseInt(a,10)),typeof a=="number"?Math.floor(a):null}function decToHex(a,o){for(var e="",c=0;c<o;c++)e+=String.fromCharCode(a&255),a>>>=8;return e}function formatNumberTwoDecimalPlacesAndCommas(a,o,e){return typeof a!="number"?"":formatNumberCommas(Math.round(a*100)/100,o,e)}function formatNumberCommas(a,o,e){return typeof a!="number"?"":a.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o)}function sum(a){return a==null?null:a.reduce(function(o,e){return o+e},0)}var NumberUtils=Object.freeze({__proto__:null,padStartWidthZeros,createArrayOfNumbers,isNumeric,cleanNumber,decToHex,formatNumberTwoDecimalPlacesAndCommas,formatNumberCommas,sum});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$g=function(){return __assign$g=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$g.apply(this,arguments)},__decorate$2v=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$8=function(a,o){return function(e,c){o(e,c,a)}},__read$m=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$g=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$m(arguments[o]));return a},DEFAULT_ROW_HEIGHT=25,DEFAULT_DETAIL_ROW_HEIGHT=300,DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,DEFAULT_KEEP_DETAIL_ROW_COUNT=10;function isTrue(a){return a===!0||a==="true"}function toNumber(a){if(typeof a=="number")return a;if(typeof a=="string")return parseInt(a,10)}function zeroOrGreater(a,o){return a>=0?a:o}function oneOrGreater(a,o){var e=parseInt(a,10);return isNumeric(e)&&e>0?e:o}var GridOptionsWrapper=function(){function a(){this.propertyEventService=new EventService,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}o=a,a.prototype.agWire=function(e,c){this.gridOptions.api=e,this.gridOptions.columnApi=c,this.checkForDeprecated(),this.checkForViolations()},a.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},a.prototype.init=function(){var e=this;this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.gridOptions.sideBar!=null&&(this.gridOptions.sideBar=SideBarDefParser.parse(this.gridOptions.sideBar));var c=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),c),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to use these together on our support forum either, you will get the same answer!"),this.isRowModelServerSide()){var h=function(b){return"AG Grid: '"+b+"' is not supported on the Server-Side Row Model"};exists(this.gridOptions.groupDefaultExpanded)&&console.warn(h("groupDefaultExpanded")),exists(this.gridOptions.groupDefaultExpanded)&&console.warn(h("groupIncludeFooter")),exists(this.gridOptions.groupDefaultExpanded)&&console.warn(h("groupIncludeTotalFooter"))}isTrue(this.gridOptions.enableRangeSelection)?ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"enableRangeSelection"):(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.isGroupRowsSticky()&&(this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRowsSticky and groupHideOpenParents do not work with each other, you need to pick one."),this.isMasterDetail()&&console.warn("AG Grid: groupRowsSticky and masterDetail do not work with each other, you need to pick one."),this.isPagination()&&console.warn("AG Grid: groupRowsSticky and pagination do not work with each other, you need to pick one."));var g=function(b){e.gridOptions.icons&&e.gridOptions.icons[b]&&console.warn("gridOptions.icons."+b+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};g("radioButtonOff"),g("radioButtonOn"),g("checkboxChecked"),g("checkboxUnchecked"),g("checkboxIndeterminate"),this.getScrollbarWidth()},a.prototype.checkColumnDefProperties=function(){var e=this;this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(function(c){var h=Object.getOwnPropertyNames(c),g=__spread$g(ColDefUtil.ALL_PROPERTIES,ColDefUtil.FRAMEWORK_PROPERTIES);e.checkProperties(h,g,g,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},a.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),c=__spread$g(PropertyKeys.ALL_PROPERTIES,PropertyKeys.FRAMEWORK_PROPERTIES,values(Events).map(function(g){return ComponentUtil.getCallbackForEvent(g)})),h=__spread$g(c,["api","columnApi"]);this.checkProperties(e,h,c,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},a.prototype.checkProperties=function(e,c,h,g,b){var $=fuzzyCheckStrings(e,c,h);iterateObject($,function(j,rt){console.warn("ag-grid: invalid "+g+" property '"+j+"' did you mean any of these: "+rt.slice(0,8).join(", "))}),Object.keys($).length>0&&console.warn("ag-grid: to see all the valid "+g+" properties please check: "+b)},a.prototype.mergeGridCommonParams=function(e){var c=this;if(e){var h=function(g){var b=__assign$g(__assign$g({},g),{api:c.getApi(),columnApi:c.getColumnApi(),context:c.getContext()});return e(b)};return h}return e},a.prototype.getDomDataKey=function(){return this.domDataKey},a.prototype.getDomData=function(e,c){var h=e[this.getDomDataKey()];return h?h[c]:void 0},a.prototype.setDomData=function(e,c,h){var g=this.getDomDataKey(),b=e[g];missing(b)&&(b={},e[g]=b),b[c]=h},a.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},a.prototype.isSuppressRowDeselection=function(){return isTrue(this.gridOptions.suppressRowDeselection)},a.prototype.isRowSelectionMulti=function(){return this.gridOptions.rowSelection==="multiple"},a.prototype.isRowMultiSelectWithClick=function(){return isTrue(this.gridOptions.rowMultiSelectWithClick)},a.prototype.getContext=function(){return this.gridOptions.context},a.prototype.isPivotMode=function(){return isTrue(this.gridOptions.pivotMode)},a.prototype.isSuppressExpandablePivotGroups=function(){return isTrue(this.gridOptions.suppressExpandablePivotGroups)},a.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},a.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},a.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_INFINITE},a.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_VIEWPORT},a.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_SERVER_SIDE},a.prototype.isRowModelDefault=function(){return missing(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_CLIENT_SIDE},a.prototype.isFullRowEdit=function(){return this.gridOptions.editType==="fullRow"},a.prototype.isSuppressFocusAfterRefresh=function(){return isTrue(this.gridOptions.suppressFocusAfterRefresh)},a.prototype.isSuppressBrowserResizeObserver=function(){return isTrue(this.gridOptions.suppressBrowserResizeObserver)},a.prototype.isSuppressMaintainUnsortedOrder=function(){return isTrue(this.gridOptions.suppressMaintainUnsortedOrder)},a.prototype.isSuppressClearOnFillReduction=function(){return isTrue(this.gridOptions.suppressClearOnFillReduction)},a.prototype.isShowToolPanel=function(){return isTrue(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},a.prototype.getSideBar=function(){return this.gridOptions.sideBar},a.prototype.isSuppressTouch=function(){return isTrue(this.gridOptions.suppressTouch)},a.prototype.isMaintainColumnOrder=function(){return isTrue(this.gridOptions.maintainColumnOrder)},a.prototype.isSuppressRowTransform=function(){return isTrue(this.gridOptions.suppressRowTransform)},a.prototype.isSuppressColumnStateEvents=function(){return isTrue(this.gridOptions.suppressColumnStateEvents)},a.prototype.isAllowDragFromColumnsToolPanel=function(){return isTrue(this.gridOptions.allowDragFromColumnsToolPanel)},a.prototype.useAsyncEvents=function(){return!isTrue(this.gridOptions.suppressAsyncEvents)},a.prototype.isEnableCellChangeFlash=function(){return isTrue(this.gridOptions.enableCellChangeFlash)},a.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},a.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},a.prototype.isGroupSelectsChildren=function(){return isTrue(this.gridOptions.groupSelectsChildren)},a.prototype.isSuppressRowHoverHighlight=function(){return isTrue(this.gridOptions.suppressRowHoverHighlight)},a.prototype.isColumnHoverHighlight=function(){return isTrue(this.gridOptions.columnHoverHighlight)},a.prototype.isGroupSelectsFiltered=function(){return isTrue(this.gridOptions.groupSelectsFiltered)},a.prototype.isGroupHideOpenParents=function(){return isTrue(this.gridOptions.groupHideOpenParents)},a.prototype.isGroupMaintainOrder=function(){return isTrue(this.gridOptions.groupMaintainOrder)},a.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},a.prototype.isColumnsSortingCoupledToGroup=function(){var e,c=this.getAutoGroupColumnDef(),h=this.isRowModelDefault();return h&&!(!((e=c)===null||e===void 0)&&e.comparator)},a.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):isTrue(this.gridOptions.groupHideOpenParents)},a.prototype.isGroupUseEntireRow=function(e){return e?!1:this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType):!1},a.prototype.isRowGroupPanelSuppressSort=function(){return isTrue(this.gridOptions.rowGroupPanelSuppressSort)},a.prototype.isGroupRowsSticky=function(){return isTrue(this.gridOptions.groupRowsSticky)},a.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType):!1;return e?!0:this.gridOptions.treeDataDisplayType?this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType):!1},a.prototype.isGroupRemoveSingleChildren=function(){return isTrue(this.gridOptions.groupRemoveSingleChildren)},a.prototype.isGroupRemoveLowestSingleChildren=function(){return isTrue(this.gridOptions.groupRemoveLowestSingleChildren)},a.prototype.isGroupIncludeFooter=function(){return isTrue(this.gridOptions.groupIncludeFooter)},a.prototype.isGroupIncludeTotalFooter=function(){return isTrue(this.gridOptions.groupIncludeTotalFooter)},a.prototype.isGroupSuppressBlankHeader=function(){return isTrue(this.gridOptions.groupSuppressBlankHeader)},a.prototype.isSuppressRowClickSelection=function(){return isTrue(this.gridOptions.suppressRowClickSelection)},a.prototype.isSuppressCellFocus=function(){return isTrue(this.gridOptions.suppressCellFocus)},a.prototype.isSuppressMultiSort=function(){return isTrue(this.gridOptions.suppressMultiSort)},a.prototype.isAlwaysMultiSort=function(){return isTrue(this.gridOptions.alwaysMultiSort)},a.prototype.isMultiSortKeyCtrl=function(){return this.gridOptions.multiSortKey==="ctrl"},a.prototype.isPivotSuppressAutoColumn=function(){return isTrue(this.gridOptions.pivotSuppressAutoColumn)},a.prototype.isSuppressDragLeaveHidesColumns=function(){return isTrue(this.gridOptions.suppressDragLeaveHidesColumns)},a.prototype.isSuppressRowGroupHidesColumns=function(){return isTrue(this.gridOptions.suppressRowGroupHidesColumns)},a.prototype.isSuppressScrollOnNewData=function(){return isTrue(this.gridOptions.suppressScrollOnNewData)},a.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return isTrue(this.gridOptions.suppressScrollWhenPopupsAreOpen)},a.prototype.isRowDragEntireRow=function(){return isTrue(this.gridOptions.rowDragEntireRow)},a.prototype.getRowDragText=function(e){if(e){var c=e.getColDef();if(c.rowDragText)return c.rowDragText}return this.gridOptions.rowDragText},a.prototype.isSuppressRowDrag=function(){return isTrue(this.gridOptions.suppressRowDrag)},a.prototype.isRowDragManaged=function(){return isTrue(this.gridOptions.rowDragManaged)},a.prototype.isSuppressMoveWhenRowDragging=function(){return isTrue(this.gridOptions.suppressMoveWhenRowDragging)},a.prototype.isRowDragMultiRow=function(){return isTrue(this.gridOptions.rowDragMultiRow)},a.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||Constants.DOM_LAYOUT_NORMAL,c=[Constants.DOM_LAYOUT_PRINT,Constants.DOM_LAYOUT_AUTO_HEIGHT,Constants.DOM_LAYOUT_NORMAL];return c.indexOf(e)===-1?(doOnce(function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+Constants.DOM_LAYOUT_NORMAL+", "+Constants.DOM_LAYOUT_AUTO_HEIGHT+" and "+Constants.DOM_LAYOUT_PRINT)},"warn about dom layout values"),Constants.DOM_LAYOUT_NORMAL):e},a.prototype.isSuppressHorizontalScroll=function(){return isTrue(this.gridOptions.suppressHorizontalScroll)},a.prototype.isSuppressMaxRenderedRowRestriction=function(){return isTrue(this.gridOptions.suppressMaxRenderedRowRestriction)},a.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return isTrue(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},a.prototype.isAlwaysShowHorizontalScroll=function(){return isTrue(this.gridOptions.alwaysShowHorizontalScroll)},a.prototype.isAlwaysShowVerticalScroll=function(){return isTrue(this.gridOptions.alwaysShowVerticalScroll)},a.prototype.isDebounceVerticalScrollbar=function(){return isTrue(this.gridOptions.debounceVerticalScrollbar)},a.prototype.isSuppressLoadingOverlay=function(){return isTrue(this.gridOptions.suppressLoadingOverlay)},a.prototype.isSuppressNoRowsOverlay=function(){return isTrue(this.gridOptions.suppressNoRowsOverlay)},a.prototype.isSuppressFieldDotNotation=function(){return isTrue(this.gridOptions.suppressFieldDotNotation)},a.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},a.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},a.prototype.isFunctionsPassive=function(){return isTrue(this.gridOptions.functionsPassive)},a.prototype.isSuppressChangeDetection=function(){return isTrue(this.gridOptions.suppressChangeDetection)},a.prototype.isSuppressAnimationFrame=function(){return isTrue(this.gridOptions.suppressAnimationFrame)},a.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},a.prototype.isCacheQuickFilter=function(){return isTrue(this.gridOptions.cacheQuickFilter)},a.prototype.isUnSortIcon=function(){return isTrue(this.gridOptions.unSortIcon)},a.prototype.isSuppressMenuHide=function(){return isTrue(this.gridOptions.suppressMenuHide)},a.prototype.isEnterMovesDownAfterEdit=function(){return isTrue(this.gridOptions.enterMovesDownAfterEdit)},a.prototype.isEnterMovesDown=function(){return isTrue(this.gridOptions.enterMovesDown)},a.prototype.isUndoRedoCellEditing=function(){return isTrue(this.gridOptions.undoRedoCellEditing)},a.prototype.getUndoRedoCellEditingLimit=function(){return toNumber(this.gridOptions.undoRedoCellEditingLimit)},a.prototype.isEnableCellEditingOnBackspace=function(){return isTrue(this.gridOptions.enableCellEditingOnBackspace)},a.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},a.prototype.getRowClass=function(){return this.gridOptions.rowClass},a.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},a.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},a.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},a.prototype.isServerSideInfiniteScroll=function(){return isTrue(this.gridOptions.serverSideInfiniteScroll)},a.prototype.getServerSideGroupLevelParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideGroupLevelParams)},a.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},a.prototype.getPopupParent=function(){return this.gridOptions.popupParent},a.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},a.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},a.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},a.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},a.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},a.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptions,c=e.initialGroupOrderComparator,h=e.defaultGroupOrderComparator;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.nodeA,g.nodeB)}},a.prototype.getIsFullWidthCellFunc=function(){var e=this.gridOptions,c=e.isFullWidthRow,h=e.isFullWidthCell;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.rowNode)}},a.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},a.prototype.isEmbedFullWidthRows=function(){return isTrue(this.gridOptions.embedFullWidthRows)||isTrue(this.gridOptions.deprecatedEmbedFullWidthRows)},a.prototype.isDetailRowAutoHeight=function(){return isTrue(this.gridOptions.detailRowAutoHeight)},a.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},a.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},a.prototype.getApi=function(){return this.gridOptions.api},a.prototype.getColumnApi=function(){return this.gridOptions.columnApi},a.prototype.isReadOnlyEdit=function(){return isTrue(this.gridOptions.readOnlyEdit)},a.prototype.isImmutableData=function(){var e=this.gridOptions.getRowId!=null,c=isTrue(this.gridOptions.immutableData),h=isTrue(this.gridOptions.resetRowDataOnUpdate);return h?!1:e||c},a.prototype.isEnsureDomOrder=function(){return isTrue(this.gridOptions.ensureDomOrder)},a.prototype.isEnableCharts=function(){return isTrue(this.gridOptions.enableCharts)?ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"enableCharts"):!1},a.prototype.isEnableChartToolPanelsButton=function(){return isTrue(this.gridOptions.enableChartToolPanelsButton)},a.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},a.prototype.isSingleClickEdit=function(){return isTrue(this.gridOptions.singleClickEdit)},a.prototype.isSuppressClickEdit=function(){return isTrue(this.gridOptions.suppressClickEdit)},a.prototype.isStopEditingWhenCellsLoseFocus=function(){return isTrue(this.gridOptions.stopEditingWhenCellsLoseFocus)},a.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},a.prototype.getMaxConcurrentDatasourceRequests=function(){var e=toNumber(this.gridOptions.maxConcurrentDatasourceRequests);if(e==null)return 2;if(!(e<=0))return e},a.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},a.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},a.prototype.getPaginationPageSize=function(){return toNumber(this.gridOptions.paginationPageSize)},a.prototype.isPaginateChildRows=function(){var e=this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren();return e?!0:isTrue(this.gridOptions.paginateChildRows)},a.prototype.getCacheBlockSize=function(){return oneOrGreater(this.gridOptions.cacheBlockSize)},a.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},a.prototype.getServerSideInitialRowCount=function(){var e=this.gridOptions.serverSideInitialRowCount;return typeof e=="number"&&e>0?e:1},a.prototype.isPurgeClosedRowNodes=function(){return isTrue(this.gridOptions.purgeClosedRowNodes)},a.prototype.isSuppressPaginationPanel=function(){return isTrue(this.gridOptions.suppressPaginationPanel)},a.prototype.getRowData=function(){return this.gridOptions.rowData},a.prototype.isEnableRtl=function(){return isTrue(this.gridOptions.enableRtl)},a.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},a.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},a.prototype.isAngularCompileRows=function(){return isTrue(this.gridOptions.angularCompileRows)},a.prototype.isAngularCompileFilters=function(){return isTrue(this.gridOptions.angularCompileFilters)},a.prototype.isDebug=function(){return isTrue(this.gridOptions.debug)},a.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},a.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},a.prototype.getDatasource=function(){return this.gridOptions.datasource},a.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},a.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},a.prototype.isAccentedSort=function(){return isTrue(this.gridOptions.accentedSort)},a.prototype.isEnableBrowserTooltips=function(){return isTrue(this.gridOptions.enableBrowserTooltips)},a.prototype.isEnableCellExpressions=function(){return isTrue(this.gridOptions.enableCellExpressions)},a.prototype.isEnableGroupEdit=function(){return isTrue(this.gridOptions.enableGroupEdit)},a.prototype.isSuppressMiddleClickScrolls=function(){return isTrue(this.gridOptions.suppressMiddleClickScrolls)},a.prototype.isPreventDefaultOnContextMenu=function(){return isTrue(this.gridOptions.preventDefaultOnContextMenu)},a.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return isTrue(this.gridOptions.suppressPreventDefaultOnMouseWheel)},a.prototype.isSuppressColumnVirtualisation=function(){return isTrue(this.gridOptions.suppressColumnVirtualisation)},a.prototype.isSuppressRowVirtualisation=function(){return isTrue(this.gridOptions.suppressRowVirtualisation)},a.prototype.isSuppressContextMenu=function(){return isTrue(this.gridOptions.suppressContextMenu)},a.prototype.isAllowContextMenuWithControlKey=function(){return isTrue(this.gridOptions.allowContextMenuWithControlKey)},a.prototype.isSuppressCopyRowsToClipboard=function(){return isTrue(this.gridOptions.suppressCopyRowsToClipboard)},a.prototype.isSuppressCopySingleCellRanges=function(){return isTrue(this.gridOptions.suppressCopySingleCellRanges)},a.prototype.isCopyHeadersToClipboard=function(){return isTrue(this.gridOptions.copyHeadersToClipboard)},a.prototype.isCopyGroupHeadersToClipboard=function(){return isTrue(this.gridOptions.copyGroupHeadersToClipboard)},a.prototype.isSuppressClipboardPaste=function(){return isTrue(this.gridOptions.suppressClipboardPaste)},a.prototype.isSuppressLastEmptyLineOnPaste=function(){return isTrue(this.gridOptions.suppressLastEmptyLineOnPaste)},a.prototype.isPagination=function(){return isTrue(this.gridOptions.pagination)},a.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return isTrue(this.gridOptions.suppressEnterpriseResetOnNewColumns)},a.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},a.prototype.getAsyncTransactionWaitMillis=function(){return exists(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Constants.BATCH_WAIT_MILLIS},a.prototype.isSuppressMovableColumns=function(){return isTrue(this.gridOptions.suppressMovableColumns)},a.prototype.isAnimateRows=function(){return this.isEnsureDomOrder()?!1:isTrue(this.gridOptions.animateRows)},a.prototype.isSuppressColumnMoveAnimation=function(){return isTrue(this.gridOptions.suppressColumnMoveAnimation)},a.prototype.isSuppressAggFuncInHeader=function(){return isTrue(this.gridOptions.suppressAggFuncInHeader)},a.prototype.isSuppressAggAtRootLevel=function(){return isTrue(this.gridOptions.suppressAggAtRootLevel)},a.prototype.isSuppressAggFilteredOnly=function(){var e=this.getGroupAggFiltering()!==void 0;return e||isTrue(this.gridOptions.suppressAggFilteredOnly)},a.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return isTrue(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},a.prototype.isShowOpenedGroup=function(){return isTrue(this.gridOptions.showOpenedGroup)},a.prototype.isReactUi=function(){return isTrue(this.gridOptions.reactUi)},a.prototype.isSuppressReactUi=function(){return isTrue(this.gridOptions.suppressReactUi)},a.prototype.isEnableRangeSelection=function(){return ModuleRegistry.isRegistered(ModuleNames.RangeSelectionModule)&&isTrue(this.gridOptions.enableRangeSelection)},a.prototype.isEnableRangeHandle=function(){return isTrue(this.gridOptions.enableRangeHandle)},a.prototype.isEnableFillHandle=function(){return isTrue(this.gridOptions.enableFillHandle)},a.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?e!=="x"&&e!=="y"&&e!=="xy"?(doOnce(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},a.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},a.prototype.isSuppressMultiRangeSelection=function(){return isTrue(this.gridOptions.suppressMultiRangeSelection)},a.prototype.isPaginationAutoPageSize=function(){return isTrue(this.gridOptions.paginationAutoPageSize)},a.prototype.isRememberGroupStateWhenNewData=function(){return isTrue(this.gridOptions.rememberGroupStateWhenNewData)},a.prototype.getIcons=function(){return this.gridOptions.icons},a.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.mergeGridCommonParams(e);if(isTrue(e))return function(){return!0}},a.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},a.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},a.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},a.prototype.isMasterDetail=function(){var e=isTrue(this.gridOptions.masterDetail);return e?ModuleRegistry.assertRegistered(ModuleNames.MasterDetailModule,"masterDetail"):!1},a.prototype.isKeepDetailRows=function(){return isTrue(this.gridOptions.keepDetailRows)},a.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return exists(e)&&e>0?this.gridOptions.keepDetailRowsCount:DEFAULT_KEEP_DETAIL_ROW_COUNT},a.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},a.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},a.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},a.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},a.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},a.prototype.isSuppressAutoSize=function(){return isTrue(this.gridOptions.suppressAutoSize)},a.prototype.isEnableCellTextSelection=function(){return isTrue(this.gridOptions.enableCellTextSelection)},a.prototype.isSuppressParentsInRowNodes=function(){return isTrue(this.gridOptions.suppressParentsInRowNodes)},a.prototype.isSuppressClipboardApi=function(){return isTrue(this.gridOptions.suppressClipboardApi)},a.prototype.isFunctionsReadOnly=function(){return isTrue(this.gridOptions.functionsReadOnly)},a.prototype.isEnableCellTextSelect=function(){return isTrue(this.gridOptions.enableCellTextSelection)},a.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},a.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},a.prototype.getDefaultExportParams=function(e){if(this.gridOptions.defaultExportParams)return console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+capitalise(e)+"ExportParams`'"),e==="csv"?this.gridOptions.defaultExportParams:this.gridOptions.defaultExportParams;if(e==="csv"&&this.gridOptions.defaultCsvExportParams)return this.gridOptions.defaultCsvExportParams;if(e==="excel"&&this.gridOptions.defaultExcelExportParams)return this.gridOptions.defaultExcelExportParams},a.prototype.isSuppressCsvExport=function(){return isTrue(this.gridOptions.suppressCsvExport)},a.prototype.isAllowShowChangeAfterFilter=function(){return isTrue(this.gridOptions.allowShowChangeAfterFilter)},a.prototype.isSuppressExcelExport=function(){return isTrue(this.gridOptions.suppressExcelExport)},a.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return isTrue(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},a.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},a.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},a.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},a.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},a.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},a.prototype.getGroupRowAggFunc=function(){var e=this.gridOptions,c=e.getGroupRowAgg,h=e.groupRowAggNodes;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.nodes)}},a.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},a.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},a.prototype.getRowIdFunc=function(){var e=this.gridOptions,c=e.getRowId,h=e.getRowNodeId;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.data)}},a.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},a.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},a.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},a.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},a.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},a.prototype.isTreeData=function(){var e=isTrue(this.gridOptions.treeData);return e?ModuleRegistry.assertRegistered(ModuleNames.RowGroupingModule,"Tree Data"):!1},a.prototype.isValueCache=function(){return isTrue(this.gridOptions.valueCache)},a.prototype.isValueCacheNeverExpires=function(){return isTrue(this.gridOptions.valueCacheNeverExpires)},a.prototype.isDeltaSort=function(){return isTrue(this.gridOptions.deltaSort)},a.prototype.isAggregateOnlyChangedColumns=function(){return isTrue(this.gridOptions.aggregateOnlyChangedColumns)},a.prototype.getProcessPivotResultColDefFunc=function(){return this.gridOptions.processPivotResultColDef||this.gridOptions.processSecondaryColDef},a.prototype.getProcessPivotResultColGroupDefFunc=function(){return this.gridOptions.processPivotResultColGroupDef||this.gridOptions.processSecondaryColGroupDef},a.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},a.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},a.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},a.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},a.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},a.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},a.prototype.getViewportRowModelPageSize=function(){return oneOrGreater(this.gridOptions.viewportRowModelPageSize,DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},a.prototype.getViewportRowModelBufferSize=function(){return zeroOrGreater(this.gridOptions.viewportRowModelBufferSize,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},a.prototype.isServerSideSortAllLevels=function(){var e=isTrue(this.gridOptions.serverSideSortAllLevels);return!this.isRowModelServerSide()&&e?(doOnce(function(){return console.warn("AG Grid: The `serverSideSortAllLevels` property can only be used with the server side row model.")},"serverSideSortAllLevels"),!1):e},a.prototype.isServerSideFilterAllLevels=function(){var e=isTrue(this.gridOptions.serverSideFilterAllLevels);return!this.isRowModelServerSide()&&e?(doOnce(function(){return console.warn("AG Grid: The `serverSideFilterAllLevels` property can only be used with the server side row model.")},"serverSideFilterAllLevels"),!1):e},a.prototype.isServerSideSortOnServer=function(){var e=isTrue(this.gridOptions.serverSideSortOnServer);return!this.isRowModelServerSide()&&e?(doOnce(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property can only be used with the server side row model.")},"serverSideSortOnServerRowModel"),!1):this.isTreeData()&&e?(doOnce(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property cannot be used while using tree data.")},"serverSideSortOnServerTreeData"),!1):e},a.prototype.isServerSideFilterOnServer=function(){var e=isTrue(this.gridOptions.serverSideFilterOnServer);return!this.isRowModelServerSide()&&e?(doOnce(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property can only be used with the server side row model.")},"serverSideFilterOnServerRowModel"),!1):this.isTreeData()&&e?(doOnce(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property cannot be used while using tree data.")},"serverSideFilterOnServerTreeData"),!1):e},a.prototype.getPostSortFunc=function(){var e=this.gridOptions,c=e.postSortRows,h=e.postSort;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.nodes)}},a.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},a.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},a.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},a.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},a.prototype.getChartToolPanelsDef=function(){return this.gridOptions.chartToolPanelsDef},a.prototype.getClipboardDelimiter=function(){return exists(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"	"},a.prototype.setProperty=function(e,c,h){h===void 0&&(h=!1);var g=this.gridOptions[e];if(h||g!==c){this.gridOptions[e]=c;var b={type:e,currentValue:c,previousValue:g};this.propertyEventService.dispatchEvent(b)}},a.prototype.addEventListener=function(e,c){this.propertyEventService.addEventListener(e,c)},a.prototype.removeEventListener=function(e,c){this.propertyEventService.removeEventListener(e,c)},a.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},a.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return e!=null&&e>=0?e:20},a.prototype.getHeaderHeight=function(){return typeof this.gridOptions.headerHeight=="number"?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},a.prototype.getFloatingFiltersHeight=function(){return typeof this.gridOptions.floatingFiltersHeight=="number"?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},a.prototype.getGroupHeaderHeight=function(){return typeof this.gridOptions.groupHeaderHeight=="number"?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},a.prototype.getPivotHeaderHeight=function(){return typeof this.gridOptions.pivotHeaderHeight=="number"?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},a.prototype.getPivotGroupHeaderHeight=function(){return typeof this.gridOptions.pivotGroupHeaderHeight=="number"?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},a.prototype.isExternalFilterPresent=function(){return typeof this.gridOptions.isExternalFilterPresent=="function"?this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()}):!1},a.prototype.doesExternalFilterPass=function(e){return typeof this.gridOptions.doesExternalFilterPass=="function"?this.gridOptions.doesExternalFilterPass(e):!1},a.prototype.getTooltipDelay=function(e){var c=this.gridOptions,h=c.tooltipShowDelay,g=c.tooltipHideDelay,b=e==="show"?h:g,$=capitalise(e);return exists(b)?(b<0&&doOnce(function(){return console.warn("ag-grid: tooltip"+$+"Delay should not be lower than 0")},"tooltip"+$+"DelayWarn"),Math.max(200,b)):null},a.prototype.isTooltipMouseTrack=function(){return isTrue(this.gridOptions.tooltipMouseTrack)},a.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return isTrue(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},a.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&exists(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&exists(e)?e:document},a.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(exists(e)&&e>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var c=this.getFromTheme(null,"headerCellMinWidth");return exists(c)?Math.max(c,o.MIN_COL_WIDTH):o.MIN_COL_WIDTH},a.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},a.prototype.getColWidth=function(){return typeof this.gridOptions.colWidth!="number"||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},a.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return typeof e=="number"?e<0&&(doOnce(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=Constants.ROW_BUFFER_SIZE,e},a.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),c=this.getRowHeightAsNumber();return e*c},a.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,c=e?this.gridOptions.scrollbarWidth:getScrollbarWidth();c!=null&&(this.scrollbarWidth=c,this.eventService.dispatchEvent({type:Events.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},a.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),e.enableMultiRowDragging&&(e.rowDragMultiRow=!0,delete e.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var c=function(b,$,j){e[b]!=null&&(console.warn("AG Grid: since version "+j+", '"+b+"' is deprecated / renamed, please use the new property name '"+$+"' instead."),e[$]==null&&(e[$]=e[b]))};if(c("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),c("deltaRowDataMode","immutableData","23.1.x"),c("serverSideFilteringAlwaysResets","serverSideFilterAllLevels","28.0.0"),c("serverSideSortingAlwaysResets","serverSideSortAllLevels","28.0.0"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),c("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var h=e.groupRowRendererParams;e.groupRowInnerRenderer&&(h.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(h.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(h.innerRendererFramework=e.groupRowInnerRendererFramework)}if(e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn(`AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in
                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property.`),e.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),e.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),e.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),e.stopEditingWhenCellsLoseFocus=!0),e.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),e.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),e.groupDisplayType="multipleColumns"),e.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),e.groupDisplayType="groupRows"),e.groupSuppressAutoColumn){var g=e.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+g+" = 'custom'`"),e.groupDisplayType="custom"}e.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),e.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),e.defaultGroupOrderComparator=e.defaultGroupSortComparator),e.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),e.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),e.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),e.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),e.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),e.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),e.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),e.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),e.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),e.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),e.suppressCellFocus=e.suppressCellSelection),e.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),e.immutableData&&(e.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),e.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),e.clipboardDelimiter=e.clipboardDeliminator),c("processSecondaryColDef","processPivotResultColDef","28.0.x"),c("processSecondaryColGroupDef","processPivotResultColGroupDef","28.0.x"),e.serverSideStoreType&&(console.warn("AG Grid: since v28.0, `serverSideStoreType` has been replaced by `serverSideInfiniteScroll`. Set to true to use Partial Store, and false to use Full Store."),e.serverSideInfiniteScroll=e.serverSideStoreType==="partial"),c("getServerSideStoreParams","getServerSideGroupLevelParams","28.0.x")},a.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},a.prototype.treeDataViolations=function(){this.isRowModelDefault()&&missing(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(missing(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),missing(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},a.prototype.getLocaleTextFunc=function(){var e=this,c=this.gridOptions,h=c.localeText,g=c.getLocaleText,b=c.localeTextFunc;return g?function($,j,rt){var nt={key:$,defaultValue:j,variableValues:rt,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()};return g(nt)}:b||function($,j,rt){var nt=h&&h[$];if(nt&&rt&&rt.length)for(var pt=0;!(pt>=rt.length);){var wt=nt.indexOf("${variable}");if(wt===-1)break;nt=nt.replace("${variable}",rt[pt++])}return nt??j}},a.prototype.globalEventHandler=function(e,c){if(!this.destroyed){var h=ComponentUtil.getCallbackForEvent(e);typeof this.gridOptions[h]=="function"&&this.gridOptions[h](c)}},a.prototype.setRowHeightVariable=function(e){var c=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),h=e+"px";c!=h&&this.eGridDiv.style.setProperty("--ag-line-height",h)},a.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||missing(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},a.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},a.prototype.getRowHeightForNode=function(e,c,h){if(c===void 0&&(c=!1),h==null&&(h=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(c)return{height:h,estimated:!0};var g={node:e,data:e.data},b=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(g);if(this.isNumeric(b))return b===0&&doOnce(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,b),estimated:!1}}if(e.detail&&this.isMasterDetail())return this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:DEFAULT_DETAIL_ROW_HEIGHT,estimated:!1};var $=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:h;return{height:$,estimated:!1}},a.prototype.isDynamicRowHeight=function(){return typeof this.gridOptions.getRowHeight=="function"},a.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},a.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},a.prototype.isNumeric=function(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)},a.prototype.getFromTheme=function(e,c){var h=this.environment.getTheme().theme;return h&&h.indexOf("ag-theme")===0?this.environment.getSassVariable(h,c):e},a.prototype.getDefaultRowHeight=function(){return this.getFromTheme(DEFAULT_ROW_HEIGHT,"rowHeight")},a.prototype.matchesGroupDisplayType=function(e,c){var h=["groupRows","multipleColumns","custom","singleColumn"];return h.indexOf(c)<0?(console.warn("AG Grid: '"+c+"' is not a valid groupDisplayType value - possible values are: '"+h.join("', '")+"'"),!1):c===e},a.prototype.matchesTreeDataDisplayType=function(e,c){var h=["auto","custom"];return h.indexOf(c)<0?(console.warn("AG Grid: '"+c+"' is not a valid treeDataDisplayType value - possible values are: '"+h.join("', '")+"'"),!1):c===e};var o;return a.MIN_COL_WIDTH=10,a.PROP_HEADER_HEIGHT="headerHeight",a.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",a.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",a.PROP_GROUP_DISPLAY_TYPE="groupDisplayType",a.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",a.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",a.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",a.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",a.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",a.PROP_TAB_TO_NEXT_CELL="tabToNextCell",a.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",a.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",a.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",a.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",a.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",a.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",a.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",a.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",a.PROP_GET_ROW_CLASS="getRowClass",a.PROP_GET_ROW_STYLE="getRowStyle",a.PROP_GET_ROW_HEIGHT="getRowHeight",a.PROP_POPUP_PARENT="popupParent",a.PROP_DOM_LAYOUT="domLayout",a.PROP_ROW_CLASS="rowClass",a.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",a.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",a.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",a.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",a.PROP_GET_CHILD_COUNT="getChildCount",a.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",a.PROP_GET_ROW_NODE_ID="getRowNodeId",a.PROP_GET_ROW_ID="getRowId",a.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",a.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",a.PROP_IS_ROW_SELECTABLE="isRowSelectable",a.PROP_IS_ROW_MASTER="isRowMaster",a.PROP_POST_SORT="postSort",a.PROP_POST_SORT_ROWS="postSortRows",a.PROP_GET_DOCUMENT="getDocument",a.PROP_POST_PROCESS_POPUP="postProcessPopup",a.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",a.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",a.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",a.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",a.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",a.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",a.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",a.PROP_SEND_TO_CLIPBOARD="sendToClipboard",a.PROP_PROCESS_PIVOT_RESULT_COL_DEF="processPivotResultColDef",a.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF="processPivotResultColGroupDef",a.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",a.PROP_GET_SERVER_SIDE_GROUP_PARAMS="getServerSideGroupLevelParams",a.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",a.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",a.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",a.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",a.PROP_AUTO_GROUP_COLUMN_DEF="autoGroupColumnDef",a.PROP_DEFAULT_COL_DEF="defaultColDef",__decorate$2v([Autowired("gridOptions")],a.prototype,"gridOptions",void 0),__decorate$2v([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$2v([Autowired("environment")],a.prototype,"environment",void 0),__decorate$2v([Autowired("eGridDiv")],a.prototype,"eGridDiv",void 0),__decorate$2v([__param$8(0,Qualifier("gridApi")),__param$8(1,Qualifier("columnApi"))],a.prototype,"agWire",null),__decorate$2v([PreDestroy],a.prototype,"destroy",null),__decorate$2v([PostConstruct],a.prototype,"init",null),a=o=__decorate$2v([Bean("gridOptionsWrapper")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2T=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2u=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$7=function(a,o){return function(e,c){o(e,c,a)}},__rest$2=function(a,o){var e={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&o.indexOf(c)<0&&(e[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(a);h<c.length;h++)o.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(a,c[h])&&(e[c[h]]=a[c[h]]);return e},__values$4=function(a){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&a[o],c=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$l=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$f=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$l(arguments[o]));return a},ColumnModel=function(a){__extends$2T(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.flexColsCalculatedAtLestOnce=!1,e}return o.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var c=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(c)&&(this.pivotMode=c),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_DISPLAY_TYPE,function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_AUTO_GROUP_COLUMN_DEF,function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DEFAULT_COL_DEF,function(){return e.onDefaultColDefChanged()})},o.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},o.prototype.onDefaultColDefChanged=function(){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},o.prototype.setColumnDefs=function(e,c){c===void 0&&(c="api");var h=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(h,c)},o.prototype.createColumnsFromColumnDefs=function(e,c){var h=this;c===void 0&&(c="api");var g=e?this.compareColumnStatesAndRaiseEvents(c):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var b=this.primaryColumns,$=this.primaryColumnTree,j=this.columnFactory.createColumnTree(this.columnDefs,!0,$);this.primaryColumnTree=j.columnTree,this.primaryHeaderRowCount=j.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(pt){return h.primaryColumnsMap[pt.getId()]=pt}),this.extractRowGroupColumns(c,b),this.extractPivotColumns(c,b),this.extractValueColumns(c,b),this.ready=!0;var rt=this.gridColsArePrimary===void 0,nt=this.gridColsArePrimary||rt;nt&&(this.updateGridColumns(),e&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(c),this.checkViewportColumns()),this.dispatchEverythingChanged(c),g&&g(),this.dispatchNewColumnsLoaded()},o.prototype.dispatchNewColumnsLoaded=function(){var e={type:Events.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(e)},o.prototype.dispatchEverythingChanged=function(e){e===void 0&&(e="api");var c={type:Events.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(c)},o.prototype.orderGridColumnsLikePrimary=function(){var e=this,c=this.primaryColumns;c&&(this.gridColumns.sort(function(h,g){var b=c.indexOf(h),$=c.indexOf(g),j=b>=0,rt=$>=0;if(j&&rt)return b-$;if(j)return 1;if(rt)return-1;var nt=e.gridColumns.indexOf(h),pt=e.gridColumns.indexOf(g);return nt-pt}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},o.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},o.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},o.prototype.getDisplayedColumnsStartingAt=function(e){for(var c=e,h=[];c!=null;)h.push(c),c=this.getDisplayedColAfter(c);return h},o.prototype.checkViewportColumns=function(){if(this.displayedColumnsCenter!=null){var e=this.extractViewport();if(e){var c={type:Events.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(c)}}},o.prototype.setViewportPosition=function(e,c){(e!==this.scrollWidth||c!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=c,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},o.prototype.isPivotMode=function(){return this.pivotMode},o.prototype.isPivotSettingAllowed=function(e){return e&&this.gridOptionsWrapper.isTreeData()?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},o.prototype.setPivotMode=function(e,c){if(c===void 0&&(c="api"),!(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))){this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(c);var h={type:Events.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(h)}},o.prototype.getSecondaryPivotColumn=function(e,c){if(missing(this.secondaryColumns))return null;var h=this.getPrimaryColumn(c),g=null;return this.secondaryColumns.forEach(function(b){var $=b.getColDef().pivotKeys,j=b.getColDef().pivotValueColumn,rt=areEqual($,e),nt=j===h;rt&&nt&&(g=b)}),g},o.prototype.setBeans=function(e){this.logger=e.create("columnModel")},o.prototype.setFirstRightAndLastLeftPinned=function(e){var c,h;this.gridOptionsWrapper.isEnableRtl()?(c=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,h=this.displayedColumnsRight?last(this.displayedColumnsRight):null):(c=this.displayedColumnsLeft?last(this.displayedColumnsLeft):null,h=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(g){g.setLastLeftPinned(g===c,e),g.setFirstRightPinned(g===h,e)})},o.prototype.autoSizeColumns=function(e){var c=this,h=e.columns,g=e.skipHeader,b=e.skipHeaderGroups,$=e.stopAtGroup,j=e.source,rt=j===void 0?"api":j;this.animationFrameService.flushAllFrames();for(var nt=[],pt=-1,wt=g??this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),Dt=b??wt;pt!==0;)pt=0,this.actionOnGridColumns(h,function(Lt){if(nt.indexOf(Lt)>=0)return!1;var it=c.autoWidthCalculator.getPreferredWidthForColumn(Lt,wt);if(it>0){var st=c.normaliseColumnWidth(Lt,it);Lt.setActualWidth(st,rt),nt.push(Lt),pt++}return!0},rt);Dt||this.autoSizeColumnGroupsByColumns(h,$),this.fireColumnResizedEvent(nt,!0,"autosizeColumns")},o.prototype.fireColumnResizedEvent=function(e,c,h,g){if(g===void 0&&(g=null),e&&e.length){var b={type:Events.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:g,finished:c,source:h};this.eventService.dispatchEvent(b)}},o.prototype.autoSizeColumn=function(e,c,h){h===void 0&&(h="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:c,skipHeaderGroups:!0,source:h})},o.prototype.autoSizeColumnGroupsByColumns=function(e,c){var h,g,b,$,j=new Set,rt=this.getGridColumns(e);rt.forEach(function(gt){for(var Et=gt.getParent();Et&&Et!=c;)Et.isPadding()||j.add(Et),Et=Et.getParent()});var nt,pt=[];try{for(var wt=__values$4(j),Dt=wt.next();!Dt.done;Dt=wt.next()){var Lt=Dt.value;try{for(var it=(b=void 0,__values$4(this.ctrlsService.getHeaderRowContainerCtrls())),st=it.next();!st.done;st=it.next()){var bt=st.value;if(nt=bt.getHeaderCtrlForColumn(Lt),nt)break}}catch(gt){b={error:gt}}finally{try{st&&!st.done&&($=it.return)&&$.call(it)}finally{if(b)throw b.error}}nt&&nt.resizeLeafColumnsToFit()}}catch(gt){h={error:gt}}finally{try{Dt&&!Dt.done&&(g=wt.return)&&g.call(wt)}finally{if(h)throw h.error}}return pt},o.prototype.autoSizeAllColumns=function(e,c){c===void 0&&(c="api");var h=this.getAllDisplayedColumns();this.autoSizeColumns({columns:h,skipHeader:e,source:c})},o.prototype.getColumnsFromTree=function(e){var c=[],h=function(g){for(var b=0;b<g.length;b++){var $=g[b];$ instanceof Column?c.push($):$ instanceof ProvidedColumnGroup&&h($.getChildren())}};return h(e),c},o.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},o.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},o.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},o.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},o.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},o.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},o.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},o.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},o.prototype.getViewportColumns=function(){return this.viewportColumns},o.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},o.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},o.prototype.getDisplayedColumnsForRow=function(e,c,h,g){for(var b=[],$=null,j=function(pt){var wt=c[pt],Dt=c.length-pt,Lt=Math.min(wt.getColSpan(e),Dt),it=[wt];if(Lt>1){for(var st=Lt-1,bt=1;bt<=st;bt++)it.push(c[pt+bt]);pt+=st}var gt;if(h?(gt=!1,it.forEach(function(ot){h(ot)&&(gt=!0)})):gt=!0,gt){if(b.length===0&&$){var Et=g?g(wt):!1;Et&&b.push($)}b.push(wt)}$=wt,rt=pt},rt,nt=0;nt<c.length;nt++)j(nt),nt=rt;return b},o.prototype.getViewportCenterColumnsForRow=function(e){var c=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var h=function(b){var $=b.getLeft();return exists($)&&$>c.viewportLeft},g=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,g,h)},o.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},o.prototype.isColumnInHeaderViewport=function(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)},o.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var c=e.getLeft()||0,h=c+e.getActualWidth(),g=this.viewportLeft-200,b=this.viewportRight+200,$=c<g&&h<g,j=c>b&&h>b;return!$&&!j},o.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},o.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},o.prototype.updatePrimaryColumnList=function(e,c,h,g,b,$){var j=this;if($===void 0&&($="api"),!(!e||missingOrEmpty(e))){var rt=!1;if(e.forEach(function(pt){var wt=j.getPrimaryColumn(pt);if(wt){if(h){if(c.indexOf(wt)>=0)return;c.push(wt)}else{if(c.indexOf(wt)<0)return;removeFromArray(c,wt)}g(wt),rt=!0}}),!!rt){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns($);var nt={type:b,columns:c,column:c.length===1?c[0]:null,source:$};this.eventService.dispatchEvent(nt)}}},o.prototype.setRowGroupColumns=function(e,c){c===void 0&&(c="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),c)},o.prototype.setRowGroupActive=function(e,c,h){e!==c.isRowGroupActive()&&(c.setRowGroupActive(e,h),e&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&this.setColumnVisible(c,!1,h),!e&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&this.setColumnVisible(c,!0,h))},o.prototype.addRowGroupColumn=function(e,c){c===void 0&&(c="api"),e&&this.addRowGroupColumns([e],c)},o.prototype.addRowGroupColumns=function(e,c){c===void 0&&(c="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,c)},o.prototype.removeRowGroupColumns=function(e,c){c===void 0&&(c="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,c)},o.prototype.removeRowGroupColumn=function(e,c){c===void 0&&(c="api"),e&&this.removeRowGroupColumns([e],c)},o.prototype.addPivotColumns=function(e,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(h){return h.setPivotActive(!0,c)},Events.EVENT_COLUMN_PIVOT_CHANGED,c)},o.prototype.setPivotColumns=function(e,c){c===void 0&&(c="api"),this.setPrimaryColumnList(e,this.pivotColumns,Events.EVENT_COLUMN_PIVOT_CHANGED,function(h,g){g.setPivotActive(h,c)},c)},o.prototype.addPivotColumn=function(e,c){c===void 0&&(c="api"),this.addPivotColumns([e],c)},o.prototype.removePivotColumns=function(e,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(h){return h.setPivotActive(!1,c)},Events.EVENT_COLUMN_PIVOT_CHANGED,c)},o.prototype.removePivotColumn=function(e,c){c===void 0&&(c="api"),this.removePivotColumns([e],c)},o.prototype.setPrimaryColumnList=function(e,c,h,g,b){var $=this;c.length=0,exists(e)&&e.forEach(function(j){var rt=$.getPrimaryColumn(j);rt&&c.push(rt)}),(this.primaryColumns||[]).forEach(function(j){var rt=c.indexOf(j)>=0;g(rt,j)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(b),this.fireColumnEvent(h,c,b)},o.prototype.setValueColumns=function(e,c){c===void 0&&(c="api"),this.setPrimaryColumnList(e,this.valueColumns,Events.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),c)},o.prototype.setValueActive=function(e,c,h){if(e!==c.isValueActive()&&(c.setValueActive(e,h),e&&!c.getAggFunc())){var g=this.aggFuncService.getDefaultAggFunc(c);c.setAggFunc(g)}},o.prototype.addValueColumns=function(e,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Events.EVENT_COLUMN_VALUE_CHANGED,c)},o.prototype.addValueColumn=function(e,c){c===void 0&&(c="api"),e&&this.addValueColumns([e],c)},o.prototype.removeValueColumn=function(e,c){c===void 0&&(c="api"),this.removeValueColumns([e],c)},o.prototype.removeValueColumns=function(e,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Events.EVENT_COLUMN_VALUE_CHANGED,c)},o.prototype.normaliseColumnWidth=function(e,c){var h=e.getMinWidth();exists(h)&&c<h&&(c=h);var g=e.getMaxWidth();return exists(g)&&e.isGreaterThanMax(c)&&(c=g),c},o.prototype.getPrimaryOrGridColumn=function(e){var c=this.getPrimaryColumn(e);return c||this.getGridColumn(e)},o.prototype.setColumnWidths=function(e,c,h,g){var b=this;g===void 0&&(g="api");var $=[];e.forEach(function(j){var rt=b.getPrimaryOrGridColumn(j.key);if(rt){$.push({width:j.newWidth,ratios:[1],columns:[rt]});var nt=b.gridOptionsWrapper.getColResizeDefault()==="shift";if(nt&&(c=!c),c){var pt=b.getDisplayedColAfter(rt);if(!pt)return;var wt=rt.getActualWidth()-j.newWidth,Dt=pt.getActualWidth()+wt;$.push({width:Dt,ratios:[1],columns:[pt]})}}}),$.length!==0&&this.resizeColumnSets({resizeSets:$,finished:h,source:g})},o.prototype.checkMinAndMaxWidthsForSet=function(e){var c=e.columns,h=e.width,g=0,b=0,$=!0;c.forEach(function(nt){var pt=nt.getMinWidth();g+=pt||0;var wt=nt.getMaxWidth();exists(wt)&&wt>0?b+=wt:$=!1});var j=h>=g,rt=!$||h<=b;return j&&rt},o.prototype.resizeColumnSets=function(e){var c=this,h=e.resizeSets,g=e.finished,b=e.source,$=!h||h.every(function(Lt){return c.checkMinAndMaxWidthsForSet(Lt)});if(!$){if(g){var j=h&&h.length>0?h[0].columns:null;this.fireColumnResizedEvent(j,g,b)}return}var rt=[],nt=[];h.forEach(function(Lt){var it=Lt.width,st=Lt.columns,bt=Lt.ratios,gt={},Et={};st.forEach(function(It){return nt.push(It)});for(var ot=!0,_t=0,Mt=function(){if(_t++,_t>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";ot=!1;var It=[],jt=0,tr=it;st.forEach(function(vr,hr){var mr=Et[vr.getId()];if(mr)tr-=gt[vr.getId()];else{It.push(vr);var Er=bt[hr];jt+=Er}});var gr=1/jt;It.forEach(function(vr,hr){var mr=hr===It.length-1,Er;mr?Er=tr:(Er=Math.round(bt[hr]*it*gr),tr-=Er);var Rr=vr.getMinWidth(),Cr=vr.getMaxWidth();exists(Rr)&&Er<Rr?(Er=Rr,Et[vr.getId()]=!0,ot=!0):exists(Cr)&&Cr>0&&Er>Cr&&(Er=Cr,Et[vr.getId()]=!0,ot=!0),gt[vr.getId()]=Er})};ot;){var Bt=Mt();if(Bt==="break")break}st.forEach(function(It){var jt=gt[It.getId()],tr=It.getActualWidth();tr!==jt&&(It.setActualWidth(jt,b),rt.push(It))})});var pt=rt.length>0,wt=[];pt&&(wt=this.refreshFlexedColumns({resizingCols:nt,skipSetLeft:!0}),this.setLeftValues(b),this.updateBodyWidths(),this.checkViewportColumns());var Dt=nt.concat(wt);(pt||g)&&this.fireColumnResizedEvent(Dt,g,b,wt)},o.prototype.setColumnAggFunc=function(e,c,h){if(h===void 0&&(h="api"),!!e){var g=this.getPrimaryColumn(e);g&&(g.setAggFunc(c),this.fireColumnEvent(Events.EVENT_COLUMN_VALUE_CHANGED,[g],h))}},o.prototype.fireColumnEvent=function(e,c,h){var g={type:e,columns:c,column:c&&c.length==1?c[0]:null,source:h};this.eventService.dispatchEvent(g)},o.prototype.moveRowGroupColumn=function(e,c,h){h===void 0&&(h="api");var g=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(c,0,g);var b={type:Events.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:this.rowGroupColumns.length===1?this.rowGroupColumns[0]:null,source:h};this.eventService.dispatchEvent(b)},o.prototype.moveColumns=function(e,c,h){if(h===void 0&&(h="api"),this.columnAnimationService.start(),c>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+c),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var g=this.getGridColumns(e),b=!this.doesMovePassRules(g,c);if(!b){moveInArray(this.gridColumns,g,c),this.updateDisplayedColumns(h);var $={type:Events.EVENT_COLUMN_MOVED,columns:g,column:g.length===1?g[0]:null,toIndex:c,source:h};this.eventService.dispatchEvent($),this.columnAnimationService.finish()}},o.prototype.doesMovePassRules=function(e,c){var h=this.getProposedColumnOrder(e,c);return this.doesOrderPassRules(h)},o.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},o.prototype.getProposedColumnOrder=function(e,c){var h=this.gridColumns.slice();return moveInArray(h,e,c),h},o.prototype.sortColumnsLikeGridColumns=function(e){var c=this;if(!(!e||e.length<=1)){var h=e.filter(function(g){return c.gridColumns.indexOf(g)<0}).length>0;h||e.sort(function(g,b){var $=c.gridColumns.indexOf(g),j=c.gridColumns.indexOf(b);return $-j})}},o.prototype.doesMovePassLockedPositions=function(e){var c=0,h=!0,g=function(b){return b?b===!0||b==="left"?0:2:1};return e.forEach(function(b){var $=g(b.getColDef().lockPosition);$<c&&(h=!1),c=$}),h},o.prototype.doesMovePassMarryChildren=function(e){var c=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(h){if(h instanceof ProvidedColumnGroup){var g=h,b=g.getColGroupDef(),$=b&&b.marryChildren;if($){var j=[];g.getLeafColumns().forEach(function(Dt){var Lt=e.indexOf(Dt);j.push(Lt)});var rt=Math.max.apply(Math,j),nt=Math.min.apply(Math,j),pt=rt-nt,wt=g.getLeafColumns().length-1;pt>wt&&(c=!1)}}}),c},o.prototype.moveColumn=function(e,c,h){h===void 0&&(h="api"),this.moveColumns([e],c,h)},o.prototype.moveColumnByIndex=function(e,c,h){h===void 0&&(h="api");var g=this.gridColumns[e];this.moveColumn(g,c,h)},o.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var c=this.primaryColumns.slice();return this.gridColsArePrimary?c.sort(function(h,g){return e.gridColumns.indexOf(h)-e.gridColumns.indexOf(g)}):this.lastPrimaryOrder&&c.sort(function(h,g){return e.lastPrimaryOrder.indexOf(h)-e.lastPrimaryOrder.indexOf(g)}),this.columnDefFactory.buildColumnDefs(c,this.rowGroupColumns,this.pivotColumns)}},o.prototype.getBodyContainerWidth=function(){return this.bodyWidth},o.prototype.getContainerWidth=function(e){switch(e){case Constants.PINNED_LEFT:return this.leftWidth;case Constants.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},o.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),c=this.getWidthOfColsInList(this.displayedColumnsLeft),h=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var g=this.bodyWidth!==e||this.leftWidth!==c||this.rightWidth!==h;if(g){this.bodyWidth=e,this.leftWidth=c,this.rightWidth=h;var b={type:Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(b)}},o.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},o.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},o.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},o.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},o.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},o.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},o.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},o.prototype.getDisplayedColumns=function(e){switch(e){case Constants.PINNED_LEFT:return this.getDisplayedLeftColumns();case Constants.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},o.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},o.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},o.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},o.prototype.getAllGridColumns=function(){return this.gridColumns},o.prototype.isEmpty=function(){return missingOrEmpty(this.gridColumns)},o.prototype.isRowGroupEmpty=function(){return missingOrEmpty(this.rowGroupColumns)},o.prototype.setColumnVisible=function(e,c,h){h===void 0&&(h="api"),this.setColumnsVisible([e],c,h)},o.prototype.setColumnsVisible=function(e,c,h){c===void 0&&(c=!1),h===void 0&&(h="api"),this.applyColumnState({state:e.map(function(g){return{colId:typeof g=="string"?g:g.getColId(),hide:!c}})},h)},o.prototype.setColumnPinned=function(e,c,h){h===void 0&&(h="api"),e&&this.setColumnsPinned([e],c,h)},o.prototype.setColumnsPinned=function(e,c,h){if(h===void 0&&(h="api"),this.gridOptionsWrapper.getDomLayout()==="print"){console.warn("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var g;c===!0||c===Constants.PINNED_LEFT?g=Constants.PINNED_LEFT:c===Constants.PINNED_RIGHT?g=Constants.PINNED_RIGHT:g=null,this.actionOnGridColumns(e,function(b){return b.getPinned()!==g?(b.setPinned(g),!0):!1},h,function(){var b={type:Events.EVENT_COLUMN_PINNED,pinned:g,column:null,columns:null,source:h};return b}),this.columnAnimationService.finish()},o.prototype.actionOnGridColumns=function(e,c,h,g){var b=this;if(!missingOrEmpty(e)){var $=[];if(e.forEach(function(rt){var nt=b.getGridColumn(rt);if(nt){var pt=c(nt);pt!==!1&&$.push(nt)}}),!!$.length&&(this.updateDisplayedColumns(h),exists(g)&&g)){var j=g();j.columns=$,j.column=$.length===1?$[0]:null,this.eventService.dispatchEvent(j)}}},o.prototype.getDisplayedColBefore=function(e){var c=this.getAllDisplayedColumns(),h=c.indexOf(e);return h>0?c[h-1]:null},o.prototype.getDisplayedColAfter=function(e){var c=this.getAllDisplayedColumns(),h=c.indexOf(e);return h<c.length-1?c[h+1]:null},o.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},o.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},o.prototype.getDisplayedGroupAtDirection=function(e,c){for(var h=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),g=e.getDisplayedLeafColumns(),b=c==="After"?last(g):g[0],$="getDisplayedCol"+c;;){var j=this[$](b);if(!j)return null;var rt=this.getColumnGroupAtLevel(j,h);if(rt!==e)return rt}},o.prototype.getColumnGroupAtLevel=function(e,c){for(var h=e.getParent(),g,b;;){var $=h.getProvidedColumnGroup();if(g=$.getLevel(),b=h.getPaddingLevel(),g+b<=c)break;h=h.getParent()}return h},o.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},o.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},o.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,__spread$f([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},o.prototype.getPrimaryAndAutoGroupCols=function(){var e;return(e=[]).concat.apply(e,__spread$f([this.primaryColumns||[],this.groupAutoColumns||[]]))},o.prototype.getPrimaryAndSecondaryColumns=function(){var e;return(e=[]).concat.apply(e,__spread$f([this.primaryColumns||[],this.secondaryColumns||[]]))},o.prototype.createStateItemFromColumn=function(e){var c=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,h=e.isPivotActive()?this.pivotColumns.indexOf(e):null,g=e.isValueActive()?e.getAggFunc():null,b=e.getSort()!=null?e.getSort():null,$=e.getSortIndex()!=null?e.getSortIndex():null,j=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null,rt={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:b,sortIndex:$,aggFunc:g,rowGroup:e.isRowGroupActive(),rowGroupIndex:c,pivot:e.isPivotActive(),pivotIndex:h,flex:j};return rt},o.prototype.getColumnState=function(){if(missing(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),c=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(c),c},o.prototype.orderColumnStateList=function(e){var c=convertToMap(this.gridColumns.map(function(h,g){return[h.getColId(),g]}));e.sort(function(h,g){var b=c.has(h.colId)?c.get(h.colId):-1,$=c.has(g.colId)?c.get(g.colId):-1;return b-$})},o.prototype.resetColumnState=function(e){e===void 0&&(e="api");var c=this.getColumnsFromTree(this.primaryColumnTree),h=[],g=1e3,b=1e3,$=[];this.groupAutoColumns&&($=$.concat(this.groupAutoColumns)),c&&($=$.concat(c)),$.forEach(function(j){var rt=function(Bt,It){return Bt??It??null},nt=j.getColDef(),pt=rt(nt.sort,nt.initialSort),wt=rt(nt.sortIndex,nt.initialSortIndex),Dt=rt(nt.hide,nt.initialHide),Lt=rt(nt.pinned,nt.initialPinned),it=rt(nt.width,nt.initialWidth),st=rt(nt.flex,nt.initialFlex),bt=rt(nt.rowGroupIndex,nt.initialRowGroupIndex),gt=rt(nt.rowGroup,nt.initialRowGroup);bt==null&&(gt==null||gt==!1)&&(bt=null,gt=null);var Et=rt(nt.pivotIndex,nt.initialPivotIndex),ot=rt(nt.pivot,nt.initialPivot);Et==null&&(ot==null||ot==!1)&&(Et=null,ot=null);var _t=rt(nt.aggFunc,nt.initialAggFunc),Mt={colId:j.getColId(),sort:pt,sortIndex:wt,hide:Dt,pinned:Lt,width:it,flex:st,rowGroup:gt,rowGroupIndex:bt,pivot:ot,pivotIndex:Et,aggFunc:_t};missing(bt)&&gt&&(Mt.rowGroupIndex=g++),missing(Et)&&ot&&(Mt.pivotIndex=b++),h.push(Mt)}),this.applyColumnState({state:h,applyOrder:!0},e)},o.prototype.applyColumnState=function(e,c){var h=this;if(missingOrEmpty(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var g=function(rt,nt,pt){var wt=h.compareColumnStatesAndRaiseEvents(c);h.autoGroupsNeedBuilding=!0;var Dt=nt.slice(),Lt={},it={},st=[],bt=[],gt=0,Et=h.rowGroupColumns.slice(),ot=h.pivotColumns.slice();rt.forEach(function(It){var jt=It.colId||"",tr=jt.startsWith(Constants.GROUP_AUTO_COLUMN_ID);if(tr){st.push(It),bt.push(It);return}var gr=pt(jt);gr?(h.syncColumnWithStateItem(gr,It,e.defaultState,Lt,it,!1,c),removeFromArray(Dt,gr)):(bt.push(It),gt+=1)});var _t=function(It){return h.syncColumnWithStateItem(It,null,e.defaultState,Lt,it,!1,c)};Dt.forEach(_t);var Mt=function(It,jt,tr,gr){var vr=It[tr.getId()],hr=It[gr.getId()],mr=vr!=null,Er=hr!=null;if(mr&&Er)return vr-hr;if(mr)return-1;if(Er)return 1;var Rr=jt.indexOf(tr),Cr=jt.indexOf(gr),wr=Rr>=0,Sr=Cr>=0;return wr&&Sr?Rr-Cr:wr?-1:1};h.rowGroupColumns.sort(Mt.bind(h,Lt,Et)),h.pivotColumns.sort(Mt.bind(h,it,ot)),h.updateGridColumns();var Bt=h.groupAutoColumns?h.groupAutoColumns.slice():[];return st.forEach(function(It){var jt=h.getAutoColumn(It.colId);removeFromArray(Bt,jt),h.syncColumnWithStateItem(jt,It,e.defaultState,null,null,!0,c)}),Bt.forEach(_t),h.applyOrderAfterApplyState(e),h.updateDisplayedColumns(c),h.dispatchEverythingChanged(c),wt(),{unmatchedAndAutoStates:bt,unmatchedCount:gt}};this.columnAnimationService.start();var b=g(e.state||[],this.primaryColumns||[],function(rt){return h.getPrimaryColumn(rt)}),$=b.unmatchedAndAutoStates,j=b.unmatchedCount;return($.length>0||exists(e.defaultState))&&(j=g($,this.secondaryColumns||[],function(rt){return h.getSecondaryColumn(rt)}).unmatchedCount),this.columnAnimationService.finish(),j===0},o.prototype.applyOrderAfterApplyState=function(e){var c=this;if(!(!e.applyOrder||!e.state)){var h=[],g={};e.state.forEach(function($){if(!(!$.colId||g[$.colId])){var j=c.gridColumnsMap[$.colId];j&&(h.push(j),g[$.colId]=!0)}});var b=0;if(this.gridColumns.forEach(function($){var j=$.getColId(),rt=g[j]!=null;if(!rt){var nt=j.startsWith(Constants.GROUP_AUTO_COLUMN_ID);nt?insertIntoArray(h,$,b++):h.push($)}}),h=this.placeLockedColumns(h),!this.doesMovePassMarryChildren(h)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=h}},o.prototype.compareColumnStatesAndRaiseEvents=function(e){var c=this,h={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},g=this.getColumnState(),b={};return g.forEach(function($){b[$.colId]=$}),function(){if(!c.gridOptionsWrapper.isSuppressColumnStateEvents()){var $=c.getPrimaryAndSecondaryAndAutoColumns(),j=function(bt,gt,Et,ot){var _t=gt.map(ot),Mt=Et.map(ot),Bt=areEqual(_t,Mt);if(!Bt){var It={type:bt,columns:Et,column:Et.length===1?Et[0]:null,source:e};c.eventService.dispatchEvent(It)}},rt=function(bt){var gt=[];return $.forEach(function(Et){var ot=b[Et.getColId()];ot&&bt(ot,Et)&&gt.push(Et)}),gt},nt=function(bt){return bt.getColId()};j(Events.EVENT_COLUMN_ROW_GROUP_CHANGED,h.rowGroupColumns,c.rowGroupColumns,nt),j(Events.EVENT_COLUMN_PIVOT_CHANGED,h.pivotColumns,c.pivotColumns,nt);var pt=function(bt,gt){var Et=bt.aggFunc!=null,ot=Et!=gt.isValueActive(),_t=Et&&bt.aggFunc!=gt.getAggFunc();return ot||_t},wt=rt(pt);wt.length>0&&c.fireColumnEvent(Events.EVENT_COLUMN_VALUE_CHANGED,c.valueColumns,e);var Dt=function(bt,gt){return bt.width!=gt.getActualWidth()};c.fireColumnResizedEvent(rt(Dt),!0,e);var Lt=function(bt,gt){return bt.pinned!=gt.getPinned()};c.raiseColumnPinnedEvent(rt(Lt),e);var it=function(bt,gt){return bt.hide==gt.isVisible()};c.raiseColumnVisibleEvent(rt(it),e);var st=function(bt,gt){return bt.sort!=gt.getSort()||bt.sortIndex!=gt.getSortIndex()};rt(st).length>0&&c.sortController.dispatchSortChangedEvents(e),c.raiseColumnMovedEvent(g,e)}}},o.prototype.raiseColumnPinnedEvent=function(e,c){if(e.length){var h=e.length===1?e[0]:null,g=this.getCommonValue(e,function($){return $.getPinned()}),b={type:Events.EVENT_COLUMN_PINNED,pinned:g??null,columns:e,column:h,source:c};this.eventService.dispatchEvent(b)}},o.prototype.getCommonValue=function(e,c){if(!(!e||e.length==0)){for(var h=c(e[0]),g=1;g<e.length;g++)if(h!==c(e[g]))return;return h}},o.prototype.raiseColumnVisibleEvent=function(e,c){if(e.length){var h=e.length===1?e[0]:null,g=this.getCommonValue(e,function($){return $.isVisible()}),b={type:Events.EVENT_COLUMN_VISIBLE,visible:g,columns:e,column:h,source:c};this.eventService.dispatchEvent(b)}},o.prototype.raiseColumnMovedEvent=function(e,c){var h=this,g=this.getColumnState(),b={};g.forEach(function(wt){return b[wt.colId]=wt});var $={};e.forEach(function(wt){b[wt.colId]&&($[wt.colId]=!0)});var j=e.filter(function(wt){return $[wt.colId]}),rt=g.filter(function(wt){return $[wt.colId]}),nt=[];if(rt.forEach(function(wt,Dt){var Lt=j&&j[Dt];if(Lt&&Lt.colId!==wt.colId){var it=h.getGridColumn(Lt.colId);it&&nt.push(it)}}),!!nt.length){var pt={type:Events.EVENT_COLUMN_MOVED,columns:nt,column:null,source:c};this.eventService.dispatchEvent(pt)}},o.prototype.syncColumnWithStateItem=function(e,c,h,g,b,$,j){if(e){var rt=function(jt,tr){var gr={value1:void 0,value2:void 0},vr=!1;return c&&(c[jt]!==void 0&&(gr.value1=c[jt],vr=!0),exists(tr)&&c[tr]!==void 0&&(gr.value2=c[tr],vr=!0)),!vr&&h&&(h[jt]!==void 0&&(gr.value1=h[jt]),exists(tr)&&h[tr]!==void 0&&(gr.value2=h[tr])),gr},nt=rt("hide").value1;nt!==void 0&&e.setVisible(!nt,j);var pt=rt("pinned").value1;pt!==void 0&&e.setPinned(pt);var wt=this.columnUtils.calculateColMinWidth(e.getColDef()),Dt=rt("flex").value1;Dt!==void 0&&e.setFlex(Dt);var Lt=e.getFlex()<=0;if(Lt){var it=rt("width").value1;it!=null&&wt!=null&&it>=wt&&e.setActualWidth(it,j)}var st=rt("sort").value1;st!==void 0&&(st===Constants.SORT_DESC||st===Constants.SORT_ASC?e.setSort(st,j):e.setSort(void 0,j));var bt=rt("sortIndex").value1;if(bt!==void 0&&e.setSortIndex(bt),!($||!e.isPrimary())){var gt=rt("aggFunc").value1;gt!==void 0&&(typeof gt=="string"?(e.setAggFunc(gt),e.isValueActive()||(e.setValueActive(!0,j),this.valueColumns.push(e))):(exists(gt)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,j),removeFromArray(this.valueColumns,e))));var Et=rt("rowGroup","rowGroupIndex"),ot=Et.value1,_t=Et.value2;(ot!==void 0||_t!==void 0)&&(typeof _t=="number"||ot?(e.isRowGroupActive()||(e.setRowGroupActive(!0,j),this.rowGroupColumns.push(e)),g&&typeof _t=="number"&&(g[e.getId()]=_t)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,j),removeFromArray(this.rowGroupColumns,e)));var Mt=rt("pivot","pivotIndex"),Bt=Mt.value1,It=Mt.value2;(Bt!==void 0||It!==void 0)&&(typeof It=="number"||Bt?(e.isPivotActive()||(e.setPivotActive(!0,j),this.pivotColumns.push(e)),b&&typeof It=="number"&&(b[e.getId()]=It)):e.isPivotActive()&&(e.setPivotActive(!1,j),removeFromArray(this.pivotColumns,e)))}}},o.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},o.prototype.getColumns=function(e,c){var h=[];return e&&e.forEach(function(g){var b=c(g);b&&h.push(b)}),h},o.prototype.getColumnWithValidation=function(e){if(e==null)return null;var c=this.getGridColumn(e);return c||console.warn("AG Grid: could not find column "+e),c},o.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},o.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},o.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},o.prototype.getColumn=function(e,c,h){if(!e)return null;if(typeof e=="string"&&h[e])return h[e];for(var g=0;g<c.length;g++)if(this.columnsMatch(c[g],e))return c[g];return this.getAutoColumn(e)},o.prototype.getSourceColumnsForGroupColumn=function(e){var c=e.getColDef().showRowGroup;if(!c)return null;if(c===!0)return this.rowGroupColumns.slice(0);var h=this.getPrimaryColumn(c);return h?[h]:null},o.prototype.getAutoColumn=function(e){var c=this;return!this.groupAutoColumns||!exists(this.groupAutoColumns)||missing(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(h){return c.columnsMatch(h,e)})||null},o.prototype.columnsMatch=function(e,c){var h=e===c,g=e.getColDef()===c,b=e.getColId()==c;return h||g||b},o.prototype.getDisplayNameForColumn=function(e,c,h){if(h===void 0&&(h=!1),!e)return null;var g=this.getHeaderName(e.getColDef(),e,null,null,c);return h?this.wrapHeaderNameWithAggFunc(e,g):g},o.prototype.getDisplayNameForProvidedColumnGroup=function(e,c,h){var g=c?c.getColGroupDef():null;return g?this.getHeaderName(g,null,e,c,h):null},o.prototype.getDisplayNameForColumnGroup=function(e,c){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),c)},o.prototype.getHeaderName=function(e,c,h,g,b){var $=e.headerValueGetter;if($){var j={colDef:e,column:c,columnGroup:h,providedColumnGroup:g,location:b,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return typeof $=="function"?$(j):typeof $=="string"?this.expressionService.evaluate($,j):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return camelCaseToHumanText(e.field)}return""},o.prototype.wrapHeaderNameWithAggFunc=function(e,c){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return c;var h=e.getColDef().pivotValueColumn,g=exists(h),b=null,$;if(g){var j=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&this.valueColumns.length===1,rt=e.getColDef().pivotTotalColumnIds!==void 0;if(j&&!rt)return c;b=h?h.getAggFunc():null,$=!0}else{var nt=e.isValueActive(),pt=this.pivotMode||!this.isRowGroupEmpty();nt&&pt?(b=e.getAggFunc(),$=!0):$=!1}if($){var wt=typeof b=="string"?b:"func",Dt=this.gridOptionsWrapper.getLocaleTextFunc(),Lt=Dt(wt,wt);return Lt+"("+c+")"}return c},o.prototype.getColumnGroup=function(e,c){if(!e)return null;if(e instanceof ColumnGroup)return e;var h=this.getAllDisplayedTrees(),g=typeof c=="number",b=null;return this.columnUtils.depthFirstAllColumnTreeSearch(h,function($){if($ instanceof ColumnGroup){var j=$,rt=void 0;g?rt=e===j.getGroupId()&&c===j.getInstanceId():rt=e===j.getGroupId(),rt&&(b=j)}}),b},o.prototype.isReady=function(){return this.ready},o.prototype.extractValueColumns=function(e,c){this.valueColumns=this.extractColumns(c,this.valueColumns,function(h,g){return h.setValueActive(g,e)},function(){},function(){},function(h){var g=h.aggFunc;if(g===null||g==="")return null;if(g!==void 0)return!!g},function(h){return h.initialAggFunc!=null&&h.initialAggFunc!=""}),this.valueColumns.forEach(function(h){var g=h.getColDef();g.aggFunc!=null&&g.aggFunc!=""?h.setAggFunc(g.aggFunc):h.getAggFunc()||h.setAggFunc(g.initialAggFunc)})},o.prototype.extractRowGroupColumns=function(e,c){this.rowGroupColumns=this.extractColumns(c,this.rowGroupColumns,function(h,g){return h.setRowGroupActive(g,e)},function(h){return h.rowGroupIndex},function(h){return h.initialRowGroupIndex},function(h){return h.rowGroup},function(h){return h.initialRowGroup})},o.prototype.extractColumns=function(e,c,h,g,b,$,j){e===void 0&&(e=[]),c===void 0&&(c=[]);var rt=[],nt=[];(this.primaryColumns||[]).forEach(function(Dt){var Lt=e.indexOf(Dt)<0,it=Dt.getColDef(),st=attrToBoolean($(it)),bt=attrToBoolean(j(it)),gt=attrToNumber(g(it)),Et=attrToNumber(b(it)),ot,_t=st!==void 0,Mt=gt!==void 0,Bt=bt!==void 0,It=Et!==void 0;if(_t?ot=st:Mt?gt===null?ot=!1:ot=gt>=0:Lt?Bt?ot=bt:It?ot=Et!=null&&Et>=0:ot=!1:ot=c.indexOf(Dt)>=0,ot){var jt=Lt?gt!=null||Et!=null:gt!=null;jt?rt.push(Dt):nt.push(Dt)}});var pt=function(Dt){var Lt=g(Dt.getColDef()),it=b(Dt.getColDef());return Lt??it};rt.sort(function(Dt,Lt){var it=pt(Dt),st=pt(Lt);return it===st?0:it<st?-1:1});var wt=[].concat(rt);return c.forEach(function(Dt){nt.indexOf(Dt)>=0&&wt.push(Dt)}),nt.forEach(function(Dt){wt.indexOf(Dt)<0&&wt.push(Dt)}),c.forEach(function(Dt){wt.indexOf(Dt)<0&&h(Dt,!1)}),wt.forEach(function(Dt){c.indexOf(Dt)<0&&h(Dt,!0)}),wt},o.prototype.extractPivotColumns=function(e,c){this.pivotColumns=this.extractColumns(c,this.pivotColumns,function(h,g){return h.setPivotActive(g,e)},function(h){return h.pivotIndex},function(h){return h.initialPivotIndex},function(h){return h.pivot},function(h){return h.initialPivot})},o.prototype.resetColumnGroupState=function(e){e===void 0&&(e="api");var c=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(h){if(h instanceof ProvidedColumnGroup){var g=h.getColGroupDef(),b={groupId:h.getGroupId(),open:g?g.openByDefault:void 0};c.push(b)}}),this.setColumnGroupState(c,e)},o.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){c instanceof ProvidedColumnGroup&&e.push({groupId:c.getGroupId(),open:c.isExpanded()})}),e},o.prototype.setColumnGroupState=function(e,c){var h=this;c===void 0&&(c="api"),this.columnAnimationService.start();var g=[];e.forEach(function(b){var $=b.groupId,j=b.open,rt=h.getProvidedColumnGroup($);rt&&rt.isExpanded()!==j&&(h.logger.log("columnGroupOpened("+rt.getGroupId()+","+j+")"),rt.setExpanded(j),g.push(rt))}),this.updateGroupsAndDisplayedColumns(c),this.setFirstRightAndLastLeftPinned(c),g.forEach(function(b){var $={type:Events.EVENT_COLUMN_GROUP_OPENED,columnGroup:b};h.eventService.dispatchEvent($)}),this.columnAnimationService.finish()},o.prototype.setColumnGroupOpened=function(e,c,h){h===void 0&&(h="api");var g;e instanceof ProvidedColumnGroup?g=e.getId():g=e||"",this.setColumnGroupState([{groupId:g,open:c}],h)},o.prototype.getProvidedColumnGroup=function(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");var c=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(h){h instanceof ProvidedColumnGroup&&h.getId()===e&&(c=h)}),c},o.prototype.calculateColumnsForDisplay=function(){var e=this,c;return this.pivotMode&&missing(this.secondaryColumns)?c=this.gridColumns.filter(function(h){var g=e.groupAutoColumns&&includes(e.groupAutoColumns,h),b=e.valueColumns&&includes(e.valueColumns,h);return g||b}):c=this.gridColumns.filter(function(h){var g=e.groupAutoColumns&&includes(e.groupAutoColumns,h);return g||h.isVisible()}),c},o.prototype.checkColSpanActiveInCols=function(e){var c=!1;return e.forEach(function(h){exists(h.getColDef().colSpan)&&(c=!0)}),c},o.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var c=function(h){var g=h.getColDef(),b=g.showRowGroup;g&&exists(b)&&(e.groupDisplayColumns.push(h),typeof b=="string"?e.groupDisplayColumnsMap[b]=h:b===!0&&e.getRowGroupColumns().forEach(function($){e.groupDisplayColumnsMap[$.getId()]=h}))};this.gridColumns.forEach(c),this.groupAutoColumns&&this.groupAutoColumns.forEach(c)},o.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},o.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},o.prototype.updateDisplayedColumns=function(e){var c=this.calculateColumnsForDisplay();this.buildDisplayedTrees(c),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},o.prototype.isSecondaryColumnsPresent=function(){return exists(this.secondaryColumns)},o.prototype.setSecondaryColumns=function(e,c){var h=this;c===void 0&&(c="api");var g=e&&e.length>0;if(!(!g&&missing(this.secondaryColumns))){if(g){this.processSecondaryColumnDefinitions(e);var b=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=b.columnTree,this.secondaryHeaderRowCount=b.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function($){return h.secondaryColumnsMap[$.getId()]=$}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(c)}},o.prototype.processSecondaryColumnDefinitions=function(e){var c=this.gridOptionsWrapper.getProcessPivotResultColDefFunc(),h=this.gridOptionsWrapper.getProcessPivotResultColGroupDefFunc();if(!(!c&&!h)){var g=function(b){b.forEach(function($){var j=exists($.children);if(j){var rt=$;h&&h(rt),g(rt.children)}else{var nt=$;c&&c(nt)}})};e&&g(e)}},o.prototype.updateGridColumns=function(){var e=this,c=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var h=void 0;if(this.secondaryColumns&&this.secondaryBalancedTree){var g=this.secondaryColumns.every(function(rt){return e.gridColumnsMap[rt.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,g&&(h=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,h=this.lastPrimaryOrder);var b=this.createGroupAutoColumnsIfNeeded();if(b&&h){var $=convertToMap(this.groupAutoColumns.map(function(rt){return[rt,!0]}));h=h.filter(function(rt){return!$.has(rt)}),h=__spread$f(this.groupAutoColumns,h)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(h),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(rt){return e.gridColumnsMap[rt.getId()]=rt}),this.setAutoHeightActive(),!areEqual(c,this.gridBalancedTree)){var j={type:Events.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(j)}},o.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(g){return g.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType(),c=e===Constants.ROW_MODEL_TYPE_CLIENT_SIDE||e===Constants.ROW_MODEL_TYPE_SERVER_SIDE;if(!c){var h="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";doOnce(function(){return console.warn(h)},"autoHeightActive.wrongRowModel")}}},o.prototype.orderGridColsLike=function(e){if(!missing(e)){var c=convertToMap(e.map(function(nt,pt){return[nt,pt]})),h=!0;if(this.gridColumns.forEach(function(nt){c.has(nt)&&(h=!1)}),!h){var g=convertToMap(this.gridColumns.map(function(nt){return[nt,!0]})),b=e.filter(function(nt){return g.has(nt)}),$=convertToMap(b.map(function(nt){return[nt,!0]})),j=this.gridColumns.filter(function(nt){return!$.has(nt)}),rt=b.slice();j.forEach(function(nt){var pt=nt.getOriginalParent();if(!pt){rt.push(nt);return}for(var wt=[];!wt.length&&pt;){var Dt=pt.getLeafColumns();Dt.forEach(function(st){var bt=rt.indexOf(st)>=0,gt=wt.indexOf(st)<0;bt&&gt&&wt.push(st)}),pt=pt.getOriginalParent()}if(!wt.length){rt.push(nt);return}var Lt=wt.map(function(st){return rt.indexOf(st)}),it=Math.max.apply(Math,__spread$f(Lt));insertIntoArray(rt,nt,it+1)}),this.gridColumns=rt}}},o.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},o.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},o.prototype.placeLockedColumns=function(e){var c=[],h=[],g=[];return e.forEach(function(b){var $=b.getColDef().lockPosition;$==="right"?g.push(b):$==="left"||$===!0?c.push(b):h.push(b)}),__spread$f(c,h,g)},o.prototype.addAutoGroupToGridColumns=function(){if(!missing(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},o.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},o.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var c={type:Events.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(c)},o.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(c){return c.isAutoHeight()})},o.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},o.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},o.prototype.joinDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},o.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},o.prototype.setLeftValuesOfColumns=function(e){var c=this;if(this.primaryColumns){var h=this.primaryColumns.slice(0),g=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(b){if(g){var $=c.getWidthOfColsInList(b);b.forEach(function(rt){$-=rt.getActualWidth(),rt.setLeft($,e)})}else{var j=0;b.forEach(function(rt){rt.setLeft(j,e),j+=rt.getActualWidth()})}removeAllFromArray(h,b)}),h.forEach(function(b){b.setLeft(null,e)})}},o.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(c){if(c instanceof ColumnGroup){var h=c;h.checkLeft()}})})},o.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,c){c.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(h){h instanceof Column&&c.push(h)})},o.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},o.prototype.getVirtualHeaderGroupRow=function(e,c){var h;switch(e){case Constants.PINNED_LEFT:h=this.viewportRowLeft[c];break;case Constants.PINNED_RIGHT:h=this.viewportRowRight[c];break;default:h=this.viewportRowCenter[c];break}return missing(h)&&(h=[]),h},o.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(h){return e[h.getId()]=!0});var c=function(h,g,b){for(var $=!1,j=0;j<h.length;j++){var rt=h[j],nt=!1;if(rt instanceof Column)nt=e[rt.getId()]===!0;else{var pt=rt,wt=pt.getDisplayedChildren();wt&&(nt=c(wt,g,b+1))}nt&&($=!0,g[b]||(g[b]=[]),g[b].push(rt))}return $};c(this.displayedTreeLeft,this.viewportRowLeft,0),c(this.displayedTreeRight,this.viewportRowRight,0),c(this.displayedTreeCentre,this.viewportRowCenter,0)},o.prototype.extractViewport=function(){var e=function(g){return g.getId()+"-"+(g.getPinned()||"normal")};this.extractViewportColumns();var c=this.viewportColumns.map(e).join("#"),h=this.viewportColumnsHash!==c;return h&&(this.viewportColumnsHash=c,this.calculateHeaderRows()),h},o.prototype.refreshFlexedColumns=function(e){var c=this;e===void 0&&(e={});var h=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var g=-1;e.resizingCols&&e.resizingCols.forEach(function(ot){var _t=c.displayedColumnsCenter.indexOf(ot);g<_t&&(g=_t)});var b=function(ot){var _t=c.displayedColumnsCenter.indexOf(ot)>g;return ot.getFlex()&&_t},$=this.displayedColumnsCenter.filter(function(ot){return!b(ot)}),j=this.displayedColumnsCenter.filter(function(ot){return b(ot)}),rt=[];if(!j.length)return[];var nt=[],pt;e:for(;;){var wt=j.reduce(function(ot,_t){return ot+_t.getFlex()},0);pt=this.flexViewportWidth-this.getWidthOfColsInList($);for(var Dt=0;Dt<j.length;Dt++){var Lt=j[Dt],it=pt*Lt.getFlex()/wt,st=0,bt=Lt.getMinWidth(),gt=Lt.getMaxWidth();if(exists(bt)&&it<bt?st=bt:exists(gt)&&it>gt&&(st=gt),st){Lt.setActualWidth(st,h),removeFromArray(j,Lt),rt.push(Lt),$.push(Lt);continue e}nt[Dt]=Math.round(it)}break}var Et=pt;return j.forEach(function(ot,_t){ot.setActualWidth(Math.min(nt[_t],Et),h),rt.push(ot),Et-=nt[_t]}),e.skipSetLeft||this.setLeftValues(h),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(rt,!0,h,j),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),j},o.prototype.sizeColumnsToFit=function(e,c,h,g){c===void 0&&(c="sizeColumnsToFit");var b,$,j,rt,nt,pt,wt,Dt,Lt,it,st,bt={};g&&(($=(b=g)===null||b===void 0?void 0:b.columnLimits)===null||$===void 0||$.forEach(function(Or){var In=Or.key,Nn=__rest$2(Or,["key"]);bt[typeof In=="string"?In:In.getColId()]=Nn}));var gt=this.getAllDisplayedColumns(),Et=e===this.getWidthOfColsInList(gt);if(!(e<=0||!gt.length||Et)){var ot=[],_t=[];gt.forEach(function(Or){Or.getColDef().suppressSizeToFit===!0?_t.push(Or):ot.push(Or)});var Mt=ot.slice(0),Bt=!1,It=function(Or){removeFromArray(ot,Or),_t.push(Or)};for(ot.forEach(function(Or){return Or.resetActualWidth(c)});!Bt;){Bt=!0;var jt=e-this.getWidthOfColsInList(_t);if(jt<=0)ot.forEach(function(Or){var In,Nn,Hn,Bn,qn=(Hn=(Nn=(In=bt)===null||In===void 0?void 0:In[Or.getId()])===null||Nn===void 0?void 0:Nn.minWidth,Hn??((Bn=g)===null||Bn===void 0?void 0:Bn.defaultMinWidth));if(typeof qn=="number"){Or.setActualWidth(qn);return}Or.setMinimum(c)});else for(var tr=jt/this.getWidthOfColsInList(ot),gr=jt,vr=ot.length-1;vr>=0;vr--){var hr=ot[vr],mr=(j=bt)===null||j===void 0?void 0:j[hr.getId()],Er=(nt=(rt=mr)===null||rt===void 0?void 0:rt.minWidth,nt??((pt=g)===null||pt===void 0?void 0:pt.defaultMinWidth)),Rr=(Dt=(wt=mr)===null||wt===void 0?void 0:wt.maxWidth,Dt??((Lt=g)===null||Lt===void 0?void 0:Lt.defaultMaxWidth)),Cr=(it=hr.getMinWidth(),it??0),wr=(st=hr.getMaxWidth(),st??Number.MAX_VALUE),Sr=typeof Er=="number"&&Er>Cr?Er:hr.getMinWidth(),br=typeof Rr=="number"&&Rr<wr?Rr:hr.getMaxWidth(),xr=Math.round(hr.getActualWidth()*tr);exists(Sr)&&xr<Sr?(xr=Sr,It(hr),Bt=!1):exists(br)&&xr>br?(xr=br,It(hr),Bt=!1):vr===0&&(xr=gr),hr.setActualWidth(xr,c,!0),gr-=xr}}Mt.forEach(function(Or){Or.fireColumnWidthChangedEvent(c)}),this.setLeftValues(c),this.updateBodyWidths(),!h&&this.fireColumnResizedEvent(Mt,!0,c)}},o.prototype.buildDisplayedTrees=function(e){var c=[],h=[],g=[];e.forEach(function($){switch($.getPinned()){case"left":c.push($);break;case"right":h.push($);break;default:g.push($);break}});var b=new GroupInstanceIdCreator;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,b,Constants.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(h,this.gridBalancedTree,b,Constants.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(g,this.gridBalancedTree,b,null,this.displayedTreeCentre),this.updateDisplayedMap()},o.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var c=function(h){e.displayedColumnsAndGroupsMap[h.getUniqueId()]=h};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,c),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,c),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,c)},o.prototype.isDisplayed=function(e){var c=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return c===e},o.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(c){if(c instanceof ColumnGroup){var h=c;h.calculateDisplayedColumns()}})},o.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},o.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),c=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn(),h=this.rowGroupColumns.length>0||this.usingTreeData,g=h&&!c&&!e;if(g){var b=this.groupAutoColumns||[],$=this.autoGroupColService.createAutoGroupColumns(b,this.rowGroupColumns),j=!this.autoColsEqual($,this.groupAutoColumns);if(j||this.forceRecreateAutoGroups)return this.groupAutoColumns=$,!0}else this.groupAutoColumns=null;return!1},o.prototype.autoColsEqual=function(e,c){return areEqual(e,c,function(h,g){return h.getColId()===g.getColId()})},o.prototype.getWidthOfColsInList=function(e){return e.reduce(function(c,h){return c+h.getActualWidth()},0)},o.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},o.prototype.hasFloatingFilters=function(){if(!this.gridColumns)return!1;var e=this.gridColumns.some(function(c){return c.getColDef().floatingFilter});return e},o.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),c=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&c.reverse();for(var h=0;h<c.length;h++){var g=this[c[h]]();if(g.length)return e?last(g):g[0]}return null},o.prototype.setColumnHeaderHeight=function(e,c){var h=e.setAutoHeaderHeight(c);if(h){var g={type:Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(g)}},o.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.gridOptionsWrapper.getPivotGroupHeaderHeight():this.gridOptionsWrapper.getGroupHeaderHeight()},o.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.gridOptionsWrapper.getPivotHeaderHeight():this.gridOptionsWrapper.getHeaderHeight(),c=this.getAllDisplayedColumns().filter(function(h){return h.isAutoHeaderHeight()}).map(function(h){return h.getAutoHeaderHeight()||0});return Math.max.apply(Math,__spread$f([e],c))},__decorate$2u([Autowired("expressionService")],o.prototype,"expressionService",void 0),__decorate$2u([Autowired("columnFactory")],o.prototype,"columnFactory",void 0),__decorate$2u([Autowired("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),__decorate$2u([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$2u([Autowired("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),__decorate$2u([Autowired("columnUtils")],o.prototype,"columnUtils",void 0),__decorate$2u([Autowired("columnAnimationService")],o.prototype,"columnAnimationService",void 0),__decorate$2u([Autowired("autoGroupColService")],o.prototype,"autoGroupColService",void 0),__decorate$2u([Optional("aggFuncService")],o.prototype,"aggFuncService",void 0),__decorate$2u([Optional("valueCache")],o.prototype,"valueCache",void 0),__decorate$2u([Optional("animationFrameService")],o.prototype,"animationFrameService",void 0),__decorate$2u([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$2u([Autowired("sortController")],o.prototype,"sortController",void 0),__decorate$2u([Autowired("columnDefFactory")],o.prototype,"columnDefFactory",void 0),__decorate$2u([PostConstruct],o.prototype,"init",null),__decorate$2u([__param$7(0,Qualifier("loggerFactory"))],o.prototype,"setBeans",null),o=__decorate$2u([Bean("columnModel")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2S=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2t=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ColumnUtils=function(a){__extends$2S(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.calculateColMinWidth=function(e){return e.minWidth!=null?e.minWidth:this.gridOptionsWrapper.getMinColWidth()},o.prototype.calculateColMaxWidth=function(e){return e.maxWidth!=null?e.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},o.prototype.calculateColInitialWidth=function(e){var c=this.calculateColMinWidth(e),h=this.calculateColMaxWidth(e),g,b=attrToNumber(e.width),$=attrToNumber(e.initialWidth);return b!=null?g=b:$!=null?g=$:g=this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(g,h),c)},o.prototype.getOriginalPathForColumn=function(e,c){var h=[],g=!1,b=function($,j){for(var rt=0;rt<$.length;rt++){if(g)return;var nt=$[rt];if(nt instanceof ProvidedColumnGroup){var pt=nt;b(pt.getChildren(),j+1),h[j]=nt}else nt===e&&(g=!0)}};return b(c,0),g?h:null},o.prototype.depthFirstOriginalTreeSearch=function(e,c,h){var g=this;c&&c.forEach(function(b){b instanceof ProvidedColumnGroup&&g.depthFirstOriginalTreeSearch(b,b.getChildren(),h),h(b,e)})},o.prototype.depthFirstAllColumnTreeSearch=function(e,c){var h=this;e&&e.forEach(function(g){g instanceof ColumnGroup&&h.depthFirstAllColumnTreeSearch(g.getChildren(),c),c(g)})},o.prototype.depthFirstDisplayedColumnTreeSearch=function(e,c){var h=this;e&&e.forEach(function(g){g instanceof ColumnGroup&&h.depthFirstDisplayedColumnTreeSearch(g.getDisplayedChildren(),c),c(g)})},o=__decorate$2t([Bean("columnUtils")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2R=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2s=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DisplayedGroupCreator=function(a){__extends$2R(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.createDisplayedGroups=function(e,c,h,g,b){var $=this,j=[],rt,nt,pt=this.mapOldGroupsById(b);return e.forEach(function(wt){for(var Dt=$.getOriginalPathForColumn(c,wt),Lt=[],it=!nt,st=0;st<Dt.length;st++)if(it||Dt[st]!==nt[st]){var bt=$.createColumnGroup(Dt[st],h,pt,g);Lt[st]=bt,st==0?j.push(bt):Lt[st-1].addChild(bt)}else Lt[st]=rt[st];var gt=Lt.length===0;if(gt)j.push(wt);else{var Et=last(Lt);Et.addChild(wt)}rt=Lt,nt=Dt}),this.setupParentsIntoColumns(j,null),j},o.prototype.createColumnGroup=function(e,c,h,g){var b=e.getGroupId(),$=c.getInstanceIdForKey(b),j=ColumnGroup.createUniqueId(b,$),rt=h[j];return rt&&rt.getProvidedColumnGroup()!==e&&(rt=null),exists(rt)?rt.reset():(rt=new ColumnGroup(e,b,$,g),this.context.createBean(rt)),rt},o.prototype.mapOldGroupsById=function(e){var c={},h=function(g){g.forEach(function(b){if(b instanceof ColumnGroup){var $=b;c[b.getUniqueId()]=$,h($.getChildren())}})};return e&&h(e),c},o.prototype.setupParentsIntoColumns=function(e,c){var h=this;e.forEach(function(g){if(g.setParent(c),g instanceof ColumnGroup){var b=g;h.setupParentsIntoColumns(b.getChildren(),b)}})},o.prototype.getOriginalPathForColumn=function(e,c){var h=[],g=!1,b=function($,j){for(var rt=0;rt<$.length;rt++){if(g)return;var nt=$[rt];nt instanceof ProvidedColumnGroup?(b(nt.getChildren(),j+1),h[j]=nt):nt===c&&(g=!0)}};return b(e,0),g?h:(console.warn("AG Grid: could not get path"),null)},o=__decorate$2s([Bean("displayedGroupCreator")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2Q=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2r=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgStackComponentsRegistry=function(a){__extends$2Q(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.componentsMappedByName={},e}return o.prototype.setupComponents=function(e){var c=this;e&&e.forEach(function(h){return c.addComponent(h)})},o.prototype.addComponent=function(e){var c=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),h=c.toUpperCase();this.componentsMappedByName[h]=e.componentClass},o.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},o=__decorate$2r([Bean("agStackComponentsRegistry")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$k=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},Color=function(){function a(o,e,c,h){h===void 0&&(h=1),this.r=Math.min(1,Math.max(0,o||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,c||0)),this.a=Math.min(1,Math.max(0,h||0))}return a.fromString=function(o){if(o.indexOf("#")>=0)return a.fromHexString(o);var e=a.nameToHex[o];if(e)return a.fromHexString(e);if(o.indexOf("rgb")>=0)return a.fromRgbaString(o);throw new Error("Invalid color string: '"+o+"'")},a.parseHex=function(o){o=o.replace(/ /g,"").slice(1);var e;switch(o.length){case 6:case 8:e=[];for(var c=0;c<o.length;c+=2)e.push(parseInt(""+o[c]+o[c+1],16));break;case 3:case 4:e=o.split("").map(function(h){return parseInt(h,16)}).map(function(h){return h+h*16});break}if(e.length>=3&&e.every(function(h){return h>=0}))return e.length===3&&e.push(255),e},a.fromHexString=function(o){var e=a.parseHex(o);if(e){var c=__read$k(e,4),h=c[0],g=c[1],b=c[2],$=c[3];return new a(h/255,g/255,b/255,$/255)}throw new Error("Malformed hexadecimal color string: '"+o+"'")},a.stringToRgba=function(o){for(var e=__read$k([NaN,NaN],2),c=e[0],h=e[1],g=0;g<o.length;g++){var b=o[g];if(!c&&b==="(")c=g;else if(b===")"){h=g;break}}var $=c&&h&&o.substring(c+1,h);if($){for(var j=$.split(","),rt=[],g=0;g<j.length;g++){var nt=j[g],pt=parseFloat(nt);if(isNaN(pt))return;nt.indexOf("%")>=0?(pt=Math.max(0,Math.min(100,pt)),pt/=100):g===3?pt=Math.max(0,Math.min(1,pt)):(pt=Math.max(0,Math.min(255,pt)),pt/=255),rt.push(pt)}return rt}},a.fromRgbaString=function(o){var e=a.stringToRgba(o);if(e){if(e.length===3)return new a(e[0],e[1],e[2]);if(e.length===4)return new a(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+o+"'")},a.fromArray=function(o){if(o.length===4)return new a(o[0],o[1],o[2],o[3]);if(o.length===3)return new a(o[0],o[1],o[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},a.fromHSB=function(o,e,c,h){h===void 0&&(h=1);var g=a.HSBtoRGB(o,e,c);return new a(g[0],g[1],g[2],h)},a.padHex=function(o){return o.length===1?"0"+o:o},a.prototype.toHexString=function(){var o="#"+a.padHex(Math.round(this.r*255).toString(16))+a.padHex(Math.round(this.g*255).toString(16))+a.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(o+=a.padHex(Math.round(this.a*255).toString(16))),o},a.prototype.toRgbaString=function(o){o===void 0&&(o=3);var e=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],c=Math.pow(10,o);return this.a!==1?(e.push(Math.round(this.a*c)/c),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},a.prototype.toString=function(){return this.a===1?this.toHexString():this.toRgbaString()},a.prototype.toHSB=function(){return a.RGBtoHSB(this.r,this.g,this.b)},a.RGBtoHSB=function(o,e,c){var h=Math.min(o,e,c),g=Math.max(o,e,c),b=g!==0?(g-h)/g:0,$=NaN;if(h!==g){var j=g-h,rt=(g-o)/j,nt=(g-e)/j,pt=(g-c)/j;o===g?$=pt-nt:e===g?$=2+rt-pt:$=4+nt-rt,$/=6,$<0&&($=$+1)}return[$*360,b,g]},a.HSBtoRGB=function(o,e,c){isNaN(o)&&(o=0),o=(o%360+360)%360/360;var h=0,g=0,b=0;if(e===0)h=g=b=c;else{var $=(o-Math.floor(o))*6,j=$-Math.floor($),rt=c*(1-e),nt=c*(1-e*j),pt=c*(1-e*(1-j));switch($>>0){case 0:h=c,g=pt,b=rt;break;case 1:h=nt,g=c,b=rt;break;case 2:h=rt,g=c,b=pt;break;case 3:h=rt,g=nt,b=c;break;case 4:h=pt,g=rt,b=c;break;case 5:h=c,g=rt,b=nt;break}}return[h,g,b]},a.prototype.derive=function(o,e,c,h){var g=a.RGBtoHSB(this.r,this.g,this.b),b=g[2];b==0&&c>1&&(b=.05);var $=((g[0]+o)%360+360)%360,j=Math.max(Math.min(g[1]*e,1),0);b=Math.max(Math.min(b*c,1),0);var rt=Math.max(Math.min(this.a*h,1),0),nt=a.HSBtoRGB($,j,b);return nt.push(rt),a.fromArray(nt)},a.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},a.prototype.darker=function(){return this.derive(0,1,.7,1)},a.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function stringToArray(a,o){o===void 0&&(o=",");var e=[],c=function(wt){return wt==="\r"||wt===`
`},h=!1;if(a==="")return[[""]];for(var g=function(wt,Dt,Lt){var it=a[Lt-1],st=a[Lt],bt=a[Lt+1],gt=function(){e[wt]||(e[wt]=[]),e[wt][Dt]||(e[wt][Dt]="")};if(gt(),st==='"'){if(h)return bt==='"'?(e[wt][Dt]+='"',Lt++):h=!1,b=wt,$=Dt,j=Lt,"continue";if(it===void 0||it===o||c(it))return h=!0,b=wt,$=Dt,j=Lt,"continue"}if(!h){if(st===o)return Dt++,gt(),b=wt,$=Dt,j=Lt,"continue";if(c(st))return Dt=0,wt++,gt(),st==="\r"&&bt===`
`&&Lt++,b=wt,$=Dt,j=Lt,"continue"}e[wt][Dt]+=st,b=wt,$=Dt,j=Lt},b,$,j,rt=0,nt=0,pt=0;pt<a.length;pt++)g(rt,nt,pt),rt=b,nt=$,pt=j;return e}var CsvUtils=Object.freeze({__proto__:null,stringToArray});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var rtlNegativeScroll;function radioCssClass(a,o,e){for(var c=a.parentElement,h=c&&c.firstChild;h;)o&&h.classList.toggle(o,h===a),e&&h.classList.toggle(e,h!==a),h=h.nextSibling}function isFocusableFormField(a){var o=Element.prototype.matches||Element.prototype.msMatchesSelector,e=o.call(a,Constants.INPUT_SELECTOR),c=o.call(a,Constants.FOCUSABLE_EXCLUDE),h=isVisible(a),g=e&&!c&&h;return g}function setDisplayed(a,o){a.classList.toggle("ag-hidden",!o)}function setVisible(a,o){a.classList.toggle("ag-invisible",!o)}function setDisabled(a,o){var e="disabled",c=o?function(h){return h.setAttribute(e,"")}:function(h){return h.removeAttribute(e)};c(a),nodeListForEach(a.querySelectorAll("input"),function(h){return c(h)})}function isElementChildOfClass(a,o,e){for(var c=0;a;){if(a.classList.contains(o))return!0;if(a=a.parentElement,typeof e=="number"){if(++c>e)break}else if(a===e)break}return!1}function getElementSize(a){var o=window.getComputedStyle(a),e=o.height,c=o.width,h=o.paddingTop,g=o.paddingRight,b=o.paddingBottom,$=o.paddingLeft,j=o.marginTop,rt=o.marginRight,nt=o.marginBottom,pt=o.marginLeft,wt=o.boxSizing;return{height:parseFloat(e),width:parseFloat(c),paddingTop:parseFloat(h),paddingRight:parseFloat(g),paddingBottom:parseFloat(b),paddingLeft:parseFloat($),marginTop:parseFloat(j),marginRight:parseFloat(rt),marginBottom:parseFloat(nt),marginLeft:parseFloat(pt),boxSizing:wt}}function getInnerHeight(a){var o=getElementSize(a);return o.boxSizing==="border-box"?o.height-o.paddingTop-o.paddingBottom:o.height}function getInnerWidth(a){var o=getElementSize(a);return o.boxSizing==="border-box"?o.width-o.paddingLeft-o.paddingRight:o.width}function getAbsoluteHeight(a){var o=getElementSize(a),e=o.marginBottom+o.marginTop;return Math.ceil(a.offsetHeight+e)}function getAbsoluteWidth(a){var o=getElementSize(a),e=o.marginLeft+o.marginRight;return Math.ceil(a.offsetWidth+e)}function isRtlNegativeScroll(){if(typeof rtlNegativeScroll=="boolean")return rtlNegativeScroll;var a=document.createElement("div");return a.style.direction="rtl",a.style.width="1px",a.style.height="1px",a.style.position="fixed",a.style.top="0px",a.style.overflow="hidden",a.dir="rtl",a.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(a),a.scrollLeft=1,rtlNegativeScroll=Math.floor(a.scrollLeft)===0,document.body.removeChild(a),rtlNegativeScroll}function getScrollLeft(a,o){var e=a.scrollLeft;return o&&(e=Math.abs(e),isBrowserChrome()&&!isRtlNegativeScroll()&&(e=a.scrollWidth-a.clientWidth-e)),e}function setScrollLeft(a,o,e){e&&(isRtlNegativeScroll()?o*=-1:(isBrowserSafari()||isBrowserChrome())&&(o=a.scrollWidth-a.clientWidth-o)),a.scrollLeft=o}function clearElement(a){for(;a&&a.firstChild;)a.removeChild(a.firstChild)}function removeElement(a,o){removeFromParent(a.querySelector(o))}function removeFromParent(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function isVisible(a){return a.offsetParent!==null}function loadTemplate(a){var o=document.createElement("div");return o.innerHTML=(a||"").trim(),o.firstChild}function appendHtml(a,o){a.lastChild?a.insertAdjacentHTML("afterbegin",o):a.innerHTML=o}function getElementAttribute(a,o){if(a.attributes&&a.attributes[o]){var e=a.attributes[o];return e.value}return null}function offsetHeight(a){return a&&a.clientHeight?a.clientHeight:0}function offsetWidth(a){return a&&a.clientWidth?a.clientWidth:0}function ensureDomOrder(a,o,e){if(!(e&&e.nextSibling===o)){var c=document.activeElement,h=o.contains(c);e?e.nextSibling?a.insertBefore(o,e.nextSibling):a.appendChild(o):a.firstChild&&a.firstChild!==o&&a.insertAdjacentElement("afterbegin",o),h&&c&&browserSupportsPreventScroll()&&c.focus({preventScroll:!0})}}function setDomChildOrder(a,o){for(var e=0;e<o.length;e++){var c=o[e],h=a.children[e];h!==c&&a.insertBefore(c,h)}}function insertWithDomOrder(a,o,e){e?e.insertAdjacentElement("afterend",o):a.firstChild?a.insertAdjacentElement("afterbegin",o):a.appendChild(o)}function prependDC(a,o){exists(a.firstChild)?a.insertBefore(o,a.firstChild):a.appendChild(o)}function addStylesToElement(a,o){o&&Object.keys(o).forEach(function(e){var c=hyphenToCamelCase(e);c&&(a.style[c]=o[e])})}function isHorizontalScrollShowing(a){return a.clientWidth<a.scrollWidth}function isVerticalScrollShowing(a){return a.clientHeight<a.scrollHeight}function setElementWidth(a,o){o==="flex"?(a.style.removeProperty("width"),a.style.removeProperty("minWidth"),a.style.removeProperty("maxWidth"),a.style.flex="1 1 auto"):setFixedWidth(a,o)}function setFixedWidth(a,o){o=formatSize(o),a.style.width=o.toString(),a.style.maxWidth=o.toString(),a.style.minWidth=o.toString()}function setElementHeight(a,o){o==="flex"?(a.style.removeProperty("height"),a.style.removeProperty("minHeight"),a.style.removeProperty("maxHeight"),a.style.flex="1 1 auto"):setFixedHeight(a,o)}function setFixedHeight(a,o){o=formatSize(o),a.style.height=o.toString(),a.style.maxHeight=o.toString(),a.style.minHeight=o.toString()}function formatSize(a){return typeof a=="number"?a+"px":a}function isNode(a){return typeof Node=="function"?a instanceof Node:a&&typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.nodeName=="string"}function isElement(a){return typeof HTMLElement=="function"?a instanceof HTMLElement:a&&isNonNullObject(a)&&a.nodeType===1&&typeof a.nodeName=="string"}function isNodeOrElement(a){return isNode(a)||isElement(a)}function copyNodeList(a){if(a==null)return[];var o=[];return nodeListForEach(a,function(e){return o.push(e)}),o}function iterateNamedNodeMap(a,o){if(a)for(var e=0;e<a.length;e++){var c=a[e];o(c.name,c.value)}}function setCheckboxState(a,o){typeof o=="boolean"?(a.checked=o,a.indeterminate=!1):a.indeterminate=!0}function addOrRemoveAttribute(a,o,e){e==null?a.removeAttribute(o):a.setAttribute(o,e.toString())}function nodeListForEach(a,o){if(a!=null)for(var e=0;e<a.length;e++)o(a[e])}var DomUtils=Object.freeze({__proto__:null,radioCssClass,isFocusableFormField,setDisplayed,setVisible,setDisabled,isElementChildOfClass,getElementSize,getInnerHeight,getInnerWidth,getAbsoluteHeight,getAbsoluteWidth,isRtlNegativeScroll,getScrollLeft,setScrollLeft,clearElement,removeElement,removeFromParent,isVisible,loadTemplate,appendHtml,getElementAttribute,offsetHeight,offsetWidth,ensureDomOrder,setDomChildOrder,insertWithDomOrder,prependDC,addStylesToElement,isHorizontalScrollShowing,isVerticalScrollShowing,setElementWidth,setFixedWidth,setElementHeight,setFixedHeight,formatSize,isNode,isElement,isNodeOrElement,copyNodeList,iterateNamedNodeMap,setCheckboxState,addOrRemoveAttribute,nodeListForEach});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function getNameOfClass(a){var o=/function (.{1,})\(/,e=a.toString(),c=o.exec(e);return c&&c.length>1?c[1]:""}function findLineByLeastSquares(a){var o=a.length,e=0;if(o<=1)return a;for(var c=0;c<a.length;c++){var h=a[c],g=h.toString().split("e-");if(g.length>1){e=Math.max(e,parseInt(g[1],10));continue}Math.floor(h)!==h&&(e=Math.max(e,h.toString().split(".")[1].length))}for(var b=0,$=0,j=0,rt=0,nt=0,pt=0;pt<o;pt++)nt=a[pt],b+=pt,$+=nt,rt+=pt*pt,j+=pt*nt;for(var wt=(o*j-b*$)/(o*rt-b*b),Dt=$/o-wt*b/o,Lt=[],pt=0;pt<=o;pt++)Lt.push(parseFloat((pt*wt+Dt).toFixed(e)));return Lt}function cssStyleObjectToMarkup(a){if(!a)return"";var o=[];return iterateObject(a,function(e,c){var h=camelCaseToHyphen(e);o.push(h+": "+c+";")}),o.join(" ")}function message(a){var o=document.createElement("div"),e=document.querySelector("#__ag__message");if(o.innerHTML=a,!e){var c='<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>';e=loadTemplate(c),document.body&&document.body.appendChild(e)}e.insertBefore(o,e.children[0])}function bindCellRendererToHtmlElement(a,o){a.then(function(e){var c=e.getGui();c!=null&&(typeof c=="object"?o.appendChild(c):o.innerHTML=c)})}var GeneralUtils=Object.freeze({__proto__:null,getNameOfClass,findLineByLeastSquares,cssStyleObjectToMarkup,message,bindCellRendererToHtmlElement});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function setAriaAttribute(a,o,e){a.setAttribute(ariaAttributeName(o),e.toString())}function removeAriaAttribute(a,o){a.removeAttribute(ariaAttributeName(o))}function ariaAttributeName(a){return"aria-"+a}function setAriaRole(a,o){o?a.setAttribute("role",o):a.removeAttribute("role")}function getAriaSortState(a){var o;return a.isSortAscending()?o="ascending":a.isSortDescending()?o="descending":o="none",o}function getAriaLevel(a){return parseInt(a.getAttribute("aria-level"),10)}function getAriaPosInSet(a){return parseInt(a.getAttribute("aria-posinset"),10)}function getAriaDescribedBy(a){return a.getAttribute("aria-describedby")||""}function setAriaLabel(a,o){var e="label";o!=null&&o!==""?setAriaAttribute(a,e,o):removeAriaAttribute(a,e)}function setAriaLabelledBy(a,o){var e="labelledby";o?setAriaAttribute(a,e,o):removeAriaAttribute(a,e)}function setAriaDescription(a,o){var e="description";o?setAriaAttribute(a,e,o):removeAriaAttribute(a,e)}function setAriaDescribedBy(a,o){var e="describedby";o?setAriaAttribute(a,e,o):removeAriaAttribute(a,e)}function setAriaLevel(a,o){setAriaAttribute(a,"level",o)}function setAriaDisabled(a,o){setAriaAttribute(a,"disabled",o)}function setAriaHidden(a,o){o?setAriaAttribute(a,"hidden",!0):removeAriaAttribute(a,"hidden")}function setAriaExpanded(a,o){setAriaAttribute(a,"expanded",o)}function removeAriaExpanded(a){removeAriaAttribute(a,"expanded")}function setAriaSetSize(a,o){setAriaAttribute(a,"setsize",o)}function setAriaPosInSet(a,o){setAriaAttribute(a,"posinset",o)}function setAriaMultiSelectable(a,o){setAriaAttribute(a,"multiselectable",o)}function setAriaRowCount(a,o){setAriaAttribute(a,"rowcount",o)}function setAriaRowIndex(a,o){setAriaAttribute(a,"rowindex",o)}function setAriaColCount(a,o){setAriaAttribute(a,"colcount",o)}function setAriaColIndex(a,o){setAriaAttribute(a,"colindex",o)}function setAriaColSpan(a,o){setAriaAttribute(a,"colspan",o)}function setAriaSort(a,o){setAriaAttribute(a,"sort",o)}function removeAriaSort(a){removeAriaAttribute(a,"sort")}function setAriaSelected(a,o){var e="selected";o?setAriaAttribute(a,e,o):removeAriaAttribute(a,e)}function setAriaChecked(a,o){setAriaAttribute(a,"checked",o===void 0?"mixed":o)}var AriaUtils=Object.freeze({__proto__:null,setAriaRole,getAriaSortState,getAriaLevel,getAriaPosInSet,getAriaDescribedBy,setAriaLabel,setAriaLabelledBy,setAriaDescription,setAriaDescribedBy,setAriaLevel,setAriaDisabled,setAriaHidden,setAriaExpanded,removeAriaExpanded,setAriaSetSize,setAriaPosInSet,setAriaMultiSelectable,setAriaRowCount,setAriaRowIndex,setAriaColCount,setAriaColIndex,setAriaColSpan,setAriaSort,removeAriaSort,setAriaSelected,setAriaChecked});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$j=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g};function serialiseDate(a,o,e){if(o===void 0&&(o=!0),e===void 0&&(e="-"),!a)return null;var c=[a.getFullYear(),a.getMonth()+1,a.getDate()].map(function(h){return padStartWidthZeros(h,2)}).join(e);return o&&(c+=" "+[a.getHours(),a.getMinutes(),a.getSeconds()].map(function(h){return padStartWidthZeros(h,2)}).join(":")),c}var calculateOrdinal=function(a){if(a>3&&a<21)return"th";var o=a%10;switch(o){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function dateToFormattedString(a,o){o===void 0&&(o="YYYY-MM-DD");var e=padStartWidthZeros(a.getFullYear(),4),c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return""+a.getFullYear()},MMMM:function(){return c[a.getMonth()]},MMM:function(){return c[a.getMonth()].slice(0,3)},MM:function(){return padStartWidthZeros(a.getMonth()+1,2)},Mo:function(){return""+(a.getMonth()+1)+calculateOrdinal(a.getMonth()+1)},M:function(){return""+(a.getMonth()+1)},Do:function(){return""+a.getDate()+calculateOrdinal(a.getDate())},DD:function(){return padStartWidthZeros(a.getDate(),2)},D:function(){return""+a.getDate()},dddd:function(){return h[a.getDay()]},ddd:function(){return h[a.getDay()].slice(0,3)},dd:function(){return h[a.getDay()].slice(0,2)},do:function(){return""+a.getDay()+calculateOrdinal(a.getDay())},d:function(){return""+a.getDay()}},b=new RegExp(Object.keys(g).join("|"),"g");return o.replace(b,function($){return $ in g?g[$]():$})}function parseDateTimeFromString(a){if(!a)return null;var o=__read$j(a.split(" "),2),e=o[0],c=o[1];if(!e)return null;var h=e.split("-").map(function(Lt){return parseInt(Lt,10)});if(h.filter(function(Lt){return!isNaN(Lt)}).length!==3)return null;var g=__read$j(h,3),b=g[0],$=g[1],j=g[2],rt=new Date(b,$-1,j);if(rt.getFullYear()!==b||rt.getMonth()!==$-1||rt.getDate()!==j)return null;if(!c||c==="00:00:00")return rt;var nt=__read$j(c.split(":").map(function(Lt){return parseInt(Lt,10)}),3),pt=nt[0],wt=nt[1],Dt=nt[2];return pt>=0&&pt<24&&rt.setHours(pt),wt>=0&&wt<60&&rt.setMinutes(wt),Dt>=0&&Dt<60&&rt.setSeconds(Dt),rt}var DateUtils=Object.freeze({__proto__:null,serialiseDate,dateToFormattedString,parseDateTimeFromString});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function createIcon(a,o,e){var c=createIconNoSpan(a,o,e);if(c&&c.className.indexOf("ag-icon")>-1)return c;var h=document.createElement("span");return h.appendChild(c),h}function createIconNoSpan(a,o,e,c){var h=null,g=e&&e.getColDef().icons;if(g&&(h=g[a]),o&&!h){var b=o.getIcons();b&&(h=b[a])}if(h){var $=void 0;if(typeof h=="function")$=h();else if(typeof h=="string")$=h;else throw new Error("icon from grid options needs to be a string or a function");if(typeof $=="string")return loadTemplate($);if(isNodeOrElement($))return $;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var j=document.createElement("span"),rt=iconNameClassMap[a];return rt||(c?rt=a:(console.warn("AG Grid: Did not find icon "+a),rt="")),j.setAttribute("class","ag-icon ag-icon-"+rt),j.setAttribute("unselectable","on"),setAriaRole(j,"presentation"),j}}var IconUtils=Object.freeze({__proto__:null,iconNameClassMap,createIcon,createIconNoSpan});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var KeyCode=function(){function a(){}return a.BACKSPACE="Backspace",a.TAB="Tab",a.ENTER="Enter",a.ESCAPE="Escape",a.SPACE=" ",a.LEFT="ArrowLeft",a.UP="ArrowUp",a.RIGHT="ArrowRight",a.DOWN="ArrowDown",a.DELETE="Delete",a.F2="F2",a.PAGE_UP="PageUp",a.PAGE_DOWN="PageDown",a.PAGE_HOME="Home",a.PAGE_END="End",a.A="KeyA",a.C="KeyC",a.V="KeyV",a.D="KeyD",a.Z="KeyZ",a.Y="KeyY",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var NUMPAD_DEL_NUMLOCK_ON_KEY="Del",NUMPAD_DEL_NUMLOCK_ON_KEYCODE=46,A_KEYCODE=65,C_KEYCODE=67,V_KEYCODE=86,D_KEYCODE=68,Z_KEYCODE=90,Y_KEYCODE=89;function isEventFromPrintableCharacter(a){if(a.altKey||a.ctrlKey||a.metaKey)return!1;var o=a.key.length===1,e=isNumpadDelWithNumLockOnForEdge(a);return o||e}function isUserSuppressingKeyboardEvent(a,o,e,c,h){var g=a.getSuppressKeyboardEventFunc(),b=c?c.getColDef().suppressKeyboardEvent:void 0;if(!g&&!b)return!1;var $={event:o,editing:h,column:c,api:a.getApi(),node:e,data:e.data,colDef:c.getColDef(),context:a.getContext(),columnApi:a.getColumnApi()};if(b){var j=b($);if(j)return!0}return g?g($):!1}function isUserSuppressingHeaderKeyboardEvent(a,o,e,c){var h=c.getDefinition(),g=h&&h.suppressHeaderKeyboardEvent;if(!exists(g))return!1;var b={api:a.getApi(),columnApi:a.getColumnApi(),context:a.getContext(),colDef:h,column:c,headerRowIndex:e,event:o};return!!g(b)}function isNumpadDelWithNumLockOnForEdge(a){return isBrowserEdge()&&a.key===NUMPAD_DEL_NUMLOCK_ON_KEY&&a.charCode===NUMPAD_DEL_NUMLOCK_ON_KEYCODE}function normaliseQwertyAzerty(a){var o=a.keyCode,e;switch(o){case A_KEYCODE:e=KeyCode.A;break;case C_KEYCODE:e=KeyCode.C;break;case V_KEYCODE:e=KeyCode.V;break;case D_KEYCODE:e=KeyCode.D;break;case Z_KEYCODE:e=KeyCode.Z;break;case Y_KEYCODE:e=KeyCode.Y;break;default:e=a.code}return e}function isDeleteKey(a,o){return o===void 0&&(o=!1),a===KeyCode.DELETE?!0:!o&&a===KeyCode.BACKSPACE?isMacOsUserAgent():!1}var KeyboardUtils=Object.freeze({__proto__:null,isEventFromPrintableCharacter,isUserSuppressingKeyboardEvent,isUserSuppressingHeaderKeyboardEvent,normaliseQwertyAzerty,isDeleteKey});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function areEventsNear(a,o,e){if(e===0)return!1;var c=Math.abs(a.clientX-o.clientX),h=Math.abs(a.clientY-o.clientY);return Math.max(c,h)<=e}var MouseUtils=Object.freeze({__proto__:null,areEventsNear});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function sortRowNodesByOrder(a,o){if(!a)return!1;for(var e=function($,j){var rt=o[$.id],nt=o[j.id],pt=rt!==void 0,wt=nt!==void 0,Dt=pt&&wt,Lt=!pt&&!wt;return Dt?rt-nt:Lt?$.__objectId-j.__objectId:pt?1:-1},c,h,g=!1,b=0;b<a.length-1;b++)if(c=a[b],h=a[b+1],e(c,h)>0){g=!0;break}return g?(a.sort(e),!0):!1}function traverseNodesWithKey(a,o){var e=[];c(a);function c(h){h&&h.forEach(function(g){if(g.group||g.hasChildren()){e.push(g.key);var b=e.join("|");o(g,b),c(g.childrenAfterGroup),e.pop()}})}}var RowNodeUtils=Object.freeze({__proto__:null,sortRowNodesByOrder,traverseNodesWithKey});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function convertToSet(a){var o=new Set;return a.forEach(function(e){return o.add(e)}),o}var SetUtils=Object.freeze({__proto__:null,convertToSet});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$f=function(){return __assign$f=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$f.apply(this,arguments)},utils$1=__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f({},GeneralUtils),AriaUtils),ArrayUtils),BrowserUtils),CsvUtils),DateUtils),DomUtils),EventUtils),FunctionUtils),FuzzyMatchUtils),GenericUtils),IconUtils),KeyboardUtils),MapUtils),MouseUtils),NumberUtils),ObjectUtils),RowNodeUtils),SetUtils),StringUtils),_=utils$1;/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var NumberSequence=function(){function a(o,e){o===void 0&&(o=0),e===void 0&&(e=1),this.nextValue=o,this.step=e}return a.prototype.next=function(){var o=this.nextValue;return this.nextValue+=this.step,o},a.prototype.peek=function(){return this.nextValue},a.prototype.skip=function(o){this.nextValue+=o},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AgPromiseStatus;(function(a){a[a.IN_PROGRESS=0]="IN_PROGRESS",a[a.RESOLVED=1]="RESOLVED"})(AgPromiseStatus||(AgPromiseStatus={}));var AgPromise=function(){function a(o){var e=this;this.status=AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],o(function(c){return e.onDone(c)},function(c){return e.onReject(c)})}return a.all=function(o){return new a(function(e){var c=o.length,h=new Array(c);o.forEach(function(g,b){g.then(function($){h[b]=$,c--,c===0&&e(h)})})})},a.resolve=function(o){return o===void 0&&(o=null),new a(function(e){return e(o)})},a.prototype.then=function(o){var e=this;return new a(function(c){e.status===AgPromiseStatus.RESOLVED?c(o(e.resolution)):e.waiters.push(function(h){return c(o(h))})})},a.prototype.resolveNow=function(o,e){return this.status===AgPromiseStatus.RESOLVED?e(this.resolution):o},a.prototype.onDone=function(o){this.status=AgPromiseStatus.RESOLVED,this.resolution=o,this.waiters.forEach(function(e){return e(o)})},a.prototype.onReject=function(o){console.warn("TBI")},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Timer=function(){function a(){this.timestamp=new Date().getTime()}return a.prototype.print=function(o){var e=new Date().getTime()-this.timestamp;console.info(o+" = "+e),this.timestamp=new Date().getTime()},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2P=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$e=function(){return __assign$e=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$e.apply(this,arguments)},__decorate$2q=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},TooltipStates;(function(a){a[a.NOTHING=0]="NOTHING",a[a.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",a[a.SHOWING=2]="SHOWING"})(TooltipStates||(TooltipStates={}));var CustomTooltipFeature=function(a){__extends$2P(o,a);function o(e){var c=a.call(this)||this;return c.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,c.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,c.SHOW_QUICK_TOOLTIP_DIFF=1e3,c.FADE_OUT_TOOLTIP_TIMEOUT=1e3,c.state=TooltipStates.NOTHING,c.tooltipInstanceCount=0,c.tooltipMouseTrack=!1,c.parentComp=e,c}return o.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},o.prototype.destroy=function(){this.setToDoNothing(),a.prototype.destroy.call(this)},o.prototype.onMouseEnter=function(e){if(!isIOSUserAgent()&&this.state==TooltipStates.NOTHING){var c=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),c),this.lastMouseEvent=e,this.state=TooltipStates.WAITING_TO_SHOW}},o.prototype.onMouseLeave=function(){this.setToDoNothing()},o.prototype.onKeyDown=function(){this.setToDoNothing()},o.prototype.setToDoNothing=function(){this.state===TooltipStates.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=TooltipStates.NOTHING},o.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===TooltipStates.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},o.prototype.onMouseDown=function(){this.setToDoNothing()},o.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),o.lastTooltipHideTime=new Date().getTime()),this.state=TooltipStates.NOTHING},o.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var c=this.tooltipPopupDestroyFunc,h=this.tooltipComp;window.setTimeout(function(){c(),e.getContext().destroyBean(h)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},o.prototype.isLastTooltipHiddenRecently=function(){var e=new Date().getTime(),c=o.lastTooltipHideTime;return e-c<this.SHOW_QUICK_TOOLTIP_DIFF},o.prototype.showTooltip=function(){var e=__assign$e({},this.parentComp.getTooltipParams());if(!exists(e.value)){this.setToDoNothing();return}this.state=TooltipStates.SHOWING,this.tooltipInstanceCount++;var c=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),h=this.userComponentFactory.getTooltipCompDetails(e);h.newAgStackInstance().then(c)},o.prototype.newTooltipComponentCallback=function(e,c){var h=this.state!==TooltipStates.SHOWING||this.tooltipInstanceCount!==e;if(h){this.getContext().destroyBean(c);return}var g=c.getGui();this.tooltipComp=c,g.classList.contains("ag-tooltip")||g.classList.add("ag-tooltip-custom");var b=this.gridOptionsWrapper.getLocaleTextFunc(),$=this.popupService.addPopup({eChild:g,ariaLabel:b("ariaLabelTooltip","Tooltip")});$&&(this.tooltipPopupDestroyFunc=$.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},o.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},o.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},__decorate$2q([Autowired("popupService")],o.prototype,"popupService",void 0),__decorate$2q([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),__decorate$2q([Autowired("columnApi")],o.prototype,"columnApi",void 0),__decorate$2q([Autowired("gridApi")],o.prototype,"gridApi",void 0),__decorate$2q([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CssClassManager=function(){function a(o){this.cssClassStates={},this.getGui=o}return a.prototype.addCssClass=function(o){var e=this,c=(o||"").split(" ");if(c.length>1){c.forEach(function(b){return e.addCssClass(b)});return}var h=this.cssClassStates[o]!==!0;if(h&&o.length){var g=this.getGui();g&&g.classList.add(o),this.cssClassStates[o]=!0}},a.prototype.removeCssClass=function(o){var e=this,c=(o||"").split(" ");if(c.length>1){c.forEach(function(b){return e.removeCssClass(b)});return}var h=this.cssClassStates[o]!==!1;if(h&&o.length){var g=this.getGui();g&&g.classList.remove(o),this.cssClassStates[o]=!1}},a.prototype.containsCssClass=function(o){var e=this.getGui();return e?e.classList.contains(o):!1},a.prototype.addOrRemoveCssClass=function(o,e){var c=this;if(o){if(o.indexOf(" ")>=0){var h=(o||"").split(" ");if(h.length>1){h.forEach(function($){return c.addOrRemoveCssClass($,e)});return}}var g=this.cssClassStates[o]!==e;if(g&&o.length){var b=this.getGui();b&&b.classList.toggle(o,e),this.cssClassStates[o]=e}}},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2O=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2p=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},compIdSequence=new NumberSequence,Component=function(a){__extends$2O(o,a);function o(e){var c=a.call(this)||this;return c.displayed=!0,c.visible=!0,c.compId=compIdSequence.next(),c.cssClassManager=new CssClassManager(function(){return c.eGui}),e&&c.setTemplate(e),c}return o.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},o.prototype.getCompId=function(){return this.compId},o.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},o.prototype.setTooltip=function(e){var c=this,h=function(){c.usingBrowserTooltips?c.getGui().removeAttribute("title"):c.tooltipFeature=c.destroyBean(c.tooltipFeature)},g=function(){c.usingBrowserTooltips?c.getGui().setAttribute("title",c.tooltipText):c.tooltipFeature=c.createBean(new CustomTooltipFeature(c))};this.tooltipText!=e&&(this.tooltipText&&h(),e!=null&&(this.tooltipText=e,this.tooltipText&&g()))},o.prototype.createChildComponentsFromTags=function(e,c){var h=this,g=copyNodeList(e.childNodes);g.forEach(function(b){if(b instanceof HTMLElement){var $=h.createComponentFromElement(b,function(rt){var nt=rt.getGui();nt&&h.copyAttributesFromNode(b,rt.getGui())},c);if($){if($.addItems&&b.children.length){h.createChildComponentsFromTags(b,c);var j=Array.prototype.slice.call(b.children);$.addItems(j)}h.swapComponentForNode($,e,b)}else b.childNodes&&h.createChildComponentsFromTags(b,c)}})},o.prototype.createComponentFromElement=function(e,c,h){var g=e.nodeName,b=h?h[e.getAttribute("ref")]:void 0,$=this.agStackComponentsRegistry.getComponentClass(g);if($){o.elementGettingCreated=e;var j=new $(b);return j.setParentComponent(this),this.createBean(j,null,c),j}return null},o.prototype.copyAttributesFromNode=function(e,c){iterateNamedNodeMap(e.attributes,function(h,g){return c.setAttribute(h,g)})},o.prototype.swapComponentForNode=function(e,c,h){var g=e.getGui();c.replaceChild(g,h),c.insertBefore(document.createComment(h.nodeName),g),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,h)},o.prototype.swapInComponentForQuerySelectors=function(e,c){var h=this;this.iterateOverQuerySelectors(function(g){h[g.attributeName]===c&&(h[g.attributeName]=e)})},o.prototype.iterateOverQuerySelectors=function(e){for(var c=Object.getPrototypeOf(this);c!=null;){var h=c.__agComponentMetaData,g=getFunctionName(c.constructor);h&&h[g]&&h[g].querySelectors&&h[g].querySelectors.forEach(function(b){return e(b)}),c=Object.getPrototypeOf(c)}},o.prototype.setTemplate=function(e,c){var h=loadTemplate(e);this.setTemplateFromElement(h,c)},o.prototype.setTemplateFromElement=function(e,c){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),c)},o.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},o.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var c=this;this.iterateOverQuerySelectors(function(h){var g=function(j){return c[h.attributeName]=j},b=h.refSelector&&e.eGui.getAttribute("ref")===h.refSelector;if(b)g(e.eGui);else{var $=e.eGui.querySelector(h.querySelector);$&&g($.__agComponent||$)}})}},o.prototype.getGui=function(){return this.eGui},o.prototype.getFocusableElement=function(){return this.eGui},o.prototype.setParentComponent=function(e){this.parentComponent=e},o.prototype.getParentComponent=function(){return this.parentComponent},o.prototype.setGui=function(e){this.eGui=e},o.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},o.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},o.prototype.appendChild=function(e,c){if(e!=null)if(c||(c=this.eGui),isNodeOrElement(e))c.appendChild(e);else{var h=e;c.appendChild(h.getGui())}},o.prototype.isDisplayed=function(){return this.displayed},o.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,setVisible(this.eGui,e))},o.prototype.setDisplayed=function(e){if(e!==this.displayed){this.displayed=e,setDisplayed(this.eGui,e);var c={type:o.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(c)}},o.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),a.prototype.destroy.call(this)},o.prototype.addGuiEventListener=function(e,c){var h=this;this.eGui.addEventListener(e,c),this.addDestroyFunc(function(){return h.eGui.removeEventListener(e,c)})},o.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},o.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},o.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},o.prototype.addOrRemoveCssClass=function(e,c){this.cssClassManager.addOrRemoveCssClass(e,c)},o.prototype.getAttribute=function(e){var c=this.eGui;return c?c.getAttribute(e):null},o.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},o.EVENT_DISPLAYED_CHANGED="displayedChanged",__decorate$2p([Autowired("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),__decorate$2p([PreConstruct],o.prototype,"preConstructOnComponent",null),__decorate$2p([PreConstruct],o.prototype,"createChildComponentsPreConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function QuerySelector(a){return querySelectorFunc.bind(this,a,void 0)}function RefSelector(a){return querySelectorFunc.bind(this,"[ref="+a+"]",a)}function querySelectorFunc(a,o,e,c,h){if(a===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof h=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}addToObjectProps(e,"querySelectors",{attributeName:c,querySelector:a,refSelector:o})}function addToObjectProps(a,o,e){var c=getOrCreateProps(a,getFunctionName(a.constructor));c[o]||(c[o]=[]),c[o].push(e)}function getOrCreateProps(a,o){return a.__agComponentMetaData||(a.__agComponentMetaData={}),a.__agComponentMetaData[o]||(a.__agComponentMetaData[o]={}),a.__agComponentMetaData[o]}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2N=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2o=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ReadOnlyFloatingFilter=function(a){__extends$2N(o,a);function o(){return a.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.init=function(e){this.params=e;var c=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),h=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(c+" "+h("ariaFilterInput","Filter Input"))},o.prototype.onParentModelChanged=function(e){var c=this;if(!e){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(h){if(h.getModelAsString){var g=h.getModelAsString(e);c.eFloatingFilterText.setValue(g)}})},__decorate$2o([RefSelector("eFloatingFilterText")],o.prototype,"eFloatingFilterText",void 0),__decorate$2o([Autowired("columnModel")],o.prototype,"columnModel",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DateCompWrapper=function(){function a(o,e,c,h){var g=this;this.alive=!0,this.context=o,this.eParent=h;var b=e.getDateCompDetails(c),$=b.newAgStackInstance();$.then(function(j){if(!g.alive){o.destroyBean(j);return}g.dateComp=j,j&&(h.appendChild(j.getGui()),j.afterGuiAttached&&j.afterGuiAttached(),g.tempValue&&j.setDate(g.tempValue),g.disabled!=null&&g.setDateCompDisabled(g.disabled))})}return a.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},a.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},a.prototype.setDate=function(o){this.dateComp?this.dateComp.setDate(o):this.tempValue=o},a.prototype.setDisabled=function(o){this.dateComp?this.setDateCompDisabled(o):this.disabled=o},a.prototype.setDisplayed=function(o){setDisplayed(this.eParent,o)},a.prototype.setInputPlaceholder=function(o){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(o)},a.prototype.setInputAriaLabel=function(o){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(o)},a.prototype.afterGuiAttached=function(o){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(o)},a.prototype.setDateCompDisabled=function(o){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(o)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$d=function(){return __assign$d=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$d.apply(this,arguments)},OptionsFactory=function(){function a(){this.customFilterOptions={}}return a.prototype.init=function(o,e){this.filterOptions=o.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(o),this.checkForDeprecatedParams()},a.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(o){return typeof o!="string"&&o.test!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(o){return typeof o!="string"&&o.hideFilterInput!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},a.prototype.getFilterOptions=function(){return this.filterOptions},a.prototype.mapCustomOptions=function(){var o=this;this.filterOptions&&this.filterOptions.forEach(function(e){if(typeof e!="string"){var c=[["displayKey"],["displayName"],["predicate","test"]],h=function($){return $.some(function(j){return e[j]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+$+"'"),!1)};if(!c.every(h)){o.filterOptions=o.filterOptions.filter(function($){return $===e})||[];return}var g=e.test,b=__assign$d({},e);g!=null&&e.predicate==null&&(b.predicate=function($,j){return g($[0],j)},delete b.test),b.hideFilterInput&&b.numberOfInputs==null&&(b.numberOfInputs=0,delete b.hideFilterInput),o.customFilterOptions[e.displayKey]=b}})},a.prototype.selectDefaultItem=function(o){if(o.defaultOption)this.defaultOption=o.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},a.prototype.getDefaultOption=function(){return this.defaultOption},a.prototype.getCustomOption=function(o){return this.customFilterOptions[o]},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DEFAULT_FILTER_LOCALE_TEXT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2M=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$c=function(){return __assign$c=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$c.apply(this,arguments)},__decorate$2n=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ManagedFocusFeature=function(a){__extends$2M(o,a);function o(e,c){c===void 0&&(c={});var h=a.call(this)||this;return h.eFocusableElement=e,h.callbacks=c,h.callbacks=__assign$c({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(g){if(!g.defaultPrevented){var b=h.focusService.findNextFocusableElement(h.eFocusableElement,!1,g.shiftKey);b&&(b.focus(),g.preventDefault())}}},c),h}return o.prototype.postConstruct=function(){this.eFocusableElement.classList.add(o.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},o.prototype.addKeyDownListeners=function(e){var c=this;this.addManagedListener(e,"keydown",function(h){if(!(h.defaultPrevented||isStopPropagationForAgGrid(h))){if(c.callbacks.shouldStopEventPropagation(h)){stopPropagationForAgGrid(h);return}h.key===KeyCode.TAB?c.callbacks.onTabKeyDown(h):c.callbacks.handleKeyDown&&c.callbacks.handleKeyDown(h)}})},o.FOCUS_MANAGED_CLASS="ag-focus-managed",__decorate$2n([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$2n([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2L=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2m=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ProvidedFilter=function(a){__extends$2L(o,a);function o(e){var c=a.call(this)||this;return c.filterNameKey=e,c.applyActive=!1,c.hidePopup=null,c.appliedModel=null,c}return o.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},o.prototype.handleKeyDown=function(e){},o.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},o.prototype.isFilterActive=function(){return!!this.appliedModel},o.prototype.resetTemplate=function(e){var c=this.getGui();c&&c.removeEventListener("submit",this.onFormSubmit);var h=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`+this.getCssIdentifier()+`-body-wrapper">
                    `+this.createBodyTemplate()+`
                </div>
            </form>`;this.setTemplate(h,e),c=this.getGui(),c&&c.addEventListener("submit",this.onFormSubmit)},o.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},o.prototype.init=function(e){var c=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){c.updateUiVisibility(),c.setupOnBtApplyDebounce()})},o.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=o.isUseApplyButton(e),this.createButtonPanel()},o.prototype.createButtonPanel=function(){var e=this,c=this.providedFilterParams.buttons;if(!(!c||c.length<1||this.isReadOnly())){var h=document.createElement("div");h.classList.add("ag-filter-apply-panel");var g=function(b){var $,j;switch(b){case"apply":$=e.translate("applyFilter"),j=function(pt){return e.onBtApply(!1,!1,pt)};break;case"clear":$=e.translate("clearFilter"),j=function(){return e.onBtClear()};break;case"reset":$=e.translate("resetFilter"),j=function(){return e.onBtReset()};break;case"cancel":$=e.translate("cancelFilter"),j=function(pt){e.onBtCancel(pt)};break;default:console.warn("AG Grid: Unknown button type specified");return}var rt=b==="apply"?"submit":"button",nt=loadTemplate(`<button
                    type="`+rt+`"
                    ref="`+b+`FilterButton"
                    class="ag-standard-button ag-filter-apply-panel-button"
                >`+$+`
                </button>`);h.appendChild(nt),e.addManagedListener(nt,"click",j)};convertToSet(c).forEach(function(b){return g(b)}),this.getGui().appendChild(h)}},o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.setupOnBtApplyDebounce=function(){var e=o.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=debounce(this.onBtApply.bind(this),e)},o.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},o.prototype.setModel=function(e){var c=this,h=e!=null?this.setModelIntoUi(e):this.resetUiToDefaults();return h.then(function(){c.updateUiVisibility(),c.applyModel()})},o.prototype.onBtCancel=function(e){var c=this,h=this.getModel(),g=function(){c.onUiChanged(!1,"prevent"),c.providedFilterParams.closeOnApply&&c.close(e)};h!=null?this.setModelIntoUi(h).then(g):this.resetUiToDefaults().then(g)},o.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},o.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},o.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var c=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(c,e)},o.prototype.isModelValid=function(e){return!0},o.prototype.onFormSubmit=function(e){e.preventDefault()},o.prototype.onBtApply=function(e,c,h){e===void 0&&(e=!1),c===void 0&&(c=!1),h&&h.preventDefault(),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:c});var g=this.providedFilterParams.closeOnApply;g&&this.applyActive&&!e&&!c&&this.close(h)},o.prototype.onNewRowsLoaded=function(){},o.prototype.close=function(e){if(this.hidePopup){var c=e,h=c&&c.key,g;(h==="Enter"||h==="Space")&&(g={keyboardEvent:c}),this.hidePopup(g),this.hidePopup=null}},o.prototype.onUiChanged=function(e,c){if(e===void 0&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var h=this.isModelValid(this.getModelFromUi());setDisabled(this.getRefElement("applyFilterButton"),!h)}e&&!c||c==="immediately"?this.onBtApply(e):(!this.applyActive&&!c||c==="debounce")&&this.onBtApplyDebounce()},o.prototype.afterGuiAttached=function(e){e!=null&&(this.hidePopup=e.hidePopup)},o.getDebounceMs=function(e,c){return o.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:c},o.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},o.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,a.prototype.destroy.call(this)},o.prototype.translate=function(e){var c=this.gridOptionsWrapper.getLocaleTextFunc();return c(e,DEFAULT_FILTER_LOCALE_TEXT[e])},o.prototype.getCellValue=function(e){var c=this.providedFilterParams,h=c.api,g=c.colDef,b=c.column,$=c.columnApi,j=c.context;return this.providedFilterParams.valueGetter({api:h,colDef:g,column:b,columnApi:$,context:j,data:e.data,getValue:function(rt){return e.data[rt]},node:e})},__decorate$2m([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$2m([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2K=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2l=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgAbstractLabel=function(a){__extends$2K(o,a);function o(e,c){var h=a.call(this,c)||this;return h.labelSeparator="",h.labelAlignment="left",h.disabled=!1,h.label="",h.config=e||{},h}return o.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,c=e.labelSeparator,h=e.label,g=e.labelWidth,b=e.labelAlignment;c!=null&&this.setLabelSeparator(c),h!=null&&this.setLabel(h),g!=null&&this.setLabelWidth(g),this.setLabelAlignment(b||this.labelAlignment),this.refreshLabel()},o.prototype.refreshLabel=function(){clearElement(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(this.eLabel.classList.add("ag-hidden"),setAriaRole(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),setAriaRole(this.eLabel,null))},o.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)},o.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},o.prototype.getLabel=function(){return this.label},o.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},o.prototype.setLabelAlignment=function(e){var c=this.getGui(),h=c.classList;return h.toggle("ag-label-align-left",e==="left"),h.toggle("ag-label-align-right",e==="right"),h.toggle("ag-label-align-top",e==="top"),this},o.prototype.setLabelWidth=function(e){return this.label==null?this:(setElementWidth(this.eLabel,e),this)},o.prototype.setDisabled=function(e){e=!!e;var c=this.getGui();return setDisabled(c,e),c.classList.toggle("ag-disabled",e),this.disabled=e,this},o.prototype.isDisabled=function(){return!!this.disabled},__decorate$2l([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2J=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgAbstractField=function(a){__extends$2J(o,a);function o(e,c,h){var g=a.call(this,e,c)||this;return g.className=h,g}return o.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},o.prototype.onValueChange=function(e){var c=this;return this.addManagedListener(this,o.EVENT_CHANGED,function(){return e(c.getValue())}),this},o.prototype.getWidth=function(){return this.getGui().clientWidth},o.prototype.setWidth=function(e){return setFixedWidth(this.getGui(),e),this},o.prototype.getPreviousValue=function(){return this.previousValue},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(e,c){return this.value===e?this:(this.previousValue=this.value,this.value=e,c||this.dispatchEvent({type:o.EVENT_CHANGED}),this)},o.EVENT_CHANGED="valueChange",o}(AgAbstractLabel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2I=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2k=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgPickerField=function(a){__extends$2I(o,a);function o(e,c,h,g){var b=a.call(this,e,`<div class="ag-picker-field" role="presentation">
                <div ref="eLabel"></div>
                <div ref="eWrapper"
                    class="ag-wrapper ag-picker-field-wrapper"
                    tabIndex="-1"
                    aria-expanded="false"
                    `+(g?'role="'+g+'"':"")+`
                >
                    <div ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,c)||this;return b.pickerIcon=h,b.isPickerDisplayed=!1,b.isDestroyingPicker=!1,b.skipClick=!1,b}return o.prototype.postConstruct=function(){var e=this;a.prototype.postConstruct.call(this);var c=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",c),setAriaDescribedBy(this.eWrapper,c);var h=function(){if(e.skipClick){e.skipClick=!1;return}e.isDisabled()||(e.pickerComponent=e.showPicker())},g=this.getGui();if(this.addManagedListener(g,"mousedown",function($){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&isVisible(e.pickerComponent.getGui())&&g.contains($.target)&&(e.skipClick=!0)}),this.addManagedListener(g,"keydown",function($){switch($.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:h();case KeyCode.ESCAPE:e.isPickerDisplayed&&$.preventDefault();break}}),this.addManagedListener(this.eWrapper,"click",h),this.addManagedListener(this.eLabel,"click",h),this.pickerIcon){var b=createIconNoSpan(this.pickerIcon,this.gridOptionsWrapper);b&&this.eIcon.appendChild(b)}},o.prototype.refreshLabel=function(){exists(this.getLabel())?setAriaLabelledBy(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),a.prototype.refreshLabel.call(this)},o.prototype.setAriaLabel=function(e){return setAriaLabel(this.eWrapper,e),this},o.prototype.setInputWidth=function(e){return setElementWidth(this.eWrapper,e),this},o.prototype.getFocusableElement=function(){return this.eWrapper},__decorate$2k([RefSelector("eLabel")],o.prototype,"eLabel",void 0),__decorate$2k([RefSelector("eWrapper")],o.prototype,"eWrapper",void 0),__decorate$2k([RefSelector("eDisplayField")],o.prototype,"eDisplayField",void 0),__decorate$2k([RefSelector("eIcon")],o.prototype,"eIcon",void 0),o}(AgAbstractField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2H=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2j=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgList=function(a){__extends$2H(o,a);function o(e){e===void 0&&(e="default");var c=a.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return c.cssIdentifier=e,c.options=[],c.itemEls=[],c}return o.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},o.prototype.handleKeyDown=function(e){var c=e.key;switch(c){case KeyCode.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var h=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(h)}break;case KeyCode.DOWN:case KeyCode.UP:var g=c===KeyCode.DOWN,b=void 0;if(e.preventDefault(),!this.highlightedEl)b=this.itemEls[g?0:this.itemEls.length-1];else{var $=this.itemEls.indexOf(this.highlightedEl),j=$+(g?1:-1);j=Math.min(Math.max(j,0),this.itemEls.length-1),b=this.itemEls[j]}this.highlightItem(b);break}},o.prototype.addOptions=function(e){var c=this;return e.forEach(function(h){return c.addOption(h)}),this},o.prototype.addOption=function(e){var c=e.value,h=e.text,g=escapeString(h||c);return this.options.push({value:c,text:g}),this.renderOption(c,g),this.updateIndices(),this},o.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(c,h){setAriaPosInSet(c,h+1),setAriaSetSize(c,e.length)})},o.prototype.renderOption=function(e,c){var h=this,g=document.createElement("div");setAriaRole(g,"option"),g.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),g.innerHTML="<span>"+c+"</span>",g.tabIndex=-1,this.itemEls.push(g),this.addManagedListener(g,"mouseover",function(){return h.highlightItem(g)}),this.addManagedListener(g,"mouseleave",function(){return h.clearHighlighted()}),this.addManagedListener(g,"click",function(){return h.setValue(e)}),this.getGui().appendChild(g)},o.prototype.setValue=function(e,c){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;var h=this.options.findIndex(function(b){return b.value===e});if(h!==-1){var g=this.options[h];this.value=g.value,this.displayValue=g.text!=null?g.text:g.value,this.highlightItem(this.itemEls[h]),c||this.fireChangeEvent()}return this},o.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},o.prototype.getValue=function(){return this.value},o.prototype.getDisplayValue=function(){return this.displayValue},o.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var c=this.options.findIndex(function(h){return h.value===e.value});c!==-1&&this.highlightItem(this.itemEls[c])},o.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},o.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(o.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!0),this.highlightedEl.focus())},o.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(o.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!1),this.highlightedEl=null)},o.prototype.fireChangeEvent=function(){this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED}),this.fireItemSelected()},o.prototype.fireItemSelected=function(){this.dispatchEvent({type:o.EVENT_ITEM_SELECTED})},o.EVENT_ITEM_SELECTED="selectedItem",o.ACTIVE_CLASS="ag-active-item",__decorate$2j([PostConstruct],o.prototype,"init",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2G=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2i=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgSelect=function(a){__extends$2G(o,a);function o(e){return a.call(this,e,"ag-select","smallDown","listbox")||this}return o.prototype.init=function(){var e=this;this.listComponent=this.createBean(new AgList("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,AgList.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,AgAbstractField.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},o.prototype.showPicker=function(){var e=this,c=this.listComponent.getGui(),h=this.gridOptionsWrapper.getDocument(),g=this.addManagedListener(h.body,"wheel",function(rt){!c.contains(rt.target)&&e.hideList&&e.hideList()}),b=this.addManagedListener(c,"focusout",function(rt){!c.contains(rt.relatedTarget)&&e.hideList&&e.hideList()}),$=this.gridOptionsWrapper.getLocaleTextFunc(),j=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,b(),g(),e.isAlive()&&(setAriaExpanded(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:$("ariaLabelSelectField","Select Field")});return j&&(this.hideList=j.hideFunc),this.isPickerDisplayed=!0,setElementWidth(c,getAbsoluteWidth(this.eWrapper)),setAriaExpanded(this.eWrapper,!0),c.style.maxHeight=getInnerHeight(this.popupService.getPopupParent())+"px",c.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:c,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},o.prototype.addOptions=function(e){var c=this;return e.forEach(function(h){return c.addOption(h)}),this},o.prototype.addOption=function(e){return this.listComponent.addOption(e),this},o.prototype.setValue=function(e,c,h){if(this.value===e)return this;h||this.listComponent.setValue(e,!0);var g=this.listComponent.getValue();return g===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),a.prototype.setValue.call(this,e,c))},o.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),a.prototype.destroy.call(this)},__decorate$2i([Autowired("popupService")],o.prototype,"popupService",void 0),__decorate$2i([PostConstruct],o.prototype,"init",null),o}(AgPickerField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2F=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2h=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgAbstractInputField=function(a){__extends$2F(o,a);function o(e,c,h,g){h===void 0&&(h="text"),g===void 0&&(g="input");var b=a.call(this,e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`+g+' ref="eInput" class="ag-input-field-input"></'+g+`>
                </div>
            </div>`,c)||this;return b.inputType=h,b.displayFieldTag=g,b}return o.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,c=e.width,h=e.value;c!=null&&this.setWidth(c),h!=null&&this.setValue(h),this.addInputListeners()},o.prototype.refreshLabel=function(){exists(this.getLabel())?setAriaLabelledBy(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),a.prototype.refreshLabel.call(this)},o.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(c){return e.setValue(c.target.value)})},o.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},o.prototype.getInputElement=function(){return this.eInput},o.prototype.setInputWidth=function(e){return setElementWidth(this.eWrapper,e),this},o.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},o.prototype.getFocusableElement=function(){return this.eInput},o.prototype.setMaxLength=function(e){var c=this.eInput;return c.maxLength=e,this},o.prototype.setInputPlaceholder=function(e){return addOrRemoveAttribute(this.eInput,"placeholder",e),this},o.prototype.setInputAriaLabel=function(e){return setAriaLabel(this.eInput,e),this},o.prototype.setDisabled=function(e){return setDisabled(this.eInput,e),a.prototype.setDisabled.call(this,e)},__decorate$2h([RefSelector("eLabel")],o.prototype,"eLabel",void 0),__decorate$2h([RefSelector("eWrapper")],o.prototype,"eWrapper",void 0),__decorate$2h([RefSelector("eInput")],o.prototype,"eInput",void 0),o}(AgAbstractField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2E=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2g=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ConditionPosition;(function(a){a[a.One=0]="One",a[a.Two=1]="Two"})(ConditionPosition||(ConditionPosition={}));var SimpleFilter=function(a){__extends$2E(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getNumberOfInputs=function(e){var c=this.optionsFactory.getCustomOption(e);if(c){var h=c.numberOfInputs;return h??1}var g=[o.EMPTY,o.NOT_BLANK,o.BLANK];return e&&g.indexOf(e)>=0?0:e===o.IN_RANGE?2:1},o.prototype.onFloatingFilterChanged=function(e,c){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(c),this.onUiChanged(!0)},o.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},o.prototype.getModelFromUi=function(){return this.isConditionUiComplete(ConditionPosition.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(ConditionPosition.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(ConditionPosition.One),condition2:this.createCondition(ConditionPosition.Two)}:this.createCondition(ConditionPosition.One):null},o.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},o.prototype.getJoinOperator=function(){return this.eJoinOperatorOr.getValue()===!0?"OR":"AND"},o.prototype.areModelsEqual=function(e,c){if(!e&&!c)return!0;if(!e&&c||e&&!c)return!1;var h=!e.operator,g=!c.operator,b=!h&&g||h&&!g;if(b)return!1;var $;if(h){var j=e,rt=c;$=this.areSimpleModelsEqual(j,rt)}else{var nt=e,pt=c;$=nt.operator===pt.operator&&this.areSimpleModelsEqual(nt.condition1,pt.condition1)&&this.areSimpleModelsEqual(nt.condition2,pt.condition2)}return $},o.prototype.setModelIntoUi=function(e){var c=e.operator;if(c){var h=e,g=h.operator==="OR";this.eJoinOperatorAnd.setValue(!g),this.eJoinOperatorOr.setValue(g),this.eType1.setValue(h.condition1.type),this.eType2.setValue(h.condition2.type),this.setConditionIntoUi(h.condition1,ConditionPosition.One),this.setConditionIntoUi(h.condition2,ConditionPosition.Two)}else{var b=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(b.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(b,ConditionPosition.One),this.setConditionIntoUi(null,ConditionPosition.Two)}return AgPromise.resolve()},o.prototype.doesFilterPass=function(e){var c=this,h=this.getModel();if(h==null)return!0;var g=h.operator,b=[];if(g){var $=h;b.push($.condition1,$.condition2)}else b.push(h);var j=g&&g==="OR"?"some":"every";return b[j](function(rt){return c.individualConditionPasses(e,rt)})},o.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.optionsFactory=new OptionsFactory,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.putOptionsIntoDropdown(),this.addChangedListeners()},o.prototype.getDefaultJoinOperator=function(e){return includes(["AND","OR"],e)?e:"AND"},o.prototype.putOptionsIntoDropdown=function(){var e=this,c=this.optionsFactory.getFilterOptions(),h=[this.eType1,this.eType2];c.forEach(function(g){var b=typeof g=="string"?e.createBoilerplateListOption(g):e.createCustomListOption(g);h.forEach(function($){return $.addOption(b)})}),h.forEach(function(g){return g.setDisabled(c.length<=1)})},o.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},o.prototype.createCustomListOption=function(e){var c=e.displayKey,h=this.optionsFactory.getCustomOption(e.displayKey);return{value:c,text:h?this.gridOptionsWrapper.getLocaleTextFunc()(h.displayKey,h.displayName):this.translate(c)}},o.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},o.prototype.createBodyTemplate=function(){return`
            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>
            `+this.createValueTemplate(ConditionPosition.One)+`
            <div class="ag-filter-condition" ref="eJoinOperatorPanel">
               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>
               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>
            </div>
            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>
            `+this.createValueTemplate(ConditionPosition.Two)},o.prototype.getCssIdentifier=function(){return"simple-filter"},o.prototype.updateUiVisibility=function(){var e=this,c=[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],h=[this.eCondition1Body,this.eCondition2Body];c.forEach(function(g,b){var $=e.isConditionVisible(b),j=e.isConditionDisabled(b);g.forEach(function(rt){rt instanceof AgAbstractInputField||rt instanceof AgSelect?(rt.setDisabled(j),rt.setDisplayed($)):(setDisabled(rt,j),setDisplayed(rt,$))})}),h.forEach(function(g,b){setDisplayed(g,e.isConditionBodyVisible(b))}),this.forEachInput(function(g,b,$,j){e.setElementDisplayed(g,b<j),e.setElementDisabled(g,e.isConditionDisabled($))}),this.resetPlaceholder()},o.prototype.afterGuiAttached=function(e){if(a.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var c=this.getInputs()[0][0];if(!c)return;c instanceof AgAbstractInputField&&c.getInputElement().focus()}},o.prototype.getPlaceholderText=function(e,c){var h=this.translate(e);if(isFunction(this.filterPlaceholder)){var g=this.filterPlaceholder,b=c===0?this.eType1.getValue():this.eType2.getValue(),$=this.translate(b);h=g({filterOptionKey:b,filterOption:$,placeholder:h})}else typeof this.filterPlaceholder=="string"&&(h=this.filterPlaceholder);return h},o.prototype.resetPlaceholder=function(){var e=this,c=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(h,g,b,$){if(h instanceof AgAbstractInputField){var j=g===0&&$>1?"inRangeStart":g===0?"filterOoo":"inRangeEnd",rt=g===0&&$>1?c("ariaFilterFromValue","Filter from value"):g===0?c("ariaFilterValue","Filter Value"):c("ariaFilterToValue","Filter to Value");h.setInputPlaceholder(e.getPlaceholderText(j,b)),h.setInputAriaLabel(rt)}})},o.prototype.setElementValue=function(e,c,h){e instanceof AgAbstractInputField&&e.setValue(c!=null?String(c):null,h)},o.prototype.setElementDisplayed=function(e,c){e instanceof Component&&setDisplayed(e.getGui(),c)},o.prototype.setElementDisabled=function(e,c){e instanceof Component&&setDisabled(e.getGui(),c)},o.prototype.attachElementOnChange=function(e,c){e instanceof AgAbstractInputField&&e.onValueChange(c)},o.prototype.forEachInput=function(e){var c=this,h=this.getInputs();this.getConditionTypes().forEach(function(g,b){for(var $=c.getNumberOfInputs(g),j=0;j<h[b].length;j++){var rt=h[b][j];rt!=null&&e(rt,j,b,$)}})},o.prototype.isConditionVisible=function(e){return e===0?!0:this.allowTwoConditions?this.isReadOnly()?this.isConditionUiComplete(e):this.alwaysShowBothConditions?!0:this.isConditionUiComplete(e-1):!1},o.prototype.isConditionDisabled=function(e){return this.isReadOnly()||!this.isConditionVisible(e)?!0:e===0?!1:!this.isConditionUiComplete(e-1)},o.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var c=this.getConditionTypes()[e],h=this.getNumberOfInputs(c);return h>0},o.prototype.isConditionUiComplete=function(e){var c=this.getConditionTypes()[e];return!(c===o.EMPTY||this.getValues(e).some(function(h){return h==null}))},o.prototype.resetUiToDefaults=function(e){var c=this,h=this.gridOptionsWrapper.getLocaleTextFunc(),g=h("ariaFilteringOperator","Filtering operator"),b="ag-simple-filter-and-or-"+this.getCompId(),$=this.optionsFactory.getDefaultOption();return this.eType1.setValue($,e).setAriaLabel(g).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(g).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(b).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(b).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(j){c.setElementValue(j,null,e),c.setElementDisabled(j,c.isReadOnly())}),this.resetPlaceholder(),AgPromise.resolve()},o.prototype.setConditionIntoUi=function(e,c){var h=this,g=this.mapValuesFromModel(e);this.forEachInput(function(b,$,j,rt){j===c&&h.setElementValue(b,g[$]!=null?g[$]:null)})},o.prototype.setValueFromFloatingFilter=function(e){var c=this;this.forEachInput(function(h,g,b,$){c.setElementValue(h,g===0&&b===0?e:null)})},o.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},o.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var c=function(){return e.onUiChanged()};this.eType1.onValueChange(c),this.eType2.onValueChange(c),this.eJoinOperatorOr.onValueChange(c),this.eJoinOperatorAnd.onValueChange(c),this.forEachInput(function(h){e.attachElementOnChange(h,c)})}},o.prototype.individualConditionPasses=function(e,c){var h=this.getCellValue(e.node),g=this.mapValuesFromModel(c),b=this.optionsFactory.getCustomOption(c.type),$=this.evaluateCustomFilter(b,g,h);return $??(h==null?this.evaluateNullValue(c.type):this.evaluateNonNullValue(g,h,c,e))},o.prototype.evaluateCustomFilter=function(e,c,h){if(e!=null){var g=e.predicate;if(g!=null&&!c.some(function(b){return b==null}))return g(c,h)}},o.prototype.isBlank=function(e){return e==null||typeof e=="string"&&e.trim().length===0},o.EMPTY="empty",o.BLANK="blank",o.NOT_BLANK="notBlank",o.EQUALS="equals",o.NOT_EQUAL="notEqual",o.LESS_THAN="lessThan",o.LESS_THAN_OR_EQUAL="lessThanOrEqual",o.GREATER_THAN="greaterThan",o.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",o.IN_RANGE="inRange",o.CONTAINS="contains",o.NOT_CONTAINS="notContains",o.STARTS_WITH="startsWith",o.ENDS_WITH="endsWith",__decorate$2g([RefSelector("eOptions1")],o.prototype,"eType1",void 0),__decorate$2g([RefSelector("eOptions2")],o.prototype,"eType2",void 0),__decorate$2g([RefSelector("eJoinOperatorPanel")],o.prototype,"eJoinOperatorPanel",void 0),__decorate$2g([RefSelector("eJoinOperatorAnd")],o.prototype,"eJoinOperatorAnd",void 0),__decorate$2g([RefSelector("eJoinOperatorOr")],o.prototype,"eJoinOperatorOr",void 0),__decorate$2g([RefSelector("eCondition1Body")],o.prototype,"eCondition1Body",void 0),__decorate$2g([RefSelector("eCondition2Body")],o.prototype,"eCondition2Body",void 0),o}(ProvidedFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2D=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),ScalarFilter=function(a){__extends$2D(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.scalarFilterParams=e},o.prototype.evaluateNullValue=function(e){switch(e){case o.EQUALS:case o.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case o.GREATER_THAN:case o.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case o.LESS_THAN:case o.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case o.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case o.BLANK:return!0;case o.NOT_BLANK:return!1}return!1},o.prototype.evaluateNonNullValue=function(e,c,h){var g=this.comparator(),b=e[0]!=null?g(e[0],c):0;switch(h.type){case o.EQUALS:return b===0;case o.NOT_EQUAL:return b!==0;case o.GREATER_THAN:return b>0;case o.GREATER_THAN_OR_EQUAL:return b>=0;case o.LESS_THAN:return b<0;case o.LESS_THAN_OR_EQUAL:return b<=0;case o.IN_RANGE:{var $=g(e[1],c);return this.scalarFilterParams.inRangeInclusive?b>=0&&$<=0:b>0&&$<0}case o.BLANK:return this.isBlank(c);case o.NOT_BLANK:return!this.isBlank(c);default:return console.warn('AG Grid: Unexpected type of filter "'+h.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},o}(SimpleFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2C=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$b=function(){return __assign$b=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$b.apply(this,arguments)},__decorate$2f=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DEFAULT_MIN_YEAR=1e3,DEFAULT_MAX_YEAR=1/0,DateFilter=function(a){__extends$2C(o,a);function o(){var e=a.call(this,"dateFilter")||this;return e.minValidYear=DEFAULT_MIN_YEAR,e.maxValidYear=DEFAULT_MAX_YEAR,e}return o.prototype.afterGuiAttached=function(e){a.prototype.afterGuiAttached.call(this,e),this.dateCondition1FromComp.afterGuiAttached(e)},o.prototype.mapValuesFromModel=function(e){var c=e||{},h=c.dateFrom,g=c.dateTo,b=c.type;return[h&&parseDateTimeFromString(h)||null,g&&parseDateTimeFromString(g)||null].slice(0,this.getNumberOfInputs(b))},o.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},o.prototype.defaultComparator=function(e,c){var h=c;return c==null||h<e?-1:h>e?1:0},o.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.dateFilterParams=e;var c=function(h,g){if(e[h]!=null)if(isNaN(e[h]))console.warn("AG Grid: DateFilter "+h+" is not a number");else return e[h]==null?g:Number(e[h]);return g};this.minValidYear=c("minValidYear",DEFAULT_MIN_YEAR),this.maxValidYear=c("maxValidYear",DEFAULT_MAX_YEAR),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},o.prototype.createDateComponents=function(){var e=this,c=function(h){return new DateCompWrapper(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},h)};this.dateCondition1FromComp=c(this.eCondition1PanelFrom),this.dateCondition1ToComp=c(this.eCondition1PanelTo),this.dateCondition2FromComp=c(this.eCondition2PanelFrom),this.dateCondition2ToComp=c(this.eCondition2PanelTo),this.addDestroyFunc(function(){e.forEachInput(function(h){return h.destroy()})})},o.prototype.setElementValue=function(e,c,h){e.setDate(c)},o.prototype.setElementDisplayed=function(e,c){e.setDisplayed(c)},o.prototype.setElementDisabled=function(e,c){e.setDisabled(c)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(e){var c=e===ConditionPosition.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+c+`Body">
                <div class="ag-filter-from ag-filter-date-from" ref="eCondition`+c+`PanelFrom"></div>
                <div class="ag-filter-to ag-filter-date-to" ref="eCondition`+c+`PanelTo"></div>
            </div>`},o.prototype.isConditionUiComplete=function(e){var c=this;if(!a.prototype.isConditionUiComplete.call(this,e))return!1;var h=function(b){return b!=null&&b.getUTCFullYear()>=c.minValidYear&&b.getUTCFullYear()<=c.maxValidYear},g=!0;return this.forEachInput(function(b,$,j,rt){j!==e||!g||$>=rt||(g=g&&h(b.getDate()))}),g},o.prototype.areSimpleModelsEqual=function(e,c){return e.dateFrom===c.dateFrom&&e.dateTo===c.dateTo&&e.type===c.type},o.prototype.getFilterType=function(){return"date"},o.prototype.createCondition=function(e){var c=this.getConditionTypes()[e],h={},g=this.getValues(e);return g.length>0&&(h.dateFrom=serialiseDate(g[0])),g.length>1&&(h.dateTo=serialiseDate(g[1])),__assign$b({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:c},h)},o.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.translate("dateFormatOoo"),h=e("ariaFilterValue","Filter Value");this.forEachInput(function(g){g.setInputPlaceholder(c),g.setInputAriaLabel(h)})},o.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},o.prototype.getValues=function(e){var c=[];return this.forEachInput(function(h,g,b,$){e===b&&g<$&&c.push(h.getDate())}),c},o.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.GREATER_THAN,ScalarFilter.LESS_THAN,ScalarFilter.NOT_EQUAL,ScalarFilter.IN_RANGE,ScalarFilter.BLANK,ScalarFilter.NOT_BLANK],__decorate$2f([RefSelector("eCondition1PanelFrom")],o.prototype,"eCondition1PanelFrom",void 0),__decorate$2f([RefSelector("eCondition1PanelTo")],o.prototype,"eCondition1PanelTo",void 0),__decorate$2f([RefSelector("eCondition2PanelFrom")],o.prototype,"eCondition2PanelFrom",void 0),__decorate$2f([RefSelector("eCondition2PanelTo")],o.prototype,"eCondition2PanelTo",void 0),__decorate$2f([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),o}(ScalarFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2B=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),SimpleFloatingFilter=function(a){__extends$2B(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.getTextFromModel=function(e){if(!e)return null;var c=e.operator!=null;if(c){var h=e,g=h||{},b=g.condition1,$=g.condition2,j=this.getTextFromModel(b),rt=this.getTextFromModel($);return[j,h.operator,rt].join(" ")}else if(e.type===SimpleFilter.BLANK||e.type===SimpleFilter.NOT_BLANK){var nt=this.gridOptionsWrapper.getLocaleTextFunc();return nt(e.type,e.type)}else{var pt=e,wt=this.optionsFactory.getCustomOption(pt.type),Dt=wt||{},Lt=Dt.displayKey,it=Dt.displayName,st=Dt.numberOfInputs;return Lt&&it&&st===0?(this.gridOptionsWrapper.getLocaleTextFunc()(Lt,it),it):this.conditionToString(pt,wt)}},o.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},o.prototype.getLastType=function(){return this.lastType},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setLastTypeFromModel=function(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}var c=e.operator,h;if(c){var g=e;h=g.condition1}else h=e;this.lastType=h.type},o.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var c=e.operator;if(c)return!1;var h=e;return this.isTypeEditable(h.type)},o.prototype.init=function(e){this.optionsFactory=new OptionsFactory,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var c=this.isTypeEditable(this.lastType);this.setEditable(c)},o.prototype.doesFilterHaveSingleInput=function(e){var c=this.optionsFactory.getCustomOption(e),h=(c||{}).numberOfInputs;return h==null||h==1},o.prototype.isTypeEditable=function(e){var c=[SimpleFilter.IN_RANGE,SimpleFilter.EMPTY,SimpleFilter.BLANK,SimpleFilter.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&c.indexOf(e)<0},o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2A=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2e=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DateFloatingFilter=function(a){__extends$2A(o,a);function o(){return a.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return o.prototype.getDefaultFilterOptions=function(){return DateFilter.DEFAULT_FILTER_OPTIONS},o.prototype.conditionToString=function(e,c){var h=e.type,g=(c||{}).numberOfInputs,b=h==SimpleFilter.IN_RANGE||g===2,$=parseDateTimeFromString(e.dateFrom),j=parseDateTimeFromString(e.dateTo),rt=this.filterParams.inRangeFloatingFilterDateFormat;if(b){var nt=$!==null?dateToFormattedString($,rt):"null",pt=j!==null?dateToFormattedString(j,rt):"null";return nt+"-"+pt}return $!=null?dateToFormattedString($,rt):""+h},o.prototype.init=function(e){a.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();var c=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(c("ariaDateFilterInput","Date Filter Input"))},o.prototype.setEditable=function(e){setDisplayed(this.eDateWrapper,e),setDisplayed(this.eReadOnlyText.getGui(),!e)},o.prototype.onParentModelChanged=function(e,c){if(!this.isEventFromFloatingFilter(c)){a.prototype.setLastTypeFromModel.call(this,e);var h=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(h),h){if(e){var g=e;this.dateComp.setDate(parseDateTimeFromString(g.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null)}},o.prototype.onDateChanged=function(){var e=this,c=this.dateComp.getDate(),h=serialiseDate(c);this.params.parentFilterInstance(function(g){if(g){var b=parseDateTimeFromString(h);g.onFloatingFilterChanged(e.getLastType()||null,b)}})},o.prototype.createDateComponent=function(){var e=this,c=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),h={onDateChanged:debounce(this.onDateChanged.bind(this),c),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new DateCompWrapper(this.getContext(),this.userComponentFactory,h,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},__decorate$2e([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),__decorate$2e([RefSelector("eReadOnlyText")],o.prototype,"eReadOnlyText",void 0),__decorate$2e([RefSelector("eDateWrapper")],o.prototype,"eDateWrapper",void 0),o}(SimpleFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2z=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2d=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DefaultDateComponent=function(a){__extends$2z(o,a);function o(){return a.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.init=function(e){var c=this,h=this.gridOptionsWrapper.getDocument(),g=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(g.type="date"),this.addManagedListener(g,"mousedown",function(){c.eDateInput.isDisabled()||g.focus()}),this.addManagedListener(g,"input",function(rt){rt.target===h.activeElement&&(c.eDateInput.isDisabled()||e.onDateChanged())});var b=e.filterParams||{},$=b.minValidYear,j=b.maxValidYear;$&&(g.min=$+"-01-01"),j&&(g.max=j+"-12-31")},o.prototype.getDate=function(){return parseDateTimeFromString(this.eDateInput.getValue())},o.prototype.setDate=function(e){this.eDateInput.setValue(serialiseDate(e,!1))},o.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},o.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},o.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},o.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:isBrowserChrome()||isBrowserFirefox()},__decorate$2d([RefSelector("eDateInput")],o.prototype,"eDateInput",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2y=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2c=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},NumberFilter=function(a){__extends$2y(o,a);function o(){return a.call(this,"numberFilter")||this}return o.prototype.mapValuesFromModel=function(e){var c=e||{},h=c.filter,g=c.filterTo,b=c.type;return[h??null,g??null].slice(0,this.getNumberOfInputs(b))},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.comparator=function(){return function(e,c){return e===c?0:e<c?1:-1}},o.prototype.setParams=function(e){this.numberFilterParams=e;var c=this.getAllowedCharPattern();if(c){var h={allowedCharPattern:c};this.resetTemplate({"eValue-index0-1":h,"eValue-index1-1":h,"eValue-index0-2":h,"eValue-index1-2":h})}a.prototype.setParams.call(this,e)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(e){var c=e===ConditionPosition.One?"1":"2",h=this.getAllowedCharPattern(),g=h?"ag-input-text-field":"ag-input-number-field";return`
            <div class="ag-filter-body" ref="eCondition`+c+`Body" role="presentation">
                <`+g+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+c+'"></'+g+`>
                <`+g+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+c+'"></'+g+`>
            </div>`},o.prototype.getValues=function(e){var c=this,h=[];return this.forEachInput(function(g,b,$,j){e===$&&b<j&&h.push(c.stringToFloat(g.getValue()))}),h},o.prototype.areSimpleModelsEqual=function(e,c){return e.filter===c.filter&&e.filterTo===c.filterTo&&e.type===c.type},o.prototype.getFilterType=function(){return"number"},o.prototype.stringToFloat=function(e){if(typeof e=="number")return e;var c=makeNull(e);return c!=null&&c.trim()===""&&(c=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(c):c==null||c.trim()==="-"?null:parseFloat(c)},o.prototype.createCondition=function(e){var c=this.getConditionTypes()[e],h={filterType:this.getFilterType(),type:c},g=this.getValues(e);return g.length>0&&(h.filter=g[0]),g.length>1&&(h.filterTo=g[1]),h},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getAllowedCharPattern=function(){var e=(this.numberFilterParams||{}).allowedCharPattern;return e||(!isBrowserChrome()&&!isBrowserEdge()?"\\d\\-\\.":null)},o.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.NOT_EQUAL,ScalarFilter.LESS_THAN,ScalarFilter.LESS_THAN_OR_EQUAL,ScalarFilter.GREATER_THAN,ScalarFilter.GREATER_THAN_OR_EQUAL,ScalarFilter.IN_RANGE,ScalarFilter.BLANK,ScalarFilter.NOT_BLANK],__decorate$2c([RefSelector("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),__decorate$2c([RefSelector("eValue-index1-1")],o.prototype,"eValueTo1",void 0),__decorate$2c([RefSelector("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),__decorate$2c([RefSelector("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(ScalarFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2x=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$a=function(){return __assign$a=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$a.apply(this,arguments)},__decorate$2b=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},TextFilter=function(a){__extends$2x(o,a);function o(){return a.call(this,"textFilter")||this}return o.trimInput=function(e){var c=e&&e.trim();return c===""?e:c},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.textFilterParams=e,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?o.DEFAULT_FORMATTER:o.DEFAULT_LOWERCASE_FORMATTER)},o.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(_.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(c){var h=c.filterOption,g=c.value,b=c.filterText;return e(h,g,b)}):this.textFilterParams.textMatcher||o.DEFAULT_MATCHER},o.prototype.createCondition=function(e){var c=this.getConditionTypes()[e],h={filterType:this.getFilterType(),type:c},g=this.getValues(e);return g.length>0&&(h.filter=g[0]),g.length>1&&(h.filterTo=g[1]),h},o.prototype.getFilterType=function(){return"text"},o.prototype.areSimpleModelsEqual=function(e,c){return e.filter===c.filter&&e.filterTo===c.filterTo&&e.type===c.type},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getValues=function(e){var c=this,h=[];return this.forEachInput(function(g,b,$,j){if(e===$&&b<j){var rt=makeNull(g.getValue()),nt=(c.textFilterParams.trimInput?o.trimInput(rt):rt)||null;h.push(nt),g.setValue(nt,!0)}}),h},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(e){var c=e===ConditionPosition.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+c+`Body" role="presentation">
                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-`+c+`"></ag-input-text-field>
                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-`+c+`"></ag-input-text-field>
            </div>`},o.prototype.mapValuesFromModel=function(e){var c=e||{},h=c.filter,g=c.filterTo,b=c.type;return[h||null,g||null].slice(0,this.getNumberOfInputs(b))},o.prototype.evaluateNullValue=function(e){var c=[SimpleFilter.NOT_EQUAL,SimpleFilter.NOT_CONTAINS,SimpleFilter.BLANK];return e?c.indexOf(e)>=0:!1},o.prototype.evaluateNonNullValue=function(e,c,h,g){var b=this,$=e.map(function(bt){return b.formatter(bt)})||[],j=this.formatter(c),rt=this.textFilterParams,nt=rt.api,pt=rt.colDef,wt=rt.column,Dt=rt.columnApi,Lt=rt.context,it=rt.textFormatter;if(h.type===SimpleFilter.BLANK)return this.isBlank(c);if(h.type===SimpleFilter.NOT_BLANK)return!this.isBlank(c);var st={api:nt,colDef:pt,column:wt,columnApi:Dt,context:Lt,node:g.node,data:g.data,filterOption:h.type,value:j,textFormatter:it};return $.some(function(bt){return b.matcher(__assign$a(__assign$a({},st),{filterText:bt}))})},o.DEFAULT_FILTER_OPTIONS=[SimpleFilter.CONTAINS,SimpleFilter.NOT_CONTAINS,SimpleFilter.EQUALS,SimpleFilter.NOT_EQUAL,SimpleFilter.STARTS_WITH,SimpleFilter.ENDS_WITH,SimpleFilter.BLANK,SimpleFilter.NOT_BLANK],o.DEFAULT_FORMATTER=function(e){return e},o.DEFAULT_LOWERCASE_FORMATTER=function(e){return e==null?null:e.toString().toLowerCase()},o.DEFAULT_MATCHER=function(e){var c=e.filterOption,h=e.value,g=e.filterText;if(g==null)return!1;switch(c){case o.CONTAINS:return h.indexOf(g)>=0;case o.NOT_CONTAINS:return h.indexOf(g)<0;case o.EQUALS:return h===g;case o.NOT_EQUAL:return h!=g;case o.STARTS_WITH:return h.indexOf(g)===0;case o.ENDS_WITH:var b=h.lastIndexOf(g);return b>=0&&b===h.length-g.length;default:return!1}},__decorate$2b([RefSelector("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),__decorate$2b([RefSelector("eValue-index1-1")],o.prototype,"eValueTo1",void 0),__decorate$2b([RefSelector("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),__decorate$2b([RefSelector("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(SimpleFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2w=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2a=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},TextInputFloatingFilter=function(a){__extends$2w(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){this.resetTemplate()},o.prototype.resetTemplate=function(e){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>
            </div>
        `,e)},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.onParentModelChanged=function(e,c){this.isEventFromFloatingFilter(c)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},o.prototype.init=function(e){a.prototype.init.call(this,e),this.params=e,this.applyActive=ProvidedFilter.isUseApplyButton(this.params.filterParams);var c=this.params.filterParams.allowedCharPattern;if(c!=null&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:c}}),!this.isReadOnly()){var h=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),g=debounce(this.syncUpWithParentFilter.bind(this),h),b=this.eFloatingFilterInput.getGui();this.addManagedListener(b,"input",g),this.addManagedListener(b,"keypress",g),this.addManagedListener(b,"keydown",g)}var $=e.column.getDefinition();(this.isReadOnly()||$.filterParams&&$.filterParams.filterOptions&&$.filterParams.filterOptions.length===1&&$.filterParams.filterOptions[0]==="inRange")&&this.eFloatingFilterInput.setDisabled(!0);var j=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),rt=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(j+" "+rt("ariaFilterInput","Filter Input"))},o.prototype.syncUpWithParentFilter=function(e){var c=this,h=e.key===KeyCode.ENTER;if(!(this.applyActive&&!h)){var g=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(g=TextFilter.trimInput(g),this.eFloatingFilterInput.setValue(g,!0)),this.params.parentFilterInstance(function(b){b&&b.onFloatingFilterChanged(c.getLastType()||null,g||null)})}},o.prototype.conditionToString=function(e,c){var h=(c||{}).numberOfInputs,g=e.type==SimpleFilter.IN_RANGE||h===2;return g?e.filter+"-"+e.filterTo:e.filter!=null?""+e.filter:""+e.type},o.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},__decorate$2a([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$2a([RefSelector("eFloatingFilterInput")],o.prototype,"eFloatingFilterInput",void 0),__decorate$2a([PostConstruct],o.prototype,"postConstruct",null),o}(SimpleFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2v=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),NumberFloatingFilter=function(a){__extends$2v(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getDefaultFilterOptions=function(){return NumberFilter.DEFAULT_FILTER_OPTIONS},o}(TextInputFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2u=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),TextFloatingFilter=function(a){__extends$2u(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getDefaultFilterOptions=function(){return TextFilter.DEFAULT_FILTER_OPTIONS},o}(TextInputFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var TouchListener=function(){function a(o,e){var c=this;e===void 0&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new EventService,this.eElement=o,this.preventMouseClick=e;var h=this.onTouchStart.bind(this),g=this.onTouchMove.bind(this),b=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",h,{passive:!0}),this.eElement.addEventListener("touchmove",g,{passive:!0}),this.eElement.addEventListener("touchend",b,{passive:!1}),this.destroyFuncs.push(function(){c.eElement.removeEventListener("touchstart",h,{passive:!0}),c.eElement.removeEventListener("touchmove",g,{passive:!0}),c.eElement.removeEventListener("touchend",b,{passive:!1})})}return a.prototype.getActiveTouch=function(o){for(var e=0;e<o.length;e++){var c=o[e].identifier===this.touchStart.identifier;if(c)return o[e]}return null},a.prototype.addEventListener=function(o,e){this.eventService.addEventListener(o,e)},a.prototype.removeEventListener=function(o,e){this.eventService.removeEventListener(o,e)},a.prototype.onTouchStart=function(o){var e=this;if(!this.touching){this.touchStart=o.touches[0],this.touching=!0,this.moved=!1;var c=this.touchStart;window.setTimeout(function(){var h=e.touchStart===c;if(e.touching&&h&&!e.moved){e.moved=!0;var g={type:a.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:o};e.eventService.dispatchEvent(g)}},500)}},a.prototype.onTouchMove=function(o){if(this.touching){var e=this.getActiveTouch(o.touches);if(e){var c=!areEventsNear(e,this.touchStart,4);c&&(this.moved=!0)}}},a.prototype.onTouchEnd=function(o){if(this.touching){if(!this.moved){var e={type:a.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&o.cancelable&&o.preventDefault(),this.touching=!1}},a.prototype.checkForDoubleTap=function(){var o=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var e=o-this.lastTapTime;if(e>a.DOUBLE_TAP_MILLIS){var c={type:a.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(c),this.lastTapTime=null}else this.lastTapTime=o}else this.lastTapTime=o},a.prototype.destroy=function(){this.destroyFuncs.forEach(function(o){return o()})},a.EVENT_TAP="tap",a.EVENT_DOUBLE_TAP="doubleTap",a.EVENT_LONG_TAP="longTap",a.DOUBLE_TAP_MILLIS=500,a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2t=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$29=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SortIndicatorComp=function(a){__extends$2t(o,a);function o(e){var c=a.call(this)||this;return e||c.setTemplate(o.TEMPLATE),c}return o.prototype.attachCustomElements=function(e,c,h,g,b){this.eSortOrder=e,this.eSortAsc=c,this.eSortDesc=h,this.eSortMixed=g,this.eSortNone=b},o.prototype.setupSort=function(e,c){var h=this;c===void 0&&(c=!1),this.column=e,this.suppressOrder=c,this.setupMultiSortIndicator();var g=!!this.column.getColDef().sortable;g&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,function(){return h.onSortChanged()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return h.onSortChanged()}),this.onSortChanged())},o.prototype.addInIcon=function(e,c,h){if(c!=null){var g=createIconNoSpan(e,this.gridOptionsWrapper,h);g&&c.appendChild(g)}},o.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},o.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var c=e==="asc";this.eSortAsc.classList.toggle("ag-hidden",!c)}if(this.eSortDesc){var h=e==="desc";this.eSortDesc.classList.toggle("ag-hidden",!h)}if(this.eSortNone){var g=!this.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon(),b=e==null;this.eSortNone.classList.toggle("ag-hidden",g||!b)}},o.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var c=this.column.getColDef().showRowGroup,h=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();h&&c&&(this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},o.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";this.eSortMixed.classList.toggle("ag-hidden",!e)}},o.prototype.updateSortOrder=function(){var e=this,c;if(this.eSortOrder){var h=this.sortController.getColumnsWithSortingOrdered(),g=(c=this.sortController.getDisplaySortIndexForColumn(this.column),c??-1),b=h.some(function(j){var rt;return rt=e.sortController.getDisplaySortIndexForColumn(j),rt??-1>=1}),$=g>=0&&b;setDisplayed(this.eSortOrder,$),g>=0?this.eSortOrder.innerHTML=(g+1).toString():clearElement(this.eSortOrder)}},o.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,__decorate$29([RefSelector("eSortOrder")],o.prototype,"eSortOrder",void 0),__decorate$29([RefSelector("eSortAsc")],o.prototype,"eSortAsc",void 0),__decorate$29([RefSelector("eSortDesc")],o.prototype,"eSortDesc",void 0),__decorate$29([RefSelector("eSortMixed")],o.prototype,"eSortMixed",void 0),__decorate$29([RefSelector("eSortNone")],o.prototype,"eSortNone",void 0),__decorate$29([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$29([Autowired("sortController")],o.prototype,"sortController",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2s=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$28=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderComp=function(a){__extends$2s(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(e),!0)},o.prototype.workOutTemplate=function(){var e=firstExistingValue(this.params.template,o.TEMPLATE);return e=e&&e.trim?e.trim():e,e},o.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},o.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var c=escapeString(this.currentDisplayName);this.eText&&(this.eText.innerHTML=c)}},o.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},o.prototype.addInIcon=function(e,c,h){if(c!=null){var g=createIconNoSpan(e,this.gridOptionsWrapper,h);g&&c.appendChild(g)}},o.prototype.setupTap=function(){var e=this,c=this.gridOptionsWrapper;if(!c.isSuppressTouch()){var h=new TouchListener(this.getGui(),!0),g=c.isSuppressMenuHide(),b=g&&exists(this.eMenu),$=b?new TouchListener(this.eMenu,!0):h;if(this.params.enableMenu){var j=b?"EVENT_TAP":"EVENT_LONG_TAP",rt=function(pt){c.getApi().showColumnMenuAfterMouseClick(e.params.column,pt.touchStart)};this.addManagedListener($,TouchListener[j],rt)}if(this.params.enableSorting){var nt=function(pt){var wt=pt.touchStart.target;g&&e.eMenu.contains(wt)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(h,TouchListener.EVENT_TAP,nt)}this.addDestroyFunc(function(){return h.destroy()}),b&&this.addDestroyFunc(function(){return $.destroy()})}},o.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),c=isIOSUserAgent()&&e,h=this.params.enableMenu&&!c;return h},o.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){removeFromParent(this.eMenu);return}var c=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",c)}},o.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},o.prototype.workOutSort=function(){return this.params.enableSorting},o.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new SortIndicatorComp(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){var c=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Column.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(g){var b=e.params.column.isMoving(),$=new Date().getTime(),j=$-e.lastMovingChanged<50,rt=b||j;if(!rt){var nt=c?g.ctrlKey||g.metaKey:g.shiftKey;e.params.progressSort(nt)}});var h=function(){var g;if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var b=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),$=(g=b)===null||g===void 0?void 0:g.every(function(rt){return e.params.column.getSort()==rt.getSort()}),j=!$;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",j)}};this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,h),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,h)}},o.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},o.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!e)},o.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,__decorate$28([Autowired("sortController")],o.prototype,"sortController",void 0),__decorate$28([Autowired("menuFactory")],o.prototype,"menuFactory",void 0),__decorate$28([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$28([RefSelector("eFilter")],o.prototype,"eFilter",void 0),__decorate$28([RefSelector("eSortIndicator")],o.prototype,"eSortIndicator",void 0),__decorate$28([RefSelector("eMenu")],o.prototype,"eMenu",void 0),__decorate$28([RefSelector("eLabel")],o.prototype,"eLabel",void 0),__decorate$28([RefSelector("eText")],o.prototype,"eText",void 0),__decorate$28([RefSelector("eSortOrder")],o.prototype,"eSortOrder",void 0),__decorate$28([RefSelector("eSortAsc")],o.prototype,"eSortAsc",void 0),__decorate$28([RefSelector("eSortDesc")],o.prototype,"eSortDesc",void 0),__decorate$28([RefSelector("eSortMixed")],o.prototype,"eSortMixed",void 0),__decorate$28([RefSelector("eSortNone")],o.prototype,"eSortNone",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2r=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$27=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderGroupComp=function(a){__extends$2r(o,a);function o(){return a.call(this,o.TEMPLATE)||this}return o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},o.prototype.checkWarnings=function(){var e=this.params;if(e.template){var c="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";doOnce(function(){return console.warn(c)},"HeaderGroupComp.templateNotSupported")}},o.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var c=function(b){if(!isStopPropagationForAgGrid(b)){var $=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),$,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,c),this.addTouchAndClickListeners(this.eOpenIcon,c);var h=function(b){stopPropagationForAgGrid(b)};this.addManagedListener(this.eCloseIcon,"dblclick",h),this.addManagedListener(this.eOpenIcon,"dblclick",h),this.addManagedListener(this.getGui(),"dblclick",c),this.updateIconVisibility();var g=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(g,ProvidedColumnGroup.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(g,ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},o.prototype.addTouchAndClickListeners=function(e,c){var h=new TouchListener(e,!0);this.addManagedListener(h,TouchListener.EVENT_TAP,c),this.addDestroyFunc(function(){return h.destroy()}),this.addManagedListener(e,"click",c)},o.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var c=this.params.columnGroup.isExpanded();setDisplayed(this.eOpenIcon,c),setDisplayed(this.eCloseIcon,!c)}else setDisplayed(this.eOpenIcon,!1),setDisplayed(this.eCloseIcon,!1)},o.prototype.addInIcon=function(e,c){var h=createIconNoSpan(e,this.gridOptionsWrapper,null);h&&this.getRefElement(c).appendChild(h)},o.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){setDisplayed(this.eOpenIcon,!1),setDisplayed(this.eCloseIcon,!1);return}},o.prototype.setupLabel=function(){var e=this.params.displayName;if(exists(e)){var c=escapeString(e);this.getRefElement("agLabel").innerHTML=c}},o.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,__decorate$27([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$27([RefSelector("agOpened")],o.prototype,"eOpenIcon",void 0),__decorate$27([RefSelector("agClosed")],o.prototype,"eCloseIcon",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2q=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),PopupComponent=function(a){__extends$2q(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.isPopup=function(){return!0},o.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),a.prototype.setParentComponent.call(this,e)},o.prototype.destroy=function(){var e=this.parentComponent,c=e&&e.isAlive();c&&e.getGui().classList.remove("ag-has-popup"),a.prototype.destroy.call(this)},o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2p=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$26=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},LargeTextCellEditor=function(a){__extends$2p(o,a);function o(){return a.call(this,o.TEMPLATE)||this}return o.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),exists(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},o.prototype.onKeyDown=function(e){var c=e.key;(c===KeyCode.LEFT||c===KeyCode.UP||c===KeyCode.RIGHT||c===KeyCode.DOWN||e.shiftKey&&c===KeyCode.ENTER)&&e.stopPropagation()},o.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},o.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},o.TEMPLATE=`<div class="ag-large-text" tabindex="0">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,__decorate$26([RefSelector("eTextArea")],o.prototype,"eTextArea",void 0),o}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2o=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$25=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SelectCellEditor=function(a){__extends$2o(o,a);function o(){var e=a.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return o.prototype.init=function(e){var c=this;if(this.focusAfterAttached=e.cellStartedEdit,missing(e.values)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=e.eventKey!=null?e.eventKey===KeyCode.ENTER:!1;var h=!1;e.values.forEach(function(g){var b={value:g},$=c.valueFormatterService.formatValue(e.column,null,g),j=$!=null;b.text=j?$:g,c.eSelect.addOption(b),h=h||e.value===g}),h?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})},o.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},o.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},o.prototype.getValue=function(){return this.eSelect.getValue()},o.prototype.isPopup=function(){return!1},__decorate$25([Autowired("valueFormatterService")],o.prototype,"valueFormatterService",void 0),__decorate$25([RefSelector("eSelect")],o.prototype,"eSelect",void 0),o}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2n=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),PopupSelectCellEditor=function(a){__extends$2n(o,a);function o(){var e=a.call(this)||this;return doOnce(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),e}return o.prototype.isPopup=function(){return!0},o}(SelectCellEditor);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2m=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$24=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},TextCellEditor=function(a){__extends$2m(o,a);function o(){return a.call(this,o.TEMPLATE)||this}return o.prototype.init=function(e){this.params=e;var c=this.eInput,h;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===KeyCode.BACKSPACE||e.eventKey===KeyCode.DELETE?h="":e.charPress?h=e.charPress:(h=this.getStartValue(e),e.eventKey!==KeyCode.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,h=this.getStartValue(e)),h!=null&&c.setValue(h,!0),e.maxLength!=null&&c.setMaxLength(e.maxLength),this.addManagedListener(c.getGui(),"keydown",function(g){var b=g.key;(b===KeyCode.PAGE_UP||b===KeyCode.PAGE_DOWN)&&g.preventDefault()})},o.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.eInput;if(c.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){isBrowserSafari()||c.getFocusableElement().focus();var h=c.getInputElement();if(this.highlightAllOnFocus)h.select();else{var g=c.getValue(),b=exists(g)&&g.length||0;b&&h.setSelectionRange(b,b)}}},o.prototype.focusIn=function(){var e=this.eInput,c=e.getFocusableElement(),h=e.getInputElement();c.focus(),h.select()},o.prototype.getValue=function(){var e=this.eInput;return this.params.parseValue(e.getValue())},o.prototype.getStartValue=function(e){var c=e.useFormatter||e.column.getColDef().refData;return c?e.formatValue(e.value):e.value},o.prototype.isPopup=function(){return!1},o.TEMPLATE=`<div class="ag-cell-edit-wrapper">
            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>
        </div>`,__decorate$24([RefSelector("eInput")],o.prototype,"eInput",void 0),o}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2l=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),PopupTextCellEditor=function(a){__extends$2l(o,a);function o(){var e=a.call(this)||this;return doOnce(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),e}return o.prototype.isPopup=function(){return!0},o}(TextCellEditor);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2k=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$23=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ARROW_UP="↑",ARROW_DOWN="↓",AnimateShowChangeCellRenderer=function(a){__extends$2k(o,a);function o(){var e=a.call(this,o.TEMPLATE)||this;return e.refreshCount=0,e}return o.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},o.prototype.showDelta=function(e,c){var h=Math.abs(c),g=e.formatValue(h),b=exists(g)?g:h,$=c>=0;$?this.eDelta.innerHTML=ARROW_UP+b:this.eDelta.innerHTML=ARROW_DOWN+b,this.eDelta.classList.toggle("ag-value-change-delta-up",$),this.eDelta.classList.toggle("ag-value-change-delta-down",!$)},o.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var c=this.refreshCount;window.setTimeout(function(){c===e.refreshCount&&e.hideDeltaValue()},2e3)},o.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),clearElement(this.eDelta)},o.prototype.refresh=function(e){var c=e.value;if(c===this.lastValue||(exists(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:exists(e.value)?this.eValue.innerHTML=c:clearElement(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof c=="number"&&typeof this.lastValue=="number"){var h=c-this.lastValue;this.showDelta(e,h)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=c,!0},o.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',__decorate$23([Autowired("filterManager")],o.prototype,"filterManager",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2j=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$22=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AnimateSlideCellRenderer=function(a){__extends$2j(o,a);function o(){var e=a.call(this,o.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return o.prototype.init=function(e){this.refresh(e)},o.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var c=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){c===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){c===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},o.prototype.refresh=function(e){var c=e.value;return missing(c)&&(c=""),c===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=c,exists(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:exists(e.value)?this.eCurrent.innerHTML=c:clearElement(this.eCurrent),!0)},o.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,__decorate$22([Autowired("filterManager")],o.prototype,"filterManager",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var RowHighlightPosition;(function(a){a[a.Above=0]="Above",a[a.Below=1]="Below"})(RowHighlightPosition||(RowHighlightPosition={}));var RowNode=function(){function a(o){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=a.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=o}return a.prototype.setData=function(o){this.setDataCommon(o,!1)},a.prototype.updateData=function(o){this.setDataCommon(o,!0)},a.prototype.setDataCommon=function(o,e){var c=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var h=this.createDataChangedEvent(o,c,e);this.dispatchLocalEvent(h)},a.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},a.prototype.createDataChangedEvent=function(o,e,c){return{type:a.EVENT_DATA_CHANGED,node:this,oldData:e,newData:o,update:c}},a.prototype.createLocalRowEvent=function(o){return{type:o,node:this}},a.prototype.getRowIndexString=function(){return this.rowPinned===Constants.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===Constants.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},a.prototype.createDaemonNode=function(){var o=new a(this.beans);return o.id=this.id,o.data=this.data,o.daemon=!0,o.selected=this.selected,o.level=this.level,o},a.prototype.setDataAndId=function(o,e){var c=exists(this.id)?this.createDaemonNode():null,h=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,c),this.checkRowSelectable();var g=this.createDataChangedEvent(o,h,!1);this.dispatchLocalEvent(g)},a.prototype.checkRowSelectable=function(){var o=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(o?o(this):!0)},a.prototype.setRowSelectable=function(o){if(this.selectable!==o){this.selectable=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_SELECTABLE_CHANGED));var e=this.beans.gridOptionsWrapper.isGroupSelectsChildren();if(e){var c=this.calculateSelectedFromChildren();this.setSelected(c??!1)}}},a.prototype.setId=function(o){var e=this.beans.gridOptionsWrapper.getRowIdFunc();if(e)if(this.data){var c=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:c.length>0?c:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(a.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+a.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=o},a.prototype.getGroupKeys=function(o){o===void 0&&(o=!1);var e=[],c=this;for(o&&(c=c.parent);c&&c.level>=0;)e.push(c.key),c=c.parent;return e.reverse(),e},a.prototype.isPixelInRange=function(o){return!exists(this.rowTop)||!exists(this.rowHeight)?!1:o>=this.rowTop&&o<this.rowTop+this.rowHeight},a.prototype.setFirstChild=function(o){this.firstChild!==o&&(this.firstChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_FIRST_CHILD_CHANGED)))},a.prototype.setLastChild=function(o){this.lastChild!==o&&(this.lastChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_LAST_CHILD_CHANGED)))},a.prototype.setChildIndex=function(o){this.childIndex!==o&&(this.childIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_CHILD_INDEX_CHANGED)))},a.prototype.setRowTop=function(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_TOP_CHANGED)),this.setDisplayed(o!==null))},a.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},a.prototype.setDisplayed=function(o){this.displayed!==o&&(this.displayed=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_DISPLAYED_CHANGED)))},a.prototype.setDragging=function(o){this.dragging!==o&&(this.dragging=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_DRAGGING_CHANGED)))},a.prototype.setHighlighted=function(o){o!==this.highlighted&&(this.highlighted=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HIGHLIGHT_CHANGED)))},a.prototype.setAllChildrenCount=function(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},a.prototype.setMaster=function(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_MASTER_CHANGED)))},a.prototype.setGroup=function(o){this.group!==o&&(this.group&&!o&&(this.expanded=!1),this.group=o,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_GROUP_CHANGED)))},a.prototype.setRowHeight=function(o,e){e===void 0&&(e=!1),this.rowHeight=o,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HEIGHT_CHANGED))},a.prototype.setRowAutoHeight=function(o,e){this.__autoHeights||(this.__autoHeights={});var c=this.__autoHeights;c[e.getId()]=o,o!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=debounce(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},a.prototype.checkAutoHeights=function(){var o=!1,e=!0,c=0,h=this.__autoHeights;if(h!=null){var g=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(g.forEach(function($){var j=h[$.getId()];if(j==null){o=!0;return}e=!1,j>c&&(c=j)}),!o&&((e||c<10)&&(c=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),c!=this.rowHeight)){this.setRowHeight(c);var b=this.beans.rowModel;b.onRowHeightChangedDebounced&&b.onRowHeightChangedDebounced()}}},a.prototype.setRowIndex=function(o){this.rowIndex!==o&&(this.rowIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_ROW_INDEX_CHANGED)))},a.prototype.setUiLevel=function(o){this.uiLevel!==o&&(this.uiLevel=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_UI_LEVEL_CHANGED)))},a.prototype.setExpanded=function(o,e){if(this.expanded!==o){this.expanded=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_EXPANDED_CHANGED));var c=Object.assign({},this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED),{expanded:o,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(c),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},a.prototype.createGlobalRowEvent=function(o){return{type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},a.prototype.dispatchLocalEvent=function(o){this.eventService&&this.eventService.dispatchEvent(o)},a.prototype.setDataValue=function(o,e,c){var h=this.beans.columnModel.getPrimaryColumn(o),g=this.beans.valueService.getValue(h,this),b=this.beans.valueService.setValue(this,h,e,c);return this.dispatchCellChangedEvent(h,e,g),this.checkRowSelectable(),b},a.prototype.setGroupValue=function(o,e){var c=this.beans.columnModel.getGridColumn(o);missing(this.groupData)&&(this.groupData={});var h=c.getColId(),g=this.groupData[h];g!==e&&(this.groupData[h]=e,this.dispatchCellChangedEvent(c,e,g))},a.prototype.setAggData=function(o){var e=this,c=getAllKeysInObjects([this.aggData,o]),h=this.aggData;this.aggData=o,this.eventService&&c.forEach(function(g){var b=e.beans.columnModel.getGridColumn(g),$=e.aggData?e.aggData[g]:void 0,j=h?h[g]:void 0;e.dispatchCellChangedEvent(b,$,j)})},a.prototype.updateHasChildren=function(){var o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;o!==this.__hasChildren&&(this.__hasChildren=!!o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HAS_CHILDREN_CHANGED)))},a.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},a.prototype.isEmptyRowGroupNode=function(){return this.group&&missingOrEmpty(this.childrenAfterGroup)},a.prototype.dispatchCellChangedEvent=function(o,e,c){var h={type:a.EVENT_CELL_CHANGED,node:this,column:o,newValue:e,oldValue:c};this.dispatchLocalEvent(h)},a.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},a.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},a.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},a.prototype.depthFirstSearch=function(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(o)}),o(this)},a.prototype.calculateSelectedFromChildren=function(){var o,e=!1,c=!1,h=!1;if(!(!((o=this.childrenAfterGroup)===null||o===void 0)&&o.length))return this.selectable?this.selected:null;for(var g=0;g<this.childrenAfterGroup.length;g++){var b=this.childrenAfterGroup[g],$=b.isSelected();if(!b.selectable){var j=b.calculateSelectedFromChildren();if(j===null)continue;$=j}switch($){case!0:e=!0;break;case!1:c=!0;break;default:h=!0;break}}if(!(h||e&&c))return e?!0:c?!1:this.selectable?this.selected:null},a.prototype.setSelectedInitialValue=function(o){this.selected=o},a.prototype.setSelected=function(o,e,c){e===void 0&&(e=!1),c===void 0&&(c=!1),this.setSelectedParams({newValue:o,clearSelection:e,suppressFinishActions:c,rangeSelect:!1})},a.prototype.isRowPinned=function(){return this.rowPinned===Constants.PINNED_TOP||this.rowPinned===Constants.PINNED_BOTTOM},a.prototype.setSelectedParams=function(o){var e,c=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),h=o.newValue===!0,g=o.clearSelection===!0,b=o.suppressFinishActions===!0,$=o.rangeSelect===!0,j=c&&o.groupSelectsFiltered===!0;if(this.id===void 0)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(o);if($&&this.beans.selectionService.getLastSelectedNode()){var rt=this.beans.selectionService.getLastSelectedNode()!==this,nt=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(rt&&nt){var pt=this.doRowRangeSelection(o.newValue);return this.beans.selectionService.setLastSelectedNode(this),pt}}var wt=0,Dt=j&&this.group;if(!Dt){var Lt=this.selectThisNode(h,o.event);Lt&&wt++}if(c&&(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length)&&(wt+=this.selectChildNodes(h,j)),!b){var it=h&&(g||!this.beans.gridOptionsWrapper.isRowSelectionMulti());if(it&&(wt+=this.beans.selectionService.clearOtherNodes(this)),wt>0){this.beans.selectionService.updateGroupsFromChildrenSelections();var st={type:Events.EVENT_SELECTION_CHANGED};this.beans.eventService.dispatchEvent(st)}h&&this.beans.selectionService.setLastSelectedNode(this)}return wt},a.prototype.doRowRangeSelection=function(o){var e=this;o===void 0&&(o=!0);var c=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),h=this.beans.selectionService.getLastSelectedNode(),g=this.beans.rowModel.getNodesInRangeForSelection(this,h),b=0;g.forEach(function(j){if(!(j.group&&c||o===!1&&e===j)){var rt=j.selectThisNode(o);rt&&b++}}),this.beans.selectionService.updateGroupsFromChildrenSelections();var $={type:Events.EVENT_SELECTION_CHANGED};return this.beans.eventService.dispatchEvent($),b},a.prototype.isParentOfNode=function(o){for(var e=this.parent;e;){if(e===o)return!0;e=e.parent}return!1},a.prototype.selectThisNode=function(o,e){var c=!this.selectable&&o,h=this.selected===o;if(c||h)return!1;this.selected=o,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_ROW_SELECTED));var g=Object.assign({},this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED),{event:e||null});return this.beans.eventService.dispatchEvent(g),!0},a.prototype.selectChildNodes=function(o,e){var c=e?this.childrenAfterAggFilter:this.childrenAfterGroup;if(missing(c))return 0;for(var h=0,g=0;g<c.length;g++)h+=c[g].setSelectedParams({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return h},a.prototype.addEventListener=function(o,e){this.eventService||(this.eventService=new EventService),this.eventService.addEventListener(o,e)},a.prototype.removeEventListener=function(o,e){this.eventService&&(this.eventService.removeEventListener(o,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},a.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_MOUSE_ENTER))},a.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_MOUSE_LEAVE))},a.prototype.getFirstChildOfFirstChild=function(o){for(var e=this,c=!0,h=!1,g=null;c&&!h;){var b=e.parent,$=exists(b)&&e.firstChild;$?b.rowGroupColumn===o&&(h=!0,g=b):c=!1,e=b}return h?g:null},a.prototype.isFullWidthCell=function(){var o=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return o?o({rowNode:this}):!1},a.prototype.getRoute=function(){if(this.key!=null){for(var o=[],e=this;e.key!=null;)o.push(e.key),e=e.parent;return o.reverse()}},a.ID_PREFIX_ROW_GROUP="row-group-",a.ID_PREFIX_TOP_PINNED="t-",a.ID_PREFIX_BOTTOM_PINNED="b-",a.OBJECT_ID_SEQUENCE=0,a.EVENT_ROW_SELECTED="rowSelected",a.EVENT_DATA_CHANGED="dataChanged",a.EVENT_CELL_CHANGED="cellChanged",a.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",a.EVENT_MASTER_CHANGED="masterChanged",a.EVENT_GROUP_CHANGED="groupChanged",a.EVENT_MOUSE_ENTER="mouseEnter",a.EVENT_MOUSE_LEAVE="mouseLeave",a.EVENT_HEIGHT_CHANGED="heightChanged",a.EVENT_TOP_CHANGED="topChanged",a.EVENT_DISPLAYED_CHANGED="displayedChanged",a.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",a.EVENT_LAST_CHILD_CHANGED="lastChildChanged",a.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",a.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",a.EVENT_EXPANDED_CHANGED="expandedChanged",a.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",a.EVENT_SELECTABLE_CHANGED="selectableChanged",a.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",a.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",a.EVENT_DRAGGING_CHANGED="draggingChanged",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2i=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$9$1=function(){return __assign$9$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$9$1.apply(this,arguments)},__decorate$21=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},CheckboxSelectionComponent=function(a){__extends$2i(o,a);function o(){return a.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return o.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},o.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},o.prototype.onDataChanged=function(){this.onSelectionChanged()},o.prototype.onSelectableChanged=function(){this.showOrHideSelect()},o.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.rowNode.isSelected(),h=c===void 0?e("ariaIndeterminate","indeterminate"):c===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),g=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(c,!0),this.eCheckbox.setInputAriaLabel(g+" ("+h+")")},o.prototype.onCheckedClicked=function(e){var c=this.gridOptionsWrapper.isGroupSelectsFiltered(),h=this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:c});return h},o.prototype.onUncheckedClicked=function(e){var c=this.gridOptionsWrapper.isGroupSelectsFiltered(),h=this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:c});return h},o.prototype.init=function(e){var c=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function($){stopPropagationForAgGrid($)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function($){stopPropagationForAgGrid($);var j=c.eCheckbox.getValue(),rt=c.eCheckbox.getPreviousValue();if(rt===void 0||j===void 0){var nt=c.onUncheckedClicked($||{});nt===0&&c.onCheckedClicked($)}else j?c.onCheckedClicked($):c.onUncheckedClicked($||{})}),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var h=this.gridOptionsWrapper.getIsRowSelectableFunc(),g=h||typeof this.getIsVisible()=="function";if(g){var b=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,b),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,b),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,b),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},o.prototype.showOrHideSelect=function(){var e,c,h,g,b=this.rowNode.selectable,$=this.getIsVisible();if(b)if(typeof $=="function"){var j=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,rt=(c=this.column)===null||c===void 0?void 0:c.createColumnFunctionCallbackParams(this.rowNode);b=rt?$(__assign$9$1(__assign$9$1({},j),rt)):!1}else b=$??!1;var nt=(h=this.column)===null||h===void 0?void 0:h.getColDef().showDisabledCheckboxes;if(nt){this.eCheckbox.setDisabled(!b),this.setVisible(!0),this.setDisplayed(!0);return}if(!((g=this.overrides)===null||g===void 0)&&g.removeHidden){this.setDisplayed(b);return}this.setVisible(b)},o.prototype.getIsVisible=function(){var e,c;return this.overrides?this.overrides.isVisible:(c=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||c===void 0?void 0:c.checkboxSelection},__decorate$21([RefSelector("eCheckbox")],o.prototype,"eCheckbox",void 0),__decorate$21([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2h=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$20=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__values$3=function(a){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&a[o],c=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},DragSourceType;(function(a){a[a.ToolPanel=0]="ToolPanel",a[a.HeaderCell=1]="HeaderCell",a[a.RowDrag=2]="RowDrag",a[a.ChartPanel=3]="ChartPanel"})(DragSourceType||(DragSourceType={}));var VerticalDirection;(function(a){a[a.Up=0]="Up",a[a.Down=1]="Down"})(VerticalDirection||(VerticalDirection={}));var HorizontalDirection;(function(a){a[a.Left=0]="Left",a[a.Right=1]="Right"})(HorizontalDirection||(HorizontalDirection={}));var DragAndDropService=function(a){__extends$2h(o,a);function o(){var c=a!==null&&a.apply(this,arguments)||this;return c.dragSourceAndParamsList=[],c.dropTargets=[],c}e=o,o.prototype.init=function(){this.ePinnedIcon=createIcon("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=createIcon("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=createIcon("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=createIcon("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=createIcon("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=createIcon("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=createIcon("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=createIcon("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=createIcon("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(c,h){h===void 0&&(h=!1);var g={eElement:c.eElement,dragStartPixels:c.dragStartPixels,onDragStart:this.onDragStart.bind(this,c),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:g,dragSource:c}),this.dragService.addDragSource(g,h)},o.prototype.removeDragSource=function(c){var h=this.dragSourceAndParamsList.find(function(g){return g.dragSource===c});h&&(this.dragService.removeDragSource(h.params),removeFromArray(this.dragSourceAndParamsList,h))},o.prototype.clearDragSourceParamsList=function(){var c=this;this.dragSourceAndParamsList.forEach(function(h){return c.dragService.removeDragSource(h.params)}),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(c,h){this.dragging=!0,this.dragSource=c,this.eventLastTime=h,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(c){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var h=this.createDropTargetEvent(this.lastDropTarget,c,null,null,!1);this.lastDropTarget.onDragStop(h)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(c,h){var g=this,b,$,j,rt,nt=this.getHorizontalDirection(c),pt=this.getVerticalDirection(c);this.eventLastTime=c,this.positionGhost(c);var wt=this.dropTargets.filter(function(it){return g.isMouseOnDropTarget(c,it)}),Dt=this.findCurrentDropTarget(c,wt);if(Dt!==this.lastDropTarget)this.leaveLastTargetIfExists(c,nt,pt,h),this.lastDropTarget!==null&&Dt===null&&(($=(b=this.dragSource).onGridExit)===null||$===void 0||$.call(b,this.dragItem)),this.lastDropTarget===null&&Dt!==null&&((rt=(j=this.dragSource).onGridEnter)===null||rt===void 0||rt.call(j,this.dragItem)),this.enterDragTargetIfExists(Dt,c,nt,pt,h),this.lastDropTarget=Dt;else if(Dt&&Dt.onDragging){var Lt=this.createDropTargetEvent(Dt,c,nt,pt,h);Dt.onDragging(Lt)}},o.prototype.getAllContainersFromDropTarget=function(c){var h=c.getSecondaryContainers?c.getSecondaryContainers():null,g=[[c.getContainer()]];return h?g.concat(h):g},o.prototype.allContainersIntersect=function(c,h){var g,b;try{for(var $=__values$3(h),j=$.next();!j.done;j=$.next()){var rt=j.value,nt=rt.getBoundingClientRect();if(nt.width===0||nt.height===0)return!1;var pt=c.clientX>=nt.left&&c.clientX<nt.right,wt=c.clientY>=nt.top&&c.clientY<nt.bottom;if(!pt||!wt)return!1}}catch(Dt){g={error:Dt}}finally{try{j&&!j.done&&(b=$.return)&&b.call($)}finally{if(g)throw g.error}}return!0},o.prototype.isMouseOnDropTarget=function(c,h){var g,b,$=this.getAllContainersFromDropTarget(h),j=!1;try{for(var rt=__values$3($),nt=rt.next();!nt.done;nt=rt.next()){var pt=nt.value;if(this.allContainersIntersect(c,pt)){j=!0;break}}}catch(wt){g={error:wt}}finally{try{nt&&!nt.done&&(b=rt.return)&&b.call(rt)}finally{if(g)throw g.error}}return h.targetContainsSource&&!h.getContainer().contains(this.dragSource.eElement)?!1:j&&h.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},o.prototype.findCurrentDropTarget=function(c,h){var g,b,$,j,rt=h.length;if(rt===0)return null;if(rt===1)return h[0];var nt=this.gridOptionsWrapper.getDocument(),pt=nt.elementsFromPoint(c.clientX,c.clientY);try{for(var wt=__values$3(pt),Dt=wt.next();!Dt.done;Dt=wt.next()){var Lt=Dt.value;try{for(var it=($=void 0,__values$3(h)),st=it.next();!st.done;st=it.next()){var bt=st.value,gt=flatten(this.getAllContainersFromDropTarget(bt));if(gt.indexOf(Lt)!==-1)return bt}}catch(Et){$={error:Et}}finally{try{st&&!st.done&&(j=it.return)&&j.call(it)}finally{if($)throw $.error}}}}catch(Et){g={error:Et}}finally{try{Dt&&!Dt.done&&(b=wt.return)&&b.call(wt)}finally{if(g)throw g.error}}return null},o.prototype.enterDragTargetIfExists=function(c,h,g,b,$){if(c){if(c.onDragEnter){var j=this.createDropTargetEvent(c,h,g,b,$);c.onDragEnter(j)}this.setGhostIcon(c.getIconName?c.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(c,h,g,b){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var $=this.createDropTargetEvent(this.lastDropTarget,c,h,g,b);this.lastDropTarget.onDragLeave($)}this.setGhostIcon(null)}},o.prototype.addDropTarget=function(c){this.dropTargets.push(c)},o.prototype.removeDropTarget=function(c){this.dropTargets=this.dropTargets.filter(function(h){return h.getContainer()!==c.getContainer()})},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(c){return c.external})},o.prototype.findExternalZone=function(c){var h=this.dropTargets.filter(function(g){return g.external});return h.find(function(g){return g.getContainer()===c.getContainer()})||null},o.prototype.getHorizontalDirection=function(c){var h=this.eventLastTime&&this.eventLastTime.clientX,g=c.clientX;return h===g?null:h>g?HorizontalDirection.Left:HorizontalDirection.Right},o.prototype.getVerticalDirection=function(c){var h=this.eventLastTime&&this.eventLastTime.clientY,g=c.clientY;return h===g?null:h>g?VerticalDirection.Up:VerticalDirection.Down},o.prototype.createDropTargetEvent=function(c,h,g,b,$){var j=c.getContainer(),rt=j.getBoundingClientRect(),nt=this,pt=nt.gridApi,wt=nt.columnApi,Dt=nt.dragItem,Lt=nt.dragSource,it=h.clientX-rt.left,st=h.clientY-rt.top;return{event:h,x:it,y:st,vDirection:b,hDirection:g,dragSource:Lt,fromNudge:$,dragItem:Dt,api:pt,columnApi:wt,dropZoneTarget:j}},o.prototype.positionGhost=function(c){var h=this.eGhost;if(h){var g=h.getBoundingClientRect(),b=g.height,$=getBodyWidth()-2,j=getBodyHeight()-2,rt=c.pageY-b/2,nt=c.pageX-10,pt=this.gridOptionsWrapper.getDocument(),wt=pt.defaultView||window,Dt=wt.pageYOffset||pt.documentElement.scrollTop,Lt=wt.pageXOffset||pt.documentElement.scrollLeft;$>0&&nt+h.clientWidth>$+Lt&&(nt=$+Lt-h.clientWidth),nt<0&&(nt=0),j>0&&rt+h.clientHeight>j+Dt&&(rt=j+Dt-h.clientHeight),rt<0&&(rt=0),h.style.left=nt+"px",h.style.top=rt+"px"}},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=loadTemplate(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var c=this.environment.getTheme().theme;c&&this.eGhost.classList.add(c),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var h=this.eGhost.querySelector(".ag-dnd-ghost-label"),g=this.dragSource.dragItemName;isFunction(g)&&(g=g()),h.innerHTML=escapeString(g)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var b=this.gridOptionsWrapper.getDocument(),$=null;try{$=b.fullscreenElement}catch{}finally{$||($=b.querySelector("body"))}this.eGhostParent=$,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(c,h){h===void 0&&(h=!1),clearElement(this.eGhostIcon);var g=null;switch(c||(c=this.dragSource.defaultIconName||e.ICON_NOT_ALLOWED),c){case e.ICON_PINNED:g=this.ePinnedIcon;break;case e.ICON_MOVE:g=this.eMoveIcon;break;case e.ICON_LEFT:g=this.eLeftIcon;break;case e.ICON_RIGHT:g=this.eRightIcon;break;case e.ICON_GROUP:g=this.eGroupIcon;break;case e.ICON_AGGREGATE:g=this.eAggregateIcon;break;case e.ICON_PIVOT:g=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:g=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:g=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",h),!(g===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&g&&this.eGhostIcon.appendChild(g)};var e;return o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,__decorate$20([Autowired("dragService")],o.prototype,"dragService",void 0),__decorate$20([Autowired("mouseEventService")],o.prototype,"mouseEventService",void 0),__decorate$20([Autowired("environment")],o.prototype,"environment",void 0),__decorate$20([Autowired("columnApi")],o.prototype,"columnApi",void 0),__decorate$20([Autowired("gridApi")],o.prototype,"gridApi",void 0),__decorate$20([PostConstruct],o.prototype,"init",null),__decorate$20([PreDestroy],o.prototype,"clearDragSourceParamsList",null),o=e=__decorate$20([Bean("dragAndDropService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2g=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1$=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RowDragComp=function(a){__extends$2g(o,a);function o(e,c,h,g,b,$){var j=a.call(this)||this;return j.cellValueFn=e,j.rowNode=c,j.column=h,j.customGui=g,j.dragStartPixels=b,j.suppressVisibilityChange=$,j.dragSource=null,j}return o.prototype.isCustomGui=function(){return this.customGui!=null},o.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new ManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column):new NonManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},o.prototype.setDragElement=function(e,c){this.setTemplateFromElement(e),this.addDragSource(c)},o.prototype.getSelectedNodes=function(){var e=this.beans.gridOptionsWrapper.isRowDragMultiRow();if(!e)return[this.rowNode];var c=this.beans.selectionService.getSelectedNodes();return c.indexOf(this.rowNode)!==-1?c:[this.rowNode]},o.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged(),c=this.beans.gridOptionsWrapper.isTreeData();c&&e&&doOnce(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},o.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},o.prototype.addDragSource=function(e){var c=this;e===void 0&&(e=4),this.dragSource&&this.removeDragSource();var h=this.gridOptionsWrapper.getRowDragText(this.column),g=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var b,$=c.getDragItem(),j=((b=$.rowNodes)===null||b===void 0?void 0:b.length)||1;return h?h($,j):j===1?c.cellValueFn():j+" "+g("rowDragRows","rows")},getDragItem:function(){return c.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},o.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},__decorate$1$([Autowired("beans")],o.prototype,"beans",void 0),__decorate$1$([PostConstruct],o.prototype,"postConstruct",null),__decorate$1$([PreDestroy],o.prototype,"removeDragSource",null),o}(Component),VisibilityStrategy=function(a){__extends$2g(o,a);function o(e,c,h){var g=a.call(this)||this;return g.parent=e,g.rowNode=c,g.column=h,g}return o.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var c=!0,h=!1;this.column&&(c=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),h=isFunction(this.column.getColDef().rowDrag)),h?(this.parent.setDisplayed(!0),this.parent.setVisible(c)):(this.parent.setDisplayed(c),this.parent.setVisible(!0))}},o}(BeanStub),NonManagedVisibilityStrategy=function(a){__extends$2g(o,a);function o(e,c,h,g){var b=a.call(this,e,h,g)||this;return b.beans=c,b}return o.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},__decorate$1$([PostConstruct],o.prototype,"postConstruct",null),o}(VisibilityStrategy),ManagedVisibilityStrategy=function(a){__extends$2g(o,a);function o(e,c,h,g){var b=a.call(this,e,h,g)||this;return b.beans=c,b}return o.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Events.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),c=e.getRowDragFeature(),h=c&&c.shouldPreventRowMove(),g=this.beans.gridOptionsWrapper.isSuppressRowDrag(),b=this.beans.dragAndDropService.hasExternalDropZones(),$=h&&!b||g;this.setDisplayedOrVisible($)},__decorate$1$([PostConstruct],o.prototype,"postConstruct",null),o}(VisibilityStrategy);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2f=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$8$1=function(){return __assign$8$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$8$1.apply(this,arguments)},__decorate$1_=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GroupCellRendererCtrl=function(a){__extends$2f(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.init=function(e,c,h,g,b,$,j){this.params=j,this.eGui=c,this.eCheckbox=h,this.eExpanded=g,this.eContracted=b,this.comp=e,this.compClass=$;var rt=this.isTopLevelFooter(),nt=this.isEmbeddedRowMismatch(),pt=j.value==null,wt=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var Dt=j.node;if(Dt.footer){var Lt=j.colDef&&j.colDef.showRowGroup,it=Dt.rowGroupColumn&&Dt.rowGroupColumn.getColId();wt=Lt!==it}}this.cellIsBlank=rt?!1:nt||pt||wt,!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},o.prototype.destroy=function(){a.prototype.destroy.call(this),this.expandListener=null},o.prototype.refreshAriaExpanded=function(){var e=this.params,c=e.node,h=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){removeAriaExpanded(h);return}var g=function(){setAriaExpanded(h,!!c.expanded)};this.expandListener=this.addManagedListener(c,RowNode.EVENT_EXPANDED_CHANGED,g)||null,g()},o.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||this.params.value!=null||this.params.node.level!=-1)return!1;var e=this.params.colDef,c=e==null;if(c||e.showRowGroup===!0)return!0;var h=this.columnModel.getRowGroupColumns();if(!h||h.length===0)return!0;var g=h[0];return g.getId()===e.showRowGroup},o.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===Constants.PINNED_LEFT,c=this.params.pinned===Constants.PINNED_RIGHT,h=!e&&!c;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!c:!h:this.columnModel.isPinningLeft()?!e:!h},o.prototype.findDisplayedGroupNode=function(){var e=this.params.column,c=this.params.node;if(this.showingValueForOpenedParent)for(var h=c.parent;h!=null;){if(h.rowGroupColumn&&e.isRowGroupDisplayed(h.rowGroupColumn.getId())){this.displayedGroupNode=h;break}h=h.parent}missing(this.displayedGroupNode)&&(this.displayedGroupNode=c)},o.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,c=this.params.column;if(!this.gridOptionsWrapper.isGroupHideOpenParents()){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}var h=e.rowGroupColumn!=null;if(h){var g=e.rowGroupColumn.getId(),b=c.isRowGroupDisplayed(g);if(b){this.showingValueForOpenedParent=!1;return}}var $=e.groupData[c.getId()]!=null;this.showingValueForOpenedParent=$},o.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},o.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),c=this.getInnerCompDetails(e),h=e.valueFormatted,g=e.value,b=h??g;this.comp.setInnerRenderer(c,b)},o.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,c=this.params.column;if(!e)return this.params;var h=c!=null;if(h){var g=c.isRowGroupDisplayed(e.getId());if(!g)return this.params}var b=this.params,$=this.params,j=$.value,rt=$.node,nt=this.valueFormatterService.formatValue(e,rt,j),pt=__assign$8$1(__assign$8$1({},b),{valueFormatted:nt});return pt},o.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,c="";if(e){var h=cloneObject(this.params);h.value=this.params.value,typeof e=="function"?c=e(h):typeof e=="string"?c=this.expressionService.evaluate(e,h):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else c="Total "+(this.params.value!=null?this.params.value:"");var g=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(g,c)},o.prototype.getInnerCompDetails=function(e){var c=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,e);var h=this.userComponentFactory.getInnerRendererDetails(e,e),g=function(nt){return nt&&nt.componentClass==c.compClass};if(h&&!g(h))return h;var b=this.displayedGroupNode.rowGroupColumn,$=b?b.getColDef():void 0;if($){var j=this.userComponentFactory.getCellRendererDetails($,e);if(j&&!g(j))return j;if(g(j)&&$.cellRendererParams&&$.cellRendererParams.innerRenderer){var rt=this.userComponentFactory.getInnerRendererDetails($.cellRendererParams,e);return rt}}},o.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},o.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,c=this.isShowRowGroupForThisRow(),h=c&&e!=null&&e>=0,g=h?"("+e+")":"";this.comp.setChildCount(g)},o.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var c=this.params.column,h=c==null||c.isRowGroupDisplayed(e.getId());return h},o.prototype.addExpandAndContract=function(){var e=this.params,c=createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null),h=createIconNoSpan("groupContracted",this.gridOptionsWrapper,null);c&&this.eExpanded.appendChild(c),h&&this.eContracted.appendChild(h);var g=e.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(g,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(g,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,RowNode.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var b=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,b),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_MASTER_CHANGED,b),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_GROUP_CHANGED,b),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_HAS_CHILDREN_CHANGED,b)},o.prototype.onExpandClicked=function(e){isStopPropagationForAgGrid(e)||(stopPropagationForAgGrid(e),this.onExpandOrContract(e))},o.prototype.onExpandOrContract=function(e){var c=this.displayedGroupNode,h=!c.expanded;!h&&c.sticky&&this.scrollToStickyNode(c),c.setExpanded(h,e)},o.prototype.scrollToStickyNode=function(e){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature();h.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},o.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,c=this.columnModel.isPivotMode()&&e.leafGroup,h=e.isExpandable()&&!e.footer&&!c;if(!h)return!1;var g=this.params.column,b=g!=null&&typeof g.getColDef().showRowGroup=="string";if(b){var $=this.isShowRowGroupForThisRow();return $}return!0},o.prototype.showExpandAndContractIcons=function(){var e=this,c=e.params,h=e.displayedGroupNode,g=e.columnModel,b=c.node,$=this.isExpandable();if($){var j=this.showingValueForOpenedParent?!0:b.expanded;this.comp.setExpandedDisplayed(j),this.comp.setContractedDisplayed(!j)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var rt=g.isPivotMode(),nt=rt&&h.leafGroup,pt=$&&!nt,wt=b.footer&&b.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",pt),this.comp.addOrRemoveCssClass("ag-row-group",pt),rt?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",nt):wt||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!pt)},o.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},o.prototype.setupIndent=function(){var e=this.params.node,c=this.params.suppressPadding;c||(this.addManagedListener(e,RowNode.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},o.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,c=e.node,h=!!e.colDef,g=this.gridOptionsWrapper.isTreeData(),b=!h||g||e.colDef.showRowGroup===!0,$=b?c.uiLevel:0,j=e.padding>=0;j&&doOnce(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+$,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},o.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var c=new RowDragComp(function(){return e.params.value},this.params.node);this.createManagedBean(c,this.context),this.eGui.insertAdjacentElement("afterbegin",c.getGui())}},o.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return typeof e=="function"||e===!0},o.prototype.addCheckboxIfNeeded=function(){var e=this,c=this.displayedGroupNode,h=this.isUserWantsSelected()&&!c.footer&&!c.rowPinned&&!c.detail;if(h){var g=new CheckboxSelectionComponent;this.getContext().createBean(g),g.init({rowNode:c,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(g.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(g)})}this.comp.setCheckboxVisible(h)},o.prototype.onKeyDown=function(e){var c=e.key===KeyCode.ENTER;if(!(!c||this.params.suppressEnterExpand)){var h=this.params.column&&this.params.column.isCellEditable(this.params.node);h||this.onExpandOrContract(e)}},o.prototype.onCellDblClicked=function(e){if(!isStopPropagationForAgGrid(e)){var c=isElementInEventPath(this.eExpanded,e)||isElementInEventPath(this.eContracted,e);c||this.onExpandOrContract(e)}},__decorate$1_([Autowired("expressionService")],o.prototype,"expressionService",void 0),__decorate$1_([Autowired("valueFormatterService")],o.prototype,"valueFormatterService",void 0),__decorate$1_([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1_([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),__decorate$1_([Autowired("gridOptions")],o.prototype,"gridOptions",void 0),__decorate$1_([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2e=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1Z=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GroupCellRenderer$1=function(a){__extends$2e(o,a);function o(){return a.call(this,o.TEMPLATE)||this}return o.prototype.init=function(e){var c=this,h={setInnerRenderer:function(j,rt){return c.setRenderDetails(j,rt)},setChildCount:function(j){return c.eChildCount.innerHTML=j},addOrRemoveCssClass:function(j,rt){return c.addOrRemoveCssClass(j,rt)},setContractedDisplayed:function(j){return setDisplayed(c.eContracted,j)},setExpandedDisplayed:function(j){return setDisplayed(c.eExpanded,j)},setCheckboxVisible:function(j){return c.eCheckbox.classList.toggle("ag-invisible",!j)}},g=this.createManagedBean(new GroupCellRendererCtrl),b=!e.colDef,$=this.getGui();g.init(h,$,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),b&&setAriaRole($,"gridcell")},o.prototype.setRenderDetails=function(e,c){var h=this;if(e){var g=e.newAgStackInstance();if(!g)return;g.then(function(b){if(b){var $=function(){return h.context.destroyBean(b)};h.isAlive()?(h.eValue.appendChild(b.getGui()),h.addDestroyFunc($)):$()}})}else this.eValue.innerText=c},o.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),a.prototype.destroy.call(this)},o.prototype.refresh=function(){return!1},o.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,__decorate$1Z([RefSelector("eExpanded")],o.prototype,"eExpanded",void 0),__decorate$1Z([RefSelector("eContracted")],o.prototype,"eContracted",void 0),__decorate$1Z([RefSelector("eCheckbox")],o.prototype,"eCheckbox",void 0),__decorate$1Z([RefSelector("eValue")],o.prototype,"eValue",void 0),__decorate$1Z([RefSelector("eChildCount")],o.prototype,"eChildCount",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2d=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1Y=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},LoadingCellRenderer=function(a){__extends$2d(o,a);function o(){return a.call(this,o.TEMPLATE)||this}return o.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},o.prototype.setupFailed=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},o.prototype.setupLoading=function(){var e=createIconNoSpan("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var c=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=c("loadingOoo","Loading")},o.prototype.refresh=function(e){return!1},o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,__decorate$1Y([RefSelector("eLoadingIcon")],o.prototype,"eLoadingIcon",void 0),__decorate$1Y([RefSelector("eLoadingText")],o.prototype,"eLoadingText",void 0),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2c=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),LoadingOverlayComponent$1=function(a){__extends$2c(o,a);function o(){return a.call(this)||this}return o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.init=function(e){var c=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():o.DEFAULT_LOADING_OVERLAY_TEMPLATE,h=this.gridOptionsWrapper.getLocaleTextFunc(),g=c.replace("[LOADING...]",h("loadingOoo","Loading..."));this.setTemplate(g)},o.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2b=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),NoRowsOverlayComponent$1=function(a){__extends$2b(o,a);function o(){return a.call(this)||this}return o.prototype.destroy=function(){a.prototype.destroy.call(this)},o.prototype.init=function(e){var c=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():o.DEFAULT_NO_ROWS_TEMPLATE,h=this.gridOptionsWrapper.getLocaleTextFunc(),g=c.replace("[NO_ROWS_TO_SHOW]",h("noRowsToShow","No Rows To Show"));this.setTemplate(g)},o.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2a=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),TooltipComponent$1=function(a){__extends$2a(o,a);function o(){return a.call(this,'<div class="ag-tooltip"></div>')||this}return o.prototype.init=function(e){var c=e.value;this.getGui().innerHTML=escapeString(c)},o}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$29=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1X=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},UserComponentRegistry=function(a){__extends$29(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:DefaultDateComponent,agColumnHeader:HeaderComp,agColumnGroupHeader:HeaderGroupComp,agSortIndicator:SortIndicatorComp,agTextColumnFloatingFilter:TextFloatingFilter,agNumberColumnFloatingFilter:NumberFloatingFilter,agDateColumnFloatingFilter:DateFloatingFilter,agReadOnlyFloatingFilter:ReadOnlyFloatingFilter,agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer,agGroupCellRenderer:GroupCellRenderer$1,agGroupRowRenderer:GroupCellRenderer$1,agLoadingCellRenderer:LoadingCellRenderer,agCellEditor:TextCellEditor,agTextCellEditor:TextCellEditor,agSelectCellEditor:SelectCellEditor,agPopupTextCellEditor:PopupTextCellEditor,agPopupSelectCellEditor:PopupSelectCellEditor,agLargeTextCellEditor:LargeTextCellEditor,agTextColumnFilter:TextFilter,agNumberColumnFilter:NumberFilter,agDateColumnFilter:DateFilter,agLoadingOverlay:LoadingOverlayComponent$1,agNoRowsOverlay:NoRowsOverlayComponent$1,agTooltipComponent:TooltipComponent$1},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComps={},e.fwComps={},e}return o.prototype.init=function(){var e=this;this.gridOptions.components!=null&&iterateObject(this.gridOptions.components,function(c,h){return e.registerJsComponent(c,h)}),this.gridOptions.frameworkComponents!=null&&iterateObject(this.gridOptions.frameworkComponents,function(c,h){return e.registerFwComponent(c,h)})},o.prototype.registerDefaultComponent=function(e,c){var h=this.translateIfDeprecated(e);if(this.agGridDefaults[h]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[h]=c},o.prototype.registerJsComponent=function(e,c){var h=this.translateIfDeprecated(e);if(this.fwComps[h]){console.error("Trying to register a component that you have already registered for frameworks: "+h);return}this.jsComps[h]=c},o.prototype.registerFwComponent=function(e,c){var h="AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.";doOnce(function(){return console.warn(h)},"UserComponentRegistry.frameworkComponentsDeprecated");var g=this.translateIfDeprecated(e);this.fwComps[g]=c},o.prototype.retrieve=function(e){var c=this.translateIfDeprecated(e),h=function(nt,pt){return{componentFromFramework:pt,component:nt}},g=this.getFrameworkOverrides().frameworkComponent(c,this.gridOptions.components);if(g!=null)return h(g,!0);var b=this.fwComps[c];if(b)return h(b,!0);var $=this.jsComps[c];if($){var j=this.getFrameworkOverrides().isFrameworkComponent($);return h($,j)}var rt=this.agGridDefaults[c];return rt?h(rt,!1):(Object.keys(this.agGridDefaults).indexOf(c)<0&&console.warn("AG Grid: Looking for component ["+c+"] but it wasn't found."),null)},o.prototype.translateIfDeprecated=function(e){var c=this.agDeprecatedNames[e];return c!=null?(doOnce(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+c.propertyHolder+":"+e+" to "+c.propertyHolder+":"+c.newComponentName)},"DEPRECATE_COMPONENT_"+e),c.newComponentName):e},__decorate$1X([Autowired("gridOptions")],o.prototype,"gridOptions",void 0),__decorate$1X([Autowired("agComponentUtils")],o.prototype,"agComponentUtils",void 0),__decorate$1X([PostConstruct],o.prototype,"init",null),o=__decorate$1X([Bean("userComponentRegistry")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DateComponent={propertyName:"dateComponent",cellRenderer:!1},HeaderComponent={propertyName:"headerComponent",cellRenderer:!1},HeaderGroupComponent={propertyName:"headerGroupComponent",cellRenderer:!1},CellRendererComponent={propertyName:"cellRenderer",cellRenderer:!0},CellEditorComponent={propertyName:"cellEditor",cellRenderer:!1},InnerRendererComponent={propertyName:"innerRenderer",cellRenderer:!0},LoadingOverlayComponent={propertyName:"loadingOverlayComponent",cellRenderer:!1},NoRowsOverlayComponent={propertyName:"noRowsOverlayComponent",cellRenderer:!1},TooltipComponent={propertyName:"tooltipComponent",cellRenderer:!1},FilterComponent={propertyName:"filter",cellRenderer:!1},FloatingFilterComponent={propertyName:"floatingFilterComponent",cellRenderer:!1},ToolPanelComponent={propertyName:"toolPanel",cellRenderer:!1},StatusPanelComponent={propertyName:"statusPanel",cellRenderer:!1},FullWidth={propertyName:"fullWidthCellRenderer",cellRenderer:!0},FullWidthLoading={propertyName:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={propertyName:"groupRowRenderer",cellRenderer:!0},FullWidthDetail={propertyName:"detailCellRenderer",cellRenderer:!0};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FloatingFilterMapper=function(){function a(){}return a.getFloatingFilterType=function(o){return this.filterToFloatingFilterMapping[o]},a.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$28=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1W=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},UserComponentFactory=function(a){__extends$28(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getHeaderCompDetails=function(e,c){return this.getCompDetails(e,HeaderComponent,"agColumnHeader",c)},o.prototype.getHeaderGroupCompDetails=function(e){var c=e.columnGroup.getColGroupDef();return this.getCompDetails(c,HeaderGroupComponent,"agColumnGroupHeader",e)},o.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,FullWidth,null,e,!0)},o.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,FullWidthLoading,"agLoadingCellRenderer",e,!0)},o.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,FullWidthGroup,"agGroupRowRenderer",e,!0)},o.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,FullWidthDetail,"agDetailCellRenderer",e,!0)},o.prototype.getInnerRendererDetails=function(e,c){return this.getCompDetails(e,InnerRendererComponent,null,c)},o.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,c){return this.getCompDetails(e,InnerRendererComponent,null,c)},o.prototype.getCellRendererDetails=function(e,c){return this.getCompDetails(e,CellRendererComponent,null,c)},o.prototype.getCellEditorDetails=function(e,c){return this.getCompDetails(e,CellEditorComponent,"agCellEditor",c,!0)},o.prototype.getFilterDetails=function(e,c,h){return this.getCompDetails(e,FilterComponent,h,c,!0)},o.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,DateComponent,"agDateInput",e,!0)},o.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,LoadingOverlayComponent,"agLoadingOverlay",e,!0)},o.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,NoRowsOverlayComponent,"agNoRowsOverlay",e,!0)},o.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,TooltipComponent,"agTooltipComponent",e,!0)},o.prototype.getSetFilterCellRendererDetails=function(e,c){return this.getCompDetails(e,CellRendererComponent,null,c)},o.prototype.getFloatingFilterCompDetails=function(e,c,h){return this.getCompDetails(e,FloatingFilterComponent,h,c)},o.prototype.getToolPanelCompDetails=function(e,c){return this.getCompDetails(e,ToolPanelComponent,null,c,!0)},o.prototype.getStatusPanelCompDetails=function(e,c){return this.getCompDetails(e,StatusPanelComponent,null,c,!0)},o.prototype.getCompDetails=function(e,c,h,g,b){var $=this;b===void 0&&(b=!1);var j=c.propertyName,rt=c.cellRenderer,nt=this.getCompKeys(e,c,g),pt=nt.compName,wt=nt.jsComp,Dt=nt.fwComp,Lt=nt.paramsFromSelector,it=nt.popupFromSelector,st=nt.popupPositionFromSelector,bt=function(_t){var Mt=$.userComponentRegistry.retrieve(_t);Mt&&(wt=Mt.componentFromFramework?void 0:Mt.component,Dt=Mt.componentFromFramework?Mt.component:void 0)};if(pt!=null&&bt(pt),wt==null&&Dt==null&&h!=null&&bt(h),wt&&rt&&!this.agComponentUtils.doesImplementIComponent(wt)&&(wt=this.agComponentUtils.adaptFunction(j,wt)),!wt&&!Dt){b&&console.error("Could not find component "+pt+", did you forget to configure this component?");return}var gt=this.mergeParamsWithApplicationProvidedParams(e,c,g,Lt),Et=wt==null,ot=wt||Dt;return{componentFromFramework:Et,componentClass:ot,params:gt,type:c,popupFromSelector:it,popupPositionFromSelector:st,newAgStackInstance:function(){return $.newAgStackInstance(ot,Et,gt,c)}}},o.prototype.getCompKeys=function(e,c,h){var g=this,b=c.propertyName,$,j,rt,nt,pt,wt;if(e){var Dt=e,Lt=Dt[b+"Selector"],it=Lt?Lt(h):null,st=function(gt,Et){var ot=function(){var Mt="AG Grid: As of v27, the property "+b+"Framework is deprecated. The property "+b+" can now be used for JavaScript AND Framework Components.";doOnce(function(){return console.warn(Mt)},"UserComponentFactory."+b+"FrameworkDeprecated")};if(typeof gt=="string")$=gt;else if(typeof Et=="string")ot(),$=Et;else if(gt!=null&&gt!==!0){var _t=g.getFrameworkOverrides().isFrameworkComponent(gt);_t?rt=gt:j=gt}else Et!=null&&(ot(),rt=Et)};if(it){if(it.frameworkComponent!=null){var bt="AG Grid: As of v27, the return for "+b+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";doOnce(function(){return console.warn(bt)},"UserComponentFactory."+b+"FrameworkSelectorDeprecated"),st(it.frameworkComponent,void 0)}else st(it.component,void 0);nt=it.params,pt=it.popup,wt=it.popupPosition}else st(Dt[b],Dt[b+"Framework"])}return{compName:$,jsComp:j,fwComp:rt,paramsFromSelector:nt,popupFromSelector:pt,popupPositionFromSelector:wt}},o.prototype.newAgStackInstance=function(e,c,h,g){var b=g.propertyName,$=!c,j;if($)j=new e;else{var rt=this.componentMetadataProvider.retrieve(b);j=this.frameworkComponentWrapper.wrap(e,rt.mandatoryMethodList,rt.optionalMethodList,g)}var nt=this.initComponent(j,h);return nt==null?AgPromise.resolve(j):nt.then(function(){return j})},o.prototype.mergeParamsWithApplicationProvidedParams=function(e,c,h,g){g===void 0&&(g=null);var b={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};mergeDeep(b,h);var $=e,j=$&&$[c.propertyName+"Params"];if(typeof j=="function"){var rt=j(h);mergeDeep(b,rt)}else typeof j=="object"&&mergeDeep(b,j);return mergeDeep(b,g),b},o.prototype.initComponent=function(e,c){if(this.context.createBean(e),e.init!=null)return e.init(c)},o.prototype.getDefaultFloatingFilterType=function(e){if(e==null)return null;var c=null,h=this.getCompKeys(e,FilterComponent),g=h.compName,b=h.jsComp,$=h.fwComp;if(g)c=FloatingFilterMapper.getFloatingFilterType(g);else{var j=b==null&&$==null&&e.filter===!0;if(j){var rt=ModuleRegistry.isRegistered(ModuleNames.SetFilterModule);c=rt?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}}return c},__decorate$1W([Autowired("gridOptions")],o.prototype,"gridOptions",void 0),__decorate$1W([Autowired("agComponentUtils")],o.prototype,"agComponentUtils",void 0),__decorate$1W([Autowired("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),__decorate$1W([Autowired("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),__decorate$1W([Optional("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),o=__decorate$1W([Bean("userComponentFactory")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ExcelFactoryMode;(function(a){a[a.SINGLE_SHEET=0]="SINGLE_SHEET",a[a.MULTI_SHEET=1]="MULTI_SHEET"})(ExcelFactoryMode||(ExcelFactoryMode={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$27=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1V=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DragService=function(a){__extends$27(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return o.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},o.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},o.prototype.removeListener=function(e){var c=e.dragSource.eElement,h=e.mouseDownListener;if(c.removeEventListener("mousedown",h),e.touchEnabled){var g=e.touchStartListener;c.removeEventListener("touchstart",g,{passive:!0})}},o.prototype.removeDragSource=function(e){var c=this.dragSources.find(function(h){return h.dragSource===e});c&&(this.removeListener(c),removeFromArray(this.dragSources,c))},o.prototype.isDragging=function(){return this.dragging},o.prototype.addDragSource=function(e,c){var h=this;c===void 0&&(c=!1);var g=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",g);var b=null,$=this.gridOptionsWrapper.isSuppressTouch();c&&!$&&(b=function(j){isFocusableFormField(j.target)||(j.cancelable&&j.preventDefault(),h.onTouchStart(e,j))},e.eElement.addEventListener("touchstart",b,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:g,touchStartListener:b,touchEnabled:c})},o.prototype.onTouchStart=function(e,c){var h=this;this.currentDragParams=e,this.dragging=!1;var g=c.touches[0];this.touchLastTime=g,this.touchStart=g;var b=function(pt){return h.onTouchMove(pt,e.eElement)},$=function(pt){return h.onTouchUp(pt,e.eElement)},j=function(pt){pt.cancelable&&pt.preventDefault()},rt=c.target,nt=[{target:document,type:"touchmove",listener:j,options:{passive:!1}},{target:rt,type:"touchmove",listener:b,options:{passive:!0}},{target:rt,type:"touchend",listener:$,options:{passive:!0}},{target:rt,type:"touchcancel",listener:$,options:{passive:!0}}];this.addTemporaryEvents(nt),e.dragStartPixels===0&&this.onCommonMove(g,this.touchStart,e.eElement)},o.prototype.onMouseDown=function(e,c){var h=this,g=c;if(!(e.skipMouseEvent&&e.skipMouseEvent(c))&&!g._alreadyProcessedByDragService&&(g._alreadyProcessedByDragService=!0,c.button===0)){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=c;var b=this.gridOptionsWrapper.getDocument(),$=function(wt){return h.onMouseMove(wt,e.eElement)},j=function(wt){return h.onMouseUp(wt,e.eElement)},rt=function(wt){return wt.preventDefault()},nt=b,pt=[{target:nt,type:"mousemove",listener:$},{target:nt,type:"mouseup",listener:j},{target:nt,type:"contextmenu",listener:rt}];this.addTemporaryEvents(pt),e.dragStartPixels===0&&this.onMouseMove(c,e.eElement)}},o.prototype.addTemporaryEvents=function(e){e.forEach(function(c){var h=c.target,g=c.type,b=c.listener,$=c.options;h.addEventListener(g,b,$)}),this.dragEndFunctions.push(function(){e.forEach(function(c){var h=c.target,g=c.type,b=c.listener,$=c.options;h.removeEventListener(g,b,$)})})},o.prototype.isEventNearStartEvent=function(e,c){var h=this.currentDragParams.dragStartPixels,g=exists(h)?h:4;return areEventsNear(e,c,g)},o.prototype.getFirstActiveTouch=function(e){for(var c=0;c<e.length;c++)if(e[c].identifier===this.touchStart.identifier)return e[c];return null},o.prototype.onCommonMove=function(e,c,h){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,c))return;this.dragging=!0;var g={type:Events.EVENT_DRAG_STARTED,target:h};this.eventService.dispatchEvent(g),this.currentDragParams.onDragStart(c),this.currentDragParams.onDragging(c)}this.currentDragParams.onDragging(e)},o.prototype.onTouchMove=function(e,c){var h=this.getFirstActiveTouch(e.touches);h&&this.onCommonMove(h,this.touchStart,c)},o.prototype.onMouseMove=function(e,c){(this.gridOptionsWrapper.isEnableCellTextSelect()||isBrowserSafari())&&e.type==="mousemove"&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,c)},o.prototype.isOverFormFieldElement=function(e){var c,h,g=e.target,b=(c=g)===null||c===void 0?void 0:c.tagName.toLocaleLowerCase();return!!(!((h=b)===null||h===void 0)&&h.match("^a$|textarea|input|select|button"))},o.prototype.onTouchUp=function(e,c){var h=this.getFirstActiveTouch(e.changedTouches);h||(h=this.touchLastTime),this.onUpCommon(h,c)},o.prototype.onMouseUp=function(e,c){this.onUpCommon(e,c)},o.prototype.onUpCommon=function(e,c){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var h={type:Events.EVENT_DRAG_STOPPED,target:c};this.eventService.dispatchEvent(h)}this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(g){return g()}),this.dragEndFunctions.length=0},__decorate$1V([Autowired("loggerFactory")],o.prototype,"loggerFactory",void 0),__decorate$1V([Autowired("mouseEventService")],o.prototype,"mouseEventService",void 0),__decorate$1V([PostConstruct],o.prototype,"init",null),__decorate$1V([PreDestroy],o.prototype,"removeAllListeners",null),o=__decorate$1V([Bean("dragService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$26=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$7$1=function(){return __assign$7$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$7$1.apply(this,arguments)},__decorate$1U=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},FilterManager=function(a){__extends$26(o,a);function o(){var c=a!==null&&a.apply(this,arguments)||this;return c.allColumnFilters=new Map,c.activeAggregateFilters=[],c.activeColumnFilters=[],c.quickFilter=null,c.quickFilterParts=null,c.processingFilterChange=!1,c}e=o,o.prototype.init=function(){var c=this;this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,function(){return c.onColumnsChanged()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,function(){return c.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,function(){return c.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return c.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(c){var h=this,g=[],b=this.getFilterModel();if(c){var $=convertToSet(Object.keys(c));this.allColumnFilters.forEach(function(j,rt){var nt=c[rt];g.push(h.setModelOnFilterWrapper(j.filterPromise,nt)),$.delete(rt)}),$.forEach(function(j){var rt=h.columnModel.getPrimaryColumn(j)||h.columnModel.getGridColumn(j);if(!rt){console.warn("AG Grid: setFilterModel() - no column found for colId: "+j);return}if(!rt.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+j);return}var nt=h.getOrCreateFilterWrapper(rt,"NO_UI");if(!nt){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+j);return}g.push(h.setModelOnFilterWrapper(nt.filterPromise,c[j]))})}else this.allColumnFilters.forEach(function(j){g.push(h.setModelOnFilterWrapper(j.filterPromise,null))});AgPromise.all(g).then(function(){var j=h.getFilterModel(),rt=[];h.allColumnFilters.forEach(function(nt,pt){var wt=b?b[pt]:null,Dt=j?j[pt]:null;_.jsonEquals(wt,Dt)||rt.push(nt.column)}),rt.length>0&&h.onFilterChanged({columns:rt})})},o.prototype.setModelOnFilterWrapper=function(c,h){return new AgPromise(function(g){c.then(function(b){typeof b.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),g()),(b.setModel(h)||AgPromise.resolve()).then(function(){return g()})})})},o.prototype.getFilterModel=function(){var c={};return this.allColumnFilters.forEach(function(h,g){var b=h.filterPromise,$=b.resolveNow(null,function(rt){return rt});if($==null)return null;if(typeof $.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var j=$.getModel();exists(j)&&(c[g]=j)}),c},o.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},o.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},o.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},o.prototype.doAggregateFiltersPass=function(c,h){return this.doColumnFiltersPass(c,h,!0)},o.prototype.updateActiveFilters=function(){var c=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var h=function($){return $?$.isFilterActive?$.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},g=!!this.gridOptionsWrapper.getGroupAggFiltering(),b=function($){var j=!$.isPrimary();if(j)return!0;var rt=!c.columnModel.isPivotActive(),nt=$.isValueActive();return!nt||!rt?!1:c.columnModel.isPivotMode()?!0:g};this.allColumnFilters.forEach(function($){if($.filterPromise.resolveNow(!1,h)){var j=$.filterPromise.resolveNow(null,function(rt){return rt});b($.column)?c.activeAggregateFilters.push(j):c.activeColumnFilters.push(j)}})},o.prototype.updateFilterFlagInColumns=function(c,h){this.allColumnFilters.forEach(function(g){var b=g.filterPromise.resolveNow(!1,function($){return $.isFilterActive()});g.column.setFilterActive(b,c,h)})},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},o.prototype.doColumnFiltersPass=function(c,h,g){for(var b=c.data,$=c.aggData,j=g?this.activeAggregateFilters:this.activeColumnFilters,rt=g?$:b,nt=0;nt<j.length;nt++){var pt=j[nt];if(!(pt==null||pt===h)){if(typeof pt.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!pt.doesFilterPass({node:c,data:rt}))return!1}}return!0},o.prototype.parseQuickFilter=function(c){return exists(c)?this.gridOptionsWrapper.isRowModelDefault()?c.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(c){if(c!=null&&typeof c!="string"){console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof c);return}var h=this.parseQuickFilter(c);this.quickFilter!==h&&(this.quickFilter=h,this.setQuickFilterParts(),this.onFilterChanged())},o.prototype.refreshFiltersForAggregations=function(){var c=this.gridOptionsWrapper.getGroupAggFiltering();c&&this.onFilterChanged()},o.prototype.callOnFilterChangedOutsideRenderCycle=function(c){var h=this;c===void 0&&(c={});var g=function(){return h.onFilterChanged(c)};this.rowRenderer.isRefreshInProgress()?setTimeout(g,0):g()},o.prototype.onFilterChanged=function(c){c===void 0&&(c={});var h=c.filterInstance,g=c.additionalEventAttributes,b=c.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",g),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),this.allColumnFilters.forEach(function(j){j.filterPromise&&j.filterPromise.then(function(rt){rt&&rt!==h&&rt.onAnyFilterChanged&&rt.onAnyFilterChanged()})});var $={type:Events.EVENT_FILTER_CHANGED,columns:b||[]};g&&mergeDeep($,g),this.processingFilterChange=!0,this.eventService.dispatchEvent($),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},o.prototype.doesRowPassOtherFilters=function(c,h){return this.doesRowPassFilter({rowNode:h,filterInstanceToSkip:c})},o.prototype.doesRowPassQuickFilterNoCache=function(c,h){var g=this,b=this.columnModel.getAllColumnsForQuickFilter();return b.some(function($){var j=g.getQuickFilterTextForColumn($,c);return exists(j)&&j.indexOf(h)>=0})},o.prototype.doesRowPassQuickFilterCache=function(c,h){return c.quickFilterAggregateText||this.aggregateRowForQuickFilter(c),c.quickFilterAggregateText.indexOf(h)>=0},o.prototype.doesRowPassQuickFilter=function(c){var h=this,g=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(b){return g?h.doesRowPassQuickFilterCache(c,b):h.doesRowPassQuickFilterNoCache(c,b)})},o.prototype.doesRowPassAggregateFilters=function(c){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(c.rowNode,c.filterInstanceToSkip))},o.prototype.doesRowPassFilter=function(c){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(c.rowNode)||this.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(c.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(c.rowNode,c.filterInstanceToSkip))},o.prototype.getQuickFilterTextForColumn=function(c,h){var g=this.valueService.getValue(c,h,!0),b=c.getColDef();if(b.getQuickFilterText){var $={value:g,node:h,data:h.data,column:c,colDef:b,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};g=b.getQuickFilterText($)}return exists(g)?g.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(c){var h=this,g=[],b=this.columnModel.getAllColumnsForQuickFilter();b.forEach(function($){var j=h.getQuickFilterTextForColumn($,c);exists(j)&&g.push(j)}),c.quickFilterAggregateText=g.join(e.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(c){this.allColumnFilters.forEach(function(h){h.filterPromise.then(function(g){g.onNewRowsLoaded&&g.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(c),this.updateActiveFilters()},o.prototype.createValueGetter=function(c){var h=this;return function(g){var b=g.node;return h.valueService.getValue(c,b,!0)}},o.prototype.getFilterComponent=function(c,h,g){g===void 0&&(g=!0);var b;if(g)return((b=this.getOrCreateFilterWrapper(c,h))===null||b===void 0?void 0:b.filterPromise)||null;var $=this.cachedFilter(c);return $?$.filterPromise:null},o.prototype.isFilterActive=function(c){var h=this.cachedFilter(c);return!!h&&h.filterPromise.resolveNow(!1,function(g){return g.isFilterActive()})},o.prototype.getOrCreateFilterWrapper=function(c,h){if(!c.isFilterAllowed())return null;var g=this.cachedFilter(c);return g?h!=="NO_UI"&&this.putIntoGui(g,h):(g=this.createFilterWrapper(c,h),this.allColumnFilters.set(c.getColId(),g)),g},o.prototype.cachedFilter=function(c){return this.allColumnFilters.get(c.getColId())},o.prototype.createFilterInstance=function(c){var h=this,g=ModuleRegistry.isRegistered(ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",b=c.getColDef(),$,j=__assign$7$1(__assign$7$1({},this.createFilterParams(c,b)),{filterModifiedCallback:function(){var pt={type:Events.EVENT_FILTER_MODIFIED,column:c,filterInstance:$};h.eventService.dispatchEvent(pt)},filterChangedCallback:function(pt){var wt={filterInstance:$,additionalEventAttributes:pt,columns:[c]};h.callOnFilterChangedOutsideRenderCycle(wt)},doesRowPassOtherFilter:function(pt){return h.doesRowPassOtherFilters($,pt)}}),rt=this.userComponentFactory.getFilterDetails(b,j,g);if(!rt)return null;var nt=rt.newAgStackInstance();return nt&&nt.then(function(pt){return $=pt}),nt},o.prototype.createFilterParams=function(c,h){var g={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:c,colDef:cloneObject(h),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(c),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return g},o.prototype.createFilterWrapper=function(c,h){var g={column:c,filterPromise:null,compiledElement:null,guiPromise:AgPromise.resolve(null)};return g.filterPromise=this.createFilterInstance(c),g.filterPromise&&this.putIntoGui(g,h),g},o.prototype.putIntoGui=function(c,h){var g=this,b=document.createElement("div");b.className="ag-filter",c.guiPromise=new AgPromise(function($){c.filterPromise.then(function(j){var rt=j.getGui();exists(rt)||console.warn("AG Grid: getGui method from filter returned "+rt+", it should be a DOM element or an HTML template string."),typeof rt=="string"&&(rt=loadTemplate(rt)),b.appendChild(rt),$(b);var nt={type:Events.EVENT_FILTER_OPENED,column:c.column,source:h,eGui:b};g.eventService.dispatchEvent(nt)})})},o.prototype.onColumnsChanged=function(){var c=this,h=[];this.allColumnFilters.forEach(function(g,b){var $;g.column.isPrimary()?$=c.columnModel.getPrimaryColumn(b):$=c.columnModel.getGridColumn(b),!$&&(h.push(g.column),c.disposeFilterWrapper(g,"filterDestroyed"))}),h.length>0&&this.onFilterChanged({columns:h})},o.prototype.destroyFilter=function(c,h){h===void 0&&(h="api");var g=this.allColumnFilters.get(c.getColId());g&&(this.disposeFilterWrapper(g,h),this.onFilterChanged({columns:[c]}))},o.prototype.disposeFilterWrapper=function(c,h){var g=this;c.filterPromise.then(function(b){(b.setModel(null)||AgPromise.resolve()).then(function(){g.getContext().destroyBean(b),c.column.setFilterActive(!1,h),g.allColumnFilters.delete(c.column.getColId())})})},o.prototype.destroy=function(){var c=this;a.prototype.destroy.call(this),this.allColumnFilters.forEach(function(h){return c.disposeFilterWrapper(h,"filterDestroyed")})};var e;return o.QUICK_FILTER_SEPARATOR=`
`,__decorate$1U([Autowired("valueService")],o.prototype,"valueService",void 0),__decorate$1U([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1U([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$1U([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),__decorate$1U([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$1U([PostConstruct],o.prototype,"init",null),__decorate$1U([PreDestroy],o.prototype,"destroy",null),o=e=__decorate$1U([Bean("filterManager")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$25=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AbstractHeaderCellComp=function(a){__extends$25(o,a);function o(e,c){var h=a.call(this,e)||this;return h.ctrl=c,h}return o.prototype.getCtrl=function(){return this.ctrl},o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$24=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1T=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderFilterCellComp$1=function(a){__extends$24(o,a);function o(e){return a.call(this,o.TEMPLATE,e)||this}return o.prototype.postConstruct=function(){var e=this,c=this.getGui(),h={addOrRemoveCssClass:function(g,b){return e.addOrRemoveCssClass(g,b)},addOrRemoveBodyCssClass:function(g,b){return e.eFloatingFilterBody.classList.toggle(g,b)},addOrRemoveButtonWrapperCssClass:function(g,b){return e.eButtonWrapper.classList.toggle(g,b)},setCompDetails:function(g){return e.setCompDetails(g)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(g){return c.style.width=g},setMenuIcon:function(g){return e.eButtonShowMainFilter.appendChild(g)}};this.ctrl.setComp(h,c,this.eButtonShowMainFilter,this.eFloatingFilterBody)},o.prototype.setCompDetails=function(e){var c=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(h){return c.afterCompCreated(h)})},o.prototype.afterCompCreated=function(e){var c=this;e&&(this.addDestroyFunc(function(){return c.context.destroyBean(e)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},o.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,__decorate$1T([RefSelector("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),__decorate$1T([RefSelector("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),__decorate$1T([RefSelector("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),__decorate$1T([PostConstruct],o.prototype,"postConstruct",null),o}(AbstractHeaderCellComp);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$23=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1S=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},LayoutCssClasses;(function(a){a.AUTO_HEIGHT="ag-layout-auto-height",a.NORMAL="ag-layout-normal",a.PRINT="ag-layout-print"})(LayoutCssClasses||(LayoutCssClasses={}));var LayoutFeature=function(a){__extends$23(o,a);function o(e){var c=a.call(this)||this;return c.view=e,c}return o.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},o.prototype.updateLayoutClasses=function(){var e=this.gridOptionsWrapper.getDomLayout(),c={autoHeight:e===Constants.DOM_LAYOUT_AUTO_HEIGHT,normal:e===Constants.DOM_LAYOUT_NORMAL,print:e===Constants.DOM_LAYOUT_PRINT},h=c.autoHeight?LayoutCssClasses.AUTO_HEIGHT:c.print?LayoutCssClasses.PRINT:LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(h,c)},__decorate$1S([Autowired("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),__decorate$1S([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$22=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1R=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GridBodyScrollFeature=function(a){__extends$22(o,a);function o(e){var c=a.call(this)||this;return c.scrollLeft=-1,c.nextScrollTop=-1,c.scrollTop=-1,c.eBodyViewport=e,c.resetLastHorizontalScrollElementDebounced=debounce(c.resetLastHorizontalScrollElement.bind(c),500),c}return o.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(c){e.centerRowContainerCtrl=c.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},o.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var c=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?debounce(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",c)},o.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var c=this.centerRowContainerCtrl==null;if(!c){e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var h=this.enableRtl?e:-e,g=this.ctrlsService.getTopCenterRowContainerCtrl(),b=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),$=this.ctrlsService.getBottomCenterRowContainerCtrl(),j=this.ctrlsService.getFakeHScrollCtrl(),rt=this.ctrlsService.getHeaderRowContainerCtrl();rt.setHorizontalScroll(h),$.setContainerTranslateX(h),g.setContainerTranslateX(h),b.setContainerTranslateX(h);var nt=this.centerRowContainerCtrl.getViewportElement(),pt=this.lastHorizontalScrollElement===nt,wt=pt?j.getViewport():this.centerRowContainerCtrl.getViewportElement();setScrollLeft(wt,Math.abs(e),this.enableRtl)}},o.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},o.prototype.onFakeHorizontalScroll=function(){var e=this.ctrlsService.getFakeHScrollCtrl().getViewport();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},o.prototype.onCenterViewportScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},o.prototype.onBodyHorizontalScroll=function(e){var c=this.centerRowContainerCtrl.getViewportElement(),h=c.scrollLeft;this.shouldBlockScrollUpdate("horizontal",h,!0)||(this.doHorizontalScroll(Math.round(getScrollLeft(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},o.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(e){var c=this.ctrlsService.getFakeHScrollCtrl().getViewport(),h=getScrollLeft(c,this.enableRtl);this.scrollLeft===e&&e===h||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},o.prototype.fireScrollEvent=function(e){var c=this,h={type:Events.EVENT_BODY_SCROLL,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(h),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var g=Object.assign({},h,{type:Events.EVENT_BODY_SCROLL_END});c.eventService.dispatchEvent(g)},100)},o.prototype.shouldBlockScrollUpdate=function(e,c,h){if(h===void 0&&(h=!1),h&&!isIOSUserAgent())return!1;if(e==="vertical"){var g=getInnerHeight(this.eBodyViewport),b=this.eBodyViewport.scrollHeight;if(c<0||c+g>b)return!0}if(e==="horizontal"){var $=this.centerRowContainerCtrl.getCenterWidth(),j=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&isRtlNegativeScroll()){if(c>0)return!0}else if(c<0)return!0;if(Math.abs(c)+$>j)return!0}return!1},o.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},o.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},o.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},o.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},o.prototype.setHorizontalScrollPosition=function(e){var c=0,h=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(this.enableRtl&&isRtlNegativeScroll()?e=e>0?0:h:e=Math.min(Math.max(e,c),h)),setScrollLeft(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},o.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},o.prototype.getVScrollPosition=function(){var e={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return e},o.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},o.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},o.prototype.scrollHorizontally=function(e){var c=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(c+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-c},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.ensureNodeVisible=function(e,c){c===void 0&&(c=null);for(var h=this.rowModel.getRowCount(),g=-1,b=0;b<h;b++){var $=this.rowModel.getRow(b);if(typeof e=="function"){var j=e;if($&&j($)){g=b;break}}else if(e===$||e===$.data){g=b;break}}g>=0&&this.ensureIndexVisible(g,c)},o.prototype.ensureIndexVisible=function(e,c){if(this.gridOptionsWrapper.getDomLayout()!==Constants.DOM_LAYOUT_PRINT){var h=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=h){console.warn("invalid row index for ensureIndexVisible: "+e);return}var g=this.gridOptionsWrapper.isPagination(),b=g&&!this.gridOptionsWrapper.isSuppressPaginationPanel();b||this.paginationProxy.goToPageWithIndex(e);var $=this.ctrlsService.getGridBodyCtrl(),j=$.getStickyTopHeight(),rt=this.paginationProxy.getRow(e),nt;do{var pt=rt.rowTop,wt=rt.rowHeight,Dt=this.paginationProxy.getPixelOffset(),Lt=rt.rowTop-Dt,it=Lt+rt.rowHeight,st=this.getVScrollPosition(),bt=this.heightScaler.getDivStretchOffset(),gt=st.top+bt,Et=st.bottom+bt,ot=Et-gt,_t=this.heightScaler.getScrollPositionForPixel(Lt),Mt=this.heightScaler.getScrollPositionForPixel(it-ot),Bt=Math.min((_t+Mt)/2,Lt),It=gt+j>Lt,jt=Et<it,tr=null;c==="top"?tr=_t:c==="bottom"?tr=Mt:c==="middle"?tr=Bt:It?tr=_t-j:jt&&(tr=Mt),tr!==null&&(this.eBodyViewport.scrollTop=tr,this.rowRenderer.redrawAfterScroll()),nt=pt!==rt.rowTop||wt!==rt.rowHeight}while(nt);this.animationFrameService.flushAllFrames()}},o.prototype.ensureColumnVisible=function(e,c){c===void 0&&(c="auto");var h=this.columnModel.getGridColumn(e);if(h&&!h.isPinned()&&this.columnModel.isColumnDisplayed(h)){var g=this.getPositionedHorizontalScroll(h,c);g!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(g),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},o.prototype.getPositionedHorizontalScroll=function(e,c){var h=this.isColumnOutsideViewport(e),g=h.columnBeforeStart,b=h.columnAfterEnd,$=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),j=this.centerRowContainerCtrl.getCenterWidth(),rt=this.enableRtl,nt=(rt?g:b)||$,pt=rt?b:g;c!=="auto"&&(nt=c==="start",pt=c==="end");var wt=c==="middle";if(nt||pt||wt){var Dt=this.getColumnBounds(e),Lt=Dt.colLeft,it=Dt.colMiddle,st=Dt.colRight;return wt?it-j/2:nt?rt?st:Lt:rt?Lt-j:st-j}return null},o.prototype.isColumnOutsideViewport=function(e){var c=this.getViewportBounds(),h=c.start,g=c.end,b=this.getColumnBounds(e),$=b.colLeft,j=b.colRight,rt=this.enableRtl,nt=rt?h>j:g<j,pt=rt?g<$:h>$;return{columnBeforeStart:nt,columnAfterEnd:pt}},o.prototype.getColumnBounds=function(e){var c=this.enableRtl,h=this.columnModel.getBodyContainerWidth(),g=e.getActualWidth(),b=e.getLeft(),$=c?-1:1,j=c?h-b:b,rt=j+g*$,nt=j+g/2*$;return{colLeft:j,colMiddle:nt,colRight:rt}},o.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),c=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),h=c,g=e+c;return{start:h,end:g,width:e}},__decorate$1R([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1R([Autowired("animationFrameService")],o.prototype,"animationFrameService",void 0),__decorate$1R([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),__decorate$1R([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$1R([Autowired("rowContainerHeightService")],o.prototype,"heightScaler",void 0),__decorate$1R([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$1R([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1R([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AutoScrollService=function(){function a(o){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=o.scrollContainer,this.scrollHorizontally=o.scrollAxis.indexOf("x")!==-1,this.scrollVertically=o.scrollAxis.indexOf("y")!==-1,this.scrollByTick=o.scrollByTick!=null?o.scrollByTick:20,o.onScrollCallback&&(this.onScrollCallback=o.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=o.getVerticalPosition,this.setVerticalPosition=o.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=o.getHorizontalPosition,this.setHorizontalPosition=o.setHorizontalPosition),this.shouldSkipVerticalScroll=o.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=o.shouldSkipHorizontalScroll||function(){return!1}}return a.prototype.check=function(o,e){e===void 0&&(e=!1);var c=e||this.shouldSkipVerticalScroll();if(!(c&&this.shouldSkipHorizontalScroll())){var h=this.scrollContainer.getBoundingClientRect(),g=this.scrollByTick;this.tickLeft=o.clientX<h.left+g,this.tickRight=o.clientX>h.right-g,this.tickUp=o.clientY<h.top+g&&!c,this.tickDown=o.clientY>h.bottom-g&&!c,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},a.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},a.prototype.doTick=function(){this.tickCount++;var o;if(o=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-o),this.tickDown&&this.setVerticalPosition(e+o)}if(this.scrollHorizontally){var c=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(c-o),this.tickRight&&this.setHorizontalPosition(c+o)}this.onScrollCallback&&this.onScrollCallback()},a.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$21=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$6$1=function(){return __assign$6$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$6$1.apply(this,arguments)},__decorate$1Q=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$i=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$e=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$i(arguments[o]));return a},RowDragFeature=function(a){__extends$21(o,a);function o(e){var c=a.call(this)||this;return c.isMultiRowDrag=!1,c.isGridSorted=!1,c.isGridFiltered=!1,c.isRowGroupActive=!1,c.eContainer=e,c}return o.prototype.postConstruct=function(){var e=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var c=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,function(){c()}),c(),this.ctrlsService.whenReady(function(){var h=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new AutoScrollService({scrollContainer:h.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return h.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(g){return h.getScrollFeature().setVerticalScrollPosition(g)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},o.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!missingOrEmpty(e)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(e){return e===DragSourceType.RowDrag},o.prototype.getIconName=function(){var e=this.gridOptionsWrapper.isRowDragManaged();return e&&this.shouldPreventRowMove()?DragAndDropService.ICON_NOT_ALLOWED:DragAndDropService.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(e){var c=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var h=this.gridOptionsWrapper.isRowDragMultiRow(),g=__spread$e(this.selectionService.getSelectedNodes()).sort(function($,j){return $.rowIndex==null||j.rowIndex==null?0:c.getRowIndexNumber($)-c.getRowIndexNumber(j)}),b=e.dragItem.rowNode;return h&&g.indexOf(b)!==-1?(this.isMultiRowDrag=!0,g):(this.isMultiRowDrag=!1,[b])},o.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(Events.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(c){c.setDragging(!0)}),this.onEnterOrDragging(e)},o.prototype.onDragging=function(e){this.onEnterOrDragging(e)},o.prototype.isFromThisGrid=function(e){var c=e.dragSource.dragSourceDomDataKey;return c===this.gridOptionsWrapper.getDomDataKey()},o.prototype.isDropZoneWithinThisGrid=function(e){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getGui(),g=e.dropZoneTarget;return!h.contains(g)},o.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var c=this.mouseEventService.getNormalisedPosition(e).y,h=this.gridOptionsWrapper.isRowDragManaged();h&&this.doManagedDrag(e,c),this.autoScrollService.check(e.event)},o.prototype.doManagedDrag=function(e,c){var h=this.isFromThisGrid(e),g=this.gridOptionsWrapper.isRowDragManaged(),b=e.dragItem.rowNodes;g&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!h?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(b[0],c):this.moveRows(b,c))},o.prototype.getRowIndexNumber=function(e){return parseInt(last(e.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(e){var c=this,h=this.clientSideRowModel.getLastHighlightedRowNode(),g=h&&h.highlighted===RowHighlightPosition.Below,b=this.mouseEventService.getNormalisedPosition(e).y,$=e.dragItem.rowNodes,j=g?1:0;if(this.isFromThisGrid(e))$.forEach(function(pt){pt.rowTop<b&&(j-=1)}),this.moveRows($,b,j);else{var rt=this.gridOptionsWrapper.getRowIdFunc(),nt=this.clientSideRowModel.getRowIndexAtPixel(b)+1;this.clientSideRowModel.getHighlightPosition(b)===RowHighlightPosition.Above&&nt--,this.clientSideRowModel.updateRowData({add:$.map(function(pt){return pt.data}).filter(function(pt){return!c.clientSideRowModel.getRowNode(rt?rt({data:pt,level:0}):pt.id)}),addIndex:nt})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(e,c,h){h===void 0&&(h=0);var g=this.clientSideRowModel.ensureRowsAtPixel(e,c,h);g&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},o.prototype.addRowDropZone=function(e){var c=this;if(!e.getContainer()){doOnce(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var h={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,h=e):(e.onDragEnter&&(h.onDragEnter=function(g){e.onDragEnter(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,g))}),e.onDragLeave&&(h.onDragLeave=function(g){e.onDragLeave(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,g))}),e.onDragging&&(h.onDragging=function(g){e.onDragging(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,g))}),e.onDragStop&&(h.onDragStop=function(g){e.onDragStop(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,g))})),this.dragAndDropService.addDropTarget(__assign$6$1({isInterestedIn:function(g){return g===DragSourceType.RowDrag},getIconName:function(){return DragAndDropService.ICON_MOVE},external:!0},h))},o.prototype.getRowDropZone=function(e){var c=this,h=this.getContainer.bind(this),g=this.onDragEnter.bind(this),b=this.onDragLeave.bind(this),$=this.onDragging.bind(this),j=this.onDragStop.bind(this);return e?{getContainer:h,onDragEnter:e.onDragEnter?function(rt){g(rt),e.onDragEnter(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,rt))}:g,onDragLeave:e.onDragLeave?function(rt){b(rt),e.onDragLeave(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,rt))}:b,onDragging:e.onDragging?function(rt){$(rt),e.onDragging(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,rt))}:$,onDragStop:e.onDragStop?function(rt){j(rt),e.onDragStop(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,rt))}:j,fromGrid:!0}:{getContainer:h,onDragEnter:g,onDragLeave:b,onDragging:$,onDragStop:j,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(e,c){var h=this.mouseEventService.getNormalisedPosition(c).y,g=h>this.paginationProxy.getCurrentPageHeight(),b=-1,$;g||(b=this.rowModel.getRowIndexAtPixel(h),$=this.rowModel.getRow(b));var j;switch(c.vDirection){case VerticalDirection.Down:j="down";break;case VerticalDirection.Up:j="up";break;default:j=null;break}var rt={type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),event:c.event,node:c.dragItem.rowNode,nodes:c.dragItem.rowNodes,overIndex:b,overNode:$,y:h,vDirection:j};return rt},o.prototype.dispatchGridEvent=function(e,c){var h=this.draggingToRowDragEvent(e,c);this.eventService.dispatchEvent(h)},o.prototype.onDragLeave=function(e){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(e){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},o.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(c){c.setDragging(!1)})},__decorate$1Q([Autowired("dragAndDropService")],o.prototype,"dragAndDropService",void 0),__decorate$1Q([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$1Q([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),__decorate$1Q([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1Q([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1Q([Autowired("sortController")],o.prototype,"sortController",void 0),__decorate$1Q([Autowired("filterManager")],o.prototype,"filterManager",void 0),__decorate$1Q([Autowired("selectionService")],o.prototype,"selectionService",void 0),__decorate$1Q([Autowired("mouseEventService")],o.prototype,"mouseEventService",void 0),__decorate$1Q([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1Q([Optional("rangeService")],o.prototype,"rangeService",void 0),__decorate$1Q([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$20=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1P=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RowAnimationCssClasses;(function(a){a.ANIMATION_ON="ag-row-animation",a.ANIMATION_OFF="ag-row-no-animation"})(RowAnimationCssClasses||(RowAnimationCssClasses={}));var CSS_CLASS_CELL_SELECTABLE="ag-selectable",CSS_CLASS_FORCE_VERTICAL_SCROLL="ag-force-vertical-scroll",CSS_CLASS_COLUMN_MOVING="ag-column-moving",GridBodyCtrl=function(a){__extends$20(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return o.prototype.getScrollFeature=function(){return this.bodyScrollFeature},o.prototype.getBodyViewportElement=function(){return this.eBodyViewport},o.prototype.setComp=function(e,c,h,g,b,$){this.comp=e,this.eGridBody=c,this.eBodyViewport=h,this.eTop=g,this.eBottom=b,this.eStickyTop=$,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new LayoutFeature(this.comp)),this.bodyScrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([g,h,b,$]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},o.prototype.getComp=function(){return this.comp},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},o.prototype.addFocusListeners=function(e){var c=this;e.forEach(function(h){c.addManagedListener(h,"focusin",function(g){var b=g.target,$=isElementChildOfClass(b,"ag-root",h);h.classList.toggle("ag-has-focus",!$)}),c.addManagedListener(h,"focusout",function(g){var b=g.target,$=g.relatedTarget,j=h.contains($),rt=isElementChildOfClass($,"ag-root",h),nt=isElementChildOfClass(b,"ag-root",h);nt||(!j||rt)&&h.classList.remove("ag-has-focus")})})},o.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?CSS_CLASS_COLUMN_MOVING:null,e)},o.prototype.setCellTextSelection=function(e){e===void 0&&(e=!1);var c=e?CSS_CLASS_CELL_SELECTABLE:null;this.comp.setCellSelectableCss(c,e)},o.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e)},o.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},o.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},o.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var c=function(g){var b=g.relatedTarget;if(getTabIndex(b)===null){e.rowRenderer.stopEditing();return}var $=h.some(function(rt){return rt.contains(b)})&&e.mouseEventService.isElementInThisGrid(b);if(!$){var j=e.popupService;$=j.getActivePopups().some(function(rt){return rt.contains(b)})||j.isElementWithinCustomPopup(b)}$||e.rowRenderer.stopEditing()},h=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];h.forEach(function(g){return e.addManagedListener(g,"focusout",c)})}},o.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),c=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,h=c===-1?-1:e+c;this.comp.setRowCount(h)},o.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},o.prototype.setVerticalScrollPaddingVisible=function(e){var c=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(c)},o.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll(),c=e?CSS_CLASS_FORCE_VERTICAL_SCROLL:null,h=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL;return this.comp.setAlwaysVerticalScrollClass(c,e),e||h&&isVerticalScrollShowing(this.eBodyViewport)},o.prototype.setupRowAnimationCssClass=function(){var e=this,c=function(){var h=e.gridOptionsWrapper.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),g=h?RowAnimationCssClasses.ANIMATION_ON:RowAnimationCssClasses.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(g,h)};c(),this.addManagedListener(this.eventService,Events.EVENT_HEIGHT_SCALE_CHANGED,c)},o.prototype.getGridBodyElement=function(){return this.eGridBody},o.prototype.addBodyViewportListener=function(){var e=this,c=function(h,g,b){if(!(!h&&!b)){if(e.gridOptionsWrapper.isPreventDefaultOnContextMenu()){var $=h||b;$.preventDefault()}var j=(h||g).target;(j===e.eBodyViewport||j===e.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&e.contextMenuFactory&&(h?e.contextMenuFactory.onContextMenu(h,null,null,null,null,e.eGridBody):b&&e.contextMenuFactory.onContextMenu(null,b,null,null,null,e.eGridBody))}};this.addManagedListener(this.eBodyViewport,"contextmenu",c),this.mockContextMenuForIPad(c),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},o.prototype.mockContextMenuForIPad=function(e){if(isIOSUserAgent()){var c=new TouchListener(this.eBodyViewport),h=function(g){e(void 0,g.touchStart,g.touchEvent)};this.addManagedListener(c,TouchListener.EVENT_LONG_TAP,h),this.addDestroyFunc(function(){return c.destroy()})}},o.prototype.onBodyViewportWheel=function(e){this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},o.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},o.prototype.getGui=function(){return this.eGridBody},o.prototype.scrollVertically=function(e){var c=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(c+e),this.eBodyViewport.scrollTop-c},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new RowDragFeature(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},o.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,c=e.getPinnedTopTotalHeight();c&&(c+=1);var h=e.getPinnedBottomTotalHeight();h&&(h+=1),this.comp.setTopHeight(c),this.comp.setBottomHeight(h),this.comp.setTopDisplay(c?"inherit":"none"),this.comp.setBottomDisplay(h?"inherit":"none"),this.setStickyTopOffsetTop()},o.prototype.setStickyTopHeight=function(e){e===void 0&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},o.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},o.prototype.setStickyTopWidth=function(e){if(!e)this.comp.setStickyTopWidth("100%");else{var c=this.gridOptionsWrapper.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+c+"px)")}},o.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},o.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),c=e.getHeaderHeight(),h=this.pinnedRowModel.getPinnedTopTotalHeight(),g=0;c>0&&(g+=c+1),h>0&&(g+=h+1),this.comp.setStickyTopTop(g+"px")},o.prototype.sizeColumnsToFit=function(e,c){var h=this,g=this.isVerticalScrollShowing(),b=g?this.gridOptionsWrapper.getScrollbarWidth():0,$=getInnerWidth(this.eBodyViewport),j=$-b;if(j>0){this.columnModel.sizeColumnsToFit(j,"sizeColumnsToFit",!1,e);return}c===void 0?window.setTimeout(function(){h.sizeColumnsToFit(e,100)},0):c===100?window.setTimeout(function(){h.sizeColumnsToFit(e,500)},100):c===500?window.setTimeout(function(){h.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},o.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},__decorate$1P([Autowired("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),__decorate$1P([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1P([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1P([Autowired("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),__decorate$1P([Optional("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),__decorate$1P([Autowired("headerNavigationService")],o.prototype,"headerNavigationService",void 0),__decorate$1P([Autowired("dragAndDropService")],o.prototype,"dragAndDropService",void 0),__decorate$1P([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate$1P([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$1P([Autowired("popupService")],o.prototype,"popupService",void 0),__decorate$1P([Autowired("mouseEventService")],o.prototype,"mouseEventService",void 0),__decorate$1P([Autowired("rowModel")],o.prototype,"rowModel",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SelectionHandleType;(function(a){a[a.FILL=0]="FILL",a[a.RANGE=1]="RANGE"})(SelectionHandleType||(SelectionHandleType={}));var CellRangeType;(function(a){a[a.VALUE=0]="VALUE",a[a.DIMENSION=1]="DIMENSION"})(CellRangeType||(CellRangeType={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CSS_CELL_RANGE_SELECTED="ag-cell-range-selected",CSS_CELL_RANGE_CHART="ag-cell-range-chart",CSS_CELL_RANGE_SINGLE_CELL="ag-cell-range-single-cell",CSS_CELL_RANGE_CHART_CATEGORY="ag-cell-range-chart-category",CSS_CELL_RANGE_HANDLE="ag-cell-range-handle",CSS_CELL_RANGE_TOP="ag-cell-range-top",CSS_CELL_RANGE_RIGHT="ag-cell-range-right",CSS_CELL_RANGE_BOTTOM="ag-cell-range-bottom",CSS_CELL_RANGE_LEFT="ag-cell-range-left",CellRangeFeature=function(){function a(o,e){this.beans=o,this.cellCtrl=e}return a.prototype.setComp=function(o,e){this.cellComp=o,this.eGui=e,this.onRangeSelectionChanged()},a.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-1",this.rangeCount===1),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-2",this.rangeCount===2),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-3",this.rangeCount===3),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART,this.hasChartRange),setAriaSelected(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SINGLE_CELL,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},a.prototype.updateRangeBorders=function(){var o=this.getRangeBorders(),e=this.isSingleCell(),c=!e&&o.top,h=!e&&o.right,g=!e&&o.bottom,b=!e&&o.left;this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_TOP,c),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_RIGHT,h),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_BOTTOM,g),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_LEFT,b)},a.prototype.isSingleCell=function(){var o=this.beans.rangeService;return this.rangeCount===1&&o&&!o.isMoreThanOneCell()},a.prototype.getHasChartRange=function(){var o=this.beans.rangeService;if(!this.rangeCount||!o)return!1;var e=o.getCellRanges();return e.length>0&&e.every(function(c){return includes([CellRangeType.DIMENSION,CellRangeType.VALUE],c.type)})},a.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},a.prototype.getRangeBorders=function(){var o=this,e=this.beans.gridOptionsWrapper.isEnableRtl(),c=!1,h=!1,g=!1,b=!1,$=this.cellCtrl.getCellPosition().column,j=this.beans,rt=j.rangeService,nt=j.columnModel,pt,wt;e?(pt=nt.getDisplayedColAfter($),wt=nt.getDisplayedColBefore($)):(pt=nt.getDisplayedColBefore($),wt=nt.getDisplayedColAfter($));var Dt=rt.getCellRanges().filter(function(gt){return rt.isCellInSpecificRange(o.cellCtrl.getCellPosition(),gt)});pt||(b=!0),wt||(h=!0);for(var Lt=0;Lt<Dt.length&&!(c&&h&&g&&b);Lt++){var it=Dt[Lt],st=rt.getRangeStartRow(it),bt=rt.getRangeEndRow(it);!c&&this.beans.rowPositionUtils.sameRow(st,this.cellCtrl.getCellPosition())&&(c=!0),!g&&this.beans.rowPositionUtils.sameRow(bt,this.cellCtrl.getCellPosition())&&(g=!0),!b&&pt&&it.columns.indexOf(pt)<0&&(b=!0),!h&&wt&&it.columns.indexOf(wt)<0&&(h=!0)}return{top:c,right:h,bottom:g,left:b}},a.prototype.refreshHandle=function(){if(this.beans.rangeService){var o=this.shouldHaveSelectionHandle();this.selectionHandle&&!o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),o&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_HANDLE,!!this.selectionHandle)}},a.prototype.shouldHaveSelectionHandle=function(){var o=this.beans,e=o.gridOptionsWrapper,c=o.rangeService,h=c.getCellRanges(),g=h.length;if(this.rangeCount<1||g<1)return!1;var b=last(h),$=this.cellCtrl.getCellPosition(),j=e.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),rt=e.isEnableRangeHandle(),nt=g===1&&!this.cellCtrl.isEditing()&&(j||rt);if(this.hasChartRange){var pt=h[0].type===CellRangeType.DIMENSION,wt=pt&&c.isCellInSpecificRange($,h[0]);this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART_CATEGORY,wt),nt=b.type===CellRangeType.VALUE}return nt&&b.endRow!=null&&c.isContiguousRange(b)&&c.isBottomRightCell(b,$)},a.prototype.addSelectionHandle=function(){var o=this.beans,e=o.gridOptionsWrapper,c=o.rangeService,h=last(c.getCellRanges()).type,g=e.isEnableFillHandle()&&missing(h),b=g?SelectionHandleType.FILL:SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==b&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(b)),this.selectionHandle.refresh(this.cellCtrl)},a.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1$=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),CellPositionFeature=function(a){__extends$1$(o,a);function o(e,c){var h=a.call(this)||this;return h.cellCtrl=e,h.beans=c,h.column=e.getColumn(),h.rowNode=e.getRowNode(),h.setupColSpan(),h.setupRowSpan(),h}return o.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},o.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},o.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();areEqual(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},o.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},o.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,c){return e+c.getActualWidth()},0):this.column.getActualWidth()},o.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),c=[];if(e===1)c.push(this.column);else for(var h=this.column,g=this.column.getPinned(),b=0;h&&b<e&&(c.push(h),h=this.beans.columnModel.getDisplayedColAfter(h),!(!h||missing(h)||g!==h.getPinned()));b++);return c},o.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},o.prototype.getCellLeft=function(){var e;return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?e=last(this.colsSpanning):e=this.column,e.getLeft()},o.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===Constants.PINNED_LEFT)return e;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()===Constants.PINNED_RIGHT){var h=this.beans.columnModel.getBodyContainerWidth();return c+h+(e||0)}return c+(e||0)},o.prototype.applyRowSpan=function(){if(this.rowSpan!==1){var e=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),c=e*this.rowSpan;this.eGui.style.height=c+"px",this.eGui.style.zIndex="1"}},o.prototype.destroy=function(){a.prototype.destroy.call(this)},o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1_=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),CellCustomStyleFeature=function(a){__extends$1_(o,a);function o(e,c){var h=a.call(this)||this;return h.staticClasses=[],h.cellCtrl=e,h.beans=c,h.column=e.getColumn(),h.rowNode=e.getRowNode(),h}return o.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},o.prototype.applyCellClassRules=function(){var e=this,c=this.column.getColDef(),h={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:c,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(c.cellClassRules,h,function(g){return e.cellComp.addOrRemoveCssClass(g,!0)},function(g){return e.cellComp.addOrRemoveCssClass(g,!1)})},o.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var c;if(typeof e.cellStyle=="function"){var h={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},g=e.cellStyle;c=g(h)}else c=e.cellStyle;this.cellComp.setUserStyles(c)}},o.prototype.applyClassesFromColDef=function(){var e=this,c=this.column.getColDef(),h={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:c,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(g){return e.cellComp.addOrRemoveCssClass(g,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(c,h),this.staticClasses.length&&this.staticClasses.forEach(function(g){return e.cellComp.addOrRemoveCssClass(g,!0)})},o.prototype.destroy=function(){a.prototype.destroy.call(this)},o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1Z=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),TooltipFeature=function(a){__extends$1Z(o,a);function o(e,c){var h=a.call(this)||this;return h.ctrl=e,h.beans=c,h}return o.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},o.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},o.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},o.prototype.createTooltipFeatureIfNeeded=function(){var e=this;if(this.genericTooltipFeature==null){var c={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new CustomTooltipFeature(c),this.beans.context)}},o.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0)},o.prototype.getTooltipParams=function(){var e=this.ctrl,c=e.getColumn?e.getColumn():void 0,h=e.getColDef?e.getColDef():void 0,g=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:h,column:c,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:g,data:g?g.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},o.prototype.getTooltipText=function(){return this.tooltip},o.prototype.destroy=function(){a.prototype.destroy.call(this)},o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1O=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},Beans=function(){function a(){}return a.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},__decorate$1O([Autowired("resizeObserverService")],a.prototype,"resizeObserverService",void 0),__decorate$1O([Autowired("paginationProxy")],a.prototype,"paginationProxy",void 0),__decorate$1O([Autowired("context")],a.prototype,"context",void 0),__decorate$1O([Autowired("columnApi")],a.prototype,"columnApi",void 0),__decorate$1O([Autowired("gridApi")],a.prototype,"gridApi",void 0),__decorate$1O([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$1O([Autowired("expressionService")],a.prototype,"expressionService",void 0),__decorate$1O([Autowired("rowRenderer")],a.prototype,"rowRenderer",void 0),__decorate$1O([Autowired("templateService")],a.prototype,"templateService",void 0),__decorate$1O([Autowired("valueService")],a.prototype,"valueService",void 0),__decorate$1O([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$1O([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1O([Autowired("headerNavigationService")],a.prototype,"headerNavigationService",void 0),__decorate$1O([Autowired("navigationService")],a.prototype,"navigationService",void 0),__decorate$1O([Autowired("columnAnimationService")],a.prototype,"columnAnimationService",void 0),__decorate$1O([Optional("rangeService")],a.prototype,"rangeService",void 0),__decorate$1O([Autowired("focusService")],a.prototype,"focusService",void 0),__decorate$1O([Optional("contextMenuFactory")],a.prototype,"contextMenuFactory",void 0),__decorate$1O([Autowired("popupService")],a.prototype,"popupService",void 0),__decorate$1O([Autowired("valueFormatterService")],a.prototype,"valueFormatterService",void 0),__decorate$1O([Autowired("stylingService")],a.prototype,"stylingService",void 0),__decorate$1O([Autowired("columnHoverService")],a.prototype,"columnHoverService",void 0),__decorate$1O([Autowired("userComponentFactory")],a.prototype,"userComponentFactory",void 0),__decorate$1O([Autowired("userComponentRegistry")],a.prototype,"userComponentRegistry",void 0),__decorate$1O([Autowired("animationFrameService")],a.prototype,"animationFrameService",void 0),__decorate$1O([Autowired("dragAndDropService")],a.prototype,"dragAndDropService",void 0),__decorate$1O([Autowired("sortController")],a.prototype,"sortController",void 0),__decorate$1O([Autowired("filterManager")],a.prototype,"filterManager",void 0),__decorate$1O([Autowired("rowContainerHeightService")],a.prototype,"rowContainerHeightService",void 0),__decorate$1O([Autowired("frameworkOverrides")],a.prototype,"frameworkOverrides",void 0),__decorate$1O([Autowired("cellPositionUtils")],a.prototype,"cellPositionUtils",void 0),__decorate$1O([Autowired("rowPositionUtils")],a.prototype,"rowPositionUtils",void 0),__decorate$1O([Autowired("selectionService")],a.prototype,"selectionService",void 0),__decorate$1O([Optional("selectionHandleFactory")],a.prototype,"selectionHandleFactory",void 0),__decorate$1O([Autowired("rowCssClassCalculator")],a.prototype,"rowCssClassCalculator",void 0),__decorate$1O([Autowired("rowModel")],a.prototype,"rowModel",void 0),__decorate$1O([Autowired("ctrlsService")],a.prototype,"ctrlsService",void 0),__decorate$1O([Autowired("ctrlsFactory")],a.prototype,"ctrlsFactory",void 0),__decorate$1O([Autowired("agStackComponentsRegistry")],a.prototype,"agStackComponentsRegistry",void 0),__decorate$1O([Autowired("valueCache")],a.prototype,"valueCache",void 0),__decorate$1O([Autowired("rowNodeEventThrottle")],a.prototype,"rowNodeEventThrottle",void 0),__decorate$1O([PostConstruct],a.prototype,"postConstruct",null),a=__decorate$1O([Bean("beans")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1Y=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),CellMouseListenerFeature=function(a){__extends$1Y(o,a);function o(e,c,h){var g=a.call(this)||this;return g.cellCtrl=e,g.beans=c,g.column=h,g}return o.prototype.onMouseEvent=function(e,c){if(!isStopPropagationForAgGrid(c))switch(e){case"click":this.onCellClicked(c);break;case"mousedown":case"touchstart":this.onMouseDown(c);break;case"dblclick":this.onCellDoubleClicked(c);break;case"mouseout":this.onMouseOut(c);break;case"mouseover":this.onMouseOver(c);break}},o.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}var c=this.beans,h=c.eventService,g=c.rangeService,b=c.gridOptionsWrapper,$=e.ctrlKey||e.metaKey;g&&$&&g.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&g.intersectLastRange(!0);var j=this.cellCtrl.createEvent(e,Events.EVENT_CELL_CLICKED);h.dispatchEvent(j);var rt=this.column.getColDef();rt.onCellClicked&&window.setTimeout(function(){return rt.onCellClicked(j)},0);var nt=(b.isSingleClickEdit()||rt.singleClickEdit)&&!b.isSuppressClickEdit();nt&&this.cellCtrl.startRowOrCellEdit()},o.prototype.isDoubleClickOnIPad=function(){if(!isIOSUserAgent()||isEventSupported("dblclick"))return!1;var e=new Date().getTime(),c=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,c},o.prototype.onCellDoubleClicked=function(e){var c=this.column.getColDef(),h=this.cellCtrl.createEvent(e,Events.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(h),typeof c.onCellDoubleClicked=="function"&&window.setTimeout(function(){return c.onCellDoubleClicked(h)},0);var g=!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit();g&&this.cellCtrl.startRowOrCellEdit(null,null,e)},o.prototype.onMouseDown=function(e){var c=e.ctrlKey,h=e.metaKey,g=e.shiftKey,b=e.target,$=this.beans,j=$.eventService,rt=$.rangeService;if(!this.isRightClickInExistingRange(e)){var nt=rt&&rt.getCellRanges().length!=0;if(!g||!nt){var pt=(isBrowserEdge()||isBrowserSafari())&&!this.cellCtrl.isEditing()&&!isFocusableFormField(b);this.cellCtrl.focusCell(pt)}if(g&&nt&&e.preventDefault(),!this.containsWidget(b)){if(rt){var wt=this.cellCtrl.getCellPosition();if(g)rt.extendLatestRangeToCell(wt);else{var Dt=c||h;rt.setRangeToCell(wt,Dt)}}j.dispatchEvent(this.cellCtrl.createEvent(e,Events.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(e){var c=this.beans.rangeService;if(c){var h=c.isCellInAnyRange(this.cellCtrl.getCellPosition());if(h&&e.button===2)return!0}return!1},o.prototype.containsWidget=function(e){return isElementChildOfClass(e,"ag-selection-checkbox",3)},o.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var c=this.cellCtrl.createEvent(e,Events.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(c),this.beans.columnHoverService.clearMouseOver()}},o.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var c=this.cellCtrl.createEvent(e,Events.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(c),this.beans.columnHoverService.setMouseOver([this.column])}},o.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var c=this.cellCtrl.getGui(),h=c.contains(e.target),g=c.contains(e.relatedTarget);return h&&g},o.prototype.destroy=function(){},o}(Beans);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1X=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),CellKeyboardListenerFeature=function(a){__extends$1X(o,a);function o(e,c,h,g,b){var $=a.call(this)||this;return $.cellCtrl=e,$.beans=c,$.rowNode=g,$.rowCtrl=b,$}return o.prototype.setComp=function(e){this.eGui=e},o.prototype.onKeyDown=function(e){var c=e.key;switch(c){case KeyCode.ENTER:this.onEnterKeyDown(e);break;case KeyCode.F2:this.onF2KeyDown(e);break;case KeyCode.ESCAPE:this.onEscapeKeyDown(e);break;case KeyCode.TAB:this.onTabKeyDown(e);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyPressed(c,e);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyPressed(e,c);break}},o.prototype.onNavigationKeyPressed=function(e,c){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,c,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},o.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var c=this.beans.rangeService.extendLatestRangeInDirection(e);c&&this.beans.navigationService.ensureCellVisible(c)}},o.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},o.prototype.onBackspaceOrDeleteKeyPressed=function(e,c){var h=this,g=h.cellCtrl,b=h.beans,$=h.rowNode,j=b.gridOptionsWrapper,rt=b.rangeService,nt=b.eventService;g.isEditing()||(nt.dispatchEvent({type:Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),isDeleteKey(e,j.isEnableCellEditingOnBackspace())?rt&&j.isEnableRangeSelection()?rt.clearCellRangeCellValues():g.isCellEditable()&&$.setDataValue(g.getColumn(),null,"cellKeyboardListenerFeature"):g.startRowOrCellEdit(e,void 0,c),nt.dispatchEvent({type:Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},o.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,KeyCode.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(KeyCode.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},o.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(KeyCode.F2,void 0,e)},o.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},o.prototype.onKeyPress=function(e){var c=e.target,h=c!==this.eGui;if(!(h||this.cellCtrl.isEditing())){var g=String.fromCharCode(e.charCode);g===" "?this.onSpaceKeyPressed(e):isEventFromPrintableCharacter(e)&&(this.cellCtrl.startRowOrCellEdit(null,g,e),e.preventDefault())}},o.prototype.onSpaceKeyPressed=function(e){var c=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&c.isRowSelection()){var h=this.rowNode.isSelected(),g=!h;if(g||!c.isSuppressRowDeselection()){var b=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),$=this.rowNode.setSelectedParams({newValue:g,rangeSelect:e.shiftKey,groupSelectsFiltered:b});h===void 0&&$===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:b})}}e.preventDefault()},o.prototype.destroy=function(){a.prototype.destroy.call(this)},o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1W=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1N=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DndSourceComp=function(a){__extends$1W(o,a);function o(e,c,h,g){var b=a.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return b.rowNode=e,b.column=c,b.beans=h,b.eCell=g,b}return o.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(c){c.stopPropagation()}),this.addDragSource(),this.checkVisibility()},o.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},o.prototype.onDragStart=function(e){var c=this,h=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var g=function(){try{var $=JSON.stringify(c.rowNode.data);e.dataTransfer.setData("application/json",$),e.dataTransfer.setData("text/plain",$)}catch{}};if(h){var b={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};h(b)}else g()},o.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},__decorate$1N([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1V=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$5$1=function(){return __assign$5$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$5$1.apply(this,arguments)},CSS_CELL="ag-cell",CSS_AUTO_HEIGHT="ag-cell-auto-height",CSS_NORMAL_HEIGHT="ag-cell-normal-height",CSS_CELL_FOCUS="ag-cell-focus",CSS_CELL_FIRST_RIGHT_PINNED="ag-cell-first-right-pinned",CSS_CELL_LAST_LEFT_PINNED="ag-cell-last-left-pinned",CSS_CELL_NOT_INLINE_EDITING="ag-cell-not-inline-editing",CSS_CELL_INLINE_EDITING="ag-cell-inline-editing",CSS_CELL_POPUP_EDITING="ag-cell-popup-editing",CSS_COLUMN_HOVER="ag-column-hover",CSS_CELL_WRAP_TEXT="ag-cell-wrap-text",instanceIdSequence$3=0,CellCtrl=function(a){__extends$1V(o,a);function o(e,c,h,g){var b=a.call(this)||this;return b.suppressRefreshCell=!1,b.onCellCompAttachedFuncs=[],b.column=e,b.rowNode=c,b.beans=h,b.rowCtrl=g,b.instanceId=e.getId()+"-"+instanceIdSequence$3++,b.createCellPosition(),b.addFeatures(),b}return o.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new CellPositionFeature(this,this.beans),this.addDestroyFunc(function(){return e.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new CellCustomStyleFeature(this,this.beans),this.addDestroyFunc(function(){return e.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new CellMouseListenerFeature(this,this.beans,this.column),this.addDestroyFunc(function(){return e.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new CellKeyboardListenerFeature(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return e.cellKeyboardListenerFeature.destroy()});var c=this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection();c&&(this.cellRangeFeature=new CellRangeFeature(this.beans,this),this.addDestroyFunc(function(){return e.cellRangeFeature.destroy()})),this.addTooltipFeature()},o.prototype.addTooltipFeature=function(){var e=this,c=function(){var g=e.column.getColDef(),b=e.rowNode.data;if(g.tooltipField&&exists(b))return getValueUsingField(b,g.tooltipField,e.column.isTooltipFieldContainsDots());var $=g.tooltipValueGetter;return $?$({location:"cell",api:e.beans.gridOptionsWrapper.getApi(),columnApi:e.beans.gridOptionsWrapper.getColumnApi(),context:e.beans.gridOptionsWrapper.getContext(),colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},h={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:c,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new TooltipFeature(h,this.beans),this.addDestroyFunc(function(){return e.tooltipFeature.destroy()})},o.prototype.setComp=function(e,c,h,g,b){this.cellComp=e,this.gow=this.beans.gridOptionsWrapper,this.eGui=c,this.printLayout=g,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),h&&this.setupAutoHeight(h),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var $=escapeString(this.column.getId());this.cellComp.setColId($),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(c),this.cellCustomStyleFeature.setComp(e),this.tooltipFeature.setComp(e),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,c),b&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(j){return j()}),this.onCellCompAttachedFuncs=[])},o.prototype.setupAutoHeight=function(e){var c=this;if(this.column.isAutoHeight()){var h=e.parentElement,g=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,b=function(rt){if(!c.editing&&c.isAlive()){var nt=getElementSize(h),pt=nt.paddingTop,wt=nt.paddingBottom,Dt=e.offsetHeight,Lt=Dt+pt+wt;if(rt<5){var it=c.beans.gridOptionsWrapper.getDocument(),st=!it||!it.contains(e),bt=Lt==0;if(st||bt){c.beans.frameworkOverrides.setTimeout(function(){return b(rt+1)},0);return}}var gt=Math.max(Lt,g);c.rowNode.setRowAutoHeight(gt,c.column)}},$=function(){return b(0)};$();var j=this.beans.resizeObserverService.observeResize(e,$);this.addDestroyFunc(function(){j(),c.rowNode.setRowAutoHeight(void 0,c.column)})}},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.showValue=function(e){e===void 0&&(e=!1);var c=this.valueFormatted!=null?this.valueFormatted:this.value,h=this.createCellRendererParams(),g=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),h);this.cellComp.setRenderDetails(g,c,e),this.refreshHandle()},o.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},o.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight();return e},o.prototype.isIncludeControl=function(e){var c=this.rowNode.rowPinned!=null,h=typeof e=="function",g=c?!1:h||e===!0;return g},o.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),c=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),h=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),g=this.includeDndSource!=this.isIncludeControl(e.dndSource);return c||h||g},o.prototype.startEditing=function(e,c,h,g){var b=this;e===void 0&&(e=null),c===void 0&&(c=null),h===void 0&&(h=!1),g===void 0&&(g=null);var $,j;if(!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){b.startEditing(e,c,h,g)});return}var rt=this.createCellEditorParams(e,c,h),nt=this.column.getColDef(),pt=this.beans.userComponentFactory.getCellEditorDetails(nt,rt),wt=(($=pt)===null||$===void 0?void 0:$.popupFromSelector)!=null?pt.popupFromSelector:!!nt.cellEditorPopup,Dt=((j=pt)===null||j===void 0?void 0:j.popupPositionFromSelector)!=null?pt.popupPositionFromSelector:nt.cellEditorPopupPosition;this.setEditing(!0,wt),this.cellComp.setEditDetails(pt,wt,Dt);var Lt=this.createEvent(g,Events.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(Lt)}},o.prototype.setEditing=function(e,c){c===void 0&&(c=!1),this.editing!==e&&(this.editing=e,this.editingInPopup=c,this.setInlineEditingClass(),this.refreshHandle())},o.prototype.stopRowOrCellEdit=function(e){e===void 0&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},o.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},o.prototype.takeValueFromCellEditor=function(e){var c={newValueExists:!1};if(e)return c;var h=this.cellComp.getCellEditor();if(!h)return c;var g=h.isCancelAfterEnd&&h.isCancelAfterEnd();if(g)return c;var b=h.getValue();return{newValue:b,newValueExists:!0}},o.prototype.saveNewValue=function(e,c){if(c===e)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(e,c),!1;this.suppressRefreshCell=!0;var h=this.rowNode.setDataValue(this.column,c);return this.suppressRefreshCell=!1,h},o.prototype.dispatchEventForSaveValueReadOnly=function(e,c){var h=this.rowNode,g={type:Events.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:h.data,node:h,oldValue:e,newValue:c,value:c,source:void 0};this.beans.eventService.dispatchEvent(g)},o.prototype.stopEditing=function(e){if(e===void 0&&(e=!1),!this.editing)return!1;var c=this.takeValueFromCellEditor(e),h=c.newValue,g=c.newValueExists,b=this.getValueFromValueService(),$=!1;return g&&($=this.saveNewValue(b,h)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(b,h,!e&&!!$),$},o.prototype.dispatchEditingStoppedEvent=function(e,c,h){var g=__assign$5$1(__assign$5$1({},this.createEvent(null,Events.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:c,valueChanged:h});this.beans.eventService.dispatchEvent(g)},o.prototype.setInlineEditingClass=function(){var e=this;if(this.isAlive()){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){e.setInlineEditingClass()});return}var c=this.editing&&!this.editingInPopup,h=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass(CSS_CELL_INLINE_EDITING,c),this.cellComp.addOrRemoveCssClass(CSS_CELL_NOT_INLINE_EDITING,!c),this.cellComp.addOrRemoveCssClass(CSS_CELL_POPUP_EDITING,h),this.rowCtrl.setInlineEditingCss(this.editing)}},o.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},o.prototype.createCellEditorParams=function(e,c,h){var g={value:this.getValueFromValueService(),key:e,eventKey:e,charPress:c,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:h,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return g},o.prototype.createCellRendererParams=function(){var e=this,c=function(g,b){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),e.rowCtrl.addEventListener(g,b)},h={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(g){return e.beans.valueService.setValue(e.rowNode,e.column,g)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(g,b,$,j){return e.registerRowDragger(g,b,j)},addRowCompListener:c};return h},o.prototype.parseValue=function(e){var c=this.column.getColDef(),h={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:c,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},g=c.valueParser;return exists(g)?this.beans.expressionService.evaluate(g,h):e},o.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},o.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},o.prototype.onCellChanged=function(e){if(this.cellComp){var c=e.column===this.column;c&&this.refreshCell({})}},o.prototype.refreshCell=function(e){if(!(this.suppressRefreshCell||this.editing)&&this.cellComp){var c=this.column.getColDef(),h=e!=null&&!!e.newData,g=e!=null&&!!e.suppressFlash||!!c.suppressCellFlash,b=c.field==null&&c.valueGetter==null&&c.showRowGroup==null,$=e&&e.forceRefresh||b||h,j=this.updateAndFormatValue(),rt=$||j;if(rt){this.showValue(h);var nt=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),pt=!g&&!nt&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||c.enableCellChangeFlash);pt&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},o.prototype.stopEditingAndFocus=function(e){e===void 0&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},o.prototype.navigateAfterEdit=function(){var e=this.beans.gridOptionsWrapper.isFullRowEdit();if(!e){var c=this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit();c&&this.beans.navigationService.navigateToNextCell(null,KeyCode.DOWN,this.getCellPosition(),!1)}},o.prototype.flashCell=function(e){var c=e&&e.flashDelay,h=e&&e.fadeDelay;this.animateCell("data-changed",c,h)},o.prototype.animateCell=function(e,c,h){var g=this,b="ag-cell-"+e,$="ag-cell-"+e+"-animation",j=this.beans.gridOptionsWrapper;c||(c=j.getCellFlashDelay()),exists(h)||(h=j.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(b,!0),this.cellComp.addOrRemoveCssClass($,!1),window.setTimeout(function(){g.isAlive()&&(g.cellComp.addOrRemoveCssClass(b,!1),g.cellComp.addOrRemoveCssClass($,!0),g.eGui.style.transition="background-color "+h+"ms",window.setTimeout(function(){g.isAlive()&&(g.cellComp.addOrRemoveCssClass($,!1),g.eGui.style.transition="")},h))},c)},o.prototype.onFlashCells=function(e){if(this.cellComp){var c=this.beans.cellPositionUtils.createId(this.getCellPosition()),h=e.cells[c];h&&this.animateCell("highlight")}},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},o.prototype.formatValue=function(e){var c=this.callValueFormatter(e);return c??e},o.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},o.prototype.updateAndFormatValue=function(e){e===void 0&&(e=!1);var c=this.value,h=this.valueFormatted;this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value);var g=e?!0:!this.valuesAreEqual(c,this.value)||this.valueFormatted!=h;return g},o.prototype.valuesAreEqual=function(e,c){var h=this.column.getColDef();return h.equals?h.equals(e,c):e===c},o.prototype.getComp=function(){return this.cellComp},o.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),c=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,h=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),g=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),b=c&&h&&!g,$=this.beans.valueService.getValue(this.column,this.rowNode,!1,b);return $},o.prototype.getValue=function(){return this.value},o.prototype.getValueFormatted=function(){return this.valueFormatted},o.prototype.addDomData=function(){var e=this,c=this.getGui();this.beans.gridOptionsWrapper.setDomData(c,o.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(c,o.DOM_DATA_KEY_CELL_CTRL,null)})},o.prototype.createEvent=function(e,c){var h={type:c,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex};return h},o.prototype.onKeyPress=function(e){this.cellKeyboardListenerFeature.onKeyPress(e)},o.prototype.onKeyDown=function(e){this.cellKeyboardListenerFeature.onKeyDown(e)},o.prototype.onMouseEvent=function(e,c){this.cellMouseListenerFeature.onMouseEvent(e,c)},o.prototype.getGui=function(){return this.eGui},o.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},o.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},o.prototype.onLeftChanged=function(){this.cellComp&&this.cellPositionFeature.onLeftChanged()},o.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},o.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);setAriaColIndex(this.getGui(),e)},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},o.prototype.getColumn=function(){return this.column},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getBeans=function(){return this.beans},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.appendChild=function(e){this.eGui.appendChild(e)},o.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.isEditing=function(){return this.editing},o.prototype.startRowOrCellEdit=function(e,c,h){h===void 0&&(h=null),this.cellComp&&(this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(e,c,this):this.startEditing(e,c,!0,h))},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},o.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},o.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},o.prototype.focusCell=function(e){e===void 0&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},o.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_FIRST_RIGHT_PINNED,e)}},o.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_LAST_LEFT_PINNED,e)}},o.prototype.onCellFocused=function(e){if(!(!this.cellComp||this.gow.isSuppressCellFocus())){var c=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass(CSS_CELL_FOCUS,c),c&&e&&e.forceBrowserFocus){var h=this.cellComp.getFocusableElement();h.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var g=this.beans.gridOptionsWrapper.isFullRowEdit();!c&&!g&&this.editing&&this.stopRowOrCellEdit()}},o.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:makeNull(this.rowNode.rowPinned),column:this.column}},o.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(CSS_CELL,!0),this.cellComp.addOrRemoveCssClass(CSS_CELL_NOT_INLINE_EDITING,!0);var e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(CSS_AUTO_HEIGHT,e),this.cellComp.addOrRemoveCssClass(CSS_NORMAL_HEIGHT,!e)},o.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(CSS_COLUMN_HOVER,e)}},o.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},o.prototype.setWrapText=function(){var e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(CSS_CELL_WRAP_TEXT,e)},o.prototype.dispatchCellContextMenuEvent=function(e){var c=this.column.getColDef(),h=this.createEvent(e,Events.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(h),c.onCellContextMenu&&window.setTimeout(function(){return c.onCellContextMenu(h)},0)},o.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},o.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},o.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],a.prototype.destroy.call(this)},o.prototype.createSelectionCheckbox=function(){var e=new CheckboxSelectionComponent;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},o.prototype.createDndSource=function(){var e=new DndSourceComp(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},o.prototype.registerRowDragger=function(e,c,h){var g=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,c);return}var b=this.createRowDragComp(e,c,h);b&&(this.customRowDragComp=b,this.addDestroyFunc(function(){return g.beans.context.destroyBean(b)}))},o.prototype.createRowDragComp=function(e,c,h){var g=this,b=this.beans.gridOptionsWrapper.isPagination(),$=this.beans.gridOptionsWrapper.isRowDragManaged(),j=this.beans.gridOptionsWrapper.isRowModelDefault();if($){if(!j){doOnce(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");return}if(b){doOnce(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging");return}}var rt=new RowDragComp(function(){return g.value},this.rowNode,this.column,e,c,h);return this.beans.context.createBean(rt),rt},o.DOM_DATA_KEY_CELL_CTRL="cellCtrl",o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1U=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__values$2=function(a){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&a[o],c=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$h=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$d=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$h(arguments[o]));return a},RowType$1;(function(a){a.Normal="Normal",a.FullWidth="FullWidth",a.FullWidthLoading="FullWidthLoading",a.FullWidthGroup="FullWidthGroup",a.FullWidthDetail="FullWidthDetail"})(RowType$1||(RowType$1={}));var instanceIdSequence$2=0,RowCtrl=function(a){__extends$1U(o,a);function o(e,c,h,g,b){var $=a.call(this)||this;return $.allRowGuis=[],$.active=!0,$.centerCellCtrls={list:[],map:{}},$.leftCellCtrls={list:[],map:{}},$.rightCellCtrls={list:[],map:{}},$.lastMouseDownOnDragger=!1,$.updateColumnListsPending=!1,$.beans=c,$.rowNode=e,$.paginationPage=$.beans.paginationProxy.getCurrentPage(),$.useAnimationFrameForCreate=g,$.printLayout=b,$.instanceId=e.id+"-"+instanceIdSequence$2++,$.setAnimateFlags(h),$.rowFocused=$.beans.focusService.isRowFocused($.rowNode.rowIndex,$.rowNode.rowPinned),$.rowLevel=$.beans.rowCssClassCalculator.calculateRowLevel($.rowNode),$.setRowType(),$.addListeners(),$}return o.prototype.isSticky=function(){return this.rowNode.sticky},o.prototype.getBeans=function(){return this.beans},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(e,c,h){var g={rowComp:e,element:c,containerType:h};this.allRowGuis.push(g),h===RowContainerType.LEFT?this.leftGui=g:h===RowContainerType.RIGHT?this.rightGui=g:h===RowContainerType.FULL_WIDTH?this.fullWidthGui=g:this.centerGui=g;var b=this.leftGui!=null&&this.rightGui!=null&&this.centerGui!=null,$=this.fullWidthGui!=null;(b||$)&&this.initialiseRowComps(),this.rowType!=="FullWidthLoading"&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},o.prototype.isCacheable=function(){return this.rowType===RowType$1.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},o.prototype.setCached=function(e){var c=e?"none":"";this.allRowGuis.forEach(function(h){return h.element.style.display=c})},o.prototype.initialiseRowComps=function(){var e=this,c=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),c.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&executeNextVMTurn(this.onTopChanged.bind(this)),this.fadeRowIn&&executeNextVMTurn(function(){e.allRowGuis.forEach(function($){return $.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var h=this.getRowBusinessKey(),g=escapeString(this.rowNode.id),b=escapeString(h);this.allRowGuis.forEach(function($){var j=$.rowComp;j.setRole("row");var rt=e.getInitialRowClasses($.containerType);rt.forEach(function(nt){return j.addOrRemoveCssClass(nt,!0)}),e.rowNode.group&&setAriaExpanded($.element,e.rowNode.expanded==!0),g!=null&&j.setRowId(g),b!=null&&j.setRowBusinessKey(b),e.isFullWidth()&&!e.beans.gridOptionsWrapper.isSuppressCellFocus()&&j.setTabIndex(-1),c.setDomData($.element,o.DOM_DATA_KEY_ROW_CTRL,e),e.addDestroyFunc(function(){return c.setDomData($.element,o.DOM_DATA_KEY_ROW_CTRL,null)}),e.useAnimationFrameForCreate?e.beans.animationFrameService.createTask(e.addHoverFunctionality.bind(e,$.element),e.rowNode.rowIndex,"createTasksP2"):e.addHoverFunctionality($.element),e.isFullWidth()&&e.setupFullWidth($),c.isRowDragEntireRow()&&e.addRowDraggerToRow($),e.useAnimationFrameForCreate&&e.beans.animationFrameService.addDestroyTask(function(){e.isAlive()&&$.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},o.prototype.addRowDraggerToRow=function(e){var c=this.beans.gridOptionsWrapper;if(c.isEnableRangeSelection()){doOnce(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}var h=c.getLocaleTextFunc(),g=new RowDragComp(function(){return"1 "+h("rowDragRow","row")},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(g,this.beans.context)},o.prototype.setupFullWidth=function(e){var c=this.getPinnedForContainer(e.containerType),h=this.createFullWidthParams(e.element,c),g=ModuleRegistry.isRegistered(ModuleNames.MasterDetailModule);if(this.rowType==RowType$1.FullWidthDetail&&!g){ModuleRegistry.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+ModuleNames.MasterDetailModule);return}var b;switch(this.rowType){case RowType$1.FullWidthDetail:b=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(h);break;case RowType$1.FullWidthGroup:b=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(h);break;case RowType$1.FullWidthLoading:b=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(h);break;default:b=this.beans.userComponentFactory.getFullWidthCellRendererDetails(h);break}e.rowComp.showFullWidth(b)},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.getCellElement=function(e){var c=this.getCellCtrl(e);return c?c.getGui():null},o.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();if(e){var c={eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(c)}},o.prototype.setRowType=function(){var e=this.rowNode.stub,c=this.rowNode.isFullWidthCell(),h=this.beans.doingMasterDetail&&this.rowNode.detail,g=this.beans.columnModel.isPivotMode(),b=!!this.rowNode.group&&!this.rowNode.footer,$=b&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(g);e?this.rowType=RowType$1.FullWidthLoading:h?this.rowType=RowType$1.FullWidthDetail:c?this.rowType=RowType$1.FullWidth:$?this.rowType=RowType$1.FullWidthGroup:this.rowType=RowType$1.Normal},o.prototype.updateColumnLists=function(e){var c=this;if(e===void 0&&(e=!1),!this.isFullWidth()){var h=e||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout;if(h){this.updateColumnListsImpl();return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){c.active&&c.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},o.prototype.createCellCtrls=function(e,c,h){var g=this;h===void 0&&(h=null);var b={list:[],map:{}},$=function(j,rt){b.list.push(rt),b.map[j]=rt};return c.forEach(function(j){var rt=j.getInstanceId(),nt=e.map[rt];nt||(nt=new CellCtrl(j,g.rowNode,g.beans,g)),$(rt,nt)}),e.list.forEach(function(j){var rt=b.map[j.getColumn().getInstanceId()]!=null;if(!rt){var nt=!g.isCellEligibleToBeRemoved(j,h);if(nt){$(j.getColumn().getInstanceId(),j);return}j.destroy()}}),b},o.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var c=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var h=c.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,h);var g=c.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,g,Constants.PINNED_LEFT);var b=c.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,b,Constants.PINNED_RIGHT)}this.allRowGuis.forEach(function($){var j=$.containerType===RowContainerType.LEFT?e.leftCellCtrls:$.containerType===RowContainerType.RIGHT?e.rightCellCtrls:e.centerCellCtrls;$.rowComp.setCellCtrls(j.list)})},o.prototype.isCellEligibleToBeRemoved=function(e,c){var h=!0,g=!1,b=e.getColumn();if(b.getPinned()!=c)return h;var $=e.isEditing(),j=this.beans.focusService.isCellFocused(e.getCellPosition()),rt=$||j;if(rt){var nt=e.getColumn(),pt=this.beans.columnModel.getAllDisplayedColumns(),wt=pt.indexOf(nt)>=0;return wt?g:h}return h},o.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var c=exists(this.rowNode.oldRowTop);this.slideRowIn=c,this.fadeRowIn=!c}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(e){this.stopEditing(e)},o.prototype.isFullWidth=function(){return this.rowType!==RowType$1.Normal},o.prototype.getRowType=function(){return this.rowType},o.prototype.refreshFullWidth=function(){var e=this,c=function(rt,nt){if(!rt)return!0;var pt=rt.rowComp.getFullWidthCellRenderer();if(!pt||!pt.refresh)return!1;var wt=e.createFullWidthParams(rt.element,nt),Dt=pt.refresh(wt);return Dt},h=c(this.fullWidthGui,null),g=c(this.centerGui,null),b=c(this.leftGui,Constants.PINNED_LEFT),$=c(this.rightGui,Constants.PINNED_RIGHT),j=h&&g&&b&&$;return j},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,RowNode.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,Events.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,Events.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,Events.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.onColumnMoved=function(){this.updateColumnLists()},o.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(c){return c.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,function(c){e.getAllCellCtrls().forEach(function(h){return h.onCellChanged(c)})})},o.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach(function(c){return c.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(c){var h=e===RowHighlightPosition.Above,g=e===RowHighlightPosition.Below;c.rowComp.addOrRemoveCssClass("ag-row-highlight-above",h),c.rowComp.addOrRemoveCssClass("ag-row-highlight-below",g)})},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},o.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),c=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(h){h.rowComp.addOrRemoveCssClass("ag-row-group",e),h.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&c),h.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!c),setAriaExpanded(h.element,e&&c)})},o.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},o.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},o.prototype.getRowPosition=function(){return{rowPinned:makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyboardNavigate=function(e){var c=this.allRowGuis.find(function(rt){return rt.element.contains(e.target)}),h=c?c.element:null,g=h===e.target;if(g){var b=this.rowNode,$=this.beans.focusService.getFocusedCell(),j={rowIndex:b.rowIndex,rowPinned:b.rowPinned,column:$&&$.column};this.beans.navigationService.navigateToNextCell(e,e.key,j,!0),e.preventDefault()}},o.prototype.onTabKeyDown=function(e){if(!(e.defaultPrevented||isStopPropagationForAgGrid(e))){var c=this.allRowGuis.find(function($){return $.element.contains(e.target)}),h=c?c.element:null,g=h===e.target,b=null;g||(b=this.beans.focusService.findNextFocusableElement(h,!1,e.shiftKey)),(this.isFullWidth()&&g||!b)&&this.beans.navigationService.onTabKeyDown(this,e)}},o.prototype.onFullWidthRowFocused=function(e){var c,h=this.rowNode,g=this.isFullWidth()&&e.rowIndex===h.rowIndex&&e.rowPinned==h.rowPinned,b=this.fullWidthGui?this.fullWidthGui.element:(c=this.centerGui)===null||c===void 0?void 0:c.element;b&&(b.classList.toggle("ag-full-width-focus",g),g&&b.focus({preventScroll:!0}))},o.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},o.prototype.removeCellCtrl=function(e,c){var h={list:[],map:{}};return e.list.forEach(function(g){g!==c&&(h.list.push(g),h.map[g.getInstanceId()]=g)}),h},o.prototype.onMouseEvent=function(e,c){switch(e){case"dblclick":this.onRowDblClick(c);break;case"click":this.onRowClick(c);break;case"touchstart":case"mousedown":this.onRowMouseDown(c);break}},o.prototype.createRowEvent=function(e,c){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:c}},o.prototype.createRowEventWithSource=function(e,c){var h=this.createRowEvent(e,c);return h.source=this,h},o.prototype.onRowDblClick=function(e){if(!isStopPropagationForAgGrid(e)){var c=this.createRowEventWithSource(Events.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(c)}},o.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=isElementChildOfClass(e.target,"ag-row-drag",3),!!this.isFullWidth()){var c=this.rowNode,h=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:c.rowIndex,column:h.getAllDisplayedColumns()[0],rowPinned:c.rowPinned,forceBrowserFocus:!0})}},o.prototype.onRowClick=function(e){var c=isStopPropagationForAgGrid(e)||this.lastMouseDownOnDragger;if(!c){var h=this.createRowEventWithSource(Events.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(h);var g=e.ctrlKey||e.metaKey,b=e.shiftKey,$=this.beans.gridOptionsWrapper.isGroupSelectsChildren();if(!($&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var j=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),rt=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())j?this.rowNode.setSelectedParams({newValue:!1,event:e}):g?rt&&this.rowNode.setSelectedParams({newValue:!1,event:e}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!b,rangeSelect:b,event:e});else{var nt=j?!1:!g;this.rowNode.setSelectedParams({newValue:!0,clearSelection:nt,rangeSelect:b,event:e})}}}},o.prototype.setupDetailRowAutoHeight=function(e){var c=this;if(this.rowType===RowType$1.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var h=function(){var b=e.clientHeight;if(b!=null&&b>0){var $=function(){c.rowNode.setRowHeight(b),c.beans.clientSideRowModel?c.beans.clientSideRowModel.onRowHeightChanged():c.beans.serverSideRowModel&&c.beans.serverSideRowModel.onRowHeightChanged()};c.beans.frameworkOverrides.setTimeout($,0)}},g=this.beans.resizeObserverService.observeResize(e,h);this.addDestroyFunc(g),h()}},o.prototype.createFullWidthParams=function(e,c){var h=this,g={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:c,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(b,$,j,rt){return h.addFullWidthRowDragging(b,$,j,rt)}};return g},o.prototype.addFullWidthRowDragging=function(e,c,h,g){if(h===void 0&&(h=""),!!this.isFullWidth()){var b=new RowDragComp(function(){return h},this.rowNode,void 0,e,c,g);this.createManagedBean(b,this.beans.context)}},o.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var c="ag-row-level-"+e,h="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(g){g.rowComp.addOrRemoveCssClass(c,!0),g.rowComp.addOrRemoveCssClass(h,!1)})}this.rowLevel=e},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},o.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),c=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==c&&(this.lastRowOnPage=c,this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-row-last",c)}))},o.prototype.stopEditing=function(e){var c,h;if(e===void 0&&(e=!1),!this.stoppingRowEdit){var g=this.getAllCellCtrls(),b=this.editingRow;this.stoppingRowEdit=!0;var $=!1;try{for(var j=__values$2(g),rt=j.next();!rt.done;rt=j.next()){var nt=rt.value,pt=nt.stopEditing(e);b&&!e&&!$&&pt&&($=!0)}}catch(Dt){c={error:Dt}}finally{try{rt&&!rt.done&&(h=j.return)&&h.call(j)}finally{if(c)throw c.error}}if($){var wt=this.createRowEvent(Events.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(wt)}b&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},o.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),c.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},o.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var c=e?this.createRowEvent(Events.EVENT_ROW_EDITING_STARTED):this.createRowEvent(Events.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(c)},o.prototype.startRowEditing=function(e,c,h,g){if(e===void 0&&(e=null),c===void 0&&(c=null),h===void 0&&(h=null),g===void 0&&(g=null),!this.editingRow){var b=this.getAllCellCtrls().reduce(function($,j){var rt=j===h;return rt?j.startEditing(e,c,rt,g):j.startEditing(null,null,rt,g),$?!0:j.isEditing()},!1);b&&this.setEditingRow(!0)}},o.prototype.getAllCellCtrls=function(){var e=__spread$d(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return e},o.prototype.postProcessClassesFromGridOptions=function(){var e=this,c=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!c||!c.length||c.forEach(function(h){e.allRowGuis.forEach(function(g){return g.rowComp.addOrRemoveCssClass(h,!0)})})},o.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(c){e.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass(c,!0)})},function(c){e.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass(c,!1)})})},o.prototype.setStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(c){return c.rowComp.setUserStyles(e)})},o.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if(typeof e=="function")return e(this.rowNode)},o.prototype.getPinnedForContainer=function(e){var c=e===RowContainerType.LEFT?Constants.PINNED_LEFT:e===RowContainerType.RIGHT?Constants.PINNED_RIGHT:null;return c},o.prototype.getInitialRowClasses=function(e){var c=this.getPinnedForContainer(e),h={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:c};return this.beans.rowCssClassCalculator.getInitialRowClasses(h)},o.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var c=this.beans.gridOptionsWrapper.getRowStyleFunc(),h;if(c){var g={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};h=c(g)}return Object.assign({},e,h)},o.prototype.onRowSelected=function(){var e=this,c=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(h){h.rowComp.addOrRemoveCssClass("ag-row-selected",c),setAriaSelected(h.element,c?!0:void 0);var g=e.createAriaLabel();setAriaLabel(h.element,g??"")})},o.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!(e&&this.beans.gridOptionsWrapper.isSuppressRowDeselection())){var c=this.beans.gridOptionsWrapper.getLocaleTextFunc(),h=c(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.");return h}},o.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},o.prototype.addHoverFunctionality=function(e){var c=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return c.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return c.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_ENTER,function(){c.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||e.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover")}))},o.prototype.roundRowTopToBounds=function(e){var c=this.beans.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature().getVScrollPosition(),g=this.applyPaginationOffset(h.top,!0)-100,b=this.applyPaginationOffset(h.bottom,!0)+100;return Math.min(Math.max(g,e),b)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(this.rowNode.rowHeight!=null){var e=this.rowNode.rowHeight,c=this.beans.gridOptionsWrapper.getDefaultRowHeight(),h=this.beans.gridOptionsWrapper.isGetRowHeightFunction(),g=h?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,b=g?Math.min(c,g)-2+"px":void 0;this.allRowGuis.forEach(function($){$.element.style.height=e+"px",b&&$.element.style.setProperty("--ag-line-height",b)})}},o.prototype.addEventListener=function(e,c){(e==="renderedRowRemoved"||e==="rowRemoved")&&(e=Events.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+Events.EVENT_VIRTUAL_ROW_REMOVED)),a.prototype.addEventListener.call(this,e,c)},o.prototype.removeEventListener=function(e,c){(e==="renderedRowRemoved"||e==="rowRemoved")&&(e=Events.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Events.EVENT_VIRTUAL_ROW_REMOVED)),a.prototype.removeEventListener.call(this,e,c)},o.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var e=this.createRowEvent(Events.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),a.prototype.destroy.call(this)},o.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var e=this.rowNode.rowTop!=null;if(e){var c=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(c)}else this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},o.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(c){return c.list.forEach(function(h){return h.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},o.prototype.setFocusedClasses=function(){var e=this;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),c.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)})},o.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},o.prototype.applyPaginationOffset=function(e,c){if(c===void 0&&(c=!1),this.rowNode.isRowPinned())return e;var h=this.beans.paginationProxy.getPixelOffset(),g=c?1:-1;return e+h*g},o.prototype.setRowTop=function(e){if(!this.printLayout&&exists(e)){var c=this.applyPaginationOffset(e),h=this.rowNode.isRowPinned()?c:this.beans.rowContainerHeightService.getRealPixelPosition(c),g=h+"px";this.setRowTopStyle(g)}},o.prototype.getInitialRowTop=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowTransform();return e?this.getInitialRowTopShared():void 0},o.prototype.getInitialTransform=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowTransform();return e?void 0:"translateY("+this.getInitialRowTopShared()+")"},o.prototype.getInitialRowTopShared=function(){if(this.printLayout)return"";var e;if(this.isSticky())e=this.rowNode.stickyRowTop;else{var c=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,h=this.applyPaginationOffset(c);e=this.rowNode.isRowPinned()?h:this.beans.rowContainerHeightService.getRealPixelPosition(h)}return e+"px"},o.prototype.setRowTopStyle=function(e){var c=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(h){return c?h.rowComp.setTop(e):h.rowComp.setTransform("translateY("+e+")")})},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getCellCtrl=function(e){var c=null;return this.getAllCellCtrls().forEach(function(h){h.getColumn()==e&&(c=h)}),c!=null||this.getAllCellCtrls().forEach(function(h){h.getColSpanningList().indexOf(e)>=0&&(c=h)}),c},o.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},o.prototype.updateRowIndexes=function(){var e=this.rowNode.getRowIndexString(),c=this.beans.headerNavigationService.getHeaderRowCount(),h=this.rowNode.rowIndex%2===0,g=c+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(b){b.rowComp.setRowIndex(e),b.rowComp.addOrRemoveCssClass("ag-row-even",h),b.rowComp.addOrRemoveCssClass("ag-row-odd",!h),setAriaRowIndex(b.element,g)})},o.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},o.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},o.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},o.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},o.DOM_DATA_KEY_ROW_CTRL="renderedRow",o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1T=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1M=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$g=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},RowContainerEventsFeature=function(a){__extends$1T(o,a);function o(e){var c=a.call(this)||this;return c.element=e,c}return o.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},o.prototype.addKeyboardEvents=function(){var e=this,c=["keydown","keypress"];c.forEach(function(h){var g=e.processKeyboardEvent.bind(e,h);e.addManagedListener(e.element,h,g)})},o.prototype.addMouseListeners=function(){var e=this,c=isEventSupported("touchstart")?"touchstart":"mousedown",h=["dblclick","contextmenu","mouseover","mouseout","click",c];h.forEach(function(g){var b=e.processMouseEvent.bind(e,g);e.addManagedListener(e.element,g,b)})},o.prototype.processMouseEvent=function(e,c){if(!(!this.mouseEventService.isEventFromThisGrid(c)||isStopPropagationForAgGrid(c))){var h=this.getRowForEvent(c),g=this.mouseEventService.getRenderedCellForEvent(c);e==="contextmenu"?this.handleContextMenuMouseEvent(c,null,h,g):(g&&g.onMouseEvent(e,c),h&&h.onMouseEvent(e,c))}},o.prototype.mockContextMenuForIPad=function(){var e=this;if(isIOSUserAgent()){var c=new TouchListener(this.element),h=function(g){var b=e.getRowForEvent(g.touchEvent),$=e.mouseEventService.getRenderedCellForEvent(g.touchEvent);e.handleContextMenuMouseEvent(null,g.touchEvent,b,$)};this.addManagedListener(c,TouchListener.EVENT_LONG_TAP,h),this.addDestroyFunc(function(){return c.destroy()})}},o.prototype.getRowForEvent=function(e){for(var c=e.target;c;){var h=this.gridOptionsWrapper.getDomData(c,RowCtrl.DOM_DATA_KEY_ROW_CTRL);if(h)return h;c=c.parentElement}return null},o.prototype.handleContextMenuMouseEvent=function(e,c,h,g){var b=h?h.getRowNode():null,$=g?g.getColumn():null,j=null;if($){var rt=e||c;g.dispatchCellContextMenuEvent(rt),j=this.valueService.getValue($,b)}var nt=this.ctrlsService.getGridBodyCtrl(),pt=g?g.getGui():nt.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,c,b,$,j,pt)},o.prototype.processKeyboardEvent=function(e,c){var h=getCtrlForEvent(this.gridOptionsWrapper,c,CellCtrl.DOM_DATA_KEY_CELL_CTRL),g=getCtrlForEvent(this.gridOptionsWrapper,c,RowCtrl.DOM_DATA_KEY_ROW_CTRL);c.defaultPrevented||(h?this.processCellKeyboardEvent(h,e,c):g&&g.isFullWidth()&&this.processFullWidthRowKeyboardEvent(g,e,c))},o.prototype.processCellKeyboardEvent=function(e,c,h){var g=e.getRowNode(),b=e.getColumn(),$=e.isEditing(),j=!isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,h,g,b,$);if(j)switch(c){case"keydown":var rt=!$&&this.navigationService.handlePageScrollingKey(h);rt||e.onKeyDown(h),this.doGridOperations(h,e.isEditing());break;case"keypress":e.onKeyPress(h);break}if(c==="keydown"){var nt=e.createEvent(h,Events.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(nt)}if(c==="keypress"){var pt=e.createEvent(h,Events.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(pt)}},o.prototype.processFullWidthRowKeyboardEvent=function(e,c,h){var g=e.getRowNode(),b=this.focusService.getFocusedCell(),$=b&&b.column,j=!isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,h,g,$,!1);if(j){var rt=h.key;if(c==="keydown")switch(rt){case KeyCode.UP:case KeyCode.DOWN:e.onKeyboardNavigate(h);break;case KeyCode.TAB:e.onTabKeyDown(h)}}if(c==="keydown"){var nt=e.createRowEvent(Events.EVENT_CELL_KEY_DOWN,h);this.eventService.dispatchEvent(nt)}if(c==="keypress"){var pt=e.createRowEvent(Events.EVENT_CELL_KEY_PRESS,h);this.eventService.dispatchEvent(pt)}},o.prototype.doGridOperations=function(e,c){if(!(!e.ctrlKey&&!e.metaKey)&&!c&&this.mouseEventService.isEventFromThisGrid(e)){var h=normaliseQwertyAzerty(e);if(h===KeyCode.A)return this.onCtrlAndA(e);if(h===KeyCode.C)return this.onCtrlAndC(e);if(h===KeyCode.V)return this.onCtrlAndV();if(h===KeyCode.D)return this.onCtrlAndD(e);if(h===KeyCode.Z)return this.onCtrlAndZ(e);if(h===KeyCode.Y)return this.onCtrlAndY()}},o.prototype.onCtrlAndA=function(e){var c=this,h=c.pinnedRowModel,g=c.paginationProxy,b=c.rangeService,$=Constants.PINNED_BOTTOM,j=Constants.PINNED_TOP;if(b&&g.isRowsToRender()){var rt=__read$g([h.isEmpty(j),h.isEmpty($)],2),nt=rt[0],pt=rt[1],wt=nt?null:j,Dt=void 0,Lt=void 0;pt?(Dt=null,Lt=this.paginationProxy.getRowCount()-1):(Dt=$,Lt=h.getPinnedBottomRowData().length-1);var it=this.columnModel.getAllDisplayedColumns();if(missingOrEmpty(it))return;b.setCellRange({rowStartIndex:0,rowStartPinned:wt,rowEndIndex:Lt,rowEndPinned:Dt,columnStart:it[0],columnEnd:last(it)})}e.preventDefault()},o.prototype.onCtrlAndC=function(e){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),e.preventDefault())},o.prototype.onCtrlAndV=function(){ModuleRegistry.isRegistered(ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(e){ModuleRegistry.isRegistered(ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},o.prototype.onCtrlAndZ=function(e){this.gridOptionsWrapper.isUndoRedoCellEditing()&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo())},o.prototype.onCtrlAndY=function(){this.undoRedoService.redo()},__decorate$1M([Autowired("mouseEventService")],o.prototype,"mouseEventService",void 0),__decorate$1M([Autowired("valueService")],o.prototype,"valueService",void 0),__decorate$1M([Optional("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),__decorate$1M([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1M([Autowired("navigationService")],o.prototype,"navigationService",void 0),__decorate$1M([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1M([Autowired("undoRedoService")],o.prototype,"undoRedoService",void 0),__decorate$1M([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1M([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),__decorate$1M([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate$1M([Optional("rangeService")],o.prototype,"rangeService",void 0),__decorate$1M([Optional("clipboardService")],o.prototype,"clipboardService",void 0),__decorate$1M([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1S=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1L=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ViewportSizeFeature=function(a){__extends$1S(o,a);function o(e){var c=a.call(this)||this;return c.centerContainerCtrl=e,c}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},o.prototype.listenForResize=function(){var e=this,c=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(c),this.gridBodyCtrl.registerBodyViewportResizeListener(c)},o.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},o.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),c=getInnerHeight(e);if(this.bodyHeight!==c){this.bodyHeight=c;var h={type:Events.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(h)}},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},o.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return e||this.centerContainerCtrl.isViewportHScrollShowing()},o.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),c=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,c)},__decorate$1L([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1L([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1L([Autowired("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),__decorate$1L([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1R=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1K=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SetPinnedLeftWidthFeature=function(a){__extends$1R(o,a);function o(e){var c=a.call(this)||this;return c.element=e,c}return o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},o.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),c=e>0;setDisplayed(this.element,c),c&&setFixedWidth(this.element,e)},__decorate$1K([Autowired("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),__decorate$1K([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1Q=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1J=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SetPinnedRightWidthFeature=function(a){__extends$1Q(o,a);function o(e){var c=a.call(this)||this;return c.element=e,c}return o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},o.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),c=e>0;setDisplayed(this.element,c),c&&setFixedWidth(this.element,e)},__decorate$1J([Autowired("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),__decorate$1J([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1P=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1I=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SetHeightFeature=function(a){__extends$1P(o,a);function o(e,c){var h=a.call(this)||this;return h.eContainer=e,h.eWrapper=c,h}return o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},o.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),c=e!=null?e+"px":"";this.eContainer.style.height=c,this.eWrapper&&(this.eWrapper.style.height=c)},__decorate$1I([Autowired("rowContainerHeightService")],o.prototype,"maxDivHeightScaler",void 0),__decorate$1I([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1O=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1H=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DragListenerFeature=function(a){__extends$1O(o,a);function o(e){var c=a.call(this)||this;return c.eContainer=e,c}return o.prototype.postConstruct=function(){var e=this;if(!(!this.gridOptionsWrapper.isEnableRangeSelection()||missing(this.rangeService))){var c={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(c),this.addDestroyFunc(function(){return e.dragService.removeDragSource(c)})}},__decorate$1H([Optional("rangeService")],o.prototype,"rangeService",void 0),__decorate$1H([Autowired("dragService")],o.prototype,"dragService",void 0),__decorate$1H([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1N=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1G=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},CenterWidthFeature=function(a){__extends$1N(o,a);function o(e){var c=a.call(this)||this;return c.callback=e,c}return o.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,e),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},o.prototype.setWidth=function(){var e=this.columnModel,c=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,h=e.getBodyContainerWidth(),g=e.getDisplayedColumnsLeftWidth(),b=e.getDisplayedColumnsRightWidth(),$=c?h+g+b:h;this.callback($)},__decorate$1G([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1G([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1M=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1F=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$f=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$c=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$f(arguments[o]));return a},RowContainerName;(function(a){a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.FULL_WIDTH="fullWidth",a.TOP_LEFT="topLeft",a.TOP_RIGHT="topRight",a.TOP_CENTER="topCenter",a.TOP_FULL_WIDTH="topFullWidth",a.STICKY_TOP_LEFT="stickyTopLeft",a.STICKY_TOP_RIGHT="stickyTopRight",a.STICKY_TOP_CENTER="stickyTopCenter",a.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",a.BOTTOM_LEFT="bottomLeft",a.BOTTOM_RIGHT="bottomRight",a.BOTTOM_CENTER="bottomCenter",a.BOTTOM_FULL_WIDTH="bottomFullWidth"})(RowContainerName||(RowContainerName={}));var RowContainerType;(function(a){a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.FULL_WIDTH="fullWidth"})(RowContainerType||(RowContainerType={}));function getRowContainerTypeForName(a){switch(a){case RowContainerName.CENTER:case RowContainerName.TOP_CENTER:case RowContainerName.STICKY_TOP_CENTER:case RowContainerName.BOTTOM_CENTER:return RowContainerType.CENTER;case RowContainerName.LEFT:case RowContainerName.TOP_LEFT:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.BOTTOM_LEFT:return RowContainerType.LEFT;case RowContainerName.RIGHT:case RowContainerName.TOP_RIGHT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.BOTTOM_RIGHT:return RowContainerType.RIGHT;case RowContainerName.FULL_WIDTH:case RowContainerName.TOP_FULL_WIDTH:case RowContainerName.STICKY_TOP_FULL_WIDTH:case RowContainerName.BOTTOM_FULL_WIDTH:return RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var ContainerCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-container"],[RowContainerName.LEFT,"ag-pinned-left-cols-container"],[RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[RowContainerName.FULL_WIDTH,"ag-full-width-container"],[RowContainerName.TOP_CENTER,"ag-floating-top-container"],[RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-container"],[RowContainerName.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[RowContainerName.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[RowContainerName.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),ViewportCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-viewport"],[RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),WrapperCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-clipper"]]),RowContainerCtrl=function(a){__extends$1M(o,a);function o(e){var c=a.call(this)||this;return c.name=e,c}return o.getRowContainerCssClasses=function(e){var c=ContainerCssClasses.get(e),h=ViewportCssClasses.get(e),g=WrapperCssClasses.get(e);return{container:c,viewport:h,wrapper:g}},o.getPinned=function(e){switch(e){case RowContainerName.BOTTOM_LEFT:case RowContainerName.TOP_LEFT:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.LEFT:return Constants.PINNED_LEFT;case RowContainerName.BOTTOM_RIGHT:case RowContainerName.TOP_RIGHT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.RIGHT:return Constants.PINNED_RIGHT;default:return null}},o.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([RowContainerName.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new ViewportSizeFeature(e))})},o.prototype.registerWithCtrlsService=function(){switch(this.name){case RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case RowContainerName.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case RowContainerName.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case RowContainerName.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},o.prototype.forContainers=function(e,c){e.indexOf(this.name)>=0&&c()},o.prototype.getContainerElement=function(){return this.eContainer},o.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},o.prototype.setComp=function(e,c,h,g){var b=this;this.comp=e,this.eContainer=c,this.eViewport=h,this.eWrapper=g,this.createManagedBean(new RowContainerEventsFeature(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var $=[RowContainerName.TOP_CENTER,RowContainerName.TOP_LEFT,RowContainerName.TOP_RIGHT],j=[RowContainerName.STICKY_TOP_CENTER,RowContainerName.STICKY_TOP_LEFT,RowContainerName.STICKY_TOP_RIGHT],rt=[RowContainerName.BOTTOM_CENTER,RowContainerName.BOTTOM_LEFT,RowContainerName.BOTTOM_RIGHT],nt=[RowContainerName.CENTER,RowContainerName.LEFT,RowContainerName.RIGHT],pt=__spread$c($,rt,nt,j),wt=[RowContainerName.CENTER,RowContainerName.LEFT,RowContainerName.RIGHT,RowContainerName.FULL_WIDTH],Dt=[RowContainerName.CENTER,RowContainerName.TOP_CENTER,RowContainerName.STICKY_TOP_CENTER,RowContainerName.BOTTOM_CENTER],Lt=[RowContainerName.LEFT,RowContainerName.BOTTOM_LEFT,RowContainerName.TOP_LEFT,RowContainerName.STICKY_TOP_LEFT],it=[RowContainerName.RIGHT,RowContainerName.BOTTOM_RIGHT,RowContainerName.TOP_RIGHT,RowContainerName.STICKY_TOP_RIGHT];this.forContainers(Lt,function(){return b.createManagedBean(new SetPinnedLeftWidthFeature(b.eContainer))}),this.forContainers(it,function(){return b.createManagedBean(new SetPinnedRightWidthFeature(b.eContainer))}),this.forContainers(wt,function(){return b.createManagedBean(new SetHeightFeature(b.eContainer,b.eWrapper))}),this.forContainers(pt,function(){return b.createManagedBean(new DragListenerFeature(b.eContainer))}),this.forContainers(Dt,function(){return b.createManagedBean(new CenterWidthFeature(function(st){return b.comp.setContainerWidth(st+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},o.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return e.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_ROWS_CHANGED,function(){return e.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},o.prototype.listenOnDomOrder=function(){var e=this,c=[RowContainerName.STICKY_TOP_CENTER,RowContainerName.STICKY_TOP_LEFT,RowContainerName.STICKY_TOP_RIGHT,RowContainerName.STICKY_TOP_FULL_WIDTH],h=c.indexOf(this.name)>=0;if(h){this.comp.setDomOrder(!0);return}var g=function(){return e.comp.setDomOrder(e.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,g),g()},o.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([RowContainerName.TOP_CENTER,RowContainerName.STICKY_TOP_CENTER,RowContainerName.BOTTOM_CENTER],function(){var c=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",c)})},o.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([RowContainerName.CENTER],function(){return e.onHorizontalViewportChanged()})},o.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([RowContainerName.CENTER],function(){return e.onHorizontalViewportChanged()})},o.prototype.onScrollVisibilityChanged=function(){if(this.name===RowContainerName.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing(),c=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,h=c==0?"100%":"calc(100% + "+c+"px)";this.comp.setViewportHeight(h)}},o.prototype.addPreventScrollWhileDragging=function(){var e=this,c=function(h){e.dragService.isDragging()&&h.cancelable&&h.preventDefault()};this.eContainer.addEventListener("touchmove",c,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",c)})},o.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),c=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,c)},o.prototype.getCenterWidth=function(){return getInnerWidth(this.eViewport)},o.prototype.getCenterViewportScrollLeft=function(){return getScrollLeft(this.eViewport,this.enableRtl)},o.prototype.registerViewportResizeListener=function(e){var c=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return c()})},o.prototype.isViewportVisible=function(){return isVisible(this.eViewport)},o.prototype.isViewportHScrollShowing=function(){return isHorizontalScrollShowing(this.eViewport)},o.prototype.getViewportScrollLeft=function(){return getScrollLeft(this.eViewport,this.enableRtl)},o.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return e||isHorizontalScrollShowing(this.eViewport)},o.prototype.getViewportElement=function(){return this.eViewport},o.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},o.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},o.prototype.setCenterViewportScrollLeft=function(e){setScrollLeft(this.eViewport,e,this.enableRtl)},o.prototype.onDisplayedRowsChanged=function(){var e=this,c=this.name===RowContainerName.TOP_FULL_WIDTH||this.name===RowContainerName.STICKY_TOP_FULL_WIDTH||this.name===RowContainerName.BOTTOM_FULL_WIDTH||this.name===RowContainerName.FULL_WIDTH,h=function($){var j=$.isFullWidth(),rt=e.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,nt=e.embedFullWidthRows||rt,pt=c?!nt&&j:nt||!j;return pt},g=this.getRowCtrls(),b=g.filter(h);this.comp.setRowCtrls(b)},o.prototype.getRowCtrls=function(){switch(this.name){case RowContainerName.TOP_CENTER:case RowContainerName.TOP_LEFT:case RowContainerName.TOP_RIGHT:case RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case RowContainerName.STICKY_TOP_CENTER:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case RowContainerName.BOTTOM_CENTER:case RowContainerName.BOTTOM_LEFT:case RowContainerName.BOTTOM_RIGHT:case RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},__decorate$1F([Autowired("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),__decorate$1F([Autowired("dragService")],o.prototype,"dragService",void 0),__decorate$1F([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1F([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1F([Autowired("resizeObserverService")],o.prototype,"resizeObserverService",void 0),__decorate$1F([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$1F([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1L=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1E=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GRID_BODY_TEMPLATE=`<div class="ag-root ag-unselectable" role="grid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`+RowContainerName.TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`+RowContainerName.TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`+RowContainerName.TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`+RowContainerName.TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
            <ag-row-container ref="leftContainer" name="`+RowContainerName.LEFT+`"></ag-row-container>
            <ag-row-container ref="centerContainer" name="`+RowContainerName.CENTER+`"></ag-row-container>
            <ag-row-container ref="rightContainer" name="`+RowContainerName.RIGHT+`"></ag-row-container>
            <ag-row-container ref="fullWidthContainer" name="`+RowContainerName.FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`+RowContainerName.STICKY_TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`+RowContainerName.STICKY_TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`+RowContainerName.STICKY_TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`+RowContainerName.STICKY_TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`+RowContainerName.BOTTOM_LEFT+`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`+RowContainerName.BOTTOM_CENTER+`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`+RowContainerName.BOTTOM_RIGHT+`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`+RowContainerName.BOTTOM_FULL_WIDTH+`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,GridBodyComp$1=function(a){__extends$1L(o,a);function o(){return a.call(this,GRID_BODY_TEMPLATE)||this}return o.prototype.init=function(){var e=this,c=function(g,b){var $=g+"px";b.style.minHeight=$,b.style.height=$},h={setRowAnimationCssOnBodyViewport:function(g,b){return e.setRowAnimationCssOnBodyViewport(g,b)},setColumnCount:function(g){return setAriaColCount(e.getGui(),g)},setRowCount:function(g){return setAriaRowCount(e.getGui(),g)},setTopHeight:function(g){return c(g,e.eTop)},setBottomHeight:function(g){return c(g,e.eBottom)},setTopDisplay:function(g){return e.eTop.style.display=g},setBottomDisplay:function(g){return e.eBottom.style.display=g},setStickyTopHeight:function(g){return e.eStickyTop.style.height=g},setStickyTopTop:function(g){return e.eStickyTop.style.top=g},setStickyTopWidth:function(g){return e.eStickyTop.style.width=g},setColumnMovingCss:function(g,b){return e.addOrRemoveCssClass(CSS_CLASS_COLUMN_MOVING,b)},updateLayoutClasses:function(g,b){var $=e.eBodyViewport.classList;$.toggle(LayoutCssClasses.AUTO_HEIGHT,b.autoHeight),$.toggle(LayoutCssClasses.NORMAL,b.normal),$.toggle(LayoutCssClasses.PRINT,b.print),e.addOrRemoveCssClass(LayoutCssClasses.AUTO_HEIGHT,b.autoHeight),e.addOrRemoveCssClass(LayoutCssClasses.NORMAL,b.normal),e.addOrRemoveCssClass(LayoutCssClasses.PRINT,b.print)},setAlwaysVerticalScrollClass:function(g,b){return e.eBodyViewport.classList.toggle(CSS_CLASS_FORCE_VERTICAL_SCROLL,b)},registerBodyViewportResizeListener:function(g){var b=e.resizeObserverService.observeResize(e.eBodyViewport,g);e.addDestroyFunc(function(){return b()})},setPinnedTopBottomOverflowY:function(g){return e.eTop.style.overflowY=e.eBottom.style.overflowY=g},setCellSelectableCss:function(g,b){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function($){return $.classList.toggle(CSS_CLASS_CELL_SELECTABLE,b)})}};this.ctrl=this.createManagedBean(new GridBodyCtrl),this.ctrl.setComp(h,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&setAriaMultiSelectable(this.getGui(),!0)},o.prototype.setRowAnimationCssOnBodyViewport=function(e,c){var h=this.eBodyViewport.classList;h.toggle(RowAnimationCssClasses.ANIMATION_ON,c),h.toggle(RowAnimationCssClasses.ANIMATION_OFF,!c)},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},__decorate$1E([Autowired("resizeObserverService")],o.prototype,"resizeObserverService",void 0),__decorate$1E([Optional("rangeService")],o.prototype,"rangeService",void 0),__decorate$1E([RefSelector("eBodyViewport")],o.prototype,"eBodyViewport",void 0),__decorate$1E([RefSelector("eStickyTop")],o.prototype,"eStickyTop",void 0),__decorate$1E([RefSelector("eTop")],o.prototype,"eTop",void 0),__decorate$1E([RefSelector("eBottom")],o.prototype,"eBottom",void 0),__decorate$1E([RefSelector("gridHeader")],o.prototype,"headerRootComp",void 0),__decorate$1E([PostConstruct],o.prototype,"init",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1K=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1D=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ScrollVisibleService=function(a){__extends$1K(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},o.prototype.onDisplayedColumnsChanged=function(){this.update()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},o.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},o.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var c={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(c)}},o.prototype.setScrollsVisible=function(e){var c=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(c){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var h={type:Events.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(h)}},o.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},o.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},__decorate$1D([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1D([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$1D([Bean("scrollVisibleService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1J=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1C=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},MouseEventService=function(a){__extends$1J(o,a);function o(){var c=a!==null&&a.apply(this,arguments)||this;return c.gridInstanceId=e.gridInstanceSequence.next(),c}e=o,o.prototype.stampTopLevelGridCompWithGridInstance=function(c){c[e.GRID_DOM_KEY]=this.gridInstanceId},o.prototype.getRenderedCellForEvent=function(c){return getCtrlForEvent(this.gridOptionsWrapper,c,CellCtrl.DOM_DATA_KEY_CELL_CTRL)},o.prototype.isEventFromThisGrid=function(c){var h=this.isElementInThisGrid(c.target);return h},o.prototype.isElementInThisGrid=function(c){for(var h=c;h;){var g=h[e.GRID_DOM_KEY];if(exists(g)){var b=g===this.gridInstanceId;return b}h=h.parentElement}return!1},o.prototype.getCellPositionForEvent=function(c){var h=this.getRenderedCellForEvent(c);return h?h.getCellPosition():null},o.prototype.getNormalisedPosition=function(c){var h=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,g=c,b,$;if(g.clientX!=null||g.clientY!=null?(b=g.clientX,$=g.clientY):(b=g.x,$=g.y),h){var j=this.ctrlsService.getGridBodyCtrl(),rt=j.getScrollFeature().getVScrollPosition(),nt=j.getScrollFeature().getHScrollPosition();b+=nt.left,$+=rt.top}return{x:b,y:$}};var e;return o.gridInstanceSequence=new NumberSequence,o.GRID_DOM_KEY="__ag_grid_instance",__decorate$1C([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),o=e=__decorate$1C([Bean("mouseEventService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1I=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$4$1=function(){return __assign$4$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$4$1.apply(this,arguments)},__decorate$1B=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},NavigationService=function(a){__extends$1I(o,a);function o(){var e=a.call(this)||this;return e.onPageDown=throttle(e.onPageDown,100),e.onPageUp=throttle(e.onPageUp,100),e}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(c){e.gridBodyCon=c.gridBodyCtrl})},o.prototype.handlePageScrollingKey=function(e){var c=e.key,h=e.altKey,g=e.ctrlKey||e.metaKey,b=!!this.rangeService&&e.shiftKey,$=this.mouseEventService.getCellPositionForEvent(e);if(!$)return!1;var j=!1;switch(c){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:!g&&!h&&(this.onHomeOrEndKey(c),j=!0);break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.UP:case KeyCode.DOWN:g&&!h&&!b&&(this.onCtrlUpDownLeftRight(c,$),j=!0);break;case KeyCode.PAGE_DOWN:!g&&!h&&(this.onPageDown($),j=!0);break;case KeyCode.PAGE_UP:!g&&!h&&(this.onPageUp($),j=!0);break}return j&&e.preventDefault(),j},o.prototype.navigateTo=function(e){var c=e.scrollIndex,h=e.scrollType,g=e.scrollColumn,b=e.focusIndex,$=e.focusColumn;if(exists(g)&&!g.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(g),exists(c)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(c,h),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(b),this.focusService.setFocusedCell({rowIndex:b,column:$,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var j={rowIndex:b,rowPinned:null,column:$};this.rangeService.setRangeToCell(j)}},o.prototype.onPageDown=function(e){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature().getVScrollPosition(),g=this.getViewportHeight(),b=this.paginationProxy.getPixelOffset(),$=h.top+g,j=this.paginationProxy.getRowIndexAtPixel($+b);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,j):this.navigateToNextPage(e,j)},o.prototype.onPageUp=function(e){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature().getVScrollPosition(),g=this.paginationProxy.getPixelOffset(),b=h.top,$=this.paginationProxy.getRowIndexAtPixel(b+g);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,$,!0):this.navigateToNextPage(e,$,!0)},o.prototype.navigateToNextPage=function(e,c,h){h===void 0&&(h=!1);var g,b,$=this.getViewportHeight(),j=this.paginationProxy.getPageFirstRow(),rt=this.paginationProxy.getPageLastRow(),nt=this.paginationProxy.getPixelOffset(),pt=this.paginationProxy.getRow(e.rowIndex),wt=h?((g=pt)===null||g===void 0?void 0:g.rowHeight)-$-nt:$-nt,Dt=((b=pt)===null||b===void 0?void 0:b.rowTop)+wt,Lt=this.paginationProxy.getRowIndexAtPixel(Dt+nt);if(Lt===e.rowIndex){var it=h?-1:1;c=Lt=e.rowIndex+it}var st;h?(st="bottom",Lt<j&&(Lt=j),c<j&&(c=j)):(st="top",Lt>rt&&(Lt=rt),c>rt&&(c=rt)),this.isRowTallerThanView(Lt)&&(c=Lt,st="top"),this.navigateTo({scrollIndex:c,scrollType:st,scrollColumn:null,focusIndex:Lt,focusColumn:e.column})},o.prototype.navigateToNextPageWithAutoHeight=function(e,c,h){var g=this;h===void 0&&(h=!1),this.navigateTo({scrollIndex:c,scrollType:h?"bottom":"top",scrollColumn:null,focusIndex:c,focusColumn:e.column}),setTimeout(function(){var b=g.getNextFocusIndexForAutoHeight(e,h);g.navigateTo({scrollIndex:c,scrollType:h?"bottom":"top",scrollColumn:null,focusIndex:b,focusColumn:e.column,isAsync:!0})},50)},o.prototype.getNextFocusIndexForAutoHeight=function(e,c){c===void 0&&(c=!1);for(var h,g=c?-1:1,b=this.getViewportHeight(),$=this.paginationProxy.getPageLastRow(),j=0,rt=e.rowIndex;rt>=0&&rt<=$;){var nt=this.paginationProxy.getRow(rt);if(nt){var pt=(h=nt.rowHeight,h??0);if(j+pt>b)break;j+=pt}rt+=g}return Math.max(0,Math.min(rt,$))},o.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),c=e.getScrollFeature().getVScrollPosition(),h=this.gridOptionsWrapper.getScrollbarWidth(),g=c.bottom-c.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(g-=h),g},o.prototype.isRowTallerThanView=function(e){var c=this.paginationProxy.getRow(e);if(!c)return!1;var h=c.rowHeight;return typeof h!="number"?!1:h>this.getViewportHeight()},o.prototype.onCtrlUpDownLeftRight=function(e,c){var h=this.cellNavigationService.getNextCellToFocus(e,c,!0),g=h.rowIndex,b=h.column;this.navigateTo({scrollIndex:g,scrollType:null,scrollColumn:b,focusIndex:g,focusColumn:b})},o.prototype.onHomeOrEndKey=function(e){var c=e===KeyCode.PAGE_HOME,h=this.columnModel.getAllDisplayedColumns(),g=c?h[0]:last(h),b=c?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:b,scrollType:null,scrollColumn:g,focusIndex:b,focusColumn:g})},o.prototype.onTabKeyDown=function(e,c){var h=c.shiftKey,g=this.tabToNextCellCommon(e,h,c);if(g){c.preventDefault();return}if(h){var b=e.getRowPosition(),$=b.rowIndex,j=b.rowPinned,rt=j?$===0:$===this.paginationProxy.getPageFirstRow();rt&&(c.preventDefault(),this.focusService.focusLastHeader(c))}else e instanceof CellCtrl&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(h)&&c.preventDefault()},o.prototype.tabToNextCell=function(e,c){var h=this.focusService.getFocusedCell();if(!h)return!1;var g=this.getCellByPosition(h);return!g&&(g=this.rowRenderer.getRowByPosition(h),!g||!g.isFullWidth())?!1:this.tabToNextCellCommon(g,e,c)},o.prototype.tabToNextCellCommon=function(e,c,h){var g=e.isEditing();if(!g&&e instanceof CellCtrl){var b=e,$=b.getRowCtrl();$&&(g=$.isEditing())}var j;return g?this.gridOptionsWrapper.isFullRowEdit()?j=this.moveToNextEditingRow(e,c,h):j=this.moveToNextEditingCell(e,c,h):j=this.moveToNextCellNotEditing(e,c),j||!!this.focusService.getFocusedHeader()},o.prototype.moveToNextEditingCell=function(e,c,h){h===void 0&&(h=null);var g=e.getCellPosition();e.getGui().focus(),e.stopEditing();var b=this.findNextCellToFocusOn(g,c,!0);return b==null?!1:(b.startEditing(null,null,!0,h),b.focusCell(!1),!0)},o.prototype.moveToNextEditingRow=function(e,c,h){h===void 0&&(h=null);var g=e.getCellPosition(),b=this.findNextCellToFocusOn(g,c,!0);if(b==null)return!1;var $=b.getCellPosition(),j=this.isCellEditable(g),rt=this.isCellEditable($),nt=$&&g.rowIndex===$.rowIndex&&g.rowPinned===$.rowPinned;if(j&&e.setFocusOutOnEditor(),!nt){var pt=e.getRowCtrl();pt.stopEditing();var wt=b.getRowCtrl();wt.startRowEditing(void 0,void 0,void 0,h)}return rt?(b.setFocusInOnEditor(),b.focusCell()):b.focusCell(!0),!0},o.prototype.moveToNextCellNotEditing=function(e,c){var h=this.columnModel.getAllDisplayedColumns(),g;e instanceof RowCtrl?g=__assign$4$1(__assign$4$1({},e.getRowPosition()),{column:c?h[0]:last(h)}):g=e.getCellPosition();var b=this.findNextCellToFocusOn(g,c,!1);if(b instanceof CellCtrl)b.focusCell(!0);else if(b)return this.tryToFocusFullWidthRow(b.getRowPosition(),c);return exists(b)},o.prototype.findNextCellToFocusOn=function(e,c,h){for(var g=e;;){e!==g&&(e=g),c||(g=this.getLastCellOfColSpan(g)),g=this.cellNavigationService.getNextTabbedCell(g,c);var b=this.gridOptionsWrapper.getTabToNextCellFunc();if(exists(b)){var $={backwards:c,editing:h,previousCellPosition:e,nextCellPosition:g||null},j=b($);exists(j)?(j.floating&&(doOnce(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),j.rowPinned=j.floating),g={rowIndex:j.rowIndex,column:j.column,rowPinned:j.rowPinned}):g=null}if(!g)return null;if(g.rowIndex<0){var rt=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:rt+g.rowIndex,column:g.column}}),null}var nt=this.gridOptionsWrapper.isFullRowEdit();if(h&&!nt){var pt=this.isCellEditable(g);if(!pt)continue}this.ensureCellVisible(g);var wt=this.getCellByPosition(g);if(!wt){var Dt=this.rowRenderer.getRowByPosition(g);if(!Dt||!Dt.isFullWidth())continue;return Dt}if(!wt.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(g),wt}},o.prototype.isCellEditable=function(e){var c=this.lookupRowNodeForCell(e);return c?e.column.isCellEditable(c):!1},o.prototype.getCellByPosition=function(e){var c=this.rowRenderer.getRowByPosition(e);return c?c.getCellCtrl(e.column):null},o.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===Constants.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===Constants.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},o.prototype.navigateToNextCell=function(e,c,h,g){for(var b=h,$=!1;b&&(b===h||!this.isValidNavigateCell(b));)this.gridOptionsWrapper.isEnableRtl()?c===KeyCode.LEFT&&(b=this.getLastCellOfColSpan(b)):c===KeyCode.RIGHT&&(b=this.getLastCellOfColSpan(b)),b=this.cellNavigationService.getNextCellToFocus(c,b),$=missing(b);if($&&e&&e.key===KeyCode.UP&&(b={rowIndex:-1,rowPinned:null,column:h.column}),g){var j=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(exists(j)){var rt={key:c,previousCellPosition:h,nextCellPosition:b||null,event:e},nt=j(rt);exists(nt)?(nt.floating&&(doOnce(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),nt.rowPinned=nt.floating),b={rowPinned:nt.rowPinned,rowIndex:nt.rowIndex,column:nt.column}):b=null}}if(b){if(b.rowIndex<0){var pt=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:pt+b.rowIndex,column:h.column},event:e||void 0});return}var wt=this.getNormalisedPosition(b);wt?this.focusPosition(wt):this.tryToFocusFullWidthRow(b)}},o.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var c=this.getCellByPosition(e);return c?(e=c.getCellPosition(),this.ensureCellVisible(e),e):null},o.prototype.tryToFocusFullWidthRow=function(e,c){c===void 0&&(c=!1);var h=this.columnModel.getAllDisplayedColumns(),g=this.rowRenderer.getRowByPosition(e);if(!g||!g.isFullWidth())return!1;var b=this.focusService.getFocusedCell(),$={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(c?last(h):h[0])};this.focusPosition($);var j=b!=null?this.rowPositionUtils.before($,b):!1,rt={type:Events.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:$.rowIndex,rowPinned:$.rowPinned,column:$.column,isFullWidthCell:!0,floating:$.rowPinned,fromBelow:j};return this.eventService.dispatchEvent(rt),!0},o.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},o.prototype.isValidNavigateCell=function(e){var c=this.rowPositionUtils.getRowNode(e);return!!c},o.prototype.getLastCellOfColSpan=function(e){var c=this.getCellByPosition(e);if(!c)return e;var h=c.getColSpanningList();return h.length===1?e:{rowIndex:e.rowIndex,column:last(h),rowPinned:e.rowPinned}},o.prototype.ensureCellVisible=function(e){var c,h=this.gridOptionsWrapper.isGroupRowsSticky(),g=this.rowModel.getRow(e.rowIndex),b=h&&((c=g)===null||c===void 0?void 0:c.sticky);!b&&missing(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},__decorate$1B([Autowired("mouseEventService")],o.prototype,"mouseEventService",void 0),__decorate$1B([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),__decorate$1B([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1B([Optional("rangeService")],o.prototype,"rangeService",void 0),__decorate$1B([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1B([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$1B([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1B([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$1B([Autowired("headerNavigationService")],o.prototype,"headerNavigationService",void 0),__decorate$1B([Autowired("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),__decorate$1B([Autowired("cellNavigationService")],o.prototype,"cellNavigationService",void 0),__decorate$1B([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate$1B([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$1B([Bean("navigationService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1H=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1A=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},PopupEditorWrapper=function(a){__extends$1H(o,a);function o(e){var c=a.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return c.params=e,c}return o.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),o.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},o.prototype.addKeyDownListener=function(){var e=this,c=this.getGui(),h=this.params,g=function(b){isUserSuppressingKeyboardEvent(e.gridOptionsWrapper,b,h.node,h.column,!0)||h.onKeyDown(b)};this.addManagedListener(c,"keydown",g)},o.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",__decorate$1A([PostConstruct],o.prototype,"postConstruct",null),o}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1G=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),CellComp=function(a){__extends$1G(o,a);function o(e,c,h,g,b){var $=a.call(this)||this;$.rendererVersion=0,$.editorVersion=0,$.beans=e,$.column=c.getColumn(),$.rowNode=c.getRowNode(),$.rowCtrl=c.getRowCtrl(),$.eRow=g,$.setTemplate('<div comp-id="'+$.getCompId()+'"/>');var j=$.getGui();$.forceWrapper=c.isForceWrapper(),$.refreshWrapper(!1);var rt=function(pt,wt,Dt){var Lt=Dt||j;wt!=null&&wt!=""?Lt.setAttribute(pt,wt):Lt.removeAttribute(pt)},nt={addOrRemoveCssClass:function(pt,wt){return $.addOrRemoveCssClass(pt,wt)},setUserStyles:function(pt){return addStylesToElement(j,pt)},getFocusableElement:function(){return $.getFocusableElement()},setTabIndex:function(pt){return rt("tabindex",pt.toString())},setRole:function(pt){return setAriaRole(j,pt)},setColId:function(pt){return rt("col-id",pt)},setTitle:function(pt){return rt("title",pt)},setIncludeSelection:function(pt){return $.includeSelection=pt},setIncludeRowDrag:function(pt){return $.includeRowDrag=pt},setIncludeDndSource:function(pt){return $.includeDndSource=pt},setRenderDetails:function(pt,wt,Dt){return $.setRenderDetails(pt,wt,Dt)},setEditDetails:function(pt,wt,Dt){return $.setEditDetails(pt,wt,Dt)},getCellEditor:function(){return $.cellEditor||null},getCellRenderer:function(){return $.cellRenderer||null},getParentOfValue:function(){return $.getParentOfValue()}};return $.cellCtrl=c,c.setComp(nt,$.getGui(),$.eCellWrapper,h,b),$}return o.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},o.prototype.setRenderDetails=function(e,c,h){var g=this.cellEditor&&!this.cellEditorPopupWrapper;if(!g){this.firstRender=this.firstRender==null;var b=this.refreshWrapper(!1);if(e){var $=h||b,j=$?!1:this.refreshCellRenderer(e);j||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(c)}},o.prototype.setEditDetails=function(e,c,h){e?this.createCellEditorInstance(e,c,h):this.destroyEditor()},o.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},o.prototype.refreshWrapper=function(e){var c=this.includeRowDrag||this.includeDndSource||this.includeSelection,h=c||this.forceWrapper,g=h&&this.eCellWrapper==null;g&&(this.eCellWrapper=loadTemplate('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var b=!h&&this.eCellWrapper!=null;b&&(removeFromParent(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!h);var $=!e&&h,j=$&&this.eCellValue==null;j&&(this.eCellValue=loadTemplate('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var rt=!$&&this.eCellValue!=null;rt&&(removeFromParent(this.eCellValue),this.eCellValue=void 0);var nt=g||b||j||rt;return nt&&this.removeControls(),!e&&c&&this.addControls(),nt},o.prototype.addControls=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),c=[];setAriaHidden(this.eCellWrapper,!0),this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),c.push(this.checkboxSelectionComp.getCheckboxId())),c.push(e),setAriaDescribedBy(this.getGui(),c.join(" "))},o.prototype.createCellEditorInstance=function(e,c,h){var g=this,b=this.editorVersion,$=e.newAgStackInstance();if($){var j=e.params;$.then(function(nt){return g.afterCellEditorCreated(b,nt,j,c,h)});var rt=missing(this.cellEditor);rt&&j.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},o.prototype.insertValueWithoutCellRenderer=function(e){var c=this.getParentOfValue();clearElement(c);var h=e!=null?escapeString(e):null;h!=null&&(c.innerHTML=h)},o.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},o.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),removeFromParent(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},o.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),removeFromParent(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},o.prototype.refreshCellRenderer=function(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;var c=this.cellRenderer.refresh(e.params);return c===!0||c===void 0},o.prototype.createCellRendererInstance=function(e){var c=this,h=this.beans.gridOptionsWrapper.isAngularCompileRows(),g=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),b=!h&&!g,$=this.rendererVersion,j=e.componentClass,rt=function(){var nt=c.rendererVersion!==$||!c.isAlive();if(!nt){var pt=e.newAgStackInstance(),wt=c.afterCellRendererCreated.bind(c,$,j);pt&&pt.then(wt)}};b&&this.firstRender?this.beans.animationFrameService.createTask(rt,this.rowNode.rowIndex,"createTasksP2"):rt()},o.prototype.getCtrl=function(){return this.cellCtrl},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.afterCellRendererCreated=function(e,c,h){var g=!this.isAlive()||e!==this.rendererVersion;if(g){this.beans.context.destroyBean(h);return}if(this.cellRenderer=h,this.cellRendererClass=c,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var b=this.getParentOfValue();clearElement(b),b.appendChild(this.cellRendererGui)}},o.prototype.afterCellEditorCreated=function(e,c,h,g,b){var $=e!==this.editorVersion;if($){this.beans.context.destroyBean(c);return}var j=c.isCancelBeforeStart&&c.isCancelBeforeStart();if(j){this.beans.context.destroyBean(c),this.cellCtrl.stopEditing();return}if(!c.getGui){console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),this.beans.context.destroyBean(c);return}this.cellEditor=c,this.cellEditorGui=c.getGui();var rt=g||c.isPopup!==void 0&&c.isPopup();rt?(g||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(h,b)):this.addInCellEditor(),c.afterGuiAttached&&c.afterGuiAttached()},o.prototype.addInCellEditor=function(){var e=this.getGui(),c=this.beans.gridOptionsWrapper.getDocument();if(e.contains(c.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var h=this.getParentOfValue();h.appendChild(this.cellEditorGui)}},o.prototype.addPopupCellEditor=function(e,c){var h=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var g=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new PopupEditorWrapper(e));var b=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&b.appendChild(this.cellEditorGui);var $=this.beans.popupService,j=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),rt=c??(g.getPopupPosition?g.getPopupPosition():"over"),nt={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:b,keepWithinBounds:!0},pt=rt==="under"?$.positionPopupUnderComponent.bind($,nt):$.positionPopupOverComponent.bind($,nt),wt=this.beans.gridOptionsWrapper.getLocaleTextFunc(),Dt=$.addPopup({modal:j,eChild:b,closeOnEsc:!0,closedCallback:function(){h.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:pt,ariaLabel:wt("ariaLabelCellEditor","Cell Editor")});Dt&&(this.hideEditorPopup=Dt.hideFunc)},o.prototype.detach=function(){this.eRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),a.prototype.destroy.call(this)},o.prototype.clearParentOfValue=function(){var e=this.getGui(),c=this.beans.gridOptionsWrapper.getDocument();e.contains(c.activeElement)&&browserSupportsPreventScroll()&&e.focus({preventScroll:!0}),clearElement(this.getParentOfValue())},o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1F=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),RowComp$1=function(a){__extends$1F(o,a);function o(e,c,h){var g=a.call(this)||this;g.cellComps={},g.beans=c,g.rowCtrl=e,g.setTemplate('<div comp-id="'+g.getCompId()+'" style="'+g.getInitialStyle()+'"/>');var b=g.getGui(),$=b.style,j={setDomOrder:function(rt){return g.domOrder=rt},setCellCtrls:function(rt){return g.setCellCtrls(rt)},showFullWidth:function(rt){return g.showFullWidth(rt)},getFullWidthCellRenderer:function(){return g.getFullWidthCellRenderer()},addOrRemoveCssClass:function(rt,nt){return g.addOrRemoveCssClass(rt,nt)},setUserStyles:function(rt){return addStylesToElement(b,rt)},setTop:function(rt){return $.top=rt},setTransform:function(rt){return $.transform=rt},setRowIndex:function(rt){return b.setAttribute("row-index",rt)},setRole:function(rt){return setAriaRole(b,rt)},setRowId:function(rt){return b.setAttribute("row-id",rt)},setRowBusinessKey:function(rt){return b.setAttribute("row-business-key",rt)},setTabIndex:function(rt){return b.setAttribute("tabindex",rt.toString())}};return e.setComp(j,g.getGui(),h),g}return o.prototype.getInitialStyle=function(){var e=this.rowCtrl.getInitialTransform(),c=this.rowCtrl.getInitialRowTop();return e?"transform: "+e:"top: "+c},o.prototype.showFullWidth=function(e){var c=this,h=function(b){if(c.isAlive()){var $=b.getGui();c.getGui().appendChild($),c.rowCtrl.setupDetailRowAutoHeight($),c.setFullWidthRowComp(b)}else c.beans.context.destroyBean(b)},g=e.newAgStackInstance();g&&g.then(h)},o.prototype.setCellCtrls=function(e){var c=this,h=Object.assign({},this.cellComps);e.forEach(function(b){var $=b.getInstanceId(),j=c.cellComps[$];j==null?c.newCellComp(b):h[$]=null});var g=getAllValuesInObject(h).filter(function(b){return b!=null});this.destroyCells(g),this.ensureDomOrder(e)},o.prototype.ensureDomOrder=function(e){var c=this;if(this.domOrder){var h=[];e.forEach(function(g){var b=c.cellComps[g.getInstanceId()];b&&h.push(b.getGui())}),setDomChildOrder(this.getGui(),h)}},o.prototype.newCellComp=function(e){var c=new CellComp(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=c,this.getGui().appendChild(c.getGui())},o.prototype.destroy=function(){a.prototype.destroy.call(this),this.destroyAllCells()},o.prototype.destroyAllCells=function(){var e=getAllValuesInObject(this.cellComps).filter(function(c){return c!=null});this.destroyCells(e)},o.prototype.setFullWidthRowComp=function(e){var c=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){c.fullWidthCellRenderer=c.beans.context.destroyBean(c.fullWidthCellRenderer)})},o.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},o.prototype.destroyCells=function(e){var c=this;e.forEach(function(h){if(h){var g=h.getCtrl().getInstanceId();c.cellComps[g]===h&&(h.detach(),h.destroy(),c.cellComps[g]=null)}})},o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1E=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$3$1=function(){return __assign$3$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$3$1.apply(this,arguments)},__decorate$1z=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g};function templateFactory(){var a=Component.elementGettingCreated.getAttribute("name"),o=RowContainerCtrl.getRowContainerCssClasses(a),e,c=a===RowContainerName.CENTER,h=a===RowContainerName.TOP_CENTER||a===RowContainerName.STICKY_TOP_CENTER||a===RowContainerName.BOTTOM_CENTER;return c?e='<div class="'+o.wrapper+`" ref="eWrapper" role="presentation">
                <div class="`+o.viewport+`" ref="eViewport" role="presentation">
                    <div class="`+o.container+`" ref="eContainer"></div>
                </div>
            </div>`:h?e='<div class="'+o.viewport+`" ref="eViewport" role="presentation">
                <div class="`+o.container+`" ref="eContainer"></div>
            </div>`:e='<div class="'+o.container+'" ref="eContainer"></div>',e}var RowContainerComp$1=function(a){__extends$1E(o,a);function o(){var e=a.call(this,templateFactory())||this;return e.rowComps={},e.name=Component.elementGettingCreated.getAttribute("name"),e.type=getRowContainerTypeForName(e.name),e}return o.prototype.postConstruct=function(){var e=this,c={setViewportHeight:function(g){return e.eViewport.style.height=g},setRowCtrls:function(g){return e.setRowCtrls(g)},setDomOrder:function(g){e.domOrder=g},setContainerWidth:function(g){return e.eContainer.style.width=g}},h=this.createManagedBean(new RowContainerCtrl(this.name));h.setComp(c,this.eContainer,this.eViewport,this.eWrapper)},o.prototype.preDestroy=function(){this.setRowCtrls([])},o.prototype.setRowCtrls=function(e){var c=this,h=__assign$3$1({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var g=function(b){var $=b.getInstanceId(),j=h[$];if(j)c.rowComps[$]=j,delete h[$],c.ensureDomOrder(j.getGui());else{var rt=c.newRowComp(b);c.rowComps[$]=rt,c.appendRow(rt.getGui())}};e.forEach(g),getAllValuesInObject(h).forEach(function(b){c.eContainer.removeChild(b.getGui()),b.destroy()}),setAriaRole(this.eContainer,e.length?"rowgroup":"presentation")},o.prototype.appendRow=function(e){this.domOrder?insertWithDomOrder(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},o.prototype.ensureDomOrder=function(e){this.domOrder&&(ensureDomOrder(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},o.prototype.newRowComp=function(e){RowContainerCtrl.getPinned(this.name);var c=new RowComp$1(e,this.beans,this.type);return c},__decorate$1z([Autowired("beans")],o.prototype,"beans",void 0),__decorate$1z([RefSelector("eViewport")],o.prototype,"eViewport",void 0),__decorate$1z([RefSelector("eContainer")],o.prototype,"eContainer",void 0),__decorate$1z([RefSelector("eWrapper")],o.prototype,"eWrapper",void 0),__decorate$1z([PostConstruct],o.prototype,"postConstruct",null),__decorate$1z([PreDestroy],o.prototype,"preDestroy",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1y=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},BodyDropPivotTarget=function(){function a(o){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=o}return a.prototype.onDragEnter=function(o){var e=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var c=o.dragItem.columns;c&&c.forEach(function(h){h.isPrimary()&&(h.isAnyFunctionActive()||(h.isAllowValue()?e.columnsToAggregate.push(h):h.isAllowRowGroup()?e.columnsToGroup.push(h):h.isAllowPivot()&&e.columnsToPivot.push(h)))})}},a.prototype.getIconName=function(){var o=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return o>0?this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE:null},a.prototype.onDragLeave=function(o){this.clearColumnsList()},a.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},a.prototype.onDragging=function(o){},a.prototype.onDragStop=function(o){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},__decorate$1y([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1y([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1x=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$e=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},MoveColumnFeature=function(){function a(o,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=o,this.eContainer=e,this.centerContainer=!exists(o)}return a.prototype.init=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},a.prototype.getIconName=function(){return this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE},a.prototype.onDragEnter=function(o){var e=o.dragItem.columns,c=o.dragSource.type===DragSourceType.ToolPanel;if(c)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var h=o.dragItem.visibleState,g=(e||[]).filter(function(b){return h[b.getId()]});this.setColumnsVisible(g,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(o,!0,!0)},a.prototype.onDragLeave=function(o){this.ensureIntervalCleared()},a.prototype.setColumnsVisible=function(o,e,c){if(c===void 0&&(c="api"),o){var h=o.filter(function(g){return!g.getColDef().lockVisible});this.columnModel.setColumnsVisible(h,e,c)}},a.prototype.setColumnsPinned=function(o,e,c){if(c===void 0&&(c="api"),o){var h=o.filter(function(g){return!g.getColDef().lockPinned});this.columnModel.setColumnsPinned(h,e,c)}},a.prototype.onDragStop=function(){this.ensureIntervalCleared()},a.prototype.normaliseX=function(o){if(this.gridOptionsWrapper.isEnableRtl()){var e=this.eContainer.clientWidth;o=e-o}return this.centerContainer&&(o+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),o},a.prototype.checkCenterForScrolling=function(o){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),c=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=o<e+50,this.needToMoveLeft=o>c-50):(this.needToMoveLeft=o<e+50,this.needToMoveRight=o>c-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},a.prototype.onDragging=function(o,e,c){var h=this;if(e===void 0&&(e=!1),c===void 0&&(c=!1),this.lastDraggingEvent=o,!missing(o.hDirection)){var g=this.normaliseX(o.x);e||this.checkCenterForScrolling(g);var b=this.normaliseDirection(o.hDirection),$=o.dragSource.type,j=o.dragSource.getDragItem().columns;j=j.filter(function(rt){return rt.getColDef().lockPinned?rt.getPinned()==h.pinned:!0}),this.attemptMoveColumns($,j,b,g,e,c)}},a.prototype.normaliseDirection=function(o){if(this.gridOptionsWrapper.isEnableRtl())switch(o){case HorizontalDirection.Left:return HorizontalDirection.Right;case HorizontalDirection.Right:return HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+o)}else return o},a.prototype.calculateOldIndex=function(o){var e=this.columnModel.getAllGridColumns(),c=sortNumerically(o.map(function(j){return e.indexOf(j)})),h=c[0],g=last(c),b=g-h,$=b!==c.length-1;return $?null:h},a.prototype.attemptMoveColumns=function(o,e,c,h,g,b){var $=c===HorizontalDirection.Left,j=c===HorizontalDirection.Right;if(o===DragSourceType.HeaderCell){var rt=[];e.forEach(function(It){for(var jt=null,tr=It.getParent();tr!=null&&tr.getDisplayedLeafColumns().length===1;)jt=tr,tr=tr.getParent();jt!=null?jt.getLeafColumns().forEach(function(gr){rt.includes(gr)||rt.push(gr)}):rt.includes(It)||rt.push(It)}),e=rt}var nt=e.slice();this.columnModel.sortColumnsLikeGridColumns(nt);var pt=this.calculateValidMoves(nt,j,h),wt=this.calculateOldIndex(nt);if(pt.length!==0){var Dt=pt[0],Lt=wt!==null&&!g;if(o==DragSourceType.HeaderCell&&(Lt=wt!==null),!(Lt&&!b&&($&&Dt>=wt||j&&Dt<=wt))){for(var it=this.columnModel.getAllDisplayedColumns(),st=[],bt=null,gt=0;gt<pt.length;gt++){var Et=pt[gt],ot=this.columnModel.getProposedColumnOrder(nt,Et);if(this.columnModel.doesOrderPassRules(ot)){var _t=ot.filter(function(It){return it.includes(It)});if(bt===null)bt=_t;else if(!_.areEqual(_t,bt))break;var Mt=this.groupFragCount(ot);st.push({move:Et,fragCount:Mt})}}if(st.length!==0){st.sort(function(It,jt){return It.fragCount-jt.fragCount});var Bt=st[0].move;this.columnModel.moveColumns(nt,Bt,"uiColumnDragged")}}}},a.prototype.groupFragCount=function(o){function e(b){for(var $=[],j=b.getOriginalParent();j!=null;)$.push(j),j=j.getOriginalParent();return $}for(var c=0,h=function(b){var $,j=e(o[b]),rt=e(o[b+1]);$=__read$e(j.length>rt.length?[j,rt]:[rt,j],2),j=$[0],rt=$[1],j.forEach(function(nt){rt.indexOf(nt)===-1&&c++})},g=0;g<o.length-1;g++)h(g);return c},a.prototype.calculateValidMoves=function(o,e,c){var h=this.gridOptionsWrapper.isSuppressMovableColumns()||o.some(function(Bt){return Bt.getColDef().suppressMovable});if(h)return[];var g=this.columnModel.getDisplayedColumns(this.pinned),b=this.columnModel.getAllGridColumns(),$=g.filter(function(Bt){return includes(o,Bt)}),j=g.filter(function(Bt){return!includes(o,Bt)}),rt=b.filter(function(Bt){return!includes(o,Bt)}),nt=0,pt=c;if(e){var wt=0;$.forEach(function(Bt){return wt+=Bt.getActualWidth()}),pt-=wt}if(pt>0){for(var Dt=0;Dt<j.length;Dt++){var Lt=j[Dt];if(pt-=Lt.getActualWidth(),pt<0)break;nt++}e&&nt++}var it;if(nt>0){var st=j[nt-1];it=rt.indexOf(st)+1}else it=rt.indexOf(j[0]),it===-1&&(it=0);var bt=[it],gt=function(Bt,It){return Bt-It};if(e){for(var Et=it+1,ot=b.length-1;Et<=ot;)bt.push(Et),Et++;bt.sort(gt)}else{for(var Et=it,ot=b.length-1,_t=b[Et];Et<=ot&&this.isColumnHidden(g,_t);)Et++,bt.push(Et),_t=b[Et];Et=it-1;for(var Mt=0;Et>=Mt;)bt.push(Et),Et--;bt.sort(gt).reverse()}return bt},a.prototype.isColumnHidden=function(o,e){return o.indexOf(e)<0},a.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_RIGHT,!0))},a.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_MOVE))},a.prototype.moveInterval=function(){var o;this.intervalCount++,o=10+this.intervalCount*5,o>100&&(o=100);var e=null,c=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=c.scrollHorizontally(-o):this.needToMoveRight&&(e=c.scrollHorizontally(o)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var h=this.lastDraggingEvent.dragItem.columns,g=h.filter(function($){return!$.getColDef().lockPinned});if(g.length>0&&(this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_PINNED),this.failedMoveAttempts>7)){var b=this.needToMoveLeft?Constants.PINNED_LEFT:Constants.PINNED_RIGHT;this.setColumnsPinned(g,b,"uiColumnDragged"),this.dragAndDropService.nudge()}}},__decorate$1x([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1x([Autowired("dragAndDropService")],a.prototype,"dragAndDropService",void 0),__decorate$1x([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$1x([Autowired("ctrlsService")],a.prototype,"ctrlsService",void 0),__decorate$1x([PostConstruct],a.prototype,"init",null),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1D=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1w=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},BodyDropTarget=function(a){__extends$1D(o,a);function o(e,c){var h=a.call(this)||this;return h.pinned=e,h.eContainer=c,h}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(c){switch(e.pinned){case Constants.PINNED_LEFT:e.eSecondaryContainers=[[c.gridBodyCtrl.getBodyViewportElement(),c.leftRowContainerCtrl.getContainerElement()],[c.bottomLeftRowContainerCtrl.getContainerElement()],[c.topLeftRowContainerCtrl.getContainerElement()]];break;case Constants.PINNED_RIGHT:e.eSecondaryContainers=[[c.gridBodyCtrl.getBodyViewportElement(),c.rightRowContainerCtrl.getContainerElement()],[c.bottomRightRowContainerCtrl.getContainerElement()],[c.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[c.gridBodyCtrl.getBodyViewportElement(),c.centerRowContainerCtrl.getViewportElement()],[c.bottomCenterRowContainerCtrl.getViewportElement()],[c.topCenterRowContainerCtrl.getViewportElement()]];break}})},o.prototype.isInterestedIn=function(e){return e===DragSourceType.HeaderCell||e===DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(this.pinned)),this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===DragSourceType.ToolPanel},o.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},o.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},o.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},o.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},__decorate$1w([Autowired("dragAndDropService")],o.prototype,"dragAndDropService",void 0),__decorate$1w([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1w([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1w([PostConstruct],o.prototype,"postConstruct",null),__decorate$1w([PostConstruct],o.prototype,"init",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$d=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$b=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$d(arguments[o]));return a},CssClassApplier=function(){function a(){}return a.getHeaderClassesFromColDef=function(o,e,c,h){return missing(o)?[]:this.getColumnClassesFromCollDef(o.headerClass,o,e,c,h)},a.getToolPanelClassesFromColDef=function(o,e,c,h){return missing(o)?[]:this.getColumnClassesFromCollDef(o.toolPanelClass,o,e,c,h)},a.getClassParams=function(o,e,c,h){return{colDef:o,column:c,columnGroup:h,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()}},a.getColumnClassesFromCollDef=function(o,e,c,h,g){if(missing(o))return[];var b;if(typeof o=="function"){var $=this.getClassParams(e,c,h,g);b=o($)}else b=o;return typeof b=="string"?[b]:Array.isArray(b)?__spread$b(b):[]},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1C=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1v=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderCellComp$1=function(a){__extends$1C(o,a);function o(e){var c=a.call(this,o.TEMPLATE,e)||this;return c.headerCompVersion=0,c.column=e.getColumnGroupChild(),c.pinned=e.getPinned(),c}return o.prototype.postConstruct=function(){var e=this,c=this.getGui(),h=function($,j,rt){var nt=rt||c;j!=null&&j!=""?nt.setAttribute($,j):nt.removeAttribute($)},g={setWidth:function($){return c.style.width=$},addOrRemoveCssClass:function($,j){return e.addOrRemoveCssClass($,j)},setColId:function($){return h("col-id",$)},setTitle:function($){return h("title",$)},setAriaDescription:function($){return setAriaDescription(c,$)},setAriaSort:function($){return $?setAriaSort(c,$):removeAriaSort(c)},setUserCompDetails:function($){return e.setUserCompDetails($)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(g,this.getGui(),this.eResize,this.eHeaderCompWrapper);var b=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",b)},o.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},o.prototype.setUserCompDetails=function(e){var c=this;this.headerCompVersion++;var h=this.headerCompVersion;e.newAgStackInstance().then(function(g){return c.afterCompCreated(h,g)})},o.prototype.afterCompCreated=function(e,c){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(c);return}this.destroyHeaderComp(),this.headerComp=c,this.headerCompGui=c.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},o.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,__decorate$1v([RefSelector("eResize")],o.prototype,"eResize",void 0),__decorate$1v([RefSelector("eHeaderCompWrapper")],o.prototype,"eHeaderCompWrapper",void 0),__decorate$1v([PostConstruct],o.prototype,"postConstruct",null),__decorate$1v([PreDestroy],o.prototype,"destroyHeaderComp",null),o}(AbstractHeaderCellComp);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1B=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1u=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderGroupCellComp$1=function(a){__extends$1B(o,a);function o(e){return a.call(this,o.TEMPLATE,e)||this}return o.prototype.postConstruct=function(){var e=this,c=this.getGui(),h=function(b,$){return $!=null?c.setAttribute(b,$):c.removeAttribute(b)},g={addOrRemoveCssClass:function(b,$){return e.addOrRemoveCssClass(b,$)},addOrRemoveResizableCssClass:function(b,$){return e.eResize.classList.toggle(b,$)},setWidth:function(b){return c.style.width=b},setColId:function(b){return c.setAttribute("col-id",b)},setAriaExpanded:function(b){return h("aria-expanded",b)},setTitle:function(b){return h("title",b)},setUserCompDetails:function(b){return e.setUserCompDetails(b)}};this.ctrl.setComp(g,c,this.eResize)},o.prototype.setUserCompDetails=function(e){var c=this;e.newAgStackInstance().then(function(h){return c.afterHeaderCompCreated(h)})},o.prototype.afterHeaderCompCreated=function(e){var c=this,h=function(){return c.destroyBean(e)};if(!this.isAlive()){h();return}this.getGui().appendChild(e.getGui()),this.addDestroyFunc(h),this.ctrl.setDragSource(e.getGui())},o.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,__decorate$1u([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),__decorate$1u([RefSelector("eResize")],o.prototype,"eResize",void 0),__decorate$1u([PostConstruct],o.prototype,"postConstruct",null),o}(AbstractHeaderCellComp);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1A=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1t=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderRowType;(function(a){a.COLUMN_GROUP="group",a.COLUMN="column",a.FLOATING_FILTER="filter"})(HeaderRowType||(HeaderRowType={}));var HeaderRowComp$1=function(a){__extends$1A(o,a);function o(e){var c=a.call(this)||this;c.headerComps={};var h=e.getType()==HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return c.setTemplate('<div class="ag-header-row '+h+'" role="row"></div>'),c.ctrl=e,c}return o.prototype.init=function(){var e=this,c={setTransform:function(h){return e.getGui().style.transform=h},setHeight:function(h){return e.getGui().style.height=h},setTop:function(h){return e.getGui().style.top=h},setHeaderCtrls:function(h){return e.setHeaderCtrls(h)},setWidth:function(h){return e.getGui().style.width=h},setAriaRowIndex:function(h){return setAriaRowIndex(e.getGui(),h)}};this.ctrl.setComp(c)},o.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},o.prototype.setHeaderCtrls=function(e){var c=this;if(this.isAlive()){var h=this.headerComps;this.headerComps={},e.forEach(function(j){var rt=j.getInstanceId(),nt=h[rt];delete h[rt],nt==null&&(nt=c.createHeaderComp(j),c.getGui().appendChild(nt.getGui())),c.headerComps[rt]=nt}),iterateObject(h,function(j,rt){c.getGui().removeChild(rt.getGui()),c.destroyBean(rt)});var g=this.gridOptionsWrapper.isEnsureDomOrder();if(g){var b=getAllValuesInObject(this.headerComps);b.sort(function(j,rt){var nt=j.getCtrl().getColumnGroupChild().getLeft(),pt=rt.getCtrl().getColumnGroupChild().getLeft();return nt-pt});var $=b.map(function(j){return j.getGui()});setDomChildOrder(this.getGui(),$)}}},o.prototype.createHeaderComp=function(e){var c;switch(this.ctrl.getType()){case HeaderRowType.COLUMN_GROUP:c=new HeaderGroupCellComp$1(e);break;case HeaderRowType.FLOATING_FILTER:c=new HeaderFilterCellComp$1(e);break;default:c=new HeaderCellComp$1(e);break}return this.createBean(c),c.setParentComponent(this),c},__decorate$1t([PostConstruct],o.prototype,"init",null),__decorate$1t([PreDestroy],o.prototype,"destroyHeaderCtrls",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1z=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1s=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},instanceIdSequence$1=0,AbstractHeaderCellCtrl=function(a){__extends$1z(o,a);function o(e,c){var h=a.call(this)||this;return h.lastFocusEvent=null,h.columnGroupChild=e,h.parentRowCtrl=c,h.instanceId=e.getUniqueId()+"-"+instanceIdSequence$1++,h}return o.prototype.shouldStopEventPropagation=function(e){var c=this.focusService.getFocusedHeader(),h=c.headerRowIndex,g=c.column;return isUserSuppressingHeaderKeyboardEvent(this.gridOptionsWrapper,e,h,g)},o.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsWrapper.getDocument(),c=e.activeElement;return c===this.eGui},o.prototype.setGui=function(e){this.eGui=e,this.addDomData()},o.prototype.handleKeyDown=function(e){var c=this.getWrapperHasFocus();switch(e.key){case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:c&&e.preventDefault()}},o.prototype.addDomData=function(){var e=this,c=o.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,c,this),this.addDestroyFunc(function(){return e.gridOptionsWrapper.setDomData(e.eGui,c,null)})},o.prototype.getGui=function(){return this.eGui},o.prototype.focus=function(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1},o.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},o.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},o.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.getColumnGroupChild=function(){return this.columnGroupChild},o.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",__decorate$1s([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1s([Autowired("beans")],o.prototype,"beans",void 0),__decorate$1s([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ClientSideRowModelSteps;(function(a){a.EVERYTHING="group",a.FILTER="filter",a.SORT="sort",a.MAP="map",a.AGGREGATE="aggregate",a.FILTER_AGGREGATES="filter_aggregates",a.PIVOT="pivot",a.NOTHING="nothing"})(ClientSideRowModelSteps||(ClientSideRowModelSteps={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1r=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g};function unwrapUserComp(a){var o=a,e=o!=null&&o.getFrameworkComponentInstance!=null;return e?o.getFrameworkComponentInstance():a}var GridApi=function(){function a(){this.detailGridInfoMap={},this.destroyCalled=!1}return a.prototype.registerOverlayWrapperComp=function(o){this.overlayWrapperComp=o},a.prototype.registerSideBarComp=function(o){this.sideBarComp=o},a.prototype.init=function(){var o=this;switch(this.rowModel.getType()){case Constants.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Constants.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Constants.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){o.gridBodyCtrl=o.ctrlsService.getGridBodyCtrl()})},a.prototype.__getAlignedGridService=function(){return this.alignedGridsService},a.prototype.__getContext=function(){return this.context},a.prototype.addDetailGridInfo=function(o,e){this.detailGridInfoMap[o]=e},a.prototype.removeDetailGridInfo=function(o){this.detailGridInfoMap[o]=void 0},a.prototype.getDetailGridInfo=function(o){return this.detailGridInfoMap[o]},a.prototype.forEachDetailGridInfo=function(o){var e=0;iterateObject(this.detailGridInfoMap,function(c,h){exists(h)&&(o(h,e),e++)})},a.prototype.getDataAsCsv=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(o)},a.prototype.exportDataAsCsv=function(o){ModuleRegistry.assertRegistered(ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(o)},a.prototype.getExcelExportMode=function(o){var e=this.gridOptionsWrapper.getDefaultExportParams("excel"),c=Object.assign({exportMode:"xlsx"},e,o);return c.exportMode},a.prototype.getDataAsExcel=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.getDataAsExcel")){var e=this.getExcelExportMode(o);if(this.excelCreator.getFactoryMode(e)===ExcelFactoryMode.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}return this.excelCreator.getDataAsExcel(o)}},a.prototype.exportDataAsExcel=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.exportDataAsExcel")){var e=this.getExcelExportMode(o);if(this.excelCreator.getFactoryMode(e)===ExcelFactoryMode.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}this.excelCreator.exportDataAsExcel(o)}},a.prototype.getSheetDataForExcel=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(o);return this.excelCreator.setFactoryMode(ExcelFactoryMode.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(o)}},a.prototype.getMultipleSheetsAsExcel=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(o)},a.prototype.exportMultipleSheetsAsExcel=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(o)},a.prototype.setEnterpriseDatasource=function(o){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(o)},a.prototype.setGridAriaProperty=function(o,e){if(o){var c=this.ctrlsService.getGridBodyCtrl().getGui(),h="aria-"+o;e===null?c.removeAttribute(h):c.setAttribute(h,e)}},a.prototype.setServerSideDatasource=function(o){this.serverSideRowModel?this.serverSideRowModel.setDatasource(o):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+Constants.ROW_MODEL_TYPE_SERVER_SIDE+"'")},a.prototype.setCacheBlockSize=function(o){if(!this.serverSideRowModel){console.warn("AG Grid: you can only set cacheBlockSize with gridOptions.rowModelType '"+Constants.ROW_MODEL_TYPE_SERVER_SIDE+"'");return}this.gridOptionsWrapper.setProperty("cacheBlockSize",o),this.serverSideRowModel.resetRootStore()},a.prototype.setDatasource=function(o){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(o):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+Constants.ROW_MODEL_TYPE_INFINITE+"'")},a.prototype.setViewportDatasource=function(o){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(o):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+Constants.ROW_MODEL_TYPE_VIEWPORT+"'")},a.prototype.setRowData=function(o){var e=this.immutableService==null;if(e){console.warn("AG Grid: you can only set rowData when using the Client Side Row Model");return}this.immutableService.isActive()?this.immutableService.setRowData(o):(this.selectionService.reset(),this.clientSideRowModel.setRowData(o))},a.prototype.setFloatingTopRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(o)},a.prototype.setFloatingBottomRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(o)},a.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},a.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},a.prototype.getFloatingTopRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(o)},a.prototype.getFloatingBottomRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(o)},a.prototype.setPinnedTopRowData=function(o){this.pinnedRowModel.setPinnedTopRowData(o)},a.prototype.setPinnedBottomRowData=function(o){this.pinnedRowModel.setPinnedBottomRowData(o)},a.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},a.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},a.prototype.getPinnedTopRow=function(o){return this.pinnedRowModel.getPinnedTopRow(o)},a.prototype.getPinnedBottomRow=function(o){return this.pinnedRowModel.getPinnedBottomRow(o)},a.prototype.setColumnDefs=function(o,e){e===void 0&&(e="api"),this.columnModel.setColumnDefs(o,e)},a.prototype.setAutoGroupColumnDef=function(o,e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_AUTO_GROUP_COLUMN_DEF,o,!0)},a.prototype.setDefaultColDef=function(o,e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DEFAULT_COL_DEF,o,!0)},a.prototype.expireValueCache=function(){this.valueCache.expire()},a.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},a.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},a.prototype.setAlwaysShowHorizontalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",o)},a.prototype.setAlwaysShowVerticalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",o)},a.prototype.refreshToolPanel=function(){this.sideBarComp&&this.sideBarComp.refresh()},a.prototype.refreshCells=function(o){if(o===void 0&&(o={}),Array.isArray(o)){console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation.");return}this.rowRenderer.refreshCells(o)},a.prototype.flashCells=function(o){o===void 0&&(o={}),this.rowRenderer.flashCells(o)},a.prototype.redrawRows=function(o){o===void 0&&(o={});var e=o?o.rowNodes:void 0;this.rowRenderer.redrawRows(e)},a.prototype.setFunctionsReadOnly=function(o){this.gridOptionsWrapper.setProperty("functionsReadOnly",o)},a.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){return o.refresh()})},a.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},a.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},a.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},a.prototype.getModel=function(){return this.rowModel},a.prototype.setRowNodeExpanded=function(o,e){o&&o.setExpanded(e)},a.prototype.onGroupExpandedOrCollapsed=function(o){missing(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),exists(o)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ClientSideRowModelSteps.MAP})},a.prototype.refreshInMemoryRowModel=function(o){console.warn("AG Grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(o)},a.prototype.refreshClientSideRowModel=function(o){missing(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=ClientSideRowModelSteps.EVERYTHING,c={everything:ClientSideRowModelSteps.EVERYTHING,group:ClientSideRowModelSteps.EVERYTHING,filter:ClientSideRowModelSteps.FILTER,map:ClientSideRowModelSteps.MAP,aggregate:ClientSideRowModelSteps.AGGREGATE,sort:ClientSideRowModelSteps.SORT,pivot:ClientSideRowModelSteps.PIVOT};if(exists(o)&&(e=c[o]),missing(e)){console.error("AG Grid: invalid step "+o+", available steps are "+Object.keys(c).join(", "));return}var h=!this.gridOptionsWrapper.isSuppressAnimationFrame(),g={step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:h};this.clientSideRowModel.refreshModel(g)},a.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},a.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},a.prototype.getRowNode=function(o){return this.rowModel.getRowNode(o)},a.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},a.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},a.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},a.prototype.getToolPanelInstance=function(o){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}var e=this.sideBarComp.getToolPanelInstance(o);return unwrapUserComp(e)},a.prototype.addVirtualRowListener=function(o,e,c){typeof o!="string"&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(o,e,c)},a.prototype.addRenderedRowListener=function(o,e,c){o==="virtualRowSelected"&&console.warn(`AG Grid: event virtualRowSelected is deprecated, to register for individual row
                selection events, add a listener directly to the row node.`),this.rowRenderer.addRenderedRowListener(o,e,c)},a.prototype.setQuickFilter=function(o){this.filterManager.setQuickFilter(o)},a.prototype.selectIndex=function(o,e,c){console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),c&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(o,e)},a.prototype.deselectIndex=function(o,e){e===void 0&&(e=!1),console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(o)},a.prototype.selectNode=function(o,e,c){e===void 0&&(e=!1),c===void 0&&(c=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),c&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!0,clearSelection:!e})},a.prototype.deselectNode=function(o,e){e===void 0&&(e=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!1})},a.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},a.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},a.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},a.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},a.prototype.recomputeAggregates=function(){missing(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ClientSideRowModelSteps.AGGREGATE})},a.prototype.sizeColumnsToFit=function(o){this.gridBodyCtrl.sizeColumnsToFit(o)},a.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},a.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},a.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},a.prototype.isNodeSelected=function(o){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),o.isSelected()},a.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},a.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},a.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},a.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},a.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},a.prototype.ensureColIndexVisible=function(o){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},a.prototype.ensureColumnVisible=function(o,e){e===void 0&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(o,e)},a.prototype.ensureIndexVisible=function(o,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(o,e)},a.prototype.ensureNodeVisible=function(o,e){e===void 0&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(o,e)},a.prototype.forEachLeafNode=function(o){missing(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(o)},a.prototype.forEachNode=function(o){this.rowModel.forEachNode(o)},a.prototype.forEachNodeAfterFilter=function(o){missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(o)},a.prototype.forEachNodeAfterFilterAndSort=function(o){missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(o)},a.prototype.getFilterInstance=function(o,e){var c=this.getFilterInstanceImpl(o,function(g){if(e){var b=unwrapUserComp(g);e(b)}}),h=unwrapUserComp(c);return h},a.prototype.getFilterInstanceImpl=function(o,e){var c=this.columnModel.getPrimaryColumn(o);if(c){var h=this.filterManager.getFilterComponent(c,"NO_UI"),g=h&&h.resolveNow(null,function(b){return b});return g?setTimeout(e,0,g):h&&h.then(function(b){e(b)}),g}},a.prototype.destroyFilter=function(o){var e=this.columnModel.getPrimaryColumn(o);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},a.prototype.getStatusPanel=function(o){if(this.statusBarService){var e=this.statusBarService.getStatusPanel(o);return unwrapUserComp(e)}},a.prototype.getColumnDef=function(o){var e=this.columnModel.getPrimaryColumn(o);return e?e.getColDef():null},a.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},a.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},a.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},a.prototype.setFilterModel=function(o){this.filterManager.setFilterModel(o)},a.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},a.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},a.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},a.prototype.setFocusedCell=function(o,e,c){this.focusService.setFocusedCell({rowIndex:o,column:e,rowPinned:c,forceBrowserFocus:!0})},a.prototype.setSuppressRowDrag=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG,o)},a.prototype.setSuppressMoveWhenRowDragging=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,o)},a.prototype.setSuppressRowClickSelection=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION,o)},a.prototype.addRowDropZone=function(o){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(o)},a.prototype.removeRowDropZone=function(o){var e=this.dragAndDropService.findExternalZone(o);e&&this.dragAndDropService.removeDropTarget(e)},a.prototype.getRowDropZoneParams=function(o){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(o)},a.prototype.setHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_HEADER_HEIGHT,o)},a.prototype.setDomLayout=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOM_LAYOUT,o)},a.prototype.setEnableCellTextSelection=function(o){this.gridBodyCtrl.setCellTextSelection(o)},a.prototype.setFillHandleDirection=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FILL_HANDLE_DIRECTION,o)},a.prototype.setGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,o)},a.prototype.setFloatingFiltersHeight=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,o)},a.prototype.setPivotHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,o)},a.prototype.setPivotGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,o)},a.prototype.setIsExternalFilterPresent=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_EXTERNAL_FILTER_PRESENT,o)},a.prototype.setDoesExternalFilterPass=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOES_EXTERNAL_FILTER_PASS,o)},a.prototype.setNavigateToNextCell=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_CELL,o)},a.prototype.setTabToNextCell=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_TAB_TO_NEXT_CELL,o)},a.prototype.setTabToNextHeader=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_TAB_TO_NEXT_HEADER,o)},a.prototype.setNavigateToNextHeader=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_HEADER,o)},a.prototype.setRowGroupPanelShow=function(o){this.gridOptionsWrapper.setProperty("rowGroupPanelShow",o)},a.prototype.setGroupRowAggNodes=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_ROW_AGG_NODES,o)},a.prototype.setGetGroupRowAgg=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_GROUP_ROW_AGG,o)},a.prototype.setGetBusinessKeyForNode=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_BUSINESS_KEY_FOR_NODE,o)},a.prototype.setGetChildCount=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CHILD_COUNT,o)},a.prototype.setProcessRowPostCreate=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_ROW_POST_CREATE,o)},a.prototype.setGetRowNodeId=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_NODE_ID,o)},a.prototype.setGetRowId=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_ID,o)},a.prototype.setGetRowClass=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_CLASS,o)},a.prototype.setIsFullWidthCell=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_FULL_WIDTH_CELL,o)},a.prototype.setIsFullWidthRow=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_FULL_WIDTH_ROW,o)},a.prototype.setIsRowSelectable=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_ROW_SELECTABLE,o)},a.prototype.setIsRowMaster=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_ROW_MASTER,o)},a.prototype.setPostSort=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_SORT,o)},a.prototype.setPostSortRows=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_SORT_ROWS,o)},a.prototype.setGetDocument=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_DOCUMENT,o)},a.prototype.setGetContextMenuItems=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CONTEXT_MENU_ITEMS,o)},a.prototype.setGetMainMenuItems=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_MAIN_MENU_ITEMS,o)},a.prototype.setProcessCellForClipboard=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_CELL_FOR_CLIPBOARD,o)},a.prototype.setSendToClipboard=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SEND_TO_CLIPBOARD,o)},a.prototype.setProcessCellFromClipboard=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_CELL_FROM_CLIPBOARD,o)},a.prototype.setProcessSecondaryColDef=function(o){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColDef has been renamed, please use setProcessPivotResultColDef instead"),this.setProcessPivotResultColDef(o)},a.prototype.setProcessSecondaryColGroupDef=function(o){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColGroupDef has been renamed, please use setProcessPivotResultColGroupDef instead"),this.setProcessPivotResultColGroupDef(o)},a.prototype.setProcessPivotResultColDef=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_PIVOT_RESULT_COL_DEF,o)},a.prototype.setProcessPivotResultColGroupDef=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF,o)},a.prototype.setPostProcessPopup=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_PROCESS_POPUP,o)},a.prototype.setDefaultGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,o)},a.prototype.setInitialGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_INITIAL_GROUP_ORDER_COMPARATOR,o)},a.prototype.setGetChartToolbarItems=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CHART_TOOLBAR_ITEMS,o)},a.prototype.setPaginationNumberFormatter=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PAGINATION_NUMBER_FORMATTER,o)},a.prototype.setGetServerSideStoreParams=function(o){this.setGetServerSideGroupLevelParams(o)},a.prototype.setGetServerSideGroupLevelParams=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_SERVER_SIDE_GROUP_PARAMS,o)},a.prototype.setIsServerSideGroupOpenByDefault=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,o)},a.prototype.setIsApplyServerSideTransaction=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,o)},a.prototype.setIsServerSideGroup=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUP,o)},a.prototype.setGetServerSideGroupKey=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_SERVER_SIDE_GROUP_KEY,o)},a.prototype.setGetRowStyle=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_STYLE,o)},a.prototype.setGetRowHeight=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_HEIGHT,o)},a.prototype.isSideBarVisible=function(){return this.sideBarComp?this.sideBarComp.isDisplayed():!1},a.prototype.setSideBarVisible=function(o){if(!this.sideBarComp){o&&console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setDisplayed(o)},a.prototype.setSideBarPosition=function(o){if(!this.sideBarComp){console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setSideBarPosition(o)},a.prototype.openToolPanel=function(o){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.openToolPanel(o)},a.prototype.closeToolPanel=function(){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.close()},a.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},a.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},a.prototype.setSideBar=function(o){this.gridOptionsWrapper.setProperty("sideBar",SideBarDefParser.parse(o))},a.prototype.setSuppressClipboardPaste=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE,o)},a.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},a.prototype.doLayout=function(){var o="AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically";doOnce(function(){return console.warn(o)},"doLayoutDeprecated")},a.prototype.resetRowHeights=function(){if(exists(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},a.prototype.setGroupRemoveSingleChildren=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o)},a.prototype.setGroupRemoveLowestSingleChildren=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o)},a.prototype.setGroupDisplayType=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_DISPLAY_TYPE,o)},a.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},a.prototype.getValue=function(o,e){var c=this.columnModel.getPrimaryColumn(o);return missing(c)&&(c=this.columnModel.getGridColumn(o)),missing(c)?null:this.valueService.getValue(c,e)},a.prototype.addEventListener=function(o,e){var c=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(o,e,c)},a.prototype.addGlobalListener=function(o){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(o,e)},a.prototype.removeEventListener=function(o,e){var c=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(o,e,c)},a.prototype.removeGlobalListener=function(o){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(o,e)},a.prototype.dispatchEvent=function(o){this.eventService.dispatchEvent(o)},a.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var o=this.ctrlsService.getGridCtrl();o&&o.destroyGridUi(),this.context.destroy()}},a.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(removeAllReferences.bind(window,this,"Grid API"),100)},a.prototype.warnIfDestroyed=function(o){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+o+" was called on a grid that was destroyed."),this.destroyCalled},a.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(o){return o.quickFilterAggregateText=null})},a.prototype.getRangeSelections=function(){return console.warn(`AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.
        We had to change how cell selections works a small bit to allow charting to integrate. The return type of
        getCellRanges() is a bit different, please check the AG Grid documentation.`),null},a.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},a.prototype.camelCaseToHumanReadable=function(o){return camelCaseToHumanText(o)},a.prototype.addRangeSelection=function(o){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},a.prototype.addCellRange=function(o){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(o)},a.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},a.prototype.undoCellEditing=function(){this.undoRedoService.undo()},a.prototype.redoCellEditing=function(){this.undoRedoService.redo()},a.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},a.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},a.prototype.getChartModels=function(){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.getChartModels")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},a.prototype.getChartRef=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.getChartRef")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(o)},a.prototype.getChartImageDataURL=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(o)},a.prototype.downloadChart=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(o)},a.prototype.openChartToolPanel=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(o)},a.prototype.closeChartToolPanel=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(o.chartId)},a.prototype.createRangeChart=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.createRangeChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(o)},a.prototype.createCrossFilterChart=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(o)},a.prototype.restoreChart=function(o,e){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.restoreChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(o,e)},a.prototype.createPivotChart=function(o){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.createPivotChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(o)},a.prototype.copyToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyToClipboard(o)},a.prototype.copySelectedRowsToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(o)},a.prototype.copySelectedRangeToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(o)},a.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},a.prototype.showColumnMenuAfterButtonClick=function(o,e){var c=this.columnModel.getGridColumn(o);this.menuFactory.showMenuAfterButtonClick(c,e,"columnMenu")},a.prototype.showColumnMenuAfterMouseClick=function(o,e){var c=this.columnModel.getGridColumn(o);if(c||(c=this.columnModel.getPrimaryColumn(o)),!c){console.error("AG Grid: column '"+o+"' not found");return}this.menuFactory.showMenuAfterMouseEvent(c,e)},a.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},a.prototype.setPopupParent=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POPUP_PARENT,o)},a.prototype.tabToNextCell=function(o){return this.navigationService.tabToNextCell(!1,o)},a.prototype.tabToPreviousCell=function(o){return this.navigationService.tabToNextCell(!0,o)},a.prototype.getCellRendererInstances=function(o){o===void 0&&(o={});var e=this.rowRenderer.getCellRendererInstances(o),c=e.map(unwrapUserComp);return c},a.prototype.getCellEditorInstances=function(o){o===void 0&&(o={});var e=this.rowRenderer.getCellEditorInstances(o),c=e.map(unwrapUserComp);return c},a.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},a.prototype.stopEditing=function(o){o===void 0&&(o=!1),this.rowRenderer.stopEditing(o)},a.prototype.startEditingCell=function(o){var e=this.columnModel.getGridColumn(o.colKey);if(!e){console.warn("AG Grid: no column found for "+o.colKey);return}var c={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:e},h=o.rowPinned==null;h&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(o.rowIndex);var g=this.navigationService.getCellByPosition(c);g&&g.startRowOrCellEdit(o.key,o.charPress)},a.prototype.addAggFunc=function(o,e){this.aggFuncService&&this.aggFuncService.addAggFunc(o,e)},a.prototype.addAggFuncs=function(o){this.aggFuncService&&this.aggFuncService.addAggFuncs(o)},a.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},a.prototype.applyServerSideTransaction=function(o){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransaction(o)},a.prototype.applyServerSideTransactionAsync=function(o,e){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransactionAsync(o,e)},a.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.");return}this.serverSideRowModel.retryLoads()},a.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.flushAsyncTransactions()},a.prototype.applyTransaction=function(o){if(!this.clientSideRowModel){console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1");return}var e=this.clientSideRowModel.updateRowData(o);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e},a.prototype.setDeltaSort=function(o){this.gridOptionsWrapper.setProperty("deltaSort",o)},a.prototype.updateRowData=function(o){var e="AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.";return doOnce(function(){return console.warn(e)},"updateRowData deprecated"),this.applyTransaction(o)},a.prototype.applyTransactionAsync=function(o,e){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.batchUpdateRowData(o,e)},a.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.flushAsyncTransactions()},a.prototype.batchUpdateRowData=function(o,e){var c="AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.";doOnce(function(){return console.warn(c)},"batchUpdateRowData deprecated"),this.applyTransactionAsync(o,e)},a.prototype.insertItemsAtIndex=function(o,e,c){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:o,update:null,remove:null})},a.prototype.removeItems=function(o,e){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var c=o.map(function(h){return h.data});this.updateRowData({add:null,addIndex:null,update:null,remove:c})},a.prototype.addItems=function(o,e){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:o,addIndex:null,update:null,remove:null})},a.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},a.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},a.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},a.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},a.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},a.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},a.prototype.purgeEnterpriseCache=function(o){console.warn("AG Grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.refreshServerSide({purge: true})"),this.purgeServerSideCache(o)},a.prototype.purgeServerSideCache=function(o){o===void 0&&(o=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSide({purge: true}) instead."),this.refreshServerSide({route:o,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},a.prototype.refreshServerSide=function(o){if(!this.serverSideRowModel){console.warn("AG Grid: api.refreshServerSide is only available when rowModelType='serverSide'.");return}this.serverSideRowModel.refreshStore(o)},a.prototype.refreshServerSideStore=function(o){var e="AG Grid: Grid API refreshServerSideStore() was renamed to refreshServerSide() in v28.0";return doOnce(function(){return console.warn(e)},"refreshServerSideStore-renamed"),this.refreshServerSide(o)},a.prototype.getServerSideStoreState=function(){var o="AG Grid: Grid API getServerSideStoreState() was renamed to getServerSideGroupLevelState() in v28.0";return doOnce(function(){return console.warn(o)},"getServerSideStoreState-renamed"),this.getServerSideGroupLevelState()},a.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideGroupLevelState is only available when rowModelType='serverSide'."),[])},a.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},a.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},a.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isMaxRowFound is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},a.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},a.prototype.setVirtualRowCount=function(o,e){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(o,e)},a.prototype.setInfiniteRowCount=function(o,e){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(o,e)},a.prototype.setRowCount=function(o,e){this.infiniteRowModel?this.infiniteRowModel.setRowCount(o,e):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},a.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},a.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},a.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},a.prototype.checkGridSize=function(){console.warn("In AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything useful.")},a.prototype.getFirstRenderedRow=function(){return console.warn("In AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},a.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},a.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},a.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},a.prototype.getDisplayedRowAtIndex=function(o){return this.rowModel.getRow(o)},a.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},a.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},a.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},a.prototype.paginationSetPageSize=function(o){this.gridOptionsWrapper.setProperty("paginationPageSize",o)},a.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},a.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},a.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},a.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},a.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},a.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},a.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},a.prototype.paginationGoToPage=function(o){this.paginationProxy.goToPage(o)},a.prototype.setRowClass=function(o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_ROW_CLASS,o)},__decorate$1r([Optional("immutableService")],a.prototype,"immutableService",void 0),__decorate$1r([Optional("csvCreator")],a.prototype,"csvCreator",void 0),__decorate$1r([Optional("excelCreator")],a.prototype,"excelCreator",void 0),__decorate$1r([Autowired("rowRenderer")],a.prototype,"rowRenderer",void 0),__decorate$1r([Autowired("navigationService")],a.prototype,"navigationService",void 0),__decorate$1r([Autowired("filterManager")],a.prototype,"filterManager",void 0),__decorate$1r([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1r([Autowired("selectionService")],a.prototype,"selectionService",void 0),__decorate$1r([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$1r([Autowired("valueService")],a.prototype,"valueService",void 0),__decorate$1r([Autowired("alignedGridsService")],a.prototype,"alignedGridsService",void 0),__decorate$1r([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$1r([Autowired("pinnedRowModel")],a.prototype,"pinnedRowModel",void 0),__decorate$1r([Autowired("context")],a.prototype,"context",void 0),__decorate$1r([Autowired("rowModel")],a.prototype,"rowModel",void 0),__decorate$1r([Autowired("sortController")],a.prototype,"sortController",void 0),__decorate$1r([Autowired("paginationProxy")],a.prototype,"paginationProxy",void 0),__decorate$1r([Autowired("focusService")],a.prototype,"focusService",void 0),__decorate$1r([Autowired("dragAndDropService")],a.prototype,"dragAndDropService",void 0),__decorate$1r([Optional("rangeService")],a.prototype,"rangeService",void 0),__decorate$1r([Optional("clipboardService")],a.prototype,"clipboardService",void 0),__decorate$1r([Optional("aggFuncService")],a.prototype,"aggFuncService",void 0),__decorate$1r([Autowired("menuFactory")],a.prototype,"menuFactory",void 0),__decorate$1r([Optional("contextMenuFactory")],a.prototype,"contextMenuFactory",void 0),__decorate$1r([Autowired("valueCache")],a.prototype,"valueCache",void 0),__decorate$1r([Autowired("animationFrameService")],a.prototype,"animationFrameService",void 0),__decorate$1r([Optional("statusBarService")],a.prototype,"statusBarService",void 0),__decorate$1r([Optional("chartService")],a.prototype,"chartService",void 0),__decorate$1r([Optional("undoRedoService")],a.prototype,"undoRedoService",void 0),__decorate$1r([Optional("rowNodeBlockLoader")],a.prototype,"rowNodeBlockLoader",void 0),__decorate$1r([Optional("ssrmTransactionManager")],a.prototype,"serverSideTransactionManager",void 0),__decorate$1r([Autowired("ctrlsService")],a.prototype,"ctrlsService",void 0),__decorate$1r([Optional("frameworkComponentWrapper")],a.prototype,"frameworkComponentWrapper",void 0),__decorate$1r([PostConstruct],a.prototype,"init",null),__decorate$1r([PreDestroy],a.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),a=__decorate$1r([Bean("gridApi")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1y=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1q=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SetLeftFeature=function(a){__extends$1y(o,a);function o(e,c,h,g){var b=a.call(this)||this;return b.columnOrGroup=e,b.eCell=c,b.ariaEl=b.eCell.querySelector("[role=columnheader]")||b.eCell,b.colsSpanning=g,b.beans=h,b}return o.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},o.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?last(this.colsSpanning):this.columnOrGroup},o.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Column.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},o.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),c=exists(this.columnOrGroup.getOldLeft()),h=this.beans.columnAnimationService.isActive()&&c&&!e;h?this.animateInLeft():this.onLeftChanged()},o.prototype.animateInLeft=function(){var e=this,c=this.getColumnOrGroup(),h=c.getLeft(),g=c.getOldLeft(),b=this.modifyLeftForPrintLayout(c,g),$=this.modifyLeftForPrintLayout(c,h);this.setLeft(b),this.actualLeft=$,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===$&&e.setLeft($)})},o.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),c=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,c),this.setLeft(this.actualLeft)},o.prototype.modifyLeftForPrintLayout=function(e,c){var h=this.beans.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT;if(!h||e.getPinned()===Constants.PINNED_LEFT)return c;var g=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()===Constants.PINNED_RIGHT){var b=this.beans.columnModel.getBodyContainerWidth();return g+b+c}return g+c},o.prototype.setLeft=function(e){exists(e)&&(this.eCell.style.left=e+"px");var c;if(this.columnOrGroup instanceof Column)c=this.columnOrGroup;else{var h=this.columnOrGroup,g=h.getLeafColumns();if(!g.length)return;g.length>1&&setAriaColSpan(this.ariaEl,g.length),c=g[0]}var b=this.beans.columnModel.getAriaColumnIndex(c);setAriaColIndex(this.ariaEl,b)},__decorate$1q([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1x=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1p=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HoverFeature=function(a){__extends$1x(o,a);function o(e,c){var h=a.call(this)||this;return h.columns=e,h.element=c,h}return o.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},o.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},o.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},__decorate$1p([Autowired("columnHoverService")],o.prototype,"columnHoverService",void 0),__decorate$1p([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1w=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1o=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderFilterCellCtrl=function(a){__extends$1w(o,a);function o(e,c){var h=a.call(this,e,c)||this;return h.column=e,h}return o.prototype.setComp=function(e,c,h,g){a.prototype.setGui.call(this,c),this.comp=e,this.eButtonShowMainFilter=h,this.eFloatingFilterBody=g;var b=this.column.getColDef(),$=!!b.filter||!!b.filterFramework,j=!!b.floatingFilter;this.active=$&&j,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),!!this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=createIconNoSpan("filter",this.gridOptionsWrapper,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},o.prototype.setupFocus=function(){this.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.onTabKeyDown=function(e){var c=this.gridOptionsWrapper.getDocument(),h=c.activeElement,g=h===this.eGui;if(!g){var b=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(b){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),b.focus();return}var $=this.findNextColumnWithFloatingFilter(e.shiftKey);$&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:$},event:e})&&e.preventDefault()}},o.prototype.findNextColumnWithFloatingFilter=function(e){var c=this.beans.columnModel,h=this.column;do if(h=e?c.getDisplayedColBefore(h):c.getDisplayedColAfter(h),!h)break;while(!h.getColDef().filter||!h.getColDef().floatingFilter);return h},o.prototype.handleKeyDown=function(e){a.prototype.handleKeyDown.call(this,e);var c=this.getWrapperHasFocus();switch(e.key){case KeyCode.UP:case KeyCode.DOWN:c||e.preventDefault();case KeyCode.LEFT:case KeyCode.RIGHT:if(c)return;e.stopPropagation();case KeyCode.ENTER:c&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case KeyCode.ESCAPE:c||this.eGui.focus()}},o.prototype.onFocusIn=function(e){var c=this.eGui.contains(e.relatedTarget);if(!c){var h=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),g=!!e.relatedTarget&&isElementChildOfClass(e.relatedTarget,"ag-floating-filter");if(h&&g&&e.target===this.eGui){var b=this.lastFocusEvent,$=!!(b&&b.key===KeyCode.TAB);if(b&&$){var j=b.shiftKey;this.focusService.focusInto(this.eGui,j)}}var rt=this.getRowIndex();this.beans.focusService.setFocusedHeader(rt,this.column)}},o.prototype.setupHover=function(){var e=this;this.createManagedBean(new HoverFeature([this.column],this.eGui));var c=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var h=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",h)}};this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,c),c()},o.prototype.setupLeft=function(){var e=new SetLeftFeature(this.column,this.eGui,this.beans);this.createManagedBean(e)},o.prototype.setupUserComp=function(){var e=this;if(this.active){var c=this.column.getColDef(),h=this.filterManager.createFilterParams(this.column,c),g=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(c,FilterComponent,h),b=this.userComponentFactory.getDefaultFloatingFilterType(c);b==null&&(b="agReadOnlyFloatingFilter");var $={column:this.column,filterParams:g,currentParentModel:function(){return e.currentParentModel()},parentFilterInstance:function(rt){return e.parentFilterInstance(rt)},showParentFilter:function(){return e.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=c.floatingFilterComponentParams?!!c.floatingFilterComponentParams.suppressFilterButton:!1;var j=this.userComponentFactory.getFloatingFilterCompDetails(c,$,b);j&&this.comp.setCompDetails(j)}},o.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(c){return c&&c.getModel()}):null},o.prototype.getFilterComponent=function(e){return e===void 0&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},o.prototype.parentFilterInstance=function(e){var c=this.getFilterComponent();c!=null&&c.then(function(h){e(unwrapUserComp(h))})},o.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])},o.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var c=function(h){var g=e.comp.getFloatingFilterComp();if(g){var b=e.currentParentModel();g.then(function($){$&&$.onParentModelChanged(b,h)})}};this.addManagedListener(this.column,Column.EVENT_FILTER_CHANGED,c),this.filterManager.isFilterActive(this.column)&&c(null)}},o.prototype.setupWidth=function(){var e=this,c=function(){var h=e.column.getActualWidth()+"px";e.comp.setWidth(h)};this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,c),c()},__decorate$1o([Autowired("filterManager")],o.prototype,"filterManager",void 0),__decorate$1o([Autowired("columnHoverService")],o.prototype,"columnHoverService",void 0),__decorate$1o([Autowired("menuFactory")],o.prototype,"menuFactory",void 0),o}(AbstractHeaderCellCtrl);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1v=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1n=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ResizeFeature=function(a){__extends$1v(o,a);function o(e,c,h,g,b){var $=a.call(this)||this;return $.pinned=e,$.column=c,$.eResize=h,$.comp=g,$.ctrl=b,$}return o.prototype.postConstruct=function(){var e=this,c=this.column.getColDef(),h=[],g,b,$=function(){if(setDisplayed(e.eResize,g),!!g){var nt=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(h.push(nt),b){var pt=e.gridOptionsWrapper.isSkipHeaderOnAutoSize(),wt=function(){e.columnModel.autoSizeColumn(e.column,pt,"uiColumnResized")};e.eResize.addEventListener("dblclick",wt);var Dt=new TouchListener(e.eResize);Dt.addEventListener(TouchListener.EVENT_DOUBLE_TAP,wt),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",wt),Dt.removeEventListener(TouchListener.EVENT_DOUBLE_TAP,wt),Dt.destroy()})}}},j=function(){h.forEach(function(nt){return nt()}),h.length=0},rt=function(){var nt=e.column.isResizable(),pt=!e.gridOptionsWrapper.isSuppressAutoSize()&&!c.suppressAutoSize,wt=nt!==g||pt!==b;wt&&(g=nt,b=pt,j(),$())};rt(),this.addDestroyFunc(j),this.ctrl.addRefreshFunction(rt)},o.prototype.onResizing=function(e,c){var h=this.normaliseResizeAmount(c),g=[{key:this.column,newWidth:this.resizeStartWidth+h}];this.columnModel.setColumnWidths(g,this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.normaliseResizeAmount=function(e){var c=e,h=this.pinned!==Constants.PINNED_LEFT,g=this.pinned===Constants.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?h&&(c*=-1):g&&(c*=-1),c},__decorate$1n([Autowired("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),__decorate$1n([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1n([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1u=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgCheckbox=function(a){__extends$1u(o,a);function o(e,c,h){c===void 0&&(c="ag-checkbox"),h===void 0&&(h="checkbox");var g=a.call(this,e,c,h)||this;return g.labelAlignment="right",g.selected=!1,g.readOnly=!1,g.passive=!1,g}return o.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},o.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},o.prototype.setPassive=function(e){this.passive=e},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},o.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),a.prototype.setDisabled.call(this,e)},o.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),c=this.getNextValue();this.passive?this.dispatchChange(c,e):this.setValue(c)}},o.prototype.getValue=function(){return this.isSelected()},o.prototype.setValue=function(e,c){return this.refreshSelectedClass(e),this.setSelected(e,c),this},o.prototype.setName=function(e){var c=this.getInputElement();return c.name=e,this},o.prototype.isSelected=function(){return this.selected},o.prototype.setSelected=function(e,c){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,c||this.dispatchChange(this.selected,this.previousValue))},o.prototype.dispatchChange=function(e,c,h){this.dispatchEvent({type:o.EVENT_CHANGED,selected:e,previousValue:c,event:h});var g=this.getInputElement(),b={type:Events.EVENT_CHECKBOX_CHANGED,id:g.id,name:g.name,selected:e,previousValue:c};this.eventService.dispatchEvent(b)},o.prototype.onCheckboxClick=function(e){if(!(this.passive||this.eInput.disabled)){var c=this.isSelected(),h=this.selected=e.target.checked;this.refreshSelectedClass(h),this.dispatchChange(h,c,e)}},o.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)},o}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1t=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1m=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SelectAllFeature=function(a){__extends$1t(o,a);function o(e){var c=a.call(this)||this;c.cbSelectAllVisible=!1,c.processingEventFromCheckbox=!1,c.column=e;var h=e.getColDef();return c.filteredOnly=h?!!h.headerCheckboxSelectionFilteredOnly:!1,c}return o.prototype.onSpaceKeyPressed=function(e){var c=this.cbSelectAll,h=this.gridOptionsWrapper.getDocument();c.isDisplayed()&&!c.getGui().contains(h.activeElement)&&(e.preventDefault(),c.setValue(!c.getValue()))},o.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},o.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new AgCheckbox),this.cbSelectAll.addCssClass("ag-header-select-all"),setAriaRole(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,AgCheckbox.EVENT_CHANGED,this.onCbSelectAll.bind(this)),setAriaHidden(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},o.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},o.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},o.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},o.prototype.getNextCheckboxState=function(e){return e.selected===0&&e.notSelected===0?!1:e.selected>0&&e.notSelected>0?null:e.selected>0},o.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),c=this.getNextCheckboxState(e);this.cbSelectAll.setValue(c),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},o.prototype.refreshSelectAllLabel=function(){if(!this.cbSelectAllVisible)this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);else{var e=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.cbSelectAll.getValue(),h=c?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),g=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",g+" ("+h+")"),this.cbSelectAll.setInputAriaLabel(g+" ("+h+")")}this.headerCellCtrl.refreshAriaDescription()},o.prototype.getSelectionCount=function(){var e=this,c=0,h=0,g=function(b){e.gridOptionsWrapper.isGroupSelectsChildren()&&b.group||(b.isSelected()?c++:b.selectable&&h++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(g):this.gridApi.forEachNode(g),{notSelected:h,selected:c}},o.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType(),c=e===Constants.ROW_MODEL_TYPE_CLIENT_SIDE;c||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},o.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue();e?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly)}},o.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){var c=e,h={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()};e=c(h)}return e?this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),!1):this.gridOptionsWrapper.isRowModelViewport()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),!1):!0:!1},__decorate$1m([Autowired("gridApi")],o.prototype,"gridApi",void 0),__decorate$1m([Autowired("columnApi")],o.prototype,"columnApi",void 0),__decorate$1m([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$1m([Autowired("selectionService")],o.prototype,"selectionService",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1s=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1l=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderCellCtrl=function(a){__extends$1s(o,a);function o(e,c){var h=a.call(this,e,c)||this;return h.refreshFunctions=[],h.userHeaderClasses=new Set,h.ariaDescriptionProperties=new Map,h.column=e,h}return o.prototype.setComp=function(e,c,h,g){var b=this;a.prototype.setGui.call(this,c),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(g),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new ResizeFeature(this.getPinned(),this.column,h,e,this)),this.createManagedBean(new HoverFeature([this.column],c)),this.createManagedBean(new SetLeftFeature(this.column,c,this.beans)),this.createManagedBean(new ManagedFocusFeature(c,{shouldStopEventPropagation:function($){return b.shouldStopEventPropagation($)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,Column.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},o.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},o.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},o.prototype.lookupUserCompDetails=function(){var e=this.createParams(),c=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(c,e)},o.prototype.createParams=function(){var e=this,c=this.column.getColDef(),h={column:this.column,displayName:this.displayName,enableSorting:c.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(g){e.gridApi.showColumnMenuAfterButtonClick(e.column,g)},progressSort:function(g){e.sortController.progressSort(e.column,!!g,"uiColumnSorted")},setSort:function(g,b){e.sortController.setSortForColumn(e.column,g,!!b,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()};return h},o.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new SelectAllFeature(this.column)),this.selectAllFeature.setComp(this)},o.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},o.prototype.handleKeyDown=function(e){a.prototype.handleKeyDown.call(this,e),e.key===KeyCode.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===KeyCode.ENTER&&this.onEnterKeyPressed(e)},o.prototype.onEnterKeyPressed=function(e){var c=this.comp.getUserCompInstance();if(c){if(e.ctrlKey||e.metaKey)this.menuEnabled&&c.showMenu&&(e.preventDefault(),c.showMenu());else if(this.sortable){var h=e.shiftKey;this.sortController.progressSort(this.column,h,"uiColumnSorted")}}},o.prototype.isMenuEnabled=function(){return this.menuEnabled},o.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var c=this.getRowIndex();this.focusService.setFocusedHeader(c,this.column)}this.setActiveHeader(!0)},o.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},o.prototype.setupTooltip=function(){var e=this,c={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var g=e.column.getColDef().headerTooltip;return g}},h=this.createManagedBean(new TooltipFeature(c,this.beans));h.setComp(this.comp),this.refreshFunctions.push(function(){return h.refreshToolTip()})},o.prototype.setupClassesFromColDef=function(){var e=this,c=function(){var h=e.column.getColDef(),g=e.gridOptionsWrapper,b=CssClassApplier.getHeaderClassesFromColDef(h,g,e.column,null),$=e.userHeaderClasses;e.userHeaderClasses=new Set(b),b.forEach(function(j){$.has(j)?$.delete(j):e.comp.addOrRemoveCssClass(j,!0)}),$.forEach(function(j){return e.comp.addOrRemoveCssClass(j,!1)})};this.refreshFunctions.push(c),c()},o.prototype.setDragSource=function(e){var c=this;if(this.dragSourceElement=e,this.removeDragSource(),!!e&&this.draggable){var h=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns();this.moveDragSource={type:DragSourceType.HeaderCell,eElement:e,defaultIconName:h?DragAndDropService.ICON_HIDE:DragAndDropService.ICON_NOT_ALLOWED,getDragItem:function(){return c.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return c.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return c.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(g){var b,$;if(h){var j=(($=(b=g)===null||b===void 0?void 0:b.columns)===null||$===void 0?void 0:$.filter(function(rt){return!rt.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(j,!0,"uiColumnMoved")}},onGridExit:function(g){var b,$;if(h){var j=(($=(b=g)===null||b===void 0?void 0:b.columns)===null||$===void 0?void 0:$.filter(function(rt){return!rt.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(j,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},o.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},o.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},o.prototype.onColDefChanged=function(){this.refresh()},o.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},o.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},o.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},o.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),c=this.comp.getUserCompInstance(),h=c!=null&&this.userCompDetails.componentClass==e.componentClass,g=h?this.attemptHeaderCompRefresh(e.params):!1;g?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},o.prototype.attemptHeaderCompRefresh=function(e){var c=this.comp.getUserCompInstance();if(!c||!c.refresh)return!1;var h=c.refresh(e);return h},o.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},o.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},o.prototype.workOutDraggable=function(){var e=this.column.getColDef(),c=this.gridOptionsWrapper.isSuppressMovableColumns(),h=!c&&!e.suppressMovable&&!e.lockPosition;return!!h||!!e.enableRowGroup||!!e.enablePivot},o.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},o.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},o.prototype.onColumnValueChanged=function(){this.checkDisplayName()},o.prototype.setupWidth=function(){var e=this,c=function(){e.comp.setWidth(e.column.getActualWidth()+"px")};this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,c),c()},o.prototype.setupMovingCss=function(){var e=this,c=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Column.EVENT_MOVING_CHANGED,c),c()},o.prototype.setupMenuClass=function(){var e=this,c=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Column.EVENT_MENU_VISIBLE_CHANGED,c),c()},o.prototype.setupSortableClass=function(){var e=this,c=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};c(),this.addRefreshFunction(c),this.addManagedListener(this.column,Column.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},o.prototype.setupWrapTextClass=function(){var e=this,c=function(){var h=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",h)};c(),this.addRefreshFunction(c)},o.prototype.setupAutoHeight=function(e){var c=this,h=function(nt){if(c.isAlive()){var pt=getElementSize(c.getGui()),wt=pt.paddingTop,Dt=pt.paddingBottom,Lt=e.offsetHeight,it=Lt+wt+Dt;if(nt<5){var st=c.beans.gridOptionsWrapper.getDocument(),bt=!st||!st.contains(e),gt=it==0;if(bt||gt){c.beans.frameworkOverrides.setTimeout(function(){return h(nt+1)},0);return}}c.columnModel.setColumnHeaderHeight(c.column,it)}},g=!1,b,$=function(){var nt=c.column.isAutoHeaderHeight();nt&&!g&&j(),!nt&&g&&rt()},j=function(){g=!0,h(0),c.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),b=c.resizeObserverService.observeResize(e,function(){return h(0)})},rt=function(){g=!1,b&&b(),c.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),b=void 0};$(),this.addDestroyFunc(function(){return rt()}),this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,function(){return g&&h(0)}),this.addManagedListener(this.column,Column.EVENT_SORT_CHANGED,function(){g&&c.beans.frameworkOverrides.setTimeout(function(){return h(0)})}),this.addRefreshFunction($)},o.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(getAriaSortState(this.column)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},o.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},o.prototype.setAriaDescriptionProperty=function(e,c){c!=null?this.ariaDescriptionProperties.set(e,c):this.ariaDescriptionProperties.delete(e)},o.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},o.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},o.prototype.addColumnHoverListener=function(){var e=this,c=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var h=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",h)}};this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,c),c()},o.prototype.setupFilterCss=function(){var e=this,c=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,Column.EVENT_FILTER_ACTIVE_CHANGED,c),c()},o.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},o.prototype.addActiveHeaderMouseListeners=function(){var e=this,c=function(h){return e.setActiveHeader(h.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",c),this.addManagedListener(this.getGui(),"mouseleave",c)},o.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},__decorate$1l([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1l([Autowired("columnHoverService")],o.prototype,"columnHoverService",void 0),__decorate$1l([Autowired("sortController")],o.prototype,"sortController",void 0),__decorate$1l([Autowired("menuFactory")],o.prototype,"menuFactory",void 0),__decorate$1l([Autowired("dragAndDropService")],o.prototype,"dragAndDropService",void 0),__decorate$1l([Autowired("resizeObserverService")],o.prototype,"resizeObserverService",void 0),__decorate$1l([Autowired("gridApi")],o.prototype,"gridApi",void 0),__decorate$1l([Autowired("columnApi")],o.prototype,"columnApi",void 0),__decorate$1l([PreDestroy],o.prototype,"removeDragSource",null),o}(AbstractHeaderCellCtrl);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1r=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1k=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GroupResizeFeature=function(a){__extends$1r(o,a);function o(e,c,h,g){var b=a.call(this)||this;return b.eResize=c,b.comp=e,b.pinned=h,b.columnGroup=g,b}return o.prototype.postConstruct=function(){var e=this;if(!this.columnGroup.isResizable()){this.comp.addOrRemoveResizableCssClass("ag-hidden",!0);return}var c=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(c),!this.gridOptionsWrapper.isSuppressAutoSize()){var h=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var g=[],b=e.columnGroup.getDisplayedLeafColumns();b.forEach(function($){$.getColDef().suppressAutoSize||g.push($.getColId())}),g.length>0&&e.columnModel.autoSizeColumns({columns:g,skipHeader:h,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()})}},o.prototype.onResizeStart=function(e){var c=this;this.calculateInitialValues();var h=null;if(e&&(h=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),h){var g=h.getDisplayedLeafColumns();this.resizeTakeFromCols=g.filter(function(b){return b.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(b){return c.resizeTakeFromStartWidth+=b.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(b){return c.resizeTakeFromRatios.push(b.getActualWidth()/c.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.onResizing=function(e,c){var h=this.normaliseDragChange(c),g=this.resizeStartWidth+h;this.resizeColumns(g,e)},o.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},o.prototype.resizeColumns=function(e,c){c===void 0&&(c=!0);var h=[];if(h.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){var g=e-this.resizeStartWidth;h.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-g})}this.columnModel.resizeColumnSets({resizeSets:h,finished:c,source:"uiColumnDragged"}),c&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.calculateInitialValues=function(){var e=this,c=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=c.filter(function(h){return h.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(h){return e.resizeStartWidth+=h.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(h){return e.resizeRatios.push(h.getActualWidth()/e.resizeStartWidth)})},o.prototype.normaliseDragChange=function(e){var c=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Constants.PINNED_LEFT&&(c*=-1):this.pinned===Constants.PINNED_RIGHT&&(c*=-1),c},__decorate$1k([Autowired("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),__decorate$1k([Autowired("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),__decorate$1k([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1k([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1q=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1j=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GroupWidthFeature=function(a){__extends$1q(o,a);function o(e,c){var h=a.call(this)||this;return h.removeChildListenersFuncs=[],h.columnGroup=c,h.comp=e,h}return o.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var c=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(h){h.addEventListener(Column.EVENT_WIDTH_CHANGED,c),h.addEventListener(Column.EVENT_VISIBLE_CHANGED,c),e.removeChildListenersFuncs.push(function(){h.removeEventListener(Column.EVENT_WIDTH_CHANGED,c),h.removeEventListener(Column.EVENT_VISIBLE_CHANGED,c)})})},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},__decorate$1j([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1p=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1i=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderGroupCellCtrl=function(a){__extends$1p(o,a);function o(e,c){var h=a.call(this,e,c)||this;return h.columnGroup=e,h}return o.prototype.setComp=function(e,c,h){a.prototype.setGui.call(this,c),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var g=this.getParentRowCtrl().getPinned(),b=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new HoverFeature(b,c)),this.createManagedBean(new SetLeftFeature(this.columnGroup,c,this.beans)),this.createManagedBean(new GroupWidthFeature(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new GroupResizeFeature(e,h,g,this.columnGroup)),this.createManagedBean(new ManagedFocusFeature(c,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},o.prototype.setupUserComp=function(){var e=this,c=this.displayName,h={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(rt){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),rt,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!c){for(var g=this.columnGroup,b=g.getLeafColumns();g.getParent()&&g.getParent().getLeafColumns().length===b.length;)g=g.getParent();var $=g.getColGroupDef();$&&(c=$.headerName),c||(c=b?this.columnModel.getDisplayNameForColumn(b[0],"header",!0):"")}var j=this.userComponentFactory.getHeaderGroupCompDetails(h);this.comp.setUserCompDetails(j)},o.prototype.setupTooltip=function(){var e=this,c=this.columnGroup.getColGroupDef(),h={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return c&&c.headerTooltip}};c&&(h.getColDef=function(){return c});var g=this.createManagedBean(new TooltipFeature(h,this.beans));g.setComp(this.comp)},o.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,ProvidedColumnGroup.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},o.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var c=e.isExpanded();this.expandable?this.comp.setAriaExpanded(c?"true":"false"):this.comp.setAriaExpanded(void 0)},o.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},o.prototype.addClasses=function(){var e=this,c=this.columnGroup.getColGroupDef(),h=CssClassApplier.getHeaderClassesFromColDef(c,this.gridOptionsWrapper,null,this.columnGroup);h.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),h.forEach(function(g){return e.comp.addOrRemoveCssClass(g,!0)})},o.prototype.setupMovingCss=function(){var e=this,c=this.columnGroup.getProvidedColumnGroup(),h=c.getLeafColumns(),g=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};h.forEach(function(b){e.addManagedListener(b,Column.EVENT_MOVING_CHANGED,g)}),g()},o.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var c=this.getRowIndex();this.beans.focusService.setFocusedHeader(c,this.columnGroup)}},o.prototype.handleKeyDown=function(e){a.prototype.handleKeyDown.call(this,e);var c=this.getWrapperHasFocus();if(!(!this.expandable||!c)&&e.key===KeyCode.ENTER){var h=this.columnGroup,g=!h.isExpanded();this.columnModel.setColumnGroupOpened(h.getProvidedColumnGroup(),g,"uiColumnExpanded")}},o.prototype.setDragSource=function(e){var c=this;if(!this.isSuppressMoving()){var h=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),g=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),b={type:DragSourceType.HeaderCell,eElement:e,defaultIconName:g?DragAndDropService.ICON_HIDE:DragAndDropService.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return h.forEach(function($){return $.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return h.forEach(function($){return $.setMoving(!1,"uiColumnDragged")})},onGridEnter:function($){var j,rt;if(g){var nt=((rt=(j=$)===null||j===void 0?void 0:j.columns)===null||rt===void 0?void 0:rt.filter(function(pt){return!pt.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(nt,!0,"uiColumnMoved")}},onGridExit:function($){var j,rt;if(g){var nt=((rt=(j=$)===null||j===void 0?void 0:j.columns)===null||rt===void 0?void 0:rt.filter(function(pt){return!pt.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(nt,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(b,!0),this.addDestroyFunc(function(){return c.dragAndDropService.removeDragSource(b)})}},o.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c={};e.forEach(function(g){return c[g.getId()]=g.isVisible()});var h=[];return this.columnModel.getAllDisplayedColumns().forEach(function(g){e.indexOf(g)>=0&&(h.push(g),removeFromArray(e,g))}),e.forEach(function(g){return h.push(g)}),{columns:h,visibleState:c}},o.prototype.isSuppressMoving=function(){var e=!1;this.columnGroup.getLeafColumns().forEach(function(h){(h.getColDef().suppressMovable||h.getColDef().lockPosition)&&(e=!0)});var c=e||this.gridOptionsWrapper.isSuppressMovableColumns();return c},__decorate$1i([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1i([Autowired("dragAndDropService")],o.prototype,"dragAndDropService",void 0),__decorate$1i([Autowired("gridApi")],o.prototype,"gridApi",void 0),__decorate$1i([Autowired("columnApi")],o.prototype,"columnApi",void 0),o}(AbstractHeaderCellCtrl);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1o=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1h=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},instanceIdSequence=0,HeaderRowCtrl=function(a){__extends$1o(o,a);function o(e,c,h){var g=a.call(this)||this;return g.instanceId=instanceIdSequence++,g.headerCellCtrls={},g.rowIndex=e,g.pinned=c,g.type=h,g}return o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),isBrowserSafari()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},o.prototype.getHeaderCellCtrl=function(e){return values(this.headerCellCtrls).find(function(c){return c.getColumnGroupChild()===e})},o.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},o.prototype.getType=function(){return this.type},o.prototype.onColumnResized=function(){this.setWidth()},o.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},o.prototype.getWidthForRow=function(){var e=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT;if(e){var c=this.pinned!=null;return c?0:this.columnModel.getContainerWidth(Constants.PINNED_RIGHT)+this.columnModel.getContainerWidth(Constants.PINNED_LEFT)+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},o.prototype.onRowHeightChanged=function(){var e=this.columnModel.getHeaderRowCount(),c=[],h=0;this.columnModel.hasFloatingFilters()&&(e++,h=1);for(var g=this.columnModel.getColumnGroupHeaderRowHeight(),b=this.columnModel.getColumnHeaderRowHeight(),$=1+h,j=e-$,rt=0;rt<j;rt++)c.push(g);c.push(b);for(var rt=0;rt<h;rt++)c.push(this.gridOptionsWrapper.getFloatingFiltersHeight());for(var nt=0,rt=0;rt<this.rowIndex;rt++)nt+=c[rt];var pt=c[this.rowIndex]+"px";this.comp.setTop(nt+"px"),this.comp.setHeight(pt)},o.prototype.getPinned=function(){return this.pinned},o.prototype.getRowIndex=function(){return this.rowIndex},o.prototype.onVirtualColumnsChanged=function(){var e=this,c=this.headerCellCtrls;this.headerCellCtrls={};var h=this.getColumnsInViewport();h.forEach(function($){if(!$.isEmptyGroup()){var j=$.getUniqueId(),rt=c[j];delete c[j];var nt=rt&&rt.getColumnGroupChild()!=$;if(nt&&(e.destroyBean(rt),rt=void 0),rt==null)switch(e.type){case HeaderRowType.FLOATING_FILTER:rt=e.createBean(new HeaderFilterCellCtrl($,e));break;case HeaderRowType.COLUMN_GROUP:rt=e.createBean(new HeaderGroupCellCtrl($,e));break;default:rt=e.createBean(new HeaderCellCtrl($,e));break}e.headerCellCtrls[j]=rt}});var g=function($){var j=e.focusService.isHeaderWrapperFocused($);if(!j)return!1;var rt=e.columnModel.isDisplayed($.getColumnGroupChild());return rt};iterateObject(c,function($,j){var rt=g(j);rt?e.headerCellCtrls[$]=j:e.destroyBean(j)});var b=getAllValuesInObject(this.headerCellCtrls);this.comp.setHeaderCtrls(b)},o.prototype.destroyCtrls=function(){var e=this;iterateObject(this.headerCellCtrls,function(c,h){e.destroyBean(h)}),this.headerCellCtrls={}},o.prototype.getColumnsInViewport=function(){var e=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT;return e?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},o.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(this.pinned!=null)return[];var c=[],h=this.getActualDepth();return[Constants.PINNED_LEFT,null,Constants.PINNED_RIGHT].forEach(function(g){var b=e.columnModel.getVirtualHeaderGroupRow(g,h);c=c.concat(b)}),c},o.prototype.getActualDepth=function(){return this.type==HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},o.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},o.prototype.focusHeader=function(e,c){var h=getAllValuesInObject(this.headerCellCtrls),g=h.find(function(b){return b.getColumnGroupChild()==e});return g?(g.focus(c),!0):!1},__decorate$1h([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1h([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1h([PreDestroy],o.prototype,"destroyCtrls",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1n=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1g=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$c=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$a=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$c(arguments[o]));return a},HeaderRowContainerCtrl=function(a){__extends$1n(o,a);function o(e){var c=a.call(this)||this;return c.groupsRowCtrls=[],c.pinned=e,c}return o.prototype.setComp=function(e,c){this.comp=e,this.eViewport=c,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},o.prototype.setupDragAndDrop=function(e){var c=new BodyDropTarget(this.pinned,e);this.createManagedBean(c)},o.prototype.refresh=function(e){var c=this;e===void 0&&(e=!1);var h=new NumberSequence,g=this.focusService.getFocusHeaderToUseAfterRefresh(),b=function(){var nt=c.columnModel.getHeaderRowCount()-1;c.groupsRowCtrls=c.destroyBeans(c.groupsRowCtrls);for(var pt=0;pt<nt;pt++){var wt=c.createBean(new HeaderRowCtrl(h.next(),c.pinned,HeaderRowType.COLUMN_GROUP));c.groupsRowCtrls.push(wt)}},$=function(){var nt=h.next(),pt=c.columnsRowCtrl==null||!e||c.columnsRowCtrl.getRowIndex()!==nt;pt&&(c.destroyBean(c.columnsRowCtrl),c.columnsRowCtrl=c.createBean(new HeaderRowCtrl(nt,c.pinned,HeaderRowType.COLUMN)))},j=function(){var nt=c.columnModel.hasFloatingFilters(),pt=function(){c.filtersRowCtrl=c.destroyBean(c.filtersRowCtrl)};if(!nt){pt();return}var wt=h.next();if(c.filtersRowCtrl){var Dt=c.filtersRowCtrl.getRowIndex()!==wt;(!e||Dt)&&pt()}c.filtersRowCtrl||(c.filtersRowCtrl=c.createBean(new HeaderRowCtrl(wt,c.pinned,HeaderRowType.FLOATING_FILTER)))};b(),$(),j();var rt=this.getAllCtrls();this.comp.setCtrls(rt),this.restoreFocusOnHeader(g)},o.prototype.restoreFocusOnHeader=function(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},o.prototype.getAllCtrls=function(){var e=__spread$a(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},o.prototype.onGridColumnsChanged=function(){this.refresh(!0)},o.prototype.setupCenterWidth=function(){var e=this;this.pinned==null&&this.createManagedBean(new CenterWidthFeature(function(c){return e.comp.setCenterWidth(c+"px")}))},o.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},o.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},o.prototype.setupPinnedWidth=function(){var e=this;if(this.pinned!=null){var c=this.pinned===Constants.PINNED_LEFT,h=this.pinned===Constants.PINNED_RIGHT,g=function(){var b=c?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(b!=null){var $=b==0,j=e.gridOptionsWrapper.isEnableRtl(),rt=e.gridOptionsWrapper.getScrollbarWidth(),nt=e.scrollVisibleService.isVerticalScrollShowing()&&(j&&c||!j&&h),pt=nt?b+rt:b;e.comp.setPinnedContainerWidth(pt+"px"),e.comp.addOrRemoveCssClass("ag-hidden",$)}};this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,g),this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,g),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,g),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,g)}},o.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Column)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(var c=0;c<this.groupsRowCtrls.length;c++){var h=this.groupsRowCtrls[c].getHeaderCellCtrl(e);if(h)return h}},o.prototype.getHtmlElementForColumnHeader=function(e){var c=this.getHeaderCtrlForColumn(e);return c?c.getGui():null},o.prototype.getRowType=function(e){var c=this.getAllCtrls(),h=c[e];return h?h.getType():void 0},o.prototype.focusHeader=function(e,c,h){var g=this.getAllCtrls(),b=g[e];return b?b.focusHeader(c,h):!1},o.prototype.getRowCount=function(){return this.getAllCtrls().length},__decorate$1g([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1g([Autowired("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),__decorate$1g([Autowired("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),__decorate$1g([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1g([Autowired("focusService")],o.prototype,"focusService",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1m=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1f=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderRowContainerComp$1=function(a){__extends$1m(o,a);function o(e){var c=a.call(this)||this;return c.headerRowComps={},c.rowCompsList=[],c.pinned=e,c}return o.prototype.init=function(){var e=this;this.selectAndSetTemplate();var c={addOrRemoveCssClass:function(g,b){return e.addOrRemoveCssClass(g,b)},setCtrls:function(g){return e.setCtrls(g)},setCenterWidth:function(g){return e.eCenterContainer.style.width=g},setContainerTransform:function(g){return e.eCenterContainer.style.transform=g},setPinnedContainerWidth:function(g){var b=e.getGui();b.style.width=g,b.style.maxWidth=g,b.style.minWidth=g}},h=this.createManagedBean(new HeaderRowContainerCtrl(this.pinned));h.setComp(c,this.getGui())},o.prototype.selectAndSetTemplate=function(){var e=this.pinned==Constants.PINNED_LEFT,c=this.pinned==Constants.PINNED_RIGHT,h=e?o.PINNED_LEFT_TEMPLATE:c?o.PINNED_RIGHT_TEMPLATE:o.CENTER_TEMPLATE;this.setTemplate(h),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},o.prototype.destroyRowComps=function(){this.setCtrls([])},o.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},o.prototype.setCtrls=function(e){var c=this,h=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var g,b=function($){var j=$.getGui(),rt=j.parentElement!=c.eRowContainer;rt&&c.eRowContainer.appendChild(j),g&&ensureDomOrder(c.eRowContainer,j,g),g=j};e.forEach(function($){var j=$.getInstanceId(),rt=h[j];delete h[j];var nt=rt||c.createBean(new HeaderRowComp$1($));c.headerRowComps[j]=nt,c.rowCompsList.push(nt),b(nt)}),getAllValuesInObject(h).forEach(function($){return c.destroyRowComp($)})},o.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',o.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',o.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,__decorate$1f([RefSelector("eCenterContainer")],o.prototype,"eCenterContainer",void 0),__decorate$1f([PostConstruct],o.prototype,"init",null),__decorate$1f([PreDestroy],o.prototype,"destroyRowComps",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1l=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1e=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderNavigationDirection;(function(a){a[a.UP=0]="UP",a[a.DOWN=1]="DOWN",a[a.LEFT=2]="LEFT",a[a.RIGHT=3]="RIGHT"})(HeaderNavigationDirection||(HeaderNavigationDirection={}));var HeaderNavigationService=function(a){__extends$1l(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(c){e.gridBodyCon=c.gridBodyCtrl})},o.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},o.prototype.getHeaderRowType=function(e){var c=this.ctrlsService.getHeaderRowContainerCtrl();if(c)return c.getRowType(e)},o.prototype.navigateVertically=function(e,c,h){if(c||(c=this.focusService.getFocusedHeader()),!c)return!1;var g=c.headerRowIndex,b=c.column,$=this.getHeaderRowCount(),j=e===HeaderNavigationDirection.UP,rt=j?g-1:g+1,nt=null,pt=!1;rt<0&&(rt=0,nt=b,pt=!0),rt>=$&&(rt=-1);var wt=this.getHeaderRowType(g);if(!pt){if(wt===HeaderRowType.COLUMN_GROUP){var Dt=b;nt=j?b.getParent():Dt.getDisplayedChildren()[0]}else if(wt===HeaderRowType.FLOATING_FILTER)nt=b;else{var Dt=b;nt=j?Dt.getParent():Dt}if(!nt)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:rt,column:nt},allowUserOverride:!0,event:h})},o.prototype.navigateHorizontally=function(e,c,h){c===void 0&&(c=!1);var g=this.focusService.getFocusedHeader(),b=e===HeaderNavigationDirection.LEFT,$=this.gridOptionsWrapper.isEnableRtl(),j,rt;return b!==$?(rt="Before",j=this.headerPositionUtils.findHeader(g,rt)):(rt="After",j=this.headerPositionUtils.findHeader(g,rt)),j||!c?this.focusService.focusHeaderPosition({headerPosition:j,direction:rt,fromTab:c,allowUserOverride:!0,event:h}):this.focusNextHeaderRow(g,rt,h)},o.prototype.focusNextHeaderRow=function(e,c,h){var g=e.headerRowIndex,b=null,$;return c==="Before"?g>0&&($=g-1,b=this.headerPositionUtils.findColAtEdgeForHeaderRow($,"end")):($=g+1,b=this.headerPositionUtils.findColAtEdgeForHeaderRow($,"start")),this.focusService.focusHeaderPosition({headerPosition:b,direction:c,fromTab:!0,allowUserOverride:!0,event:h})},o.prototype.scrollToColumn=function(e,c){if(c===void 0&&(c="After"),!e.getPinned()){var h;if(e instanceof ColumnGroup){var g=e.getDisplayedLeafColumns();h=c==="Before"?last(g):g[0]}else h=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(h)}},__decorate$1e([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1e([Autowired("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),__decorate$1e([Autowired("animationFrameService")],o.prototype,"animationFrameService",void 0),__decorate$1e([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$1e([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$1e([Bean("headerNavigationService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1k=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1d=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GridHeaderCtrl=function(a){__extends$1k(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setComp=function(e,c,h){this.comp=e,this.eGui=c,this.createManagedBean(new ManagedFocusFeature(h,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},o.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,e),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e)},o.prototype.getHeaderHeight=function(){return this.headerHeight},o.prototype.setHeaderHeight=function(){var e=this,c=e.columnModel,h=e.gridOptionsWrapper,g=0,b=c.getHeaderRowCount(),$,j=c.hasFloatingFilters();j&&(b++,g=1);var rt=this.columnModel.getColumnGroupHeaderRowHeight(),nt=this.columnModel.getColumnHeaderRowHeight(),pt=1+g,wt=b-pt;if($=g*h.getFloatingFiltersHeight(),$+=wt*rt,$+=nt,this.headerHeight!==$){this.headerHeight=$;var Dt=$+1+"px";this.comp.setHeightAndMinHeight(Dt),this.eventService.dispatchEvent({type:Events.EVENT_HEADER_HEIGHT_CHANGED})}},o.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},o.prototype.onTabKeyDown=function(e){var c=this.gridOptionsWrapper.isEnableRtl(),h=e.shiftKey!==c?HeaderNavigationDirection.LEFT:HeaderNavigationDirection.RIGHT;(this.headerNavigationService.navigateHorizontally(h,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},o.prototype.handleKeyDown=function(e){var c=null;switch(e.key){case KeyCode.LEFT:c=HeaderNavigationDirection.LEFT;case KeyCode.RIGHT:exists(c)||(c=HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(c,!1,e);break;case KeyCode.UP:c=HeaderNavigationDirection.UP;case KeyCode.DOWN:exists(c)||(c=HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(c,null,e)&&e.preventDefault();break;default:return}},o.prototype.onFocusOut=function(e){var c=this.gridOptionsWrapper.getDocument(),h=e.relatedTarget;!h&&this.eGui.contains(c.activeElement)||this.eGui.contains(h)||this.focusService.clearFocusedHeader()},__decorate$1d([Autowired("headerNavigationService")],o.prototype,"headerNavigationService",void 0),__decorate$1d([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1d([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1d([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1j=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1c=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GridHeaderComp$1=function(a){__extends$1j(o,a);function o(){return a.call(this,o.TEMPLATE)||this}return o.prototype.postConstruct=function(){var e=this,c={addOrRemoveCssClass:function(b,$){return e.addOrRemoveCssClass(b,$)},setHeightAndMinHeight:function(b){e.getGui().style.height=b,e.getGui().style.minHeight=b}},h=this.createManagedBean(new GridHeaderCtrl);h.setComp(c,this.getGui(),this.getFocusableElement());var g=function(b){e.createManagedBean(b),e.appendChild(b)};g(new HeaderRowContainerComp$1(Constants.PINNED_LEFT)),g(new HeaderRowContainerComp$1(null)),g(new HeaderRowContainerComp$1(Constants.PINNED_RIGHT))},o.TEMPLATE='<div class="ag-header" role="presentation"/>',__decorate$1c([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1i=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1b=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HorizontalResizeService=function(a){__extends$1i(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.addResizeBar=function(e){var c=this,h={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};this.dragService.addDragSource(h,!0);var g=function(){return c.dragService.removeDragSource(h)};return g},o.prototype.onDragStart=function(e,c){this.dragStartX=c.clientX,this.setResizeIcons();var h=c instanceof MouseEvent&&c.shiftKey===!0;e.onResizeStart(h)},o.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},o.prototype.onDragStop=function(e,c){e.onResizeEnd(this.resizeAmount),this.resetIcons()},o.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},o.prototype.onDragging=function(e,c){this.resizeAmount=c.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},__decorate$1b([Autowired("dragService")],o.prototype,"dragService",void 0),__decorate$1b([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),o=__decorate$1b([Bean("horizontalResizeService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1h=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1a=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},StandardMenuFactory=function(a){__extends$1h(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},o.prototype.showMenuAfterMouseEvent=function(e,c){var h=this;this.showPopup(e,function(g){h.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:c,ePopup:g})},c.target)},o.prototype.showMenuAfterButtonClick=function(e,c,h){var g=this;this.showPopup(e,function(b){g.popupService.positionPopupUnderComponent({type:h,eventSource:c,ePopup:b,keepWithinBounds:!0,column:e})},c)},o.prototype.showPopup=function(e,c,h){var g=this,b=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!b)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var $=document.createElement("div");setAriaRole($,"presentation"),$.classList.add("ag-menu"),this.tabListener=this.addManagedListener($,"keydown",function(Dt){return g.trapFocusWithin(Dt,$)}),b.guiPromise.then(function(Dt){return $.appendChild(Dt)});var j,rt=h||this.ctrlsService.getGridBodyCtrl().getGui(),nt=function(Dt){e.setMenuVisible(!1,"contextMenu");var Lt=Dt instanceof KeyboardEvent;if(g.tabListener&&(g.tabListener=g.tabListener()),Lt&&h&&isVisible(h)){var it=g.focusService.findTabbableParent(h);it&&it.focus()}},pt=this.gridOptionsWrapper.getLocaleTextFunc(),wt=this.popupService.addPopup({modal:!0,eChild:$,closeOnEsc:!0,closedCallback:nt,positionCallback:function(){return c($)},anchorToElement:rt,ariaLabel:pt("ariaLabelColumnMenu","Column Menu")});wt&&(this.hidePopup=j=wt.hideFunc),b.filterPromise.then(function(Dt){c($),Dt.afterGuiAttached&&Dt.afterGuiAttached({container:"columnMenu",hidePopup:j})}),e.setMenuVisible(!0,"contextMenu")},o.prototype.trapFocusWithin=function(e,c){e.key!==KeyCode.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(c,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(c,e.shiftKey))},o.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},__decorate$1a([Autowired("filterManager")],o.prototype,"filterManager",void 0),__decorate$1a([Autowired("popupService")],o.prototype,"popupService",void 0),__decorate$1a([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$1a([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),o=__decorate$1a([Bean("menuFactory")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1g=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$19=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},TabbedLayout=function(a){__extends$1g(o,a);function o(e){var c=a.call(this,o.getTemplate(e.cssClass))||this;return c.items=[],c.tabbedItemScrollMap=new Map,c.params=e,e.items&&e.items.forEach(function(h){return c.addItem(h)}),c}return o.prototype.postConstruct=function(){this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},o.getTemplate=function(e){return'<div class="ag-tabs '+e+`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `+(e?e+"-header":"")+`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `+(e?e+"-body":"")+`"></div>
        </div>`},o.prototype.handleKeyDown=function(e){var c=this.gridOptionsWrapper.getDocument();switch(e.key){case KeyCode.RIGHT:case KeyCode.LEFT:if(!this.eHeader.contains(c.activeElement))return;var h=e.key===KeyCode.RIGHT,g=this.gridOptionsWrapper.isEnableRtl(),b=this.items.indexOf(this.activeItem),$=h!==g?Math.min(b+1,this.items.length-1):Math.max(b-1,0);if(b===$)return;e.preventDefault();var j=this.items[$];this.showItemWrapper(j),j.eHeaderButton.focus();break;case KeyCode.UP:case KeyCode.DOWN:e.stopPropagation();break}},o.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var c=this,h=c.focusService,g=c.eHeader,b=c.eBody,$=c.activeItem,j=this.gridOptionsWrapper.getDocument(),rt=j.activeElement;if(e.preventDefault(),g.contains(rt))h.focusInto(b,e.shiftKey);else if(h.isFocusUnderManagedComponent(b))$.eHeaderButton.focus();else{var nt=h.findNextFocusableElement(b,!1,e.shiftKey);nt?nt.focus():$.eHeaderButton.focus()}}},o.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},o.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},o.prototype.addItem=function(e){var c=document.createElement("span");setAriaRole(c,"tab"),c.setAttribute("tabIndex","-1"),c.appendChild(e.title),c.classList.add("ag-tab"),this.eHeader.appendChild(c),setAriaLabel(c,e.titleLabel);var h={tabbedItem:e,eHeaderButton:c};this.items.push(h),c.addEventListener("click",this.showItemWrapper.bind(this,h))},o.prototype.showItem=function(e){var c=this.items.find(function(h){return h.tabbedItem===e});c&&this.showItemWrapper(c)},o.prototype.showItemWrapper=function(e){var c=this,h=e.tabbedItem,g=e.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:h}),this.activeItem===e){callIfPresent(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),clearElement(this.eBody),h.bodyPromise.then(function(b){c.eBody.appendChild(b);var $=!c.focusService.isKeyboardMode();if(c.focusService.focusInto(c.eBody,!1,$),h.afterAttachedCallback&&h.afterAttachedCallback(c.afterAttachedParams),c.params.keepScrollPosition){var j=h.getScrollableContainer&&h.getScrollableContainer()||b;c.lastScrollListener=c.addManagedListener(j,"scroll",function(){c.tabbedItemScrollMap.set(h.name,j.scrollTop)});var rt=c.tabbedItemScrollMap.get(h.name);rt!==void 0&&setTimeout(function(){j.scrollTop=rt},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),g.classList.add("ag-tab-selected"),this.activeItem=e},__decorate$19([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$19([RefSelector("eHeader")],o.prototype,"eHeader",void 0),__decorate$19([RefSelector("eBody")],o.prototype,"eBody",void 0),__decorate$19([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function simpleHttpRequest(a){return new AgPromise(function(o){var e=new XMLHttpRequest;e.open("GET",a.url),e.send(),e.onreadystatechange=function(){e.readyState===4&&e.status===200&&o(JSON.parse(e.responseText))}})}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1f=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$18=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},DEBOUNCE_DELAY=50,ResizeObserverService=function(a){__extends$1f(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return o.prototype.observeResize=function(e,c){var h=this,g=this.gridOptionsWrapper.getDocument(),b=g.defaultView||window,$=debounce(c,DEBOUNCE_DELAY),j=function(){var wt=new b.ResizeObserver($);return wt.observe(e),function(){return wt.disconnect()}},rt=function(){var wt=offsetWidth(e),Dt=offsetHeight(e),Lt=!0,it=function(){if(Lt){var st=offsetWidth(e),bt=offsetHeight(e),gt=st!==wt||bt!==Dt;gt&&(wt=st,Dt=bt,c()),h.doNextPolyfillTurn(it)}};return it(),function(){return Lt=!1}},nt=this.gridOptionsWrapper.isSuppressBrowserResizeObserver(),pt=!!b.ResizeObserver;return pt&&!nt?j():rt()},o.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},o.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var c=function(){var h=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],h.forEach(function(g){return g()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(c,DEBOUNCE_DELAY)}},o=__decorate$18([Bean("resizeObserverService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1e=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$17=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AnimationFrameService=function(a){__extends$1e(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return o.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},o.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},o.prototype.isOn=function(){return this.useAnimationFrame},o.prototype.verifyAnimationFrameOn=function(e){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},o.prototype.createTask=function(e,c,h){this.verifyAnimationFrameOn(h);var g={task:e,index:c,createOrder:++this.taskCount};this.addTaskToList(this[h],g),this.schedule()},o.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},o.prototype.addTaskToList=function(e,c){e.list.push(c),e.sorted=!1},o.prototype.sortTaskList=function(e){if(!e.sorted){var c=this.scrollGoingDown?1:-1;e.list.sort(function(h,g){return h.index!==g.index?c*(g.index-h.index):g.createOrder-h.createOrder}),e.sorted=!0}},o.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},o.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var c=this.createTasksP1,h=c.list,g=this.createTasksP2,b=g.list,$=this.destroyTasks,j=new Date().getTime(),rt=new Date().getTime()-j,nt=e<=0,pt=this.ctrlsService.getGridBodyCtrl();nt||rt<e;){var wt=pt.getScrollFeature().executeAnimationFrameScroll();if(!wt){var Dt=void 0;if(h.length)this.sortTaskList(c),Dt=h.pop().task;else if(b.length)this.sortTaskList(g),Dt=b.pop().task;else if($.length)Dt=$.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(Dt)||Dt()}rt=new Date().getTime()-j}h.length||b.length||$.length?this.requestFrame():this.stopTicking()},o.prototype.stopTicking=function(){this.ticking=!1},o.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},o.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},o.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),c=this.gridOptionsWrapper.getDocument(),h=c.defaultView||window;h.requestAnimationFrame?h.requestAnimationFrame(e):h.webkitRequestAnimationFrame?h.webkitRequestAnimationFrame(e):h.setTimeout(e,0)},o.prototype.isQueueEmpty=function(){return!this.ticking},o.prototype.debounce=function(e){var c=this,h=!1;return function(){if(!c.isOn()){c.getFrameworkOverrides().setTimeout(e,0);return}h||(h=!0,c.addDestroyTask(function(){h=!1,e()}))}},__decorate$17([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$17([PostConstruct],o.prototype,"init",null),o=__decorate$17([Bean("animationFrameService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1d=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$16=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RESIZE_CONTAINER_STYLE="ag-resizer-wrapper",RESIZE_TEMPLATE='<div class="'+RESIZE_CONTAINER_STYLE+`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,PositionableFeature=function(a){__extends$1d(o,a);function o(e,c){var h=a.call(this)||this;return h.element=e,h.dragStartPosition={x:0,y:0},h.position={x:0,y:0},h.lastSize={width:-1,height:-1},h.positioned=!1,h.resizersAdded=!1,h.resizeListeners=[],h.boundaryEl=null,h.isResizing=!1,h.isMoving=!1,h.resizable={},h.movable=!1,h.currentResizer=null,h.config=Object.assign({},{popup:!1},c),h}return o.prototype.center=function(){var e=this.offsetParent,c=e.clientHeight,h=e.clientWidth,g=h/2-this.getWidth()/2,b=c/2-this.getHeight()/2;this.offsetElement(g,b)},o.prototype.initialisePosition=function(){var e=this.config,c=e.centered,h=e.forcePopupParentAsOffsetParent,g=e.minWidth,b=e.width,$=e.minHeight,j=e.height,rt=e.x,nt=e.y;this.offsetParent||this.setOffsetParent();var pt=0,wt=0,Dt=!!this.element.offsetParent;if(Dt){var Lt=this.findBoundaryElement(),it=window.getComputedStyle(Lt);if(it.minWidth!=null){var st=Lt.offsetWidth-this.element.offsetWidth;wt=parseInt(it.minWidth,10)-st}if(it.minHeight!=null){var bt=Lt.offsetHeight-this.element.offsetHeight;pt=parseInt(it.minHeight,10)-bt}}if(this.minHeight=$||pt,this.minWidth=g||wt,b&&this.setWidth(b),j&&this.setHeight(j),(!b||!j)&&this.refreshSize(),c)this.center();else if(rt||nt)this.offsetElement(rt,nt);else if(Dt&&h&&this.boundaryEl){var gt=parseFloat(this.boundaryEl.style.top),Et=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Et)?0:Et,isNaN(gt)?0:gt)}this.positioned=!!this.offsetParent},o.prototype.isPositioned=function(){return this.positioned},o.prototype.getPosition=function(){return this.position},o.prototype.setMovable=function(e,c){if(!(!this.config.popup||e===this.movable)){this.movable=e;var h=this.moveElementDragListener||{eElement:c,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(h),this.moveElementDragListener=h):(this.dragService.removeDragSource(h),this.moveElementDragListener=void 0)}},o.prototype.setResizable=function(e){var c=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(h){var g=e,b=!!g[h],$=c.getResizerElement(h),j={dragStartPixels:0,eElement:$,onDragStart:function(rt){return c.onResizeStart(rt,h)},onDragging:c.onResize.bind(c),onDragStop:function(rt){return c.onResizeEnd(rt,h)}};(!!c.resizable[h]!==b||!c.isAlive()&&!b)&&(b?(c.dragService.addDragSource(j),c.resizeListeners.push(j),$.style.pointerEvents="all"):$.style.pointerEvents="none",c.resizable[h]=b)})},o.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},o.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,c=e.height,h=e.width;h!==-1&&(this.element.style.width=h+"px"),c!==-1&&(this.element.style.height=c+"px")},o.prototype.getHeight=function(){return this.element.offsetHeight},o.prototype.setHeight=function(e){var c=this.config.popup,h=this.element,g=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)setFixedHeight(h,e),e=getAbsoluteHeight(h),g=!0;else if(this.positioned){var b=this.element.getBoundingClientRect(),$=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var j=this.offsetParent.clientHeight,rt=c?this.position.y:b.top,nt=c?0:$.top;j&&e+rt>j+nt&&(e=j-rt)}this.getHeight()!==e&&(g?(h.style.maxHeight="unset",h.style.minHeight="unset"):c?setFixedHeight(h,e):(h.style.height=e+"px",h.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))},o.prototype.getWidth=function(){return this.element.offsetWidth},o.prototype.setWidth=function(e){var c=this.element,h=this.config.popup,g=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)setFixedWidth(c,e),e=getAbsoluteWidth(c),g=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var b=this.offsetParent.clientWidth,$=h?this.position.x:this.element.getBoundingClientRect().left;b&&e+$>b&&(e=b-$)}this.getWidth()!==e&&(g?(c.style.maxWidth="unset",c.style.minWidth="unset"):this.config.popup?setFixedWidth(c,e):(c.style.width=e+"px",c.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))},o.prototype.offsetElement=function(e,c){e===void 0&&(e=0),c===void 0&&(c=0);var h=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:h,x:e,y:c,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable()}),this.setPosition(parseFloat(h.style.left),parseFloat(h.style.top))},o.prototype.setPosition=function(e,c){this.position.x=e,this.position.y=c},o.prototype.updateDragStartPosition=function(e,c){this.dragStartPosition={x:e,y:c}},o.prototype.calculateMouseMovement=function(e){var c=e.e,h=e.isLeft,g=e.isTop,b=e.anywhereWithin,$=e.topBuffer,j=c.clientX-this.dragStartPosition.x,rt=c.clientY-this.dragStartPosition.y,nt=this.shouldSkipX(c,!!h,!!b,j)?0:j,pt=this.shouldSkipY(c,!!g,$,rt)?0:rt;return{movementX:nt,movementY:pt}},o.prototype.shouldSkipX=function(e,c,h,g){var b=this.element.getBoundingClientRect(),$=this.offsetParent.getBoundingClientRect(),j=this.boundaryEl.getBoundingClientRect(),rt=this.config.popup?this.position.x:b.left,nt=rt<=0&&$.left>=e.clientX||$.right<=e.clientX&&$.right<=j.right;return nt?!0:(c?nt=g<0&&e.clientX>rt+$.left||g>0&&e.clientX<rt+$.left:h?nt=g<0&&e.clientX>j.right||g>0&&e.clientX<rt+$.left:nt=g<0&&e.clientX>j.right||g>0&&e.clientX<j.right,nt)},o.prototype.shouldSkipY=function(e,c,h,g){h===void 0&&(h=0);var b=this.element.getBoundingClientRect(),$=this.offsetParent.getBoundingClientRect(),j=this.boundaryEl.getBoundingClientRect(),rt=this.config.popup?this.position.y:b.top,nt=rt<=0&&$.top>=e.clientY||$.bottom<=e.clientY&&$.bottom<=j.bottom;return nt?!0:(c?nt=g<0&&e.clientY>rt+$.top+h||g>0&&e.clientY<rt+$.top:nt=g<0&&e.clientY>j.bottom||g>0&&e.clientY<j.bottom,nt)},o.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},o.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var c=new DOMParser,h=c.parseFromString(RESIZE_TEMPLATE,"text/html").body;e.appendChild(h.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},o.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+RESIZE_CONTAINER_STYLE);e&&this.element.removeChild(e),this.resizersAdded=!1},o.prototype.getResizerElement=function(e){return this.resizerMap[e].element},o.prototype.onResizeStart=function(e,c){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!c.match(/top/i),isRight:!!c.match(/right/i),isBottom:!!c.match(/bottom/i),isLeft:!!c.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[c].element.classList.add("ag-active");var h=this.config,g=h.popup,b=h.forcePopupParentAsOffsetParent;!g&&!b&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},o.prototype.getSiblings=function(){var e=this.element,c=e.parentElement;return c?Array.prototype.slice.call(c.children).filter(function(h){return!h.classList.contains("ag-hidden")}):null},o.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],c=0,h=0,g=0;g<e.length;g++){var b=e[g],$=!!b.style.flex&&b.style.flex!=="0 0 auto";if(b!==this.element){var j=this.minHeight||0,rt=this.minWidth||0;if($){var nt=window.getComputedStyle(b);nt.minHeight&&(j=parseInt(nt.minHeight,10)),nt.minWidth&&(rt=parseInt(nt.minWidth,10))}else j=b.offsetHeight,rt=b.offsetWidth;c+=j,h+=rt}}return{height:c,width:h}},o.prototype.applySizeToSiblings=function(e){var c=null,h=this.getSiblings();if(h){for(var g=0;g<h.length;g++){var b=h[g];b!==c&&(e?b.style.height=b.offsetHeight+"px":b.style.width=b.offsetWidth+"px",b.style.flex="0 0 auto",b===this.element&&(c=h[g+1]))}c&&(c.style.removeProperty("height"),c.style.removeProperty("min-height"),c.style.removeProperty("max-height"),c.style.flex="1 1 auto")}},o.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},o.prototype.onResize=function(e){if(!(!this.isResizing||!this.currentResizer)){var c=this.config,h=c.popup,g=c.forcePopupParentAsOffsetParent,b=this.currentResizer,$=b.isTop,j=b.isRight,rt=b.isBottom,nt=b.isLeft,pt=j||nt,wt=rt||$,Dt=this.calculateMouseMovement({e,isLeft:nt,isTop:$}),Lt=Dt.movementX,it=Dt.movementY,st=this.position.x,bt=this.position.y,gt=0,Et=0;if(pt&&Lt){var ot=nt?-1:1,_t=this.getWidth(),Mt=_t+Lt*ot,Bt=!1;nt&&(gt=_t-Mt,(st+gt<=0||Mt<=this.minWidth)&&(Bt=!0,gt=0)),Bt||this.setWidth(Mt)}if(wt&&it){var ot=$?-1:1,It=this.getHeight(),jt=It+it*ot,tr=!1;$?(Et=It-jt,(bt+Et<=0||jt<=this.minHeight)&&(tr=!0,Et=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&It<jt&&this.getMinSizeOfSiblings().height+jt>this.element.parentElement.offsetHeight&&(tr=!0),tr||this.setHeight(jt)}this.updateDragStartPosition(e.clientX,e.clientY),((h||g)&&gt||Et)&&this.offsetElement(st+gt,bt+Et)}},o.prototype.onResizeEnd=function(e,c){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var h={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[c].element.classList.remove("ag-active"),this.dispatchEvent(h)},o.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},o.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},o.prototype.onMove=function(e){if(this.isMoving){var c=this.position,h=c.x,g=c.y,b;this.config.calculateTopBuffer&&(b=this.config.calculateTopBuffer());var $=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:b}),j=$.movementX,rt=$.movementY;this.offsetElement(h+j,g+rt),this.updateDragStartPosition(e.clientX,e.clientY)}},o.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},o.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},o.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element},o.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},o.prototype.destroy=function(){a.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},__decorate$16([Autowired("popupService")],o.prototype,"popupService",void 0),__decorate$16([Autowired("dragService")],o.prototype,"dragService",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1c=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$15=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AutoWidthCalculator=function(a){__extends$1c(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(c){e.centerRowContainerCtrl=c.centerRowContainerCtrl})},o.prototype.getPreferredWidthForColumn=function(e,c){var h=this.getHeaderCellForColumn(e);if(!h)return-1;var g=this.rowRenderer.getAllCellsForColumn(e);return c||g.push(h),this.addElementsToContainerAndGetWidth(g)},o.prototype.getPreferredWidthForColumnGroup=function(e){var c=this.getHeaderCellForColumn(e);return c?this.addElementsToContainerAndGetWidth([c]):-1},o.prototype.addElementsToContainerAndGetWidth=function(e){var c=this,h=document.createElement("form");h.style.position="fixed";var g=this.centerRowContainerCtrl.getContainerElement();g.appendChild(h),e.forEach(function(j){return c.cloneItemIntoDummy(j,h)});var b=h.offsetWidth;g.removeChild(h);var $=this.gridOptionsWrapper.getAutoSizePadding();return b+$},o.prototype.getHeaderCellForColumn=function(e){var c=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(h){var g=h.getHtmlElementForColumnHeader(e);g!=null&&(c=g)}),c},o.prototype.cloneItemIntoDummy=function(e,c){var h=e.cloneNode(!0);h.style.width="",h.style.position="static",h.style.left="";var g=document.createElement("div"),b=g.classList,$=["ag-header-cell","ag-header-group-cell"].some(function(wt){return h.classList.contains(wt)});$?(b.add("ag-header","ag-header-row"),g.style.position="static"):b.add("ag-row");for(var j=e.parentElement;j;){var rt=["ag-header-row","ag-row"].some(function(wt){return j.classList.contains(wt)});if(rt){for(var nt=0;nt<j.classList.length;nt++){var pt=j.classList[nt];pt!="ag-row-position-absolute"&&b.add(pt)}break}j=j.parentElement}g.appendChild(h),c.appendChild(g)},__decorate$15([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$15([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$15([Autowired("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),__decorate$15([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$15([Bean("autoWidthCalculator")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1b=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$14=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__values$1=function(a){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&a[o],c=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$b=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$9=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$b(arguments[o]));return a},StickyRowFeature=function(a){__extends$1b(o,a);function o(e,c){var h=a.call(this)||this;return h.createRowCon=e,h.destroyRowCtrls=c,h.stickyRowCtrls=[],h.containerHeight=0,h}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(c){e.gridBodyCtrl=c.gridBodyCtrl})},o.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},o.prototype.checkStickyRows=function(){var e=0;if(!this.gridOptionsWrapper.isGroupRowsSticky()){this.refreshNodesAndContainerHeight([],e);return}for(var c=[],h=this.rowRenderer.getFirstVisibleVerticalPixel(),g=function(wt){c.push(wt);for(var Dt=wt;Dt.expanded;)Dt=last(Dt.childrenAfterSort);var Lt=Dt.rowTop+Dt.rowHeight,it=h+e+wt.rowHeight;Lt<it?wt.stickyRowTop=e+(Lt-it):wt.stickyRowTop=e,e=0,c.forEach(function(st){var bt=st.stickyRowTop+st.rowHeight;e<bt&&(e=bt)})};;){var b=h+e,$=this.rowModel.getRowIndexAtPixel(b),j=this.rowModel.getRow($);if(j==null||j.level<0)break;for(var rt=[],nt=j.parent;nt.level>=0;)rt.push(nt),nt=nt.parent;var pt=rt.reverse().find(function(wt){return c.indexOf(wt)<0&&wt.displayed});if(pt){g(pt);continue}if(j.group&&j.expanded&&!j.footer&&j.rowTop<b){g(j);continue}break}this.refreshNodesAndContainerHeight(c,e)},o.prototype.refreshNodesAndContainerHeight=function(e,c){var h,g,b,$=this,j=this.stickyRowCtrls.filter(function(it){return e.indexOf(it.getRowNode())===-1}),rt=e.filter(function(it){return $.stickyRowCtrls.findIndex(function(st){return st.getRowNode()===it})===-1}),nt={};j.forEach(function(it){nt[it.getRowNode().id]=it,$.stickyRowCtrls=$.stickyRowCtrls.filter(function(st){return st!==it})});try{for(var pt=__values$1(Object.values(nt)),wt=pt.next();!wt.done;wt=pt.next()){var Dt=wt.value;Dt.getRowNode().sticky=!1}}catch(it){h={error:it}}finally{try{wt&&!wt.done&&(g=pt.return)&&g.call(pt)}finally{if(h)throw h.error}}this.destroyRowCtrls(nt,!1);var Lt=rt.map(function(it){return it.sticky=!0,$.createRowCon(it,!1,!1)});(b=this.stickyRowCtrls).push.apply(b,__spread$9(Lt)),this.stickyRowCtrls.forEach(function(it){return it.setRowTop(it.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(it,st){return st.getRowNode().rowIndex-it.getRowNode().rowIndex}),this.containerHeight!==c&&(this.containerHeight=c,this.gridBodyCtrl.setStickyTopHeight(c))},__decorate$14([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$14([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$14([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$14([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1a=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$13=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$a=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$8=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$a(arguments[o]));return a},RowRenderer=function(a){__extends$1a(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},o.prototype.initialise=function(){this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.gridOptionsWrapper.isGroupRowsSticky()&&(this.rowModel.getType()!=Constants.ROW_MODEL_TYPE_CLIENT_SIDE?doOnce(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsWrapper.isTreeData()?doOnce(function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")},"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new StickyRowFeature(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},o.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var e=this.gridOptionsWrapper.getKeepDetailRowsCount(),c=e??3;this.cachedRowCtrls=new RowCtrlCache(c)}},o.prototype.getRowCtrls=function(){return this.allRowCtrls},o.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},o.prototype.updateAllRowCtrls=function(){var e=getAllValuesInObject(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&e.sort(function(g,b){return g.getRowNode().rowIndex-b.getRowNode.rowIndex});var c=getAllValuesInObject(this.zombieRowCtrls),h=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=__spread$8(e,c,h)},o.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_CELL_FOCUSED,function(h){e.getAllCellCtrls().forEach(function(g){return g.onCellFocused(h)}),e.getFullWidthRowCtrls().forEach(function(g){g.onFullWidthRowFocused(h)})}),this.addManagedListener(this.eventService,Events.EVENT_FLASH_CELLS,function(h){e.getAllCellCtrls().forEach(function(g){return g.onFlashCells(h)})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(h){return h.onColumnHover()})}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(h){return h.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(h){return h.onLeftChanged()})});var c=this.gridOptionsWrapper.isEnableRangeSelection();c&&(this.addManagedListener(this.eventService,Events.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(h){return h.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(h){return h.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(h){return h.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(h){return h.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},o.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},o.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var c=this.columnModel.getAllGridColumns();c&&c.forEach(function(h){var g=function(pt){e.getAllCellCtrls().forEach(function(wt){wt.getColumn()===h&&pt(wt)})},b=function(){g(function(pt){return pt.onLeftChanged()})},$=function(){g(function(pt){return pt.onWidthChanged()})},j=function(){g(function(pt){return pt.onFirstRightPinnedChanged()})},rt=function(){g(function(pt){return pt.onLastLeftPinnedChanged()})},nt=function(){g(function(pt){return pt.onColDefChanged()})};h.addEventListener(Column.EVENT_LEFT_CHANGED,b),h.addEventListener(Column.EVENT_WIDTH_CHANGED,$),h.addEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,j),h.addEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED,rt),h.addEventListener(Column.EVENT_COL_DEF_CHANGED,nt),e.destroyFuncsForColumnListeners.push(function(){h.removeEventListener(Column.EVENT_LEFT_CHANGED,b),h.removeEventListener(Column.EVENT_WIDTH_CHANGED,$),h.removeEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,j),h.removeEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED,rt),h.removeEventListener(Column.EVENT_COL_DEF_CHANGED,nt)})})},o.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,c=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),h=c!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=c,h&&this.redrawAfterModelUpdate()},o.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},o.prototype.onPageLoaded=function(e){var c={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(c)},o.prototype.getAllCellsForColumn=function(e){var c=[];return this.getAllRowCtrls().forEach(function(h){var g=h.getCellElement(e);g&&c.push(g)}),c},o.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},o.prototype.getTopRowCtrls=function(){return this.topRowCtrls},o.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},o.prototype.refreshFloatingRows=function(e,c){var h=this;e.forEach(function(g){g.destroyFirstPass(),g.destroySecondPass()}),e.length=0,c&&c.forEach(function(g){var b=new RowCtrl(g,h.beans,!1,!1,h.printLayout);e.push(b)})},o.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},o.prototype.getRenderedIndexesForRowNodes=function(e){var c=[];return missing(e)||iterateObject(this.rowCtrlsByRowIndex,function(h,g){var b=g.getRowNode();e.indexOf(b)>=0&&c.push(h)}),c},o.prototype.redrawRows=function(e){var c=e!=null&&e.length>0;if(c){var h=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(h)}this.redrawAfterModelUpdate({recycleRows:c})},o.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var c,h=!((c=e)===null||c===void 0)&&c.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(h==null)return null;var g=this.gridOptionsWrapper.getDocument(),b=g.activeElement,$=this.gridOptionsWrapper.getDomData(b,CellCtrl.DOM_DATA_KEY_CELL_CTRL),j=this.gridOptionsWrapper.getDomData(b,RowCtrl.DOM_DATA_KEY_ROW_CTRL),rt=$||j;return rt?h:null},o.prototype.redrawAfterModelUpdate=function(e){e===void 0&&(e={}),this.getLockOnRefresh();var c=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var h=!this.printLayout&&!!e.recycleRows,g=e.animate&&this.gridOptionsWrapper.isAnimateRows(),b=h?this.recycleRows():null;h||this.removeAllRowComps();var $=function(){if(c==null||b==null)return!1;var rt=!1;return iterateObject(b,function(nt,pt){var wt=pt.getRowNode(),Dt=wt.rowIndex==c.rowIndex,Lt=wt.rowPinned==c.rowPinned;Dt&&Lt&&(rt=!0)}),rt},j=$();this.redraw(b,g),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),j||this.restoreFocusedCell(c),this.releaseLockOnRefresh()},o.prototype.scrollToTopIfNewData=function(e){var c=e.newData||e.newPage,h=this.gridOptionsWrapper.isSuppressScrollOnNewData();c&&!h&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},o.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)},o.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},o.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},o.prototype.isRefreshInProgress=function(){return this.refreshInProgress},o.prototype.restoreFocusedCell=function(e){e&&this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},o.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.getAllRowCtrls().forEach(function(c){c.stopEditing(e)})},o.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach(function(c){return e=e.concat(c.getAllCellCtrls())}),e},o.prototype.getAllRowCtrls=function(){var e=this,c=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],h=__spread$8(this.topRowCtrls,this.bottomRowCtrls,c);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(g){return h.push(e.rowCtrlsByRowIndex[g])}),h},o.prototype.addRenderedRowListener=function(e,c,h){var g=this.rowCtrlsByRowIndex[c];g&&g.addEventListener(e,h)},o.prototype.flashCells=function(e){e===void 0&&(e={});var c=e.flashDelay,h=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(g){return g.flashCell({flashDelay:c,fadeDelay:h})})},o.prototype.refreshCells=function(e){e===void 0&&(e={});var c={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(h){if(h.refreshShouldDestroy()){var g=h.getRowCtrl();g&&g.refreshCell(h)}else h.refreshCell(c)}),this.getFullWidthRowCtrls(e.rowNodes).forEach(function(h){h.refreshFullWidth()})},o.prototype.getCellRendererInstances=function(e){var c=this.getCellCtrls(e.rowNodes,e.columns).map(function(h){return h.getCellRenderer()}).filter(function(h){return h!=null});return c},o.prototype.getCellEditorInstances=function(e){var c=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(h){var g=h.getCellEditor();g&&c.push(g)}),c},o.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(c){if(c.isEditing()){var h=c.getCellPosition();e.push(h)}}),e},o.prototype.mapRowNodes=function(e){if(e){var c={top:{},bottom:{},normal:{}};return e.forEach(function(h){var g=h.id;h.rowPinned===Constants.PINNED_TOP?c.top[g]=h:h.rowPinned===Constants.PINNED_BOTTOM?c.bottom[g]=h:c.normal[g]=h}),c}},o.prototype.isRowInMap=function(e,c){var h=e.id,g=e.rowPinned;return g===Constants.PINNED_BOTTOM?c.bottom[h]!=null:g===Constants.PINNED_TOP?c.top[h]!=null:c.normal[h]!=null},o.prototype.getCellCtrls=function(e,c){var h=this,g=this.mapRowNodes(e),b=[],$;exists(c)&&($={},c.forEach(function(rt){var nt=h.columnModel.getGridColumn(rt);exists(nt)&&($[nt.getId()]=!0)}));var j=function(rt){var nt=rt.getRowNode();g!=null&&!h.isRowInMap(nt,g)||rt.getAllCellCtrls().forEach(function(pt){var wt=pt.getColumn().getId(),Dt=$&&!$[wt];Dt||b.push(pt)})};return iterateObject(this.rowCtrlsByRowIndex,function(rt,nt){j(nt)}),this.topRowCtrls&&this.topRowCtrls.forEach(j),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(j),b},o.prototype.destroy=function(){this.removeAllRowComps(),a.prototype.destroy.call(this)},o.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},o.prototype.recycleRows=function(){var e=[];iterateObject(this.rowCtrlsByRowIndex,function(h,g){var b=g.getRowNode().id==null;b&&e.push(h)}),this.removeRowCtrls(e);var c={};return iterateObject(this.rowCtrlsByRowIndex,function(h,g){var b=g.getRowNode();c[b.id]=g}),this.rowCtrlsByRowIndex={},c},o.prototype.removeRowCtrls=function(e){var c=this;e.forEach(function(h){var g=c.rowCtrlsByRowIndex[h];g&&(g.destroyFirstPass(),g.destroySecondPass()),delete c.rowCtrlsByRowIndex[h]})},o.prototype.redrawAfterScroll=function(){var e;if(this.stickyRowFeature&&browserSupportsPreventScroll()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),e!=null){var c=this.getCellToRestoreFocusToAfterRefresh();e!=null&&c==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}},o.prototype.removeRowCompsNotToDraw=function(e){var c={};e.forEach(function(b){return c[b]=!0});var h=Object.keys(this.rowCtrlsByRowIndex),g=h.filter(function(b){return!c[b]});this.removeRowCtrls(g)},o.prototype.calculateIndexesToDraw=function(e){var c=this,h=createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow),g=function(b,$){var j=$.getRowNode().rowIndex;j!=null&&(j<c.firstRenderedRow||j>c.lastRenderedRow)&&c.doNotUnVirtualiseRow($)&&h.push(j)};return iterateObject(this.rowCtrlsByRowIndex,g),iterateObject(e,g),h.sort(function(b,$){return b-$}),h=h.filter(function(b){var $=c.paginationProxy.getRow(b);return $&&!$.sticky}),h},o.prototype.redraw=function(e,c,h){var g=this;c===void 0&&(c=!1),h===void 0&&(h=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var b=this.calculateIndexesToDraw(e);if(this.removeRowCompsNotToDraw(b),this.printLayout&&(c=!1),b.forEach(function(j){var rt=g.createOrUpdateRowCtrl(j,e,c,h);exists(rt)}),e){var $=h&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout;$?this.beans.animationFrameService.addDestroyTask(function(){g.destroyRowCtrls(e,c),g.updateAllRowCtrls(),g.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,c)}this.updateAllRowCtrls()},o.prototype.dispatchDisplayedRowsChanged=function(){var e={type:Events.EVENT_DISPLAYED_ROWS_CHANGED};this.eventService.dispatchEvent(e)},o.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),c=this.columnModel.isPinningRight(),h=this.pinningLeft!==e||c!==this.pinningRight;h&&(this.pinningLeft=e,this.pinningRight=c,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},o.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(c){var h=c.getRowNode().rowIndex;e.push(h.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},o.prototype.getFullWidthRowCtrls=function(e){var c=this,h=this.mapRowNodes(e);return getAllValuesInObject(this.rowCtrlsByRowIndex).filter(function(g){if(!g.isFullWidth())return!1;var b=g.getRowNode();return!(h!=null&&!c.isRowInMap(b,h))})},o.prototype.refreshFullWidthRows=function(e){var c=[],h=!!e,g=h?{}:void 0;h&&g&&e.forEach(function(b){return g[b.id]=!0}),this.getFullWidthRowCtrls().forEach(function(b){var $=b.getRowNode();if(h&&g){var j=$.level>0&&$.parent?$.parent.id:void 0,rt=!g[$.id]&&!g[j];if(rt)return}var nt=b.refreshFullWidth();if(!nt){var pt=b.getRowNode().rowIndex;c.push(pt.toString())}}),this.removeRowCtrls(c),this.redrawAfterScroll()},o.prototype.createOrUpdateRowCtrl=function(e,c,h,g){var b,$=this.rowCtrlsByRowIndex[e];$||(b=this.paginationProxy.getRow(e),exists(b)&&exists(c)&&c[b.id]&&b.alreadyRendered&&($=c[b.id],c[b.id]=null));var j=!$;if(j)if(b||(b=this.paginationProxy.getRow(e)),exists(b))$=this.createRowCon(b,h,g);else return;return b&&(b.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=$,$},o.prototype.destroyRowCtrls=function(e,c){var h=this,g=[];iterateObject(e,function(b,$){if($){if(h.cachedRowCtrls&&$.isCacheable()){h.cachedRowCtrls.addRow($);return}$.destroyFirstPass(),c?(h.zombieRowCtrls[$.getInstanceId()]=$,g.push(function(){$.destroySecondPass(),delete h.zombieRowCtrls[$.getInstanceId()]})):$.destroySecondPass()}}),c&&(g.push(function(){h.updateAllRowCtrls(),h.dispatchDisplayedRowsChanged()}),executeInAWhile(g))},o.prototype.workOutFirstAndLastRowsToRender=function(){var e,c;if(!this.paginationProxy.isRowsToRender())e=0,c=-1;else if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),c=this.paginationProxy.getPageLastRow();else{var h=this.gridOptionsWrapper.getRowBufferInPixels(),g=this.ctrlsService.getGridBodyCtrl(),b=this.gridOptionsWrapper.isSuppressRowVirtualisation(),$=!1,j=void 0,rt=void 0;do{var nt=this.paginationProxy.getPixelOffset(),pt=this.paginationProxy.getCurrentPagePixelRange(),wt=pt.pageFirstPixel,Dt=pt.pageLastPixel,Lt=this.rowContainerHeightService.getDivStretchOffset(),it=g.getScrollFeature().getVScrollPosition(),st=it.top,bt=it.bottom;b?(j=wt+Lt,rt=Dt+Lt):(j=Math.max(st+nt-h,wt)+Lt,rt=Math.min(bt+nt+h,Dt)+Lt),this.firstVisibleVPixel=Math.max(st+nt,wt)+Lt,$=this.ensureAllRowsInRangeHaveHeightsCalculated(j,rt)}while($);var gt=this.paginationProxy.getRowIndexAtPixel(j),Et=this.paginationProxy.getRowIndexAtPixel(rt),ot=this.paginationProxy.getPageFirstRow(),_t=this.paginationProxy.getPageLastRow();gt<ot&&(gt=ot),Et>_t&&(Et=_t),e=gt,c=Et}var Mt=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,Bt=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),It=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);Mt&&!Bt&&c-e>It&&(c=e+It);var jt=e!==this.firstRenderedRow,tr=c!==this.lastRenderedRow;if(jt||tr){this.firstRenderedRow=e,this.lastRenderedRow=c;var gr={type:Events.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:c};this.eventService.dispatchEvent(gr)}},o.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var c={type:Events.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(c)})}},o.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,c){var h=this.paginationProxy.ensureRowHeightsValid(e,c,-1,-1);return h&&this.updateContainerHeights(),h},o.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},o.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},o.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},o.prototype.doNotUnVirtualiseRow=function(e){var c=!1,h=!0,g=e.getRowNode(),b=this.focusService.isRowNodeFocused(g),$=e.isEditing(),j=g.detail,rt=b||$||j;if(!rt)return c;var nt=this.paginationProxy.isRowPresent(g);return nt?h:c},o.prototype.createRowCon=function(e,c,h){var g=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(g)return g;var b=this.gridOptionsWrapper.isSuppressAnimationFrame(),$=h&&!b&&!this.printLayout,j=new RowCtrl(e,this.beans,c,$,this.printLayout);return j},o.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(c){return e[c].getRowNode()})},o.prototype.getRowByPosition=function(e){var c,h=e.rowIndex;switch(e.rowPinned){case Constants.PINNED_TOP:c=this.topRowCtrls[h];break;case Constants.PINNED_BOTTOM:c=this.bottomRowCtrls[h];break;default:c=this.rowCtrlsByRowIndex[h],c||(c=this.getStickyTopRowCtrls().find(function(g){return g.getRowNode().rowIndex===h})||null);break}return c},o.prototype.getRowNode=function(e){switch(e.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},o.prototype.isRangeInRenderedViewport=function(e,c){var h=e==null||c==null;if(h)return!1;var g=e>this.lastRenderedRow,b=c<this.firstRenderedRow,$=!b&&!g;return $},__decorate$13([Autowired("animationFrameService")],o.prototype,"animationFrameService",void 0),__decorate$13([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),__decorate$13([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$13([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate$13([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$13([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$13([Autowired("beans")],o.prototype,"beans",void 0),__decorate$13([Autowired("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),__decorate$13([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$13([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$13([Bean("rowRenderer")],o),o}(BeanStub),RowCtrlCache=function(){function a(o){this.entriesMap={},this.entriesList=[],this.maxCount=o}return a.prototype.addRow=function(o){if(this.entriesMap[o.getRowNode().id]=o,this.entriesList.push(o),o.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},a.prototype.getRow=function(o){if(o==null||o.id==null)return null;var e=this.entriesMap[o.id];if(!e)return null;this.removeFromCache(e),e.setCached(!1);var c=e.getRowNode()!=o;return c?null:e},a.prototype.removeFromCache=function(o){var e=o.getRowNode().id;delete this.entriesMap[e],removeFromArray(this.entriesList,o)},a.prototype.getEntries=function(){return this.entriesList},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$19=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$12=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ValueFormatterService=function(a){__extends$19(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.formatValue=function(e,c,h,g,b){b===void 0&&(b=!0);var $=null,j,rt=e.getColDef();if(g?j=g:b&&(j=c&&c.rowPinned&&rt.pinnedRowValueFormatter?rt.pinnedRowValueFormatter:rt.valueFormatter),j){var nt={value:h,node:c,data:c?c.data:null,colDef:rt,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};$=this.expressionService.evaluate(j,nt)}else if(rt.refData)return rt.refData[h]||"";return $==null&&Array.isArray(h)&&($=h.join(", ")),$},__decorate$12([Autowired("expressionService")],o.prototype,"expressionService",void 0),o=__decorate$12([Bean("valueFormatterService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$18=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$11=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},PinnedRowModel=function(a){__extends$18(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},o.prototype.isEmpty=function(e){var c=e===Constants.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;return missingOrEmpty(c)},o.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},o.prototype.getRowAtPixel=function(e,c){var h=c===Constants.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(missingOrEmpty(h))return 0;for(var g=0;g<h.length;g++){var b=h[g],$=b.rowTop+b.rowHeight-1;if($>=e)return g}return h.length-1},o.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0);var c={type:Events.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(c)},o.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);var c={type:Events.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(c)},o.prototype.createNodesFromData=function(e,c){var h=this,g=[];if(e){var b=0;e.forEach(function($,j){var rt=new RowNode(h.beans);rt.data=$;var nt=c?RowNode.ID_PREFIX_TOP_PINNED:RowNode.ID_PREFIX_BOTTOM_PINNED;rt.id=nt+j,rt.rowPinned=c?Constants.PINNED_TOP:Constants.PINNED_BOTTOM,rt.setRowTop(b),rt.setRowHeight(h.gridOptionsWrapper.getRowHeightForNode(rt).height),rt.setRowIndex(j),b+=rt.rowHeight,g.push(rt)})}return g},o.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},o.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},o.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},o.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},o.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},o.prototype.forEachPinnedTopRow=function(e){missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},o.prototype.forEachPinnedBottomRow=function(e){missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},o.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},o.prototype.getTotalHeight=function(e){if(!e||e.length===0)return 0;var c=last(e);return c.rowTop+c.rowHeight},__decorate$11([Autowired("beans")],o.prototype,"beans",void 0),__decorate$11([PostConstruct],o.prototype,"init",null),o=__decorate$11([Bean("pinnedRowModel")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ServerSideTransactionResultStatus;(function(a){a.Applied="Applied",a.StoreNotFound="StoreNotFound",a.StoreLoading="StoreLoading",a.StoreWaitingToLoad="StoreWaitingToLoad",a.StoreLoadingFailed="StoreLoadingFailed",a.StoreWrongType="StoreWrongType",a.Cancelled="Cancelled"})(ServerSideTransactionResultStatus||(ServerSideTransactionResultStatus={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ChangedPath=function(){function a(o,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=o,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return a.prototype.setInactive=function(){this.active=!1},a.prototype.isActive=function(){return this.active},a.prototype.depthFirstSearchChangedPath=function(o,e){if(o.children)for(var c=0;c<o.children.length;c++)this.depthFirstSearchChangedPath(o.children[c],e);e(o.rowNode)},a.prototype.depthFirstSearchEverything=function(o,e,c){if(o.childrenAfterGroup)for(var h=0;h<o.childrenAfterGroup.length;h++){var g=o.childrenAfterGroup[h];g.childrenAfterGroup?this.depthFirstSearchEverything(o.childrenAfterGroup[h],e,c):c&&e(g)}e(o)},a.prototype.forEachChangedNodeDepthFirst=function(o,e,c){e===void 0&&(e=!1),c===void 0&&(c=!1),this.active&&!c?this.depthFirstSearchChangedPath(this.pathRoot,o):this.depthFirstSearchEverything(this.pathRoot.rowNode,o,e)},a.prototype.executeFromRootNode=function(o){o(this.pathRoot.rowNode)},a.prototype.createPathItems=function(o){for(var e=o,c=0;!this.mapToItems[e.id];){var h={rowNode:e,children:null};this.mapToItems[e.id]=h,c++,e=e.parent}return c},a.prototype.populateColumnsMap=function(o,e){var c=this;if(!(!this.keepingColumns||!e))for(var h=o;h;)this.nodeIdsToColumns[h.id]||(this.nodeIdsToColumns[h.id]={}),e.forEach(function(g){return c.nodeIdsToColumns[h.id][g.getId()]=!0}),h=h.parent},a.prototype.linkPathItems=function(o,e){for(var c=o,h=0;h<e;h++){var g=this.mapToItems[c.id],b=this.mapToItems[c.parent.id];b.children||(b.children=[]),b.children.push(g),c=c.parent}},a.prototype.addParentNode=function(o,e){if(!(!o||o.isRowPinned())){var c=this.createPathItems(o);this.linkPathItems(o,c),this.populateColumnsMap(o,e)}},a.prototype.canSkip=function(o){return this.active&&!this.mapToItems[o.id]},a.prototype.getValueColumnsForNode=function(o,e){if(!this.keepingColumns)return e;var c=this.nodeIdsToColumns[o.id],h=e.filter(function(g){return c[g.getId()]});return h},a.prototype.getNotValueColumnsForNode=function(o,e){if(!this.keepingColumns)return null;var c=this.nodeIdsToColumns[o.id],h=e.filter(function(g){return!c[g.getId()]});return h},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$17=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),RowNodeBlock=function(a){__extends$17(o,a);function o(e){var c=a.call(this)||this;return c.state=o.STATE_WAITING_TO_LOAD,c.version=0,c.id=e,c}return o.prototype.getId=function(){return this.id},o.prototype.load=function(){this.state=o.STATE_LOADING,this.loadFromDatasource()},o.prototype.getVersion=function(){return this.version},o.prototype.setStateWaitingToLoad=function(){this.version++,this.state=o.STATE_WAITING_TO_LOAD},o.prototype.getState=function(){return this.state},o.prototype.pageLoadFailed=function(e){var c=this.isRequestMostRecentAndLive(e);c&&(this.state=o.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},o.prototype.success=function(e,c){this.successCommon(e,c)},o.prototype.pageLoaded=function(e,c,h){this.successCommon(e,{rowData:c,rowCount:h})},o.prototype.isRequestMostRecentAndLive=function(e){var c=e===this.version,h=this.isAlive();return c&&h},o.prototype.successCommon=function(e,c){this.dispatchLoadCompleted();var h=this.isRequestMostRecentAndLive(e);h&&(this.state=o.STATE_LOADED,this.processServerResult(c))},o.prototype.dispatchLoadCompleted=function(e){e===void 0&&(e=!0);var c={type:o.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(c)},o.EVENT_LOAD_COMPLETE="loadComplete",o.STATE_WAITING_TO_LOAD="needsLoading",o.STATE_LOADING="loading",o.STATE_LOADED="loaded",o.STATE_FAILED="failed",o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$16=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$10=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$6=function(a,o){return function(e,c){o(e,c,a)}},RowNodeBlockLoader=function(a){__extends$16(o,a);function o(){var c=a!==null&&a.apply(this,arguments)||this;return c.activeBlockLoadsCount=0,c.blocks=[],c.active=!0,c}e=o,o.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var c=this.gridOptionsWrapper.getBlockLoadDebounceMillis();c&&c>0&&(this.checkBlockToLoadDebounce=_.debounce(this.performCheckBlocksToLoad.bind(this),c))},o.prototype.setBeans=function(c){this.logger=c.create("RowNodeBlockLoader")},o.prototype.addBlock=function(c){this.blocks.push(c),c.addEventListener(RowNodeBlock.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},o.prototype.removeBlock=function(c){_.removeFromArray(this.blocks,c)},o.prototype.destroy=function(){a.prototype.destroy.call(this),this.active=!1},o.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},o.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},o.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var c=this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0,h=this.blocks.filter(function(g){return g.getState()===RowNodeBlock.STATE_WAITING_TO_LOAD}).slice(0,c);this.activeBlockLoadsCount+=h.length,h.forEach(function(g){return g.load()}),this.printCacheStatus()}},o.prototype.getBlockState=function(){var c={};return this.blocks.forEach(function(h){var g=h.getBlockStateJson(),b=g.id,$=g.state;c[b]=$}),c},o.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+","+(" blocks = "+JSON.stringify(this.getBlockState())))},o.prototype.isLoading=function(){return this.activeBlockLoadsCount>0};var e;return o.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",__decorate$10([PostConstruct],o.prototype,"postConstruct",null),__decorate$10([__param$6(0,Qualifier("loggerFactory"))],o.prototype,"setBeans",null),o=e=__decorate$10([Bean("rowNodeBlockLoader")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$15=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$$=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},PaginationProxy=function(a){__extends$15(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return o.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},o.prototype.ensureRowHeightsValid=function(e,c,h,g){var b=this.rowModel.ensureRowHeightsValid(e,c,this.getPageFirstRow(),this.getPageLastRow());return b&&this.calculatePages(),b},o.prototype.onModelUpdated=function(e){this.calculatePages();var c={type:Events.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(c)},o.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var e={type:Events.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},o.prototype.goToPage=function(e){if(!(!this.active||this.currentPage===e)){this.currentPage=e;var c={type:Events.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(c)}},o.prototype.getPixelOffset=function(){return this.pixelOffset},o.prototype.getRow=function(e){return this.rowModel.getRow(e)},o.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},o.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},o.prototype.getCurrentPageHeight=function(){return missing(this.topRowBounds)||missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},o.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,c=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:c}},o.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var c=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return c},o.prototype.isEmpty=function(){return this.rowModel.isEmpty()},o.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},o.prototype.getNodesInRangeForSelection=function(e,c){return this.rowModel.getNodesInRangeForSelection(e,c)},o.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},o.prototype.getType=function(){return this.rowModel.getType()},o.prototype.getRowBounds=function(e){var c=this.rowModel.getRowBounds(e);return c.rowIndex=e,c},o.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},o.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},o.prototype.getRowCount=function(){return this.rowModel.getRowCount()},o.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},o.prototype.goToPageWithIndex=function(e){if(this.active){var c=this.getPageForIndex(e);this.goToPage(c)}},o.prototype.isRowInPage=function(e){if(!this.active)return!0;var c=this.getPageForIndex(e.rowIndex);return c===this.currentPage},o.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},o.prototype.getCurrentPage=function(){return this.currentPage},o.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},o.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},o.prototype.goToFirstPage=function(){this.goToPage(0)},o.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),c=Math.floor(e/this.pageSize);this.goToPage(c)},o.prototype.getPageSize=function(){return this.pageSize},o.prototype.getTotalPages=function(){return this.totalPages},o.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)},o.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(exists(this.topRowBounds)?this.topRowBounds.rowTop:0)},o.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},o.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},o.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var c=this.pageSize*this.currentPage,h=this.pageSize*(this.currentPage+1)-1;if(h>e&&(h=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(c),h===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var g=this.rowModel.getTopLevelRowDisplayedIndex(h+1);this.bottomDisplayedRowIndex=g-1}},o.prototype.getMasterRowCount=function(){return this.masterRowCount},o.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)},o.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},__decorate$$([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$$([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$$([Bean("paginationProxy")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$14=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$_=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},StylingService=function(a){__extends$14(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.processAllCellClasses=function(e,c,h,g){this.processClassRules(e.cellClassRules,c,h,g),this.processStaticCellClasses(e,c,h)},o.prototype.processClassRules=function(e,c,h,g){if(e!=null){for(var b=Object.keys(e),$={},j={},rt=function(wt){var Dt=b[wt],Lt=e[Dt],it;typeof Lt=="string"?it=nt.expressionService.evaluate(Lt,c):typeof Lt=="function"&&(it=Lt(c)),Dt.split(" ").forEach(function(st){st==null||st.trim()==""||(it?$[st]=!0:j[st]=!0)})},nt=this,pt=0;pt<b.length;pt++)rt(pt);g&&Object.keys(j).forEach(g),Object.keys($).forEach(h)}},o.prototype.getStaticCellClasses=function(e,c){var h=e.cellClass;if(!h)return[];var g;if(typeof h=="function"){var b=h;g=b(c)}else g=h;return typeof g=="string"&&(g=[g]),g||[]},o.prototype.processStaticCellClasses=function(e,c,h){var g=this.getStaticCellClasses(e,c);g.forEach(function(b){h(b)})},__decorate$_([Autowired("expressionService")],o.prototype,"expressionService",void 0),o=__decorate$_([Bean("stylingService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$13=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgRadioButton=function(a){__extends$13(o,a);function o(e){return a.call(this,e,"ag-radio-button","radio")||this}return o.prototype.isSelected=function(){return this.eInput.checked},o.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},o.prototype.addInputListeners=function(){a.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Events.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},o.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},o}(AgCheckbox);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$12=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgToggleButton=function(a){__extends$12(o,a);function o(e){return a.call(this,e,"ag-toggle-button")||this}return o.prototype.setValue=function(e,c){return a.prototype.setValue.call(this,e,c),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},o}(AgCheckbox);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$11=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgInputTextField=function(a){__extends$11(o,a);function o(e,c,h){return c===void 0&&(c="ag-text-field"),h===void 0&&(h="text"),a.call(this,e,c,h)||this}return o.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},o.prototype.setValue=function(e,c){var h=a.prototype.setValue.call(this,e,c);return this.eInput.value!==e&&(this.eInput.value=exists(e)?e:""),h},o.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]"),c=function(h){h.key&&!e.test(h.key)&&h.preventDefault()};this.addManagedListener(this.eInput,"keypress",c),this.addManagedListener(this.eInput,"paste",function(h){var g,b=(g=h.clipboardData)===null||g===void 0?void 0:g.getData("text");b&&b.split("").some(function($){return!e.test($)})&&h.preventDefault()})},o}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$10=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgInputTextArea=function(a){__extends$10(o,a);function o(e){return a.call(this,e,"ag-text-area",null,"textarea")||this}return o.prototype.setValue=function(e,c){var h=a.prototype.setValue.call(this,e,c);return this.eInput.value=e,h},o.prototype.setCols=function(e){return this.eInput.cols=e,this},o.prototype.setRows=function(e){return this.eInput.rows=e,this},o}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$$=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgInputNumberField=function(a){__extends$$(o,a);function o(e){return a.call(this,e,"ag-number-field","number")||this}return o.prototype.postConstruct=function(){var e=this;a.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var c=parseFloat(e.eInput.value),h=isNaN(c)?"":e.normalizeValue(c.toString());e.value!==h&&e.setValue(h)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},o.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},o.prototype.normalizeValue=function(e){if(e==="")return"";this.precision&&(e=this.adjustPrecision(e));var c=parseFloat(e);return this.min!=null&&c<this.min?e=this.min.toString():this.max!=null&&c>this.max&&(e=this.max.toString()),e},o.prototype.adjustPrecision=function(e){if(this.precision){var c=parseFloat(e).toFixed(this.precision);e=parseFloat(c).toString()}return e},o.prototype.setMin=function(e){return this.min===e?this:(this.min=e,addOrRemoveAttribute(this.eInput,"min",e),this)},o.prototype.setMax=function(e){return this.max===e?this:(this.max=e,addOrRemoveAttribute(this.eInput,"max",e),this)},o.prototype.setPrecision=function(e){return this.precision=e,this},o.prototype.setStep=function(e){return this.step===e?this:(this.step=e,addOrRemoveAttribute(this.eInput,"step",e),this)},o.prototype.setValue=function(e,c){e=this.adjustPrecision(e);var h=this.normalizeValue(e);return e!=h?this:a.prototype.setValue.call(this,e,c)},o}(AgInputTextField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$_=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgInputRange=function(a){__extends$_(o,a);function o(e){return a.call(this,e,"ag-range-field","range")||this}return o.prototype.postConstruct=function(){a.prototype.postConstruct.call(this);var e=this.config,c=e.min,h=e.max,g=e.step;c!=null&&this.setMinValue(c),h!=null&&this.setMaxValue(h),this.setStep(g||1)},o.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(c){var h=c.target.value;e.setValue(h)})},o.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},o.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},o.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},o.prototype.setValue=function(e,c){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());var h=a.prototype.setValue.call(this,e,c);return this.eInput.value=e,h},o}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$Z=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$Z=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgSlider=function(a){__extends$Z(o,a);function o(e){var c=a.call(this,e,o.TEMPLATE)||this;return c.labelAlignment="top",c}return o.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},o.prototype.onValueChange=function(e){var c=this,h=AgAbstractField.EVENT_CHANGED;return this.addManagedListener(this.eText,h,function(){var g=parseFloat(c.eText.getValue());c.eSlider.setValue(g.toString(),!0),e(g||0)}),this.addManagedListener(this.eSlider,h,function(){var g=c.eSlider.getValue();c.eText.setValue(g,!0),e(parseFloat(g))}),this},o.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},o.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},o.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},o.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},o.prototype.getValue=function(){return this.eText.getValue()},o.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED}),this)},o.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},o.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,__decorate$Z([RefSelector("eLabel")],o.prototype,"eLabel",void 0),__decorate$Z([RefSelector("eSlider")],o.prototype,"eSlider",void 0),__decorate$Z([RefSelector("eText")],o.prototype,"eText",void 0),__decorate$Z([PostConstruct],o.prototype,"init",null),o}(AgAbstractLabel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$Y=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$Y=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgAngleSelect=function(a){__extends$Y(o,a);function o(e){var c=a.call(this,e,o.TEMPLATE)||this;return c.radius=0,c.offsetX=0,c.offsetY=0,c}return o.prototype.postConstruct=function(){var e=this;a.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(c){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(c){return e.calculateAngleDrag(c)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(c){(c==null||c==="")&&(c="0"),c=e.eAngleValue.normalizeValue(c);var h=parseFloat(c);h>180&&(h=h-360),e.setValue(h)}),this.updateNumberInput(),exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,AgAbstractField.EVENT_CHANGED,function(){var c=e.gridOptionsWrapper.getDocument();e.eAngleValue.getInputElement().contains(c.activeElement)||e.updateNumberInput()})},o.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},o.prototype.positionChildCircle=function(e){var c=this.parentCircleRect||{width:24,height:24},h=this.eChildCircle,g=c.width/2,b=c.height/2;h.style.left=g+Math.cos(e)*8+"px",h.style.top=b+Math.sin(e)*8+"px"},o.prototype.calculatePolar=function(){var e=this.offsetX,c=this.offsetY,h=Math.atan2(c,e);this.degrees=this.toDegrees(h),this.radius=Math.sqrt(e*e+c*c),this.positionChildCircle(h)},o.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),c=this.getRadius();this.setOffsetX(Math.cos(e)*c).setOffsetY(Math.sin(e)*c)},o.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},o.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},o.prototype.calculateAngleDrag=function(e){var c=this.parentCircleRect,h=c.width/2,g=c.height/2,b=e.clientX-c.left,$=e.clientY-c.top,j=b-h,rt=$-g,nt=Math.atan2(rt,j);this.setValue(nt,!0)},o.prototype.toDegrees=function(e){return e/Math.PI*180},o.prototype.toRadians=function(e){return e/180*Math.PI},o.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},o.prototype.normalizeAngle180=function(e){return e%=Math.PI*2,e<-Math.PI?e+=Math.PI*2:e>=Math.PI&&(e-=Math.PI*2),e},o.prototype.getRadius=function(){return this.radius},o.prototype.setRadius=function(e){return this.radius===e?this:(this.radius=e,this.calculateCartesian(),this)},o.prototype.onValueChange=function(e){var c=this;return this.addManagedListener(this,AgAbstractField.EVENT_CHANGED,function(){e(c.degrees)}),this},o.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},o.prototype.setValue=function(e,c){var h;return c?h=e:h=this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(h),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(h),this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED})),this},o.prototype.setWidth=function(e){return setFixedWidth(this.getGui(),e),this},o.prototype.setDisabled=function(e){return a.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},o.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),a.prototype.destroy.call(this)},o.TEMPLATE=`<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,__decorate$Y([RefSelector("eLabel")],o.prototype,"eLabel",void 0),__decorate$Y([RefSelector("eParentCircle")],o.prototype,"eParentCircle",void 0),__decorate$Y([RefSelector("eChildCircle")],o.prototype,"eChildCircle",void 0),__decorate$Y([RefSelector("eAngleValue")],o.prototype,"eAngleValue",void 0),__decorate$Y([Autowired("dragService")],o.prototype,"dragService",void 0),o}(AgAbstractLabel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$X=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$X=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$9=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},AgColorPanel=function(a){__extends$X(o,a);function o(e){var c=a.call(this,o.TEMPLATE)||this;return c.H=1,c.S=1,c.B=1,c.A=1,c.isSpectrumDragging=!1,c.isSpectrumHueDragging=!1,c.isSpectrumAlphaDragging=!1,c.colorChanged=!1,c.picker=e.picker,c}return o.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},o.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},o.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},o.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},o.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},o.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},o.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},o.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},o.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},o.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},o.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},o.prototype.moveDragger=function(e){var c=this.spectrumValRect;if(c){var h=e.clientX-c.left,g=e.clientY-c.top;h=Math.max(h,0),h=Math.min(h,c.width),g=Math.max(g,0),g=Math.min(g,c.height),this.setSpectrumValue(h/c.width,1-g/c.height)}},o.prototype.moveHueSlider=function(e){var c=this.spectrumHueRect;if(c){var h=this.spectrumHueSlider,g=h.getBoundingClientRect(),b=e.clientX-c.left;b=Math.max(b,0),b=Math.min(b,c.width),this.H=1-b/c.width,h.style.left=b+g.width/2+"px",this.update()}},o.prototype.moveAlphaSlider=function(e){var c=this.spectrumAlphaRect;if(c){var h=this.spectrumAlphaSlider,g=h.getBoundingClientRect(),b=e.clientX-c.left;b=Math.max(b,0),b=Math.min(b,c.width),this.A=b/c.width,h.style.left=b+g.width/2+"px",this.update()}},o.prototype.update=function(){var e=Color.fromHSB(this.H*360,this.S,this.B,this.A),c=Color.fromHSB(this.H*360,1,1),h=e.toRgbaString(),g=this.picker,b=Color.fromString(g.getValue());b.toRgbaString()!==h&&(this.colorChanged=!0),g.setValue(h),this.spectrumColor.style.backgroundColor=c.toRgbaString(),this.spectrumDragger.style.backgroundColor=h},o.prototype.setSpectrumValue=function(e,c){var h=this.spectrumValRect||this.refreshSpectrumRect();if(h){var g=this.spectrumDragger,b=g.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),c=Math.max(0,c),c=Math.min(1,c),this.S=e,this.B=c,g.style.left=e*h.width-b.width/2+"px",g.style.top=(1-c)*h.height-b.height/2+"px",this.update()}},o.prototype.initRecentColors=function(){var e=o.recentColors,c=e.map(function(h,g){return'<div class="ag-recent-color" id='+g+' style="background-color: '+h+'; width: 15px; height: 15px;" recent-color="'+h+'"></div>'});this.recentColors.innerHTML=c.join("")},o.prototype.setValue=function(e){var c=Color.fromString(e),h=__read$9(c.toHSB(),3),g=h[0],b=h[1],$=h[2];this.H=(isNaN(g)?0:g)/360,this.A=c.a;var j=this.spectrumHueRect||this.refreshHueRect(),rt=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-j.width+"px",this.spectrumAlphaSlider.style.left=this.A*rt.width+"px",this.setSpectrumValue(b,$)},o.prototype.onRecentColorClick=function(e){var c=e.target;if(exists(c.id)){var h=parseInt(c.id,10);this.setValue(o.recentColors[h]),this.destroy()}},o.prototype.addRecentColor=function(){var e=Color.fromHSB(this.H*360,this.S,this.B,this.A),c=e.toRgbaString(),h=o.recentColors;!this.colorChanged||h[0]===c||(h=h.filter(function(g){return g!=c}),h=[c].concat(h),h.length>o.maxRecentColors&&(h=h.slice(0,o.maxRecentColors)),o.recentColors=h)},o.prototype.destroy=function(){this.addRecentColor(),a.prototype.destroy.call(this)},o.maxRecentColors=8,o.recentColors=[],o.TEMPLATE=`<div class="ag-color-panel">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,__decorate$X([RefSelector("spectrumColor")],o.prototype,"spectrumColor",void 0),__decorate$X([RefSelector("spectrumVal")],o.prototype,"spectrumVal",void 0),__decorate$X([RefSelector("spectrumDragger")],o.prototype,"spectrumDragger",void 0),__decorate$X([RefSelector("spectrumHue")],o.prototype,"spectrumHue",void 0),__decorate$X([RefSelector("spectrumHueSlider")],o.prototype,"spectrumHueSlider",void 0),__decorate$X([RefSelector("spectrumAlpha")],o.prototype,"spectrumAlpha",void 0),__decorate$X([RefSelector("spectrumAlphaSlider")],o.prototype,"spectrumAlphaSlider",void 0),__decorate$X([RefSelector("recentColors")],o.prototype,"recentColors",void 0),__decorate$X([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$W=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$W=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgPanel=function(a){__extends$W(o,a);function o(e){var c=a.call(this,o.getTemplate(e))||this;return c.closable=!0,c.config=e,c}return o.getTemplate=function(e){var c=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+c+`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`+c+`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`+c+`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`+c+`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`+c+`-panel-content-wrapper"></div>
        </div>`},o.prototype.postConstruct=function(){var e=this,c=this.config,h=c.component,g=c.closable,b=c.hideTitleBar,$=c.title,j=c.minWidth,rt=j===void 0?250:j,nt=c.width,pt=c.minHeight,wt=pt===void 0?250:pt,Dt=c.height,Lt=c.centered,it=c.popup,st=c.x,bt=c.y;this.positionableFeature=new PositionableFeature(this.getGui(),{minWidth:rt,width:nt,minHeight:wt,height:Dt,centered:Lt,x:st,y:bt,popup:it,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var gt=this.getGui();h&&this.setBodyComponent(h),b?this.eTitleBar.classList.add("ag-hidden"):($&&this.setTitle($),this.setClosable(g??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Et){var ot=e.gridOptionsWrapper.getDocument();if(gt.contains(Et.relatedTarget)||gt.contains(ot.activeElement)||e.eTitleBarButtons.contains(Et.target)){Et.preventDefault();return}var _t=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");_t&&_t.focus()}),!(it&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},o.prototype.renderComponent=function(){var e=this,c=this.getGui();c.focus(),this.close=function(){c.parentElement.removeChild(c),e.destroy()}},o.prototype.getHeight=function(){return this.positionableFeature.getHeight()},o.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},o.prototype.getWidth=function(){return this.positionableFeature.getWidth()},o.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},o.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var c=this.closeButtonComp=new Component(o.CLOSE_BTN_TEMPLATE);this.getContext().createBean(c);var h=c.getGui(),g=createIconNoSpan("close",this.gridOptionsWrapper);g.classList.add("ag-panel-title-bar-button-icon"),h.appendChild(g),this.addTitleBarButton(c),c.addManagedListener(h,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var h=this.closeButtonComp.getGui();h.parentElement.removeChild(h),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},o.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},o.prototype.addTitleBarButton=function(e,c){var h=this.eTitleBarButtons,g=h.children,b=g.length;c==null&&(c=b),c=Math.max(0,Math.min(c,b)),e.addCssClass("ag-panel-title-bar-button");var $=e.getGui();c===0?h.insertAdjacentElement("afterbegin",$):c===b?h.insertAdjacentElement("beforeend",$):g[c-1].insertAdjacentElement("afterend",$),e.setParentComponent(this)},o.prototype.getBodyHeight=function(){return getInnerHeight(this.eContentWrapper)},o.prototype.getBodyWidth=function(){return getInnerWidth(this.eContentWrapper)},o.prototype.setTitle=function(e){this.eTitle.innerText=e},o.prototype.onBtClose=function(){this.close()},o.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),a.prototype.destroy.call(this)},o.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',__decorate$W([RefSelector("eContentWrapper")],o.prototype,"eContentWrapper",void 0),__decorate$W([RefSelector("eTitleBar")],o.prototype,"eTitleBar",void 0),__decorate$W([RefSelector("eTitleBarButtons")],o.prototype,"eTitleBarButtons",void 0),__decorate$W([RefSelector("eTitle")],o.prototype,"eTitle",void 0),__decorate$W([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$V=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$2$1=function(){return __assign$2$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$2$1.apply(this,arguments)},__decorate$V=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgDialog=function(a){__extends$V(o,a);function o(e){var c=a.call(this,__assign$2$1(__assign$2$1({},e),{popup:!0}))||this;return c.isMaximizable=!1,c.isMaximized=!1,c.maximizeListeners=[],c.resizeListenerDestroy=null,c.lastPosition={x:0,y:0,width:0,height:0},c}return o.prototype.postConstruct=function(){var e=this,c=this.getGui(),h=this.config,g=h.movable,b=h.resizable,$=h.maximizable;this.addCssClass("ag-dialog"),a.prototype.postConstruct.call(this),this.addManagedListener(c,"focusin",function(j){c.contains(j.relatedTarget)||e.popupService.bringPopupToFront(c)}),g&&this.setMovable(g),$&&this.setMaximizable($),b&&this.setResizable(b)},o.prototype.renderComponent=function(){var e=this.getGui(),c=this.config,h=c.alwaysOnTop,g=c.modal,b=c.title,$=this.gridOptionsWrapper.getLocaleTextFunc(),j=this.popupService.addPopup({modal:g,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:h,ariaLabel:b||$("ariaLabelDialog","Dialog")});j&&(this.close=j.hideFunc)},o.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var c=this.lastPosition,h=c.x,g=c.y,b=c.width,$=c.height;this.setWidth(b),this.setHeight($),this.positionableFeature.offsetElement(h,g)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},o.prototype.refreshMaximizeIcon=function(){setDisplayed(this.maximizeIcon,!this.isMaximized),setDisplayed(this.minimizeIcon,this.isMaximized)},o.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},o.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),a.prototype.destroy.call(this)},o.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},o.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},o.prototype.setMaximizable=function(e){var c=this;if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var h=this.eTitleBar;if(!(!h||e===this.isMaximizable)){var g=this.maximizeButtonComp=this.createBean(new Component('<div class="ag-dialog-button"></span>')),b=g.getGui();b.appendChild(this.maximizeIcon=createIconNoSpan("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),b.appendChild(this.minimizeIcon=createIconNoSpan("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),g.addManagedListener(b,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(g,0),this.maximizeListeners.push(this.addManagedListener(h,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){c.isMaximized=!1,c.refreshMaximizeIcon()})}},__decorate$V([Autowired("popupService")],o.prototype,"popupService",void 0),o}(AgPanel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$U=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),AgColorPicker=function(a){__extends$U(o,a);function o(e){var c=a.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(c.value=e.color),c}return o.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},o.prototype.showPicker=function(){var e=this,c=this.getGui().getBoundingClientRect(),h=this.createBean(new AgDialog({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:c.right-190,y:c.top-250}));this.isPickerDisplayed=!0,h.addCssClass("ag-color-dialog"),setAriaExpanded(this.eWrapper,!0);var g=this.createBean(new AgColorPanel({picker:this}));return g.addDestroyFunc(function(){h.isAlive()&&e.destroyBean(h)}),h.setParentComponent(this),h.setBodyComponent(g),g.setValue(this.getValue()),h.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,g.isAlive()&&e.destroyBean(g)),e.isAlive()&&(setAriaExpanded(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),h},o.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,a.prototype.setValue.call(this,e))},o.prototype.getValue=function(){return this.value},o}(AgPickerField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$T=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$U=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgGroupComponent=function(a){__extends$T(o,a);function o(e){e===void 0&&(e={});var c=a.call(this,o.getTemplate(e))||this;c.suppressEnabledCheckbox=!0,c.suppressOpenCloseIcons=!1;var h=e.title,g=e.enabled,b=e.items,$=e.suppressEnabledCheckbox,j=e.suppressOpenCloseIcons;return c.title=h,c.cssIdentifier=e.cssIdentifier||"default",c.enabled=g??!0,c.items=b||[],c.alignItems=e.alignItems||"center",$!=null&&(c.suppressEnabledCheckbox=$),j!=null&&(c.suppressOpenCloseIcons=j),c}return o.getTemplate=function(e){var c=e.cssIdentifier||"default",h=e.direction||"vertical";return'<div class="ag-group ag-'+c+`-group" role="presentation">
            <div class="ag-group-title-bar ag-`+c+`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`+c+`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`+c+`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`+c+`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`+c+`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`+h+" ag-"+c+`-group-container"></div>
        </div>`},o.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var c=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(c("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},o.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(c){switch(c.key){case KeyCode.ENTER:case KeyCode.SPACE:c.preventDefault(),e.toggleGroupExpand();break;case KeyCode.RIGHT:case KeyCode.LEFT:c.preventDefault(),e.toggleGroupExpand(c.key===KeyCode.RIGHT);break}})},o.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||setAriaExpanded(this.eTitleBar,this.expanded)},o.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;setDisplayed(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),setDisplayed(this.eGroupOpenedIcon,e&&this.expanded),setDisplayed(this.eGroupClosedIcon,e&&!this.expanded)},o.prototype.isExpanded=function(){return this.expanded},o.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e;var c="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(c),this},o.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),setDisplayed(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),setDisplayed(this.eContainer,e),this.dispatchEvent({type:this.expanded?o.EVENT_EXPANDED:o.EVENT_COLLAPSED}),this))},o.prototype.addItems=function(e){var c=this;e.forEach(function(h){return c.addItem(h)})},o.prototype.addItem=function(e){var c=this.eContainer,h=e instanceof Component?e.getGui():e;h.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),c.appendChild(h),this.items.push(h)},o.prototype.hideItem=function(e,c){var h=this.items[c];h.classList.toggle("ag-hidden",e)},o.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},o.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},o.prototype.setEnabled=function(e,c){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),c||this.cbGroupEnabled.setValue(e),this},o.prototype.isEnabled=function(){return this.enabled},o.prototype.onEnableChange=function(e){var c=this;return this.cbGroupEnabled.onValueChange(function(h){c.setEnabled(h,!0),e(h)}),this},o.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},o.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},o.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},o.EVENT_EXPANDED="expanded",o.EVENT_COLLAPSED="collapsed",__decorate$U([RefSelector("eTitleBar")],o.prototype,"eTitleBar",void 0),__decorate$U([RefSelector("eGroupOpenedIcon")],o.prototype,"eGroupOpenedIcon",void 0),__decorate$U([RefSelector("eGroupClosedIcon")],o.prototype,"eGroupClosedIcon",void 0),__decorate$U([RefSelector("eToolbar")],o.prototype,"eToolbar",void 0),__decorate$U([RefSelector("cbGroupEnabled")],o.prototype,"cbGroupEnabled",void 0),__decorate$U([RefSelector("eTitle")],o.prototype,"eTitle",void 0),__decorate$U([RefSelector("eContainer")],o.prototype,"eContainer",void 0),__decorate$U([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$S=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$T=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},TabGuardCtrl=function(a){__extends$S(o,a);function o(e){var c=a.call(this)||this;c.skipTabGuardFocus=!1;var h=e.comp,g=e.eTopGuard,b=e.eBottomGuard,$=e.focusInnerElement,j=e.onFocusIn,rt=e.onFocusOut,nt=e.shouldStopEventPropagation,pt=e.onTabKeyDown,wt=e.handleKeyDown,Dt=e.eFocusableElement;return c.comp=h,c.eTopGuard=g,c.eBottomGuard=b,c.providedFocusInnerElement=$,c.eFocusableElement=Dt,c.providedFocusIn=j,c.providedFocusOut=rt,c.providedShouldStopEventPropagation=nt,c.providedOnTabKeyDown=pt,c.providedHandleKeyDown=wt,c}return o.prototype.postConstruct=function(){var e=this;this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(c){return e.onTabKeyDown(c)},handleKeyDown:function(c){return e.handleKeyDown(c)},onFocusIn:function(c){return e.onFocusIn(c)},onFocusOut:function(c){return e.onFocusOut(c)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(c){return e.addManagedListener(c,"focus",e.onFocus.bind(e))})},o.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},o.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},o.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},o.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},o.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},o.prototype.onFocus=function(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var c=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(c):this.focusInnerElement(c)},o.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},o.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},o.prototype.onTabKeyDown=function(e){var c=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(!e.defaultPrevented){var h=this.tabGuardsAreActive();h&&this.deactivateTabGuards();var g=this.getNextFocusableElement(e.shiftKey);h&&setTimeout(function(){return c.activateTabGuards()},0),g&&(g.focus(),e.preventDefault())}},o.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},o.prototype.focusInnerElement=function(e){e===void 0&&(e=!1);var c=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(c.splice(0,1),c.splice(c.length-1,1)),c.length&&c[e?c.length-1:0].focus()},o.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},o.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1);var c=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,c.focus()},__decorate$T([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$T([PostConstruct],o.prototype,"postConstruct",null),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$R=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__read$8=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$7=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$8(arguments[o]));return a},TabGuardComp$1=function(a){__extends$R(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var c=[this.eTopGuard,this.eBottomGuard],h={setTabIndex:function(g){c.forEach(function(b){return g!=null?b.setAttribute("tabIndex",g):b.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:h,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},o.prototype.createTabGuard=function(e){var c=document.createElement("div");return c.classList.add("ag-tab-guard","ag-tab-guard-"+e),setAriaRole(c,"presentation"),c},o.prototype.addTabGuards=function(e,c){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",c)},o.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];clearElement(this.getFocusableElement()),this.addTabGuards.apply(this,__spread$7(e))},o.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},o.prototype.appendChild=function(e,c){isNodeOrElement(e)||(e=e.getGui());var h=this.eBottomGuard;h?h.insertAdjacentElement("beforebegin",e):a.prototype.appendChild.call(this,e,c)},o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$Q=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$1$1=function(){return __assign$1$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$1$1.apply(this,arguments)},__decorate$S=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgMenuList=function(a){__extends$Q(o,a);function o(e){e===void 0&&(e=1);var c=a.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return c.level=e,c.menuItems=[],c}return o.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(c){return e.onTabKeyDown(c)},handleKeyDown:function(c){return e.handleKeyDown(c)}})},o.prototype.onTabKeyDown=function(e){var c=this.getParentComponent(),h=c&&c.getGui(),g=h&&h.classList.contains("ag-focus-managed");g||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},o.prototype.handleKeyDown=function(e){switch(e.key){case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.DOWN:case KeyCode.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case KeyCode.ESCAPE:var c=this.findTopMenu();c&&this.focusService.focusInto(c.getGui());break}},o.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},o.prototype.addMenuItems=function(e){var c=this;e!=null&&e.forEach(function(h){h==="separator"?c.addSeparator():typeof h=="string"?console.warn("AG Grid: unrecognised menu item "+h):c.addItem(h)})},o.prototype.addItem=function(e){var c=this,h=this.createManagedBean(new AgMenuItemComponent(__assign$1$1(__assign$1$1({},e),{isAnotherSubMenuOpen:function(){return c.menuItems.some(function(g){return g.isSubMenuOpen()})}})));h.setParentComponent(this),setAriaLevel(h.getGui(),this.level),this.menuItems.push(h),this.appendChild(h.getGui()),this.addManagedListener(h,AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(g){c.dispatchEvent(g)}),this.addManagedListener(h,AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,function(g){c.activeMenuItem&&c.activeMenuItem!==g.menuItem&&c.activeMenuItem.deactivate(),c.activeMenuItem=g.menuItem})},o.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(c){return!c.isDisabled()})[0];e&&e.activate()},o.prototype.addSeparator=function(){var e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(loadTemplate(e))},o.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof o)return this;for(;;){var c=e&&e.getParentComponent&&e.getParentComponent();if(!c||!(c instanceof o||c instanceof AgMenuItemComponent))break;e=c}return e instanceof o?e:void 0},o.prototype.handleNavKey=function(e){switch(e){case KeyCode.UP:case KeyCode.DOWN:var c=this.findNextItem(e===KeyCode.UP);c&&c!==this.activeMenuItem&&c.activate();return}var h=this.gridOptionsWrapper.isEnableRtl()?KeyCode.RIGHT:KeyCode.LEFT;e===h?this.closeIfIsChild():this.openChild()},o.prototype.closeIfIsChild=function(e){var c=this.getParentComponent();c&&c instanceof AgMenuItemComponent&&(e&&e.preventDefault(),c.closeSubMenu(),c.getGui().focus())},o.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},o.prototype.findNextItem=function(e){var c=this.menuItems.filter(function(j){return!j.isDisabled()});if(c.length){if(!this.activeMenuItem)return e?last(c):c[0];e&&c.reverse();for(var h,g=!1,b=0;b<c.length;b++){var $=c[b];if(!g){$===this.activeMenuItem&&(g=!0);continue}h=$;break}return h||this.activeMenuItem}},o.prototype.destroy=function(){this.clearActiveItem(),a.prototype.destroy.call(this)},__decorate$S([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$S([PostConstruct],o.prototype,"postConstruct",null),o}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$P=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$R=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgMenuPanel=function(a){__extends$P(o,a);function o(e){var c=a.call(this)||this;return c.wrappedComponent=e,c.setTemplateFromElement(e.getGui()),c}return o.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(c){return e.onTabKeyDown(c)},handleKeyDown:function(c){return e.handleKeyDown(c)}})},o.prototype.handleKeyDown=function(e){e.key===KeyCode.ESCAPE&&this.closePanel()},o.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},o.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},__decorate$R([PostConstruct],o.prototype,"postConstruct",null),o}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$O=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$Q=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgMenuItemComponent=function(a){__extends$O(o,a);function o(e){var c=a.call(this)||this;return c.params=e,c.isActive=!1,c.subMenuIsOpen=!1,c.setTemplate('<div class="'+c.getClassName()+'" tabindex="-1" role="treeitem"></div>'),c}return o.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var c=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),setAriaDisabled(c,!0)):(this.addGuiEventListener("click",function(h){return e.onItemSelected(h)}),this.addGuiEventListener("keydown",function(h){(h.key===KeyCode.ENTER||h.key===KeyCode.SPACE)&&(h.preventDefault(),e.onItemSelected(h))}),this.addGuiEventListener("mousedown",function(h){h.stopPropagation(),h.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(h){return e.addCssClass(h)})},o.prototype.isDisabled=function(){return!!this.params.disabled},o.prototype.openSubMenu=function(e){var c=this;if(e===void 0&&(e=!1),this.closeSubMenu(),!!this.params.subMenu){var h=loadTemplate('<div class="ag-menu" role="presentation"></div>'),g;if(this.params.subMenu instanceof Array){var b=getAriaLevel(this.getGui()),$=isNaN(b)?1:b+1,j=this.createBean(new AgMenuList($));j.setParentComponent(this),j.addMenuItems(this.params.subMenu),h.appendChild(j.getGui()),this.addManagedListener(j,o.EVENT_MENU_ITEM_SELECTED,function(gt){return c.dispatchEvent(gt)}),j.addGuiEventListener("mouseenter",function(){return c.cancelDeactivate()}),g=function(){return c.destroyBean(j)},e&&setTimeout(function(){return j.activateFirstItem()},0)}else{var rt=this.params.subMenu,nt=this.createBean(new AgMenuPanel(rt));nt.setParentComponent(this);var pt=nt.getGui(),wt="mouseenter",Dt=function(){return c.cancelDeactivate()};pt.addEventListener(wt,Dt),g=function(){return pt.removeEventListener(wt,Dt)},h.appendChild(pt),rt.afterGuiAttached&&setTimeout(function(){return rt.afterGuiAttached()},0)}var Lt=this.getGui(),it=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:Lt,ePopup:h}),st=this.gridOptionsWrapper.getLocaleTextFunc(),bt=this.popupService.addPopup({modal:!0,eChild:h,positionCallback:it,anchorToElement:Lt,ariaLabel:st("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,setAriaExpanded(Lt,!0),this.hideSubMenu=function(){bt&&bt.hideFunc(),c.subMenuIsOpen=!1,setAriaExpanded(Lt,!1),g()}}},o.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,setAriaExpanded(this.getGui(),!1))},o.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},o.prototype.activate=function(e){var c=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){c.isAlive()&&c.isActive&&c.openSubMenu()},300),this.onItemActivated())},o.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},o.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var e=loadTemplate('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(createIconNoSpan("check",this.gridOptionsWrapper)):this.params.icon&&(isNodeOrElement(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},o.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var e=loadTemplate('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},o.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new CustomTooltipFeature(this)))},o.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},o.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var e=loadTemplate('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},o.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var e=loadTemplate('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),c=this.getGui();if(this.params.subMenu){var h=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";setAriaExpanded(c,!1),e.appendChild(createIconNoSpan(h,this.gridOptionsWrapper))}c.appendChild(e)}},o.prototype.onItemSelected=function(e){if(this.params.action?this.params.action():this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var c={type:o.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(c)}},o.prototype.onItemActivated=function(){var e={type:o.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},o.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},o.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},o.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},o.ACTIVATION_DELAY):this.activate(!0)},o.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},o.ACTIVATION_DELAY):this.deactivate()},o.prototype.getClassName=function(e){var c=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?c+"-"+e:c},o.EVENT_MENU_ITEM_SELECTED="menuItemSelected",o.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",o.ACTIVATION_DELAY=80,__decorate$Q([Autowired("popupService")],o.prototype,"popupService",void 0),__decorate$Q([PostConstruct],o.prototype,"init",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$N=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$P=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$7=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$6=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$7(arguments[o]));return a},FocusService=function(a){__extends$N(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}e=o,o.addKeyboardModeEvents=function(c,h){var g=e.instancesMonitored.get(c);g&&g.length>0?g.indexOf(h)===-1&&g.push(h):(e.instancesMonitored.set(c,[h]),c.addEventListener("keydown",e.toggleKeyboardMode),c.addEventListener("mousedown",e.toggleKeyboardMode))},o.removeKeyboardModeEvents=function(c,h){var g=e.instancesMonitored.get(c),b=[];g&&g.length&&(b=__spread$6(g).filter(function($){return $!==h}),e.instancesMonitored.set(c,b)),b.length===0&&(c.removeEventListener("keydown",e.toggleKeyboardMode),c.removeEventListener("mousedown",e.toggleKeyboardMode))},o.toggleKeyboardMode=function(c){var h=e.keyboardModeActive,g=c.type==="keydown";if(!(g&&(c.ctrlKey||c.metaKey||c.altKey))&&!(h&&g||!h&&!g)){e.keyboardModeActive=g;var b=c.target.ownerDocument;if(b){var $=e.instancesMonitored.get(b);$&&$.forEach(function(j){j.dispatchEvent({type:g?Events.EVENT_KEYBOARD_FOCUS:Events.EVENT_MOUSE_FOCUS})})}}},o.prototype.init=function(){var c=this,h=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,h),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,h),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,h),this.ctrlsService.whenReady(function(g){c.gridCtrl=g.gridCtrl;var b=c.gridOptionsWrapper.getDocument();e.addKeyboardModeEvents(b,c.gridCtrl),c.addDestroyFunc(function(){return c.unregisterGridCompController(c.gridCtrl)})})},o.prototype.unregisterGridCompController=function(c){var h=this.gridOptionsWrapper.getDocument();e.removeKeyboardModeEvents(h,c)},o.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var c=this.focusedCellPosition.column,h=this.columnModel.getGridColumn(c.getId());c!==h&&this.clearFocusedCell()}},o.prototype.isKeyboardMode=function(){return e.keyboardModeActive},o.prototype.getFocusCellToUseAfterRefresh=function(){var c=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(c.activeElement,RowCtrl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},o.prototype.getFocusHeaderToUseAfterRefresh=function(){var c=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(c.activeElement,AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},o.prototype.isDomDataMissingInHierarchy=function(c,h){for(var g=c;g;){var b=this.gridOptionsWrapper.getDomData(g,h);if(b)return!1;g=g.parentNode}return!0},o.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1,!1)},o.prototype.getFocusedCell=function(){return this.focusedCellPosition},o.prototype.setFocusedCell=function(c){var h=c.column,g=c.rowIndex,b=c.rowPinned,$=c.forceBrowserFocus,j=$===void 0?!1:$,rt=c.preventScrollOnBrowserFocus,nt=rt===void 0?!1:rt,pt=this.columnModel.getGridColumn(h);if(!pt){this.focusedCellPosition=null;return}this.focusedCellPosition=pt?{rowIndex:g,rowPinned:makeNull(b),column:pt}:null,this.onCellFocused(j,nt)},o.prototype.isCellFocused=function(c){return this.focusedCellPosition==null?!1:this.focusedCellPosition.column===c.column&&this.isRowFocused(c.rowIndex,c.rowPinned)},o.prototype.isRowNodeFocused=function(c){return this.isRowFocused(c.rowIndex,c.rowPinned)},o.prototype.isHeaderWrapperFocused=function(c){if(this.focusedHeaderPosition==null)return!1;var h=c.getColumnGroupChild(),g=c.getRowIndex(),b=c.getPinned(),$=this.focusedHeaderPosition,j=$.column,rt=$.headerRowIndex;return h===j&&g===rt&&b==j.getPinned()},o.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},o.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},o.prototype.setFocusedHeader=function(c,h){this.focusedHeaderPosition={headerRowIndex:c,column:h}},o.prototype.focusHeaderPosition=function(c){var h=c.direction,g=c.fromTab,b=c.allowUserOverride,$=c.event,j=c.headerPosition;if(b){var rt=this.gridOptionsWrapper,nt=this.getFocusedHeader(),pt=this.headerNavigationService.getHeaderRowCount();if(g){var wt=rt.getTabToNextHeaderFunc();if(wt){var Dt={backwards:h==="Before",previousHeaderPosition:nt,nextHeaderPosition:j,headerRowCount:pt};j=wt(Dt)}}else{var wt=rt.getNavigateToNextHeaderFunc();if(wt&&$){var Lt={key:$.key,previousHeaderPosition:nt,nextHeaderPosition:j,headerRowCount:pt,event:$};j=wt(Lt)}}}if(!j)return!1;if(j.headerRowIndex===-1)return this.focusGridView(j.column);this.headerNavigationService.scrollToColumn(j.column,h);var it=this.ctrlsService.getHeaderRowContainerCtrl(j.column.getPinned()),st=it.focusHeader(j.headerRowIndex,j.column,$);return st},o.prototype.focusFirstHeader=function(){var c=this.columnModel.getAllDisplayedColumns()[0];return c?(c.getParent()&&(c=this.columnModel.getColumnGroupAtLevel(c,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:c}})):!1},o.prototype.focusLastHeader=function(c){var h=this.headerNavigationService.getHeaderRowCount()-1,g=last(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:h,column:g},event:c})},o.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},o.prototype.isRowFocused=function(c,h){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===c&&this.focusedCellPosition.rowPinned===makeNull(h)},o.prototype.findFocusableElements=function(c,h,g){g===void 0&&(g=!1);var b=Constants.FOCUSABLE_SELECTOR,$=Constants.FOCUSABLE_EXCLUDE;h&&($+=", "+h),g&&($+=', [tabindex="-1"]');var j=Array.prototype.slice.apply(c.querySelectorAll(b)),rt=Array.prototype.slice.apply(c.querySelectorAll($));if(!rt.length)return j;var nt=function(pt,wt){return pt.filter(function(Dt){return wt.indexOf(Dt)===-1})};return nt(j,rt)},o.prototype.focusInto=function(c,h,g){h===void 0&&(h=!1),g===void 0&&(g=!1);var b=this.findFocusableElements(c,null,g),$=h?last(b):b[0];return $?($.focus(),!0):!1},o.prototype.findNextFocusableElement=function(c,h,g){c===void 0&&(c=this.eGridDiv);var b=this.findFocusableElements(c,h?':not([tabindex="-1"])':null),$=this.gridOptionsWrapper.getDocument(),j=$.activeElement,rt;h?rt=b.findIndex(function(pt){return pt.contains(j)}):rt=b.indexOf(j);var nt=rt+(g?-1:1);return nt<0||nt>=b.length?null:b[nt]},o.prototype.isFocusUnderManagedComponent=function(c){var h=this.gridOptionsWrapper.getDocument(),g=c.querySelectorAll("."+ManagedFocusFeature.FOCUS_MANAGED_CLASS);if(!g.length)return!1;for(var b=0;b<g.length;b++)if(g[b].contains(h.activeElement))return!0;return!1},o.prototype.findTabbableParent=function(c,h){h===void 0&&(h=5);for(var g=0;c&&getTabIndex(c)===null&&++g<=h;)c=c.parentElement;return getTabIndex(c)===null?null:c},o.prototype.onCellFocused=function(c,h){var g={type:Events.EVENT_CELL_FOCUSED,forceBrowserFocus:c,preventScrollOnBrowserFocus:h,rowIndex:null,column:null,floating:null,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var b=g.rowIndex=this.focusedCellPosition.rowIndex,$=g.rowPinned=this.focusedCellPosition.rowPinned;g.column=this.focusedCellPosition.column;var j=this.rowRenderer.getRowByPosition({rowIndex:b,rowPinned:$});j&&(g.isFullWidthCell=j.isFullWidth())}this.eventService.dispatchEvent(g)},o.prototype.focusGridView=function(c,h){if(this.gridOptionsWrapper.isSuppressCellFocus())return h?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var g=h?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!g)return!1;var b=g.rowIndex,$=g.rowPinned,j=this.getFocusedHeader();if(!c&&j&&(c=j.column),b==null||!c)return!1;if(this.navigationService.ensureCellVisible({rowIndex:b,column:c,rowPinned:$}),this.setFocusedCell({rowIndex:b,column:c,rowPinned:makeNull($),forceBrowserFocus:!0}),this.rangeService){var rt={rowIndex:b,rowPinned:$,column:c};this.rangeService.setRangeToCell(rt)}return!0},o.prototype.focusNextGridCoreContainer=function(c){return this.gridCtrl.focusNextInnerContainer(c)?!0:(!c&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)};var e;return o.AG_KEYBOARD_FOCUS="ag-keyboard-focus",o.keyboardModeActive=!1,o.instancesMonitored=new Map,__decorate$P([Autowired("eGridDiv")],o.prototype,"eGridDiv",void 0),__decorate$P([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$P([Autowired("headerNavigationService")],o.prototype,"headerNavigationService",void 0),__decorate$P([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$P([Autowired("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),__decorate$P([Optional("rangeService")],o.prototype,"rangeService",void 0),__decorate$P([Autowired("navigationService")],o.prototype,"navigationService",void 0),__decorate$P([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$P([PostConstruct],o.prototype,"init",null),o=e=__decorate$P([Bean("focusService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$M=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$O=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$6=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$5=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$6(arguments[o]));return a},DIRECTION;(function(a){a[a.vertical=0]="vertical",a[a.horizontal=1]="horizontal"})(DIRECTION||(DIRECTION={}));var instanceIdSeq=0,PopupService=function(a){__extends$M(o,a);function o(){var c=a!==null&&a.apply(this,arguments)||this;return c.popupList=[],c}e=o,o.prototype.postConstruct=function(){var c=this;this.ctrlsService.whenReady(function(h){c.gridCtrl=h.gridCtrl,c.addManagedListener(c.gridCtrl,Events.EVENT_KEYBOARD_FOCUS,function(){c.popupList.forEach(function(g){return g.element.classList.add(FocusService.AG_KEYBOARD_FOCUS)})}),c.addManagedListener(c.gridCtrl,Events.EVENT_MOUSE_FOCUS,function(){c.popupList.forEach(function(g){return g.element.classList.remove(FocusService.AG_KEYBOARD_FOCUS)})})})},o.prototype.getPopupParent=function(){var c=this.gridOptionsWrapper.getPopupParent();return c||this.gridCtrl.getGui()},o.prototype.positionPopupForMenu=function(c){var h=c.eventSource.getBoundingClientRect(),g=this.getParentRect(),b=this.keepXYWithinBounds(c.ePopup,h.top-g.top,DIRECTION.vertical),$=c.ePopup.clientWidth>0?c.ePopup.clientWidth:200;c.ePopup.style.minWidth=$+"px";var j=g.right-g.left,rt=j-$,nt;this.gridOptionsWrapper.isEnableRtl()?(nt=wt(),nt<0&&(nt=pt()),nt>rt&&(nt=0)):(nt=pt(),nt>rt&&(nt=wt()),nt<0&&(nt=0)),c.ePopup.style.left=nt+"px",c.ePopup.style.top=b+"px";function pt(){return h.right-g.left-2}function wt(){return h.left-g.left-$}},o.prototype.positionPopupUnderMouseEvent=function(c){var h=c.ePopup,g=c.nudgeX,b=c.nudgeY,$=c.skipObserver,j=this.calculatePointerAlign(c.mouseEvent),rt=j.x,nt=j.y;this.positionPopup({ePopup:h,x:rt,y:nt,nudgeX:g,nudgeY:b,keepWithinBounds:!0,skipObserver:$}),this.callPostProcessPopup(c.type,c.ePopup,null,c.mouseEvent,c.column,c.rowNode)},o.prototype.calculatePointerAlign=function(c){var h=this.getParentRect();return{x:c.clientX-h.left,y:c.clientY-h.top}},o.prototype.positionPopupUnderComponent=function(c){var h=c.eventSource.getBoundingClientRect(),g=c.alignSide||"left",b=this.getParentRect(),$=h.left-b.left;g==="right"&&($-=c.ePopup.offsetWidth-h.width),this.positionPopup({ePopup:c.ePopup,nudgeX:c.nudgeX,nudgeY:c.nudgeY,x:$,y:h.top-b.top+h.height,keepWithinBounds:c.keepWithinBounds}),this.callPostProcessPopup(c.type,c.ePopup,c.eventSource,null,c.column,c.rowNode)},o.prototype.positionPopupOverComponent=function(c){var h=c.eventSource.getBoundingClientRect(),g=this.getParentRect();this.positionPopup({ePopup:c.ePopup,nudgeX:c.nudgeX,nudgeY:c.nudgeY,x:h.left-g.left,y:h.top-g.top,keepWithinBounds:c.keepWithinBounds}),this.callPostProcessPopup(c.type,c.ePopup,c.eventSource,null,c.column,c.rowNode)},o.prototype.callPostProcessPopup=function(c,h,g,b,$,j){var rt=this.gridOptionsWrapper.getPostProcessPopupFunc();if(rt){var nt={column:$,rowNode:j,ePopup:h,type:c,eventSource:g,mouseEvent:b};rt(nt)}},o.prototype.positionPopup=function(c){var h=this,g=c.x,b=c.y,$=c.ePopup,j=c.keepWithinBounds,rt=c.nudgeX,nt=c.nudgeY,pt=c.skipObserver,wt=g,Dt=b;rt&&(wt+=rt),nt&&(Dt+=nt);var Lt=function(){j&&(wt=h.keepXYWithinBounds($,wt,DIRECTION.horizontal),Dt=h.keepXYWithinBounds($,Dt,DIRECTION.vertical)),$.style.left=wt+"px",$.style.top=Dt+"px"};if(Lt(),!pt){var it=this.resizeObserverService.observeResize($,Lt);setTimeout(function(){return it()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},o.prototype.getActivePopups=function(){return this.popupList.map(function(c){return c.element})},o.prototype.getPopupList=function(){return this.popupList},o.prototype.getParentRect=function(){var c=this.gridOptionsWrapper.getDocument(),h=this.getPopupParent();h===c.body?h=c.documentElement:getComputedStyle(h).position==="static"&&(h=h.offsetParent);var g=getComputedStyle(h),b=h.getBoundingClientRect();return{top:b.top+parseFloat(g.borderTopWidth)||0,left:b.left+parseFloat(g.borderLeftWidth)||0,right:b.right+parseFloat(g.borderRightWidth)||0,bottom:b.bottom+parseFloat(g.borderBottomWidth)||0}},o.prototype.keepXYWithinBounds=function(c,h,g){var b=g===DIRECTION.vertical,$=b?"clientHeight":"clientWidth",j=b?"top":"left",rt=b?"offsetHeight":"offsetWidth",nt=b?"scrollTop":"scrollLeft",pt=this.gridOptionsWrapper.getDocument(),wt=pt.documentElement,Dt=this.getPopupParent(),Lt=Dt.getBoundingClientRect(),it=pt.documentElement.getBoundingClientRect(),st=Dt===pt.body,bt=c[rt],gt=b?getAbsoluteHeight:getAbsoluteWidth,Et=st?gt(wt)+wt[nt]:Dt[$];st&&(Et-=Math.abs(it[j]-Lt[j]));var ot=Et-bt;return Math.min(Math.max(h,0),Math.abs(ot))},o.prototype.keepPopupPositionedRelativeTo=function(c){var h=this,g=this.getPopupParent(),b=g.getBoundingClientRect(),$=c.element.getBoundingClientRect(),j=b.top-$.top,rt=b.left-$.left,nt=j,pt=rt,wt=c.ePopup.style.top,Dt=parseInt(wt.substring(0,wt.length-1),10),Lt=c.ePopup.style.left,it=parseInt(Lt.substring(0,Lt.length-1),10);return new AgPromise(function(st){h.getFrameworkOverrides().setInterval(function(){var bt=g.getBoundingClientRect(),gt=c.element.getBoundingClientRect(),Et=gt.top==0&&gt.left==0&&gt.height==0&&gt.width==0;if(Et){c.hidePopup();return}var ot=bt.top-gt.top;if(ot!=nt){var _t=h.keepXYWithinBounds(c.ePopup,Dt+j-ot,DIRECTION.vertical);c.ePopup.style.top=_t+"px"}nt=ot;var Mt=bt.left-gt.left;if(Mt!=pt){var Bt=h.keepXYWithinBounds(c.ePopup,it+rt-Mt,DIRECTION.horizontal);c.ePopup.style.left=Bt+"px"}pt=Mt},200).then(function(bt){var gt=function(){bt!=null&&window.clearInterval(bt)};st(gt)})})},o.prototype.addPopup=function(c){var h,g=this,b=c.modal,$=c.eChild,j=c.closeOnEsc,rt=c.closedCallback,nt=c.click,pt=c.alwaysOnTop,wt=c.afterGuiAttached,Dt=c.positionCallback,Lt=c.anchorToElement,it=c.ariaLabel,st=this.gridOptionsWrapper.getDocument(),bt=new AgPromise(function(vr){return vr(function(){})});if(!st)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:bt};var gt=this.popupList.findIndex(function(vr){return vr.element===$});if(gt!==-1){var Et=this.popupList[gt];return{hideFunc:Et.hideFunc,stopAnchoringPromise:Et.stopAnchoringPromise}}var ot=this.getPopupParent();$.style.top==null&&($.style.top="0px"),$.style.left==null&&($.style.left="0px");var _t=document.createElement("div"),Mt=this.environment.getTheme().allThemes;Mt.length&&(h=_t.classList).add.apply(h,__spread$5(Mt)),_t.classList.add("ag-popup"),$.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),$.hasAttribute("role")||setAriaRole($,"dialog"),setAriaLabel($,it),this.focusService.isKeyboardMode()&&$.classList.add(FocusService.AG_KEYBOARD_FOCUS),_t.appendChild($),ot.appendChild(_t),pt?this.setAlwaysOnTop(_t,!0):this.bringPopupToFront(_t);var Bt=!1,It=function(vr){if(_t.contains(st.activeElement)){var hr=vr.key;hr===KeyCode.ESCAPE&&gr({keyboardEvent:vr})}},jt=function(vr){return gr({mouseEvent:vr})},tr=function(vr){return gr({touchEvent:vr})},gr=function(vr){vr===void 0&&(vr={});var hr=vr.mouseEvent,mr=vr.touchEvent,Er=vr.keyboardEvent;g.isEventFromCurrentPopup({mouseEvent:hr,touchEvent:mr},$)||g.isEventSameChainAsOriginalEvent({originalMouseEvent:nt,mouseEvent:hr,touchEvent:mr})||Bt||(Bt=!0,ot.removeChild(_t),st.removeEventListener("keydown",It),st.removeEventListener("mousedown",jt),st.removeEventListener("touchstart",tr),st.removeEventListener("contextmenu",jt),g.eventService.removeEventListener(Events.EVENT_DRAG_STARTED,jt),rt&&rt(hr||mr||Er),g.popupList=g.popupList.filter(function(Rr){return Rr.element!==$}),bt&&bt.then(function(Rr){return Rr&&Rr()}))};return wt&&wt({hidePopup:gr}),window.setTimeout(function(){j&&st.addEventListener("keydown",It),b&&(st.addEventListener("mousedown",jt),g.eventService.addEventListener(Events.EVENT_DRAG_STARTED,jt),st.addEventListener("touchstart",tr),st.addEventListener("contextmenu",jt))},0),Dt&&Dt(),Lt&&(bt=this.keepPopupPositionedRelativeTo({element:Lt,ePopup:$,hidePopup:gr})),this.popupList.push({element:$,wrapper:_t,hideFunc:gr,stopAnchoringPromise:bt,instanceId:instanceIdSeq++,isAnchored:!!Lt}),{hideFunc:gr,stopAnchoringPromise:bt}},o.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(c){return c.isAnchored})},o.prototype.isEventFromCurrentPopup=function(c,h){var g=c.mouseEvent,b=c.touchEvent,$=g||b;if(!$)return!1;var j=this.popupList.findIndex(function(pt){return pt.element===h});if(j===-1)return!1;for(var rt=j;rt<this.popupList.length;rt++){var nt=this.popupList[rt];if(isElementInEventPath(nt.element,$))return!0}return this.isElementWithinCustomPopup($.target)},o.prototype.isElementWithinCustomPopup=function(c){for(var h=this.gridOptionsWrapper.getDocument();c&&c!==h.body;){if(c.classList.contains("ag-custom-component-popup")||c.parentElement===null)return!0;c=c.parentElement}return!1},o.prototype.isEventSameChainAsOriginalEvent=function(c){var h=c.originalMouseEvent,g=c.mouseEvent,b=c.touchEvent,$=null;if(g?$=g:b&&($=b.touches[0]),$&&h){var j=g?g.screenX:0,rt=g?g.screenY:0,nt=Math.abs(h.screenX-j)<5,pt=Math.abs(h.screenY-rt)<5;if(nt&&pt)return!0}return!1},o.prototype.getWrapper=function(c){for(;!c.classList.contains("ag-popup")&&c.parentElement;)c=c.parentElement;return c.classList.contains("ag-popup")?c:null},o.prototype.setAlwaysOnTop=function(c,h){var g=this.getWrapper(c);g&&(g.classList.toggle("ag-always-on-top",!!h),h&&this.bringPopupToFront(g))},o.prototype.bringPopupToFront=function(c){var h=this.getPopupParent(),g=Array.prototype.slice.call(h.querySelectorAll(".ag-popup")),b=g.length,$=Array.prototype.slice.call(h.querySelectorAll(".ag-popup.ag-always-on-top")),j=$.length,rt=this.getWrapper(c);if(!(!rt||b<=1||!h.contains(c))){var nt=g.indexOf(rt),pt=rt.querySelectorAll("div"),wt=[];if(pt.forEach(function(st){st.scrollTop!==0&&wt.push([st,st.scrollTop])}),j){var Dt=rt.classList.contains("ag-always-on-top");Dt?nt!==b-1&&last($).insertAdjacentElement("afterend",rt):nt!==b-j-1&&$[0].insertAdjacentElement("beforebegin",rt)}else nt!==b-1&&last(g).insertAdjacentElement("afterend",rt);for(;wt.length;){var Lt=wt.pop();Lt[0].scrollTop=Lt[1]}var it={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:rt};this.eventService.dispatchEvent(it)}};var e;return o.WAIT_FOR_POPUP_CONTENT_RESIZE=200,__decorate$O([Autowired("environment")],o.prototype,"environment",void 0),__decorate$O([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$O([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$O([Autowired("resizeObserverService")],o.prototype,"resizeObserverService",void 0),__decorate$O([Autowired("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),__decorate$O([PostConstruct],o.prototype,"postConstruct",null),o=e=__decorate$O([Bean("popupService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$L=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$N=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},VirtualList=function(a){__extends$L(o,a);function o(e,c,h){e===void 0&&(e="default"),c===void 0&&(c="listbox");var g=a.call(this,o.getTemplate(e))||this;return g.cssIdentifier=e,g.ariaRole=c,g.listName=h,g.renderedRows=new Map,g.rowHeight=20,g}return o.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(c){return e.onFocusIn(c)},onFocusOut:function(c){return e.onFocusOut(c)},focusInnerElement:function(c){return e.focusInnerElement(c)},onTabKeyDown:function(c){return e.onTabKeyDown(c)},handleKeyDown:function(c){return e.handleKeyDown(c)}}),this.setAriaProperties()},o.prototype.setAriaProperties=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),c=e("ariaDefaultListName",this.listName||"List"),h=this.eContainer;setAriaRole(h,this.ariaRole),setAriaLabel(h,c)},o.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),c=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(c)},o.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},o.prototype.onFocusIn=function(e){var c=e.target;return c.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=getAriaPosInSet(c)-1),!1},o.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},o.prototype.handleKeyDown=function(e){switch(e.key){case KeyCode.UP:case KeyCode.DOWN:this.navigate(e.key===KeyCode.UP)&&e.preventDefault();break}},o.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusService.focusInto(this.getGui(),!e.shiftKey)},o.prototype.navigate=function(e){if(this.lastFocusedRowIndex==null)return!1;var c=this.lastFocusedRowIndex+(e?-1:1);return c<0||c>=this.model.getRowCount()?!1:(this.focusRow(c),!0)},o.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},o.prototype.focusRow=function(e){var c=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(c.isAlive()){var h=c.renderedRows.get(e);h&&h.eDiv.focus()}},10)},o.prototype.getComponentAt=function(e){var c=this.renderedRows.get(e);return c&&c.rowComponent},o.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(c,h){return e(c.rowComponent,h)})},o.getTemplate=function(e){return`
            <div class="ag-virtual-list-viewport ag-`+e+`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`+e+`-virtual-list-container" ref="eContainer"></div>
            </div>`},o.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},o.prototype.ensureIndexVisible=function(e){var c=this.model.getRowCount();if(typeof e!="number"||e<0||e>=c){console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);return}var h=e*this.rowHeight,g=h+this.rowHeight,b=this.getGui(),$=b.scrollTop,j=b.offsetHeight,rt=$+j,nt=$>h,pt=rt<g;if(nt)b.scrollTop=h;else if(pt){var wt=g-j;b.scrollTop=wt}},o.prototype.setComponentCreator=function(e){this.componentCreator=e},o.prototype.getRowHeight=function(){return this.rowHeight},o.prototype.getScrollTop=function(){return this.getGui().scrollTop},o.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},o.prototype.refresh=function(){var e=this;if(!(this.model==null||!this.isAlive())){var c=this.model.getRowCount();this.eContainer.style.height=c*this.rowHeight+"px",waitUntil(function(){return e.eContainer.clientHeight>=c*e.rowHeight},function(){e.isAlive()&&(e.clearVirtualRows(),e.drawVirtualRows())})}},o.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(c,h){return e.removeRow(h)})},o.prototype.drawVirtualRows=function(){if(this.isAlive()){var e=this.getGui(),c=e.scrollTop,h=c+e.offsetHeight,g=Math.floor(c/this.rowHeight),b=Math.floor(h/this.rowHeight);this.ensureRowsRendered(g,b)}},o.prototype.ensureRowsRendered=function(e,c){var h=this;this.renderedRows.forEach(function(b,$){($<e||$>c)&&$!==h.lastFocusedRowIndex&&h.removeRow($)});for(var g=e;g<=c;g++)this.renderedRows.has(g)||g<this.model.getRowCount()&&this.insertRow(g)},o.prototype.insertRow=function(e){var c=this,h=this.model.getRow(e),g=document.createElement("div");if(g.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),setAriaRole(g,this.ariaRole==="tree"?"treeitem":"option"),setAriaSetSize(g,this.model.getRowCount()),setAriaPosInSet(g,e+1),g.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){var b=this.model.isRowSelected(e);setAriaSelected(g,!!b),setAriaChecked(g,b)}g.style.height=this.rowHeight+"px",g.style.top=this.rowHeight*e+"px";var $=this.componentCreator(h,g);$.addGuiEventListener("focusin",function(){return c.lastFocusedRowIndex=e}),g.appendChild($.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",g):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",g):this.eContainer.appendChild(g),this.renderedRows.set(e,{rowComponent:$,eDiv:g})},o.prototype.removeRow=function(e){var c=this.renderedRows.get(e);this.eContainer.removeChild(c.eDiv),this.destroyBean(c.rowComponent),this.renderedRows.delete(e)},o.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},o.prototype.setModel=function(e){this.model=e},o.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),a.prototype.destroy.call(this))},__decorate$N([Autowired("resizeObserverService")],o.prototype,"resizeObserverService",void 0),__decorate$N([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$N([RefSelector("eContainer")],o.prototype,"eContainer",void 0),__decorate$N([PostConstruct],o.prototype,"postConstruct",null),o}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var OUTSIDE_ANGULAR_EVENTS=["mouseover","mouseout","mouseenter","mouseleave"],PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel"],VanillaFrameworkOverrides=function(){function a(){this.isOutsideAngular=function(o){return includes(OUTSIDE_ANGULAR_EVENTS,o)}}return a.prototype.setTimeout=function(o,e){window.setTimeout(o,e)},a.prototype.setInterval=function(o,e){return new AgPromise(function(c){c(window.setInterval(o,e))})},a.prototype.addEventListener=function(o,e,c,h){var g=includes(PASSIVE_EVENTS,e);o.addEventListener(e,c,{capture:!!h,passive:g})},a.prototype.dispatchEvent=function(o,e,c){e()},a.prototype.frameworkComponent=function(o){return null},a.prototype.isFrameworkComponent=function(o){return!1},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$K=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$M=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$5=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$4=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$5(arguments[o]));return a},CellNavigationService=function(a){__extends$K(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getNextCellToFocus=function(e,c,h){return h===void 0&&(h=!1),h?this.getNextCellToFocusWithCtrlPressed(e,c):this.getNextCellToFocusWithoutCtrlPressed(e,c)},o.prototype.getNextCellToFocusWithCtrlPressed=function(e,c){var h=e===KeyCode.UP,g=e===KeyCode.DOWN,b=e===KeyCode.LEFT,$,j;if(h||g)j=h?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),$=c.column;else{var rt=this.columnModel.getAllDisplayedColumns(),nt=this.gridOptionsWrapper.isEnableRtl();j=c.rowIndex,$=b!==nt?rt[0]:last(rt)}return{rowIndex:j,rowPinned:null,column:$}},o.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,c){for(var h=c,g=!1;!g;){switch(e){case KeyCode.UP:h=this.getCellAbove(h);break;case KeyCode.DOWN:h=this.getCellBelow(h);break;case KeyCode.RIGHT:this.gridOptionsWrapper.isEnableRtl()?h=this.getCellToLeft(h):h=this.getCellToRight(h);break;case KeyCode.LEFT:this.gridOptionsWrapper.isEnableRtl()?h=this.getCellToRight(h):h=this.getCellToLeft(h);break;default:h=null,console.warn("AG Grid: unknown key for navigation "+e);break}h?g=this.isCellGoodToFocusOn(h):g=!0}return h},o.prototype.isCellGoodToFocusOn=function(e){var c=e.column,h;switch(e.rowPinned){case Constants.PINNED_TOP:h=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case Constants.PINNED_BOTTOM:h=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:h=this.rowModel.getRow(e.rowIndex);break}if(!h)return!1;var g=c.isSuppressNavigable(h);return!g},o.prototype.getCellToLeft=function(e){if(!e)return null;var c=this.columnModel.getDisplayedColBefore(e.column);return c?{rowIndex:e.rowIndex,column:c,rowPinned:e.rowPinned}:null},o.prototype.getCellToRight=function(e){if(!e)return null;var c=this.columnModel.getDisplayedColAfter(e.column);return c?{rowIndex:e.rowIndex,column:c,rowPinned:e.rowPinned}:null},o.prototype.getRowBelow=function(e){var c=e.rowIndex,h=e.rowPinned;if(this.isLastRowInContainer(e))switch(h){case Constants.PINNED_BOTTOM:return null;case Constants.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Constants.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Constants.PINNED_BOTTOM}:null}var g=this.rowModel.getRow(e.rowIndex),b=this.getNextStickyPosition(g);return b||{rowIndex:c+1,rowPinned:h}},o.prototype.getNextStickyPosition=function(e,c){if(!(!this.gridOptionsWrapper.isGroupRowsSticky()||!e||!e.sticky)){var h=__spread$4(this.rowRenderer.getStickyTopRowCtrls()).sort(function(j,rt){return j.getRowNode().rowIndex-rt.getRowNode().rowIndex}),g=c?-1:1,b=h.findIndex(function(j){return j.getRowNode().rowIndex===e.rowIndex}),$=h[b+g];if($)return{rowIndex:$.getRowNode().rowIndex,rowPinned:null}}},o.prototype.getCellBelow=function(e){if(!e)return null;var c=this.getRowBelow(e);return c?{rowIndex:c.rowIndex,column:e.column,rowPinned:c.rowPinned}:null},o.prototype.isLastRowInContainer=function(e){var c=e.rowPinned,h=e.rowIndex;if(c===Constants.PINNED_TOP){var g=this.pinnedRowModel.getPinnedTopRowData().length-1;return g<=h}if(c===Constants.PINNED_BOTTOM){var b=this.pinnedRowModel.getPinnedBottomRowData().length-1;return b<=h}var $=this.paginationProxy.getPageLastRow();return $<=h},o.prototype.getRowAbove=function(e){var c=e.rowIndex,h=e.rowPinned,g=h?c===0:c===this.paginationProxy.getPageFirstRow();if(g)return h===Constants.PINNED_TOP?null:h?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)?this.getLastFloatingTopRow():null;var b=this.rowModel.getRow(e.rowIndex),$=this.getNextStickyPosition(b,!0);return $||{rowIndex:c-1,rowPinned:h}},o.prototype.getCellAbove=function(e){if(!e)return null;var c=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return c?{rowIndex:c.rowIndex,column:e.column,rowPinned:c.rowPinned}:null},o.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},o.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:Constants.PINNED_TOP}},o.prototype.getNextTabbedCell=function(e,c){return c?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},o.prototype.getNextTabbedCellForwards=function(e){var c=this.columnModel.getAllDisplayedColumns(),h=e.rowIndex,g=e.rowPinned,b=this.columnModel.getDisplayedColAfter(e.column);if(!b){b=c[0];var $=this.getRowBelow(e);if(missing($)||!$.rowPinned&&!this.paginationProxy.isRowInPage($))return null;h=$?$.rowIndex:null,g=$?$.rowPinned:null}return{rowIndex:h,column:b,rowPinned:g}},o.prototype.getNextTabbedCellBackwards=function(e){var c=this.columnModel.getAllDisplayedColumns(),h=e.rowIndex,g=e.rowPinned,b=this.columnModel.getDisplayedColBefore(e.column);if(!b){b=last(c);var $=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(missing($)||!$.rowPinned&&!this.paginationProxy.isRowInPage($))return null;h=$?$.rowIndex:null,g=$?$.rowPinned:null}return{rowIndex:h,column:b,rowPinned:g}},__decorate$M([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$M([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$M([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$M([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate$M([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),o=__decorate$M([Bean("cellNavigationService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$J=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$L=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$5=function(a,o){return function(e,c){o(e,c,a)}},AlignedGridsService=function(a){__extends$J(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.consuming=!1,e}return o.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},o.prototype.init=function(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},o.prototype.fireEvent=function(e){if(!this.consuming){var c=this.gridOptionsWrapper.getAlignedGrids();c&&c.forEach(function(h){if(h.api){var g=h.api.__getAlignedGridService();e(g)}})}},o.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},o.prototype.fireColumnEvent=function(e){this.fireEvent(function(c){c.onColumnEvent(e)})},o.prototype.fireScrollEvent=function(e){e.direction==="horizontal"&&this.fireEvent(function(c){c.onScrollEvent(e)})},o.prototype.onScrollEvent=function(e){var c=this;this.onEvent(function(){var h=c.ctrlsService.getGridBodyCtrl();h.getScrollFeature().setHorizontalScrollPosition(e.left)})},o.prototype.getMasterColumns=function(e){var c=[];return e.columns?e.columns.forEach(function(h){c.push(h)}):e.column&&c.push(e.column),c},o.prototype.getColumnIds=function(e){var c=[];return e.columns?e.columns.forEach(function(h){c.push(h.getColId())}):e.column&&c.push(e.column.getColId()),c},o.prototype.onColumnEvent=function(e){var c=this;this.onEvent(function(){switch(e.type){case Events.EVENT_COLUMN_MOVED:case Events.EVENT_COLUMN_VISIBLE:case Events.EVENT_COLUMN_PINNED:case Events.EVENT_COLUMN_RESIZED:var h=e;c.processColumnEvent(h);break;case Events.EVENT_COLUMN_GROUP_OPENED:var g=e;c.processGroupOpenedEvent(g);break;case Events.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},o.prototype.processGroupOpenedEvent=function(e){var c=e.columnGroup,h=null;if(c){var g=c.getGroupId();h=this.columnModel.getProvidedColumnGroup(g)}c&&!h||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+c.isExpanded()),this.columnModel.setColumnGroupOpened(h,c.isExpanded(),"alignedGridChanged"))},o.prototype.processColumnEvent=function(e){var c=this,h,g=e.column,b=null;if(g&&(b=this.columnModel.getPrimaryColumn(g.getColId())),!(g&&!b)){var $=this.getMasterColumns(e);switch(e.type){case Events.EVENT_COLUMN_MOVED:{var j=e,rt=e.columnApi.getColumnState(),nt=rt.map(function(gt){return{colId:gt.colId}});this.columnModel.applyColumnState({state:nt,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+j.toIndex)}break;case Events.EVENT_COLUMN_VISIBLE:{var pt=e,rt=e.columnApi.getColumnState(),nt=rt.map(function(ot){return{colId:ot.colId,hide:ot.hide}});this.columnModel.applyColumnState({state:nt},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+pt.visible)}break;case Events.EVENT_COLUMN_PINNED:{var wt=e,rt=e.columnApi.getColumnState(),nt=rt.map(function(ot){return{colId:ot.colId,pinned:ot.pinned}});this.columnModel.applyColumnState({state:nt},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+wt.pinned)}break;case Events.EVENT_COLUMN_RESIZED:var Dt=e,Lt={};$.forEach(function(gt){c.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+gt.getActualWidth()),Lt[gt.getId()]={key:gt.getColId(),newWidth:gt.getActualWidth()}}),(h=Dt.flexColumns)===null||h===void 0||h.forEach(function(gt){Lt[gt.getId()]&&delete Lt[gt.getId()]}),this.columnModel.setColumnWidths(Object.values(Lt),!1,Dt.finished,"alignedGridChanged");break}var it=this.ctrlsService.getGridBodyCtrl(),st=it.isVerticalScrollShowing(),bt=this.gridOptionsWrapper.getAlignedGrids();bt&&bt.forEach(function(gt){gt.api&&gt.api.setAlwaysShowVerticalScroll(st)})}},__decorate$L([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$L([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$L([__param$5(0,Qualifier("loggerFactory"))],o.prototype,"setBeans",null),__decorate$L([PostConstruct],o.prototype,"init",null),o=__decorate$L([Bean("alignedGridsService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$I=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$K=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$4=function(a,o){return function(e,c){o(e,c,a)}},SelectionService=function(a){__extends$I(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Events.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},o.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},o.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},o.prototype.getSelectedNodes=function(){var e=[];return iterateObject(this.selectedNodes,function(c,h){h&&e.push(h)}),e},o.prototype.getSelectedRows=function(){var e=[];return iterateObject(this.selectedNodes,function(c,h){h&&h.data&&e.push(h.data)}),e},o.prototype.removeGroupsFromSelection=function(){var e=this;iterateObject(this.selectedNodes,function(c,h){h&&h.group&&(e.selectedNodes[h.id]=void 0)})},o.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE){var c=this.rowModel,h=c.getRootNode();e||(e=new ChangedPath(!0,h),e.setInactive()),e.forEachChangedNodeDepthFirst(function(g){if(g!==h){var b=g.calculateSelectedFromChildren();g.selectThisNode(b===null?!1:b)}})}},o.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},o.prototype.clearOtherNodes=function(e){var c=this,h={},g=0;return iterateObject(this.selectedNodes,function(b,$){if($&&$.id!==e.id){var j=c.selectedNodes[$.id];g+=j.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),c.groupSelectsChildren&&$.parent&&(h[$.parent.id]=$.parent)}}),iterateObject(h,function(b,$){var j=$.calculateSelectedFromChildren();$.selectThisNode(j===null?!1:j)}),g},o.prototype.onRowSelected=function(e){var c=e.node;this.groupSelectsChildren&&c.group||(c.isSelected()?this.selectedNodes[c.id]=c:this.selectedNodes[c.id]=void 0)},o.prototype.syncInRowNode=function(e,c){this.syncInOldRowNode(e,c),this.syncInNewRowNode(e)},o.prototype.syncInOldRowNode=function(e,c){var h=exists(c)&&e.id!==c.id;if(h&&c){var g=c.id,b=this.selectedNodes[g]==e;b&&(this.selectedNodes[c.id]=c)}},o.prototype.syncInNewRowNode=function(e){exists(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},o.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},o.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!==Constants.ROW_MODEL_TYPE_CLIENT_SIDE){console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model");return}var e=this.rowModel,c=e.getTopLevelNodes();if(c===null){console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`");return}var h=[];function g(b){for(var $=0,j=b.length;$<j;$++){var rt=b[$];if(rt.isSelected())h.push(rt);else{var nt=rt;nt.group&&nt.children&&g(nt.children)}}}return g(c),h},o.prototype.setRowModel=function(e){this.rowModel=e},o.prototype.isEmpty=function(){var e=0;return iterateObject(this.selectedNodes,function(c,h){h&&e++}),e===0},o.prototype.deselectAllRowNodes=function(e){e===void 0&&(e=!1);var c=function($){return $.selectThisNode(!1)},h=this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!h){console.error("AG Grid: selecting just filtered only works with In Memory Row Model");return}var g=this.rowModel;g.forEachNodeAfterFilter(c)}else iterateObject(this.selectedNodes,function($,j){j&&c(j)}),this.reset();h&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var b={type:Events.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(b)},o.prototype.selectAllRowNodes=function(e){if(e===void 0&&(e=!1),this.rowModel.getType()!==Constants.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var c=this.rowModel,h=function(b){return b.selectThisNode(!0)};e?c.forEachNodeAfterFilter(h):c.forEachNode(h),this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var g={type:Events.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(g)},o.prototype.selectNode=function(e,c){e&&e.setSelectedParams({newValue:!0,clearSelection:!c})},o.prototype.deselectIndex=function(e){var c=this.rowModel.getRow(e);this.deselectNode(c)},o.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},o.prototype.selectIndex=function(e,c){var h=this.rowModel.getRow(e);this.selectNode(h,c)},__decorate$K([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$K([__param$4(0,Qualifier("loggerFactory"))],o.prototype,"setBeans",null),__decorate$K([PostConstruct],o.prototype,"init",null),o=__decorate$K([Bean("selectionService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$J=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ColumnApi=function(){function a(){}return a.prototype.sizeColumnsToFit=function(o){typeof o>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(o,"api")},a.prototype.setColumnGroupOpened=function(o,e){this.columnModel.setColumnGroupOpened(o,e,"api")},a.prototype.getColumnGroup=function(o,e){return this.columnModel.getColumnGroup(o,e)},a.prototype.getProvidedColumnGroup=function(o){return this.columnModel.getProvidedColumnGroup(o)},a.prototype.getDisplayNameForColumn=function(o,e){return this.columnModel.getDisplayNameForColumn(o,e)||""},a.prototype.getDisplayNameForColumnGroup=function(o,e){return this.columnModel.getDisplayNameForColumnGroup(o,e)||""},a.prototype.getColumn=function(o){return this.columnModel.getPrimaryColumn(o)},a.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},a.prototype.applyColumnState=function(o){return this.columnModel.applyColumnState(o,"api")},a.prototype.getColumnState=function(){return this.columnModel.getColumnState()},a.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},a.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},a.prototype.setColumnGroupState=function(o){this.columnModel.setColumnGroupState(o,"api")},a.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},a.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},a.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},a.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},a.prototype.getDisplayedColAfter=function(o){return this.columnModel.getDisplayedColAfter(o)},a.prototype.getDisplayedColBefore=function(o){return this.columnModel.getDisplayedColBefore(o)},a.prototype.setColumnVisible=function(o,e){this.columnModel.setColumnVisible(o,e,"api")},a.prototype.setColumnsVisible=function(o,e){this.columnModel.setColumnsVisible(o,e,"api")},a.prototype.setColumnPinned=function(o,e){this.columnModel.setColumnPinned(o,e,"api")},a.prototype.setColumnsPinned=function(o,e){this.columnModel.setColumnsPinned(o,e,"api")},a.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},a.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},a.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},a.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},a.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},a.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},a.prototype.moveColumn=function(o,e){typeof o=="number"?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(o,e,"api")):this.columnModel.moveColumn(o,e,"api")},a.prototype.moveColumnByIndex=function(o,e){this.columnModel.moveColumnByIndex(o,e,"api")},a.prototype.moveColumns=function(o,e){this.columnModel.moveColumns(o,e,"api")},a.prototype.moveRowGroupColumn=function(o,e){this.columnModel.moveRowGroupColumn(o,e)},a.prototype.setColumnAggFunc=function(o,e){this.columnModel.setColumnAggFunc(o,e)},a.prototype.setColumnWidth=function(o,e,c,h){c===void 0&&(c=!0),this.columnModel.setColumnWidths([{key:o,newWidth:e}],!1,c,h)},a.prototype.setColumnWidths=function(o,e,c){e===void 0&&(e=!0),this.columnModel.setColumnWidths(o,!1,e,c)},a.prototype.setPivotMode=function(o){this.columnModel.setPivotMode(o)},a.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},a.prototype.getSecondaryPivotColumn=function(o,e){return console.warn("AG Grid: since version 28.0.x getSecondaryPivotColumn has been renamed, please use getPivotResultColumn instead"),this.getPivotResultColumn(o,e)},a.prototype.getPivotResultColumn=function(o,e){return this.columnModel.getSecondaryPivotColumn(o,e)},a.prototype.setValueColumns=function(o){this.columnModel.setValueColumns(o,"api")},a.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},a.prototype.removeValueColumn=function(o){this.columnModel.removeValueColumn(o,"api")},a.prototype.removeValueColumns=function(o){this.columnModel.removeValueColumns(o,"api")},a.prototype.addValueColumn=function(o){this.columnModel.addValueColumn(o,"api")},a.prototype.addValueColumns=function(o){this.columnModel.addValueColumns(o,"api")},a.prototype.setRowGroupColumns=function(o){this.columnModel.setRowGroupColumns(o,"api")},a.prototype.removeRowGroupColumn=function(o){this.columnModel.removeRowGroupColumn(o,"api")},a.prototype.removeRowGroupColumns=function(o){this.columnModel.removeRowGroupColumns(o,"api")},a.prototype.addRowGroupColumn=function(o){this.columnModel.addRowGroupColumn(o,"api")},a.prototype.addRowGroupColumns=function(o){this.columnModel.addRowGroupColumns(o,"api")},a.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},a.prototype.setPivotColumns=function(o){this.columnModel.setPivotColumns(o,"api")},a.prototype.removePivotColumn=function(o){this.columnModel.removePivotColumn(o,"api")},a.prototype.removePivotColumns=function(o){this.columnModel.removePivotColumns(o,"api")},a.prototype.addPivotColumn=function(o){this.columnModel.addPivotColumn(o,"api")},a.prototype.addPivotColumns=function(o){this.columnModel.addPivotColumns(o,"api")},a.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},a.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},a.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},a.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},a.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},a.prototype.autoSizeColumn=function(o,e){return this.columnModel.autoSizeColumn(o,e,"api")},a.prototype.autoSizeColumns=function(o,e){this.columnModel.autoSizeColumns({columns:o,skipHeader:e})},a.prototype.autoSizeAllColumns=function(o){this.columnModel.autoSizeAllColumns(o,"api")},a.prototype.setSecondaryColumns=function(o){console.warn("AG Grid: since version 28.0.x setSecondaryColumns has been renamed, please use setPivotResultColumns instead"),this.setPivotResultColumns(o)},a.prototype.setPivotResultColumns=function(o){this.columnModel.setSecondaryColumns(o,"api")},a.prototype.getSecondaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getSecondaryColumns has been renamed, please use getPivotResultColumns instead"),this.getPivotResultColumns()},a.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},a.prototype.getPrimaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getPrimaryColumns has been renamed, please use getColumns instead"),this.getColumns()},a.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(_.removeAllReferences.bind(window,this,"Column API"),100)},a.prototype.getAllColumns=function(){return console.warn("AG Grid: since version 28.0.x getAllColumns has been renamed, please use getColumns instead"),this.getColumns()},a.prototype.columnGroupOpened=function(o,e){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(o,e)},a.prototype.hideColumns=function(o,e){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(o,!e,"api")},a.prototype.hideColumn=function(o,e){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(o,!e,"api")},a.prototype.setState=function(o){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(o)},a.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},a.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},a.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},a.prototype.removeAggregationColumn=function(o){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(o,"api")},a.prototype.removeAggregationColumns=function(o){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(o,"api")},a.prototype.addAggregationColumn=function(o){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(o,"api")},a.prototype.addAggregationColumns=function(o){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(o,"api")},a.prototype.setColumnAggFunction=function(o,e){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(o,e,"api")},a.prototype.getDisplayNameForCol=function(o){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(o,null)},a.prototype.setColumnState=function(o){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:o,applyOrder:!0},"api")},a.prototype.getOriginalColumnGroup=function(o){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(o)},__decorate$J([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$J([PreDestroy],a.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),a=__decorate$J([Bean("columnApi")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$H=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$I=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ValueService=function(a){__extends$H(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.initialised=!1,e}return o.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(Events.EVENT_CELL_VALUE_CHANGED,function(c){return e.callColumnCellValueChangedHandler(c)},this.gridOptionsWrapper.useAsyncEvents())},o.prototype.getValue=function(e,c,h,g){if(h===void 0&&(h=!1),g===void 0&&(g=!1),this.initialised||this.init(),!!c){var b=e.getColDef(),$=b.field,j=e.getId(),rt=c.data,nt,pt=c.groupData&&c.groupData[j]!==void 0,wt=!g&&c.aggData&&c.aggData[j]!==void 0;if(h&&b.filterValueGetter?nt=this.executeFilterValueGetter(b.filterValueGetter,rt,e,c):this.gridOptionsWrapper.isTreeData()&&wt?nt=c.aggData[j]:this.gridOptionsWrapper.isTreeData()&&b.valueGetter?nt=this.executeValueGetter(b.valueGetter,rt,e,c):this.gridOptionsWrapper.isTreeData()&&$&&rt?nt=getValueUsingField(rt,$,e.isFieldContainsDots()):pt?nt=c.groupData[j]:wt?nt=c.aggData[j]:b.valueGetter?nt=this.executeValueGetter(b.valueGetter,rt,e,c):$&&rt&&(nt=getValueUsingField(rt,$,e.isFieldContainsDots())),this.cellExpressions&&typeof nt=="string"&&nt.indexOf("=")===0){var Dt=nt.substring(1);nt=this.executeValueGetter(Dt,rt,e,c)}if(nt==null){var Lt=this.getOpenedGroup(c,e);if(Lt!=null)return Lt}return nt}},o.prototype.getOpenedGroup=function(e,c){if(this.gridOptionsWrapper.isShowOpenedGroup()){var h=c.getColDef();if(h.showRowGroup)for(var g=c.getColDef().showRowGroup,b=e.parent;b!=null;){if(b.rowGroupColumn&&(g===!0||g===b.rowGroupColumn.getId()))return b.key;b=b.parent}}},o.prototype.setValue=function(e,c,h,g){var b=this.columnModel.getPrimaryColumn(c);if(!e||!b)return!1;missing(e.data)&&(e.data={});var $=b.getColDef(),j=$.field,rt=$.newValueHandler,nt=$.valueSetter;if(missing(j)&&missing(rt)&&missing(nt))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var pt={node:e,data:e.data,oldValue:this.getValue(b,e),newValue:h,colDef:b.getColDef(),column:b,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};pt.newValue=h;var wt;if(rt&&exists(rt)?wt=rt(pt):exists(nt)?wt=this.expressionService.evaluate(nt,pt):wt=this.setValueUsingField(e.data,j,h,b.isFieldContainsDots()),wt===void 0&&(wt=!0),!wt)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),pt.newValue=this.getValue(b,e);var Dt={type:Events.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:pt.column,api:pt.api,columnApi:pt.columnApi,colDef:pt.colDef,context:pt.context,data:e.data,node:e,oldValue:pt.oldValue,newValue:pt.newValue,value:pt.newValue,source:g};return this.eventService.dispatchEvent(Dt),!0},o.prototype.callColumnCellValueChangedHandler=function(e){var c=e.colDef.onCellValueChanged;typeof c=="function"&&c({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},o.prototype.setValueUsingField=function(e,c,h,g){if(!c)return!1;var b=!1;if(!g)b=e[c]==h,b||(e[c]=h);else for(var $=c.split("."),j=e;$.length>0&&j;){var rt=$.shift();$.length===0?(b=j[rt]==h,b||(j[rt]=h)):j=j[rt]}return!b},o.prototype.executeFilterValueGetter=function(e,c,h,g){var b={data:c,node:g,column:h,colDef:h.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,g)};return this.expressionService.evaluate(e,b)},o.prototype.executeValueGetter=function(e,c,h,g){var b=h.getId(),$=this.valueCache.getValue(g,b);if($!==void 0)return $;var j={data:c,node:g,column:h,colDef:h.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,g)},rt=this.expressionService.evaluate(e,j);return this.valueCache.setValue(g,b,rt),rt},o.prototype.getValueCallback=function(e,c){var h=this.columnModel.getPrimaryColumn(c);return h?this.getValue(h,e):null},o.prototype.getKeyForNode=function(e,c){var h=this.getValue(e,c),g=e.getColDef().keyCreator,b=h;if(g){var $={value:h,colDef:e.getColDef(),column:e,node:c,data:c.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};b=g($)}return typeof b=="string"||b==null||(b=String(b),b==="[object Object]"&&doOnce(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),b},__decorate$I([Autowired("expressionService")],o.prototype,"expressionService",void 0),__decorate$I([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$I([Autowired("valueCache")],o.prototype,"valueCache",void 0),__decorate$I([PostConstruct],o.prototype,"init",null),o=__decorate$I([Bean("valueService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$G=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$H=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$3=function(a,o){return function(e,c){o(e,c,a)}},ExpressionService=function(a){__extends$G(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return o.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},o.prototype.evaluate=function(e,c){if(typeof e=="function"){var h=e;return h(c)}else if(typeof e=="string"){var g=e;return this.evaluateExpression(g,c)}else console.error("AG Grid: value should be either a string or a function",e)},o.prototype.evaluateExpression=function(e,c){try{var h=this.createExpressionFunction(e),g=h(c.value,c.context,c.oldValue,c.newValue,c.value,c.node,c.data,c.colDef,c.rowIndex,c.api,c.columnApi,c.getValue,c.column,c.columnGroup);return g}catch(b){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",c),console.log("Exception = "+b),null}},o.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var c=this.createFunctionBody(e),h=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",c);return this.expressionToFunctionCache[e]=h,h},o.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},__decorate$H([__param$3(0,Qualifier("loggerFactory"))],o.prototype,"setBeans",null),o=__decorate$H([Bean("expressionService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$F=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$G=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},TemplateService=function(a){__extends$F(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return o.prototype.getTemplate=function(e,c){var h=this.templateCache[e];if(h)return h;var g=this.waitingCallbacks[e],b=this;if(!g){g=[],this.waitingCallbacks[e]=g;var $=new XMLHttpRequest;$.onload=function(){b.handleHttpResult(this,e)},$.open("GET",e),$.send()}return c&&g.push(c),null},o.prototype.handleHttpResult=function(e,c){if(e.status!==200||e.response===null){console.warn("AG Grid: Unable to get template error "+e.status+" - "+c);return}this.templateCache[c]=e.response||e.responseText;for(var h=this.waitingCallbacks[c],g=0;g<h.length;g++){var b=h[g];b()}},o=__decorate$G([Bean("templateService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$E=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$F=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$2=function(a,o){return function(e,c){o(e,c,a)}},LoggerFactory=function(a){__extends$E(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setBeans=function(e){this.logging=e.isDebug()},o.prototype.create=function(e){return new Logger(e,this.isLogging.bind(this))},o.prototype.isLogging=function(){return this.logging},__decorate$F([__param$2(0,Qualifier("gridOptionsWrapper"))],o.prototype,"setBeans",null),o=__decorate$F([Bean("loggerFactory")],o),o}(BeanStub),Logger=function(){function a(o,e){this.name=o,this.isLoggingFunc=e}return a.prototype.isLogging=function(){return this.isLoggingFunc()},a.prototype.log=function(o){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+o)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$D=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$E=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GridCtrl=function(a){__extends$D(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setComp=function(e,c,h){var g=this;this.view=e,this.eGridHostDiv=c,this.eGui=h,this.dragAndDropService.addDropTarget({getContainer:function(){return g.eGui},isInterestedIn:function($){return $===DragSourceType.HeaderCell||$===DragSourceType.ToolPanel},getIconName:function(){return DragAndDropService.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(c),this.createManagedBean(new LayoutFeature(this.view)),this.addRtlSupport(),this.addManagedListener(this,Events.EVENT_KEYBOARD_FOCUS,function(){g.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,Events.EVENT_MOUSE_FOCUS,function(){g.view.addOrRemoveKeyboardFocusClass(!1)});var b=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return b()}),this.ctrlsService.registerGridCtrl(this)},o.prototype.isDetailGrid=function(){var e,c,h=this.focusService.findTabbableParent(this.getGui());return((c=(e=h)===null||e===void 0?void 0:e.getAttribute("row-id"))===null||c===void 0?void 0:c.startsWith("detail"))||!1},o.prototype.showDropZones=function(){return ModuleRegistry.isRegistered(ModuleNames.RowGroupingModule)},o.prototype.showSideBar=function(){return ModuleRegistry.isRegistered(ModuleNames.SideBarModule)},o.prototype.showStatusBar=function(){return ModuleRegistry.isRegistered(ModuleNames.StatusBarModule)},o.prototype.showWatermark=function(){return ModuleRegistry.isRegistered(ModuleNames.EnterpriseCoreModule)},o.prototype.onGridSizeChanged=function(){var e={type:Events.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},o.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},o.prototype.destroyGridUi=function(){this.view.destroyGridUi()},o.prototype.getGui=function(){return this.eGui},o.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},o.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},o.prototype.focusNextInnerContainer=function(e){var c=this.gridOptionsWrapper.getDocument(),h=this.view.getFocusableContainers(),g=h.findIndex(function($){return $.contains(c.activeElement)}),b=g+(e?-1:1);return b<=0||b>=h.length?!1:this.focusService.focusInto(h[b])},o.prototype.focusInnerElement=function(e){var c=this.view.getFocusableContainers();if(e){if(c.length>1)return this.focusService.focusInto(last(c),!0);var h=last(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(h,!0))return!0}return this.focusService.focusFirstHeader()},o.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.view.forceFocusOutOfContainer(e)},__decorate$E([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$E([Autowired("resizeObserverService")],o.prototype,"resizeObserverService",void 0),__decorate$E([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$E([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$E([Autowired("mouseEventService")],o.prototype,"mouseEventService",void 0),__decorate$E([Autowired("dragAndDropService")],o.prototype,"dragAndDropService",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$C=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$D=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},GridComp$1=function(a){__extends$C(o,a);function o(e){var c=a.call(this,void 0)||this;return c.eGridDiv=e,c}return o.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var c={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(g){return e.addCssClass(g)},addOrRemoveKeyboardFocusClass:function(g){return e.addOrRemoveCssClass(FocusService.AG_KEYBOARD_FOCUS,g)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(g){e.getGui().style.userSelect=g??"",e.getGui().style.webkitUserSelect=g??""},setCursor:function(g){e.getGui().style.cursor=g??""}};this.ctrl=this.createManagedBean(new GridCtrl);var h=this.createTemplate();this.setTemplate(h),this.ctrl.setComp(c,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(g){return e.ctrl.focusInnerElement(g)}})},o.prototype.insertGridIntoDom=function(){var e=this,c=this.getGui();this.eGridDiv.appendChild(c),this.addDestroyFunc(function(){e.eGridDiv.removeChild(c),e.logger.log("Grid removed from DOM")})},o.prototype.updateLayoutClasses=function(e,c){var h=this.eRootWrapperBody.classList;h.toggle(LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),h.toggle(LayoutCssClasses.NORMAL,c.normal),h.toggle(LayoutCssClasses.PRINT,c.print),this.addOrRemoveCssClass(LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),this.addOrRemoveCssClass(LayoutCssClasses.NORMAL,c.normal),this.addOrRemoveCssClass(LayoutCssClasses.PRINT,c.print)},o.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",c=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",h=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",g=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",b=`<div class="ag-root-wrapper" role="presentation">
                `+e+`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `+c+`
                </div>
                `+h+`
                <ag-pagination></ag-pagination>
                `+g+`
            </div>`;return b},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(c){return isVisible(c)})},__decorate$D([Autowired("loggerFactory")],o.prototype,"loggerFactory",void 0),__decorate$D([RefSelector("gridBody")],o.prototype,"gridBodyComp",void 0),__decorate$D([RefSelector("sideBar")],o.prototype,"sideBarComp",void 0),__decorate$D([RefSelector("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),__decorate$D([PostConstruct],o.prototype,"postConstruct",null),o}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$B=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$C=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$4=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$3=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$4(arguments[o]));return a},SortController=function(a){__extends$B(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}e=o,o.prototype.progressSort=function(c,h,g){var b=this.getNextSortDirection(c);this.setSortForColumn(c,b,h,g)},o.prototype.setSortForColumn=function(c,h,g,b){var $;h!==Constants.SORT_ASC&&h!==Constants.SORT_DESC&&(h=null);var j=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),rt=[c];if(j&&c.getColDef().showRowGroup){var nt=this.columnModel.getSourceColumnsForGroupColumn(c),pt=($=nt)===null||$===void 0?void 0:$.filter(function(Dt){return Dt.getColDef().sortable});pt&&(rt=__spread$3([c],pt))}rt.forEach(function(Dt){return Dt.setSort(h,b)});var wt=(g||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort();wt||this.clearSortBarTheseColumns(rt,b),this.updateSortIndex(c),this.dispatchSortChangedEvents(b)},o.prototype.updateSortIndex=function(c){var h=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),g=this.columnModel.getGroupDisplayColumnForGroup(c.getId()),b=h&&g||c,$=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(nt){return nt.setSortIndex(null)});var j=$.filter(function(nt){return nt!==b}),rt=b.getSort()?__spread$3(j,[b]):j;rt.forEach(function(nt,pt){return nt.setSortIndex(pt)})},o.prototype.onSortChanged=function(c){this.dispatchSortChangedEvents(c)},o.prototype.isSortActive=function(){var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),h=c.filter(function(g){return!!g.getSort()});return h&&h.length>0},o.prototype.dispatchSortChangedEvents=function(c){var h={type:Events.EVENT_SORT_CHANGED,source:c};this.eventService.dispatchEvent(h)},o.prototype.clearSortBarTheseColumns=function(c,h){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(g){c.includes(g)||g.setSort(void 0,h)})},o.prototype.getNextSortDirection=function(c){var h;if(c.getColDef().sortingOrder?h=c.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?h=this.gridOptionsWrapper.getSortingOrder():h=e.DEFAULT_SORTING_ORDER,!Array.isArray(h)||h.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+h),null;var g=h.indexOf(c.getSort()),b=g<0,$=g==h.length-1,j;return b||$?j=h[0]:j=h[g+1],e.DEFAULT_SORTING_ORDER.indexOf(j)<0?(console.warn("AG Grid: invalid sort type "+j),null):j},o.prototype.getColumnsOrderedForSort=function(){var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),h={};return c.forEach(function(g,b){return h[g.getId()]=b}),c.sort(function(g,b){var $=g.getSortIndex(),j=b.getSortIndex();if($!=null&&j!=null)return $-j;if($==null&&j==null){var rt=h[g.getId()],nt=h[b.getId()];return rt>nt?1:-1}else return j==null?-1:1}),c},o.prototype.getIndexableColumnsOrdered=function(){var c=this;return this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(h){var g;if(h.getColDef().showRowGroup){if(h.getColDef().field&&h.getSort())return!0;var b=c.columnModel.getSourceColumnsForGroupColumn(h);return(g=b)===null||g===void 0?void 0:g.some(function($){return!!$.getSort()})}return!!h.getSort()}):this.getColumnsWithSortingOrdered()},o.prototype.getColumnsWithSortingOrdered=function(){var c=this.getColumnsOrderedForSort();return c.filter(function(h){return!!h.getSort()})},o.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(c){return{sort:c.getSort(),colId:c.getId()}})},o.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(c){return{sort:c.getSort(),column:c}})},o.prototype.canColumnDisplayMixedSort=function(c){var h=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),g=!!c.getColDef().showRowGroup;return h&&g},o.prototype.getDisplaySortForColumn=function(c){var h,g=this.columnModel.getSourceColumnsForGroupColumn(c);if(!this.canColumnDisplayMixedSort(c)||!(!((h=g)===null||h===void 0)&&h.length))return c.getSort();var b=!!c.getColDef().field,$=b?__spread$3([c],g):g,j=$[0].getSort(),rt=$.every(function(nt){return nt.getSort()==j});return rt?j:"mixed"},o.prototype.getDisplaySortIndexForColumn=function(c){var h=this,g=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();if(!g)return this.getColumnsWithSortingOrdered().indexOf(c);var b=this.columnModel.getGroupDisplayColumnForGroup(c.getId());if(b)return c.getSort()?this.getDisplaySortIndexForColumn(b):null;var $=this.getIndexableColumnsOrdered().filter(function(j){return!h.columnModel.getGroupDisplayColumnForGroup(j.getId())});return $.indexOf(c)};var e;return o.DEFAULT_SORTING_ORDER=[Constants.SORT_ASC,Constants.SORT_DESC,null],__decorate$C([Autowired("columnModel")],o.prototype,"columnModel",void 0),o=e=__decorate$C([Bean("sortController")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$A=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$B=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ColumnHoverService=function(a){__extends$A(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setMouseOver=function(e){this.selectedColumns=e;var c={type:Events.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(c)},o.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:Events.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},o.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},o=__decorate$B([Bean("columnHoverService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$z=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$A=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ColumnAnimationService=function(a){__extends$z(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(c){return e.gridBodyCtrl=c.gridBodyCtrl})},o.prototype.isActive=function(){return this.active},o.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},o.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},o.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},o.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},o.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var c=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===c&&e.gridBodyCtrl.setColumnMovingCss(!1)})},o.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var c=this.executeLaterFuncs;this.executeLaterFuncs=[],!(e.length===0&&c.length===0)&&(window.setTimeout(function(){return e.forEach(function(h){return h()})},0),window.setTimeout(function(){return c.forEach(function(h){return h()})},300))},__decorate$A([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$A([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$A([Bean("columnAnimationService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$y=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$z=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AutoGroupColService=function(a){__extends$y(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}e=o,o.prototype.createAutoGroupColumns=function(c,h){var g=this,b=[],$=this.gridOptionsWrapper.isTreeData(),j=this.gridOptionsWrapper.isGroupMultiAutoColumn();return $&&j&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),j=!1),j?h.forEach(function(rt,nt){b.push(g.createOneAutoGroupColumn(c,rt,nt))}):b.push(this.createOneAutoGroupColumn(c)),b},o.prototype.createOneAutoGroupColumn=function(c,h,g){var b=this.generateDefaultColDef(h),$;h?$=Constants.GROUP_AUTO_COLUMN_ID+"-"+h.getId():$=e.GROUP_AUTO_COLUMN_BUNDLE_ID;var j=this.gridOptionsWrapper.getAutoGroupColumnDef();if(mergeDeep(b,j),b=this.columnFactory.mergeColDefs(b),b.colId=$,!this.gridOptionsWrapper.isTreeData()){var rt=missing(b.field)&&missing(b.valueGetter)&&missing(b.filterValueGetter);rt&&(b.filter=!1)}g&&g>0&&(b.headerCheckboxSelection=!1);var nt=c.find(function(wt){return wt.getId()==$});if(nt)return nt.setColDef(b,null),this.columnFactory.applyColumnState(nt,b),nt;var pt=new Column(b,null,$,!0);return this.context.createBean(pt),pt},o.prototype.generateDefaultColDef=function(c){var h=this.gridOptionsWrapper.getAutoGroupColumnDef(),g=this.gridOptionsWrapper.getLocaleTextFunc(),b={headerName:g("group","Group")},$=h&&(h.cellRenderer||h.cellRendererFramework||h.cellRendererSelector);if($||(b.cellRenderer="agGroupCellRenderer"),c){var j=c.getColDef();Object.assign(b,{headerName:this.columnModel.getDisplayNameForColumn(c,"header"),headerValueGetter:j.headerValueGetter}),(j.cellRenderer||j.cellRendererFramework)&&Object.assign(b,{cellRendererParams:{innerRenderer:j.cellRenderer,innerRendererFramework:j.cellRendererFramework,innerRendererParams:j.cellRendererParams}}),b.showRowGroup=c.getColId()}else b.showRowGroup=!0;return b};var e;return o.GROUP_AUTO_COLUMN_BUNDLE_ID=Constants.GROUP_AUTO_COLUMN_ID,__decorate$z([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$z([Autowired("columnFactory")],o.prototype,"columnFactory",void 0),o=e=__decorate$z([Bean("autoGroupColService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$x=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$y=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},PaginationAutoPageSizeService=function(a){__extends$x(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(c){e.centerRowContainerCon=c.centerRowContainerCtrl,e.addManagedListener(e.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()})},o.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},o.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},o.prototype.onBodyHeightChanged=function(){this.checkPageSize()},o.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),c=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(c>0){var h=Math.floor(c/e);this.gridOptionsWrapper.setProperty("paginationPageSize",h)}}},__decorate$y([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$y([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$y([Bean("paginationAutoPageSizeService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$w=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$x=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ValueCache=function(a){__extends$w(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.cacheVersion=0,e}return o.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},o.prototype.onDataChanged=function(){this.neverExpires||this.expire()},o.prototype.expire=function(){this.cacheVersion++},o.prototype.setValue=function(e,c,h){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[c]=h)},o.prototype.getValue=function(e,c){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[c]},__decorate$x([PostConstruct],o.prototype,"init",null),o=__decorate$x([Bean("valueCache")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$v=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$w=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ChangeDetectionService=function(a){__extends$v(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.init=function(){this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},o.prototype.onCellValueChanged=function(e){e.source!==Constants.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},o.prototype.doChangeDetection=function(e,c){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var h=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),g=new ChangedPath(h,this.clientSideRowModel.getRootNode());g.addParentNode(e.parent,[c]),this.clientSideRowModel.doAggregate(g)}this.rowRenderer.refreshCells()}},__decorate$w([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$w([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$w([PostConstruct],o.prototype,"init",null),o=__decorate$w([Bean("changeDetectionService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$u=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$v=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},AgComponentUtils=function(a){__extends$u(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.adaptFunction=function(e,c){var h=this.componentMetadataProvider.retrieve(e);return h&&h.functionAdapter?h.functionAdapter(c):null},o.prototype.adaptCellRendererFunction=function(e){var c=function(){function h(){}return h.prototype.refresh=function(g){return!1},h.prototype.getGui=function(){return this.eGui},h.prototype.init=function(g){var b=e(g),$=typeof b;if($==="string"||$==="number"||$==="boolean"){this.eGui=loadTemplate("<span>"+b+"</span>");return}if(b==null){this.eGui=loadTemplate("<span></span>");return}this.eGui=b},h}();return c},o.prototype.doesImplementIComponent=function(e){return e?e.prototype&&"getGui"in e.prototype:!1},__decorate$v([Autowired("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),o=__decorate$v([Bean("agComponentUtils")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$t=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$u=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ComponentMetadataProvider=function(a){__extends$t(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},o.prototype.retrieve=function(e){return this.componentMetaData[e]},__decorate$u([Autowired("agComponentUtils")],o.prototype,"agComponentUtils",void 0),__decorate$u([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$u([Bean("componentMetadataProvider")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$s=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$t=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},MAT_GRID_SIZE=8,BASE_GRID_SIZE=4,BALHAM_GRID_SIZE=4,ALPINE_GRID_SIZE=6,HARD_CODED_SIZES={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:BASE_GRID_SIZE*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:MAT_GRID_SIZE*7,headerCellMinWidth:48,listItemHeight:MAT_GRID_SIZE*4,rowHeight:MAT_GRID_SIZE*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:BALHAM_GRID_SIZE*8,headerCellMinWidth:24,listItemHeight:BALHAM_GRID_SIZE*6,rowHeight:BALHAM_GRID_SIZE*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:ALPINE_GRID_SIZE*8,headerCellMinWidth:36,listItemHeight:ALPINE_GRID_SIZE*4,rowHeight:ALPINE_GRID_SIZE*7,chartMenuPanelWidth:240}},SASS_PROPERTY_BUILDER={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},CALCULATED_SIZES={},Environment=function(a){__extends$s(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getSassVariable=function(e,c){var h="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),g=HARD_CODED_SIZES[h][c],b=0;CALCULATED_SIZES[e]||(CALCULATED_SIZES[e]={});var $=CALCULATED_SIZES[e][c];if($!=null)return $;if(SASS_PROPERTY_BUILDER[c]){var j=SASS_PROPERTY_BUILDER[c],rt=document.createElement("div");rt.classList.add(e),rt.style.position="absolute";var nt=j.reduce(function(wt,Dt){var Lt=document.createElement("div");return Lt.style.position="static",Lt.classList.add(Dt),wt.appendChild(Lt),Lt},rt);if(document.body){document.body.appendChild(rt);var pt=c.toLowerCase().indexOf("height")!==-1?"height":"width";b=parseInt(window.getComputedStyle(nt)[pt],10),document.body.removeChild(rt)}}return CALCULATED_SIZES[e][c]=b||g,CALCULATED_SIZES[e][c]},o.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},o.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},o.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,c=this.eGridDiv,h=null,g=[];c;)if(h=e.exec(c.className),!h)c=c.parentElement||void 0;else{var b=c.className.match(e);b&&(g=b);break}if(!h)return{allThemes:g};var $=h[0],j=h[2]===void 0;if(j){var rt=$.replace("ag-","ag-theme-");doOnce(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+$+" with "+rt+".")},"using-old-theme")}return{theme:$,el:c,themeFamily:$.replace(/-dark$/,""),allThemes:g}},__decorate$t([Autowired("eGridDiv")],o.prototype,"eGridDiv",void 0),o=__decorate$t([Bean("environment")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$r=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$s=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param$1=function(a,o){return function(e,c){o(e,c,a)}},RowContainerHeightService=function(a){__extends$r(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return o.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=getMaxDivHeight(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},o.prototype.isStretching=function(){return this.stretching},o.prototype.getDivStretchOffset=function(){return this.divStretchOffset},o.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),c=e.getScrollFeature().getVScrollPosition().top,h=this.getUiBodyHeight(),g=c!==this.scrollY||h!==this.uiBodyHeight;g&&(this.scrollY=c,this.uiBodyHeight=h,this.calculateOffset())}},o.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,c=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+c+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(c)},o.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},o.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},o.prototype.setDivStretchOffset=function(e){var c=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==c&&(this.divStretchOffset=c,this.eventService.dispatchEvent({type:Events.EVENT_HEIGHT_SCALE_CHANGED}))},o.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},o.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},o.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},o.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),c=e.getScrollFeature().getVScrollPosition();return c.bottom-c.top},o.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var c=this.modelHeight-this.getUiBodyHeight(),h=e/c,g=this.maxScrollY*h;return g},__decorate$s([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$s([__param$1(0,Qualifier("loggerFactory"))],o.prototype,"agWire",null),__decorate$s([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$s([Bean("rowContainerHeightService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$q=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$r=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SelectableService=function(a){__extends$q(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},o.prototype.updateSelectableAfterGrouping=function(e){if(this.isRowSelectableFunc){var c=function(h){return h.childrenAfterGroup};this.recurseDown(e.childrenAfterGroup,c)}},o.prototype.recurseDown=function(e,c){var h=this;e&&e.forEach(function(g){if(g.group){g.hasChildren()&&h.recurseDown(c(g),c);var b;if(h.groupSelectsChildren){var $=(c(g)||[]).find(function(j){return j.selectable===!0});b=exists($)}else b=h.isRowSelectableFunc?h.isRowSelectableFunc(g):!1;g.setRowSelectable(b)}})},__decorate$r([PostConstruct],o.prototype,"init",null),o=__decorate$r([Bean("selectableService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$p=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$q=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},PaginationComp=function(a){__extends$p(o,a);function o(){var e=a.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return o.prototype.postConstruct=function(){var e=this,c=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",createIconNoSpan(c?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",createIconNoSpan(c?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",createIconNoSpan(c?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",createIconNoSpan(c?"first":"last",this.gridOptionsWrapper));var h=this.gridOptionsWrapper.isPagination(),g=h&&!this.gridOptionsWrapper.isSuppressPaginationPanel();if(!g){this.setDisplayed(!1);return}this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(b){var $=b.el,j=b.fn;e.addManagedListener($,"click",j),e.addManagedListener($,"keydown",function(rt){(rt.key===KeyCode.ENTER||rt.key===KeyCode.SPACE)&&(rt.preventDefault(),j())})}),this.onPaginationChanged()},o.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},o.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},o.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,c=this.paginationProxy.getCurrentPage(),h=e?c+1:0;this.lbCurrent.innerHTML=this.formatNumber(h)},o.prototype.formatNumber=function(e){var c=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(c){var h={value:e};return c(h)}var g=this.gridOptionsWrapper.getLocaleTextFunc(),b=g("thousandSeparator",","),$=g("decimalSeparator",".");return formatNumberCommas(e,b,$)},o.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),c=e("page","Page"),h=e("to","to"),g=e("of","of"),b=e("firstPage","First Page"),$=e("previousPage","Previous Page"),j=e("nextPage","Next Page"),rt=e("lastPage","Last Page"),nt=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+nt+`">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`+nt+`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+nt+'-to">'+h+`</span>
                    <span id="ag-`+nt+`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+nt+'-of">'+g+`</span>
                    <span id="ag-`+nt+`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="`+b+`"></div>
                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="`+$+`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`+nt+'-start-page">'+c+`</span>
                        <span id="ag-`+nt+`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`+nt+'-of-page">'+g+`</span>
                        <span id="ag-`+nt+`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="`+j+`"></div>
                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="`+rt+`"></div>
                </span>
            </div>`},o.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},o.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},o.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},o.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),c=this.paginationProxy.isLastPageFound(),h=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var g=this.isZeroPagesToDisplay(),b=c&&e===h-1;this.nextButtonDisabled=b||g,this.lastButtonDisabled=!c||g||e===h-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},o.prototype.toggleButtonDisabled=function(e,c){setAriaDisabled(e,c),e.classList.toggle("ag-disabled",c),c?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},o.prototype.updateRowLabels=function(){var e=this.paginationProxy.getCurrentPage(),c=this.paginationProxy.getPageSize(),h=this.paginationProxy.isLastPageFound(),g=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,b,$;this.isZeroPagesToDisplay()?b=$=0:(b=c*e+1,$=b+c-1,h&&$>g&&($=g)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(b),this.rowNodeBlockLoader.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber($)},o.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages();return e&&c===0},o.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages(),h=e?this.paginationProxy.getMasterRowCount():null;if(h===1){var g=this.paginationProxy.getRow(0),b=g&&g.group&&!(g.groupData||g.aggData);if(b){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.innerHTML=this.formatNumber(c),this.lbRecordCount.innerHTML=this.formatNumber(h);else{var $=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=$,this.lbRecordCount.innerHTML=$}},o.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},__decorate$q([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),__decorate$q([Autowired("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),__decorate$q([RefSelector("btFirst")],o.prototype,"btFirst",void 0),__decorate$q([RefSelector("btPrevious")],o.prototype,"btPrevious",void 0),__decorate$q([RefSelector("btNext")],o.prototype,"btNext",void 0),__decorate$q([RefSelector("btLast")],o.prototype,"btLast",void 0),__decorate$q([RefSelector("lbRecordCount")],o.prototype,"lbRecordCount",void 0),__decorate$q([RefSelector("lbFirstRowOnPage")],o.prototype,"lbFirstRowOnPage",void 0),__decorate$q([RefSelector("lbLastRowOnPage")],o.prototype,"lbLastRowOnPage",void 0),__decorate$q([RefSelector("lbCurrent")],o.prototype,"lbCurrent",void 0),__decorate$q([RefSelector("lbTotal")],o.prototype,"lbTotal",void 0),__decorate$q([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$o=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$p=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},LoadingType;(function(a){a[a.Loading=0]="Loading",a[a.NoRows=1]="NoRows"})(LoadingType||(LoadingType={}));var OverlayWrapperComponent=function(a){__extends$o(o,a);function o(){var e=a.call(this,o.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e.manuallyDisplayed=!1,e}return o.prototype.updateLayoutClasses=function(e,c){var h=this.eOverlayWrapper.classList;h.toggle(LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),h.toggle(LayoutCssClasses.NORMAL,c.normal),h.toggle(LayoutCssClasses.PRINT,c.print)},o.prototype.postConstruct=function(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},o.prototype.setWrapperTypeClass=function(e){var c=this.eOverlayWrapper.classList;c.toggle("ag-overlay-loading-wrapper",e===LoadingType.Loading),c.toggle("ag-overlay-no-rows-wrapper",e===LoadingType.NoRows)},o.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var e={},c=this.userComponentFactory.getLoadingOverlayCompDetails(e),h=c.newAgStackInstance();this.showOverlay(h,LoadingType.Loading)}},o.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var e={},c=this.userComponentFactory.getNoRowsOverlayCompDetails(e),h=c.newAgStackInstance();this.showOverlay(h,LoadingType.NoRows)}},o.prototype.showOverlay=function(e,c){var h=this;this.inProgress||(this.setWrapperTypeClass(c),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(g){h.inProgress=!1,h.eOverlayWrapper.appendChild(g.getGui()),h.activeOverlay=g,h.destroyRequested&&(h.destroyRequested=!1,h.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},o.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),clearElement(this.eOverlayWrapper))},o.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},o.prototype.destroy=function(){this.destroyActiveOverlay(),a.prototype.destroy.call(this)},o.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),c=this.gridOptionsWrapper.isSuppressNoRowsOverlay();e&&!c?this.showNoRowsOverlay():this.hideOverlay()},o.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},o.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},o.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,__decorate$p([Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),__decorate$p([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),__decorate$p([Autowired("gridApi")],o.prototype,"gridApi",void 0),__decorate$p([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$p([RefSelector("eOverlayWrapper")],o.prototype,"eOverlayWrapper",void 0),__decorate$p([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$n=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$o=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RowPositionUtils=function(a){__extends$n(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getFirstRow=function(){var e=0,c;return this.pinnedRowModel.getPinnedTopRowCount()?c=Constants.PINNED_TOP:this.rowModel.getRowCount()?(c=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(c=Constants.PINNED_BOTTOM),c===void 0?null:{rowIndex:e,rowPinned:c}},o.prototype.getLastRow=function(){var e,c=null,h=this.pinnedRowModel.getPinnedBottomRowCount(),g=this.pinnedRowModel.getPinnedTopRowCount();return h?(c=Constants.PINNED_BOTTOM,e=h-1):this.rowModel.getRowCount()?(c=null,e=this.paginationProxy.getPageLastRow()):g&&(c=Constants.PINNED_TOP,e=g-1),e===void 0?null:{rowIndex:e,rowPinned:c}},o.prototype.getRowNode=function(e){switch(e.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},o.prototype.sameRow=function(e,c){return!e&&!c?!0:e&&!c||!e&&c?!1:e.rowIndex===c.rowIndex&&e.rowPinned==c.rowPinned},o.prototype.before=function(e,c){switch(e.rowPinned){case Constants.PINNED_TOP:if(c.rowPinned!==Constants.PINNED_TOP)return!0;break;case Constants.PINNED_BOTTOM:if(c.rowPinned!==Constants.PINNED_BOTTOM)return!1;break;default:if(exists(c.rowPinned))return c.rowPinned!==Constants.PINNED_TOP;break}return e.rowIndex<c.rowIndex},o.prototype.rowMax=function(e){var c=this,h;return e.forEach(function(g){(h===void 0||c.before(h,g))&&(h=g)}),h},o.prototype.rowMin=function(e){var c=this,h;return e.forEach(function(g){(h===void 0||c.before(g,h))&&(h=g)}),h},__decorate$o([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$o([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate$o([Autowired("paginationProxy")],o.prototype,"paginationProxy",void 0),o=__decorate$o([Bean("rowPositionUtils")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$m=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$n=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},CellPositionUtils=function(a){__extends$m(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.createId=function(e){var c=e.rowIndex,h=e.rowPinned,g=e.column;return this.createIdFromValues(c,g,h)},o.prototype.createIdFromValues=function(e,c,h){return e+"."+(h??"null")+"."+c.getId()},o.prototype.equals=function(e,c){var h=e.column===c.column,g=e.rowPinned===c.rowPinned,b=e.rowIndex===c.rowIndex;return h&&g&&b},o=__decorate$n([Bean("cellPositionUtils")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$l=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),UndoRedoAction=function(){function a(o){this.cellValueChanges=o}return a}(),RangeUndoRedoAction=function(a){__extends$l(o,a);function o(e,c,h,g){var b=a.call(this,e)||this;return b.initialRange=c,b.finalRange=h,b.ranges=g,b}return o}(UndoRedoAction),UndoRedoStack=function(){function a(o){this.actionStack=[],this.maxStackSize=o||a.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return a.prototype.pop=function(){return this.actionStack.pop()},a.prototype.push=function(o){var e=o.cellValueChanges&&o.cellValueChanges.length>0;e&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(o))},a.prototype.clear=function(){this.actionStack=[]},a.prototype.getCurrentStackSize=function(){return this.actionStack.length},a.DEFAULT_STACK_SIZE=10,a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$k=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$j=function(){return __assign$j=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$j.apply(this,arguments)},__decorate$m=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read$3=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$2=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$3(arguments[o]));return a},UndoRedoService=function(a){__extends$k(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(c){var h={column:c.column,rowIndex:c.rowIndex,rowPinned:c.rowPinned},g=e.activeCellEdit!==null&&e.cellPositionUtils.equals(e.activeCellEdit,h),b=e.activeRowEdit!==null&&e.rowPositionUtils.sameRow(e.activeRowEdit,h),$=g||b||e.isPasting||e.isRangeInAction;if($){var j=c.rowPinned,rt=c.rowIndex,nt=c.column,pt=c.oldValue,wt=c.value,Dt={rowPinned:j,rowIndex:rt,columnId:nt.getColId(),newValue:wt,oldValue:pt};e.cellValueChanges.push(Dt)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return o.prototype.init=function(){var e=this;if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var c=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();c<=0||(this.undoStack=new UndoRedoStack(c),this.redoStack=new UndoRedoStack(c),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,function(h){h.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},o.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},o.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},o.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(c){return c.oldValue}),e instanceof RangeUndoRedoAction?this.processRange(e.ranges||[e.initialRange]):this.processCell(e.cellValueChanges),this.redoStack.push(e))}},o.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(c){return c.newValue}),e instanceof RangeUndoRedoAction?this.processRange(e.ranges||[e.finalRange]):this.processCell(e.cellValueChanges),this.undoStack.push(e))}},o.prototype.processAction=function(e,c){var h=this;e.cellValueChanges.forEach(function(g){var b,$=g.rowIndex,j=g.rowPinned,rt=g.columnId,nt={rowIndex:$,rowPinned:j},pt=h.getRowNode(nt);if(pt.displayed){var wt=c(g),Dt=typeof((b=wt)===null||b===void 0?void 0:b.toString)=="function"?wt.toString():wt;pt.setDataValue(rt,Dt)}})},o.prototype.processRange=function(e){var c=this,h;this.rangeService.removeAllCellRanges(!0),e.forEach(function(g,b){if(g){var $=g.startRow,j=g.endRow;b===e.length-1&&(h={rowPinned:$.rowPinned,rowIndex:$.rowIndex,columnId:g.startColumn.getColId()},c.setLastFocusedCell(h));var rt={rowStartIndex:$.rowIndex,rowStartPinned:$.rowPinned,rowEndIndex:j.rowIndex,rowEndPinned:j.rowPinned,columnStart:g.startColumn,columns:g.columns};c.rangeService.addCellRange(rt)}})},o.prototype.processCell=function(e){var c=e[0],h=c.rowIndex,g=c.rowPinned,b={rowIndex:h,rowPinned:g},$=this.getRowNode(b),j={rowPinned:c.rowPinned,rowIndex:$.rowIndex,columnId:c.columnId};this.setLastFocusedCell(j,!0)},o.prototype.setLastFocusedCell=function(e,c){var h=e.rowIndex,g=e.columnId,b=e.rowPinned,$=this.gridBodyCtrl.getScrollFeature(),j=this.columnModel.getGridColumn(g);if(j){$.ensureIndexVisible(h),$.ensureColumnVisible(j);var rt={rowIndex:h,column:j,rowPinned:b};this.focusService.setFocusedCell(__assign$j(__assign$j({},rt),{forceBrowserFocus:!0})),c&&this.rangeService.setRangeToCell(rt)}},o.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STARTED,function(c){e.activeRowEdit={rowIndex:c.rowIndex,rowPinned:c.rowPinned}}),this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STOPPED,function(){var c=new UndoRedoAction(e.cellValueChanges);e.pushActionsToUndoStack(c),e.activeRowEdit=null})},o.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STARTED,function(c){e.activeCellEdit={column:c.column,rowIndex:c.rowIndex,rowPinned:c.rowPinned}}),this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STOPPED,function(c){e.activeCellEdit=null;var h=c.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(h){var g=new UndoRedoAction(e.cellValueChanges);e.pushActionsToUndoStack(g)}})},o.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,Events.EVENT_PASTE_END,function(){var c=new UndoRedoAction(e.cellValueChanges);e.pushActionsToUndoStack(c),e.isPasting=!1})},o.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,Events.EVENT_FILL_END,function(c){var h=new RangeUndoRedoAction(e.cellValueChanges,c.initialRange,c.finalRange);e.pushActionsToUndoStack(h),e.isRangeInAction=!1})},o.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var c;e.rangeService&&e.gridOptionsWrapper.isEnableRangeSelection()?c=new RangeUndoRedoAction(e.cellValueChanges,void 0,void 0,__spread$2(e.rangeService.getCellRanges())):c=new UndoRedoAction(e.cellValueChanges),e.pushActionsToUndoStack(c),e.isRangeInAction=!1})},o.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(e){switch(e.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},__decorate$m([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$m([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$m([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$m([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate$m([Autowired("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),__decorate$m([Autowired("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),__decorate$m([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$m([Optional("rangeService")],o.prototype,"rangeService",void 0),__decorate$m([PostConstruct],o.prototype,"init",null),o=__decorate$m([Bean("undoRedoService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$j=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$l=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},HeaderPositionUtils=function(a){__extends$j(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.findHeader=function(e,c){var h,g,b;if(e.column instanceof ColumnGroup?(g="getDisplayedGroup"+c,h=this.columnModel[g](e.column)):(b="getDisplayedCol"+c,h=this.columnModel[b](e.column)),h)return{column:h,headerRowIndex:e.headerRowIndex}},o.prototype.findColAtEdgeForHeaderRow=function(e,c){var h=this.columnModel.getAllDisplayedColumns(),g=h[c==="start"?0:h.length-1];if(g){var b=this.ctrlsService.getHeaderRowContainerCtrl(g.getPinned()),$=b.getRowType(e);if($==HeaderRowType.COLUMN_GROUP){var j=this.columnModel.getColumnGroupAtLevel(g,e);return{headerRowIndex:e,column:j}}return{headerRowIndex:$==null?-1:e,column:g}}},__decorate$l([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$l([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),o=__decorate$l([Bean("headerPositionUtils")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$k=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},ColumnDefFactory=function(){function a(){}return a.prototype.buildColumnDefs=function(o,e,c){var h=this,g=[],b={};return o.forEach(function($){for(var j=h.createDefFromColumn($,e,c),rt=!0,nt=j,pt=$.getOriginalParent();pt;){var wt=null;if(pt.isPadding()){pt=pt.getOriginalParent();continue}var Dt=b[pt.getGroupId()];if(Dt){Dt.children.push(nt),rt=!1;break}wt=h.createDefFromGroup(pt),wt&&(wt.children=[nt],b[wt.groupId]=wt,nt=wt,pt=pt.getOriginalParent())}rt&&g.push(nt)}),g},a.prototype.createDefFromGroup=function(o){var e=deepCloneDefinition(o.getColGroupDef(),["children"]);return e&&(e.groupId=o.getGroupId()),e},a.prototype.createDefFromColumn=function(o,e,c){var h=deepCloneDefinition(o.getColDef());return h.colId=o.getColId(),h.width=o.getActualWidth(),h.rowGroup=o.isRowGroupActive(),h.rowGroupIndex=o.isRowGroupActive()?e.indexOf(o):null,h.pivot=o.isPivotActive(),h.pivotIndex=o.isPivotActive()?c.indexOf(o):null,h.aggFunc=o.isValueActive()?o.getAggFunc():null,h.hide=o.isVisible()?void 0:!0,h.pinned=o.isPinned()?o.getPinned():null,h.sort=o.getSort()?o.getSort():null,h.sortIndex=o.getSortIndex()!=null?o.getSortIndex():null,h},a=__decorate$k([Bean("columnDefFactory")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$j=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RowCssClassCalculator=function(){function a(){}return a.prototype.getInitialRowClasses=function(o){var e=[];return exists(o.extraCssClass)&&e.push(o.extraCssClass),e.push("ag-row"),e.push(o.rowFocused?"ag-row-focus":"ag-row-no-focus"),o.fadeRowIn&&e.push("ag-opacity-zero"),e.push(o.rowIsEven?"ag-row-even":"ag-row-odd"),o.rowNode.isRowPinned()&&e.push("ag-row-pinned"),o.rowNode.isSelected()&&e.push("ag-row-selected"),o.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+o.rowLevel),o.rowNode.stub&&e.push("ag-row-loading"),o.fullWidthRow&&e.push("ag-full-width-row"),o.expandable&&(e.push("ag-row-group"),e.push(o.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),o.rowNode.dragging&&e.push("ag-row-dragging"),pushAll(e,this.processClassesFromGridOptions(o.rowNode)),pushAll(e,this.preProcessRowClassRules(o.rowNode)),e.push(o.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),o.firstRowOnPage&&e.push("ag-row-first"),o.lastRowOnPage&&e.push("ag-row-last"),o.fullWidthRow&&(o.pinned===Constants.PINNED_LEFT&&e.push("ag-cell-last-left-pinned"),o.pinned===Constants.PINNED_RIGHT&&e.push("ag-cell-first-right-pinned")),e},a.prototype.processClassesFromGridOptions=function(o){var e=[],c=function(j){typeof j=="string"?e.push(j):Array.isArray(j)&&j.forEach(function(rt){return e.push(rt)})},h=this.gridOptionsWrapper.getRowClass();if(h){if(typeof h=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];c(h)}var g=this.gridOptionsWrapper.getRowClassFunc();if(g){var b={data:o.data,node:o,rowIndex:o.rowIndex},$=g(b);c($)}return e},a.prototype.preProcessRowClassRules=function(o){var e=[];return this.processRowClassRules(o,function(c){e.push(c)},function(c){}),e},a.prototype.processRowClassRules=function(o,e,c){var h={data:o.data,node:o,rowIndex:o.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),h,e,c)},a.prototype.calculateRowLevel=function(o){return o.group?o.level:o.parent?o.parent.level+1:0},__decorate$j([Autowired("stylingService")],a.prototype,"stylingService",void 0),__decorate$j([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a=__decorate$j([Bean("rowCssClassCalculator")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$i=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RowNodeSorter=function(){function a(){}return a.prototype.doFullSort=function(o,e){var c=function(g,b){return{currentPos:b,rowNode:g}},h=o.map(c);return h.sort(this.compareRowNodes.bind(this,e)),h.map(function(g){return g.rowNode})},a.prototype.compareRowNodes=function(o,e,c){for(var h=e.rowNode,g=c.rowNode,b=0,$=o.length;b<$;b++){var j=o[b],rt=j.sort===Constants.SORT_DESC,nt=this.getValue(h,j.column),pt=this.getValue(g,j.column),wt=void 0,Dt=this.getComparator(j,h);Dt?wt=Dt(nt,pt,h,g,rt):wt=_.defaultComparator(nt,pt,this.gridOptionsWrapper.isAccentedSort());var Lt=!isNaN(wt);if(Lt&&wt!==0)return j.sort===Constants.SORT_ASC?wt:wt*-1}return e.currentPos-c.currentPos},a.prototype.getComparator=function(o,e){var c=o.column,h=c.getColDef().comparator;if(h!=null)return h;if(c.getColDef().showRowGroup){var g=!e.group&&c.getColDef().field;if(g){var b=this.columnModel.getPrimaryColumn(g);if(b)return b.getColDef().comparator}}},a.prototype.getValue=function(o,e){var c,h,g=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();if(!g)return this.valueService.getValue(e,o,!1,!1);var b=o.rowGroupColumn===e;if(b){var $=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotActive());if($){var j=e.getColDef().keyCreator;if(j)return o.key;var rt=(c=o.allLeafChildren)===null||c===void 0?void 0:c[0];return rt?this.valueService.getValue(e,rt,!1,!1):void 0}var nt=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return nt?(h=o.groupData)===null||h===void 0?void 0:h[nt.getId()]:void 0}if(!(o.group&&e.getColDef().showRowGroup))return this.valueService.getValue(e,o,!1,!1)},__decorate$i([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$i([Autowired("valueService")],a.prototype,"valueService",void 0),__decorate$i([Autowired("columnModel")],a.prototype,"columnModel",void 0),a=__decorate$i([Bean("rowNodeSorter")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$i=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$h=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},CtrlsService=function(a){__extends$i(o,a);function o(){var c=a!==null&&a.apply(this,arguments)||this;return c.ready=!1,c.readyCallbacks=[],c}e=o,o.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollCtrl!=null&&this.gridHeaderCtrl!=null,this.ready){var c=this.createReadyParams();this.readyCallbacks.forEach(function(h){return h(c)}),this.readyCallbacks.length=0}},o.prototype.whenReady=function(c){this.ready?c(this.createReadyParams()):this.readyCallbacks.push(c)},o.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},o.prototype.registerFakeHScrollCtrl=function(c){this.fakeHScrollCtrl=c,this.checkReady()},o.prototype.registerGridHeaderCtrl=function(c){this.gridHeaderCtrl=c,this.checkReady()},o.prototype.registerCenterRowContainerCtrl=function(c){this.centerRowContainerCtrl=c,this.checkReady()},o.prototype.registerLeftRowContainerCtrl=function(c){this.leftRowContainerCtrl=c,this.checkReady()},o.prototype.registerRightRowContainerCtrl=function(c){this.rightRowContainerCtrl=c,this.checkReady()},o.prototype.registerTopCenterRowContainerCtrl=function(c){this.topCenterRowContainerCtrl=c,this.checkReady()},o.prototype.registerTopLeftRowContainerCon=function(c){this.topLeftRowContainerCtrl=c,this.checkReady()},o.prototype.registerTopRightRowContainerCtrl=function(c){this.topRightRowContainerCtrl=c,this.checkReady()},o.prototype.registerStickyTopCenterRowContainerCtrl=function(c){this.stickyTopCenterRowContainerCtrl=c,this.checkReady()},o.prototype.registerStickyTopLeftRowContainerCon=function(c){this.stickyTopLeftRowContainerCtrl=c,this.checkReady()},o.prototype.registerStickyTopRightRowContainerCtrl=function(c){this.stickyTopRightRowContainerCtrl=c,this.checkReady()},o.prototype.registerBottomCenterRowContainerCtrl=function(c){this.bottomCenterRowContainerCtrl=c,this.checkReady()},o.prototype.registerBottomLeftRowContainerCtrl=function(c){this.bottomLeftRowContainerCtrl=c,this.checkReady()},o.prototype.registerBottomRightRowContainerCtrl=function(c){this.bottomRightRowContainerCtrl=c,this.checkReady()},o.prototype.registerHeaderContainer=function(c,h){switch(h){case Constants.PINNED_LEFT:this.leftHeaderRowContainerCtrl=c;break;case Constants.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=c;break;default:this.centerHeaderRowContainerCtrl=c;break}this.checkReady()},o.prototype.registerGridBodyCtrl=function(c){this.gridBodyCtrl=c,this.checkReady()},o.prototype.registerGridCtrl=function(c){this.gridCtrl=c,this.checkReady()},o.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},o.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},o.prototype.getGridCtrl=function(){return this.gridCtrl},o.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},o.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},o.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},o.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},o.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},o.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},o.prototype.getHeaderRowContainerCtrl=function(c){switch(c){case Constants.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case Constants.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var e;return o.NAME="ctrlsService",o=e=__decorate$h([Bean(e.NAME)],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$h=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$g=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},CtrlsFactory=function(a){__extends$h(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.registry={},e}return o.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},o.prototype.getInstance=function(e){var c=this.registry[e];if(c!=null)return new c},o=__decorate$g([Bean("ctrlsFactory")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$g=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$f=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},FakeHScrollCtrl=function(a){__extends$g(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.setComp=function(e,c,h,g){this.view=e,this.eViewport=h,this.eContainer=g,this.eGui=c,this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this));var b=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,b),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,b),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,b),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.onScrollVisibilityChanged(),this.ctrlsService.registerFakeHScrollCtrl(this),this.view.addOrRemoveCssClass("ag-apple-scrollbar",isMacOsUserAgent()||isIOSUserAgent())},o.prototype.addActiveListenerToggles=function(){var e=this,c=["mouseenter","mousedown","touchstart"],h=["mouseleave","touchend"];c.forEach(function(g){return e.addManagedListener(e.eGui,g,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),h.forEach(function(g){return e.addManagedListener(e.eGui,g,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},o.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles(),this.refreshCompBottom()))},o.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},o.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.view.setBottom(e)}},o.prototype.onScrollVisibilityChanged=function(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},o.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,function(c){c.direction==="horizontal"&&e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL_END,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},o.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),c=this.columnModel.getDisplayedColumnsRightWidth(),h=!this.enableRtl&&e,g=this.gridOptionsWrapper.getScrollbarWidth();h&&(c+=g),this.view.setRightSpacerFixedWidth(c),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",c<=g);var b=this.columnModel.getDisplayedColumnsLeftWidth(),$=this.enableRtl&&e;$&&(b+=g),this.view.setLeftSpacerFixedWidth(b),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",b<=g)},o.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),c=this.invisibleScrollbar,h=this.gridOptionsWrapper.isSuppressHorizontalScroll(),g=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,b=g===0&&c?15:g,$=h?0:b;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",c),this.view.setHeight($),this.view.setViewportHeight($),this.view.setContainerHeight($),this.view.addOrRemoveCssClass("ag-hidden",!e)},o.prototype.getViewport=function(){return this.eViewport},o.prototype.getContainer=function(){return this.eContainer},__decorate$f([Autowired("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),__decorate$f([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$f([Autowired("ctrlsService")],o.prototype,"ctrlsService",void 0),__decorate$f([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$f=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$e=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},FakeHScrollComp=function(a){__extends$f(o,a);function o(){return a.call(this,o.TEMPLATE)||this}return o.prototype.postConstruct=function(){var e=this,c={addOrRemoveCssClass:function(g,b){return e.addOrRemoveCssClass(g,b)},setHeight:function(g){return setFixedHeight(e.getGui(),g)},setBottom:function(g){return e.getGui().style.bottom=g+"px"},setContainerHeight:function(g){return setFixedHeight(e.eContainer,g)},setViewportHeight:function(g){return setFixedHeight(e.eViewport,g)},setRightSpacerFixedWidth:function(g){return setFixedWidth(e.eRightSpacer,g)},setLeftSpacerFixedWidth:function(g){return setFixedWidth(e.eLeftSpacer,g)},includeLeftSpacerScrollerCss:function(g,b){return e.eLeftSpacer.classList.toggle(g,b)},includeRightSpacerScrollerCss:function(g,b){return e.eRightSpacer.classList.toggle(g,b)}},h=this.createManagedBean(new FakeHScrollCtrl);h.setComp(c,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new CenterWidthFeature(function(g){return e.eContainer.style.width=g+"px"}))},o.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,__decorate$e([RefSelector("eLeftSpacer")],o.prototype,"eLeftSpacer",void 0),__decorate$e([RefSelector("eRightSpacer")],o.prototype,"eRightSpacer",void 0),__decorate$e([RefSelector("eViewport")],o.prototype,"eViewport",void 0),__decorate$e([RefSelector("eContainer")],o.prototype,"eContainer",void 0),__decorate$e([PostConstruct],o.prototype,"postConstruct",null),o}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$e=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$d=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},PinnedWidthService=function(a){__extends$e(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,e)},o.prototype.checkContainerWidths=function(){var e=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,c=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),h=e?0:this.columnModel.getDisplayedColumnsRightWidth();c!=this.leftWidth&&(this.leftWidth=c,this.eventService.dispatchEvent({type:Events.EVENT_LEFT_PINNED_WIDTH_CHANGED})),h!=this.rightWidth&&(this.rightWidth=h,this.eventService.dispatchEvent({type:Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},o.prototype.getPinnedRightWidth=function(){return this.rightWidth},o.prototype.getPinnedLeftWidth=function(){return this.leftWidth},__decorate$d([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$d([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$d([Bean("pinnedWidthService")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$d=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$c=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RowNodeEventThrottle=function(a){__extends$d(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.events=[],e}return o.prototype.postConstruct=function(){this.rowModel.getType()==Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.dispatchExpanded=function(e){var c=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);var h=function(){c.clientSideRowModel&&c.clientSideRowModel.onRowGroupOpened(),c.events.forEach(function(g){return c.eventService.dispatchEvent(g)}),c.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(h)),this.dispatchExpandedDebounced()},__decorate$c([Autowired("animationFrameService")],o.prototype,"animationFrameService",void 0),__decorate$c([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$c([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$c([Bean("rowNodeEventThrottle")],o),o}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$2=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread$1=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$2(arguments[o]));return a},Grid=function(){function a(o,e,c){if(!e){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=e,new GridCoreCreator().create(o,e,function(h){var g=new GridComp$1(o);h.createBean(g)},void 0,c)}return a.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},a}(),GridCoreCreator=function(){function a(){}return a.prototype.create=function(o,e,c,h,g){var b=this,$=!!e.debug,j=this.getRegisteredModules(g),rt=this.createBeansList(e.rowModelType,j),nt=this.createProvidedBeans(o,e,g);if(rt){var pt={providedBeanInstances:nt,beanClasses:rt,debug:$},wt=new Logger("AG Grid",function(){return e.debug}),Dt=new Logger("Context",function(){return pt.debug}),Lt=new Context(pt,Dt),it=Lt.getBean("beans");this.registerModuleUserComponents(it,j),this.registerStackComponents(it,j),this.registerControllers(it,j),c(Lt),it.ctrlsService.whenReady(function(){b.setColumnsAndData(it),b.dispatchGridReadyEvent(it);var st=ModuleRegistry.isRegistered(ModuleNames.EnterpriseCoreModule);wt.log("initialised successfully, enterprise = "+st)}),h&&h(Lt)}},a.prototype.registerControllers=function(o,e){e.forEach(function(c){c.controllers&&c.controllers.forEach(function(h){return o.ctrlsFactory.register(h)})})},a.prototype.registerStackComponents=function(o,e){var c=this.createAgStackComponentsList(e);o.agStackComponentsRegistry.setupComponents(c)},a.prototype.getRegisteredModules=function(o){var e=o?o.modules:null,c=ModuleRegistry.getRegisteredModules(),h=[],g={};function b($,j){function rt(nt){g[nt.moduleName]||(g[nt.moduleName]=!0,h.push(nt),ModuleRegistry.register(nt,$))}rt(j),j.dependantModules&&j.dependantModules.forEach(b.bind(null,$))}return e&&e.forEach(b.bind(null,!0)),c&&c.forEach(b.bind(null,!ModuleRegistry.isPackageBased())),h},a.prototype.registerModuleUserComponents=function(o,e){var c=this.extractModuleEntity(e,function(h){return h.userComponents?h.userComponents:[]});c.forEach(function(h){o.userComponentRegistry.registerDefaultComponent(h.componentName,h.componentClass)})},a.prototype.createProvidedBeans=function(o,e,c){var h=c?c.frameworkOverrides:null;missing(h)&&(h=new VanillaFrameworkOverrides);var g={gridOptions:e,eGridDiv:o,globalEventListener:c?c.globalEventListener:null,frameworkOverrides:h};return c&&c.providedBeanInstances&&Object.assign(g,c.providedBeanInstances),g},a.prototype.createAgStackComponentsList=function(o){var e=[{componentName:"AgCheckbox",componentClass:AgCheckbox},{componentName:"AgRadioButton",componentClass:AgRadioButton},{componentName:"AgToggleButton",componentClass:AgToggleButton},{componentName:"AgInputTextField",componentClass:AgInputTextField},{componentName:"AgInputTextArea",componentClass:AgInputTextArea},{componentName:"AgInputNumberField",componentClass:AgInputNumberField},{componentName:"AgInputRange",componentClass:AgInputRange},{componentName:"AgSelect",componentClass:AgSelect},{componentName:"AgSlider",componentClass:AgSlider},{componentName:"AgAngleSelect",componentClass:AgAngleSelect},{componentName:"AgColorPicker",componentClass:AgColorPicker},{componentName:"AgGridBody",componentClass:GridBodyComp$1},{componentName:"AgHeaderRoot",componentClass:GridHeaderComp$1},{componentName:"AgSortIndicator",componentClass:SortIndicatorComp},{componentName:"AgPagination",componentClass:PaginationComp},{componentName:"AgOverlayWrapper",componentClass:OverlayWrapperComponent},{componentName:"AgGroupComponent",componentClass:AgGroupComponent},{componentName:"AgPanel",componentClass:AgPanel},{componentName:"AgDialog",componentClass:AgDialog},{componentName:"AgRowContainer",componentClass:RowContainerComp$1},{componentName:"AgFakeHorizontalScroll",componentClass:FakeHScrollComp}],c=this.extractModuleEntity(o,function(h){return h.agStackComponents?h.agStackComponents:[]});return e=e.concat(c),e},a.prototype.createBeansList=function(o,e){var c=this.getRowModelClass(o,e);if(c){var h=[c,Beans,RowPositionUtils,CellPositionUtils,HeaderPositionUtils,PaginationAutoPageSizeService,GridApi,UserComponentRegistry,AgComponentUtils,ComponentMetadataProvider,ResizeObserverService,UserComponentFactory,RowContainerHeightService,HorizontalResizeService,PinnedRowModel,DragService,DisplayedGroupCreator,EventService,GridOptionsWrapper,PopupService,SelectionService,FilterManager,ColumnModel,HeaderNavigationService,PaginationProxy,RowRenderer,ExpressionService,ColumnFactory,TemplateService,AlignedGridsService,NavigationService,ValueCache,ValueService,LoggerFactory,ColumnUtils,AutoWidthCalculator,StandardMenuFactory,DragAndDropService,ColumnApi,FocusService,MouseEventService,Environment,CellNavigationService,ValueFormatterService,StylingService,ScrollVisibleService,SortController,ColumnHoverService,ColumnAnimationService,SelectableService,AutoGroupColService,ChangeDetectionService,AnimationFrameService,UndoRedoService,AgStackComponentsRegistry,ColumnDefFactory,RowCssClassCalculator,RowNodeBlockLoader,RowNodeSorter,CtrlsService,PinnedWidthService,RowNodeEventThrottle,CtrlsFactory],g=this.extractModuleEntity(e,function($){return $.beans?$.beans:[]});h.push.apply(h,__spread$1(g));var b=[];return h.forEach(function($){b.indexOf($)<0&&b.push($)}),b}},a.prototype.extractModuleEntity=function(o,e){return[].concat.apply([],__spread$1(o.map(e)))},a.prototype.setColumnsAndData=function(o){var e=o.gridOptionsWrapper.getColumnDefs();o.columnModel.setColumnDefs(e||[],"gridInitializing"),o.rowModel.start()},a.prototype.dispatchGridReadyEvent=function(o){var e={type:Events.EVENT_GRID_READY};o.eventService.dispatchEvent(e)},a.prototype.getRowModelClass=function(o,e){o||(o=Constants.ROW_MODEL_TYPE_CLIENT_SIDE);var c={};e.forEach(function(g){iterateObject(g.rowModels,function(b,$){c[b]=$})});var h=c[o];if(exists(h))return h;ModuleRegistry.isPackageBased()?[Constants.ROW_MODEL_TYPE_VIEWPORT,Constants.ROW_MODEL_TYPE_SERVER_SIDE].includes(o)?console.error('AG Grid: Row Model "'+o+`" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/`):console.error("AG Grid: could not find row model for rowModelType "+o):o===Constants.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+ModuleNames.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Constants.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+ModuleNames.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Constants.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+ModuleNames.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Constants.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+ModuleNames.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+o)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function defaultGroupComparator(a,o,e,c,h){h===void 0&&(h=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var g=exists(e)&&e.group,b=exists(c)&&c.group,$=g&&b,j=!g&&!b;return $?defaultComparator(e.key,c.key,h):j?defaultComparator(a,o,h):g?1:-1}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var BaseComponentWrapper=function(){function a(){}return a.prototype.wrap=function(o,e,c,h){var g=this;c===void 0&&(c=[]);var b=this.createWrapper(o,h);return e.forEach(function($){g.createMethod(b,$,!0)}),c.forEach(function($){g.createMethod(b,$,!1)}),b},a.prototype.unwrap=function(o){return o},a.prototype.createMethod=function(o,e,c){o.addMethod(e,this.createMethodProxy(o,e,c))},a.prototype.createMethodProxy=function(o,e,c){return function(){return o.hasMethod(e)?o.callMethod(e,arguments):(c&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DEFAULT_CHART_GROUPS={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},CHART_TOOL_PANEL_ALLOW_LIST=["chartSettings","chartData","chartFormat"],CHART_TOOLBAR_ALLOW_LIST=["chartUnlink","chartLink","chartDownload"],CHART_TOOL_PANEL_MENU_OPTIONS={settings:"chartSettings",data:"chartData",format:"chartFormat"};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var BarColumnLabelPlacement;(function(a){a.InsideBase="insideBase",a.InsideEnd="insideEnd",a.Center="center",a.OutsideEnd="outsideEnd"})(BarColumnLabelPlacement||(BarColumnLabelPlacement={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var globalObj=typeof global>"u"?{}:global;globalObj.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;globalObj.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;globalObj.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;globalObj.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;globalObj.Node=typeof Node>"u"?{}:Node;globalObj.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var __read$1=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},__spread=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(__read$1(arguments[o]));return a},ClientSideNodeManager=function(){function a(o,e,c,h,g,b){this.nextId=0,this.allNodesMap={},this.rootNode=o,this.gridOptionsWrapper=e,this.eventService=c,this.columnModel=h,this.beans=b,this.selectionService=g,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=a.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return a.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},a.prototype.getCopyOfNodesMap=function(){return _.cloneObject(this.allNodesMap)},a.prototype.getRowNode=function(o){return this.allNodesMap[o]},a.prototype.setRowData=function(o){var e=this;if(typeof o=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}var c=this.rootNode,h=this.rootNode.sibling;c.childrenAfterFilter=null,c.childrenAfterGroup=null,c.childrenAfterAggFilter=null,c.childrenAfterSort=null,c.childrenMapped=null,c.updateHasChildren(),this.nextId=0,this.allNodesMap={},o?c.allLeafChildren=o.map(function(g){return e.createNode(g,e.rootNode,a.TOP_LEVEL)}):(c.allLeafChildren=[],c.childrenAfterGroup=[]),h&&(h.childrenAfterFilter=c.childrenAfterFilter,h.childrenAfterGroup=c.childrenAfterGroup,h.childrenAfterAggFilter=c.childrenAfterAggFilter,h.childrenAfterSort=c.childrenAfterSort,h.childrenMapped=c.childrenMapped,h.allLeafChildren=c.allLeafChildren)},a.prototype.updateRowData=function(o,e){var c={remove:[],update:[],add:[]},h=[];return this.executeRemove(o,c,h),this.executeUpdate(o,c,h),this.executeAdd(o,c),this.updateSelection(h),e&&_.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),c},a.prototype.updateSelection=function(o){var e=o.length>0;if(e&&o.forEach(function(h){h.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e){var c={type:Events.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(c)}},a.prototype.executeAdd=function(o,e){var c=this,h=o.add,g=o.addIndex;if(!_.missingOrEmpty(h)){var b=h.map(function(wt){return c.createNode(wt,c.rootNode,a.TOP_LEVEL)}),$=typeof g=="number"&&g>=0,j,rt;if($){var nt=this.rootNode.allLeafChildren,pt=g===0?0:nt.reduce(function(wt,Dt,Lt){var it,st=Dt.rowIndex,bt=(it=nt[wt])===null||it===void 0?void 0:it.rowIndex,gt=st!=null&&bt!=null&&st<g&&st>bt;return gt?Lt:wt},0)+1;j=nt.slice(0,pt),rt=nt.slice(pt,nt.length)}else j=this.rootNode.allLeafChildren,rt=[];this.rootNode.allLeafChildren=__spread(j,b,rt),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=b}},a.prototype.executeRemove=function(o,e,c){var h=this,g=o.remove;if(!_.missingOrEmpty(g)){var b={};g.forEach(function($){var j=h.lookupRowNode($);j&&(j.isSelected()&&c.push(j),j.clearRowTopAndRowIndex(),b[j.id]=!0,delete h.allNodesMap[j.id],e.remove.push(j))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function($){return!b[$.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},a.prototype.executeUpdate=function(o,e,c){var h=this,g=o.update;_.missingOrEmpty(g)||g.forEach(function(b){var $=h.lookupRowNode(b);$&&($.updateData(b),!$.selectable&&$.isSelected()&&c.push($),h.setMasterForRow($,b,a.TOP_LEVEL,!1),e.update.push($))})},a.prototype.lookupRowNode=function(o){var e=this.gridOptionsWrapper.getRowIdFunc(),c;if(e){var h=e({data:o,level:0});if(c=this.allNodesMap[h],!c)return console.error("AG Grid: could not find row id="+h+", data item was not found for this id"),null}else if(c=this.rootNode.allLeafChildren.find(function(g){return g.data===o}),!c)return console.error("AG Grid: could not find data item as object was not found",o),console.error("Consider using getRowId to help the Grid find matching row data"),null;return c||null},a.prototype.createNode=function(o,e,c){var h=new RowNode(this.beans);return h.group=!1,this.setMasterForRow(h,o,c,!0),e&&!this.suppressParentsInRowNodes&&(h.parent=e),h.level=c,h.setDataAndId(o,this.nextId.toString()),this.allNodesMap[h.id]&&console.warn("AG Grid: duplicate node id '"+h.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[h.id]=h,this.nextId++,h},a.prototype.setMasterForRow=function(o,e,c,h){if(this.doingTreeData)o.setMaster(!1),h&&(o.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?o.setMaster(this.isRowMasterFunc(e)):o.setMaster(!0):o.setMaster(!1),h){var g=this.columnModel.getRowGroupColumns(),b=g?g.length:0,$=c+b;o.expanded=o.master?this.isExpanded($):!1}},a.prototype.isExpanded=function(o){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return e===-1?!0:o<e},a.TOP_LEVEL=0,a.ROOT_NODE_ID="ROOT_NODE_ID",a}(),__extends$c=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$b=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RecursionType;(function(a){a[a.Normal=0]="Normal",a[a.AfterFilter=1]="AfterFilter",a[a.AfterFilterAndSort=2]="AfterFilterAndSort",a[a.PivotNodes=3]="PivotNodes"})(RecursionType||(RecursionType={}));var ClientSideRowModel=function(a){__extends$c(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=_.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e}return o.prototype.init=function(){var e=this.refreshModel.bind(this,{step:ClientSideRowModelSteps.EVERYTHING}),c=!this.gridOptionsWrapper.isSuppressAnimationFrame(),h=this.refreshModel.bind(this,{step:ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:c});this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,h),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var g=this.refreshModel.bind(this,{step:ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:c});this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN,g),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,g),this.rootNode=new RowNode(this.beans),this.nodeManager=new ClientSideNodeManager(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.selectionService,this.beans)},o.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},o.prototype.ensureRowHeightsValid=function(e,c,h,g){var b,$=!1;do{b=!1;for(var j=this.getRowIndexAtPixel(e),rt=this.getRowIndexAtPixel(c),nt=Math.max(j,h),pt=Math.min(rt,g),wt=nt;wt<=pt;wt++){var Dt=this.getRow(wt);if(Dt.rowHeightEstimated){var Lt=this.gridOptionsWrapper.getRowHeightForNode(Dt);Dt.setRowHeight(Lt.height),b=!0,$=!0}}b&&this.setRowTopAndRowIndex()}while(b);return $},o.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),c=0,h=new Set,g=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,b=0;b<this.rowsToDisplay.length;b++){var $=this.rowsToDisplay[b];if($.id!=null&&h.add($.id),$.rowHeight==null){var j=this.gridOptionsWrapper.getRowHeightForNode($,g,e);$.setRowHeight(j.height,j.estimated)}$.setRowTop(c),$.setRowIndex(b),c+=$.rowHeight}return h},o.prototype.clearRowTopAndRowIndex=function(e,c){var h=e.isActive(),g=function($){$&&$.id!=null&&!c.has($.id)&&$.clearRowTopAndRowIndex()},b=function($){if(g($),g($.detailNode),g($.sibling),$.hasChildren()&&$.childrenAfterGroup){var j=$.level==-1,rt=h&&!j&&!$.expanded;rt||$.childrenAfterGroup.forEach(b)}};b(this.rootNode)},o.prototype.ensureRowsAtPixel=function(e,c,h){var g=this;h===void 0&&(h=0);var b=this.getRowIndexAtPixel(c),$=this.getRow(b),j=!this.gridOptionsWrapper.isSuppressAnimationFrame();return $===e[0]?!1:(e.forEach(function(rt){_.removeFromArray(g.rootNode.allLeafChildren,rt)}),e.forEach(function(rt,nt){_.insertIntoArray(g.rootNode.allLeafChildren,rt,Math.max(b+h,0)+nt)}),this.refreshModel({step:ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:j}),!0)},o.prototype.highlightRowAtPixel=function(e,c){var h=c!=null?this.getRowIndexAtPixel(c):null,g=h!=null?this.getRow(h):null;if(!g||!e||g===e||c==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var b=this.getHighlightPosition(c,g);this.lastHighlightedRow&&this.lastHighlightedRow!==g&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),g.setHighlighted(b),this.lastHighlightedRow=g},o.prototype.getHighlightPosition=function(e,c){if(!c){var h=this.getRowIndexAtPixel(e);if(c=this.getRow(h||0),!c)return RowHighlightPosition.Below}var g=c.rowTop,b=c.rowHeight;return e-g<b/2?RowHighlightPosition.Above:RowHighlightPosition.Below},o.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},o.prototype.isLastRowIndexKnown=function(){return!0},o.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},o.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var c=this.rootNode.childrenAfterAggFilter;return c?c.length:0},o.prototype.getTopLevelRowDisplayedIndex=function(e){var c=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(c)return e;var h=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;h.expanded&&h.childrenAfterSort&&h.childrenAfterSort.length>0;)h=h.childrenAfterSort[0];return h.rowIndex},o.prototype.getRowBounds=function(e){if(_.missing(this.rowsToDisplay))return null;var c=this.rowsToDisplay[e];return c?{rowTop:c.rowTop,rowHeight:c.rowHeight}:null},o.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:e})},o.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var c=this.gridOptionsWrapper.isAnimateRows(),h=e.columns.length===0||e.columns.some(function(b){return b.isPrimary()}),g=h?ClientSideRowModelSteps.FILTER:ClientSideRowModelSteps.FILTER_AGGREGATES;this.refreshModel({step:g,keepRenderedRows:!0,animate:c})}},o.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},o.prototype.getType=function(){return Constants.ROW_MODEL_TYPE_CLIENT_SIDE},o.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:ClientSideRowModelSteps.AGGREGATE})},o.prototype.createChangePath=function(e){var c=_.missingOrEmpty(e),h=new ChangedPath(!1,this.rootNode);return(c||this.gridOptionsWrapper.isTreeData())&&h.setInactive(),h},o.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||e.rowNodeTransactions==null)return!1;var c=e.rowNodeTransactions.filter(function(g){return g.add!=null&&g.add.length>0||g.remove!=null&&g.remove.length>0}),h=c==null||c.length==0;return h},o.prototype.refreshModel=function(e){if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var c=this.createChangePath(e.rowNodeTransactions);switch(e.step){case ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,c,!!e.afterColumnsChanged);case ClientSideRowModelSteps.FILTER:this.doFilter(c);case ClientSideRowModelSteps.PIVOT:this.doPivot(c);case ClientSideRowModelSteps.AGGREGATE:this.doAggregate(c);case ClientSideRowModelSteps.FILTER_AGGREGATES:this.doFilterAggregates(c);case ClientSideRowModelSteps.SORT:this.doSort(e.rowNodeTransactions,c);case ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var h=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(c,h);var g={type:Events.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack};this.eventService.dispatchEvent(g)}},o.prototype.isEmpty=function(){var e=_.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return _.missing(this.rootNode)||e||!this.columnModel.isReady()},o.prototype.isRowsToRender=function(){return _.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},o.prototype.getNodesInRangeForSelection=function(e,c){var h=!c,g=!1,b,$=[],j=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(rt){var nt=h&&!g;h||(rt===c||rt===e)&&(h=!0);var pt=rt.group&&j;if(!pt){var wt=h&&!g,Dt=rt.isParentOfNode(b);(wt||Dt)&&$.push(rt)}nt&&(rt===c||rt===e)&&(g=!0,rt===c?b=c:b=e)}),$},o.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},o.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},o.prototype.getRootNode=function(){return this.rootNode},o.prototype.getRow=function(e){return this.rowsToDisplay[e]},o.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},o.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var c=0,h=this.rowsToDisplay.length-1;if(e<=0)return 0;var g=_.last(this.rowsToDisplay);if(g.rowTop<=e)return this.rowsToDisplay.length-1;for(var b=-1,$=-1;;){var j=Math.floor((c+h)/2),rt=this.rowsToDisplay[j];if(this.isRowInPixel(rt,e))return j;rt.rowTop<e?c=j+1:rt.rowTop>e&&(h=j-1);var nt=b===c&&$===h;if(nt)return j;b=c,$=h}},o.prototype.isRowInPixel=function(e,c){var h=e.rowTop,g=e.rowTop+e.rowHeight,b=h<=c&&g>c;return b},o.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(c,h){return e(c,h)})},o.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,RecursionType.Normal,0)},o.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,e,RecursionType.AfterFilter,0)},o.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,RecursionType.AfterFilterAndSort,0)},o.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,RecursionType.PivotNodes,0)},o.prototype.recursivelyWalkNodesAndCallback=function(e,c,h,g){if(!e)return g;for(var b=0;b<e.length;b++){var $=e[b];if(c($,g++),$.hasChildren()){var j=null;switch(h){case RecursionType.Normal:j=$.childrenAfterGroup;break;case RecursionType.AfterFilter:j=$.childrenAfterAggFilter;break;case RecursionType.AfterFilterAndSort:j=$.childrenAfterSort;break;case RecursionType.PivotNodes:j=$.leafGroup?null:$.childrenAfterSort;break}j&&(g=this.recursivelyWalkNodesAndCallback(j,c,h,g))}}return g},o.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},o.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},o.prototype.expandOrCollapseAll=function(e){var c=this.gridOptionsWrapper.isTreeData(),h=this.columnModel.isPivotActive(),g=function(j){j&&j.forEach(function(rt){var nt=function(){rt.expanded=e,g(rt.childrenAfterGroup)};if(c){var pt=_.exists(rt.childrenAfterGroup);pt&&nt();return}if(h){var wt=!rt.leafGroup;wt&&nt();return}var Dt=rt.group;Dt&&nt()})};this.rootNode&&g(this.rootNode.childrenAfterGroup),this.refreshModel({step:ClientSideRowModelSteps.MAP});var b=e?"expandAll":"collapseAll",$={type:Events.EVENT_EXPAND_COLLAPSE_ALL,source:b};this.eventService.dispatchEvent($)},o.prototype.doSort=function(e,c){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:c})},o.prototype.doRowGrouping=function(e,c,h,g,b){this.groupStage?(c?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:c,rowNodeOrder:h,changedPath:g}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:g,afterColumnsChanged:b}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(g)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},o.prototype.restoreGroupState=function(e){e&&_.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(c,h){typeof e[h]=="boolean"&&(c.expanded=e[h])})},o.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},o.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},o.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return _.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(c,h){return e[h]=c.expanded}),e},o.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},o.prototype.getRowNode=function(e){var c=typeof e=="string"&&e.indexOf(RowNode.ID_PREFIX_ROW_GROUP)==0;if(c){var h=void 0;return this.forEachNode(function(g){g.id===e&&(h=g)}),h}return this.nodeManager.getRowNode(e)},o.prototype.setRowData=function(e){var c=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var h={type:Events.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(h),this.refreshModel({step:ClientSideRowModelSteps.EVERYTHING,groupState:c,newData:!0})},o.prototype.batchUpdateRowData=function(e,c){var h=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var g=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){h.executeBatchUpdateRowData()},g)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:c})},o.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},o.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var c=[],h=[],g=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function($){var j=e.nodeManager.updateRowData($.rowDataTransaction,void 0);h.push(j),$.callback&&c.push($.callback.bind(null,j)),typeof $.rowDataTransaction.addIndex=="number"&&(g=!0)}),this.commonUpdateRowData(h,void 0,g),c.length>0&&window.setTimeout(function(){c.forEach(function($){return $()})},0),h.length>0){var b={type:Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:h};this.eventService.dispatchEvent(b)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},o.prototype.updateRowData=function(e,c){this.valueCache.onDataChanged();var h=this.nodeManager.updateRowData(e,c),g=typeof e.addIndex=="number";return this.commonUpdateRowData([h],c,g),h},o.prototype.createRowNodeOrder=function(){var e=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!e){var c={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var h=0;h<this.rootNode.allLeafChildren.length;h++){var g=this.rootNode.allLeafChildren[h];c[g.id]=h}return c}},o.prototype.commonUpdateRowData=function(e,c,h){var g=!this.gridOptionsWrapper.isSuppressAnimationFrame();h&&(c=this.createRowNodeOrder()),this.refreshModel({step:ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:c,keepRenderedRows:!0,keepEditingRows:!0,animate:g}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var b={type:Events.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(b)},o.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},o.prototype.onRowHeightChanged=function(){this.refreshModel({step:ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},o.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},o.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(c){c.setRowHeight(c.rowHeight,!0);var h=c.detailNode;h&&h.setRowHeight(h.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},__decorate$b([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$b([Autowired("selectionService")],o.prototype,"selectionService",void 0),__decorate$b([Autowired("filterManager")],o.prototype,"filterManager",void 0),__decorate$b([Autowired("valueCache")],o.prototype,"valueCache",void 0),__decorate$b([Autowired("beans")],o.prototype,"beans",void 0),__decorate$b([Autowired("filterStage")],o.prototype,"filterStage",void 0),__decorate$b([Autowired("sortStage")],o.prototype,"sortStage",void 0),__decorate$b([Autowired("flattenStage")],o.prototype,"flattenStage",void 0),__decorate$b([Optional("groupStage")],o.prototype,"groupStage",void 0),__decorate$b([Optional("aggregationStage")],o.prototype,"aggregationStage",void 0),__decorate$b([Optional("pivotStage")],o.prototype,"pivotStage",void 0),__decorate$b([Optional("filterAggregatesStage")],o.prototype,"filterAggregatesStage",void 0),__decorate$b([PostConstruct],o.prototype,"init",null),o=__decorate$b([Bean("rowModel")],o),o}(BeanStub),__extends$b=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$a=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},FilterStage=function(a){__extends$b(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.execute=function(e){var c=e.changedPath;this.filterService.filter(c)},__decorate$a([Autowired("filterService")],o.prototype,"filterService",void 0),o=__decorate$a([Bean("filterStage")],o),o}(BeanStub),__extends$a=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$9=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SortStage=function(a){__extends$a(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.execute=function(e){var c=this,h=this.sortController.getSortOptions(),g=_.exists(h)&&h.length>0,b=g&&_.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),$=h.some(function(j){return!!c.columnModel.getGroupDisplayColumnForGroup(j.column.getId())});this.sortService.sort(h,g,b,e.rowNodeTransactions,e.changedPath,$)},__decorate$9([Autowired("sortService")],o.prototype,"sortService",void 0),__decorate$9([Autowired("sortController")],o.prototype,"sortController",void 0),__decorate$9([Autowired("columnModel")],o.prototype,"columnModel",void 0),o=__decorate$9([Bean("sortStage")],o),o}(BeanStub),__extends$9=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$8=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},FlattenStage=function(a){__extends$9(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.execute=function(e){var c=e.rowNode,h=[],g={value:0},b=this.columnModel.isPivotMode(),$=b&&c.leafGroup,j=$?[c]:c.childrenAfterSort;this.recursivelyAddToRowsToDisplay(j,h,g,b,0);var rt=h.length>0,nt=!$&&rt&&this.gridOptionsWrapper.isGroupIncludeTotalFooter();return nt&&(this.ensureFooterNodeExists(c),this.addRowNodeToRowsToDisplay(c.sibling,h,g,0)),h},o.prototype.recursivelyAddToRowsToDisplay=function(e,c,h,g,b){if(!_.missingOrEmpty(e))for(var $=this.gridOptionsWrapper.isGroupHideOpenParents(),j=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),rt=!j&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),nt=0;nt<e.length;nt++){var pt=e[nt],wt=pt.hasChildren(),Dt=g&&!wt,Lt=j&&wt&&pt.childrenAfterGroup.length===1,it=rt&&wt&&pt.leafGroup&&pt.childrenAfterGroup.length===1,st=g&&pt.leafGroup,bt=$&&pt.expanded&&!pt.master&&!st,gt=!Dt&&!bt&&!Lt&&!it;if(gt&&this.addRowNodeToRowsToDisplay(pt,c,h,b),!(g&&pt.leafGroup)){if(wt){var Et=Lt||it;if(pt.expanded||Et){var ot=Et?b:b+1;this.recursivelyAddToRowsToDisplay(pt.childrenAfterSort,c,h,g,ot),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(pt),this.addRowNodeToRowsToDisplay(pt.sibling,c,h,b))}}else if(pt.master&&pt.expanded){var _t=this.createDetailNode(pt);this.addRowNodeToRowsToDisplay(_t,c,h,b)}}}},o.prototype.addRowNodeToRowsToDisplay=function(e,c,h,g){var b=this.gridOptionsWrapper.isGroupMultiAutoColumn();c.push(e),e.setUiLevel(b?0:g)},o.prototype.ensureFooterNodeExists=function(e){if(!_.exists(e.sibling)){var c=new RowNode(this.beans);Object.keys(e).forEach(function(h){c[h]=e[h]}),c.footer=!0,c.setRowTop(null),c.setRowIndex(null),c.oldRowTop=null,_.exists(c.id)&&(c.id="rowGroupFooter_"+c.id),c.sibling=e,e.sibling=c}},o.prototype.createDetailNode=function(e){if(_.exists(e.detailNode))return e.detailNode;var c=new RowNode(this.beans);return c.detail=!0,c.selectable=!1,c.parent=e,_.exists(e.id)&&(c.id="detail_"+e.id),c.data=e.data,c.level=e.level+1,e.detailNode=c,c},__decorate$8([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$8([Autowired("beans")],o.prototype,"beans",void 0),o=__decorate$8([Bean("flattenStage")],o),o}(BeanStub),__extends$8=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$7=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},SortService=function(a){__extends$8(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},o.prototype.sort=function(e,c,h,g,b,$){var j=this,rt=this.gridOptionsWrapper.isGroupMaintainOrder(),nt=this.columnModel.getAllGridColumns().some(function(Lt){return Lt.isRowGroupActive()}),pt={};h&&g&&(pt=this.calculateDirtyNodes(g));var wt=this.columnModel.isPivotMode(),Dt=function(Lt){j.pullDownGroupDataForHideOpenParents(Lt.childrenAfterAggFilter,!0);var it=wt&&Lt.leafGroup,st=rt&&nt&&!Lt.leafGroup&&!$;if(!c||st||it){var bt=Lt.childrenAfterAggFilter.slice(0);if(rt&&Lt.childrenAfterSort){var gt=Lt.childrenAfterSort.reduce(function(ot,_t,Mt){return ot[_t.id]=Mt,ot},{});bt.sort(function(ot,_t){return(gt[ot.id]||0)-(gt[_t.id]||0)})}Lt.childrenAfterSort=bt}else h?Lt.childrenAfterSort=j.doDeltaSort(Lt,pt,b,e):Lt.childrenAfterSort=j.rowNodeSorter.doFullSort(Lt.childrenAfterAggFilter,e);if(Lt.sibling&&(Lt.sibling.childrenAfterSort=Lt.childrenAfterSort),j.updateChildIndexes(Lt),j.postSortFunc){var Et={nodes:Lt.childrenAfterSort};j.postSortFunc(Et)}};b&&b.forEachChangedNodeDepthFirst(Dt),this.updateGroupDataForHideOpenParents(b)},o.prototype.calculateDirtyNodes=function(e){var c={},h=function(g){g&&g.forEach(function(b){return c[b.id]=!0})};return e&&e.forEach(function(g){h(g.add),h(g.update),h(g.remove)}),c},o.prototype.doDeltaSort=function(e,c,h,g){var b=this,$=e.childrenAfterAggFilter,j=e.childrenAfterSort;if(!j)return this.rowNodeSorter.doFullSort($,g);var rt={},nt=[];$.forEach(function(Lt){c[Lt.id]||!h.canSkip(Lt)?nt.push(Lt):rt[Lt.id]=!0});var pt=j.filter(function(Lt){return rt[Lt.id]}),wt=function(Lt,it){return{currentPos:it,rowNode:Lt}},Dt=nt.map(wt).sort(function(Lt,it){return b.rowNodeSorter.compareRowNodes(g,Lt,it)});return this.mergeSortedArrays(g,Dt,pt.map(wt)).map(function(Lt){var it=Lt.rowNode;return it})},o.prototype.mergeSortedArrays=function(e,c,h){for(var g=[],b=0,$=0;b<c.length&&$<h.length;){var j=this.rowNodeSorter.compareRowNodes(e,c[b],h[$]);j<0?g.push(c[b++]):g.push(h[$++])}for(;b<c.length;)g.push(c[b++]);for(;$<h.length;)g.push(h[$++]);return g},o.prototype.updateChildIndexes=function(e){if(!_.missing(e.childrenAfterSort))for(var c=e.childrenAfterSort,h=0;h<c.length;h++){var g=c[h],b=h===0,$=h===e.childrenAfterSort.length-1;g.setFirstChild(b),g.setLastChild($),g.setChildIndex(h)}},o.prototype.updateGroupDataForHideOpenParents=function(e){var c=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData()){var h="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return _.doOnce(function(){return console.warn(h)},"sortService.hideOpenParentsWithTreeData"),!1}var g=function(b){c.pullDownGroupDataForHideOpenParents(b.childrenAfterSort,!1),b.childrenAfterSort.forEach(function($){$.hasChildren()&&g($)})};e&&e.executeFromRootNode(function(b){return g(b)})}},o.prototype.pullDownGroupDataForHideOpenParents=function(e,c){var h=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||_.missing(e)||e.forEach(function(g){var b=h.columnModel.getGroupDisplayColumns();b.forEach(function($){var j=$.getColDef().showRowGroup;if(typeof j!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var rt=j,nt=h.columnModel.getPrimaryColumn(rt),pt=nt===g.rowGroupColumn;if(!pt)if(c)g.setGroupValue($.getId(),void 0);else{var wt=g.getFirstChildOfFirstChild(nt);wt&&g.setGroupValue($.getId(),wt.key)}})})},__decorate$7([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$7([Autowired("rowNodeSorter")],o.prototype,"rowNodeSorter",void 0),__decorate$7([PostConstruct],o.prototype,"init",null),o=__decorate$7([Bean("sortService")],o),o}(BeanStub),__extends$7=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$6=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},FilterService=function(a){__extends$7(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.filter=function(e){var c=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(c,e)},o.prototype.filterNodes=function(e,c){var h=this,g=function(rt,nt){rt.hasChildren()&&e&&!nt?rt.childrenAfterFilter=rt.childrenAfterGroup.filter(function(pt){var wt=pt.childrenAfterFilter&&pt.childrenAfterFilter.length>0,Dt=pt.data&&h.filterManager.doesRowPassFilter({rowNode:pt});return wt||Dt}):rt.childrenAfterFilter=rt.childrenAfterGroup,rt.sibling&&(rt.sibling.childrenAfterFilter=rt.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var b=function(rt,nt){if(rt.childrenAfterGroup)for(var pt=0;pt<rt.childrenAfterGroup.length;pt++){var wt=rt.childrenAfterGroup[pt],Dt=nt||h.filterManager.doesRowPassFilter({rowNode:wt});wt.childrenAfterGroup?b(rt.childrenAfterGroup[pt],Dt):g(wt,Dt)}g(rt,nt)},$=function(rt){return b(rt,!1)};c.executeFromRootNode($)}else{var j=function(rt){return g(rt,!1)};c.forEachChangedNodeDepthFirst(j,!0)}},o.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},__decorate$6([Autowired("filterManager")],o.prototype,"filterManager",void 0),o=__decorate$6([Bean("filterService")],o),o}(BeanStub),__extends$6=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$5=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__read=function(a,o){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),h,g=[],b;try{for(;(o===void 0||o-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(b)throw b.error}}return g},ImmutableService=function(a){__extends$6(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},o.prototype.setRowData=function(e){var c=this.createTransactionForRowData(e);if(c){var h=__read(c,2),g=h[0],b=h[1],$=this.clientSideRowModel.updateRowData(g,b);$&&this.rowRenderer.refreshFullWidthRows($.update)}},o.prototype.createTransactionForRowData=function(e){if(_.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var c=this.gridOptionsWrapper.getRowIdFunc();if(c==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var h={remove:[],update:[],add:[]},g=this.clientSideRowModel.getCopyOfNodesMap(),b=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder(),$=b?void 0:{};return _.exists(e)&&e.forEach(function(j,rt){var nt=c({data:j,level:0}),pt=g[nt];if($&&($[nt]=rt),pt){var wt=pt.data!==j;wt&&h.update.push(j),g[nt]=void 0}else h.add.push(j)}),_.iterateObject(g,function(j,rt){rt&&h.remove.push(rt.data)}),[h,$]},__decorate$5([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate$5([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$5([Autowired("columnApi")],o.prototype,"columnApi",void 0),__decorate$5([Autowired("gridApi")],o.prototype,"gridApi",void 0),__decorate$5([Autowired("filterManager")],o.prototype,"filterManager",void 0),__decorate$5([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$5([Bean("immutableService")],o),o}(BeanStub),ClientSideRowModelModule={moduleName:ModuleNames.ClientSideRowModelModule,beans:[FilterStage,SortStage,FlattenStage,SortService,FilterService,ImmutableService],rowModels:{clientSide:ClientSideRowModel}},__extends$5$1=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$4=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},InfiniteBlock=function(a){__extends$5$1(o,a);function o(e,c,h){var g=a.call(this,e)||this;return g.parentCache=c,g.params=h,g.startRow=e*h.blockSize,g.endRow=g.startRow+h.blockSize,g}return o.prototype.postConstruct=function(){this.createRowNodes()},o.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},o.prototype.setDataAndId=function(e,c,h){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),_.exists(c)?e.setDataAndId(c,h.toString()):e.setDataAndId(void 0,void 0)},o.prototype.loadFromDatasource=function(){var e=this,c=this.createLoadParams();if(_.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){e.params.datasource.getRows(c)},0)},o.prototype.processServerFail=function(){},o.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()};return e},o.prototype.forEachNode=function(e,c,h){var g=this;this.rowNodes.forEach(function(b,$){var j=g.startRow+$;j<h&&e(b,c.next())})},o.prototype.getLastAccessed=function(){return this.lastAccessed},o.prototype.getRow=function(e,c){c===void 0&&(c=!1),c||(this.lastAccessed=this.params.lastAccessedSequence.next());var h=e-this.startRow;return this.rowNodes[h]},o.prototype.getStartRow=function(){return this.startRow},o.prototype.getEndRow=function(){return this.endRow},o.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var c=this.startRow+e,h=new RowNode(this.beans);h.setRowHeight(this.params.rowHeight),h.uiLevel=0,h.setRowIndex(c),h.setRowTop(this.params.rowHeight*c),this.rowNodes.push(h)}},o.prototype.processServerResult=function(e){var c=this;this.rowNodes.forEach(function(g,b){var $=e.rowData?e.rowData[b]:void 0;c.setDataAndId(g,$,c.startRow+b)});var h=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,h)},o.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},__decorate$4([Autowired("beans")],o.prototype,"beans",void 0),__decorate$4([PostConstruct],o.prototype,"postConstruct",null),__decorate$4([PreDestroy],o.prototype,"destroyRowNodes",null),o}(RowNodeBlock),__extends$4$1=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$3=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},__param=function(a,o){return function(e,c){o(e,c,a)}},InfiniteCache=function(a){__extends$4$1(o,a);function o(e){var c=a.call(this)||this;return c.lastRowIndexKnown=!1,c.blocks={},c.blockCount=0,c.rowCount=e.initialRowCount,c.params=e,c}return o.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},o.prototype.getRow=function(e,c){c===void 0&&(c=!1);var h=Math.floor(e/this.params.blockSize),g=this.blocks[h];if(!g){if(c)return;g=this.createBlock(h)}return g.getRow(e)},o.prototype.createBlock=function(e){var c=this.createBean(new InfiniteBlock(e,this,this.params));return this.blocks[c.getId()]=c,this.blockCount++,this.purgeBlocksIfNeeded(c),this.params.rowNodeBlockLoader.addBlock(c),c},o.prototype.refreshCache=function(){var e=this.blockCount==0;if(e){this.purgeCache();return}this.getBlocksInOrder().forEach(function(c){return c.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},o.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(c){return e.destroyBlock(c)})},o.prototype.getRowCount=function(){return this.rowCount},o.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},o.prototype.pageLoaded=function(e,c){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+c),this.checkRowCount(e,c),this.onCacheUpdated())},o.prototype.purgeBlocksIfNeeded=function(e){var c=this,h=this.getBlocksInOrder().filter(function(rt){return rt!=e}),g=function(rt,nt){return nt.getLastAccessed()-rt.getLastAccessed()};h.sort(g);var b=this.params.maxBlocksInCache>0,$=b?this.params.maxBlocksInCache-1:null,j=o.MAX_EMPTY_BLOCKS_TO_KEEP-1;h.forEach(function(rt,nt){var pt=rt.getState()===InfiniteBlock.STATE_WAITING_TO_LOAD&&nt>=j,wt=b?nt>=$:!1;if(pt||wt){if(c.isBlockCurrentlyDisplayed(rt)||c.isBlockFocused(rt))return;c.removeBlockFromCache(rt)}})},o.prototype.isBlockFocused=function(e){var c=this.focusService.getFocusCellToUseAfterRefresh();if(!c||c.rowPinned!=null)return!1;var h=e.getStartRow(),g=e.getEndRow(),b=c.rowIndex>=h&&c.rowIndex<g;return b},o.prototype.isBlockCurrentlyDisplayed=function(e){var c=e.getStartRow(),h=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(c,h)},o.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},o.prototype.checkRowCount=function(e,c){if(typeof c=="number"&&c>=0)this.rowCount=c,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var h=(e.getId()+1)*this.params.blockSize,g=h+this.params.overflowSize;this.rowCount<g&&(this.rowCount=g)}},o.prototype.setRowCount=function(e,c){this.rowCount=e,_.exists(c)&&(this.lastRowIndexKnown=c),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},o.prototype.forEachNodeDeep=function(e){var c=this,h=new NumberSequence;this.getBlocksInOrder().forEach(function(g){return g.forEachNode(e,h,c.rowCount)})},o.prototype.getBlocksInOrder=function(){var e=function(h,g){return h.getId()-g.getId()},c=_.getAllValuesInObject(this.blocks).sort(e);return c},o.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},o.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:Events.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},o.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,c=[];this.getBlocksInOrder().forEach(function(h){var g=h.getId()*e.params.blockSize;g>=e.rowCount&&c.push(h)}),c.length>0&&c.forEach(function(h){return e.destroyBlock(h)})},o.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(c){return e.removeBlockFromCache(c)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},o.prototype.getRowNodesInRange=function(e,c){var h=this,g=[],b=-1,$=!1,j=new NumberSequence;_.missing(e)&&($=!0);var rt=!1;this.getBlocksInOrder().forEach(function(pt){if(!rt){if($&&b+1!==pt.getId()){rt=!0;return}b=pt.getId(),pt.forEachNode(function(wt){var Dt=wt===e||wt===c;($||Dt)&&g.push(wt),Dt&&($=!$)},j,h.rowCount)}});var nt=rt||$;return nt?[]:g},o.MAX_EMPTY_BLOCKS_TO_KEEP=2,__decorate$3([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$3([Autowired("focusService")],o.prototype,"focusService",void 0),__decorate$3([__param(0,Qualifier("loggerFactory"))],o.prototype,"setBeans",null),__decorate$3([PreDestroy],o.prototype,"destroyAllBlocks",null),o}(BeanStub),__extends$3$1=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$2=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},InfiniteRowModel=function(a){__extends$3$1(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},o.prototype.ensureRowHeightsValid=function(e,c,h,g){return!1},o.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},o.prototype.verifyProps=function(){if(this.gridOptionsWrapper.getInitialGroupOrderComparator()!=null){var e="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";_.doOnce(function(){return console.warn(e)},"IRM.InitialGroupOrderComparator")}},o.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},o.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},o.prototype.onFilterChanged=function(){this.reset()},o.prototype.onSortChanged=function(){this.reset()},o.prototype.onColumnEverything=function(){var e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()},o.prototype.isSortModelDifferent=function(){return!_.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},o.prototype.getType=function(){return Constants.ROW_MODEL_TYPE_INFINITE},o.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},o.prototype.isEmpty=function(){return!this.infiniteCache},o.prototype.isRowsToRender=function(){return!!this.infiniteCache},o.prototype.getNodesInRangeForSelection=function(e,c){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,c):[]},o.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsWrapper.getRowIdFunc(),c=e!=null;c||this.selectionService.reset(),this.resetCache();var h=this.createModelUpdatedEvent();this.eventService.dispatchEvent(h)}},o.prototype.createModelUpdatedEvent=function(){return{type:Events.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},o.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new NumberSequence},this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams))},o.prototype.defaultIfInvalid=function(e,c){return e>0?e:c},o.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},o.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},o.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},o.prototype.getRowNode=function(e){var c;return this.forEachNode(function(h){h.id===e&&(c=h)}),c},o.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},o.prototype.getTopLevelRowCount=function(){return this.getRowCount()},o.prototype.getTopLevelRowDisplayedIndex=function(e){return e},o.prototype.getRowIndexAtPixel=function(e){if(this.rowHeight!==0){var c=Math.floor(e/this.rowHeight),h=this.getRowCount()-1;return c>h?h:c}return 0},o.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},o.prototype.isRowPresent=function(e){var c=this.getRowNode(e.id);return!!c},o.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},o.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},o.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},o.prototype.setRowCount=function(e,c){this.infiniteCache&&this.infiniteCache.setRowCount(e,c)},__decorate$2([Autowired("filterManager")],o.prototype,"filterManager",void 0),__decorate$2([Autowired("sortController")],o.prototype,"sortController",void 0),__decorate$2([Autowired("selectionService")],o.prototype,"selectionService",void 0),__decorate$2([Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),__decorate$2([Autowired("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),__decorate$2([PostConstruct],o.prototype,"init",null),__decorate$2([PreDestroy],o.prototype,"destroyDatasource",null),o=__decorate$2([Bean("rowModel")],o),o}(BeanStub),InfiniteRowModelModule={moduleName:ModuleNames.InfiniteRowModelModule,rowModels:{infinite:InfiniteRowModel}},BaseCreator=function(){function a(){}return a.prototype.setBeans=function(o){this.beans=o},a.prototype.getFileName=function(o){var e=this.getDefaultFileExtension();return(o==null||!o.length)&&(o=this.getDefaultFileName()),o.indexOf(".")===-1?o+"."+e:o},a.prototype.getData=function(o){var e=this.createSerializingSession(o),c=this.beans.gridSerializer.serialize(e,o);return c},a}(),BaseGridSerializingSession=function(){function a(o){this.groupColumns=[];var e=o.columnModel,c=o.valueService,h=o.gridOptionsWrapper,g=o.processCellCallback,b=o.processHeaderCallback,$=o.processGroupHeaderCallback,j=o.processRowGroupCallback;this.columnModel=e,this.valueService=c,this.gridOptionsWrapper=h,this.processCellCallback=g,this.processHeaderCallback=b,this.processGroupHeaderCallback=$,this.processRowGroupCallback=j}return a.prototype.prepare=function(o){this.groupColumns=o.filter(function(e){return!!e.getColDef().showRowGroup})},a.prototype.extractHeaderValue=function(o){var e=this.getHeaderName(this.processHeaderCallback,o);return e??""},a.prototype.extractRowCellValue=function(o,e,c,h,g){var b=this.gridOptionsWrapper.isGroupHideOpenParents(),$=!b&&this.shouldRenderGroupSummaryCell(g,o,e)?this.createValueForGroupNode(g):this.valueService.getValue(o,g),j=this.processCell({accumulatedRowIndex:c,rowNode:g,column:o,value:$,processCellCallback:this.processCellCallback,type:h});return j??""},a.prototype.shouldRenderGroupSummaryCell=function(o,e,c){var h,g=o&&o.group;if(!g)return!1;var b=this.groupColumns.indexOf(e);if(b!==-1&&(!((h=o.groupData)===null||h===void 0)&&h[e.getId()]))return!0;var $=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode());return c===0&&$},a.prototype.getHeaderName=function(o,e){return o?o({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},a.prototype.createValueForGroupNode=function(o){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[o.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;o.parent;)o=o.parent,e.push(o.key);return e.reverse().join(" -> ")},a.prototype.processCell=function(o){var e=o.accumulatedRowIndex,c=o.rowNode,h=o.column,g=o.value,b=o.processCellCallback,$=o.type;return b?b({accumulatedRowIndex:e,column:h,node:c,value:g,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:$}):g??""},a}(),Downloader=function(){function a(){}return a.download=function(o,e){var c=document.defaultView||window;if(!c){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var h=document.createElement("a"),g=c.URL.createObjectURL(e);h.setAttribute("href",g),h.setAttribute("download",o),h.style.display="none",document.body.appendChild(h),h.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:c})),document.body.removeChild(h),c.setTimeout(function(){c.URL.revokeObjectURL(g)},0)},a}(),__extends$2$1=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),LINE_SEPARATOR$1=`\r
`,CsvSerializingSession=function(a){__extends$2$1(o,a);function o(e){var c=a.call(this,e)||this;c.isFirstLine=!0,c.result="";var h=e.suppressQuotes,g=e.columnSeparator;return c.suppressQuotes=h,c.columnSeparator=g,c}return o.prototype.addCustomContent=function(e){var c=this;e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,LINE_SEPARATOR$1),this.result+=e):e.forEach(function(h){c.beginNewLine(),h.forEach(function(g,b){b!==0&&(c.result+=c.columnSeparator),c.result+=c.putInQuotes(g.data.value||""),g.mergeAcross&&c.appendEmptyCells(g.mergeAcross)})}))},o.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},o.prototype.onNewHeaderGroupingRowColumn=function(e,c,h,g){h!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(c),this.appendEmptyCells(g)},o.prototype.appendEmptyCells=function(e){for(var c=1;c<=e;c++)this.result+=this.columnSeparator+this.putInQuotes("")},o.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},o.prototype.onNewHeaderRowColumn=function(e,c){c!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},o.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},o.prototype.onNewBodyRowColumn=function(e,c,h){c!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,c,c,Constants.EXPORT_TYPE_CSV,h))},o.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(e==null)return'""';var c;typeof e=="string"?c=e:typeof e.toString=="function"?c=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),c="");var h=c.replace(/"/g,'""');return'"'+h+'"'},o.prototype.parse=function(){return this.result},o.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=LINE_SEPARATOR$1),this.isFirstLine=!1},o}(BaseGridSerializingSession),__extends$1$1=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate$1=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},CsvCreator=function(a){__extends$1$1(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},o.prototype.getMergedParams=function(e){var c=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},c,e)},o.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var c=this.getMergedParams(e),h=this.getData(c),g=new Blob(["\uFEFF",h],{type:"text/plain"});return Downloader.download(this.getFileName(c.fileName),g),h},o.prototype.exportDataAsCsv=function(e){return this.export(e)},o.prototype.getDataAsCsv=function(e,c){c===void 0&&(c=!1);var h=c?Object.assign({},e):this.getMergedParams(e);return this.getData(h)},o.prototype.getDefaultFileName=function(){return"export.csv"},o.prototype.getDefaultFileExtension=function(){return"csv"},o.prototype.createSerializingSession=function(e){var c=this,h=c.columnModel,g=c.valueService,b=c.gridOptionsWrapper,$=e,j=$.processCellCallback,rt=$.processHeaderCallback,nt=$.processGroupHeaderCallback,pt=$.processRowGroupCallback,wt=$.suppressQuotes,Dt=$.columnSeparator;return new CsvSerializingSession({columnModel:h,valueService:g,gridOptionsWrapper:b,processCellCallback:j||void 0,processHeaderCallback:rt||void 0,processGroupHeaderCallback:nt||void 0,processRowGroupCallback:pt||void 0,suppressQuotes:wt||!1,columnSeparator:Dt||","})},o.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},__decorate$1([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate$1([Autowired("valueService")],o.prototype,"valueService",void 0),__decorate$1([Autowired("gridSerializer")],o.prototype,"gridSerializer",void 0),__decorate$1([Autowired("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),__decorate$1([PostConstruct],o.prototype,"postConstruct",null),o=__decorate$1([Bean("csvCreator")],o),o}(BaseCreator),__extends$2V=function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__decorate=function(a,o,e,c){var h=arguments.length,g=h<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,e):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,o,e,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(o,e,g):b(o,e))||g);return h>3&&g&&Object.defineProperty(o,e,g),g},RowType;(function(a){a[a.HEADER_GROUPING=0]="HEADER_GROUPING",a[a.HEADER=1]="HEADER",a[a.BODY=2]="BODY"})(RowType||(RowType={}));var GridSerializer=function(a){__extends$2V(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.serialize=function(e,c){c===void 0&&(c={});var h=this.getColumnsToExport(c.allColumns,c.columnKeys),g=_.compose(this.prepareSession(h),this.prependContent(c),this.exportColumnGroups(c,h),this.exportHeaders(c,h),this.processPinnedTopRows(c,h),this.processRows(c,h),this.processPinnedBottomRows(c,h),this.appendContent(c));return g(e).parse()},o.prototype.processRow=function(e,c,h,g){var b=c.shouldRowBeSkipped||function(){return!1},$=this.gridOptionsWrapper,j=$.getContext(),rt=$.getApi(),nt=$.getColumnApi(),pt=$.isGroupRemoveSingleChildren(),wt=$.isGroupRemoveLowestSingleChildren(),Dt=c.rowPositions!=null,Lt=Dt||!!c.onlySelected,it=$.isGroupHideOpenParents()&&!Lt,st=this.columnModel.isPivotMode()?g.leafGroup:!g.group,bt=c.skipGroups||c.skipRowGroups,gt=wt&&g.leafGroup,Et=g.allChildrenCount===1&&(pt||gt);if(bt&&c.skipGroups&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!st&&(c.skipRowGroups||Et||it)||c.onlySelected&&!g.isSelected()||c.skipPinnedTop&&g.rowPinned==="top"||c.skipPinnedBottom&&g.rowPinned==="bottom")){var ot=g.level===-1;if(!(ot&&!g.leafGroup&&(!g.footer||!Dt))){var _t=b({node:g,api:rt,columnApi:nt,context:j});if(!_t){var Mt=e.onNewBodyRow();if(h.forEach(function(It,jt){Mt.onColumn(It,jt,g)}),c.getCustomContentBelowRow){var Bt=c.getCustomContentBelowRow({node:g,api:rt,columnApi:nt,context:j});Bt&&e.addCustomContent(Bt)}}}}},o.prototype.appendContent=function(e){return function(c){var h=e.customFooter||e.appendContent;return h&&(e.customFooter&&_.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),c.addCustomContent(h)),c}},o.prototype.prependContent=function(e){return function(c){var h=e.customHeader||e.prependContent;return h&&(e.customHeader&&_.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),c.addCustomContent(h)),c}},o.prototype.prepareSession=function(e){return function(c){return c.prepare(e),c}},o.prototype.exportColumnGroups=function(e,c){var h=this;return function(g){if(e.skipColumnGroupHeaders)e.columnGroups&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var b=new GroupInstanceIdCreator,$=h.displayedGroupCreator.createDisplayedGroups(c,h.columnModel.getGridBalancedTree(),b,null);h.recursivelyAddHeaderGroups($,g,e.processGroupHeaderCallback)}return g}},o.prototype.exportHeaders=function(e,c){return function(h){if(!e.skipHeader&&!e.skipColumnHeaders){var g=h.onNewHeaderRow();c.forEach(function(b,$){g.onColumn(b,$,void 0)})}else e.skipHeader&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");return h}},o.prototype.processPinnedTopRows=function(e,c){var h=this;return function(g){var b=h.processRow.bind(h,g,e,c);return e.rowPositions?e.rowPositions.filter(function($){return $.rowPinned==="top"}).sort(function($,j){return $.rowIndex-j.rowIndex}).map(function($){return h.pinnedRowModel.getPinnedTopRow($.rowIndex)}).forEach(b):h.pinnedRowModel.forEachPinnedTopRow(b),g}},o.prototype.processRows=function(e,c){var h=this;return function(g){var b=h.rowModel,$=b.getType(),j=$===Constants.ROW_MODEL_TYPE_CLIENT_SIDE,rt=$===Constants.ROW_MODEL_TYPE_SERVER_SIDE,nt=!j&&e.onlySelected,pt=h.processRow.bind(h,g,e,c),wt=e.exportedRows,Dt=wt===void 0?"filteredAndSorted":wt;if(e.rowPositions)e.rowPositions.filter(function(it){return it.rowPinned==null}).sort(function(it,st){return it.rowIndex-st.rowIndex}).map(function(it){return b.getRow(it.rowIndex)}).forEach(pt);else if(h.columnModel.isPivotMode())j?b.forEachPivotNode(pt):b.forEachNode(pt);else if(e.onlySelectedAllPages||nt){var Lt=h.selectionService.getSelectedNodes();Lt.forEach(pt)}else Dt==="all"?b.forEachNode(pt):j||rt?b.forEachNodeAfterFilterAndSort(pt):b.forEachNode(pt);return g}},o.prototype.processPinnedBottomRows=function(e,c){var h=this;return function(g){var b=h.processRow.bind(h,g,e,c);return e.rowPositions?e.rowPositions.filter(function($){return $.rowPinned==="bottom"}).sort(function($,j){return $.rowIndex-j.rowIndex}).map(function($){return h.pinnedRowModel.getPinnedBottomRow($.rowIndex)}).forEach(b):h.pinnedRowModel.forEachPinnedBottomRow(b),g}},o.prototype.getColumnsToExport=function(e,c){e===void 0&&(e=!1);var h=this.columnModel.isPivotMode();if(c&&c.length)return this.columnModel.getGridColumns(c);if(e&&!h){var g=this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([Constants.GROUP_AUTO_COLUMN_ID]):[];return g.concat(this.columnModel.getAllPrimaryColumns()||[])}return this.columnModel.getAllDisplayedColumns()},o.prototype.recursivelyAddHeaderGroups=function(e,c,h){var g=[];e.forEach(function(b){var $=b;$.getChildren&&$.getChildren().forEach(function(j){return g.push(j)})}),e.length>0&&e[0]instanceof ColumnGroup&&this.doAddHeaderHeader(c,e,h),g&&g.length>0&&this.recursivelyAddHeaderGroups(g,c,h)},o.prototype.doAddHeaderHeader=function(e,c,h){var g=this,b=e.onNewHeaderGroupingRow(),$=0;c.forEach(function(j){var rt=j,nt;h?nt=h({columnGroup:rt,api:g.gridOptionsWrapper.getApi(),columnApi:g.gridOptionsWrapper.getColumnApi(),context:g.gridOptionsWrapper.getContext()}):nt=g.columnModel.getDisplayNameForColumnGroup(rt,"header");var pt=rt.getLeafColumns().reduce(function(wt,Dt,Lt,it){var st=_.last(wt),bt=Dt.getColumnGroupShow()==="open";return bt?(!st||st[1]!=null)&&(st=[Lt],wt.push(st)):st&&st[1]==null&&(st[1]=Lt-1),Lt===it.length-1&&st&&st[1]==null&&(st[1]=Lt),wt},[]);b.onColumn(rt,nt||"",$++,rt.getLeafColumns().length-1,pt)})},__decorate([Autowired("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),__decorate([Autowired("columnModel")],o.prototype,"columnModel",void 0),__decorate([Autowired("rowModel")],o.prototype,"rowModel",void 0),__decorate([Autowired("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),__decorate([Autowired("selectionService")],o.prototype,"selectionService",void 0),__decorate([Autowired("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),o=__decorate([Bean("gridSerializer")],o),o}(BeanStub),CsvExportModule={moduleName:ModuleNames.CsvExportModule,beans:[CsvCreator,GridSerializer]},LINE_SEPARATOR=`\r
`,XmlFactory=function(){function a(){}return a.createHeader=function(o){o===void 0&&(o={});var e="<?",c="?>",h=["version"];o.version||(o.version="1.0"),o.encoding&&h.push("encoding"),o.standalone&&h.push("standalone");var g=h.map(function(b){return b+'="'+o[b]+'"'}).join(" ");return e+"xml "+g+" "+c},a.createXml=function(o,e){var c=this,h="";o.properties&&(o.properties.prefixedAttributes&&o.properties.prefixedAttributes.forEach(function(b){Object.keys(b.map).forEach(function($){h+=c.returnAttributeIfPopulated(b.prefix+$,b.map[$],e)})}),o.properties.rawMap&&Object.keys(o.properties.rawMap).forEach(function(b){h+=c.returnAttributeIfPopulated(b,o.properties.rawMap[b],e)}));var g="<"+o.name+h;return!o.children&&o.textNode==null?g+"/>"+LINE_SEPARATOR:o.textNode!=null?g+">"+o.textNode+"</"+o.name+">"+LINE_SEPARATOR:(g+=">"+LINE_SEPARATOR,o.children&&o.children.forEach(function(b){g+=c.createXml(b,e)}),g+"</"+o.name+">"+LINE_SEPARATOR)},a.returnAttributeIfPopulated=function(o,e,c){if(!e&&e!==""&&e!==0)return"";var h=e;return typeof e=="boolean"&&c&&(h=c(e))," "+o+'="'+h+'"'},a}(),__values=function(a){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&a[o],c=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},crcTable=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ZipContainer=function(){function a(){}return a.addFolders=function(o){o.forEach(this.addFolder.bind(this))},a.addFolder=function(o){this.folders.push({path:o,created:new Date,isBase64:!1})},a.addFile=function(o,e,c){c===void 0&&(c=!1),this.files.push({path:o,created:new Date,content:e,isBase64:c})},a.getContent=function(o){o===void 0&&(o="application/zip");var e=this.buildFileStream(),c=this.buildUint8Array(e);return this.clearStream(),new Blob([c],{type:o})},a.clearStream=function(){this.folders=[],this.files=[]},a.buildFileStream=function(o){var e,c;o===void 0&&(o="");var h=this.folders.concat(this.files),g=h.length,b="",$=0,j=0;try{for(var rt=__values(h),nt=rt.next();!nt.done;nt=rt.next()){var pt=nt.value,wt=this.getHeader(pt,$),Dt=wt.fileHeader,Lt=wt.folderHeader,it=wt.content;$+=Dt.length+it.length,j+=Lt.length,o+=Dt+it,b+=Lt}}catch(bt){e={error:bt}}finally{try{nt&&!nt.done&&(c=rt.return)&&c.call(rt)}finally{if(e)throw e.error}}var st=this.buildFolderEnd(g,j,$);return o+b+st},a.getHeader=function(o,e){var c=o.content,h=o.path,g=o.created,b=o.isBase64,$=_.utf8_encode,j=_.decToHex,rt=$(h),nt=rt!==h,pt=this.convertTime(g),wt=this.convertDate(g),Dt="";if(nt){var Lt=j(1,1)+j(this.getFromCrc32Table(rt),4)+rt;Dt="up"+j(Lt.length,2)+Lt}var it=c?this.getConvertedContent(c,b):{size:0,content:""},st=it.size,bt=it.content,gt=`
\0`+(nt?"\0\b":"\0\0")+"\0\0"+j(pt,2)+j(wt,2)+j(st?this.getFromCrc32Table(bt):0,4)+j(st,4)+j(st,4)+j(rt.length,2)+j(Dt.length,2),Et="PK"+gt+rt+Dt,ot="PK\0"+gt+"\0\0\0\0\0\0"+(c?"\0\0\0\0":"\0\0\0")+j(e,4)+rt+Dt;return{fileHeader:Et,folderHeader:ot,content:bt||""}},a.getConvertedContent=function(o,e){return e===void 0&&(e=!1),e&&(o=o.split(";base64,")[1]),o=e?atob(o):o,{size:o.length,content:o}},a.buildFolderEnd=function(o,e,c){var h=_.decToHex;return"PK\0\0\0\0"+h(o,2)+h(o,2)+h(e,4)+h(c,4)+"\0\0"},a.buildUint8Array=function(o){for(var e=new Uint8Array(o.length),c=0;c<e.length;c++)e[c]=o.charCodeAt(c);return e},a.getFromCrc32Table=function(o){if(!o.length)return 0;for(var e=o.length,c=new Uint8Array(e),h=0;h<e;h++)c[h]=o.charCodeAt(h);for(var g=-1,b=0,$=0,j=0,h=0;h<e;h++)b=c[h],$=(g^b)&255,j=crcTable[$],g=g>>>8^j;return g^-1},a.convertTime=function(o){var e=o.getHours();return e<<=6,e=e|o.getMinutes(),e<<=5,e=e|o.getSeconds()/2,e},a.convertDate=function(o){var e=o.getFullYear()-1980;return e<<=4,e=e|o.getMonth()+1,e<<=5,e=e|o.getDate(),e},a.folders=[],a.files=[],a}(),AllCommunityModules=[ClientSideRowModelModule,InfiniteRowModelModule,CsvExportModule];ModuleRegistry.registerModules(AllCommunityModules);const agGridCommunity_auto_esm=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl,AgAbstractField,AgAngleSelect,AgCheckbox,AgColorPicker,AgDialog,AgGroupComponent,AgInputNumberField,AgInputRange,AgInputTextArea,AgInputTextField,AgMenuItemComponent,AgMenuList,AgMenuPanel,AgPanel,AgPromise,get AgPromiseStatus(){return AgPromiseStatus},AgRadioButton,AgSelect,AgSlider,AgStackComponentsRegistry,AgToggleButton,AlignedGridsService,AllCommunityModules,AnimateShowChangeCellRenderer,AnimateSlideCellRenderer,AnimationFrameService,AutoScrollService,AutoWidthCalculator,Autowired,get BarColumnLabelPlacement(){return BarColumnLabelPlacement},BaseComponentWrapper,BaseCreator,BaseGridSerializingSession,Bean,BeanStub,Beans,BodyDropPivotTarget,BodyDropTarget,CHART_TOOLBAR_ALLOW_LIST,CHART_TOOL_PANEL_ALLOW_LIST,CHART_TOOL_PANEL_MENU_OPTIONS,CellComp,CellCtrl,CellNavigationService,CellPositionUtils,get CellRangeType(){return CellRangeType},ChangedPath,CheckboxSelectionComponent,ClientSideRowModelModule,get ClientSideRowModelSteps(){return ClientSideRowModelSteps},ColDefUtil,Color,Column,ColumnApi,ColumnFactory,ColumnGroup,ColumnKeyCreator,ColumnModel,ColumnUtils,Component,ComponentUtil,Constants,Context,CssClassApplier,CssClassManager,CsvCreator,CsvExportModule,CtrlsService,CustomTooltipFeature,DEFAULT_CHART_GROUPS,DateFilter,DisplayedGroupCreator,Downloader,DragAndDropService,DragService,get DragSourceType(){return DragSourceType},Environment,EventService,Events,get ExcelFactoryMode(){return ExcelFactoryMode},ExpressionService,FilterManager,FloatingFilterMapper,FocusService,Grid,GridApi,GridBodyComp:GridBodyComp$1,GridBodyCtrl,GridComp:GridComp$1,GridCoreCreator,GridCtrl,GridHeaderComp:GridHeaderComp$1,GridHeaderCtrl,GridOptionsWrapper,GridSerializer,GroupCellRenderer:GroupCellRenderer$1,GroupCellRendererCtrl,GroupInstanceIdCreator,HeaderCellCtrl,HeaderFilterCellComp:HeaderFilterCellComp$1,HeaderFilterCellCtrl,HeaderGroupCellCtrl,get HeaderNavigationDirection(){return HeaderNavigationDirection},HeaderNavigationService,HeaderPositionUtils,HeaderRowComp:HeaderRowComp$1,HeaderRowContainerComp:HeaderRowContainerComp$1,HeaderRowContainerCtrl,HeaderRowCtrl,get HeaderRowType(){return HeaderRowType},get HorizontalDirection(){return HorizontalDirection},HorizontalResizeService,InfiniteRowModelModule,KeyCode,LargeTextCellEditor,get LayoutCssClasses(){return LayoutCssClasses},Logger,LoggerFactory,ManagedFocusFeature,get ModuleNames(){return ModuleNames},ModuleRegistry,MouseEventService,MoveColumnFeature,NavigationService,NumberFilter,NumberSequence,Optional,PaginationProxy,PinnedRowModel,PopupComponent,PopupEditorWrapper,PopupSelectCellEditor,PopupService,PopupTextCellEditor,PositionableFeature,PostConstruct,PreConstruct,PreDestroy,PropertyKeys,ProvidedColumnGroup,ProvidedFilter,Qualifier,QuerySelector,RefSelector,ResizeObserverService,get RowAnimationCssClasses(){return RowAnimationCssClasses},RowContainerComp:RowContainerComp$1,RowContainerCtrl,get RowContainerName(){return RowContainerName},get RowContainerType(){return RowContainerType},RowCtrl,get RowHighlightPosition(){return RowHighlightPosition},RowNode,RowNodeBlock,RowNodeBlockLoader,RowNodeSorter,RowPositionUtils,RowRenderer,get RowType(){return RowType},ScalarFilter,ScrollVisibleService,SelectCellEditor,SelectableService,get SelectionHandleType(){return SelectionHandleType},SelectionService,get ServerSideTransactionResultStatus(){return ServerSideTransactionResultStatus},SetLeftFeature,SimpleFilter,SortController,SortIndicatorComp,StandardMenuFactory,StylingService,TabGuardComp:TabGuardComp$1,TabGuardCtrl,TabbedLayout,TemplateService,TextCellEditor,TextFilter,TextFloatingFilter,Timer,TouchListener,UserComponentFactory,UserComponentRegistry,ValueCache,ValueFormatterService,ValueService,VanillaFrameworkOverrides,get VerticalDirection(){return VerticalDirection},VirtualList,XmlFactory,ZipContainer,_,defaultGroupComparator,getRowContainerTypeForName,simpleHttpRequest,stringToArray},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(agGridCommunity_auto_esm);var legacyReactComponent={},reactComponent={},__extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}();Object.defineProperty(reactComponent,"__esModule",{value:!0});var BaseReactComponent=function(){function a(){}return a}(),ReactComponent=function(a){__extends$5(o,a);function o(e,c,h){var g=a.call(this)||this;return g.portal=null,g.reactComponent=e,g.portalManager=c,g.componentType=h,g.statelessComponent=g.isStateless(g.reactComponent),g}return o.prototype.getGui=function(){return this.eParentElement},o.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},o.prototype.createParentElement=function(e){var c=this.portalManager.getComponentWrappingElement(),h=document.createElement(c||"div");return h.classList.add("ag-react-container"),e.reactContainer=h,h},o.prototype.addParentContainerStyleAndClasses=function(){var e=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){var c=this.componentInstance.getReactContainerClasses();c.forEach(function(h){return e.eParentElement.classList.add(h)})}},o.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},o.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},o.prototype.isStatelessComponent=function(){return this.statelessComponent},o.prototype.getReactComponentName=function(){return this.reactComponent.name},o.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},o.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},o.prototype.isStateless=function(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()},o.prototype.hasMethod=function(e){var c=this.getFrameworkComponentInstance();return!!c&&c[e]!==null||this.fallbackMethodAvailable(e)},o.prototype.callMethod=function(e,c){var h=this,g=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,c&&c[0]?c[0]:{});if(!g){setTimeout(function(){return h.callMethod(e,c)});return}var b=g[e];if(b)return b.apply(g,c);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,c&&c[0]?c[0]:{})},o.prototype.addMethod=function(e,c){this[e]=c},o}(BaseReactComponent);reactComponent.ReactComponent=ReactComponent;var server_browser={},reactDomServerLegacy_browser_production_min={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=reactExports;function l$2(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,e=1;e<arguments.length;e++)o+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p$1=Object.prototype.hasOwnProperty,fa$2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha$2={},ia$2={};function ja$1(a){return p$1.call(ia$2,a)?!0:p$1.call(ha$2,a)?!1:fa$2.test(a)?ia$2[a]=!0:(ha$2[a]=!0,!1)}function r(a,o,e,c,h,g,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=e,this.propertyName=a,this.type=o,this.sanitizeURL=g,this.removeEmptyString=b}var t$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){t$1[a]=new r(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];t$1[o]=new r(o,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){t$1[a]=new r(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){t$1[a]=new r(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){t$1[a]=new r(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){t$1[a]=new r(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){t$1[a]=new r(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){t$1[a]=new r(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){t$1[a]=new r(a,5,!1,a.toLowerCase(),null,!1,!1)});var ka$2=/[\-:]([a-z])/g;function la$2(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(ka$2,la$2);t$1[o]=new r(o,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(ka$2,la$2);t$1[o]=new r(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(ka$2,la$2);t$1[o]=new r(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){t$1[a]=new r(a,1,!1,a.toLowerCase(),null,!1,!1)});t$1.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){t$1[a]=new r(a,1,!1,a.toLowerCase(),null,!0,!0)});var u$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma$1=["Webkit","ms","Moz","O"];Object.keys(u$1).forEach(function(a){ma$1.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),u$1[o]=u$1[a]})});var na$1=/["'&<>]/;function v(a){if(typeof a=="boolean"||typeof a=="number")return""+a;a=""+a;var o=na$1.exec(a);if(o){var e="",c,h=0;for(c=o.index;c<a.length;c++){switch(a.charCodeAt(c)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#x27;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}h!==c&&(e+=a.substring(h,c)),h=c+1,e+=o}a=h!==c?e+a.substring(h,c):e}return a}var oa$2=/([A-Z])/g,pa$2=/^ms-/,qa$2=Array.isArray;function w$1(a,o){return{insertionMode:a,selectedValue:o}}function ra$2(a,o,e){switch(o){case"select":return w$1(1,e.value!=null?e.value:e.defaultValue);case"svg":return w$1(2,null);case"math":return w$1(3,null);case"foreignObject":return w$1(1,null);case"table":return w$1(4,null);case"thead":case"tbody":case"tfoot":return w$1(5,null);case"colgroup":return w$1(7,null);case"tr":return w$1(6,null)}return 4<=a.insertionMode||a.insertionMode===0?w$1(1,null):a}var sa$1=new Map;function ta$2(a,o,e){if(typeof e!="object")throw Error(l$2(62));o=!0;for(var c in e)if(p$1.call(e,c)){var h=e[c];if(h!=null&&typeof h!="boolean"&&h!==""){if(c.indexOf("--")===0){var g=v(c);h=v((""+h).trim())}else{g=c;var b=sa$1.get(g);b!==void 0||(b=v(g.replace(oa$2,"-$1").toLowerCase().replace(pa$2,"-ms-")),sa$1.set(g,b)),g=b,h=typeof h=="number"?h===0||p$1.call(u$1,c)?""+h:h+"px":v((""+h).trim())}o?(o=!1,a.push(' style="',g,":",h)):a.push(";",g,":",h)}}o||a.push('"')}function x$1(a,o,e,c){switch(e){case"style":ta$2(a,o,c);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(o=t$1.hasOwnProperty(e)?t$1[e]:null,o!==null){switch(typeof c){case"function":case"symbol":return;case"boolean":if(!o.acceptsBooleans)return}switch(e=o.attributeName,o.type){case 3:c&&a.push(" ",e,'=""');break;case 4:c===!0?a.push(" ",e,'=""'):c!==!1&&a.push(" ",e,'="',v(c),'"');break;case 5:isNaN(c)||a.push(" ",e,'="',v(c),'"');break;case 6:!isNaN(c)&&1<=c&&a.push(" ",e,'="',v(c),'"');break;default:o.sanitizeURL&&(c=""+c),a.push(" ",e,'="',v(c),'"')}}else if(ja$1(e)){switch(typeof c){case"function":case"symbol":return;case"boolean":if(o=e.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-")return}a.push(" ",e,'="',v(c),'"')}}}function y$1(a,o,e){if(o!=null){if(e!=null)throw Error(l$2(60));if(typeof o!="object"||!("__html"in o))throw Error(l$2(61));o=o.__html,o!=null&&a.push(""+o)}}function ua$2(a){var o="";return aa$2.Children.forEach(a,function(e){e!=null&&(o+=e)}),o}function va$2(a,o,e,c){a.push(A(e));var h=e=null,g;for(g in o)if(p$1.call(o,g)){var b=o[g];if(b!=null)switch(g){case"children":e=b;break;case"dangerouslySetInnerHTML":h=b;break;default:x$1(a,c,g,b)}}return a.push(">"),y$1(a,h,e),typeof e=="string"?(a.push(v(e)),null):e}var wa$2=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xa$2=new Map;function A(a){var o=xa$2.get(a);if(o===void 0){if(!wa$2.test(a))throw Error(l$2(65,a));o="<"+a,xa$2.set(a,o)}return o}function ya$2(a,o,e,c,h){switch(o){case"select":a.push(A("select"));var g=null,b=null;for(nt in e)if(p$1.call(e,nt)){var $=e[nt];if($!=null)switch(nt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"defaultValue":case"value":break;default:x$1(a,c,nt,$)}}return a.push(">"),y$1(a,b,g),g;case"option":b=h.selectedValue,a.push(A("option"));var j=$=null,rt=null,nt=null;for(g in e)if(p$1.call(e,g)){var pt=e[g];if(pt!=null)switch(g){case"children":$=pt;break;case"selected":rt=pt;break;case"dangerouslySetInnerHTML":nt=pt;break;case"value":j=pt;default:x$1(a,c,g,pt)}}if(b!=null)if(e=j!==null?""+j:ua$2($),qa$2(b)){for(c=0;c<b.length;c++)if(""+b[c]===e){a.push(' selected=""');break}}else""+b===e&&a.push(' selected=""');else rt&&a.push(' selected=""');return a.push(">"),y$1(a,nt,$),$;case"textarea":a.push(A("textarea")),nt=b=g=null;for($ in e)if(p$1.call(e,$)&&(j=e[$],j!=null))switch($){case"children":nt=j;break;case"value":g=j;break;case"defaultValue":b=j;break;case"dangerouslySetInnerHTML":throw Error(l$2(91));default:x$1(a,c,$,j)}if(g===null&&b!==null&&(g=b),a.push(">"),nt!=null){if(g!=null)throw Error(l$2(92));if(qa$2(nt)&&1<nt.length)throw Error(l$2(93));g=""+nt}return typeof g=="string"&&g[0]===`
`&&a.push(`
`),g!==null&&a.push(v(""+g)),null;case"input":a.push(A("input")),j=nt=$=g=null;for(b in e)if(p$1.call(e,b)&&(rt=e[b],rt!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,"input"));case"defaultChecked":j=rt;break;case"defaultValue":$=rt;break;case"checked":nt=rt;break;case"value":g=rt;break;default:x$1(a,c,b,rt)}return nt!==null?x$1(a,c,"checked",nt):j!==null&&x$1(a,c,"checked",j),g!==null?x$1(a,c,"value",g):$!==null&&x$1(a,c,"value",$),a.push("/>"),null;case"menuitem":a.push(A("menuitem"));for(var wt in e)if(p$1.call(e,wt)&&(g=e[wt],g!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(400));default:x$1(a,c,wt,g)}return a.push(">"),null;case"title":a.push(A("title")),g=null;for(pt in e)if(p$1.call(e,pt)&&(b=e[pt],b!=null))switch(pt){case"children":g=b;break;case"dangerouslySetInnerHTML":throw Error(l$2(434));default:x$1(a,c,pt,b)}return a.push(">"),g;case"listing":case"pre":a.push(A(o)),b=g=null;for(j in e)if(p$1.call(e,j)&&($=e[j],$!=null))switch(j){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;default:x$1(a,c,j,$)}if(a.push(">"),b!=null){if(g!=null)throw Error(l$2(60));if(typeof b!="object"||!("__html"in b))throw Error(l$2(61));e=b.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?a.push(`
`,e):a.push(""+e))}return typeof g=="string"&&g[0]===`
`&&a.push(`
`),g;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":a.push(A(o));for(var Dt in e)if(p$1.call(e,Dt)&&(g=e[Dt],g!=null))switch(Dt){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,o));default:x$1(a,c,Dt,g)}return a.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return va$2(a,e,o,c);case"html":return h.insertionMode===0&&a.push("<!DOCTYPE html>"),va$2(a,e,o,c);default:if(o.indexOf("-")===-1&&typeof e.is!="string")return va$2(a,e,o,c);a.push(A(o)),b=g=null;for(rt in e)if(p$1.call(e,rt)&&($=e[rt],$!=null))switch(rt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"style":ta$2(a,c,$);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ja$1(rt)&&typeof $!="function"&&typeof $!="symbol"&&a.push(" ",rt,'="',v($),'"')}return a.push(">"),y$1(a,b,g),g}}function za$2(a,o,e){if(a.push('<!--$?--><template id="'),e===null)throw Error(l$2(395));return a.push(e),a.push('"></template>')}function Aa$2(a,o,e,c){switch(e.insertionMode){case 0:case 1:return a.push('<div hidden id="'),a.push(o.segmentPrefix),o=c.toString(16),a.push(o),a.push('">');case 2:return a.push('<svg aria-hidden="true" style="display:none" id="'),a.push(o.segmentPrefix),o=c.toString(16),a.push(o),a.push('">');case 3:return a.push('<math aria-hidden="true" style="display:none" id="'),a.push(o.segmentPrefix),o=c.toString(16),a.push(o),a.push('">');case 4:return a.push('<table hidden id="'),a.push(o.segmentPrefix),o=c.toString(16),a.push(o),a.push('">');case 5:return a.push('<table hidden><tbody id="'),a.push(o.segmentPrefix),o=c.toString(16),a.push(o),a.push('">');case 6:return a.push('<table hidden><tr id="'),a.push(o.segmentPrefix),o=c.toString(16),a.push(o),a.push('">');case 7:return a.push('<table hidden><colgroup id="'),a.push(o.segmentPrefix),o=c.toString(16),a.push(o),a.push('">');default:throw Error(l$2(397))}}function Ba$2(a,o){switch(o.insertionMode){case 0:case 1:return a.push("</div>");case 2:return a.push("</svg>");case 3:return a.push("</math>");case 4:return a.push("</table>");case 5:return a.push("</tbody></table>");case 6:return a.push("</tr></table>");case 7:return a.push("</colgroup></table>");default:throw Error(l$2(397))}}var Ca$2=/[<\u2028\u2029]/g;function Da$2(a){return JSON.stringify(a).replace(Ca$2,function(o){switch(o){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ea$2(a,o){return o=o===void 0?"":o,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:o+"P:",segmentPrefix:o+"S:",boundaryPrefix:o+"B:",idPrefix:o,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:a}}function Fa$2(a,o,e,c){return e.generateStaticMarkup?(a.push(v(o)),!1):(o===""?a=c:(c&&a.push("<!-- -->"),a.push(v(o)),a=!0),a)}var B$1=Object.assign,Ga$1=Symbol.for("react.element"),Ha$2=Symbol.for("react.portal"),Ia$2=Symbol.for("react.fragment"),Ja$2=Symbol.for("react.strict_mode"),Ka$2=Symbol.for("react.profiler"),La$2=Symbol.for("react.provider"),Ma$2=Symbol.for("react.context"),Na$2=Symbol.for("react.forward_ref"),Oa$2=Symbol.for("react.suspense"),Pa$1=Symbol.for("react.suspense_list"),Qa$2=Symbol.for("react.memo"),Ra$2=Symbol.for("react.lazy"),Sa$2=Symbol.for("react.scope"),Ta$2=Symbol.for("react.debug_trace_mode"),Ua$1=Symbol.for("react.legacy_hidden"),Va$1=Symbol.for("react.default_value"),Wa$1=Symbol.iterator;function Xa$1(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Ia$2:return"Fragment";case Ha$2:return"Portal";case Ka$2:return"Profiler";case Ja$2:return"StrictMode";case Oa$2:return"Suspense";case Pa$1:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ma$2:return(a.displayName||"Context")+".Consumer";case La$2:return(a._context.displayName||"Context")+".Provider";case Na$2:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Qa$2:return o=a.displayName||null,o!==null?o:Xa$1(a.type)||"Memo";case Ra$2:o=a._payload,a=a._init;try{return Xa$1(a(o))}catch{}}return null}var Ya$1={};function Za$1(a,o){if(a=a.contextTypes,!a)return Ya$1;var e={},c;for(c in a)e[c]=o[c];return e}var E$1=null;function F(a,o){if(a!==o){a.context._currentValue2=a.parentValue,a=a.parent;var e=o.parent;if(a===null){if(e!==null)throw Error(l$2(401))}else{if(e===null)throw Error(l$2(401));F(a,e)}o.context._currentValue2=o.value}}function $a$2(a){a.context._currentValue2=a.parentValue,a=a.parent,a!==null&&$a$2(a)}function ab$1(a){var o=a.parent;o!==null&&ab$1(o),a.context._currentValue2=a.value}function bb$1(a,o){if(a.context._currentValue2=a.parentValue,a=a.parent,a===null)throw Error(l$2(402));a.depth===o.depth?F(a,o):bb$1(a,o)}function cb$1(a,o){var e=o.parent;if(e===null)throw Error(l$2(402));a.depth===e.depth?F(a,e):cb$1(a,e),o.context._currentValue2=o.value}function G(a){var o=E$1;o!==a&&(o===null?ab$1(a):a===null?$a$2(o):o.depth===a.depth?F(o,a):o.depth>a.depth?bb$1(o,a):cb$1(o,a),E$1=a)}var db$1={isMounted:function(){return!1},enqueueSetState:function(a,o){a=a._reactInternals,a.queue!==null&&a.queue.push(o)},enqueueReplaceState:function(a,o){a=a._reactInternals,a.replace=!0,a.queue=[o]},enqueueForceUpdate:function(){}};function eb$1(a,o,e,c){var h=a.state!==void 0?a.state:null;a.updater=db$1,a.props=e,a.state=h;var g={queue:[],replace:!1};a._reactInternals=g;var b=o.contextType;if(a.context=typeof b=="object"&&b!==null?b._currentValue2:c,b=o.getDerivedStateFromProps,typeof b=="function"&&(b=b(e,h),h=b==null?h:B$1({},h,b),a.state=h),typeof o.getDerivedStateFromProps!="function"&&typeof a.getSnapshotBeforeUpdate!="function"&&(typeof a.UNSAFE_componentWillMount=="function"||typeof a.componentWillMount=="function"))if(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&db$1.enqueueReplaceState(a,a.state,null),g.queue!==null&&0<g.queue.length)if(o=g.queue,b=g.replace,g.queue=null,g.replace=!1,b&&o.length===1)a.state=o[0];else{for(g=b?o[0]:a.state,h=!0,b=b?1:0;b<o.length;b++){var $=o[b];$=typeof $=="function"?$.call(a,g,e,c):$,$!=null&&(h?(h=!1,g=B$1({},g,$)):B$1(g,$))}a.state=g}else g.queue=null}var fb$1={id:1,overflow:""};function gb$1(a,o,e){var c=a.id;a=a.overflow;var h=32-H$1(c)-1;c&=~(1<<h),e+=1;var g=32-H$1(o)+h;if(30<g){var b=h-h%5;return g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,{id:1<<32-H$1(o)+h|e<<h|c,overflow:g+a}}return{id:1<<g|e<<h|c,overflow:a}}var H$1=Math.clz32?Math.clz32:hb$1,ib$1=Math.log,jb$1=Math.LN2;function hb$1(a){return a>>>=0,a===0?32:31-(ib$1(a)/jb$1|0)|0}function kb$1(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var lb$1=typeof Object.is=="function"?Object.is:kb$1,I$1=null,ob$1=null,J$1=null,K$1=null,L$1=!1,M$1=!1,N$2=0,O$1=null,P$1=0;function Q$1(){if(I$1===null)throw Error(l$2(321));return I$1}function pb$1(){if(0<P$1)throw Error(l$2(312));return{memoizedState:null,queue:null,next:null}}function qb$1(){return K$1===null?J$1===null?(L$1=!1,J$1=K$1=pb$1()):(L$1=!0,K$1=J$1):K$1.next===null?(L$1=!1,K$1=K$1.next=pb$1()):(L$1=!0,K$1=K$1.next),K$1}function rb$1(){ob$1=I$1=null,M$1=!1,J$1=null,P$1=0,K$1=O$1=null}function sb$1(a,o){return typeof o=="function"?o(a):o}function tb$1(a,o,e){if(I$1=Q$1(),K$1=qb$1(),L$1){var c=K$1.queue;if(o=c.dispatch,O$1!==null&&(e=O$1.get(c),e!==void 0)){O$1.delete(c),c=K$1.memoizedState;do c=a(c,e.action),e=e.next;while(e!==null);return K$1.memoizedState=c,[c,o]}return[K$1.memoizedState,o]}return a=a===sb$1?typeof o=="function"?o():o:e!==void 0?e(o):o,K$1.memoizedState=a,a=K$1.queue={last:null,dispatch:null},a=a.dispatch=ub$1.bind(null,I$1,a),[K$1.memoizedState,a]}function vb$1(a,o){if(I$1=Q$1(),K$1=qb$1(),o=o===void 0?null:o,K$1!==null){var e=K$1.memoizedState;if(e!==null&&o!==null){var c=e[1];e:if(c===null)c=!1;else{for(var h=0;h<c.length&&h<o.length;h++)if(!lb$1(o[h],c[h])){c=!1;break e}c=!0}if(c)return e[0]}}return a=a(),K$1.memoizedState=[a,o],a}function ub$1(a,o,e){if(25<=P$1)throw Error(l$2(301));if(a===I$1)if(M$1=!0,a={action:e,next:null},O$1===null&&(O$1=new Map),e=O$1.get(o),e===void 0)O$1.set(o,a);else{for(o=e;o.next!==null;)o=o.next;o.next=a}}function wb$1(){throw Error(l$2(394))}function R$1(){}var xb$1={readContext:function(a){return a._currentValue2},useContext:function(a){return Q$1(),a._currentValue2},useMemo:vb$1,useReducer:tb$1,useRef:function(a){I$1=Q$1(),K$1=qb$1();var o=K$1.memoizedState;return o===null?(a={current:a},K$1.memoizedState=a):o},useState:function(a){return tb$1(sb$1,a)},useInsertionEffect:R$1,useLayoutEffect:function(){},useCallback:function(a,o){return vb$1(function(){return a},o)},useImperativeHandle:R$1,useEffect:R$1,useDebugValue:R$1,useDeferredValue:function(a){return Q$1(),a},useTransition:function(){return Q$1(),[!1,wb$1]},useId:function(){var a=ob$1.treeContext,o=a.overflow;a=a.id,a=(a&~(1<<32-H$1(a)-1)).toString(32)+o;var e=S$1;if(e===null)throw Error(l$2(404));return o=N$2++,a=":"+e.idPrefix+"R"+a,0<o&&(a+="H"+o.toString(32)),a+":"},useMutableSource:function(a,o){return Q$1(),o(a._source)},useSyncExternalStore:function(a,o,e){if(e===void 0)throw Error(l$2(407));return e()}},S$1=null,yb$1=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zb$1(a){return console.error(a),null}function T$1(){}function Ab$1(a,o,e,c,h,g,b,$,j){var rt=[],nt=new Set;return o={destination:null,responseState:o,progressiveChunkSize:c===void 0?12800:c,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:nt,pingedTasks:rt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:h===void 0?zb$1:h,onAllReady:g===void 0?T$1:g,onShellReady:b===void 0?T$1:b,onShellError:$===void 0?T$1:$,onFatalError:j===void 0?T$1:j},e=U$1(o,0,null,e,!1,!1),e.parentFlushed=!0,a=Bb$1(o,a,null,e,nt,Ya$1,null,fb$1),rt.push(a),o}function Bb$1(a,o,e,c,h,g,b,$){a.allPendingTasks++,e===null?a.pendingRootTasks++:e.pendingTasks++;var j={node:o,ping:function(){var rt=a.pingedTasks;rt.push(j),rt.length===1&&Cb$1(a)},blockedBoundary:e,blockedSegment:c,abortSet:h,legacyContext:g,context:b,treeContext:$};return h.add(j),j}function U$1(a,o,e,c,h,g){return{status:0,id:-1,index:o,parentFlushed:!1,chunks:[],children:[],formatContext:c,boundary:e,lastPushedText:h,textEmbedded:g}}function V$1(a,o){if(a=a.onError(o),a!=null&&typeof a!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof a+'" instead');return a}function W$1(a,o){var e=a.onShellError;e(o),e=a.onFatalError,e(o),a.destination!==null?(a.status=2,a.destination.destroy(o)):(a.status=1,a.fatalError=o)}function Db$1(a,o,e,c,h){for(I$1={},ob$1=o,N$2=0,a=e(c,h);M$1;)M$1=!1,N$2=0,P$1+=1,K$1=null,a=e(c,h);return rb$1(),a}function Eb$1(a,o,e,c){var h=e.render(),g=c.childContextTypes;if(g!=null){var b=o.legacyContext;if(typeof e.getChildContext!="function")c=b;else{e=e.getChildContext();for(var $ in e)if(!($ in g))throw Error(l$2(108,Xa$1(c)||"Unknown",$));c=B$1({},b,e)}o.legacyContext=c,X$1(a,o,h),o.legacyContext=b}else X$1(a,o,h)}function Fb(a,o){if(a&&a.defaultProps){o=B$1({},o),a=a.defaultProps;for(var e in a)o[e]===void 0&&(o[e]=a[e]);return o}return o}function Gb$1(a,o,e,c,h){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){h=Za$1(e,o.legacyContext);var g=e.contextType;g=new e(c,typeof g=="object"&&g!==null?g._currentValue2:h),eb$1(g,e,c,h),Eb$1(a,o,g,e)}else{g=Za$1(e,o.legacyContext),h=Db$1(a,o,e,c,g);var b=N$2!==0;if(typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0)eb$1(h,e,c,g),Eb$1(a,o,h,e);else if(b){c=o.treeContext,o.treeContext=gb$1(c,1,0);try{X$1(a,o,h)}finally{o.treeContext=c}}else X$1(a,o,h)}else if(typeof e=="string"){switch(h=o.blockedSegment,g=ya$2(h.chunks,e,c,a.responseState,h.formatContext),h.lastPushedText=!1,b=h.formatContext,h.formatContext=ra$2(b,e,c),Hb$1(a,o,g),h.formatContext=b,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:h.chunks.push("</",e,">")}h.lastPushedText=!1}else{switch(e){case Ua$1:case Ta$2:case Ja$2:case Ka$2:case Ia$2:X$1(a,o,c.children);return;case Pa$1:X$1(a,o,c.children);return;case Sa$2:throw Error(l$2(343));case Oa$2:e:{e=o.blockedBoundary,h=o.blockedSegment,g=c.fallback,c=c.children,b=new Set;var $={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:b,errorDigest:null},j=U$1(a,h.chunks.length,$,h.formatContext,!1,!1);h.children.push(j),h.lastPushedText=!1;var rt=U$1(a,0,null,h.formatContext,!1,!1);rt.parentFlushed=!0,o.blockedBoundary=$,o.blockedSegment=rt;try{if(Hb$1(a,o,c),a.responseState.generateStaticMarkup||rt.lastPushedText&&rt.textEmbedded&&rt.chunks.push("<!-- -->"),rt.status=1,Y$1($,rt),$.pendingTasks===0)break e}catch(nt){rt.status=4,$.forceClientRender=!0,$.errorDigest=V$1(a,nt)}finally{o.blockedBoundary=e,o.blockedSegment=h}o=Bb$1(a,g,e,j,b,o.legacyContext,o.context,o.treeContext),a.pingedTasks.push(o)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Na$2:if(c=Db$1(a,o,e.render,c,h),N$2!==0){e=o.treeContext,o.treeContext=gb$1(e,1,0);try{X$1(a,o,c)}finally{o.treeContext=e}}else X$1(a,o,c);return;case Qa$2:e=e.type,c=Fb(e,c),Gb$1(a,o,e,c,h);return;case La$2:if(h=c.children,e=e._context,c=c.value,g=e._currentValue2,e._currentValue2=c,b=E$1,E$1=c={parent:b,depth:b===null?0:b.depth+1,context:e,parentValue:g,value:c},o.context=c,X$1(a,o,h),a=E$1,a===null)throw Error(l$2(403));c=a.parentValue,a.context._currentValue2=c===Va$1?a.context._defaultValue:c,a=E$1=a.parent,o.context=a;return;case Ma$2:c=c.children,c=c(e._currentValue2),X$1(a,o,c);return;case Ra$2:h=e._init,e=h(e._payload),c=Fb(e,c),Gb$1(a,o,e,c,void 0);return}throw Error(l$2(130,e==null?e:typeof e,""))}}function X$1(a,o,e){if(o.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case Ga$1:Gb$1(a,o,e.type,e.props,e.ref);return;case Ha$2:throw Error(l$2(257));case Ra$2:var c=e._init;e=c(e._payload),X$1(a,o,e);return}if(qa$2(e)){Ib$1(a,o,e);return}if(e===null||typeof e!="object"?c=null:(c=Wa$1&&e[Wa$1]||e["@@iterator"],c=typeof c=="function"?c:null),c&&(c=c.call(e))){if(e=c.next(),!e.done){var h=[];do h.push(e.value),e=c.next();while(!e.done);Ib$1(a,o,h)}return}throw a=Object.prototype.toString.call(e),Error(l$2(31,a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a))}typeof e=="string"?(c=o.blockedSegment,c.lastPushedText=Fa$2(o.blockedSegment.chunks,e,a.responseState,c.lastPushedText)):typeof e=="number"&&(c=o.blockedSegment,c.lastPushedText=Fa$2(o.blockedSegment.chunks,""+e,a.responseState,c.lastPushedText))}function Ib$1(a,o,e){for(var c=e.length,h=0;h<c;h++){var g=o.treeContext;o.treeContext=gb$1(g,c,h);try{Hb$1(a,o,e[h])}finally{o.treeContext=g}}}function Hb$1(a,o,e){var c=o.blockedSegment.formatContext,h=o.legacyContext,g=o.context;try{return X$1(a,o,e)}catch(j){if(rb$1(),typeof j=="object"&&j!==null&&typeof j.then=="function"){e=j;var b=o.blockedSegment,$=U$1(a,b.chunks.length,null,b.formatContext,b.lastPushedText,!0);b.children.push($),b.lastPushedText=!1,a=Bb$1(a,o.node,o.blockedBoundary,$,o.abortSet,o.legacyContext,o.context,o.treeContext).ping,e.then(a,a),o.blockedSegment.formatContext=c,o.legacyContext=h,o.context=g,G(g)}else throw o.blockedSegment.formatContext=c,o.legacyContext=h,o.context=g,G(g),j}}function Jb$1(a){var o=a.blockedBoundary;a=a.blockedSegment,a.status=3,Kb$1(this,o,a)}function Lb$1(a,o,e){var c=a.blockedBoundary;a.blockedSegment.status=3,c===null?(o.allPendingTasks--,o.status!==2&&(o.status=2,o.destination!==null&&o.destination.push(null))):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,a=e===void 0?Error(l$2(432)):e,c.errorDigest=o.onError(a),c.parentFlushed&&o.clientRenderedBoundaries.push(c)),c.fallbackAbortableTasks.forEach(function(h){return Lb$1(h,o,e)}),c.fallbackAbortableTasks.clear(),o.allPendingTasks--,o.allPendingTasks===0&&(c=o.onAllReady,c()))}function Y$1(a,o){if(o.chunks.length===0&&o.children.length===1&&o.children[0].boundary===null){var e=o.children[0];e.id=o.id,e.parentFlushed=!0,e.status===1&&Y$1(a,e)}else a.completedSegments.push(o)}function Kb$1(a,o,e){if(o===null){if(e.parentFlushed){if(a.completedRootSegment!==null)throw Error(l$2(389));a.completedRootSegment=e}a.pendingRootTasks--,a.pendingRootTasks===0&&(a.onShellError=T$1,o=a.onShellReady,o())}else o.pendingTasks--,o.forceClientRender||(o.pendingTasks===0?(e.parentFlushed&&e.status===1&&Y$1(o,e),o.parentFlushed&&a.completedBoundaries.push(o),o.fallbackAbortableTasks.forEach(Jb$1,a),o.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(Y$1(o,e),o.completedSegments.length===1&&o.parentFlushed&&a.partialBoundaries.push(o)));a.allPendingTasks--,a.allPendingTasks===0&&(a=a.onAllReady,a())}function Cb$1(a){if(a.status!==2){var o=E$1,e=yb$1.current;yb$1.current=xb$1;var c=S$1;S$1=a.responseState;try{var h=a.pingedTasks,g;for(g=0;g<h.length;g++){var b=h[g],$=a,j=b.blockedSegment;if(j.status===0){G(b.context);try{X$1($,b,b.node),$.responseState.generateStaticMarkup||j.lastPushedText&&j.textEmbedded&&j.chunks.push("<!-- -->"),b.abortSet.delete(b),j.status=1,Kb$1($,b.blockedBoundary,j)}catch(Lt){if(rb$1(),typeof Lt=="object"&&Lt!==null&&typeof Lt.then=="function"){var rt=b.ping;Lt.then(rt,rt)}else{b.abortSet.delete(b),j.status=4;var nt=b.blockedBoundary,pt=Lt,wt=V$1($,pt);if(nt===null?W$1($,pt):(nt.pendingTasks--,nt.forceClientRender||(nt.forceClientRender=!0,nt.errorDigest=wt,nt.parentFlushed&&$.clientRenderedBoundaries.push(nt))),$.allPendingTasks--,$.allPendingTasks===0){var Dt=$.onAllReady;Dt()}}}finally{}}}h.splice(0,g),a.destination!==null&&Mb$1(a,a.destination)}catch(Lt){V$1(a,Lt),W$1(a,Lt)}finally{S$1=c,yb$1.current=e,e===xb$1&&G(o)}}}function Z$1(a,o,e){switch(e.parentFlushed=!0,e.status){case 0:var c=e.id=a.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,a=a.responseState,o.push('<template id="'),o.push(a.placeholderPrefix),a=c.toString(16),o.push(a),o.push('"></template>');case 1:e.status=2;var h=!0;c=e.chunks;var g=0;e=e.children;for(var b=0;b<e.length;b++){for(h=e[b];g<h.index;g++)o.push(c[g]);h=Nb$1(a,o,h)}for(;g<c.length-1;g++)o.push(c[g]);return g<c.length&&(h=o.push(c[g])),h;default:throw Error(l$2(390))}}function Nb$1(a,o,e){var c=e.boundary;if(c===null)return Z$1(a,o,e);if(c.parentFlushed=!0,c.forceClientRender)return a.responseState.generateStaticMarkup||(c=c.errorDigest,o.push("<!--$!-->"),o.push("<template"),c&&(o.push(' data-dgst="'),c=v(c),o.push(c),o.push('"')),o.push("></template>")),Z$1(a,o,e),a=a.responseState.generateStaticMarkup?!0:o.push("<!--/$-->"),a;if(0<c.pendingTasks){c.rootSegmentID=a.nextSegmentId++,0<c.completedSegments.length&&a.partialBoundaries.push(c);var h=a.responseState,g=h.nextSuspenseID++;return h=h.boundaryPrefix+g.toString(16),c=c.id=h,za$2(o,a.responseState,c),Z$1(a,o,e),o.push("<!--/$-->")}if(c.byteSize>a.progressiveChunkSize)return c.rootSegmentID=a.nextSegmentId++,a.completedBoundaries.push(c),za$2(o,a.responseState,c.id),Z$1(a,o,e),o.push("<!--/$-->");if(a.responseState.generateStaticMarkup||o.push("<!--$-->"),e=c.completedSegments,e.length!==1)throw Error(l$2(391));return Nb$1(a,o,e[0]),a=a.responseState.generateStaticMarkup?!0:o.push("<!--/$-->"),a}function Ob$1(a,o,e){return Aa$2(o,a.responseState,e.formatContext,e.id),Nb$1(a,o,e),Ba$2(o,e.formatContext)}function Pb$1(a,o,e){for(var c=e.completedSegments,h=0;h<c.length;h++)Qb$1(a,o,e,c[h]);if(c.length=0,a=a.responseState,c=e.id,e=e.rootSegmentID,o.push(a.startInlineScript),a.sentCompleteBoundaryFunction?o.push('$RC("'):(a.sentCompleteBoundaryFunction=!0,o.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),c===null)throw Error(l$2(395));return e=e.toString(16),o.push(c),o.push('","'),o.push(a.segmentPrefix),o.push(e),o.push('")<\/script>')}function Qb$1(a,o,e,c){if(c.status===2)return!0;var h=c.id;if(h===-1){if((c.id=e.rootSegmentID)===-1)throw Error(l$2(392));return Ob$1(a,o,c)}return Ob$1(a,o,c),a=a.responseState,o.push(a.startInlineScript),a.sentCompleteSegmentFunction?o.push('$RS("'):(a.sentCompleteSegmentFunction=!0,o.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),o.push(a.segmentPrefix),h=h.toString(16),o.push(h),o.push('","'),o.push(a.placeholderPrefix),o.push(h),o.push('")<\/script>')}function Mb$1(a,o){try{var e=a.completedRootSegment;if(e!==null&&a.pendingRootTasks===0){Nb$1(a,o,e),a.completedRootSegment=null;var c=a.responseState.bootstrapChunks;for(e=0;e<c.length-1;e++)o.push(c[e]);e<c.length&&o.push(c[e])}var h=a.clientRenderedBoundaries,g;for(g=0;g<h.length;g++){var b=h[g];c=o;var $=a.responseState,j=b.id,rt=b.errorDigest,nt=b.errorMessage,pt=b.errorComponentStack;if(c.push($.startInlineScript),$.sentClientRenderFunction?c.push('$RX("'):($.sentClientRenderFunction=!0,c.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),j===null)throw Error(l$2(395));if(c.push(j),c.push('"'),rt||nt||pt){c.push(",");var wt=Da$2(rt||"");c.push(wt)}if(nt||pt){c.push(",");var Dt=Da$2(nt||"");c.push(Dt)}if(pt){c.push(",");var Lt=Da$2(pt);c.push(Lt)}if(!c.push(")<\/script>")){a.destination=null,g++,h.splice(0,g);return}}h.splice(0,g);var it=a.completedBoundaries;for(g=0;g<it.length;g++)if(!Pb$1(a,o,it[g])){a.destination=null,g++,it.splice(0,g);return}it.splice(0,g);var st=a.partialBoundaries;for(g=0;g<st.length;g++){var bt=st[g];e:{h=a,b=o;var gt=bt.completedSegments;for($=0;$<gt.length;$++)if(!Qb$1(h,b,bt,gt[$])){$++,gt.splice(0,$);var Et=!1;break e}gt.splice(0,$),Et=!0}if(!Et){a.destination=null,g++,st.splice(0,g);return}}st.splice(0,g);var ot=a.completedBoundaries;for(g=0;g<ot.length;g++)if(!Pb$1(a,o,ot[g])){a.destination=null,g++,ot.splice(0,g);return}ot.splice(0,g)}finally{a.allPendingTasks===0&&a.pingedTasks.length===0&&a.clientRenderedBoundaries.length===0&&a.completedBoundaries.length===0&&o.push(null)}}function Rb$1(a,o){try{var e=a.abortableTasks;e.forEach(function(c){return Lb$1(c,a,o)}),e.clear(),a.destination!==null&&Mb$1(a,a.destination)}catch(c){V$1(a,c),W$1(a,c)}}function Sb$1(){}function Tb$1(a,o,e,c){var h=!1,g=null,b="",$={push:function(rt){return rt!==null&&(b+=rt),!0},destroy:function(rt){h=!0,g=rt}},j=!1;if(a=Ab$1(a,Ea$2(e,o?o.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Sb$1,void 0,function(){j=!0},void 0,void 0),Cb$1(a),Rb$1(a,c),a.status===1)a.status=2,$.destroy(a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=$;try{Mb$1(a,$)}catch(rt){V$1(a,rt),W$1(a,rt)}}if(h)throw g;if(!j)throw Error(l$2(426));return b}reactDomServerLegacy_browser_production_min.renderToNodeStream=function(){throw Error(l$2(207))};reactDomServerLegacy_browser_production_min.renderToStaticMarkup=function(a,o){return Tb$1(a,o,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.renderToStaticNodeStream=function(){throw Error(l$2(208))};reactDomServerLegacy_browser_production_min.renderToString=function(a,o){return Tb$1(a,o,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.version="18.2.0";var reactDomServer_browser_production_min={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports;function k$1(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,e=1;e<arguments.length;e++)o+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l$1=null,n=0;function p(a,o){if(o.length!==0)if(512<o.length)0<n&&(a.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=new Uint8Array(512),n=0),a.enqueue(o);else{var e=l$1.length-n;e<o.length&&(e===0?a.enqueue(l$1):(l$1.set(o.subarray(0,e),n),a.enqueue(l$1),o=o.subarray(e)),l$1=new Uint8Array(512),n=0),l$1.set(o,n),n+=o.length}}function t(a,o){return p(a,o),!0}function ba$1(a){l$1&&0<n&&(a.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=null,n=0)}var ca$1=new TextEncoder;function u(a){return ca$1.encode(a)}function w(a){return ca$1.encode(a)}function da$1(a,o){typeof a.error=="function"?a.error(o):a.close()}var x=Object.prototype.hasOwnProperty,ea$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa$1={},ha$1={};function ia$1(a){return x.call(ha$1,a)?!0:x.call(fa$1,a)?!1:ea$1.test(a)?ha$1[a]=!0:(fa$1[a]=!0,!1)}function y(a,o,e,c,h,g,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=e,this.propertyName=a,this.type=o,this.sanitizeURL=g,this.removeEmptyString=b}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z[a]=new y(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];z[o]=new y(o,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z[a]=new y(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z[a]=new y(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z[a]=new y(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z[a]=new y(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z[a]=new y(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z[a]=new y(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z[a]=new y(a,5,!1,a.toLowerCase(),null,!1,!1)});var ja=/[\-:]([a-z])/g;function ka$1(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(ja,ka$1);z[o]=new y(o,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(ja,ka$1);z[o]=new y(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(ja,ka$1);z[o]=new y(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z[a]=new y(a,1,!1,a.toLowerCase(),null,!1,!1)});z.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z[a]=new y(a,1,!1,a.toLowerCase(),null,!0,!0)});var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la$1=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(a){la$1.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),B[o]=B[a]})});var oa$1=/["'&<>]/;function C(a){if(typeof a=="boolean"||typeof a=="number")return""+a;a=""+a;var o=oa$1.exec(a);if(o){var e="",c,h=0;for(c=o.index;c<a.length;c++){switch(a.charCodeAt(c)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#x27;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}h!==c&&(e+=a.substring(h,c)),h=c+1,e+=o}a=h!==c?e+a.substring(h,c):e}return a}var pa$1=/([A-Z])/g,qa$1=/^ms-/,ra$1=Array.isArray,sa=w("<script>"),ta$1=w("<\/script>"),ua$1=w('<script src="'),va$1=w('<script type="module" src="'),wa$1=w('" async=""><\/script>'),xa$1=/(<\/|<)(s)(cript)/gi;function ya$1(a,o,e,c){return""+o+(e==="s"?"\\u0073":"\\u0053")+c}function za$1(a,o,e,c,h){a=a===void 0?"":a,o=o===void 0?sa:w('<script nonce="'+C(o)+'">');var g=[];if(e!==void 0&&g.push(o,u((""+e).replace(xa$1,ya$1)),ta$1),c!==void 0)for(e=0;e<c.length;e++)g.push(ua$1,u(C(c[e])),wa$1);if(h!==void 0)for(c=0;c<h.length;c++)g.push(va$1,u(C(h[c])),wa$1);return{bootstrapChunks:g,startInlineScript:o,placeholderPrefix:w(a+"P:"),segmentPrefix:w(a+"S:"),boundaryPrefix:a+"B:",idPrefix:a,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function D(a,o){return{insertionMode:a,selectedValue:o}}function Aa$1(a){return D(a==="http://www.w3.org/2000/svg"?2:a==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ba$1(a,o,e){switch(o){case"select":return D(1,e.value!=null?e.value:e.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=a.insertionMode||a.insertionMode===0?D(1,null):a}var Ca$1=w("<!-- -->");function Da$1(a,o,e,c){return o===""?c:(c&&a.push(Ca$1),a.push(u(C(o))),!0)}var Ea$1=new Map,Fa$1=w(' style="'),Ga=w(":"),Ha$1=w(";");function Ia$1(a,o,e){if(typeof e!="object")throw Error(k$1(62));o=!0;for(var c in e)if(x.call(e,c)){var h=e[c];if(h!=null&&typeof h!="boolean"&&h!==""){if(c.indexOf("--")===0){var g=u(C(c));h=u(C((""+h).trim()))}else{g=c;var b=Ea$1.get(g);b!==void 0||(b=w(C(g.replace(pa$1,"-$1").toLowerCase().replace(qa$1,"-ms-"))),Ea$1.set(g,b)),g=b,h=typeof h=="number"?h===0||x.call(B,c)?u(""+h):u(h+"px"):u(C((""+h).trim()))}o?(o=!1,a.push(Fa$1,g,Ga,h)):a.push(Ha$1,g,Ga,h)}}o||a.push(E)}var H=w(" "),I=w('="'),E=w('"'),Ja$1=w('=""');function J(a,o,e,c){switch(e){case"style":Ia$1(a,o,c);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(o=z.hasOwnProperty(e)?z[e]:null,o!==null){switch(typeof c){case"function":case"symbol":return;case"boolean":if(!o.acceptsBooleans)return}switch(e=u(o.attributeName),o.type){case 3:c&&a.push(H,e,Ja$1);break;case 4:c===!0?a.push(H,e,Ja$1):c!==!1&&a.push(H,e,I,u(C(c)),E);break;case 5:isNaN(c)||a.push(H,e,I,u(C(c)),E);break;case 6:!isNaN(c)&&1<=c&&a.push(H,e,I,u(C(c)),E);break;default:o.sanitizeURL&&(c=""+c),a.push(H,e,I,u(C(c)),E)}}else if(ia$1(e)){switch(typeof c){case"function":case"symbol":return;case"boolean":if(o=e.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-")return}a.push(H,u(e),I,u(C(c)),E)}}}var K=w(">"),Ka$1=w("/>");function L(a,o,e){if(o!=null){if(e!=null)throw Error(k$1(60));if(typeof o!="object"||!("__html"in o))throw Error(k$1(61));o=o.__html,o!=null&&a.push(u(""+o))}}function La$1(a){var o="";return aa$1.Children.forEach(a,function(e){e!=null&&(o+=e)}),o}var Ma$1=w(' selected=""');function Na$1(a,o,e,c){a.push(M(e));var h=e=null,g;for(g in o)if(x.call(o,g)){var b=o[g];if(b!=null)switch(g){case"children":e=b;break;case"dangerouslySetInnerHTML":h=b;break;default:J(a,c,g,b)}}return a.push(K),L(a,h,e),typeof e=="string"?(a.push(u(C(e))),null):e}var Oa$1=w(`
`),Pa=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qa$1=new Map;function M(a){var o=Qa$1.get(a);if(o===void 0){if(!Pa.test(a))throw Error(k$1(65,a));o=w("<"+a),Qa$1.set(a,o)}return o}var Ra$1=w("<!DOCTYPE html>");function Sa$1(a,o,e,c,h){switch(o){case"select":a.push(M("select"));var g=null,b=null;for(nt in e)if(x.call(e,nt)){var $=e[nt];if($!=null)switch(nt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"defaultValue":case"value":break;default:J(a,c,nt,$)}}return a.push(K),L(a,b,g),g;case"option":b=h.selectedValue,a.push(M("option"));var j=$=null,rt=null,nt=null;for(g in e)if(x.call(e,g)){var pt=e[g];if(pt!=null)switch(g){case"children":$=pt;break;case"selected":rt=pt;break;case"dangerouslySetInnerHTML":nt=pt;break;case"value":j=pt;default:J(a,c,g,pt)}}if(b!=null)if(e=j!==null?""+j:La$1($),ra$1(b)){for(c=0;c<b.length;c++)if(""+b[c]===e){a.push(Ma$1);break}}else""+b===e&&a.push(Ma$1);else rt&&a.push(Ma$1);return a.push(K),L(a,nt,$),$;case"textarea":a.push(M("textarea")),nt=b=g=null;for($ in e)if(x.call(e,$)&&(j=e[$],j!=null))switch($){case"children":nt=j;break;case"value":g=j;break;case"defaultValue":b=j;break;case"dangerouslySetInnerHTML":throw Error(k$1(91));default:J(a,c,$,j)}if(g===null&&b!==null&&(g=b),a.push(K),nt!=null){if(g!=null)throw Error(k$1(92));if(ra$1(nt)&&1<nt.length)throw Error(k$1(93));g=""+nt}return typeof g=="string"&&g[0]===`
`&&a.push(Oa$1),g!==null&&a.push(u(C(""+g))),null;case"input":a.push(M("input")),j=nt=$=g=null;for(b in e)if(x.call(e,b)&&(rt=e[b],rt!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(k$1(399,"input"));case"defaultChecked":j=rt;break;case"defaultValue":$=rt;break;case"checked":nt=rt;break;case"value":g=rt;break;default:J(a,c,b,rt)}return nt!==null?J(a,c,"checked",nt):j!==null&&J(a,c,"checked",j),g!==null?J(a,c,"value",g):$!==null&&J(a,c,"value",$),a.push(Ka$1),null;case"menuitem":a.push(M("menuitem"));for(var wt in e)if(x.call(e,wt)&&(g=e[wt],g!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(k$1(400));default:J(a,c,wt,g)}return a.push(K),null;case"title":a.push(M("title")),g=null;for(pt in e)if(x.call(e,pt)&&(b=e[pt],b!=null))switch(pt){case"children":g=b;break;case"dangerouslySetInnerHTML":throw Error(k$1(434));default:J(a,c,pt,b)}return a.push(K),g;case"listing":case"pre":a.push(M(o)),b=g=null;for(j in e)if(x.call(e,j)&&($=e[j],$!=null))switch(j){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;default:J(a,c,j,$)}if(a.push(K),b!=null){if(g!=null)throw Error(k$1(60));if(typeof b!="object"||!("__html"in b))throw Error(k$1(61));e=b.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?a.push(Oa$1,u(e)):a.push(u(""+e)))}return typeof g=="string"&&g[0]===`
`&&a.push(Oa$1),g;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":a.push(M(o));for(var Dt in e)if(x.call(e,Dt)&&(g=e[Dt],g!=null))switch(Dt){case"children":case"dangerouslySetInnerHTML":throw Error(k$1(399,o));default:J(a,c,Dt,g)}return a.push(Ka$1),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Na$1(a,e,o,c);case"html":return h.insertionMode===0&&a.push(Ra$1),Na$1(a,e,o,c);default:if(o.indexOf("-")===-1&&typeof e.is!="string")return Na$1(a,e,o,c);a.push(M(o)),b=g=null;for(rt in e)if(x.call(e,rt)&&($=e[rt],$!=null))switch(rt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"style":Ia$1(a,c,$);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ia$1(rt)&&typeof $!="function"&&typeof $!="symbol"&&a.push(H,u(rt),I,u(C($)),E)}return a.push(K),L(a,b,g),g}}var Ta$1=w("</"),Ua=w(">"),Va=w('<template id="'),Wa=w('"></template>'),Xa=w("<!--$-->"),Ya=w('<!--$?--><template id="'),Za=w('"></template>'),$a$1=w("<!--$!-->"),ab=w("<!--/$-->"),bb=w("<template"),cb=w('"'),db=w(' data-dgst="');w(' data-msg="');w(' data-stck="');var eb=w("></template>");function fb(a,o,e){if(p(a,Ya),e===null)throw Error(k$1(395));return p(a,e),t(a,Za)}var gb=w('<div hidden id="'),hb=w('">'),ib=w("</div>"),jb=w('<svg aria-hidden="true" style="display:none" id="'),kb=w('">'),lb=w("</svg>"),mb=w('<math aria-hidden="true" style="display:none" id="'),nb=w('">'),ob=w("</math>"),pb=w('<table hidden id="'),qb=w('">'),rb=w("</table>"),sb=w('<table hidden><tbody id="'),tb=w('">'),ub=w("</tbody></table>"),vb=w('<table hidden><tr id="'),wb=w('">'),xb=w("</tr></table>"),yb=w('<table hidden><colgroup id="'),zb=w('">'),Ab=w("</colgroup></table>");function Bb(a,o,e,c){switch(e.insertionMode){case 0:case 1:return p(a,gb),p(a,o.segmentPrefix),p(a,u(c.toString(16))),t(a,hb);case 2:return p(a,jb),p(a,o.segmentPrefix),p(a,u(c.toString(16))),t(a,kb);case 3:return p(a,mb),p(a,o.segmentPrefix),p(a,u(c.toString(16))),t(a,nb);case 4:return p(a,pb),p(a,o.segmentPrefix),p(a,u(c.toString(16))),t(a,qb);case 5:return p(a,sb),p(a,o.segmentPrefix),p(a,u(c.toString(16))),t(a,tb);case 6:return p(a,vb),p(a,o.segmentPrefix),p(a,u(c.toString(16))),t(a,wb);case 7:return p(a,yb),p(a,o.segmentPrefix),p(a,u(c.toString(16))),t(a,zb);default:throw Error(k$1(397))}}function Cb(a,o){switch(o.insertionMode){case 0:case 1:return t(a,ib);case 2:return t(a,lb);case 3:return t(a,ob);case 4:return t(a,rb);case 5:return t(a,ub);case 6:return t(a,xb);case 7:return t(a,Ab);default:throw Error(k$1(397))}}var Db=w('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Eb=w('$RS("'),Gb=w('","'),Hb=w('")<\/script>'),Ib=w('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Jb=w('$RC("'),Kb=w('","'),Lb=w('")<\/script>'),Mb=w('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Nb=w('$RX("'),Ob=w('"'),Pb=w(")<\/script>"),Qb=w(","),Rb=/[<\u2028\u2029]/g;function Sb(a){return JSON.stringify(a).replace(Rb,function(o){switch(o){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var N$1=Object.assign,Tb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),ec=Symbol.for("react.scope"),fc=Symbol.for("react.debug_trace_mode"),gc=Symbol.for("react.legacy_hidden"),hc=Symbol.for("react.default_value"),ic=Symbol.iterator;function jc(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Vb:return"Fragment";case Ub:return"Portal";case Xb:return"Profiler";case Wb:return"StrictMode";case ac:return"Suspense";case bc:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Zb:return(a.displayName||"Context")+".Consumer";case Yb:return(a._context.displayName||"Context")+".Provider";case $b:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case cc:return o=a.displayName||null,o!==null?o:jc(a.type)||"Memo";case dc:o=a._payload,a=a._init;try{return jc(a(o))}catch{}}return null}var kc={};function lc(a,o){if(a=a.contextTypes,!a)return kc;var e={},c;for(c in a)e[c]=o[c];return e}var O=null;function P(a,o){if(a!==o){a.context._currentValue=a.parentValue,a=a.parent;var e=o.parent;if(a===null){if(e!==null)throw Error(k$1(401))}else{if(e===null)throw Error(k$1(401));P(a,e)}o.context._currentValue=o.value}}function mc(a){a.context._currentValue=a.parentValue,a=a.parent,a!==null&&mc(a)}function nc(a){var o=a.parent;o!==null&&nc(o),a.context._currentValue=a.value}function oc(a,o){if(a.context._currentValue=a.parentValue,a=a.parent,a===null)throw Error(k$1(402));a.depth===o.depth?P(a,o):oc(a,o)}function pc(a,o){var e=o.parent;if(e===null)throw Error(k$1(402));a.depth===e.depth?P(a,e):pc(a,e),o.context._currentValue=o.value}function Q(a){var o=O;o!==a&&(o===null?nc(a):a===null?mc(o):o.depth===a.depth?P(o,a):o.depth>a.depth?oc(o,a):pc(o,a),O=a)}var qc={isMounted:function(){return!1},enqueueSetState:function(a,o){a=a._reactInternals,a.queue!==null&&a.queue.push(o)},enqueueReplaceState:function(a,o){a=a._reactInternals,a.replace=!0,a.queue=[o]},enqueueForceUpdate:function(){}};function rc(a,o,e,c){var h=a.state!==void 0?a.state:null;a.updater=qc,a.props=e,a.state=h;var g={queue:[],replace:!1};a._reactInternals=g;var b=o.contextType;if(a.context=typeof b=="object"&&b!==null?b._currentValue:c,b=o.getDerivedStateFromProps,typeof b=="function"&&(b=b(e,h),h=b==null?h:N$1({},h,b),a.state=h),typeof o.getDerivedStateFromProps!="function"&&typeof a.getSnapshotBeforeUpdate!="function"&&(typeof a.UNSAFE_componentWillMount=="function"||typeof a.componentWillMount=="function"))if(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&qc.enqueueReplaceState(a,a.state,null),g.queue!==null&&0<g.queue.length)if(o=g.queue,b=g.replace,g.queue=null,g.replace=!1,b&&o.length===1)a.state=o[0];else{for(g=b?o[0]:a.state,h=!0,b=b?1:0;b<o.length;b++){var $=o[b];$=typeof $=="function"?$.call(a,g,e,c):$,$!=null&&(h?(h=!1,g=N$1({},g,$)):N$1(g,$))}a.state=g}else g.queue=null}var sc={id:1,overflow:""};function tc(a,o,e){var c=a.id;a=a.overflow;var h=32-uc(c)-1;c&=~(1<<h),e+=1;var g=32-uc(o)+h;if(30<g){var b=h-h%5;return g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,{id:1<<32-uc(o)+h|e<<h|c,overflow:g+a}}return{id:1<<g|e<<h|c,overflow:a}}var uc=Math.clz32?Math.clz32:vc,wc=Math.log,xc=Math.LN2;function vc(a){return a>>>=0,a===0?32:31-(wc(a)/xc|0)|0}function yc(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var zc=typeof Object.is=="function"?Object.is:yc,R=null,Ac=null,Bc=null,S=null,T=!1,Cc=!1,U=0,V=null,Dc=0;function W(){if(R===null)throw Error(k$1(321));return R}function Ec(){if(0<Dc)throw Error(k$1(312));return{memoizedState:null,queue:null,next:null}}function Fc(){return S===null?Bc===null?(T=!1,Bc=S=Ec()):(T=!0,S=Bc):S.next===null?(T=!1,S=S.next=Ec()):(T=!0,S=S.next),S}function Gc(){Ac=R=null,Cc=!1,Bc=null,Dc=0,S=V=null}function Hc(a,o){return typeof o=="function"?o(a):o}function Ic(a,o,e){if(R=W(),S=Fc(),T){var c=S.queue;if(o=c.dispatch,V!==null&&(e=V.get(c),e!==void 0)){V.delete(c),c=S.memoizedState;do c=a(c,e.action),e=e.next;while(e!==null);return S.memoizedState=c,[c,o]}return[S.memoizedState,o]}return a=a===Hc?typeof o=="function"?o():o:e!==void 0?e(o):o,S.memoizedState=a,a=S.queue={last:null,dispatch:null},a=a.dispatch=Jc.bind(null,R,a),[S.memoizedState,a]}function Kc(a,o){if(R=W(),S=Fc(),o=o===void 0?null:o,S!==null){var e=S.memoizedState;if(e!==null&&o!==null){var c=e[1];e:if(c===null)c=!1;else{for(var h=0;h<c.length&&h<o.length;h++)if(!zc(o[h],c[h])){c=!1;break e}c=!0}if(c)return e[0]}}return a=a(),S.memoizedState=[a,o],a}function Jc(a,o,e){if(25<=Dc)throw Error(k$1(301));if(a===R)if(Cc=!0,a={action:e,next:null},V===null&&(V=new Map),e=V.get(o),e===void 0)V.set(o,a);else{for(o=e;o.next!==null;)o=o.next;o.next=a}}function Lc(){throw Error(k$1(394))}function Mc(){}var Oc={readContext:function(a){return a._currentValue},useContext:function(a){return W(),a._currentValue},useMemo:Kc,useReducer:Ic,useRef:function(a){R=W(),S=Fc();var o=S.memoizedState;return o===null?(a={current:a},S.memoizedState=a):o},useState:function(a){return Ic(Hc,a)},useInsertionEffect:Mc,useLayoutEffect:function(){},useCallback:function(a,o){return Kc(function(){return a},o)},useImperativeHandle:Mc,useEffect:Mc,useDebugValue:Mc,useDeferredValue:function(a){return W(),a},useTransition:function(){return W(),[!1,Lc]},useId:function(){var a=Ac.treeContext,o=a.overflow;a=a.id,a=(a&~(1<<32-uc(a)-1)).toString(32)+o;var e=Nc;if(e===null)throw Error(k$1(404));return o=U++,a=":"+e.idPrefix+"R"+a,0<o&&(a+="H"+o.toString(32)),a+":"},useMutableSource:function(a,o){return W(),o(a._source)},useSyncExternalStore:function(a,o,e){if(e===void 0)throw Error(k$1(407));return e()}},Nc=null,Pc=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qc(a){return console.error(a),null}function X(){}function Rc(a,o,e,c,h,g,b,$,j){var rt=[],nt=new Set;return o={destination:null,responseState:o,progressiveChunkSize:c===void 0?12800:c,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:nt,pingedTasks:rt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:h===void 0?Qc:h,onAllReady:g===void 0?X:g,onShellReady:b===void 0?X:b,onShellError:$===void 0?X:$,onFatalError:j===void 0?X:j},e=Sc(o,0,null,e,!1,!1),e.parentFlushed=!0,a=Tc(o,a,null,e,nt,kc,null,sc),rt.push(a),o}function Tc(a,o,e,c,h,g,b,$){a.allPendingTasks++,e===null?a.pendingRootTasks++:e.pendingTasks++;var j={node:o,ping:function(){var rt=a.pingedTasks;rt.push(j),rt.length===1&&Uc(a)},blockedBoundary:e,blockedSegment:c,abortSet:h,legacyContext:g,context:b,treeContext:$};return h.add(j),j}function Sc(a,o,e,c,h,g){return{status:0,id:-1,index:o,parentFlushed:!1,chunks:[],children:[],formatContext:c,boundary:e,lastPushedText:h,textEmbedded:g}}function Y(a,o){if(a=a.onError(o),a!=null&&typeof a!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof a+'" instead');return a}function Vc(a,o){var e=a.onShellError;e(o),e=a.onFatalError,e(o),a.destination!==null?(a.status=2,da$1(a.destination,o)):(a.status=1,a.fatalError=o)}function Wc(a,o,e,c,h){for(R={},Ac=o,U=0,a=e(c,h);Cc;)Cc=!1,U=0,Dc+=1,S=null,a=e(c,h);return Gc(),a}function Xc(a,o,e,c){var h=e.render(),g=c.childContextTypes;if(g!=null){var b=o.legacyContext;if(typeof e.getChildContext!="function")c=b;else{e=e.getChildContext();for(var $ in e)if(!($ in g))throw Error(k$1(108,jc(c)||"Unknown",$));c=N$1({},b,e)}o.legacyContext=c,Z(a,o,h),o.legacyContext=b}else Z(a,o,h)}function Yc(a,o){if(a&&a.defaultProps){o=N$1({},o),a=a.defaultProps;for(var e in a)o[e]===void 0&&(o[e]=a[e]);return o}return o}function Zc(a,o,e,c,h){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){h=lc(e,o.legacyContext);var g=e.contextType;g=new e(c,typeof g=="object"&&g!==null?g._currentValue:h),rc(g,e,c,h),Xc(a,o,g,e)}else{g=lc(e,o.legacyContext),h=Wc(a,o,e,c,g);var b=U!==0;if(typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0)rc(h,e,c,g),Xc(a,o,h,e);else if(b){c=o.treeContext,o.treeContext=tc(c,1,0);try{Z(a,o,h)}finally{o.treeContext=c}}else Z(a,o,h)}else if(typeof e=="string"){switch(h=o.blockedSegment,g=Sa$1(h.chunks,e,c,a.responseState,h.formatContext),h.lastPushedText=!1,b=h.formatContext,h.formatContext=Ba$1(b,e,c),$c(a,o,g),h.formatContext=b,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:h.chunks.push(Ta$1,u(e),Ua)}h.lastPushedText=!1}else{switch(e){case gc:case fc:case Wb:case Xb:case Vb:Z(a,o,c.children);return;case bc:Z(a,o,c.children);return;case ec:throw Error(k$1(343));case ac:e:{e=o.blockedBoundary,h=o.blockedSegment,g=c.fallback,c=c.children,b=new Set;var $={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:b,errorDigest:null},j=Sc(a,h.chunks.length,$,h.formatContext,!1,!1);h.children.push(j),h.lastPushedText=!1;var rt=Sc(a,0,null,h.formatContext,!1,!1);rt.parentFlushed=!0,o.blockedBoundary=$,o.blockedSegment=rt;try{if($c(a,o,c),rt.lastPushedText&&rt.textEmbedded&&rt.chunks.push(Ca$1),rt.status=1,ad($,rt),$.pendingTasks===0)break e}catch(nt){rt.status=4,$.forceClientRender=!0,$.errorDigest=Y(a,nt)}finally{o.blockedBoundary=e,o.blockedSegment=h}o=Tc(a,g,e,j,b,o.legacyContext,o.context,o.treeContext),a.pingedTasks.push(o)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $b:if(c=Wc(a,o,e.render,c,h),U!==0){e=o.treeContext,o.treeContext=tc(e,1,0);try{Z(a,o,c)}finally{o.treeContext=e}}else Z(a,o,c);return;case cc:e=e.type,c=Yc(e,c),Zc(a,o,e,c,h);return;case Yb:if(h=c.children,e=e._context,c=c.value,g=e._currentValue,e._currentValue=c,b=O,O=c={parent:b,depth:b===null?0:b.depth+1,context:e,parentValue:g,value:c},o.context=c,Z(a,o,h),a=O,a===null)throw Error(k$1(403));c=a.parentValue,a.context._currentValue=c===hc?a.context._defaultValue:c,a=O=a.parent,o.context=a;return;case Zb:c=c.children,c=c(e._currentValue),Z(a,o,c);return;case dc:h=e._init,e=h(e._payload),c=Yc(e,c),Zc(a,o,e,c,void 0);return}throw Error(k$1(130,e==null?e:typeof e,""))}}function Z(a,o,e){if(o.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case Tb:Zc(a,o,e.type,e.props,e.ref);return;case Ub:throw Error(k$1(257));case dc:var c=e._init;e=c(e._payload),Z(a,o,e);return}if(ra$1(e)){bd(a,o,e);return}if(e===null||typeof e!="object"?c=null:(c=ic&&e[ic]||e["@@iterator"],c=typeof c=="function"?c:null),c&&(c=c.call(e))){if(e=c.next(),!e.done){var h=[];do h.push(e.value),e=c.next();while(!e.done);bd(a,o,h)}return}throw a=Object.prototype.toString.call(e),Error(k$1(31,a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a))}typeof e=="string"?(c=o.blockedSegment,c.lastPushedText=Da$1(o.blockedSegment.chunks,e,a.responseState,c.lastPushedText)):typeof e=="number"&&(c=o.blockedSegment,c.lastPushedText=Da$1(o.blockedSegment.chunks,""+e,a.responseState,c.lastPushedText))}function bd(a,o,e){for(var c=e.length,h=0;h<c;h++){var g=o.treeContext;o.treeContext=tc(g,c,h);try{$c(a,o,e[h])}finally{o.treeContext=g}}}function $c(a,o,e){var c=o.blockedSegment.formatContext,h=o.legacyContext,g=o.context;try{return Z(a,o,e)}catch(j){if(Gc(),typeof j=="object"&&j!==null&&typeof j.then=="function"){e=j;var b=o.blockedSegment,$=Sc(a,b.chunks.length,null,b.formatContext,b.lastPushedText,!0);b.children.push($),b.lastPushedText=!1,a=Tc(a,o.node,o.blockedBoundary,$,o.abortSet,o.legacyContext,o.context,o.treeContext).ping,e.then(a,a),o.blockedSegment.formatContext=c,o.legacyContext=h,o.context=g,Q(g)}else throw o.blockedSegment.formatContext=c,o.legacyContext=h,o.context=g,Q(g),j}}function cd(a){var o=a.blockedBoundary;a=a.blockedSegment,a.status=3,dd(this,o,a)}function ed(a,o,e){var c=a.blockedBoundary;a.blockedSegment.status=3,c===null?(o.allPendingTasks--,o.status!==2&&(o.status=2,o.destination!==null&&o.destination.close())):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,a=e===void 0?Error(k$1(432)):e,c.errorDigest=o.onError(a),c.parentFlushed&&o.clientRenderedBoundaries.push(c)),c.fallbackAbortableTasks.forEach(function(h){return ed(h,o,e)}),c.fallbackAbortableTasks.clear(),o.allPendingTasks--,o.allPendingTasks===0&&(c=o.onAllReady,c()))}function ad(a,o){if(o.chunks.length===0&&o.children.length===1&&o.children[0].boundary===null){var e=o.children[0];e.id=o.id,e.parentFlushed=!0,e.status===1&&ad(a,e)}else a.completedSegments.push(o)}function dd(a,o,e){if(o===null){if(e.parentFlushed){if(a.completedRootSegment!==null)throw Error(k$1(389));a.completedRootSegment=e}a.pendingRootTasks--,a.pendingRootTasks===0&&(a.onShellError=X,o=a.onShellReady,o())}else o.pendingTasks--,o.forceClientRender||(o.pendingTasks===0?(e.parentFlushed&&e.status===1&&ad(o,e),o.parentFlushed&&a.completedBoundaries.push(o),o.fallbackAbortableTasks.forEach(cd,a),o.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(ad(o,e),o.completedSegments.length===1&&o.parentFlushed&&a.partialBoundaries.push(o)));a.allPendingTasks--,a.allPendingTasks===0&&(a=a.onAllReady,a())}function Uc(a){if(a.status!==2){var o=O,e=Pc.current;Pc.current=Oc;var c=Nc;Nc=a.responseState;try{var h=a.pingedTasks,g;for(g=0;g<h.length;g++){var b=h[g],$=a,j=b.blockedSegment;if(j.status===0){Q(b.context);try{Z($,b,b.node),j.lastPushedText&&j.textEmbedded&&j.chunks.push(Ca$1),b.abortSet.delete(b),j.status=1,dd($,b.blockedBoundary,j)}catch(Lt){if(Gc(),typeof Lt=="object"&&Lt!==null&&typeof Lt.then=="function"){var rt=b.ping;Lt.then(rt,rt)}else{b.abortSet.delete(b),j.status=4;var nt=b.blockedBoundary,pt=Lt,wt=Y($,pt);if(nt===null?Vc($,pt):(nt.pendingTasks--,nt.forceClientRender||(nt.forceClientRender=!0,nt.errorDigest=wt,nt.parentFlushed&&$.clientRenderedBoundaries.push(nt))),$.allPendingTasks--,$.allPendingTasks===0){var Dt=$.onAllReady;Dt()}}}finally{}}}h.splice(0,g),a.destination!==null&&fd(a,a.destination)}catch(Lt){Y(a,Lt),Vc(a,Lt)}finally{Nc=c,Pc.current=e,e===Oc&&Q(o)}}}function gd(a,o,e){switch(e.parentFlushed=!0,e.status){case 0:var c=e.id=a.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,a=a.responseState,p(o,Va),p(o,a.placeholderPrefix),a=u(c.toString(16)),p(o,a),t(o,Wa);case 1:e.status=2;var h=!0;c=e.chunks;var g=0;e=e.children;for(var b=0;b<e.length;b++){for(h=e[b];g<h.index;g++)p(o,c[g]);h=hd(a,o,h)}for(;g<c.length-1;g++)p(o,c[g]);return g<c.length&&(h=t(o,c[g])),h;default:throw Error(k$1(390))}}function hd(a,o,e){var c=e.boundary;if(c===null)return gd(a,o,e);if(c.parentFlushed=!0,c.forceClientRender)c=c.errorDigest,t(o,$a$1),p(o,bb),c&&(p(o,db),p(o,u(C(c))),p(o,cb)),t(o,eb),gd(a,o,e);else if(0<c.pendingTasks){c.rootSegmentID=a.nextSegmentId++,0<c.completedSegments.length&&a.partialBoundaries.push(c);var h=a.responseState,g=h.nextSuspenseID++;h=w(h.boundaryPrefix+g.toString(16)),c=c.id=h,fb(o,a.responseState,c),gd(a,o,e)}else if(c.byteSize>a.progressiveChunkSize)c.rootSegmentID=a.nextSegmentId++,a.completedBoundaries.push(c),fb(o,a.responseState,c.id),gd(a,o,e);else{if(t(o,Xa),e=c.completedSegments,e.length!==1)throw Error(k$1(391));hd(a,o,e[0])}return t(o,ab)}function id(a,o,e){return Bb(o,a.responseState,e.formatContext,e.id),hd(a,o,e),Cb(o,e.formatContext)}function jd(a,o,e){for(var c=e.completedSegments,h=0;h<c.length;h++)kd(a,o,e,c[h]);if(c.length=0,a=a.responseState,c=e.id,e=e.rootSegmentID,p(o,a.startInlineScript),a.sentCompleteBoundaryFunction?p(o,Jb):(a.sentCompleteBoundaryFunction=!0,p(o,Ib)),c===null)throw Error(k$1(395));return e=u(e.toString(16)),p(o,c),p(o,Kb),p(o,a.segmentPrefix),p(o,e),t(o,Lb)}function kd(a,o,e,c){if(c.status===2)return!0;var h=c.id;if(h===-1){if((c.id=e.rootSegmentID)===-1)throw Error(k$1(392));return id(a,o,c)}return id(a,o,c),a=a.responseState,p(o,a.startInlineScript),a.sentCompleteSegmentFunction?p(o,Eb):(a.sentCompleteSegmentFunction=!0,p(o,Db)),p(o,a.segmentPrefix),h=u(h.toString(16)),p(o,h),p(o,Gb),p(o,a.placeholderPrefix),p(o,h),t(o,Hb)}function fd(a,o){l$1=new Uint8Array(512),n=0;try{var e=a.completedRootSegment;if(e!==null&&a.pendingRootTasks===0){hd(a,o,e),a.completedRootSegment=null;var c=a.responseState.bootstrapChunks;for(e=0;e<c.length-1;e++)p(o,c[e]);e<c.length&&t(o,c[e])}var h=a.clientRenderedBoundaries,g;for(g=0;g<h.length;g++){var b=h[g];c=o;var $=a.responseState,j=b.id,rt=b.errorDigest,nt=b.errorMessage,pt=b.errorComponentStack;if(p(c,$.startInlineScript),$.sentClientRenderFunction?p(c,Nb):($.sentClientRenderFunction=!0,p(c,Mb)),j===null)throw Error(k$1(395));p(c,j),p(c,Ob),(rt||nt||pt)&&(p(c,Qb),p(c,u(Sb(rt||"")))),(nt||pt)&&(p(c,Qb),p(c,u(Sb(nt||"")))),pt&&(p(c,Qb),p(c,u(Sb(pt)))),t(c,Pb)}h.splice(0,g);var wt=a.completedBoundaries;for(g=0;g<wt.length;g++)jd(a,o,wt[g]);wt.splice(0,g),ba$1(o),l$1=new Uint8Array(512),n=0;var Dt=a.partialBoundaries;for(g=0;g<Dt.length;g++){var Lt=Dt[g];e:{h=a,b=o;var it=Lt.completedSegments;for($=0;$<it.length;$++)if(!kd(h,b,Lt,it[$])){$++,it.splice(0,$);var st=!1;break e}it.splice(0,$),st=!0}if(!st){a.destination=null,g++,Dt.splice(0,g);return}}Dt.splice(0,g);var bt=a.completedBoundaries;for(g=0;g<bt.length;g++)jd(a,o,bt[g]);bt.splice(0,g)}finally{ba$1(o),a.allPendingTasks===0&&a.pingedTasks.length===0&&a.clientRenderedBoundaries.length===0&&a.completedBoundaries.length===0&&o.close()}}function ld(a,o){try{var e=a.abortableTasks;e.forEach(function(c){return ed(c,a,o)}),e.clear(),a.destination!==null&&fd(a,a.destination)}catch(c){Y(a,c),Vc(a,c)}}reactDomServer_browser_production_min.renderToReadableStream=function(a,o){return new Promise(function(e,c){var h,g,b=new Promise(function(nt,pt){g=nt,h=pt}),$=Rc(a,za$1(o?o.identifierPrefix:void 0,o?o.nonce:void 0,o?o.bootstrapScriptContent:void 0,o?o.bootstrapScripts:void 0,o?o.bootstrapModules:void 0),Aa$1(o?o.namespaceURI:void 0),o?o.progressiveChunkSize:void 0,o?o.onError:void 0,g,function(){var nt=new ReadableStream({type:"bytes",pull:function(pt){if($.status===1)$.status=2,da$1(pt,$.fatalError);else if($.status!==2&&$.destination===null){$.destination=pt;try{fd($,pt)}catch(wt){Y($,wt),Vc($,wt)}}},cancel:function(){ld($)}},{highWaterMark:0});nt.allReady=b,e(nt)},function(nt){b.catch(function(){}),c(nt)},h);if(o&&o.signal){var j=o.signal,rt=function(){ld($,j.reason),j.removeEventListener("abort",rt)};j.addEventListener("abort",rt)}Uc($)})};reactDomServer_browser_production_min.version="18.2.0";var l,s;l=reactDomServerLegacy_browser_production_min,s=reactDomServer_browser_production_min;server_browser.version=l.version;server_browser.renderToString=l.renderToString;server_browser.renderToStaticMarkup=l.renderToStaticMarkup;server_browser.renderToNodeStream=l.renderToNodeStream;server_browser.renderToStaticNodeStream=l.renderToStaticNodeStream;server_browser.renderToReadableStream=s.renderToReadableStream;var keyGenerator={};Object.defineProperty(keyGenerator,"__esModule",{value:!0});var counter=0;function generateNewKey(){return"agPortalKey_"+ ++counter}keyGenerator.default=generateNewKey;var __extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(legacyReactComponent,"__esModule",{value:!0});var react_1$k=reactExports,react_dom_1$2=reactDomExports,ag_grid_community_1$e=require$$0,reactComponent_1$1=reactComponent,server_1$1=server_browser,keyGenerator_1$1=__importDefault$b(keyGenerator),LegacyReactComponent=function(a){__extends$4(o,a);function o(e,c,h,g){var b=a.call(this,e,h,g)||this;return b.staticMarkup=null,b.staticRenderTime=0,b.parentComponent=c,b}return o.prototype.init=function(e){var c=this;return this.eParentElement=this.createParentElement(e),this.renderStaticMarkup(e),new ag_grid_community_1$e.AgPromise(function(h){return c.createReactComponent(e,h)})},o.prototype.createReactComponent=function(e,c){var h=this;this.isStatelessComponent()||(e.ref=function($){h.componentInstance=$,h.addParentContainerStyleAndClasses(),h.removeStaticMarkup()});var g=react_1$k.createElement(this.reactComponent,e),b=react_dom_1$2.createPortal(g,this.eParentElement,keyGenerator_1$1.default());this.portal=b,this.portalManager.mountReactPortal(b,this,function($){c($),h.isStatelessComponent()&&(h.isSlowRenderer()&&h.removeStaticMarkup(),setTimeout(function(){h.removeStaticMarkup()}))})},o.prototype.fallbackMethodAvailable=function(e){return!1},o.prototype.fallbackMethod=function(e,c){},o.prototype.isSlowRenderer=function(){return this.staticRenderTime>=o.SLOW_RENDERING_THRESHOLD},o.prototype.isNullValue=function(){return this.staticMarkup===""},o.prototype.renderStaticMarkup=function(e){if(!(this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer)){var c=console.error,h=react_1$k.createElement(this.reactComponent,e);try{console.error=function(){};var g=Date.now(),b=server_1$1.renderToStaticMarkup(h);this.staticRenderTime=Date.now()-g,console.error=c,b===""?this.staticMarkup=b:b&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=b,this.eParentElement.appendChild(this.staticMarkup))}catch{}finally{console.error=c}}},o.prototype.removeStaticMarkup=function(){this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer||this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},o.prototype.rendered=function(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},o.SLOW_RENDERING_THRESHOLD=3,o}(reactComponent_1$1.ReactComponent);legacyReactComponent.LegacyReactComponent=LegacyReactComponent;var agGridColumn={},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(a,o){var e={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&o.indexOf(c)<0&&(e[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(a);h<c.length;h++)o.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(a,c[h])&&(e[c[h]]=a[c[h]]);return e},__importStar$f=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(agGridColumn,"__esModule",{value:!0});var react_1$j=__importStar$f(reactExports),prop_types_1$1=__importDefault$a(propTypesExports),AgGrid=__importStar$f(require$$0),AgGridColumn=function(a){__extends$3(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.render=function(){return null},o.mapChildColumnDefs=function(e){return react_1$j.default.Children.map(e,function(c){return c?o.toColDef(c.props):null})},o.toColDef=function(e){var c=e.children,h=__rest$1(e,["children"]);return o.hasChildColumns(c)&&(h.children=o.mapChildColumnDefs(c)),h},o.hasChildColumns=function(e){return react_1$j.default.Children.count(e)>0},o}(react_1$j.Component);agGridColumn.AgGridColumn=AgGridColumn;addProperties$1(AgGrid.ColDefUtil.BOOLEAN_PROPERTIES,prop_types_1$1.default.bool);addProperties$1(AgGrid.ColDefUtil.STRING_PROPERTIES,prop_types_1$1.default.string);addProperties$1(AgGrid.ColDefUtil.OBJECT_PROPERTIES,prop_types_1$1.default.object);addProperties$1(AgGrid.ColDefUtil.ARRAY_PROPERTIES,prop_types_1$1.default.array);addProperties$1(AgGrid.ColDefUtil.NUMBER_PROPERTIES,prop_types_1$1.default.number);addProperties$1(AgGrid.ColDefUtil.FUNCTION_PROPERTIES,prop_types_1$1.default.func);function addProperties$1(a,o){a.forEach(function(e){AgGridColumn[e]=o})}var changeDetectionService={};(function(a){Object.defineProperty(a,"__esModule",{value:!0});var o;(function(g){g.IdentityCheck="IdentityCheck",g.DeepValueCheck="DeepValueCheck",g.NoCheck="NoCheck"})(o=a.ChangeDetectionStrategyType||(a.ChangeDetectionStrategyType={}));var e=function(){function g(b){this.strategy=b}return g.prototype.areEqual=function(b,$){return this.strategy(b,$)},g}(),c=function(){function g(){}return g.prototype.areEqual=function(b,$){return g.areEquivalent(g.copy(b),g.copy($))},g.unwrapStringOrNumber=function(b){return b instanceof Number||b instanceof String?b.valueOf():b},g.copy=function(b){if(!b)return b;if(Array.isArray(b)){for(var $=[],j=0;j<b.length;j++)$.push(this.copy(b[j]));return $}return typeof b!="object"?b:[{},b].reduce(function(rt,nt){return Object.keys(nt).forEach(function(pt){rt[pt]=nt[pt]}),rt},{})},g.isNaN=function(b){return Number.isNaN?Number.isNaN(b):typeof b=="number"&&isNaN(b)},g.areEquivalent=function(b,$){if(b=g.unwrapStringOrNumber(b),$=g.unwrapStringOrNumber($),b===$)return!0;if(b===null||$===null||typeof b!=typeof $)return!1;if(g.isNaN(b)&&g.isNaN($))return!0;if(b instanceof Date)return $ instanceof Date&&b.valueOf()===$.valueOf();if(typeof b=="function")return!1;if(typeof b!="object"||b.$$typeof&&b.$$typeof.toString()==="Symbol(react.element)")return b==$;if(Object.isFrozen(b)||Object.isFrozen($))return b===$;var j=b.areEquivPropertyTracking===void 0,rt=$.areEquivPropertyTracking===void 0;try{var nt=void 0;if(j)b.areEquivPropertyTracking=[];else if(b.areEquivPropertyTracking.some(function(wt){return wt===$}))return!0;if(rt)$.areEquivPropertyTracking=[];else if($.areEquivPropertyTracking.some(function(wt){return wt===b}))return!0;b.areEquivPropertyTracking.push($),$.areEquivPropertyTracking.push(b);var pt={};for(nt in b)nt!="areEquivPropertyTracking"&&(pt[nt]=null);for(nt in $)nt!="areEquivPropertyTracking"&&(pt[nt]=null);for(nt in pt)if(!this.areEquivalent(b[nt],$[nt]))return!1;return!0}finally{j&&delete b.areEquivPropertyTracking,rt&&delete $.areEquivPropertyTracking}},g}(),h=function(){function g(){var b;this.strategyMap=(b={},b[o.DeepValueCheck]=new c,b[o.IdentityCheck]=new e(function($,j){return $===j}),b[o.NoCheck]=new e(function($,j){return!1}),b)}return g.prototype.getStrategy=function(b){return this.strategyMap[b]},g}();a.ChangeDetectionService=h})(changeDetectionService);var newReactComponent={},__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$9=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$9=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$9.apply(this,arguments)},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(newReactComponent,"__esModule",{value:!0});var react_1$i=reactExports,react_dom_1$1=reactDomExports,ag_grid_community_1$d=require$$0,reactComponent_1=reactComponent,server_1=server_browser,keyGenerator_1=__importDefault$9(keyGenerator),NewReactComponent=function(a){__extends$2(o,a);function o(e,c,h){var g=a.call(this,e,c,h)||this;return g.oldPortal=null,g.key=keyGenerator_1.default(),g.portalKey=keyGenerator_1.default(),g}return o.prototype.init=function(e){var c=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new ag_grid_community_1$d.AgPromise(function(h){return c.createReactComponent(h)})},o.prototype.createOrUpdatePortal=function(e){var c=this;this.isStatelessComponent()||(e.ref=function(h){c.componentInstance=h,c.addParentContainerStyleAndClasses()}),this.reactElement=react_1$i.createElement(this.reactComponent,__assign$9(__assign$9({},e),{key:this.key})),this.portal=react_dom_1$1.createPortal(this.reactElement,this.eParentElement,this.portalKey)},o.prototype.createReactComponent=function(e){this.portalManager.mountReactPortal(this.portal,this,function(c){e(c)})},o.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},o.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},o.prototype.valueRenderedIsNull=function(e){if(!this.componentType.cellRenderer)return!1;var c=console.error;try{console.error=function(){};var h=server_1.renderToStaticMarkup(react_1$i.createElement(this.reactComponent,e));return h===""}catch{}finally{console.error=c}return!1},o.prototype.refreshComponent=function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},o.prototype.fallbackMethod=function(e,c){var h=this[e+"Component"];if(h)return h.bind(this)(c)},o.prototype.fallbackMethodAvailable=function(e){var c=this[e+"Component"];return!!c},o}(reactComponent_1.ReactComponent);newReactComponent.NewReactComponent=NewReactComponent;var portalManager={},__spreadArrays$3=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var a=0,o=0,e=arguments.length;o<e;o++)a+=arguments[o].length;for(var c=Array(a),h=0,o=0;o<e;o++)for(var g=arguments[o],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c};Object.defineProperty(portalManager,"__esModule",{value:!0});var PortalManager=function(){function a(o,e,c){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=e||"div",this.parent=o,this.maxComponentCreationTimeMs=c||a.MAX_COMPONENT_CREATION_TIME_IN_MS}return a.prototype.getPortals=function(){return this.portals},a.prototype.destroy=function(){this.destroyed=!0},a.prototype.destroyPortal=function(o){this.portals=this.portals.filter(function(e){return e!==o}),this.batchUpdate()},a.prototype.getComponentWrappingElement=function(){return this.wrappingElement},a.prototype.mountReactPortal=function(o,e,c){this.portals=__spreadArrays$3(this.portals,[o]),this.waitForInstance(e,c),this.batchUpdate()},a.prototype.updateReactPortal=function(o,e){this.portals[this.portals.indexOf(o)]=e,this.batchUpdate()},a.prototype.batchUpdate=function(){var o=this;this.hasPendingPortalUpdate||(setTimeout(function(){o.destroyed||o.parent.forceUpdate(function(){o.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)},a.prototype.waitForInstance=function(o,e,c){var h=this;if(c===void 0&&(c=Date.now()),this.destroyed){e(null);return}if(o.rendered())e(o);else{if(Date.now()-c>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(o.isNullValue()){e(o);return}console.error("AG Grid: React Component '"+o.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");return}window.setTimeout(function(){h.waitForInstance(o,e,c)})}},a.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,a}();portalManager.PortalManager=PortalManager;var reactFrameworkOverrides={},groupCellRenderer={},beansContext={},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(beansContext,"__esModule",{value:!0});var react_1$h=__importDefault$8(reactExports);beansContext.BeansContext=react_1$h.default.createContext({});var jsComp={};Object.defineProperty(jsComp,"__esModule",{value:!0});jsComp.showJsComp=function(a,o,e,c){var h=!a||a.componentFromFramework;if(!h){var g=a.newAgStackInstance();if(g){var b,$,j=!1;return g.then(function(rt){if(j){o.destroyBean(rt);return}b=rt,$=b.getGui(),e.appendChild($),setRef(c,b)}),function(){j=!0,b&&($&&$.parentElement&&$.parentElement.removeChild($),o.destroyBean(b),c&&setRef(c,void 0))}}}};var setRef=function(a,o){if(a)if(a instanceof Function){var e=a;e(o)}else{var c=a;c.current=o}};jsComp.createSyncJsComp=function(a){var o=a.newAgStackInstance();if(o)return o.resolveNow(null,function(e){return e})};var useEffectOnce={};Object.defineProperty(useEffectOnce,"__esModule",{value:!0});var react_1$g=reactExports;useEffectOnce.useEffectOnce=function(a){var o=react_1$g.useRef(a),e=react_1$g.useRef(),c=react_1$g.useRef(!1),h=react_1$g.useRef(!1),g=react_1$g.useState(0),b=g[1];c.current&&(h.current=!0),react_1$g.useEffect(function(){return c.current||(e.current=o.current(),c.current=!0),b(function($){return $+1}),function(){h.current&&e.current&&e.current()}},[])};useEffectOnce.useLayoutEffectOnce=function(a){var o=react_1$g.useRef(a),e=react_1$g.useRef(),c=react_1$g.useRef(!1),h=react_1$g.useRef(!1),g=react_1$g.useState(0),b=g[1];c.current&&(h.current=!0),react_1$g.useLayoutEffect(function(){return c.current||(e.current=o.current(),c.current=!0),b(function($){return $+1}),function(){h.current&&e.current&&e.current()}},[])};var utils={},__assign$8=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$8=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$8.apply(this,arguments)};Object.defineProperty(utils,"__esModule",{value:!0});utils.classesList=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var e=a.filter(function(c){return c!=null&&c!==""});return e.join(" ")};var CssClasses=function(){function a(){for(var o=this,e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];this.classesMap={},e.forEach(function(h){o.classesMap[h]=!0})}return a.prototype.setClass=function(o,e){var c=!!this.classesMap[o]==e;if(c)return this;var h=new a;return h.classesMap=__assign$8({},this.classesMap),h.classesMap[o]=e,h},a.prototype.toString=function(){var o=this,e=Object.keys(this.classesMap).filter(function(c){return o.classesMap[c]}).join(" ");return e},a}();utils.CssClasses=CssClasses;utils.isComponentStateless=function(a){var o=function(){return typeof Symbol=="function"&&Symbol.for},e=function(){return o()?Symbol.for("react.memo"):60115};return typeof a=="function"&&!(a.prototype&&a.prototype.isReactComponent)||typeof a=="object"&&a.$$typeof===e()};var __assign$7=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$7=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$7.apply(this,arguments)},__importStar$e=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(groupCellRenderer,"__esModule",{value:!0});var ag_grid_community_1$c=require$$0,react_1$f=__importStar$e(reactExports),beansContext_1$d=beansContext,jsComp_1$4=jsComp,useEffectOnce_1$e=useEffectOnce,utils_1$9=utils,GroupCellRenderer=react_1$f.forwardRef(function(a,o){var e=react_1$f.useContext(beansContext_1$d.BeansContext).context,c=react_1$f.useRef(null),h=react_1$f.useRef(null),g=react_1$f.useRef(null),b=react_1$f.useRef(null),$=react_1$f.useRef(null),j=react_1$f.useState(),rt=j[0],nt=j[1],pt=react_1$f.useState(),wt=pt[0],Dt=pt[1],Lt=react_1$f.useState(),it=Lt[0],st=Lt[1],bt=react_1$f.useState(new utils_1$9.CssClasses),gt=bt[0],Et=bt[1],ot=react_1$f.useState(new utils_1$9.CssClasses("ag-hidden")),_t=ot[0],Mt=ot[1],Bt=react_1$f.useState(new utils_1$9.CssClasses("ag-hidden")),It=Bt[0],jt=Bt[1],tr=react_1$f.useState(new utils_1$9.CssClasses("ag-invisible")),gr=tr[0],vr=tr[1];react_1$f.useImperativeHandle(o,function(){return{refresh:function(){return!1}}}),react_1$f.useEffect(function(){return jsComp_1$4.showJsComp(rt,e,h.current)},[rt]),useEffectOnce_1$e.useEffectOnce(function(){var xr={setInnerRenderer:function(In,Nn){nt(In),st(Nn)},setChildCount:function(In){return Dt(In)},addOrRemoveCssClass:function(In,Nn){return Et(function(Hn){return Hn.setClass(In,Nn)})},setContractedDisplayed:function(In){return jt(function(Nn){return Nn.setClass("ag-hidden",!In)})},setExpandedDisplayed:function(In){return Mt(function(Nn){return Nn.setClass("ag-hidden",!In)})},setCheckboxVisible:function(In){return vr(function(Nn){return Nn.setClass("ag-invisible",!In)})}},Or=e.createBean(new ag_grid_community_1$c.GroupCellRendererCtrl);return Or.init(xr,c.current,g.current,b.current,$.current,GroupCellRenderer,a),function(){e.destroyBean(Or)}});var hr=react_1$f.useMemo(function(){return"ag-cell-wrapper "+gt.toString()},[gt]),mr=react_1$f.useMemo(function(){return"ag-group-expanded "+_t.toString()},[_t]),Er=react_1$f.useMemo(function(){return"ag-group-contracted "+It.toString()},[It]),Rr=react_1$f.useMemo(function(){return"ag-group-checkbox "+gr.toString()},[gr]),Cr=rt&&rt.componentFromFramework,wr=Cr?rt.componentClass:void 0,Sr=rt==null&&it!=null,br=ag_grid_community_1$c._.escapeString(it,!0);return react_1$f.default.createElement("span",__assign$7({className:hr,ref:c},a.colDef?{}:{role:"gridcell"}),react_1$f.default.createElement("span",{className:mr,ref:b}),react_1$f.default.createElement("span",{className:Er,ref:$}),react_1$f.default.createElement("span",{className:Rr,ref:g}),react_1$f.default.createElement("span",{className:"ag-group-value",ref:h},Sr&&react_1$f.default.createElement(react_1$f.default.Fragment,null,br),Cr&&react_1$f.default.createElement(wr,__assign$7({},rt.params))),react_1$f.default.createElement("span",{className:"ag-group-child-count"},wt))});groupCellRenderer.default=GroupCellRenderer;var detailCellRenderer={},agGridReactUi={},gridComp={},gridBodyComp={},gridHeaderComp={},headerRowContainerComp={},headerRowComp={},headerCellComp={},__assign$6=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$6=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$6.apply(this,arguments)},__importStar$d=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(headerCellComp,"__esModule",{value:!0});var react_1$e=__importStar$d(reactExports),beansContext_1$c=beansContext,ag_grid_community_1$b=require$$0,utils_1$8=utils,jsComp_1$3=jsComp,useEffectOnce_1$d=useEffectOnce,HeaderCellComp=function(a){var o=react_1$e.useContext(beansContext_1$c.BeansContext).context,e=react_1$e.useState(),c=e[0],h=e[1],g=react_1$e.useState(),b=g[0],$=g[1],j=react_1$e.useState(),rt=j[0],nt=j[1],pt=react_1$e.useState(),wt=pt[0],Dt=pt[1],Lt=react_1$e.useState(),it=Lt[0],st=Lt[1],bt=react_1$e.useState(),gt=bt[0],Et=bt[1],ot=react_1$e.useRef(null),_t=react_1$e.useRef(null),Mt=react_1$e.useRef(null),Bt=react_1$e.useRef(),It=a.ctrl,jt=react_1$e.useMemo(function(){return new ag_grid_community_1$b.CssClassManager(function(){return ot.current})},[]);useEffectOnce_1$d.useEffectOnce(function(){var mr={setWidth:function(Rr){return h(Rr)},addOrRemoveCssClass:function(Rr,Cr){return jt.addOrRemoveCssClass(Rr,Cr)},setColId:function(Rr){return nt(Rr)},setTitle:function(Rr){return $(Rr)},setAriaDescription:function(Rr){return st(Rr)},setAriaSort:function(Rr){return Dt(Rr)},setUserCompDetails:function(Rr){return Et(Rr)},getUserCompInstance:function(){return Bt.current||void 0}};It.setComp(mr,ot.current,_t.current,Mt.current);var Er=It.getSelectAllGui();_t.current.insertAdjacentElement("afterend",Er)}),react_1$e.useEffect(function(){return jsComp_1$3.showJsComp(gt,o,Mt.current,Bt)},[gt]),react_1$e.useEffect(function(){It.setDragSource(ot.current)},[gt]);var tr=react_1$e.useMemo(function(){return{width:c}},[c]),gr=react_1$e.useMemo(function(){var mr,Er=((mr=gt)===null||mr===void 0?void 0:mr.componentFromFramework)&&utils_1$8.isComponentStateless(gt.componentClass);return!!Er},[gt]),vr=gt&&gt.componentFromFramework,hr=gt&&gt.componentClass;return react_1$e.default.createElement("div",{ref:ot,className:"ag-header-cell",style:tr,title:b,"col-id":rt,"aria-sort":wt,role:"columnheader",tabIndex:-1,"aria-description":it},react_1$e.default.createElement("div",{ref:_t,className:"ag-header-cell-resize",role:"presentation"}),react_1$e.default.createElement("div",{ref:Mt,className:"ag-header-cell-comp-wrapper",role:"presentation"},vr&&gr&&react_1$e.default.createElement(hr,__assign$6({},gt.params)),vr&&!gr&&react_1$e.default.createElement(hr,__assign$6({},gt.params,{ref:Bt}))))};headerCellComp.default=react_1$e.memo(HeaderCellComp);var headerGroupCellComp={},__assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$5.apply(this,arguments)},__importStar$c=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(headerGroupCellComp,"__esModule",{value:!0});var react_1$d=__importStar$c(reactExports),beansContext_1$b=beansContext,jsComp_1$2=jsComp,useEffectOnce_1$c=useEffectOnce,utils_1$7=utils,HeaderGroupCellComp=function(a){var o=react_1$d.useContext(beansContext_1$b.BeansContext).context,e=react_1$d.useState(new utils_1$7.CssClasses),c=e[0],h=e[1],g=react_1$d.useState(new utils_1$7.CssClasses),b=g[0],$=g[1],j=react_1$d.useState(),rt=j[0],nt=j[1],pt=react_1$d.useState(),wt=pt[0],Dt=pt[1],Lt=react_1$d.useState(),it=Lt[0],st=Lt[1],bt=react_1$d.useState(),gt=bt[0],Et=bt[1],ot=react_1$d.useState(),_t=ot[0],Mt=ot[1],Bt=react_1$d.useRef(null),It=react_1$d.useRef(null),jt=a.ctrl;useEffectOnce_1$c.useEffectOnce(function(){var Er={setWidth:function(Rr){return nt(Rr)},addOrRemoveCssClass:function(Rr,Cr){return h(function(wr){return wr.setClass(Rr,Cr)})},setColId:function(Rr){return st(Rr)},setTitle:function(Rr){return Dt(Rr)},setUserCompDetails:function(Rr){return Mt(Rr)},addOrRemoveResizableCssClass:function(Rr,Cr){return $(function(wr){return wr.setClass(Rr,Cr)})},setAriaExpanded:function(Rr){return Et(Rr)}};jt.setComp(Er,Bt.current,It.current)}),react_1$d.useEffect(function(){return jsComp_1$2.showJsComp(_t,o,Bt.current)},[_t]),react_1$d.useEffect(function(){var Er=void 0;Bt.current.childNodes.forEach(function(Rr){Rr!=null&&Rr!==It.current&&(Er=Rr)}),Er&&jt.setDragSource(Er)},[_t]);var tr=react_1$d.useMemo(function(){return{width:rt}},[rt]),gr=react_1$d.useMemo(function(){return"ag-header-group-cell "+c.toString()},[c]),vr=react_1$d.useMemo(function(){return"ag-header-cell-resize "+b.toString()},[b]),hr=_t&&_t.componentFromFramework,mr=_t&&_t.componentClass;return react_1$d.default.createElement("div",{ref:Bt,className:gr,style:tr,title:wt,"col-id":it,role:"columnheader",tabIndex:-1,"aria-expanded":gt},hr&&react_1$d.default.createElement(mr,__assign$5({},_t.params)),react_1$d.default.createElement("div",{ref:It,className:vr}))};headerGroupCellComp.default=react_1$d.memo(HeaderGroupCellComp);var headerFilterCellComp={},__assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$4.apply(this,arguments)},__importStar$b=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(headerFilterCellComp,"__esModule",{value:!0});var react_1$c=__importStar$b(reactExports),beansContext_1$a=beansContext,ag_grid_community_1$a=require$$0,utils_1$6=utils,jsComp_1$1=jsComp,useEffectOnce_1$b=useEffectOnce,HeaderFilterCellComp=function(a){var o=react_1$c.useContext(beansContext_1$a.BeansContext).context,e=react_1$c.useState(new utils_1$6.CssClasses("ag-header-cell","ag-floating-filter")),c=e[0],h=e[1],g=react_1$c.useState(new utils_1$6.CssClasses),b=g[0],$=g[1],j=react_1$c.useState(new utils_1$6.CssClasses("ag-floating-filter-button","ag-hidden")),rt=j[0],nt=j[1],pt=react_1$c.useState(),wt=pt[0],Dt=pt[1],Lt=react_1$c.useState(),it=Lt[0],st=Lt[1],bt=react_1$c.useRef(null),gt=react_1$c.useRef(null),Et=react_1$c.useRef(null),ot=react_1$c.useRef(null),_t=react_1$c.useRef(!1),Mt=react_1$c.useRef(),Bt=react_1$c.useRef();useEffectOnce_1$b.useEffectOnce(function(){Bt.current=new ag_grid_community_1$a.AgPromise(function(Cr){Mt.current=Cr})});var It=function(Cr){_t.current||Cr!=null&&(Mt.current&&Mt.current(Cr),_t.current=!0)},jt=a.ctrl;useEffectOnce_1$b.useEffectOnce(function(){var Cr={addOrRemoveCssClass:function(wr,Sr){return h(function(br){return br.setClass(wr,Sr)})},addOrRemoveBodyCssClass:function(wr,Sr){return $(function(br){return br.setClass(wr,Sr)})},addOrRemoveButtonWrapperCssClass:function(wr,Sr){return nt(function(br){return br.setClass(wr,Sr)})},setWidth:function(wr){return Dt(wr)},setCompDetails:function(wr){return st(wr)},getFloatingFilterComp:function(){return Bt.current?Bt.current:null},setMenuIcon:function(wr){return ot.current.appendChild(wr)}};jt.setComp(Cr,bt.current,ot.current,gt.current)}),react_1$c.useEffect(function(){return jsComp_1$1.showJsComp(it,o,gt.current,It)},[it]);var tr=react_1$c.useMemo(function(){return{width:wt}},[wt]),gr=react_1$c.useMemo(function(){return c.toString()},[c]),vr=react_1$c.useMemo(function(){return b.toString()},[b]),hr=react_1$c.useMemo(function(){return rt.toString()},[rt]),mr=react_1$c.useMemo(function(){var Cr=it&&it.componentFromFramework&&utils_1$6.isComponentStateless(it.componentClass);return!!Cr},[it]),Er=it&&it.componentFromFramework,Rr=it&&it.componentClass;return react_1$c.default.createElement("div",{ref:bt,className:gr,style:tr,role:"gridcell",tabIndex:-1},react_1$c.default.createElement("div",{ref:gt,className:vr,role:"presentation"},Er&&mr&&react_1$c.default.createElement(Rr,__assign$4({},it.params)),Er&&!mr&&react_1$c.default.createElement(Rr,__assign$4({},it.params,{ref:It}))),react_1$c.default.createElement("div",{ref:Et,className:hr,role:"presentation"},react_1$c.default.createElement("button",{ref:ot,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))};headerFilterCellComp.default=react_1$c.memo(HeaderFilterCellComp);var __spreadArrays$2=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var a=0,o=0,e=arguments.length;o<e;o++)a+=arguments[o].length;for(var c=Array(a),h=0,o=0;o<e;o++)for(var g=arguments[o],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c},__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(headerRowComp,"__esModule",{value:!0});var ag_grid_community_1$9=require$$0,react_1$b=__importStar$a(reactExports),beansContext_1$9=beansContext,headerCellComp_1=__importDefault$7(headerCellComp),headerGroupCellComp_1=__importDefault$7(headerGroupCellComp),headerFilterCellComp_1=__importDefault$7(headerFilterCellComp),useEffectOnce_1$a=useEffectOnce,HeaderRowComp=function(a){var o=react_1$b.useContext(beansContext_1$9.BeansContext).gridOptionsWrapper,e=react_1$b.useState(),c=e[0],h=e[1],g=react_1$b.useState(),b=g[0],$=g[1],j=react_1$b.useState(),rt=j[0],nt=j[1],pt=react_1$b.useState(),wt=pt[0],Dt=pt[1],Lt=react_1$b.useState(),it=Lt[0],st=Lt[1],bt=react_1$b.useState([]),gt=bt[0],Et=bt[1],ot=react_1$b.useRef(null),_t=a.ctrl,Mt=_t.getType()===ag_grid_community_1$9.HeaderRowType.COLUMN,Bt=_t.getType()===ag_grid_community_1$9.HeaderRowType.COLUMN_GROUP,It=_t.getType()===ag_grid_community_1$9.HeaderRowType.FLOATING_FILTER,jt=react_1$b.useCallback(function(hr,mr){if(o.isEnsureDomOrder())return mr;var Er=ag_grid_community_1$9._.mapById(hr,function(Sr){return Sr.getInstanceId()}),Rr=ag_grid_community_1$9._.mapById(mr,function(Sr){return Sr.getInstanceId()}),Cr=hr.filter(function(Sr){return Rr.has(Sr.getInstanceId())}),wr=mr.filter(function(Sr){return!Er.has(Sr.getInstanceId())});return __spreadArrays$2(Cr,wr)},[]);useEffectOnce_1$a.useEffectOnce(function(){var hr={setTransform:function(mr){return h(mr)},setHeight:function(mr){return $(mr)},setTop:function(mr){return nt(mr)},setHeaderCtrls:function(mr){return Et(function(Er){return jt(Er,mr)})},setWidth:function(mr){return Dt(mr)},setAriaRowIndex:function(mr){return st(mr)}};_t.setComp(hr)});var tr=react_1$b.useMemo(function(){return{transform:c,height:b,top:rt,width:wt}},[c,b,rt,wt]),gr=react_1$b.useMemo(function(){var hr=["ag-header-row"];return Mt&&hr.push("ag-header-row-column"),Bt&&hr.push("ag-header-row-column-group"),It&&hr.push("ag-header-row-column-filter"),hr.join(" ")},[]),vr=react_1$b.useCallback(function(hr){switch(_t.getType()){case ag_grid_community_1$9.HeaderRowType.COLUMN_GROUP:return react_1$b.default.createElement(headerGroupCellComp_1.default,{ctrl:hr,key:hr.getInstanceId()});case ag_grid_community_1$9.HeaderRowType.FLOATING_FILTER:return react_1$b.default.createElement(headerFilterCellComp_1.default,{ctrl:hr,key:hr.getInstanceId()});default:return react_1$b.default.createElement(headerCellComp_1.default,{ctrl:hr,key:hr.getInstanceId()})}},[]);return react_1$b.default.createElement("div",{ref:ot,className:gr,role:"row",style:tr,"aria-rowindex":it},gt.map(vr))};headerRowComp.default=react_1$b.memo(HeaderRowComp);var __importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(headerRowContainerComp,"__esModule",{value:!0});var react_1$a=__importStar$9(reactExports),beansContext_1$8=beansContext,ag_grid_community_1$8=require$$0,utils_1$5=utils,headerRowComp_1=__importDefault$6(headerRowComp),useEffectOnce_1$9=useEffectOnce,HeaderRowContainerComp=function(a){var o=react_1$a.useState(new utils_1$5.CssClasses),e=o[0],c=o[1],h=react_1$a.useState(),g=h[0],b=h[1],$=react_1$a.useState(),j=$[0],rt=$[1],nt=react_1$a.useState(),pt=nt[0],wt=nt[1],Dt=react_1$a.useState([]),Lt=Dt[0],it=Dt[1],st=react_1$a.useContext(beansContext_1$8.BeansContext).context,bt=react_1$a.useRef(null),gt=a.pinned===ag_grid_community_1$8.Constants.PINNED_LEFT,Et=a.pinned===ag_grid_community_1$8.Constants.PINNED_RIGHT,ot=!gt&&!Et;useEffectOnce_1$9.useEffectOnce(function(){var jt={addOrRemoveCssClass:function(gr,vr){return c(function(hr){return hr.setClass(gr,vr)})},setCtrls:function(gr){return it(gr)},setCenterWidth:function(gr){return b(gr)},setContainerTransform:function(gr){return rt(gr)},setPinnedContainerWidth:function(gr){return wt(gr)}},tr=st.createBean(new ag_grid_community_1$8.HeaderRowContainerCtrl(a.pinned));return tr.setComp(jt,bt.current),function(){st.destroyBean(tr)}});var _t=react_1$a.useMemo(function(){return e.toString()},[e]),Mt=function(){return Lt.map(function(jt){return react_1$a.default.createElement(headerRowComp_1.default,{ctrl:jt,key:jt.getInstanceId()})})},Bt=react_1$a.useMemo(function(){return{width:g,transform:j}},[g,j]),It=react_1$a.useMemo(function(){return{width:pt,minWidth:pt,maxWidth:pt}},[pt]);return react_1$a.default.createElement(react_1$a.default.Fragment,null,gt&&react_1$a.default.createElement("div",{ref:bt,className:"ag-pinned-left-header "+_t,role:"presentation",style:It},Mt()),Et&&react_1$a.default.createElement("div",{ref:bt,className:"ag-pinned-right-header "+_t,role:"presentation",style:It},Mt()),ot&&react_1$a.default.createElement("div",{ref:bt,className:"ag-header-viewport "+_t,role:"presentation"},react_1$a.default.createElement("div",{className:"ag-header-container",role:"rowgroup",style:Bt},Mt())))};headerRowContainerComp.default=react_1$a.memo(HeaderRowContainerComp);var __importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gridHeaderComp,"__esModule",{value:!0});var react_1$9=__importStar$8(reactExports),beansContext_1$7=beansContext,ag_grid_community_1$7=require$$0,utils_1$4=utils,headerRowContainerComp_1=__importDefault$5(headerRowContainerComp),useEffectOnce_1$8=useEffectOnce,GridHeaderComp=function(){var a=react_1$9.useState(new utils_1$4.CssClasses),o=a[0],e=a[1],c=react_1$9.useState(),h=c[0],g=c[1],b=react_1$9.useContext(beansContext_1$7.BeansContext).context,$=react_1$9.useRef(null);useEffectOnce_1$8.useEffectOnce(function(){var nt={addOrRemoveCssClass:function(wt,Dt){return e(function(Lt){return Lt.setClass(wt,Dt)})},setHeightAndMinHeight:function(wt){return g(wt)}},pt=b.createBean(new ag_grid_community_1$7.GridHeaderCtrl);return pt.setComp(nt,$.current,$.current),function(){b.destroyBean(pt)}});var j=react_1$9.useMemo(function(){var nt=o.toString();return"ag-header "+nt},[o]),rt=react_1$9.useMemo(function(){return{height:h,minHeight:h}},[h]);return react_1$9.default.createElement("div",{ref:$,className:j,style:rt,role:"presentation"},react_1$9.default.createElement(headerRowContainerComp_1.default,{pinned:ag_grid_community_1$7.Constants.PINNED_LEFT}),react_1$9.default.createElement(headerRowContainerComp_1.default,{pinned:null}),react_1$9.default.createElement(headerRowContainerComp_1.default,{pinned:ag_grid_community_1$7.Constants.PINNED_RIGHT}))};gridHeaderComp.default=react_1$9.memo(GridHeaderComp);var reactComment={};Object.defineProperty(reactComment,"__esModule",{value:!0});var useEffectOnce_1$7=useEffectOnce,useReactCommentEffect=function(a,o){useEffectOnce_1$7.useEffectOnce(function(){var e=o.current,c=e.parentElement;if(c){var h=document.createComment(a);return c.insertBefore(h,e),function(){c.removeChild(h)}}})};reactComment.default=useReactCommentEffect;var rowContainerComp={},rowComp={},cellComp={},popupEditorComp={},__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(popupEditorComp,"__esModule",{value:!0});var ag_grid_community_1$6=require$$0,react_1$8=__importStar$7(reactExports),react_dom_1=reactDomExports,beansContext_1$6=beansContext,useEffectOnce_1$6=useEffectOnce,PopupEditorComp=function(a){var o=react_1$8.useState(),e=o[0],c=o[1],h=react_1$8.useContext(beansContext_1$6.BeansContext),g=h.context,b=h.popupService,$=h.gridOptionsWrapper;return useEffectOnce_1$6.useEffectOnce(function(){var j=a.editDetails,rt=a.cellCtrl,nt=a.eParentCell,pt=j.compDetails,wt=$.isStopEditingWhenCellsLoseFocus(),Dt=g.createBean(new ag_grid_community_1$6.PopupEditorWrapper(pt.params)),Lt=Dt.getGui();if(a.jsChildComp){var it=a.jsChildComp.getGui();it&&Lt.appendChild(it)}var st={column:rt.getColumn(),rowNode:rt.getRowNode(),type:"popupCellEditor",eventSource:nt,ePopup:Lt,keepWithinBounds:!0},bt=j.popupPosition==="under"?b.positionPopupUnderComponent.bind(b,st):b.positionPopupOverComponent.bind(b,st),gt=$.getLocaleTextFunc(),Et=b.addPopup({modal:wt,eChild:Lt,closeOnEsc:!0,closedCallback:function(){rt.onPopupEditorClosed()},anchorToElement:nt,positionCallback:bt,ariaLabel:gt("ariaLabelCellEditor","Cell Editor")}),ot=Et?Et.hideFunc:void 0;return c(Dt),a.jsChildComp&&a.jsChildComp.afterGuiAttached&&a.jsChildComp.afterGuiAttached(),function(){ot!=null&&ot(),g.destroyBean(Dt)}}),react_1$8.default.createElement(react_1$8.default.Fragment,null,e&&a.wrappedContent&&react_dom_1.createPortal(a.wrappedContent,e.getGui()))};popupEditorComp.default=react_1$8.memo(PopupEditorComp);var showJsRenderer={};Object.defineProperty(showJsRenderer,"__esModule",{value:!0});var react_1$7=reactExports,beansContext_1$5=beansContext,useEffectOnce_1$5=useEffectOnce,useJsCellRenderer=function(a,o,e,c,h,g){var b=react_1$7.useContext(beansContext_1$5.BeansContext),$=b.context;b.userComponentFactory;var j=react_1$7.useCallback(function(){var rt=h.current;if(rt){var nt=rt.getGui();nt&&nt.parentElement&&nt.parentElement.removeChild(nt),$.destroyBean(rt),h.current=void 0}},[]);react_1$7.useEffect(function(){var rt=a!=null,nt=a&&a.compDetails&&!a.compDetails.componentFromFramework,pt=o&&e==null,wt=rt&&nt&&!pt;if(!wt){j();return}var Dt=a.compDetails;if(h.current){var Lt=h.current,it=Lt.refresh!=null&&a.force==!1,st=it?Lt.refresh(Dt.params):!1,bt=st===!0||st===void 0;if(bt)return;j()}var gt=Dt.newAgStackInstance();if(gt){var Et=gt.resolveNow(null,function(Mt){return Mt});if(Et){var ot=Et.getGui();if(ot){var _t=o?e:g.current;_t.appendChild(ot),h.current=Et}}}},[a,o,c]),useEffectOnce_1$5.useEffectOnce(function(){return j})};showJsRenderer.default=useJsCellRenderer;(function(a){var o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(st){for(var bt,gt=1,Et=arguments.length;gt<Et;gt++){bt=arguments[gt];for(var ot in bt)Object.prototype.hasOwnProperty.call(bt,ot)&&(st[ot]=bt[ot])}return st},o.apply(this,arguments)},e=commonjsGlobal&&commonjsGlobal.__importStar||function(st){if(st&&st.__esModule)return st;var bt={};if(st!=null)for(var gt in st)Object.hasOwnProperty.call(st,gt)&&(bt[gt]=st[gt]);return bt.default=st,bt},c=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(a,"__esModule",{value:!0});var h=require$$0,g=e(reactExports),b=utils,$=c(popupEditorComp),j=c(showJsRenderer),rt=beansContext,nt=jsComp,pt=useEffectOnce;(function(st){st[st.ShowValue=0]="ShowValue",st[st.EditValue=1]="EditValue"})(a.CellCompState||(a.CellCompState={}));var wt=function(st,bt,gt){var Et=gt.getColumn();if(!st&&bt.isPopup&&bt.isPopup()){var ot="AG Grid: Found an issue in column "+Et.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";h._.doOnce(function(){return console.warn(ot)},"jsEditorComp-isPopup-"+gt.getColumn().getColId())}if(st&&bt.getPopupPosition&&bt.getPopupPosition()!=null){var _t="AG Grid: Found an issue in column "+Et.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";h._.doOnce(function(){return console.warn(_t)},"jsEditorComp-getPopupPosition-"+gt.getColumn().getColId())}},Dt=function(st,bt,gt,Et,ot,_t){var Mt=st.compDetails,Bt=Mt.componentClass,It=Mt.componentFromFramework&&!st.popup,jt=Mt.componentFromFramework&&st.popup,tr=!Mt.componentFromFramework&&st.popup;return g.default.createElement(g.default.Fragment,null,It&&g.default.createElement(Bt,o({},st.compDetails.params,{ref:bt})),jt&&g.default.createElement($.default,{editDetails:st,cellCtrl:ot,eParentCell:Et,wrappedContent:g.default.createElement(Bt,o({},st.compDetails.params,{ref:gt}))}),tr&&_t&&g.default.createElement($.default,{editDetails:st,cellCtrl:ot,eParentCell:Et,jsChildComp:_t}))},Lt=function(st,bt,gt,Et,ot,_t,Mt){var Bt,It=st.compDetails,jt=st.value,tr=!It,gr=It&&It.componentFromFramework,vr=It&&It.componentClass,hr=!((Bt=jt)===null||Bt===void 0)&&Bt.toString?jt.toString():jt,mr=function(){return g.default.createElement(g.default.Fragment,null,tr&&g.default.createElement(g.default.Fragment,null,hr),gr&&!_t&&g.default.createElement(vr,o({},It.params,{key:bt,ref:Et})),gr&&_t&&g.default.createElement(vr,o({},It.params,{key:bt})))};return g.default.createElement(g.default.Fragment,null,ot?g.default.createElement("span",{role:"presentation",id:"cell-"+gt,className:"ag-cell-value",ref:Mt},mr()):mr())},it=function(st){var bt=g.useContext(rt.BeansContext).context,gt=st.cellCtrl,Et=st.printLayout,ot=st.editingRow,_t=g.useState(),Mt=_t[0],Bt=_t[1],It=g.useState(),jt=It[0],tr=It[1],gr=g.useState(1),vr=gr[0],hr=gr[1],mr=g.useState(),Er=mr[0],Rr=mr[1],Cr=g.useState(),wr=Cr[0],Sr=Cr[1],br=g.useState(),xr=br[0],Or=br[1],In=g.useState(),Nn=In[0],Hn=In[1],Bn=g.useState(),qn=Bn[0],Wn=Bn[1],Yn=g.useState(),po=Yn[0],eo=Yn[1],wo=g.useState(!1),Vn=wo[0],Kn=wo[1],to=g.useState(!1),fs=to[0],hs=to[1],Cs=g.useState(!1),ps=Cs[0],ls=Cs[1],cs=g.useState(),ss=cs[0],os=cs[1],as=g.useMemo(function(){return gt.isForceWrapper()},[]),gs=g.useRef(null),vs=g.useRef(null),tn=g.useRef(),Pr=g.useRef(),Fn=g.useRef(),Zn=g.useState(0),so=Zn[0],rs=Zn[1],ns=g.useCallback(function(ys){Fn.current=ys,rs(function(ms){return ms+1})},[]),jr=g.useRef(),Qn=g.useState(0),co=Qn[0],us=Qn[1],zn=g.useCallback(function(ys){jr.current=ys,us(function(ms){return ms+1})},[]),ts=Mt!=null&&(Vn||ps||fs),Dr=as||ts,is=g.useCallback(function(ys,ms){if(Pr.current=ms,ms){wt(ys,ms,gt);var ds=ms.isCancelBeforeStart&&ms.isCancelBeforeStart();ds&&setTimeout(function(){return gt.stopEditing()},0)}},[]),ws=g.useCallback(function(ys){return is(!0,ys)},[]),yr=g.useCallback(function(ys){return is(!1,ys)},[]),lo=g.useMemo(function(){return new h.CssClassManager(function(){return gs.current})},[]);j.default(Mt,Dr,jr.current,co,tn,gs);var uo=g.useRef();g.useEffect(function(){var ys=uo.current,ms=Mt;if(uo.current=Mt,!(ys==null||ys.compDetails==null||ms==null||ms.compDetails==null)){var ds=ys.compDetails,Rs=ms.compDetails;if(ds.componentClass==Rs.componentClass&&!(vs.current==null||vs.current.refresh==null)){var Gs=vs.current.refresh(Rs.params);Gs!=!0&&hr(function(As){return As+1})}}},[Mt]),g.useEffect(function(){var ys,ms=jt&&!jt.compDetails.componentFromFramework;if(ms){var ds=jt.compDetails,Rs=jt.popup===!0,Gs=nt.createSyncJsComp(ds);if(Gs){var As=Gs.getGui();if(is(Rs,Gs),!Rs){var Ds=(as?Fn:gs).current;(ys=Ds)===null||ys===void 0||ys.appendChild(As),Gs.afterGuiAttached&&Gs.afterGuiAttached()}return os(Gs),function(){bt.destroyBean(Gs),is(Rs,void 0),os(void 0),As&&As.parentElement&&As.parentElement.removeChild(As)}}}},[jt]),g.useEffect(function(){if(!(!gt||!bt)&&(Or(Fn.current?"cell-"+gt.getInstanceId():void 0),!(!Fn.current||!Dr))){var ys=[],ms=function(ds){if(ds){var Rs=ds.getGui();Fn.current.insertAdjacentElement("afterbegin",Rs),ys.push(function(){bt.destroyBean(ds),h._.removeFromParent(Rs)})}return ds};return Vn&&ms(gt.createSelectionCheckbox()),ps&&ms(gt.createDndSource()),fs&&ms(gt.createRowDragComp()),function(){return ys.forEach(function(ds){return ds()})}}},[Dr,ps,fs,Vn,so]),pt.useLayoutEffectOnce(function(){if(gt){var ys={addOrRemoveCssClass:function(ds,Rs){return lo.addOrRemoveCssClass(ds,Rs)},setUserStyles:function(ds){return Rr(ds)},getFocusableElement:function(){return gs.current},setTabIndex:function(ds){return Sr(ds)},setRole:function(ds){return Hn(ds)},setColId:function(ds){return Wn(ds)},setTitle:function(ds){return eo(ds)},setIncludeSelection:function(ds){return Kn(ds)},setIncludeRowDrag:function(ds){return hs(ds)},setIncludeDndSource:function(ds){return ls(ds)},getCellEditor:function(){return Pr.current||null},getCellRenderer:function(){return vs.current?vs.current:tn.current},getParentOfValue:function(){return jr.current?jr.current:Fn.current?Fn.current:gs.current},setRenderDetails:function(ds,Rs,Gs){Bt({value:Rs,compDetails:ds,force:Gs})},setEditDetails:function(ds,Rs,Gs){ds?(tr({compDetails:ds,popup:Rs,popupPosition:Gs}),Rs||Bt(void 0)):tr(void 0)}},ms=Fn.current||void 0;gt.setComp(ys,gs.current,ms,Et,ot)}});var rn=g.useMemo(function(){var ys=Mt&&Mt.compDetails&&Mt.compDetails.componentFromFramework&&b.isComponentStateless(Mt.compDetails.componentClass);return!!ys},[Mt]);gs.current&&!Dr&&lo.addOrRemoveCssClass("ag-cell-value",!Dr);var Un=g.useMemo(function(){return gt.getInstanceId()},[]),vo=function(){return g.default.createElement(g.default.Fragment,null,Mt!=null&&Lt(Mt,vr,Un,vs,Dr,rn,zn),jt!=null&&Dt(jt,yr,ws,gs.current,gt,ss))};return g.default.createElement("div",{ref:gs,style:Er,tabIndex:wr,role:Nn,"col-id":qn,title:po,"aria-describedby":xr},Dr?g.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ns},vo()):vo())};a.default=g.memo(it)})(cellComp);var __assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$3.apply(this,arguments)},__spreadArrays$1=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var a=0,o=0,e=arguments.length;o<e;o++)a+=arguments[o].length;for(var c=Array(a),h=0,o=0;o<e;o++)for(var g=arguments[o],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c},__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rowComp,"__esModule",{value:!0});var react_1$6=__importStar$6(reactExports),ag_grid_community_1$5=require$$0,jsComp_1=jsComp,utils_1$3=utils,beansContext_1$4=beansContext,cellComp_1=__importDefault$4(cellComp),useEffectOnce_1$4=useEffectOnce,maintainOrderOnColumns=function(a,o,e){if(e){var c={list:o,instanceIdMap:new Map};return o.forEach(function(rt){return c.instanceIdMap.set(rt.getInstanceId(),rt)}),c}var h=[],g=[],b=new Map,$=new Map;o.forEach(function(rt){return $.set(rt.getInstanceId(),rt)}),a.list.forEach(function(rt){var nt=rt.getInstanceId();$.has(nt)&&(h.push(rt),b.set(nt,rt))}),o.forEach(function(rt){var nt=rt.getInstanceId();a.instanceIdMap.has(nt)||(g.push(rt),b.set(nt,rt))});var j={list:__spreadArrays$1(h,g),instanceIdMap:b};return j},RowComp=function(a){var o=react_1$6.useContext(beansContext_1$4.BeansContext).context,e=a.rowCtrl,c=a.containerType,h=react_1$6.useState(),g=h[0],b=h[1],$=react_1$6.useState(),j=$[0],rt=$[1],nt=react_1$6.useState(),pt=nt[0],wt=nt[1],Dt=react_1$6.useState(),Lt=Dt[0],it=Dt[1],st=react_1$6.useState(),bt=st[0],gt=st[1],Et=react_1$6.useState(),ot=Et[0],_t=Et[1],Mt=react_1$6.useState({list:[],instanceIdMap:new Map}),Bt=Mt[0],It=Mt[1],jt=react_1$6.useState(),tr=jt[0],gr=jt[1],vr=react_1$6.useState(!1),hr=vr[0],mr=vr[1],Er=react_1$6.useState(e.getInitialRowTop()),Rr=Er[0],Cr=Er[1],wr=react_1$6.useState(e.getInitialTransform()),Sr=wr[0],br=wr[1],xr=react_1$6.useRef(null),Or=react_1$6.useRef(),In=react_1$6.useRef(!1),Nn=react_1$6.useState(0),Hn=Nn[0],Bn=Nn[1];react_1$6.useEffect(function(){var Kn;if(!In.current&&tr&&!(Hn>10)){var to=(Kn=xr.current)===null||Kn===void 0?void 0:Kn.firstChild;to?(e.setupDetailRowAutoHeight(to),In.current=!0):Bn(function(fs){return fs+1})}},[tr,Hn]);var qn=react_1$6.useMemo(function(){return new ag_grid_community_1$5.CssClassManager(function(){return xr.current})},[]);useEffectOnce_1$4.useLayoutEffectOnce(function(){if(e.isAlive()){var Kn={setTop:function(to){return Cr(to)},setTransform:function(to){return br(to)},addOrRemoveCssClass:function(to,fs){return qn.addOrRemoveCssClass(to,fs)},setDomOrder:function(to){return mr(to)},setRowIndex:function(to){return b(to)},setRowId:function(to){return rt(to)},setRowBusinessKey:function(to){return it(to)},setTabIndex:function(to){return gt(to)},setUserStyles:function(to){return _t(to)},setRole:function(to){return wt(to)},setCellCtrls:function(to){return It(function(fs){return maintainOrderOnColumns(fs,to,hr)})},showFullWidth:function(to){return gr(to)},getFullWidthCellRenderer:function(){return Or.current}};e.setComp(Kn,xr.current,c)}}),react_1$6.useEffect(function(){return jsComp_1.showJsComp(tr,o,xr.current,Or)},[tr]);var Wn=react_1$6.useMemo(function(){var Kn={top:Rr,transform:Sr};return Object.assign(Kn,ot),Kn},[Rr,Sr,ot]),Yn=tr&&tr.componentFromFramework,po=Bt!=null,eo=react_1$6.useMemo(function(){var Kn,to=((Kn=tr)===null||Kn===void 0?void 0:Kn.componentFromFramework)&&utils_1$3.isComponentStateless(tr.componentClass);return!!to},[tr]),wo=function(){return Bt.list.map(function(Kn){return react_1$6.default.createElement(cellComp_1.default,{cellCtrl:Kn,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:Kn.getInstanceId()})})},Vn=function(){var Kn=tr.componentClass;return react_1$6.default.createElement(react_1$6.default.Fragment,null,eo&&react_1$6.default.createElement(Kn,__assign$3({},tr.params)),!eo&&react_1$6.default.createElement(Kn,__assign$3({},tr.params,{ref:Or})))};return react_1$6.default.createElement("div",{ref:xr,role:pt,style:Wn,"row-index":g,"row-id":j,"row-business-key":Lt,tabIndex:bt},po&&wo(),Yn&&Vn())};rowComp.default=react_1$6.memo(RowComp);var __spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var a=0,o=0,e=arguments.length;o<e;o++)a+=arguments[o].length;for(var c=Array(a),h=0,o=0;o<e;o++)for(var g=arguments[o],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c},__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rowContainerComp,"__esModule",{value:!0});var ag_grid_community_1$4=require$$0,react_1$5=__importStar$5(reactExports),utils_1$2=utils,reactComment_1$2=__importDefault$3(reactComment),rowComp_1=__importDefault$3(rowComp),beansContext_1$3=beansContext,useEffectOnce_1$3=useEffectOnce,RowContainerComp=function(a){var o=react_1$5.useContext(beansContext_1$3.BeansContext).context,e=react_1$5.useState(""),c=e[0],h=e[1],g=react_1$5.useState([]),b=g[0],$=g[1],j=react_1$5.useState([]),rt=j[0],nt=j[1],pt=react_1$5.useState(!1),wt=pt[0],Dt=pt[1],Lt=react_1$5.useState(""),it=Lt[0],st=Lt[1],bt=a.name,gt=react_1$5.useMemo(function(){return ag_grid_community_1$4.getRowContainerTypeForName(bt)},[bt]),Et=react_1$5.useRef(null),ot=react_1$5.useRef(null),_t=react_1$5.useRef(null),Mt=react_1$5.useMemo(function(){return ag_grid_community_1$4.RowContainerCtrl.getRowContainerCssClasses(bt)},[bt]),Bt=react_1$5.useMemo(function(){return utils_1$2.classesList(Mt.wrapper)},[]),It=react_1$5.useMemo(function(){return utils_1$2.classesList(Mt.viewport)},[]),jt=react_1$5.useMemo(function(){return utils_1$2.classesList(Mt.container)},[]),tr=bt===ag_grid_community_1$4.RowContainerName.CENTER,gr=bt===ag_grid_community_1$4.RowContainerName.TOP_CENTER||bt===ag_grid_community_1$4.RowContainerName.BOTTOM_CENTER||bt===ag_grid_community_1$4.RowContainerName.STICKY_TOP_CENTER,vr=!tr&&!gr,hr=tr?Et:gr?ot:_t;reactComment_1$2.default(" AG Row Container "+bt+" ",hr),react_1$5.useEffect(function(){$(function(Cr){if(wt)return rt;var wr=Cr.filter(function(xr){return rt.indexOf(xr)>=0}),Sr=rt.filter(function(xr){return wr.indexOf(xr)<0}),br=__spreadArrays(wr,Sr);return br})},[wt,rt]),useEffectOnce_1$3.useEffectOnce(function(){var Cr=[],wr={setViewportHeight:h,setRowCtrls:function(br){return nt(br)},setDomOrder:function(br){return Dt(br)},setContainerWidth:function(br){return st(br)}},Sr=o.createBean(new ag_grid_community_1$4.RowContainerCtrl(bt));return Cr.push(Sr),Sr.setComp(wr,_t.current,ot.current,Et.current),function(){o.destroyBeans(Cr)}});var mr=react_1$5.useMemo(function(){return{height:c}},[c]),Er=react_1$5.useMemo(function(){return{width:it}},[it]),Rr=function(){return react_1$5.default.createElement("div",{className:jt,ref:_t,role:rt.length?"rowgroup":"presentation",style:Er},b.map(function(Cr){return react_1$5.default.createElement(rowComp_1.default,{rowCtrl:Cr,containerType:gt,key:Cr.getInstanceId()})}))};return react_1$5.default.createElement(react_1$5.default.Fragment,null,tr&&react_1$5.default.createElement("div",{className:Bt,ref:Et,role:"presentation"},react_1$5.default.createElement("div",{className:It,ref:ot,role:"presentation",style:mr},Rr())),gr&&react_1$5.default.createElement("div",{className:It,ref:ot,role:"presentation",style:mr},Rr()),vr&&Rr())};rowContainerComp.default=react_1$5.memo(RowContainerComp);var __importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gridBodyComp,"__esModule",{value:!0});var ag_grid_community_1$3=require$$0,react_1$4=__importStar$4(reactExports),beansContext_1$2=beansContext,gridHeaderComp_1=__importDefault$2(gridHeaderComp),reactComment_1$1=__importDefault$2(reactComment),rowContainerComp_1=__importDefault$2(rowContainerComp),useEffectOnce_1$2=useEffectOnce,utils_1$1=utils,GridBodyComp=function(){var a=react_1$4.useContext(beansContext_1$2.BeansContext),o=a.context,e=a.agStackComponentsRegistry,c=a.resizeObserverService,h=react_1$4.useState(""),g=h[0],b=h[1],$=react_1$4.useState(0),j=$[0],rt=$[1],nt=react_1$4.useState(0),pt=nt[0],wt=nt[1],Dt=react_1$4.useState(0),Lt=Dt[0],it=Dt[1],st=react_1$4.useState(0),bt=st[0],gt=st[1],Et=react_1$4.useState("0px"),ot=Et[0],_t=Et[1],Mt=react_1$4.useState("0px"),Bt=Mt[0],It=Mt[1],jt=react_1$4.useState("100%"),tr=jt[0],gr=jt[1],vr=react_1$4.useState(""),hr=vr[0],mr=vr[1],Er=react_1$4.useState(""),Rr=Er[0],Cr=Er[1],wr=react_1$4.useState(null),Sr=wr[0],br=wr[1],xr=react_1$4.useState(null),Or=xr[0],In=xr[1],Nn=react_1$4.useState(""),Hn=Nn[0],Bn=Nn[1],qn=react_1$4.useState(null),Wn=qn[0],Yn=qn[1],po=react_1$4.useState("ag-layout-normal"),eo=po[0],wo=po[1],Vn=react_1$4.useRef(null),Kn=react_1$4.useRef(null),to=react_1$4.useRef(null),fs=react_1$4.useRef(null),hs=react_1$4.useRef(null);reactComment_1$1.default(" AG Grid Body ",Vn),reactComment_1$1.default(" AG Pinned Top ",Kn),reactComment_1$1.default(" AG Sticky Top ",to),reactComment_1$1.default(" AG Middle ",fs),reactComment_1$1.default(" AG Pinned Bottom ",hs),useEffectOnce_1$2.useEffectOnce(function(){var Pr=[],Fn=[];if(o){var Zn=function(ns){var jr=e.getComponentClass(ns),Qn=o.createBean(new jr);return Pr.push(Qn),Qn};Vn.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),Vn.current.appendChild(Zn("AG-FAKE-HORIZONTAL-SCROLL").getGui()),Vn.current.appendChild(document.createComment(" AG Overlay Wrapper ")),Vn.current.appendChild(Zn("AG-OVERLAY-WRAPPER").getGui());var so={setRowAnimationCssOnBodyViewport:b,setColumnCount:rt,setRowCount:wt,setTopHeight:it,setBottomHeight:gt,setStickyTopHeight:_t,setStickyTopTop:It,setStickyTopWidth:gr,setTopDisplay:mr,setBottomDisplay:Cr,setColumnMovingCss:br,updateLayoutClasses:wo,setAlwaysVerticalScrollClass:In,setPinnedTopBottomOverflowY:Bn,setCellSelectableCss:Yn,registerBodyViewportResizeListener:function(ns){var jr=c.observeResize(fs.current,ns);Fn.push(function(){return jr()})}},rs=o.createBean(new ag_grid_community_1$3.GridBodyCtrl);return Pr.push(rs),rs.setComp(so,Vn.current,fs.current,Kn.current,hs.current,to.current),function(){o.destroyBeans(Pr),Fn.forEach(function(ns){return ns()})}}});var Cs=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-root","ag-unselectable",Sr,eo)},[Sr,eo]),ps=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-body-viewport",g,eo,Or,Wn)},[g,eo,Or,Wn]),ls=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-floating-top",Wn)},[Wn]),cs=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-sticky-top",Wn)},[Wn]),ss=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-floating-bottom",Wn)},[Wn]),os=react_1$4.useMemo(function(){return{height:Lt,minHeight:Lt,display:hr,overflowY:Hn}},[Lt,hr,Hn]),as=react_1$4.useMemo(function(){return{height:ot,top:Bt,width:tr}},[ot,Bt,tr]),gs=react_1$4.useMemo(function(){return{height:bt,minHeight:bt,display:Rr,overflowY:Hn}},[bt,Rr,Hn]),vs=function(Pr){return react_1$4.default.createElement(rowContainerComp_1.default,{name:Pr,key:Pr+"-container"})},tn=function(Pr){var Fn=Pr.section,Zn=Pr.children,so=Pr.className,rs=Pr.style;return react_1$4.default.createElement("div",{ref:Fn,className:so,role:"presentation",style:rs},Zn.map(vs))};return react_1$4.default.createElement("div",{ref:Vn,className:Cs,role:"grid","aria-colcount":j,"aria-rowcount":pt},react_1$4.default.createElement(gridHeaderComp_1.default,null),tn({section:Kn,className:ls,style:os,children:[ag_grid_community_1$3.RowContainerName.TOP_LEFT,ag_grid_community_1$3.RowContainerName.TOP_CENTER,ag_grid_community_1$3.RowContainerName.TOP_RIGHT,ag_grid_community_1$3.RowContainerName.TOP_FULL_WIDTH]}),tn({section:fs,className:ps,children:[ag_grid_community_1$3.RowContainerName.LEFT,ag_grid_community_1$3.RowContainerName.CENTER,ag_grid_community_1$3.RowContainerName.RIGHT,ag_grid_community_1$3.RowContainerName.FULL_WIDTH]}),tn({section:to,className:cs,style:as,children:[ag_grid_community_1$3.RowContainerName.STICKY_TOP_LEFT,ag_grid_community_1$3.RowContainerName.STICKY_TOP_CENTER,ag_grid_community_1$3.RowContainerName.STICKY_TOP_RIGHT,ag_grid_community_1$3.RowContainerName.STICKY_TOP_FULL_WIDTH]}),tn({section:hs,className:ss,style:gs,children:[ag_grid_community_1$3.RowContainerName.BOTTOM_LEFT,ag_grid_community_1$3.RowContainerName.BOTTOM_CENTER,ag_grid_community_1$3.RowContainerName.BOTTOM_RIGHT,ag_grid_community_1$3.RowContainerName.BOTTOM_FULL_WIDTH]}))};gridBodyComp.default=react_1$4.memo(GridBodyComp);var tabGuardComp={},__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(tabGuardComp,"__esModule",{value:!0});var react_1$3=__importStar$3(reactExports),ag_grid_community_1$2=require$$0,beansContext_1$1=beansContext,useEffectOnce_1$1=useEffectOnce,TabGuardCompRef=function(a,o){var e=a.children,c=a.eFocusableElement,h=a.onTabKeyDown,g=a.gridCtrl,b=react_1$3.useContext(beansContext_1$1.BeansContext).context,$=react_1$3.useRef(null),j=react_1$3.useRef(null),rt=react_1$3.useRef(),nt=react_1$3.useState(),pt=nt[0],wt=nt[1];react_1$3.useImperativeHandle(o,function(){return{forceFocusOutOfContainer:function(){rt.current.forceFocusOutOfContainer()}}}),useEffectOnce_1$1.useEffectOnce(function(){var Lt=$.current,it=j.current,st={setTabIndex:function(gt){return gt==null?wt(void 0):wt(parseInt(gt,10))}},bt=rt.current=b.createBean(new ag_grid_community_1$2.TabGuardCtrl({comp:st,eTopGuard:Lt,eBottomGuard:it,eFocusableElement:c,onTabKeyDown:h,focusInnerElement:function(gt){return g.focusInnerElement(gt)}}));return function(){b.destroyBean(bt)}});var Dt=function(Lt){return react_1$3.default.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+Lt,role:"presentation",tabIndex:pt,ref:Lt==="top"?$:j})};return react_1$3.default.createElement(react_1$3.default.Fragment,null,Dt("top"),e,Dt("bottom"))},TabGuardComp=react_1$3.forwardRef(TabGuardCompRef);tabGuardComp.default=react_1$3.memo(TabGuardComp);var __importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gridComp,"__esModule",{value:!0});var ag_grid_community_1$1=require$$0,react_1$2=__importStar$2(reactExports),beansContext_1=beansContext,gridBodyComp_1=__importDefault$1(gridBodyComp),reactComment_1=__importDefault$1(reactComment),tabGuardComp_1=__importDefault$1(tabGuardComp),useEffectOnce_1=useEffectOnce,utils_1=utils,GridComp=function(a){var o=a.context,e=react_1$2.useState(""),c=e[0],h=e[1],g=react_1$2.useState(""),b=g[0],$=g[1],j=react_1$2.useState(""),rt=j[0],nt=j[1],pt=react_1$2.useState(null),wt=pt[0],Dt=pt[1],Lt=react_1$2.useState(null),it=Lt[0],st=Lt[1],bt=react_1$2.useState(!1),gt=bt[0],Et=bt[1],ot=react_1$2.useState(),_t=ot[0],Mt=ot[1],Bt=react_1$2.useRef(null),It=react_1$2.useRef(null),jt=react_1$2.useRef(),tr=react_1$2.useRef(null),gr=react_1$2.useRef(function(){}),vr=react_1$2.useCallback(function(){},[]),hr=react_1$2.useMemo(function(){return o.getBean("beans")},[]);reactComment_1.default(" AG Grid ",It),useEffectOnce_1.useEffectOnce(function(){var Sr=Bt.current=o.createBean(new ag_grid_community_1$1.GridCtrl);return function(){o.destroyBean(Sr),Bt.current=null}}),useEffectOnce_1.useEffectOnce(function(){var Sr=Bt.current;gr.current=Sr.focusInnerElement.bind(Sr);var br={destroyGridUi:function(){},setRtlClass:h,addOrRemoveKeyboardFocusClass:function(xr){return $(xr?ag_grid_community_1$1.FocusService.AG_KEYBOARD_FOCUS:"")},forceFocusOutOfContainer:function(){jt.current.forceFocusOutOfContainer()},updateLayoutClasses:nt,getFocusableContainers:function(){var xr=[],Or=It.current.querySelector(".ag-root"),In=It.current.querySelector(".ag-side-bar");return Or&&xr.push(Or),In&&xr.push(In),xr},setCursor:Dt,setUserSelect:st};Sr.setComp(br,It.current,It.current),Et(!0)}),react_1$2.useEffect(function(){if(_t){var Sr=Bt.current,br=[],xr=hr.agStackComponentsRegistry,Or=xr.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),In=xr.getComponentClass("AG-SIDE-BAR"),Nn=xr.getComponentClass("AG-STATUS-BAR"),Hn=xr.getComponentClass("AG-WATERMARK"),Bn=xr.getComponentClass("AG-PAGINATION"),qn=[],Wn=It.current,Yn=tr.current;if(Sr.showDropZones()&&Or){var po=o.createBean(new Or),eo=po.getGui();Wn.insertAdjacentElement("afterbegin",eo),qn.push(eo),br.push(po)}if(Sr.showSideBar()&&In){var wo=o.createBean(new In),eo=wo.getGui(),Vn=Yn.querySelector(".ag-tab-guard-bottom");Vn&&(Vn.insertAdjacentElement("beforebegin",eo),qn.push(eo)),br.push(wo)}if(Sr.showStatusBar()&&Nn){var Kn=o.createBean(new Nn),eo=Kn.getGui();Wn.insertAdjacentElement("beforeend",eo),qn.push(eo),br.push(Kn)}if(Bn){var to=o.createBean(new Bn),eo=to.getGui();Wn.insertAdjacentElement("beforeend",eo),qn.push(eo),br.push(to)}if(Sr.showWatermark()&&Hn){var fs=o.createBean(new Hn),eo=fs.getGui();Wn.insertAdjacentElement("beforeend",eo),qn.push(eo),br.push(fs)}return function(){o.destroyBeans(br),qn.forEach(function(hs){hs.parentElement&&hs.parentElement.removeChild(hs)})}}},[_t]);var mr=react_1$2.useMemo(function(){return utils_1.classesList("ag-root-wrapper",c,b,rt)},[c,b,rt]),Er=react_1$2.useMemo(function(){return utils_1.classesList("ag-root-wrapper-body","ag-focus-managed",rt)},[rt]),Rr=react_1$2.useMemo(function(){return{userSelect:it??"",WebkitUserSelect:it??"",cursor:wt??""}},[it,wt]),Cr=tr.current,wr=react_1$2.useCallback(function(Sr){jt.current=Sr,Mt(!0)},[]);return react_1$2.default.createElement("div",{ref:It,className:mr,style:Rr,role:"presentation"},react_1$2.default.createElement("div",{className:Er,ref:tr,role:"presentation"},gt&&Cr&&react_1$2.default.createElement(beansContext_1.BeansContext.Provider,{value:hr},react_1$2.default.createElement(tabGuardComp_1.default,{ref:wr,eFocusableElement:Cr,onTabKeyDown:vr,gridCtrl:Bt.current},react_1$2.default.createElement(gridBodyComp_1.default,null)))))};gridComp.default=react_1$2.memo(GridComp);var hasRequiredAgGridReactUi;function requireAgGridReactUi(){if(hasRequiredAgGridReactUi)return agGridReactUi;hasRequiredAgGridReactUi=1;var a=commonjsGlobal&&commonjsGlobal.__extends||function(){var it=function(st,bt){return it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,Et){gt.__proto__=Et}||function(gt,Et){for(var ot in Et)Et.hasOwnProperty(ot)&&(gt[ot]=Et[ot])},it(st,bt)};return function(st,bt){it(st,bt);function gt(){this.constructor=st}st.prototype=bt===null?Object.create(bt):(gt.prototype=bt.prototype,new gt)}}(),o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(it){for(var st,bt=1,gt=arguments.length;bt<gt;bt++){st=arguments[bt];for(var Et in st)Object.prototype.hasOwnProperty.call(st,Et)&&(it[Et]=st[Et])}return it},o.apply(this,arguments)},e=commonjsGlobal&&commonjsGlobal.__importStar||function(it){if(it&&it.__esModule)return it;var st={};if(it!=null)for(var bt in it)Object.hasOwnProperty.call(it,bt)&&(st[bt]=it[bt]);return st.default=it,st},c=commonjsGlobal&&commonjsGlobal.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(agGridReactUi,"__esModule",{value:!0});var h=require$$0,g=e(reactExports),b=agGridColumn,$=changeDetectionService,j=newReactComponent,rt=portalManager,nt=c(gridComp),pt=requireReactFrameworkOverrides();function wt(it,st){}var Dt=function(it){a(st,it);function st(bt){var gt=it.call(this,bt)||this;return gt.props=bt,gt.destroyFuncs=[],gt.changeDetectionService=new $.ChangeDetectionService,gt.eGui=g.default.createRef(),gt.whenReadyFuncs=[],gt.ready=!1,gt.renderedAfterMount=!1,gt.mounted=!1,gt.state={context:void 0},gt.portalManager=new rt.PortalManager(gt,bt.componentWrappingElement,bt.maxComponentCreationTimeMs),gt.destroyFuncs.push(function(){return gt.portalManager.destroy()}),gt}return st.prototype.render=function(){return""+this.state.context,this.state.context&&(this.renderedAfterMount=!0),g.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&g.default.createElement(nt.default,{context:this.state.context}),this.portalManager.getPortals())},st.prototype.createStyleForDiv=function(){return o({height:"100%"},this.props.containerStyle||{})},st.prototype.componentDidMount=function(){var bt=this;if(!this.mounted){this.mounted=!0;var gt=this.props.modules||[],Et={providedBeanInstances:{frameworkComponentWrapper:new Lt(this.portalManager)},modules:gt,frameworkOverrides:new pt.ReactFrameworkOverrides(!0)};this.gridOptions=this.props.gridOptions||{};var ot=this.props.children;b.AgGridColumn.hasChildColumns(ot)&&(this.gridOptions.columnDefs=b.AgGridColumn.mapChildColumnDefs(ot)),this.gridOptions=h.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props);var _t=function(It){bt.setState({context:It});var jt=It.getBean(h.CtrlsService.NAME);jt.whenReady(function(){bt.api=bt.gridOptions.api,bt.columnApi=bt.gridOptions.columnApi,bt.props.setGridApi(bt.api,bt.columnApi),bt.destroyFuncs.push(function(){return bt.api.destroy()})})},Mt=function(It){var jt=It.getBean(h.CtrlsService.NAME);jt.whenReady(function(){bt.whenReadyFuncs.forEach(function(tr){return tr()}),bt.whenReadyFuncs.length=0,bt.ready=!0})},Bt=new h.GridCoreCreator;Bt.create(this.eGui.current,this.gridOptions,_t,Mt,Et)}},st.prototype.componentWillUnmount=function(){this.renderedAfterMount&&(this.destroyFuncs.forEach(function(bt){return bt()}),this.destroyFuncs.length=0)},st.prototype.componentDidUpdate=function(bt){this.processPropsChanges(bt,this.props)},st.prototype.processPropsChanges=function(bt,gt){var Et={};this.extractGridPropertyChanges(bt,gt,Et),this.extractDeclarativeColDefChanges(gt,Et),this.processChanges(Et)},st.prototype.extractDeclarativeColDefChanges=function(bt,gt){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var Et=!!bt.debug,ot="columnDefs",_t=this.gridOptions.columnDefs;if(b.AgGridColumn.hasChildColumns(bt.children)){var Mt=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(ot)),Bt=b.AgGridColumn.mapChildColumnDefs(bt.children);Mt.areEqual(_t,Bt)||(Et&&console.log("agGridReact: colDefs definitions changed"),gt[ot]={previousValue:_t,currentValue:Bt})}else _t&&_t.length>0&&(gt[ot]={previousValue:_t,currentValue:[]})}},st.prototype.extractGridPropertyChanges=function(bt,gt,Et){var ot=this,_t=!!gt.debug;Object.keys(gt).forEach(function(Mt){if(h._.includes(h.ComponentUtil.ALL_PROPERTIES,Mt)){var Bt=ot.changeDetectionService.getStrategy(ot.getStrategyTypeForProp(Mt));Bt.areEqual(bt[Mt],gt[Mt])||(_t&&console.log("agGridReact: ["+Mt+"] property changed"),Et[Mt]={previousValue:bt[Mt],currentValue:gt[Mt]})}}),h.ComponentUtil.getEventCallbacks().forEach(function(Mt){bt[Mt]!==gt[Mt]&&(_t&&console.log("agGridReact: ["+Mt+"] event callback changed"),Et[Mt]={previousValue:bt[Mt],currentValue:gt[Mt]})})},st.prototype.processChanges=function(bt){var gt=this;this.processWhenReady(function(){return h.ComponentUtil.processOnChange(bt,gt.gridOptions,gt.api,gt.columnApi)})},st.prototype.processWhenReady=function(bt){this.ready?bt():this.whenReadyFuncs.push(bt)},st.prototype.getStrategyTypeForProp=function(bt){if(bt==="rowData"){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return $.ChangeDetectionStrategyType.IdentityCheck}return $.ChangeDetectionStrategyType.DeepValueCheck},st.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.getRowId!=null||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||this.props.gridOptions.getRowId!=null)},st}(g.Component);agGridReactUi.AgGridReactUi=Dt;var Lt=function(it){a(st,it);function st(bt){var gt=it.call(this)||this;return gt.parent=bt,gt}return st.prototype.createWrapper=function(bt,gt){return new j.NewReactComponent(bt,this.parent,gt)},st}(h.BaseComponentWrapper);return agGridReactUi}var hasRequiredDetailCellRenderer;function requireDetailCellRenderer(){if(hasRequiredDetailCellRenderer)return detailCellRenderer;hasRequiredDetailCellRenderer=1;var a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(j){for(var rt,nt=1,pt=arguments.length;nt<pt;nt++){rt=arguments[nt];for(var wt in rt)Object.prototype.hasOwnProperty.call(rt,wt)&&(j[wt]=rt[wt])}return j},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__importStar||function(j){if(j&&j.__esModule)return j;var rt={};if(j!=null)for(var nt in j)Object.hasOwnProperty.call(j,nt)&&(rt[nt]=j[nt]);return rt.default=j,rt};Object.defineProperty(detailCellRenderer,"__esModule",{value:!0});var e=o(reactExports),c=utils,h=beansContext,g=requireAgGridReactUi(),b=useEffectOnce,$=function(j,rt){var nt=e.useContext(h.BeansContext),pt=nt.ctrlsFactory,wt=nt.context,Dt=nt.gridOptionsWrapper,Lt=nt.resizeObserverService,it=nt.clientSideRowModel,st=nt.serverSideRowModel,bt=e.useState(new c.CssClasses),gt=bt[0],Et=bt[1],ot=e.useState(new c.CssClasses),_t=ot[0],Mt=ot[1],Bt=e.useState(),It=Bt[0],jt=Bt[1],tr=e.useState(),gr=tr[0],vr=tr[1],hr=e.useRef(),mr=e.useRef(null),Er=e.useMemo(function(){return gt.toString()+" ag-details-row"},[gt]),Rr=e.useMemo(function(){return _t.toString()+" ag-details-grid"},[_t]);rt&&e.useImperativeHandle(rt,function(){return{refresh:function(){return hr.current.refresh()}}}),b.useEffectOnce(function(){j.template&&typeof j.template=="string"&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),b.useEffectOnce(function(){var wr={addOrRemoveCssClass:function(Or,In){return Et(function(Nn){return Nn.setClass(Or,In)})},addOrRemoveDetailGridCssClass:function(Or,In){return Mt(function(Nn){return Nn.setClass(Or,In)})},setDetailGrid:function(Or){return jt(Or)},setRowData:function(Or){return vr(Or)},getGui:function(){return mr.current}},Sr=pt.getInstance("detailCellRenderer");if(Sr){wt.createBean(Sr),Sr.init(wr,j),hr.current=Sr;var br;if(Dt.isDetailRowAutoHeight()){var xr=function(){if(mr.current!=null){var Or=mr.current.clientHeight;if(Or!=null&&Or>0){var In=function(){j.node.setRowHeight(Or),it?it.onRowHeightChanged():st&&st.onRowHeightChanged()};setTimeout(In,0)}}};br=Lt.observeResize(mr.current,xr),xr()}return function(){wt.destroyBean(Sr),br&&br()}}});var Cr=e.useCallback(function(wr,Sr){hr.current.registerDetailWithMaster(wr,Sr)},[]);return e.default.createElement("div",{className:Er,ref:mr},It&&e.default.createElement(g.AgGridReactUi,a({className:Rr},It,{rowData:gr,setGridApi:Cr})))};return detailCellRenderer.default=e.forwardRef($),detailCellRenderer}var hasRequiredReactFrameworkOverrides;function requireReactFrameworkOverrides(){if(hasRequiredReactFrameworkOverrides)return reactFrameworkOverrides;hasRequiredReactFrameworkOverrides=1;var a=commonjsGlobal&&commonjsGlobal.__extends||function(){var b=function($,j){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,nt){rt.__proto__=nt}||function(rt,nt){for(var pt in nt)nt.hasOwnProperty(pt)&&(rt[pt]=nt[pt])},b($,j)};return function($,j){b($,j);function rt(){this.constructor=$}$.prototype=j===null?Object.create(j):(rt.prototype=j.prototype,new rt)}}(),o=commonjsGlobal&&commonjsGlobal.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(reactFrameworkOverrides,"__esModule",{value:!0});var e=require$$0,c=o(groupCellRenderer),h=o(requireDetailCellRenderer()),g=function(b){a($,b);function $(j){var rt=b.call(this)||this;return rt.frameworkComponents={agGroupCellRenderer:c.default,agGroupRowRenderer:c.default,agDetailCellRenderer:h.default},rt.reactUi=j,rt}return $.prototype.frameworkComponent=function(j){if(this.reactUi)return this.frameworkComponents[j]},$.prototype.isFrameworkComponent=function(j){if(!j)return!1;var rt=j.prototype,nt=rt&&"getGui"in rt;return!nt},$}(e.VanillaFrameworkOverrides);return reactFrameworkOverrides.ReactFrameworkOverrides=g,reactFrameworkOverrides}var __extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$2.apply(this,arguments)},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(agGridReactLegacy,"__esModule",{value:!0});var ag_grid_community_1=require$$0,prop_types_1=__importDefault(propTypesExports),react_1$1=__importStar$1(reactExports),legacyReactComponent_1=legacyReactComponent,agGridColumn_1=agGridColumn,changeDetectionService_1=changeDetectionService,newReactComponent_1=newReactComponent,portalManager_1=portalManager,reactFrameworkOverrides_1=requireReactFrameworkOverrides(),AgGridReactLegacy=function(a){__extends$1(o,a);function o(e){var c=a.call(this,e)||this;return c.props=e,c.changeDetectionService=new changeDetectionService_1.ChangeDetectionService,c.api=null,c.destroyed=!1,c.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],c.portalManager=new portalManager_1.PortalManager(c,e.componentWrappingElement,e.maxComponentCreationTimeMs),c}return o.prototype.render=function(){var e=this;return react_1$1.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(c){e.eGridDiv=c}},this.portalManager.getPortals())},o.prototype.createStyleForDiv=function(){return __assign$2({height:"100%"},this.props.containerStyle||{})},o.prototype.componentDidMount=function(){var e=this.props.modules||[],c={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new ReactFrameworkComponentWrapper(this,this.portalManager)},modules:e,frameworkOverrides:new reactFrameworkOverrides_1.ReactFrameworkOverrides(!1)},h=this.props.gridOptions||{},g=this.props.children;agGridColumn_1.AgGridColumn.hasChildColumns(g)&&(h.columnDefs=agGridColumn_1.AgGridColumn.mapChildColumnDefs(g)),this.gridOptions=ag_grid_community_1.ComponentUtil.copyAttributesToGridOptions(h,this.props),new ag_grid_community_1.Grid(this.eGridDiv,this.gridOptions,c),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)},o.prototype.getStrategyTypeForProp=function(e){if(e==="rowData"){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return changeDetectionService_1.ChangeDetectionStrategyType.IdentityCheck}return changeDetectionService_1.ChangeDetectionStrategyType.DeepValueCheck},o.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.getRowId!=null||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||this.props.gridOptions.getRowId!=null)},o.prototype.shouldComponentUpdate=function(e){return this.processPropsChanges(this.props,e),!1},o.prototype.componentDidUpdate=function(e){this.processPropsChanges(e,this.props)},o.prototype.processPropsChanges=function(e,c){var h={};this.extractGridPropertyChanges(e,c,h),this.extractDeclarativeColDefChanges(c,h),this.processSynchronousChanges(h),this.processAsynchronousChanges(h)},o.prototype.extractDeclarativeColDefChanges=function(e,c){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var h=!!e.debug,g="columnDefs",b=this.gridOptions.columnDefs;if(agGridColumn_1.AgGridColumn.hasChildColumns(e.children)){var $=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(g)),j=agGridColumn_1.AgGridColumn.mapChildColumnDefs(e.children);$.areEqual(b,j)||(h&&console.log("agGridReact: colDefs definitions changed"),c[g]={previousValue:b,currentValue:j})}else b&&b.length>0&&(c[g]={previousValue:b,currentValue:[]})}},o.prototype.extractGridPropertyChanges=function(e,c,h){var g=this,b=!!c.debug;Object.keys(c).forEach(function($){if(ag_grid_community_1._.includes(ag_grid_community_1.ComponentUtil.ALL_PROPERTIES,$)){var j=g.changeDetectionService.getStrategy(g.getStrategyTypeForProp($));j.areEqual(e[$],c[$])||(b&&console.log("agGridReact: ["+$+"] property changed"),h[$]={previousValue:e[$],currentValue:c[$]})}}),ag_grid_community_1.ComponentUtil.getEventCallbacks().forEach(function($){e[$]!==c[$]&&(b&&console.log("agGridReact: ["+$+"] event callback changed"),h[$]={previousValue:e[$],currentValue:c[$]})})},o.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()},o.prototype.isDisableStaticMarkup=function(){return this.props.disableStaticMarkup===!0},o.prototype.isLegacyComponentRendering=function(){return this.props.legacyComponentRendering===!0},o.prototype.processSynchronousChanges=function(e){var c=__assign$2({},e);if(Object.keys(c).length>0){var h={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(function(g){c[g]&&(h[g]=c[g],delete c[g])}),Object.keys(h).length>0&&this.api&&ag_grid_community_1.ComponentUtil.processOnChange(h,this.gridOptions,this.api,this.columnApi)}return c},o.prototype.processAsynchronousChanges=function(e){var c=this;Object.keys(e).length>0&&window.setTimeout(function(){c.api&&ag_grid_community_1.ComponentUtil.processOnChange(e,c.gridOptions,c.api,c.columnApi)})},o.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,o.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:o.MAX_COMPONENT_CREATION_TIME_IN_MS},o}(react_1$1.Component);agGridReactLegacy.AgGridReactLegacy=AgGridReactLegacy;AgGridReactLegacy.propTypes={gridOptions:prop_types_1.default.object};addProperties(ag_grid_community_1.ComponentUtil.getEventCallbacks(),prop_types_1.default.func);addProperties(ag_grid_community_1.ComponentUtil.BOOLEAN_PROPERTIES,prop_types_1.default.bool);addProperties(ag_grid_community_1.ComponentUtil.STRING_PROPERTIES,prop_types_1.default.string);addProperties(ag_grid_community_1.ComponentUtil.OBJECT_PROPERTIES,prop_types_1.default.object);addProperties(ag_grid_community_1.ComponentUtil.ARRAY_PROPERTIES,prop_types_1.default.array);addProperties(ag_grid_community_1.ComponentUtil.NUMBER_PROPERTIES,prop_types_1.default.number);addProperties(ag_grid_community_1.ComponentUtil.FUNCTION_PROPERTIES,prop_types_1.default.func);function addProperties(a,o){a.forEach(function(e){AgGridReactLegacy[e]=o})}var ReactFrameworkComponentWrapper=function(a){__extends$1(o,a);function o(e,c){var h=a.call(this)||this;return h.agGridReact=e,h.portalManager=c,h}return o.prototype.createWrapper=function(e,c){return this.agGridReact.isLegacyComponentRendering()?new legacyReactComponent_1.LegacyReactComponent(e,this.agGridReact,this.portalManager,c):new newReactComponent_1.NewReactComponent(e,this.portalManager,c)},o}(ag_grid_community_1.BaseComponentWrapper),__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var a=function(o,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(o,e)};return function(o,e){a(o,e);function c(){this.constructor=o}o.prototype=e===null?Object.create(e):(c.prototype=e.prototype,new c)}}(),__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(a){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])}return a},__assign$1.apply(this,arguments)},__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var e in a)Object.hasOwnProperty.call(a,e)&&(o[e]=a[e]);return o.default=a,o};Object.defineProperty(agGridReact,"__esModule",{value:!0});var react_1=__importStar(reactExports),agGridReactLegacy_1=agGridReactLegacy,agGridReactUi_1=requireAgGridReactUi(),AgGridReact=function(a){__extends(o,a);function o(){var e=a!==null&&a.apply(this,arguments)||this;return e.setGridApi=function(c,h){e.api=c,e.columnApi=h},e}return o.prototype.render=function(){var e=this.props.suppressReactUi?react_1.default.createElement(agGridReactLegacy_1.AgGridReactLegacy,__assign$1({},this.props,{setGridApi:this.setGridApi})):react_1.default.createElement(agGridReactUi_1.AgGridReactUi,__assign$1({},this.props,{setGridApi:this.setGridApi}));return e},o}(react_1.Component);agGridReact.AgGridReact=AgGridReact;main.AgGridReact=agGridReact.AgGridReact;main.AgGridColumn=agGridColumn.AgGridColumn;main.ChangeDetectionStrategyType=changeDetectionService.ChangeDetectionStrategyType;main.AgGridReactUi=requireAgGridReactUi().AgGridReactUi;var ColumnSelector$1={};function _typeof$3(a){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$3(a)}Object.defineProperty(ColumnSelector$1,"__esModule",{value:!0});ColumnSelector$1.default=void 0;var _react$3=_interopRequireDefault$3(reactExports);function _interopRequireDefault$3(a){return a&&a.__esModule?a:{default:a}}function ownKeys(a,o){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);o&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),e.push.apply(e,c)}return e}function _objectSpread(a){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(e),!0).forEach(function(c){_defineProperty$1(a,c,e[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(e,c))})}return a}function _classCallCheck$3(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(a,o){for(var e=0;e<o.length;e++){var c=o[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$3(a,o,e){return o&&_defineProperties$3(a.prototype,o),e&&_defineProperties$3(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$3(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&_setPrototypeOf$3(a,o)}function _setPrototypeOf$3(a,o){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$3(a,o)}function _createSuper$3(a){var o=_isNativeReflectConstruct$3();return function(){var c=_getPrototypeOf$3(a),h;if(o){var g=_getPrototypeOf$3(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$3(this,h)}}function _possibleConstructorReturn$3(a,o){if(o&&(_typeof$3(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(a)}function _assertThisInitialized$3(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$3(a){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf$3(a)}function _defineProperty$1(a,o,e){return o in a?Object.defineProperty(a,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[o]=e,a}function parseInitTicks(a){var o={};return a.map(function(e){o[e.field]="hide"in e?!e.hide:!0}),o}var ColumnSelector=function(a){_inherits$3(e,a);var o=_createSuper$3(e);function e(c){var h;return _classCallCheck$3(this,e),h=o.call(this,c),_defineProperty$1(_assertThisInitialized$3(h),"handleToggle",function(g){var b=_objectSpread({},h.state.ticks);b[g.target.name]=g.target.checked,h.setState({ticks:b}),h.props.onColumnToggle(b)}),_defineProperty$1(_assertThisInitialized$3(h),"showCheckboxes",function(g){h.setState({dropdown_show:!h.state.dropdown_show})}),h.state={ticks:parseInitTicks(h.props.colDefs),dropdown_show:!1},h.handleToggle=h.handleToggle.bind(_assertThisInitialized$3(h)),h.showCheckboxes=h.showCheckboxes.bind(_assertThisInitialized$3(h)),h}return _createClass$3(e,[{key:"render",value:function(){var h=this,g="column-dropdown-content";return this.state.dropdown_show&&(g+=" show"),_react$3.default.createElement("div",null,_react$3.default.createElement("div",{className:"column-dropdown"},_react$3.default.createElement("button",{className:"column-dropdown-btn",onClick:this.showCheckboxes},"Show columns"),_react$3.default.createElement("div",{className:g},_react$3.default.createElement("ul",null,this.props.colDefs.map(function(b){return _react$3.default.createElement("li",{key:b.field},_react$3.default.createElement("label",null,_react$3.default.createElement("input",{name:b.field,type:"checkbox",checked:h.state.ticks[b.field],onChange:h.handleToggle}),_react$3.default.createElement("span",null,b.headerName)))})))))}}]),e}(_react$3.default.Component),_default$2=ColumnSelector;ColumnSelector$1.default=_default$2;var CustomHeader$1={};function _typeof$2(a){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(a)}Object.defineProperty(CustomHeader$1,"__esModule",{value:!0});CustomHeader$1.default=void 0;var _react$2=_interopRequireDefault$2(reactExports);function _interopRequireDefault$2(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck$2(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(a,o){for(var e=0;e<o.length;e++){var c=o[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$2(a,o,e){return o&&_defineProperties$2(a.prototype,o),e&&_defineProperties$2(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$2(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&_setPrototypeOf$2(a,o)}function _setPrototypeOf$2(a,o){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$2(a,o)}function _createSuper$2(a){var o=_isNativeReflectConstruct$2();return function(){var c=_getPrototypeOf$2(a),h;if(o){var g=_getPrototypeOf$2(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$2(this,h)}}function _possibleConstructorReturn$2(a,o){if(o&&(_typeof$2(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(a)}function _assertThisInitialized$2(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$2(a){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf$2(a)}var CustomHeader=function(a){_inherits$2(e,a);var o=_createSuper$2(e);function e(c){var h;return _classCallCheck$2(this,e),h=o.call(this,c),h.state={sortMode:"none",multiSort:!1,sortIndex:null,filterActive:!1},h}return _createClass$2(e,[{key:"componentDidMount",value:function(){this.props.column.addEventListener("filterChanged",this.onFilterChanged.bind(this)),this.props.api.addEventListener("sortChanged",this.onSortChanged.bind(this)),this.onSortClicked.bind(this),this.onSortChanged(),this.onFilterChanged()}},{key:"render",value:function(){var h=this,g=_react$2.default.createElement("div",{ref:function(rt){h.menuButton=rt},className:"customHeaderMenuButton",onClick:this.onMenuClicked.bind(this),onTouchEnd:this.onMenuClicked.bind(this)},this.state.filterActive?_react$2.default.createElement("div",{className:"filter-div active"},_react$2.default.createElement("i",{className:"ag-icon ag-icon-filter"})):_react$2.default.createElement("div",{className:"filter-div"},_react$2.default.createElement("i",{className:"ag-icon ag-icon-menu"}))),b="";this.state.sortMode=="asc"&&(b=_react$2.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$2.default.createElement("i",{className:"ag-icon ag-icon-asc"}))),this.state.sortMode=="desc"&&(b=_react$2.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$2.default.createElement("i",{className:"ag-icon ag-icon-desc"})));var $=_react$2.default.createElement("div",{className:"custom-header-label-container",onClick:this.onSortClicked.bind(this),onTouchEnd:this.onSortClicked.bind(this)},b,_react$2.default.createElement("div",{className:"customHeaderLabel"},_react$2.default.createElement("span",null,this.props.displayName),"unit"in this.props&&_react$2.default.createElement("div",{className:"unit-label"},"(",this.props.unit,")")));return _react$2.default.createElement("div",{className:"custom-header-container"},$,g)}},{key:"onMenuClicked",value:function(){this.props.showColumnMenu(this.menuButton);var h=document.querySelector(".ag-menu.ag-ltr.ag-popup-child");if(h){h.style.maxWidth="200px";var g=document.createElement("div");if(g.style.margin="5px 10px 0px 10px",g.innerHTML="<b>Apply filter:</b>",h.prepend(g),this.props.infoText!=null){var b=document.createElement("div");b.style.margin="10px 10px 0px 10px",b.style.textAlign="justify",b.innerHTML=this.props.infoText,h.prepend(b)}}}},{key:"onSortChanged",value:function(){if(!this.props.columnApi){console.log("COLUMNAPI undefined!");return}var h="none";this.props.column.isSortAscending()&&(h="asc"),this.props.column.isSortDescending()&&(h="desc");var g=this.props.columnApi.getColumnState().filter(function(j){return j.sort!==null}).length,b=g>1,$=this.props.column.getSortIndex();this.setState({sortMode:h,multiSort:b,sortIndex:$})}},{key:"onFilterChanged",value:function(){this.setState({filterActive:this.props.column.isFilterActive()})}},{key:"onSortClicked",value:function(h){this.props.progressSort(h.shiftKey)}}]),e}(_react$2.default.Component);CustomHeader$1.default=CustomHeader;function _typeof$1(a){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(a)}Object.defineProperty(MaterialDataGrid$1,"__esModule",{value:!0});MaterialDataGrid$1.default=void 0;var _react$1=_interopRequireDefault$1(reactExports),_Popover=_interopRequireDefault$1(require$$1$1),_agGridReact=main,_ColumnSelector=_interopRequireDefault$1(ColumnSelector$1),_CustomHeader=_interopRequireDefault$1(CustomHeader$1),_HelpButton=_interopRequireDefault$1(HelpButton$1);function _interopRequireDefault$1(a){return a&&a.__esModule?a:{default:a}}function _slicedToArray$1(a,o){return _arrayWithHoles$1(a)||_iterableToArrayLimit$1(a,o)||_unsupportedIterableToArray$1(a,o)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(a,o){if(a){if(typeof a=="string")return _arrayLikeToArray$1(a,o);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray$1(a,o)}}function _arrayLikeToArray$1(a,o){(o==null||o>a.length)&&(o=a.length);for(var e=0,c=new Array(o);e<o;e++)c[e]=a[e];return c}function _iterableToArrayLimit$1(a,o){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var c=[],h=!0,g=!1,b,$;try{for(e=e.call(a);!(h=(b=e.next()).done)&&(c.push(b.value),!(o&&c.length===o));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&e.return!=null&&e.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles$1(a){if(Array.isArray(a))return a}function _classCallCheck$1(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(a,o){for(var e=0;e<o.length;e++){var c=o[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$1(a,o,e){return o&&_defineProperties$1(a.prototype,o),e&&_defineProperties$1(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$1(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&_setPrototypeOf$1(a,o)}function _setPrototypeOf$1(a,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$1(a,o)}function _createSuper$1(a){var o=_isNativeReflectConstruct$1();return function(){var c=_getPrototypeOf$1(a),h;if(o){var g=_getPrototypeOf$1(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$1(this,h)}}function _possibleConstructorReturn$1(a,o){if(o&&(_typeof$1(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(a)}function _assertThisInitialized$1(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(a){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf$1(a)}function _defineProperty(a,o,e){return o in a?Object.defineProperty(a,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[o]=e,a}function idCellRenderer(a){return _react$1.default.createElement("a",{href:a.data.href,target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"mediumblue"}},a.value)}function floatFormatter(a){return a.value==null?"-":a.value>=1e5||a.value<.01&&a.value!==0?a.value.toExponential(2):a.value.toFixed(2)}function textFormatter(a){return a.value==null?"-":a.value}function numberFormatter(a){return a.value==null?"-":a.value}function formulaCellRenderer(a){if(a.value==null)return"-";var o=a.value.split(/(\d+)/);return _react$1.default.createElement("span",null,o.map(function(e,c){return e.match(/\d+/)?_react$1.default.createElement("sub",{key:c},e):e}))}function spaceGroupSymbolRenderer(a){if(a.value==null)return"-";var o=!1;return _react$1.default.createElement("span",null,a.value.split("").map(function(e,c){return e=="_"?(o=!0,null):o?(o=!1,_react$1.default.createElement("sub",{key:c},e)):e}))}var defaultColDef={width:150,sortable:!0},components={agColumnHeader:_CustomHeader.default},helpPopover=_react$1.default.createElement(_Popover.default,{id:"popover-basic"},_react$1.default.createElement(_Popover.default.Header,{as:"h3"},"Materials Grid help"),_react$1.default.createElement(_Popover.default.Body,{style:{textAlign:"justify"}},_react$1.default.createElement("p",null,"The Materials Grid, shown below, contains all the filtered materials."),_react$1.default.createElement("p",null,"Selected properties are shown in columns. Click ",_react$1.default.createElement("b",null,"Show columns")," to hide/show available columns."),_react$1.default.createElement("p",null,"The grid can be sorted based on any column by clicking on the corresponding label in the header. ",_react$1.default.createElement("b",null,"Holding down shift")," allows to sort based on multiple columns."),"Each column has a menu that contains any additional information about the column, and allows to filter the list of materials. Active filters are indicated by the menu icon turning into a blue filter icon.")),MaterialDataGrid=function(a){_inherits$1(e,a);var o=_createSuper$1(e);function e(c){var h;return _classCallCheck$1(this,e),h=o.call(this,c),_defineProperty(_assertThisInitialized$1(h),"onGridReady",function(g){h.gridApi=g.api,h.gridColumnApi=g.columnApi,h.gridApi.onFilterChanged()}),_defineProperty(_assertThisInitialized$1(h),"handleColumnToggle",function(g){var b=h.getColumnDefs();b.forEach(function($){$.hide=!1,$.field in g&&($.hide=!g[$.field])}),h.gridApi.setColumnDefs(b)}),_defineProperty(_assertThisInitialized$1(h),"isExternalFilterPresent",function(){return Object.keys(h.props.ptable_filter.elements).length>0}),_defineProperty(_assertThisInitialized$1(h),"updateNumRows",function(){if(h.gridApi){var g=h.gridApi.getDisplayedRowCount();h.state.numRows!=g&&h.setState({numRows:g})}}),_defineProperty(_assertThisInitialized$1(h),"doesExternalFilterPass",function(g){if(g.data){if(h.props.ptable_filter.mode=="exact"){var b=Object.keys(h.props.ptable_filter.elements),$=g.data.elem_array.length===b.length,j=g.data.elem_array.every(function(gt){return b.includes(gt)});return $&&j}if(h.props.ptable_filter.mode=="include"){for(var rt=[],nt=[],pt=0,wt=Object.entries(h.props.ptable_filter.elements);pt<wt.length;pt++){var Dt=_slicedToArray$1(wt[pt],2),Lt=Dt[0],it=Dt[1];it==1&&rt.push(Lt),it==2&&nt.push(Lt)}var st=rt.every(function(gt){return g.data.elem_array.includes(gt)}),bt=g.data.elem_array.every(function(gt){return!nt.includes(gt)});return st&&bt}}return!0}),h.state={columnDefs:h.getColumnDefs(),numRows:null},h}return _createClass$1(e,[{key:"componentDidUpdate",value:function(h){h.ptable_filter!==this.props.ptable_filter&&this.gridApi.onFilterChanged()}},{key:"getColumnDefs",value:function(){return this.props.columns.map(function(h){var g=structuredClone(h);return delete g.colType,h.colType==="text"?Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter}):h.colType==="integer"?Object.assign(g,{filter:"agNumberColumnFilter",valueFormatter:numberFormatter}):h.colType==="float"?Object.assign(g,{filter:"agNumberColumnFilter",valueFormatter:floatFormatter}):h.colType==="id"?Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter,pinned:"left",cellRenderer:idCellRenderer}):h.colType==="formula"?Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:formulaCellRenderer}):h.colType==="spg_symbol"&&Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:spaceGroupSymbolRenderer}),Object.assign(g,{filterParams:{buttons:["reset","apply"],closeOnApply:!0}}),g.headerComponentParams={},"unit"in h&&(g.headerComponentParams.unit=h.unit,delete g.unit),"infoText"in h&&(g.headerComponentParams.infoText=h.infoText,delete g.infoText),g})}},{key:"render",value:function(){var h={pagination:!0,paginationPageSize:20,suppressMenuHide:!0,enableCellTextSelection:!0,ensureDomOrder:!0,domLayout:"autoHeight",headerHeight:54};return _react$1.default.createElement("div",null,_react$1.default.createElement("div",{className:"grid_header_row"},_react$1.default.createElement("span",{className:"rows_text"},"Showing ",this.state.numRows," entries out of ",this.props.rows.length),_react$1.default.createElement("div",{className:"grid_header_row_right_side"},_react$1.default.createElement("div",{className:"help-button-container"},_react$1.default.createElement(_HelpButton.default,{popover:helpPopover,placement:"left"})),_react$1.default.createElement(_ColumnSelector.default,{onColumnToggle:this.handleColumnToggle,colDefs:this.getColumnDefs().slice(1)}))),_react$1.default.createElement("div",{className:"ag-theme-alpine"},_react$1.default.createElement(_agGridReact.AgGridReact,{columnDefs:this.state.columnDefs,defaultColDef,rowData:this.props.rows,gridOptions:h,onGridReady:this.onGridReady,isExternalFilterPresent:this.isExternalFilterPresent,doesExternalFilterPass:this.doesExternalFilterPass,onFilterChanged:this.updateNumRows,onRowDataUpdated:this.updateNumRows,components})))}}]),e}(_react$1.default.Component),_default$1=MaterialDataGrid;MaterialDataGrid$1.default=_default$1;function _typeof(a){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(a)}Object.defineProperty(dist$1,"__esModule",{value:!0});var default_1=dist$1.default=void 0,_react=_interopRequireDefault(reactExports),_PTable=_interopRequireDefault(PTable$1),_MaterialDataGrid=_interopRequireDefault(MaterialDataGrid$1);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _slicedToArray(a,o){return _arrayWithHoles(a)||_iterableToArrayLimit(a,o)||_unsupportedIterableToArray(a,o)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(a,o){if(a){if(typeof a=="string")return _arrayLikeToArray(a,o);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(a,o)}}function _arrayLikeToArray(a,o){(o==null||o>a.length)&&(o=a.length);for(var e=0,c=new Array(o);e<o;e++)c[e]=a[e];return c}function _iterableToArrayLimit(a,o){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var c=[],h=!0,g=!1,b,$;try{for(e=e.call(a);!(h=(b=e.next()).done)&&(c.push(b.value),!(o&&c.length===o));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&e.return!=null&&e.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,o){for(var e=0;e<o.length;e++){var c=o[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass(a,o,e){return o&&_defineProperties(a.prototype,o),e&&_defineProperties(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&_setPrototypeOf(a,o)}function _setPrototypeOf(a,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf(a,o)}function _createSuper(a){var o=_isNativeReflectConstruct();return function(){var c=_getPrototypeOf(a),h;if(o){var g=_getPrototypeOf(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn(this,h)}}function _possibleConstructorReturn(a,o){if(o&&(_typeof(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(a)}var MaterialSelector=function(a){_inherits(e,a);var o=_createSuper(e);function e(c){var h;return _classCallCheck(this,e),h=o.call(this,c),h.state={ptableFilter:{mode:"include",elements:{}}},h.handlePTableChange=h.handlePTableChange.bind(_assertThisInitialized(h)),h}return _createClass(e,[{key:"handlePTableChange",value:function(h){var g=this.state.ptableFilter.mode,b=structuredClone(this.state.ptableFilter);if("mode"in h&&(b.mode=h.mode,g=h.mode,h.mode=="exact"))for(var $=0,j=Object.entries(b.elements);$<j.length;$++){var rt=_slicedToArray(j[$],2),nt=rt[0],pt=rt[1];pt>1&&delete b.elements[nt]}if("element"in h){var wt=h.element;h.element in b.elements?b.elements[wt]+=1:b.elements[wt]=1,g=="exact"?b.elements[wt]==2&&delete b.elements[wt]:g=="include"&&b.elements[wt]==3&&delete b.elements[wt]}this.setState({ptableFilter:b})}},{key:"render",value:function(){var h=this.props.columns.length>0;return _react.default.createElement("div",{className:"material_selector_container"},_react.default.createElement(_PTable.default,{onSelectionChange:this.handlePTableChange,filter:this.state.ptableFilter,rows:this.props.rows}),_react.default.createElement("div",{style:{marginTop:"5px"}}),h?_react.default.createElement(_MaterialDataGrid.default,{columns:this.props.columns,rows:this.props.rows,ptable_filter:this.state.ptableFilter}):_react.default.createElement("div",{style:{marginTop:"50px",border:"solid 2px rgb(220, 220, 220)",height:"600px",display:"flex",justifyContent:"center",alignItems:"center"}},"Loading..."))}}]),e}(_react.default.Component),_default=MaterialSelector;default_1=dist$1.default=_default;const Mc2dLogo="/discover-mc2d-react/assets/mc2d-znV2YCFo.png";function nr(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Vt={exports:{}},at={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar;function Xn(){if(Ar)return at;Ar=1;var a=React,o=Symbol.for("react.element"),e=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b($,j,rt){var nt,pt={},wt=null,Dt=null;rt!==void 0&&(wt=""+rt),j.key!==void 0&&(wt=""+j.key),j.ref!==void 0&&(Dt=j.ref);for(nt in j)c.call(j,nt)&&!g.hasOwnProperty(nt)&&(pt[nt]=j[nt]);if($&&$.defaultProps)for(nt in j=$.defaultProps,j)pt[nt]===void 0&&(pt[nt]=j[nt]);return{$$typeof:o,type:$,key:wt,ref:Dt,props:pt,_owner:h.current}}return at.Fragment=e,at.jsx=b,at.jsxs=b,at}Vt.exports=Xn();var k=Vt.exports;const ro="_archive_doicitation_5woyi_1",no="_doi_badge_5woyi_8",oo="_doi_left_5woyi_12",io="_doi_right_5woyi_28",xt={archive_doicitation:ro,doi_badge:no,doi_left:oo,doi_right:io};function Ja(a){return k.jsx("div",{className:xt.archive_doicitation,children:k.jsxs("span",{className:xt.doi_badge,children:[k.jsx("span",{className:xt.doi_left,children:"DOI"}),k.jsx("a",{href:`https://doi.org/10.24435/materialscloud:${a.doi_id}`,className:xt.doi_right,target:"_blank",children:`10.24435/materialscloud:${a.doi_id}`})]})})}function Wt(a,o){if(a.contains)return a.contains(o);if(a.compareDocumentPosition)return a===o||!!(a.compareDocumentPosition(o)&16)}var Jt={exports:{}},Ft,kr;function or(){if(kr)return Ft;kr=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ft=a,Ft}var Nt,_r;function fo(){if(_r)return Nt;_r=1;var a=or();function o(){}function e(){}return e.resetWarningCache=o,Nt=function(){function c(b,$,j,rt,nt,pt){if(pt!==a){var wt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw wt.name="Invariant Violation",wt}}c.isRequired=c;function h(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:h,element:c,elementType:c,instanceOf:h,node:c,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:e,resetWarningCache:o};return g.PropTypes=g,g},Nt}Jt.exports=fo()();var mo=Jt.exports;const N=nr(mo);function nn(){const a=reactExports.useRef(!0),o=reactExports.useRef(()=>a.current);return reactExports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),o.current}function ho(a){const o=reactExports.useRef(a);return o.current=a,o}function yo(a){const o=ho(a);reactExports.useEffect(()=>()=>o.current(),[])}const Gt=2**31-1;function on(a,o,e){const c=e-Date.now();a.current=c<=Gt?setTimeout(o,c):setTimeout(()=>on(a,o,e),Gt)}function go(){const a=nn(),o=reactExports.useRef();return yo(()=>clearTimeout(o.current)),reactExports.useMemo(()=>{const e=()=>clearTimeout(o.current);function c(h,g=0){a()&&(e(),g<=Gt?o.current=setTimeout(h,g):on(o,h,Date.now()+g))}return{set:c,clear:e,handleRef:o}},[])}var an=function(){},xo=an;const sn=nr(xo);function Eo(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function Ao(a,o,e){var c=reactExports.useRef(a!==void 0),h=reactExports.useState(o),g=h[0],b=h[1],$=a!==void 0,j=c.current;return c.current=$,!$&&j&&g!==o&&b(o),[$?a:g,reactExports.useCallback(function(rt){for(var nt=arguments.length,pt=new Array(nt>1?nt-1:0),wt=1;wt<nt;wt++)pt[wt-1]=arguments[wt];e&&e.apply(void 0,[rt].concat(pt)),b(rt)},[e])]}function qt(a,o){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,c){return e.__proto__=c,e},qt(a,o)}function Oo(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,qt(a,o)}const Mr=a=>!a||typeof a=="function"?a:o=>{a.current=o};function Ro(a,o){const e=Mr(a),c=Mr(o);return h=>{e&&e(h),c&&c(h)}}function tt(a,o){return reactExports.useMemo(()=>Ro(a,o),[a,o])}var cn={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(a){(function(){var o={}.hasOwnProperty;function e(){for(var g="",b=0;b<arguments.length;b++){var $=arguments[b];$&&(g=h(g,c($)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return e.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var $ in g)o.call(g,$)&&g[$]&&(b=h(b,$));return b}function h(g,b){return b?g?g+" "+b:g+b:g}a.exports?(e.default=e,a.exports=e):window.classNames=e})()})(cn);var To=cn.exports;const Ye=nr(To);function Br(){return reactExports.useState(null)}var Fr=Object.prototype.hasOwnProperty;function Ir(a,o,e){for(e of a.keys())if(lt(e,o))return e}function lt(a,o){var e,c,h;if(a===o)return!0;if(a&&o&&(e=a.constructor)===o.constructor){if(e===Date)return a.getTime()===o.getTime();if(e===RegExp)return a.toString()===o.toString();if(e===Array){if((c=a.length)===o.length)for(;c--&&lt(a[c],o[c]););return c===-1}if(e===Set){if(a.size!==o.size)return!1;for(c of a)if(h=c,h&&typeof h=="object"&&(h=Ir(o,h),!h)||!o.has(h))return!1;return!0}if(e===Map){if(a.size!==o.size)return!1;for(c of a)if(h=c[0],h&&typeof h=="object"&&(h=Ir(o,h),!h)||!lt(c[1],o.get(h)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),o=new Uint8Array(o);else if(e===DataView){if((c=a.byteLength)===o.byteLength)for(;c--&&a.getInt8(c)===o.getInt8(c););return c===-1}if(ArrayBuffer.isView(a)){if((c=a.byteLength)===o.byteLength)for(;c--&&a[c]===o[c];);return c===-1}if(!e||typeof a=="object"){c=0;for(e in a)if(Fr.call(a,e)&&++c&&!Fr.call(o,e)||!(e in o)||!lt(a[e],o[e]))return!1;return Object.keys(o).length===c}}return a!==a&&o!==o}function Co(a){const o=nn();return[a[0],reactExports.useCallback(e=>{if(o())return a[1](e)},[o,a[1]])]}var de="top",be="bottom",we="right",pe="left",ir="auto",ht=[de,be,we,pe],$e="start",vt="end",So="clippingParents",un="viewport",ct="popper",ko="reference",Lr=ht.reduce(function(a,o){return a.concat([o+"-"+$e,o+"-"+vt])},[]),ln=[].concat(ht,[ir]).reduce(function(a,o){return a.concat([o,o+"-"+$e,o+"-"+vt])},[]),Po="beforeRead",jo="read",Do="afterRead",_o="beforeMain",Mo="main",Bo="afterMain",Fo="beforeWrite",Io="write",Lo="afterWrite",Ho=[Po,jo,Do,_o,Mo,Bo,Fo,Io,Lo];function xe(a){return a.split("-")[0]}function me(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var o=a.ownerDocument;return o&&o.defaultView||window}return a}function He(a){var o=me(a).Element;return a instanceof o||a instanceof Element}function Ee(a){var o=me(a).HTMLElement;return a instanceof o||a instanceof HTMLElement}function ar(a){if(typeof ShadowRoot>"u")return!1;var o=me(a).ShadowRoot;return a instanceof o||a instanceof ShadowRoot}var Le=Math.max,Ct=Math.min,Qe=Math.round;function zt(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function fn(){return!/^((?!chrome|android).)*safari/i.test(zt())}function Xe(a,o,e){o===void 0&&(o=!1),e===void 0&&(e=!1);var c=a.getBoundingClientRect(),h=1,g=1;o&&Ee(a)&&(h=a.offsetWidth>0&&Qe(c.width)/a.offsetWidth||1,g=a.offsetHeight>0&&Qe(c.height)/a.offsetHeight||1);var b=He(a)?me(a):window,$=b.visualViewport,j=!fn()&&e,rt=(c.left+(j&&$?$.offsetLeft:0))/h,nt=(c.top+(j&&$?$.offsetTop:0))/g,pt=c.width/h,wt=c.height/g;return{width:pt,height:wt,top:nt,right:rt+pt,bottom:nt+wt,left:rt,x:rt,y:nt}}function sr(a){var o=Xe(a),e=a.offsetWidth,c=a.offsetHeight;return Math.abs(o.width-e)<=1&&(e=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:a.offsetLeft,y:a.offsetTop,width:e,height:c}}function dn(a,o){var e=o.getRootNode&&o.getRootNode();if(a.contains(o))return!0;if(e&&ar(e)){var c=o;do{if(c&&a.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function De(a){return a?(a.nodeName||"").toLowerCase():null}function Ce(a){return me(a).getComputedStyle(a)}function No(a){return["table","td","th"].indexOf(De(a))>=0}function _e(a){return((He(a)?a.ownerDocument:a.document)||window.document).documentElement}function kt(a){return De(a)==="html"?a:a.assignedSlot||a.parentNode||(ar(a)?a.host:null)||_e(a)}function Hr(a){return!Ee(a)||Ce(a).position==="fixed"?null:a.offsetParent}function Uo(a){var o=/firefox/i.test(zt()),e=/Trident/i.test(zt());if(e&&Ee(a)){var c=Ce(a);if(c.position==="fixed")return null}var h=kt(a);for(ar(h)&&(h=h.host);Ee(h)&&["html","body"].indexOf(De(h))<0;){var g=Ce(h);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||o&&g.willChange==="filter"||o&&g.filter&&g.filter!=="none")return h;h=h.parentNode}return null}function yt(a){for(var o=me(a),e=Hr(a);e&&No(e)&&Ce(e).position==="static";)e=Hr(e);return e&&(De(e)==="html"||De(e)==="body"&&Ce(e).position==="static")?o:e||Uo(a)||o}function cr(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function ft(a,o,e){return Le(a,Ct(o,e))}function Yo(a,o,e){var c=ft(a,o,e);return c>e?e:c}function pn(){return{top:0,right:0,bottom:0,left:0}}function vn(a){return Object.assign({},pn(),a)}function mn(a,o){return o.reduce(function(e,c){return e[c]=a,e},{})}var Vo=function(a,o){return a=typeof a=="function"?a(Object.assign({},o.rects,{placement:o.placement})):a,vn(typeof a!="number"?a:mn(a,ht))};function Wo(a){var o,e=a.state,c=a.name,h=a.options,g=e.elements.arrow,b=e.modifiersData.popperOffsets,$=xe(e.placement),j=cr($),rt=[pe,we].indexOf($)>=0,nt=rt?"height":"width";if(!(!g||!b)){var pt=Vo(h.padding,e),wt=sr(g),Dt=j==="y"?de:pe,Lt=j==="y"?be:we,it=e.rects.reference[nt]+e.rects.reference[j]-b[j]-e.rects.popper[nt],st=b[j]-e.rects.reference[j],bt=yt(g),gt=bt?j==="y"?bt.clientHeight||0:bt.clientWidth||0:0,Et=it/2-st/2,ot=pt[Dt],_t=gt-wt[nt]-pt[Lt],Mt=gt/2-wt[nt]/2+Et,Bt=ft(ot,Mt,_t),It=j;e.modifiersData[c]=(o={},o[It]=Bt,o.centerOffset=Bt-Mt,o)}}function Jo(a){var o=a.state,e=a.options,c=e.element,h=c===void 0?"[data-popper-arrow]":c;h!=null&&(typeof h=="string"&&(h=o.elements.popper.querySelector(h),!h)||dn(o.elements.popper,h)&&(o.elements.arrow=h))}const Go={name:"arrow",enabled:!0,phase:"main",fn:Wo,effect:Jo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ze(a){return a.split("-")[1]}var qo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zo(a,o){var e=a.x,c=a.y,h=o.devicePixelRatio||1;return{x:Qe(e*h)/h||0,y:Qe(c*h)/h||0}}function Nr(a){var o,e=a.popper,c=a.popperRect,h=a.placement,g=a.variation,b=a.offsets,$=a.position,j=a.gpuAcceleration,rt=a.adaptive,nt=a.roundOffsets,pt=a.isFixed,wt=b.x,Dt=wt===void 0?0:wt,Lt=b.y,it=Lt===void 0?0:Lt,st=typeof nt=="function"?nt({x:Dt,y:it}):{x:Dt,y:it};Dt=st.x,it=st.y;var bt=b.hasOwnProperty("x"),gt=b.hasOwnProperty("y"),Et=pe,ot=de,_t=window;if(rt){var Mt=yt(e),Bt="clientHeight",It="clientWidth";if(Mt===me(e)&&(Mt=_e(e),Ce(Mt).position!=="static"&&$==="absolute"&&(Bt="scrollHeight",It="scrollWidth")),Mt=Mt,h===de||(h===pe||h===we)&&g===vt){ot=be;var jt=pt&&Mt===_t&&_t.visualViewport?_t.visualViewport.height:Mt[Bt];it-=jt-c.height,it*=j?1:-1}if(h===pe||(h===de||h===be)&&g===vt){Et=we;var tr=pt&&Mt===_t&&_t.visualViewport?_t.visualViewport.width:Mt[It];Dt-=tr-c.width,Dt*=j?1:-1}}var gr=Object.assign({position:$},rt&&qo),vr=nt===!0?zo({x:Dt,y:it},me(e)):{x:Dt,y:it};if(Dt=vr.x,it=vr.y,j){var hr;return Object.assign({},gr,(hr={},hr[ot]=gt?"0":"",hr[Et]=bt?"0":"",hr.transform=(_t.devicePixelRatio||1)<=1?"translate("+Dt+"px, "+it+"px)":"translate3d("+Dt+"px, "+it+"px, 0)",hr))}return Object.assign({},gr,(o={},o[ot]=gt?it+"px":"",o[Et]=bt?Dt+"px":"",o.transform="",o))}function Ko(a){var o=a.state,e=a.options,c=e.gpuAcceleration,h=c===void 0?!0:c,g=e.adaptive,b=g===void 0?!0:g,$=e.roundOffsets,j=$===void 0?!0:$,rt={placement:xe(o.placement),variation:Ze(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:h,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,Nr(Object.assign({},rt,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:b,roundOffsets:j})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,Nr(Object.assign({},rt,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const $o={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ko,data:{}};var At={passive:!0};function Qo(a){var o=a.state,e=a.instance,c=a.options,h=c.scroll,g=h===void 0?!0:h,b=c.resize,$=b===void 0?!0:b,j=me(o.elements.popper),rt=[].concat(o.scrollParents.reference,o.scrollParents.popper);return g&&rt.forEach(function(nt){nt.addEventListener("scroll",e.update,At)}),$&&j.addEventListener("resize",e.update,At),function(){g&&rt.forEach(function(nt){nt.removeEventListener("scroll",e.update,At)}),$&&j.removeEventListener("resize",e.update,At)}}const Xo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qo,data:{}};var Zo={left:"right",right:"left",bottom:"top",top:"bottom"};function Rt(a){return a.replace(/left|right|bottom|top/g,function(o){return Zo[o]})}var ei={start:"end",end:"start"};function Ur(a){return a.replace(/start|end/g,function(o){return ei[o]})}function ur(a){var o=me(a),e=o.pageXOffset,c=o.pageYOffset;return{scrollLeft:e,scrollTop:c}}function lr(a){return Xe(_e(a)).left+ur(a).scrollLeft}function ti(a,o){var e=me(a),c=_e(a),h=e.visualViewport,g=c.clientWidth,b=c.clientHeight,$=0,j=0;if(h){g=h.width,b=h.height;var rt=fn();(rt||!rt&&o==="fixed")&&($=h.offsetLeft,j=h.offsetTop)}return{width:g,height:b,x:$+lr(a),y:j}}function ri(a){var o,e=_e(a),c=ur(a),h=(o=a.ownerDocument)==null?void 0:o.body,g=Le(e.scrollWidth,e.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),b=Le(e.scrollHeight,e.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),$=-c.scrollLeft+lr(a),j=-c.scrollTop;return Ce(h||e).direction==="rtl"&&($+=Le(e.clientWidth,h?h.clientWidth:0)-g),{width:g,height:b,x:$,y:j}}function fr(a){var o=Ce(a),e=o.overflow,c=o.overflowX,h=o.overflowY;return/auto|scroll|overlay|hidden/.test(e+h+c)}function hn(a){return["html","body","#document"].indexOf(De(a))>=0?a.ownerDocument.body:Ee(a)&&fr(a)?a:hn(kt(a))}function dt(a,o){var e;o===void 0&&(o=[]);var c=hn(a),h=c===((e=a.ownerDocument)==null?void 0:e.body),g=me(c),b=h?[g].concat(g.visualViewport||[],fr(c)?c:[]):c,$=o.concat(b);return h?$:$.concat(dt(kt(b)))}function Kt(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function ni(a,o){var e=Xe(a,!1,o==="fixed");return e.top=e.top+a.clientTop,e.left=e.left+a.clientLeft,e.bottom=e.top+a.clientHeight,e.right=e.left+a.clientWidth,e.width=a.clientWidth,e.height=a.clientHeight,e.x=e.left,e.y=e.top,e}function Yr(a,o,e){return o===un?Kt(ti(a,e)):He(o)?ni(o,e):Kt(ri(_e(a)))}function oi(a){var o=dt(kt(a)),e=["absolute","fixed"].indexOf(Ce(a).position)>=0,c=e&&Ee(a)?yt(a):a;return He(c)?o.filter(function(h){return He(h)&&dn(h,c)&&De(h)!=="body"}):[]}function ii(a,o,e,c){var h=o==="clippingParents"?oi(a):[].concat(o),g=[].concat(h,[e]),b=g[0],$=g.reduce(function(j,rt){var nt=Yr(a,rt,c);return j.top=Le(nt.top,j.top),j.right=Ct(nt.right,j.right),j.bottom=Ct(nt.bottom,j.bottom),j.left=Le(nt.left,j.left),j},Yr(a,b,c));return $.width=$.right-$.left,$.height=$.bottom-$.top,$.x=$.left,$.y=$.top,$}function yn(a){var o=a.reference,e=a.element,c=a.placement,h=c?xe(c):null,g=c?Ze(c):null,b=o.x+o.width/2-e.width/2,$=o.y+o.height/2-e.height/2,j;switch(h){case de:j={x:b,y:o.y-e.height};break;case be:j={x:b,y:o.y+o.height};break;case we:j={x:o.x+o.width,y:$};break;case pe:j={x:o.x-e.width,y:$};break;default:j={x:o.x,y:o.y}}var rt=h?cr(h):null;if(rt!=null){var nt=rt==="y"?"height":"width";switch(g){case $e:j[rt]=j[rt]-(o[nt]/2-e[nt]/2);break;case vt:j[rt]=j[rt]+(o[nt]/2-e[nt]/2);break}}return j}function mt(a,o){o===void 0&&(o={});var e=o,c=e.placement,h=c===void 0?a.placement:c,g=e.strategy,b=g===void 0?a.strategy:g,$=e.boundary,j=$===void 0?So:$,rt=e.rootBoundary,nt=rt===void 0?un:rt,pt=e.elementContext,wt=pt===void 0?ct:pt,Dt=e.altBoundary,Lt=Dt===void 0?!1:Dt,it=e.padding,st=it===void 0?0:it,bt=vn(typeof st!="number"?st:mn(st,ht)),gt=wt===ct?ko:ct,Et=a.rects.popper,ot=a.elements[Lt?gt:wt],_t=ii(He(ot)?ot:ot.contextElement||_e(a.elements.popper),j,nt,b),Mt=Xe(a.elements.reference),Bt=yn({reference:Mt,element:Et,strategy:"absolute",placement:h}),It=Kt(Object.assign({},Et,Bt)),jt=wt===ct?It:Mt,tr={top:_t.top-jt.top+bt.top,bottom:jt.bottom-_t.bottom+bt.bottom,left:_t.left-jt.left+bt.left,right:jt.right-_t.right+bt.right},gr=a.modifiersData.offset;if(wt===ct&&gr){var vr=gr[h];Object.keys(tr).forEach(function(hr){var mr=[we,be].indexOf(hr)>=0?1:-1,Er=[de,be].indexOf(hr)>=0?"y":"x";tr[hr]+=vr[Er]*mr})}return tr}function ai(a,o){o===void 0&&(o={});var e=o,c=e.placement,h=e.boundary,g=e.rootBoundary,b=e.padding,$=e.flipVariations,j=e.allowedAutoPlacements,rt=j===void 0?ln:j,nt=Ze(c),pt=nt?$?Lr:Lr.filter(function(Lt){return Ze(Lt)===nt}):ht,wt=pt.filter(function(Lt){return rt.indexOf(Lt)>=0});wt.length===0&&(wt=pt);var Dt=wt.reduce(function(Lt,it){return Lt[it]=mt(a,{placement:it,boundary:h,rootBoundary:g,padding:b})[xe(it)],Lt},{});return Object.keys(Dt).sort(function(Lt,it){return Dt[Lt]-Dt[it]})}function si(a){if(xe(a)===ir)return[];var o=Rt(a);return[Ur(a),o,Ur(o)]}function ci(a){var o=a.state,e=a.options,c=a.name;if(!o.modifiersData[c]._skip){for(var h=e.mainAxis,g=h===void 0?!0:h,b=e.altAxis,$=b===void 0?!0:b,j=e.fallbackPlacements,rt=e.padding,nt=e.boundary,pt=e.rootBoundary,wt=e.altBoundary,Dt=e.flipVariations,Lt=Dt===void 0?!0:Dt,it=e.allowedAutoPlacements,st=o.options.placement,bt=xe(st),gt=bt===st,Et=j||(gt||!Lt?[Rt(st)]:si(st)),ot=[st].concat(Et).reduce(function(Nn,Hn){return Nn.concat(xe(Hn)===ir?ai(o,{placement:Hn,boundary:nt,rootBoundary:pt,padding:rt,flipVariations:Lt,allowedAutoPlacements:it}):Hn)},[]),_t=o.rects.reference,Mt=o.rects.popper,Bt=new Map,It=!0,jt=ot[0],tr=0;tr<ot.length;tr++){var gr=ot[tr],vr=xe(gr),hr=Ze(gr)===$e,mr=[de,be].indexOf(vr)>=0,Er=mr?"width":"height",Rr=mt(o,{placement:gr,boundary:nt,rootBoundary:pt,altBoundary:wt,padding:rt}),Cr=mr?hr?we:pe:hr?be:de;_t[Er]>Mt[Er]&&(Cr=Rt(Cr));var wr=Rt(Cr),Sr=[];if(g&&Sr.push(Rr[vr]<=0),$&&Sr.push(Rr[Cr]<=0,Rr[wr]<=0),Sr.every(function(Nn){return Nn})){jt=gr,It=!1;break}Bt.set(gr,Sr)}if(It)for(var br=Lt?3:1,xr=function(Nn){var Hn=ot.find(function(Bn){var qn=Bt.get(Bn);if(qn)return qn.slice(0,Nn).every(function(Wn){return Wn})});if(Hn)return jt=Hn,"break"},Or=br;Or>0;Or--){var In=xr(Or);if(In==="break")break}o.placement!==jt&&(o.modifiersData[c]._skip=!0,o.placement=jt,o.reset=!0)}}const ui={name:"flip",enabled:!0,phase:"main",fn:ci,requiresIfExists:["offset"],data:{_skip:!1}};function Vr(a,o,e){return e===void 0&&(e={x:0,y:0}),{top:a.top-o.height-e.y,right:a.right-o.width+e.x,bottom:a.bottom-o.height+e.y,left:a.left-o.width-e.x}}function Wr(a){return[de,we,be,pe].some(function(o){return a[o]>=0})}function li(a){var o=a.state,e=a.name,c=o.rects.reference,h=o.rects.popper,g=o.modifiersData.preventOverflow,b=mt(o,{elementContext:"reference"}),$=mt(o,{altBoundary:!0}),j=Vr(b,c),rt=Vr($,h,g),nt=Wr(j),pt=Wr(rt);o.modifiersData[e]={referenceClippingOffsets:j,popperEscapeOffsets:rt,isReferenceHidden:nt,hasPopperEscaped:pt},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":nt,"data-popper-escaped":pt})}const fi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:li};function di(a,o,e){var c=xe(a),h=[pe,de].indexOf(c)>=0?-1:1,g=typeof e=="function"?e(Object.assign({},o,{placement:a})):e,b=g[0],$=g[1];return b=b||0,$=($||0)*h,[pe,we].indexOf(c)>=0?{x:$,y:b}:{x:b,y:$}}function pi(a){var o=a.state,e=a.options,c=a.name,h=e.offset,g=h===void 0?[0,0]:h,b=ln.reduce(function(nt,pt){return nt[pt]=di(pt,o.rects,g),nt},{}),$=b[o.placement],j=$.x,rt=$.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=j,o.modifiersData.popperOffsets.y+=rt),o.modifiersData[c]=b}const vi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pi};function mi(a){var o=a.state,e=a.name;o.modifiersData[e]=yn({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})}const hi={name:"popperOffsets",enabled:!0,phase:"read",fn:mi,data:{}};function yi(a){return a==="x"?"y":"x"}function gi(a){var o=a.state,e=a.options,c=a.name,h=e.mainAxis,g=h===void 0?!0:h,b=e.altAxis,$=b===void 0?!1:b,j=e.boundary,rt=e.rootBoundary,nt=e.altBoundary,pt=e.padding,wt=e.tether,Dt=wt===void 0?!0:wt,Lt=e.tetherOffset,it=Lt===void 0?0:Lt,st=mt(o,{boundary:j,rootBoundary:rt,padding:pt,altBoundary:nt}),bt=xe(o.placement),gt=Ze(o.placement),Et=!gt,ot=cr(bt),_t=yi(ot),Mt=o.modifiersData.popperOffsets,Bt=o.rects.reference,It=o.rects.popper,jt=typeof it=="function"?it(Object.assign({},o.rects,{placement:o.placement})):it,tr=typeof jt=="number"?{mainAxis:jt,altAxis:jt}:Object.assign({mainAxis:0,altAxis:0},jt),gr=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,vr={x:0,y:0};if(Mt){if(g){var hr,mr=ot==="y"?de:pe,Er=ot==="y"?be:we,Rr=ot==="y"?"height":"width",Cr=Mt[ot],wr=Cr+st[mr],Sr=Cr-st[Er],br=Dt?-It[Rr]/2:0,xr=gt===$e?Bt[Rr]:It[Rr],Or=gt===$e?-It[Rr]:-Bt[Rr],In=o.elements.arrow,Nn=Dt&&In?sr(In):{width:0,height:0},Hn=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:pn(),Bn=Hn[mr],qn=Hn[Er],Wn=ft(0,Bt[Rr],Nn[Rr]),Yn=Et?Bt[Rr]/2-br-Wn-Bn-tr.mainAxis:xr-Wn-Bn-tr.mainAxis,po=Et?-Bt[Rr]/2+br+Wn+qn+tr.mainAxis:Or+Wn+qn+tr.mainAxis,eo=o.elements.arrow&&yt(o.elements.arrow),wo=eo?ot==="y"?eo.clientTop||0:eo.clientLeft||0:0,Vn=(hr=gr==null?void 0:gr[ot])!=null?hr:0,Kn=Cr+Yn-Vn-wo,to=Cr+po-Vn,fs=ft(Dt?Ct(wr,Kn):wr,Cr,Dt?Le(Sr,to):Sr);Mt[ot]=fs,vr[ot]=fs-Cr}if($){var hs,Cs=ot==="x"?de:pe,ps=ot==="x"?be:we,ls=Mt[_t],cs=_t==="y"?"height":"width",ss=ls+st[Cs],os=ls-st[ps],as=[de,pe].indexOf(bt)!==-1,gs=(hs=gr==null?void 0:gr[_t])!=null?hs:0,vs=as?ss:ls-Bt[cs]-It[cs]-gs+tr.altAxis,tn=as?ls+Bt[cs]+It[cs]-gs-tr.altAxis:os,Pr=Dt&&as?Yo(vs,ls,tn):ft(Dt?vs:ss,ls,Dt?tn:os);Mt[_t]=Pr,vr[_t]=Pr-ls}o.modifiersData[c]=vr}}const bi={name:"preventOverflow",enabled:!0,phase:"main",fn:gi,requiresIfExists:["offset"]};function wi(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function xi(a){return a===me(a)||!Ee(a)?ur(a):wi(a)}function Ei(a){var o=a.getBoundingClientRect(),e=Qe(o.width)/a.offsetWidth||1,c=Qe(o.height)/a.offsetHeight||1;return e!==1||c!==1}function Ai(a,o,e){e===void 0&&(e=!1);var c=Ee(o),h=Ee(o)&&Ei(o),g=_e(o),b=Xe(a,h,e),$={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(c||!c&&!e)&&((De(o)!=="body"||fr(g))&&($=xi(o)),Ee(o)?(j=Xe(o,!0),j.x+=o.clientLeft,j.y+=o.clientTop):g&&(j.x=lr(g))),{x:b.left+$.scrollLeft-j.x,y:b.top+$.scrollTop-j.y,width:b.width,height:b.height}}function Oi(a){var o=new Map,e=new Set,c=[];a.forEach(function(g){o.set(g.name,g)});function h(g){e.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function($){if(!e.has($)){var j=o.get($);j&&h(j)}}),c.push(g)}return a.forEach(function(g){e.has(g.name)||h(g)}),c}function Ri(a){var o=Oi(a);return Ho.reduce(function(e,c){return e.concat(o.filter(function(h){return h.phase===c}))},[])}function Ti(a){var o;return function(){return o||(o=new Promise(function(e){Promise.resolve().then(function(){o=void 0,e(a())})})),o}}function Ci(a){var o=a.reduce(function(e,c){var h=e[c.name];return e[c.name]=h?Object.assign({},h,c,{options:Object.assign({},h.options,c.options),data:Object.assign({},h.data,c.data)}):c,e},{});return Object.keys(o).map(function(e){return o[e]})}var Jr={placement:"bottom",modifiers:[],strategy:"absolute"};function Gr(){for(var a=arguments.length,o=new Array(a),e=0;e<a;e++)o[e]=arguments[e];return!o.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function Si(a){a===void 0&&(a={});var o=a,e=o.defaultModifiers,c=e===void 0?[]:e,h=o.defaultOptions,g=h===void 0?Jr:h;return function(b,$,j){j===void 0&&(j=g);var rt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jr,g),modifiersData:{},elements:{reference:b,popper:$},attributes:{},styles:{}},nt=[],pt=!1,wt={state:rt,setOptions:function(it){var st=typeof it=="function"?it(rt.options):it;Lt(),rt.options=Object.assign({},g,rt.options,st),rt.scrollParents={reference:He(b)?dt(b):b.contextElement?dt(b.contextElement):[],popper:dt($)};var bt=Ri(Ci([].concat(c,rt.options.modifiers)));return rt.orderedModifiers=bt.filter(function(gt){return gt.enabled}),Dt(),wt.update()},forceUpdate:function(){if(!pt){var it=rt.elements,st=it.reference,bt=it.popper;if(Gr(st,bt)){rt.rects={reference:Ai(st,yt(bt),rt.options.strategy==="fixed"),popper:sr(bt)},rt.reset=!1,rt.placement=rt.options.placement,rt.orderedModifiers.forEach(function(It){return rt.modifiersData[It.name]=Object.assign({},It.data)});for(var gt=0;gt<rt.orderedModifiers.length;gt++){if(rt.reset===!0){rt.reset=!1,gt=-1;continue}var Et=rt.orderedModifiers[gt],ot=Et.fn,_t=Et.options,Mt=_t===void 0?{}:_t,Bt=Et.name;typeof ot=="function"&&(rt=ot({state:rt,options:Mt,name:Bt,instance:wt})||rt)}}}},update:Ti(function(){return new Promise(function(it){wt.forceUpdate(),it(rt)})}),destroy:function(){Lt(),pt=!0}};if(!Gr(b,$))return wt;wt.setOptions(j).then(function(it){!pt&&j.onFirstUpdate&&j.onFirstUpdate(it)});function Dt(){rt.orderedModifiers.forEach(function(it){var st=it.name,bt=it.options,gt=bt===void 0?{}:bt,Et=it.effect;if(typeof Et=="function"){var ot=Et({state:rt,name:st,instance:wt,options:gt}),_t=function(){};nt.push(ot||_t)}})}function Lt(){nt.forEach(function(it){return it()}),nt=[]}return wt}}const ki=Si({defaultModifiers:[fi,hi,$o,Xo,vi,ui,bi,Go]}),Pi=["enabled","placement","strategy","modifiers"];function ji(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}const Di={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},_i={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:a})=>()=>{const{reference:o,popper:e}=a.elements;if("removeAttribute"in o){const c=(o.getAttribute("aria-describedby")||"").split(",").filter(h=>h.trim()!==e.id);c.length?o.setAttribute("aria-describedby",c.join(",")):o.removeAttribute("aria-describedby")}},fn:({state:a})=>{var o;const{popper:e,reference:c}=a.elements,h=(o=e.getAttribute("role"))==null?void 0:o.toLowerCase();if(e.id&&h==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(e.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${e.id}`:e.id)}}},Mi=[];function Bi(a,o,e={}){let{enabled:c=!0,placement:h="bottom",strategy:g="absolute",modifiers:b=Mi}=e,$=ji(e,Pi);const j=reactExports.useRef(b),rt=reactExports.useRef(),nt=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.update()},[]),pt=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.forceUpdate()},[]),[wt,Dt]=Co(reactExports.useState({placement:h,update:nt,forceUpdate:pt,attributes:{},styles:{popper:{},arrow:{}}})),Lt=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:st})=>{const bt={},gt={};Object.keys(st.elements).forEach(Et=>{bt[Et]=st.styles[Et],gt[Et]=st.attributes[Et]}),Dt({state:st,styles:bt,attributes:gt,update:nt,forceUpdate:pt,placement:st.placement})}}),[nt,pt,Dt]),it=reactExports.useMemo(()=>(lt(j.current,b)||(j.current=b),j.current),[b]);return reactExports.useEffect(()=>{!rt.current||!c||rt.current.setOptions({placement:h,strategy:g,modifiers:[...it,Lt,Di]})},[g,h,Lt,c,it]),reactExports.useEffect(()=>{if(!(!c||a==null||o==null))return rt.current=ki(a,o,Object.assign({},$,{placement:h,strategy:g,modifiers:[...it,_i,Lt]})),()=>{rt.current!=null&&(rt.current.destroy(),rt.current=void 0,Dt(st=>Object.assign({},st,{attributes:{},styles:{popper:{}}})))}},[c,a,o]),wt}const dr=!!(typeof window<"u"&&window.document&&window.document.createElement);var $t=!1,Qt=!1;try{var Ut={get passive(){return $t=!0},get once(){return Qt=$t=!0}};dr&&(window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,!0))}catch{}function Fi(a,o,e,c){if(c&&typeof c!="boolean"&&!Qt){var h=c.once,g=c.capture,b=e;!Qt&&h&&(b=e.__once||function $(j){this.removeEventListener(o,$,g),e.call(this,j)},e.__once=b),a.addEventListener(o,b,$t?c:g)}a.addEventListener(o,e,c)}function Ii(a,o,e,c){var h=c&&typeof c!="boolean"?c.capture:c;a.removeEventListener(o,e,h),e.__once&&a.removeEventListener(o,e.__once,h)}function Ie(a,o,e,c){return Fi(a,o,e,c),function(){Ii(a,o,e,c)}}function Pt(a){return a&&a.ownerDocument||document}function Li(a){const o=reactExports.useRef(a);return reactExports.useEffect(()=>{o.current=a},[a]),o}function et(a){const o=Li(a);return reactExports.useCallback(function(...e){return o.current&&o.current(...e)},[o])}const qr=()=>{};function Hi(a){return a.button===0}function Ni(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}const Tt=a=>a&&("current"in a?a.current:a),zr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Ui(a,o=qr,{disabled:e,clickTrigger:c="click"}={}){const h=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(rt=>{const nt=Tt(a);sn(!!nt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),h.current=!nt||Ni(rt)||!Hi(rt)||!!Wt(nt,rt.target)||g.current,g.current=!1},[a]),$=et(rt=>{const nt=Tt(a);nt&&Wt(nt,rt.target)&&(g.current=!0)}),j=et(rt=>{h.current||o(rt)});reactExports.useEffect(()=>{var rt,nt;if(e||a==null)return;const pt=Pt(Tt(a)),wt=pt.defaultView||window;let Dt=(rt=wt.event)!=null?rt:(nt=wt.parent)==null?void 0:nt.event,Lt=null;zr[c]&&(Lt=Ie(pt,zr[c],$,!0));const it=Ie(pt,c,b,!0),st=Ie(pt,c,gt=>{if(gt===Dt){Dt=void 0;return}j(gt)});let bt=[];return"ontouchstart"in pt.documentElement&&(bt=[].slice.call(pt.body.children).map(gt=>Ie(gt,"mousemove",qr))),()=>{Lt==null||Lt(),it(),st(),bt.forEach(gt=>gt())}},[a,e,c,b,$,j])}function Yi(a){return a.code==="Escape"||a.keyCode===27}const Vi=()=>{};function Wi(a,o,{disabled:e,clickTrigger:c}={}){const h=o||Vi;Ui(a,h,{disabled:e,clickTrigger:c});const g=et(b=>{Yi(b)&&h(b)});reactExports.useEffect(()=>{if(e||a==null)return;const b=Pt(Tt(a));let $=(b.defaultView||window).event;const j=Ie(b,"keyup",rt=>{if(rt===$){$=void 0;return}g(rt)});return()=>{j()}},[a,e,g])}const gn=reactExports.createContext(dr?window:void 0);gn.Provider;function Ji(){return reactExports.useContext(gn)}const Yt=(a,o)=>dr?a==null?(o||Pt()).body:(typeof a=="function"&&(a=a()),a&&"current"in a&&(a=a.current),a&&("nodeType"in a||a.getBoundingClientRect)?a:null):null;function Kr(a,o){const e=Ji(),[c,h]=reactExports.useState(()=>Yt(a,e==null?void 0:e.document));if(!c){const g=Yt(a);g&&h(g)}return reactExports.useEffect(()=>{o&&c&&o(c)},[o,c]),reactExports.useEffect(()=>{const g=Yt(a);g!==c&&h(g)},[a,c]),c}function Gi(a){const o={};return Array.isArray(a)?(a==null||a.forEach(e=>{o[e.name]=e}),o):a||o}function qi(a={}){return Array.isArray(a)?a:Object.keys(a).map(o=>(a[o].name=o,a[o]))}function zi({enabled:a,enableEvents:o,placement:e,flip:c,offset:h,fixed:g,containerPadding:b,arrowElement:$,popperConfig:j={}}){var rt,nt,pt,wt,Dt;const Lt=Gi(j.modifiers);return Object.assign({},j,{placement:e,enabled:a,strategy:g?"fixed":j.strategy,modifiers:qi(Object.assign({},Lt,{eventListeners:{enabled:o,options:(rt=Lt.eventListeners)==null?void 0:rt.options},preventOverflow:Object.assign({},Lt.preventOverflow,{options:b?Object.assign({padding:b},(nt=Lt.preventOverflow)==null?void 0:nt.options):(pt=Lt.preventOverflow)==null?void 0:pt.options}),offset:{options:Object.assign({offset:h},(wt=Lt.offset)==null?void 0:wt.options)},arrow:Object.assign({},Lt.arrow,{enabled:!!$,options:Object.assign({},(Dt=Lt.arrow)==null?void 0:Dt.options,{element:$})}),flip:Object.assign({enabled:!!c},Lt.flip)}))})}const Ki=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$i=typeof document<"u",Xt=$i||Ki?reactExports.useLayoutEffect:reactExports.useEffect;function Qi({children:a,in:o,onExited:e,mountOnEnter:c,unmountOnExit:h}){const g=reactExports.useRef(null),b=reactExports.useRef(o),$=et(e);reactExports.useEffect(()=>{o?b.current=!0:$(g.current)},[o,$]);const j=tt(g,a.ref),rt=reactExports.cloneElement(a,{ref:j});return o?rt:h||!b.current&&c?null:rt}function Xi({in:a,onTransition:o}){const e=reactExports.useRef(null),c=reactExports.useRef(!0),h=et(o);return Xt(()=>{if(!e.current)return;let g=!1;return h({in:a,element:e.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[a,h]),Xt(()=>(c.current=!1,()=>{c.current=!0}),[]),e}function Zi({children:a,in:o,onExited:e,onEntered:c,transition:h}){const[g,b]=reactExports.useState(!o);o&&g&&b(!1);const $=Xi({in:!!o,onTransition:rt=>{const nt=()=>{rt.isStale()||(rt.in?c==null||c(rt.element,rt.initial):(b(!0),e==null||e(rt.element)))};Promise.resolve(h(rt)).then(nt,pt=>{throw rt.in||b(!0),pt})}}),j=tt($,a.ref);return g&&!o?null:reactExports.cloneElement(a,{ref:j})}function ea(a,o,e){return a?k.jsx(a,Object.assign({},e)):o?k.jsx(Zi,Object.assign({},e,{transition:o})):k.jsx(Qi,Object.assign({},e))}const bn=reactExports.forwardRef((a,o)=>{const{flip:e,offset:c,placement:h,containerPadding:g,popperConfig:b={},transition:$,runTransition:j}=a,[rt,nt]=Br(),[pt,wt]=Br(),Dt=tt(nt,o),Lt=Kr(a.container),it=Kr(a.target),[st,bt]=reactExports.useState(!a.show),gt=Bi(it,rt,zi({placement:h,enableEvents:!!a.show,containerPadding:g||5,flip:e,offset:c,arrowElement:pt,popperConfig:b}));a.show&&st&&bt(!1);const Et=(...gr)=>{bt(!0),a.onExited&&a.onExited(...gr)},ot=a.show||!st;if(Wi(rt,a.onHide,{disabled:!a.rootClose||a.rootCloseDisabled,clickTrigger:a.rootCloseEvent}),!ot)return null;const{onExit:_t,onExiting:Mt,onEnter:Bt,onEntering:It,onEntered:jt}=a;let tr=a.children(Object.assign({},gt.attributes.popper,{style:gt.styles.popper,ref:Dt}),{popper:gt,placement:h,show:!!a.show,arrowProps:Object.assign({},gt.attributes.arrow,{style:gt.styles.arrow,ref:wt})});return tr=ea($,j,{in:!!a.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:tr,onExit:_t,onExiting:Mt,onExited:Et,onEnter:Bt,onEntering:It,onEntered:jt}),Lt?Ke.createPortal(tr,Lt):null});bn.displayName="Overlay";const ta=bn;function $r(a,o){return a.classList?!!o&&a.classList.contains(o):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+o+" ")!==-1}const ra=["xxl","xl","lg","md","sm","xs"],na="xs",wn=reactExports.createContext({prefixes:{},breakpoints:ra,minBreakpoint:na});function Ne(a,o){const{prefixes:e}=reactExports.useContext(wn);return a||e[o]||o}function xn(){const{dir:a}=reactExports.useContext(wn);return a==="rtl"}const En=reactExports.forwardRef(({className:a,bsPrefix:o,as:e="div",...c},h)=>(o=Ne(o,"popover-header"),k.jsx(e,{ref:h,className:Ye(a,o),...c})));En.displayName="PopoverHeader";const oa=En,An=reactExports.forwardRef(({className:a,bsPrefix:o,as:e="div",...c},h)=>(o=Ne(o,"popover-body"),k.jsx(e,{ref:h,className:Ye(a,o),...c})));An.displayName="PopoverBody";const On=An;function Rn(a,o){let e=a;return a==="left"?e=o?"end":"start":a==="right"&&(e=o?"start":"end"),e}function Tn(a="absolute"){return{position:a,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ia=reactExports.forwardRef(({bsPrefix:a,placement:o="right",className:e,style:c,children:h,body:g,arrowProps:b,hasDoneInitialMeasure:$,popper:j,show:rt,...nt},pt)=>{const wt=Ne(a,"popover"),Dt=xn(),[Lt]=(o==null?void 0:o.split("-"))||[],it=Rn(Lt,Dt);let st=c;return rt&&!$&&(st={...c,...Tn(j==null?void 0:j.strategy)}),k.jsxs("div",{ref:pt,role:"tooltip",style:st,"x-placement":Lt,className:Ye(e,wt,Lt&&`bs-popover-${it}`),...nt,children:[k.jsx("div",{className:"popover-arrow",...b}),g?k.jsx(On,{children:h}):h]})}),Zt=Object.assign(ia,{Header:oa,Body:On,POPPER_OFFSET:[0,8]}),Cn=reactExports.forwardRef(({bsPrefix:a,placement:o="right",className:e,style:c,children:h,arrowProps:g,hasDoneInitialMeasure:b,popper:$,show:j,...rt},nt)=>{a=Ne(a,"tooltip");const pt=xn(),[wt]=(o==null?void 0:o.split("-"))||[],Dt=Rn(wt,pt);let Lt=c;return j&&!b&&(Lt={...c,...Tn($==null?void 0:$.strategy)}),k.jsxs("div",{ref:nt,style:Lt,role:"tooltip","x-placement":wt,className:Ye(e,a,`bs-tooltip-${Dt}`),...rt,children:[k.jsx("div",{className:"tooltip-arrow",...g}),k.jsx("div",{className:`${a}-inner`,children:h})]})});Cn.displayName="Tooltip";const Sn=Object.assign(Cn,{TOOLTIP_OFFSET:[0,6]});function aa(a){const o=reactExports.useRef(null),e=Ne(void 0,"popover"),c=Ne(void 0,"tooltip"),h=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(a)return a;if(o.current){if($r(o.current,e))return Zt.POPPER_OFFSET;if($r(o.current,c))return Sn.TOOLTIP_OFFSET}return[0,0]}}}),[a,e,c]);return[o,[h]]}const Qr={disabled:!1},kn=React.createContext(null);var ca=function(a){return a.scrollTop},ut="unmounted",Be="exited",je="entering",Fe="entered",er="exiting",Se=function(a){Oo(o,a);function o(c,h){var g;g=a.call(this,c,h)||this;var b=h,$=b&&!b.isMounting?c.enter:c.appear,j;return g.appearStatus=null,c.in?$?(j=Be,g.appearStatus=je):j=Fe:c.unmountOnExit||c.mountOnEnter?j=ut:j=Be,g.state={status:j},g.nextCallback=null,g}o.getDerivedStateFromProps=function(c,h){var g=c.in;return g&&h.status===ut?{status:Be}:null};var e=o.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(c){var h=null;if(c!==this.props){var g=this.state.status;this.props.in?g!==je&&g!==Fe&&(h=je):(g===je||g===Fe)&&(h=er)}this.updateStatus(!1,h)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var c=this.props.timeout,h,g,b;return h=g=b=c,c!=null&&typeof c!="number"&&(h=c.exit,g=c.enter,b=c.appear!==void 0?c.appear:g),{exit:h,enter:g,appear:b}},e.updateStatus=function(c,h){if(c===void 0&&(c=!1),h!==null)if(this.cancelNextCallback(),h===je){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this);g&&ca(g)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Be&&this.setState({status:ut})},e.performEnter=function(c){var h=this,g=this.props.enter,b=this.context?this.context.isMounting:c,$=this.props.nodeRef?[b]:[Ke.findDOMNode(this),b],j=$[0],rt=$[1],nt=this.getTimeouts(),pt=b?nt.appear:nt.enter;if(!c&&!g||Qr.disabled){this.safeSetState({status:Fe},function(){h.props.onEntered(j)});return}this.props.onEnter(j,rt),this.safeSetState({status:je},function(){h.props.onEntering(j,rt),h.onTransitionEnd(pt,function(){h.safeSetState({status:Fe},function(){h.props.onEntered(j,rt)})})})},e.performExit=function(){var c=this,h=this.props.exit,g=this.getTimeouts(),b=this.props.nodeRef?void 0:Ke.findDOMNode(this);if(!h||Qr.disabled){this.safeSetState({status:Be},function(){c.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:er},function(){c.props.onExiting(b),c.onTransitionEnd(g.exit,function(){c.safeSetState({status:Be},function(){c.props.onExited(b)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(c,h){h=this.setNextCallback(h),this.setState(c,h)},e.setNextCallback=function(c){var h=this,g=!0;return this.nextCallback=function(b){g&&(g=!1,h.nextCallback=null,c(b))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},e.onTransitionEnd=function(c,h){this.setNextCallback(h);var g=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this),b=c==null&&!this.props.addEndListener;if(!g||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var $=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],j=$[0],rt=$[1];this.props.addEndListener(j,rt)}c!=null&&setTimeout(this.nextCallback,c)},e.render=function(){var c=this.state.status;if(c===ut)return null;var h=this.props,g=h.children;h.in,h.mountOnEnter,h.unmountOnExit,h.appear,h.enter,h.exit,h.timeout,h.addEndListener,h.onEnter,h.onEntering,h.onEntered,h.onExit,h.onExiting,h.onExited,h.nodeRef;var b=Eo(h,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(kn.Provider,{value:null},typeof g=="function"?g(c,b):React.cloneElement(React.Children.only(g),b))},o}(React.Component);Se.contextType=kn;Se.propTypes={};function ze(){}Se.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ze,onEntering:ze,onEntered:ze,onExit:ze,onExiting:ze,onExited:ze};Se.UNMOUNTED=ut;Se.EXITED=Be;Se.ENTERING=je;Se.ENTERED=Fe;Se.EXITING=er;const ua=Se;function la(a){var o=Pt(a);return o&&o.defaultView||window}function fa(a,o){return la(a).getComputedStyle(a,o)}var da=/([A-Z])/g;function pa(a){return a.replace(da,"-$1").toLowerCase()}var va=/^ms-/;function Ot(a){return pa(a).replace(va,"-ms-")}var ma=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ha(a){return!!(a&&ma.test(a))}function Pn(a,o){var e="",c="";if(typeof o=="string")return a.style.getPropertyValue(Ot(o))||fa(a).getPropertyValue(Ot(o));Object.keys(o).forEach(function(h){var g=o[h];!g&&g!==0?a.style.removeProperty(Ot(h)):ha(h)?c+=h+"("+g+") ":e+=Ot(h)+": "+g+";"}),c&&(e+="transform: "+c+";"),a.style.cssText+=";"+e}function ya(a,o,e,c){if(e===void 0&&(e=!1),c===void 0&&(c=!0),a){var h=document.createEvent("HTMLEvents");h.initEvent(o,e,c),a.dispatchEvent(h)}}function ga(a){var o=Pn(a,"transitionDuration")||"",e=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*e}function ba(a,o,e){e===void 0&&(e=5);var c=!1,h=setTimeout(function(){c||ya(a,"transitionend",!0)},o+e),g=Ie(a,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(h),g()}}function wa(a,o,e,c){e==null&&(e=ga(a)||0);var h=ba(a,e,c),g=Ie(a,"transitionend",o);return function(){h(),g()}}function Xr(a,o){const e=Pn(a,o)||"",c=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*c}function xa(a,o){const e=Xr(a,"transitionDuration"),c=Xr(a,"transitionDelay"),h=wa(a,g=>{g.target===a&&(h(),o(g))},e+c)}function Ea(a){a.offsetHeight}function St(a){return a&&"setState"in a?Ke.findDOMNode(a):a??null}const Aa=React.forwardRef(({onEnter:a,onEntering:o,onEntered:e,onExit:c,onExiting:h,onExited:g,addEndListener:b,children:$,childRef:j,...rt},nt)=>{const pt=reactExports.useRef(null),wt=tt(pt,j),Dt=Mt=>{wt(St(Mt))},Lt=Mt=>Bt=>{Mt&&pt.current&&Mt(pt.current,Bt)},it=reactExports.useCallback(Lt(a),[a]),st=reactExports.useCallback(Lt(o),[o]),bt=reactExports.useCallback(Lt(e),[e]),gt=reactExports.useCallback(Lt(c),[c]),Et=reactExports.useCallback(Lt(h),[h]),ot=reactExports.useCallback(Lt(g),[g]),_t=reactExports.useCallback(Lt(b),[b]);return k.jsx(ua,{ref:nt,...rt,onEnter:it,onEntered:bt,onEntering:st,onExit:gt,onExited:ot,onExiting:Et,addEndListener:_t,nodeRef:pt,children:typeof $=="function"?(Mt,Bt)=>$(Mt,{...Bt,ref:Dt}):React.cloneElement($,{ref:Dt})})}),Oa=Aa,Ra={[je]:"show",[Fe]:"show"},jn=reactExports.forwardRef(({className:a,children:o,transitionClasses:e={},onEnter:c,...h},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...h},$=reactExports.useCallback((j,rt)=>{Ea(j),c==null||c(j,rt)},[c]);return k.jsx(Oa,{ref:g,addEndListener:xa,...b,onEnter:$,childRef:o.ref,children:(j,rt)=>reactExports.cloneElement(o,{...rt,className:Ye("fade",a,o.props.className,Ra[j],e[j])})})});jn.displayName="Fade";const Zr=jn;function Ta(a,o){const{ref:e}=a,{ref:c}=o;a.ref=e.__wrapped||(e.__wrapped=h=>e(St(h))),o.ref=c.__wrapped||(c.__wrapped=h=>c(St(h)))}const Dn=reactExports.forwardRef(({children:a,transition:o=Zr,popperConfig:e={},rootClose:c=!1,placement:h="top",show:g=!1,...b},$)=>{const j=reactExports.useRef({}),[rt,nt]=reactExports.useState(null),[pt,wt]=aa(b.offset),Dt=tt($,pt),Lt=o===!0?Zr:o||void 0,it=et(st=>{nt(st),e==null||e.onFirstUpdate==null||e.onFirstUpdate(st)});return Xt(()=>{rt&&b.target&&(j.current.scheduleUpdate==null||j.current.scheduleUpdate())},[rt,b.target]),reactExports.useEffect(()=>{g||nt(null)},[g]),k.jsx(ta,{...b,ref:Dt,popperConfig:{...e,modifiers:wt.concat(e.modifiers||[]),onFirstUpdate:it},transition:Lt,rootClose:c,placement:h,show:g,children:(st,{arrowProps:bt,popper:gt,show:Et})=>{var ot,_t;Ta(st,bt);const Mt=gt==null?void 0:gt.placement,Bt=Object.assign(j.current,{state:gt==null?void 0:gt.state,scheduleUpdate:gt==null?void 0:gt.update,placement:Mt,outOfBoundaries:(gt==null||(ot=gt.state)==null||(_t=ot.modifiersData.hide)==null?void 0:_t.isReferenceHidden)||!1,strategy:e.strategy}),It=!!rt;return typeof a=="function"?a({...st,placement:Mt,show:Et,...!o&&Et&&{className:"show"},popper:Bt,arrowProps:bt,hasDoneInitialMeasure:It}):reactExports.cloneElement(a,{...st,placement:Mt,arrowProps:bt,popper:Bt,hasDoneInitialMeasure:It,className:Ye(a.props.className,!o&&Et&&"show"),style:{...a.props.style,...st.style}})}})});Dn.displayName="Overlay";const Ca=Dn;function Sa(a){return a&&typeof a=="object"?a:{show:a,hide:a}}function en(a,o,e){const[c]=o,h=c.currentTarget,g=c.relatedTarget||c.nativeEvent[e];(!g||g!==h)&&!Wt(h,g)&&a(...o)}N.oneOf(["click","hover","focus"]);const ka=({trigger:a=["hover","focus"],overlay:o,children:e,popperConfig:c={},show:h,defaultShow:g=!1,onToggle:b,delay:$,placement:j,flip:rt=j&&j.indexOf("auto")!==-1,...nt})=>{const pt=reactExports.useRef(null),wt=tt(pt,e.ref),Dt=go(),Lt=reactExports.useRef(""),[it,st]=Ao(h,g,b),bt=Sa($),{onFocus:gt,onBlur:Et,onClick:ot}=typeof e!="function"?reactExports.Children.only(e).props:{},_t=Er=>{wt(St(Er))},Mt=reactExports.useCallback(()=>{if(Dt.clear(),Lt.current="show",!bt.show){st(!0);return}Dt.set(()=>{Lt.current==="show"&&st(!0)},bt.show)},[bt.show,st,Dt]),Bt=reactExports.useCallback(()=>{if(Dt.clear(),Lt.current="hide",!bt.hide){st(!1);return}Dt.set(()=>{Lt.current==="hide"&&st(!1)},bt.hide)},[bt.hide,st,Dt]),It=reactExports.useCallback((...Er)=>{Mt(),gt==null||gt(...Er)},[Mt,gt]),jt=reactExports.useCallback((...Er)=>{Bt(),Et==null||Et(...Er)},[Bt,Et]),tr=reactExports.useCallback((...Er)=>{st(!it),ot==null||ot(...Er)},[ot,st,it]),gr=reactExports.useCallback((...Er)=>{en(Mt,Er,"fromElement")},[Mt]),vr=reactExports.useCallback((...Er)=>{en(Bt,Er,"toElement")},[Bt]),hr=a==null?[]:[].concat(a),mr={ref:_t};return hr.indexOf("click")!==-1&&(mr.onClick=tr),hr.indexOf("focus")!==-1&&(mr.onFocus=It,mr.onBlur=jt),hr.indexOf("hover")!==-1&&(mr.onMouseOver=gr,mr.onMouseOut=vr),k.jsxs(k.Fragment,{children:[typeof e=="function"?e(mr):reactExports.cloneElement(e,mr),k.jsx(Ca,{...nt,show:it,onHide:Bt,flip:rt,placement:j,popperConfig:c,target:pt.current,children:o})]})},pr=ka,Da="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function qa(){return k.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:k.jsx("img",{src:Da,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const _a=["as","disabled"];function Ma(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function Ba(a){return!a||a.trim()==="#"}function _n({tagName:a,disabled:o,href:e,target:c,rel:h,role:g,onClick:b,tabIndex:$=0,type:j}){a||(e!=null||c!=null||h!=null?a="a":a="button");const rt={tagName:a};if(a==="button")return[{type:j||"button",disabled:o},rt];const nt=wt=>{if((o||a==="a"&&Ba(e))&&wt.preventDefault(),o){wt.stopPropagation();return}b==null||b(wt)},pt=wt=>{wt.key===" "&&(wt.preventDefault(),nt(wt))};return a==="a"&&(e||(e="#"),o&&(e=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:$,href:e,target:a==="a"?c:void 0,"aria-disabled":o||void 0,rel:a==="a"?h:void 0,onClick:nt,onKeyDown:pt},rt]}const Fa=reactExports.forwardRef((a,o)=>{let{as:e,disabled:c}=a,h=Ma(a,_a);const[g,{tagName:b}]=_n(Object.assign({tagName:e,disabled:c},h));return k.jsx(b,Object.assign({},h,g,{ref:o}))});Fa.displayName="Button";const Mn=reactExports.forwardRef(({as:a,bsPrefix:o,variant:e="primary",size:c,active:h=!1,disabled:g=!1,className:b,...$},j)=>{const rt=Ne(o,"btn"),[nt,{tagName:pt}]=_n({tagName:a,disabled:g,...$}),wt=pt;return k.jsx(wt,{...nt,...$,ref:j,disabled:g,className:Ye(b,rt,h&&"active",e&&`${rt}-${e}`,c&&`${rt}-${c}`,$.href&&g&&"disabled")})});Mn.displayName="Button";const Ia=Mn,La="_download_dropdown_menu_23m9j_1",Ha={download_dropdown_menu:La};function za(a){var o=`${a.aiida_rest_url}/nodes/${a.uuid}/download`,e=k.jsx(Zt,{children:k.jsx(Zt.Body,{style:{padding:"5px 0px"},children:k.jsxs("ul",{className:Ha.download_dropdown_menu,children:[k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=chemdoodle`,children:"ChemDoodle"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=cif`,children:"CIF"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=xsf`,children:"XSF"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=xyz`,children:"XYZ"})})]})})});return k.jsx(pr,{trigger:"click",rootClose:!0,placement:"bottom",overlay:e,children:k.jsx(Ia,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:k.jsx("span",{className:"bi bi-download"})})})}const Na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Ka(a){var o=`${a.explore_url}/details/${a.uuid}?nodeType=NODE`;return k.jsx(pr,{placement:"bottom",overlay:k.jsxs(Sn,{className:"explore_btn_tooltip",children:["Browse provenance",k.jsx("br",{}),a.uuid]}),children:k.jsx("a",{href:o,target:"_blank",children:k.jsx("img",{src:Na,className:"explore_btn_aiida_logo"})})})}function $a(a){return a.split(/(\d+)/).map((o,e)=>o.match(/\d+/)?k.jsx("sub",{children:o},e):o)}function Qa(a){let o=!1;return k.jsx("span",{children:a.split("").map((e,c)=>e=="_"?(o=!0,null):o?(o=!1,k.jsx("sub",{children:e},c)):e)})}function TitleAndLogo(){return jsxRuntimeExports.jsxs("div",{className:"title-and-logo",children:[jsxRuntimeExports.jsxs("div",{className:"title-and-doi",children:[jsxRuntimeExports.jsx("span",{className:"title-span",children:"Materials Cloud 2D crystals database (MC2D)"}),jsxRuntimeExports.jsxs("div",{className:"doi-container",children:[jsxRuntimeExports.jsx(Ja,{doi_id:"az-b2"}),jsxRuntimeExports.jsx(Ja,{doi_id:"36-nd"})]})]}),jsxRuntimeExports.jsx("img",{src:Mc2dLogo,className:"mc2d-logo"})]})}function useUncontrolledProp(a,o,e){const c=reactExports.useRef(a!==void 0),[h,g]=reactExports.useState(o),b=a!==void 0,$=c.current;return c.current=b,!b&&$&&h!==o&&g(o),[b?a:h,reactExports.useCallback((...j)=>{const[rt,...nt]=j;let pt=e==null?void 0:e(rt,...nt);return g(rt),pt},[e])]}const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(a=!1){let o=reactExports.useContext($b5e257d569688ac6$var$SSRContext),e=reactExports.useRef(null);if(e.current===null&&!a){var c,h;let g=(h=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||h===void 0||(c=h.ReactCurrentOwner)===null||c===void 0?void 0:c.current;if(g){let b=$b5e257d569688ac6$var$componentIds.get(g);b==null?$b5e257d569688ac6$var$componentIds.set(g,{id:o.current,state:g.memoizedState}):g.memoizedState!==b.state&&(o.current=b.id,$b5e257d569688ac6$var$componentIds.delete(g))}e.current=++o.current}return e.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(a){let o=reactExports.useContext($b5e257d569688ac6$var$SSRContext);o===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let e=$b5e257d569688ac6$var$useCounter(!!a),c=`react-aria${o.prefix}`;return a||`${c}-${e}`}function $b5e257d569688ac6$var$useModernSSRSafeId(a){let o=React.useId(),[e]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),c=e?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return a||`${c}-${o}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(a){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const TabContext=reactExports.createContext(null),TabContext$1=TabContext,SelectableContext=reactExports.createContext(null),makeEventKey=(a,o=null)=>a!=null?String(a):o||null,SelectableContext$1=SelectableContext,_excluded$4=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_excluded2=["activeKey","getControlledId","getControllerId"],_excluded3=["as"];function _objectWithoutPropertiesLoose$4(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function useTabPanel(a){let{active:o,eventKey:e,mountOnEnter:c,transition:h,unmountOnExit:g,role:b="tabpanel",onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:pt,onExited:wt}=a,Dt=_objectWithoutPropertiesLoose$4(a,_excluded$4);const Lt=reactExports.useContext(TabContext$1);if(!Lt)return[Object.assign({},Dt,{role:b}),{eventKey:e,isActive:o,mountOnEnter:c,transition:h,unmountOnExit:g,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:pt,onExited:wt}];const{activeKey:it,getControlledId:st,getControllerId:bt}=Lt,gt=_objectWithoutPropertiesLoose$4(Lt,_excluded2),Et=makeEventKey(e);return[Object.assign({},Dt,{role:b,id:st(e),"aria-labelledby":bt(e)}),{eventKey:e,isActive:o==null&&Et!=null?makeEventKey(it)===Et:o,transition:h||gt.transition,mountOnEnter:c??gt.mountOnEnter,unmountOnExit:g??gt.unmountOnExit,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:pt,onExited:wt}]}const TabPanel=reactExports.forwardRef((a,o)=>{let{as:e="div"}=a,c=_objectWithoutPropertiesLoose$4(a,_excluded3);const[h,{isActive:g,onEnter:b,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:pt,mountOnEnter:wt,unmountOnExit:Dt,transition:Lt=NoopTransition}]=useTabPanel(c);return jsxRuntimeExports.jsx(TabContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(Lt,{in:g,onEnter:b,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:pt,mountOnEnter:wt,unmountOnExit:Dt,children:jsxRuntimeExports.jsx(e,Object.assign({},h,{ref:o,hidden:!g,"aria-hidden":!g}))})})})});TabPanel.displayName="TabPanel";const Tabs$2=a=>{const{id:o,generateChildId:e,onSelect:c,activeKey:h,defaultActiveKey:g,transition:b,mountOnEnter:$,unmountOnExit:j,children:rt}=a,[nt,pt]=useUncontrolledProp(h,g,c),wt=$b5e257d569688ac6$export$619500959fc48b26(o),Dt=reactExports.useMemo(()=>e||((it,st)=>wt?`${wt}-${st}-${it}`:null),[wt,e]),Lt=reactExports.useMemo(()=>({onSelect:pt,activeKey:nt,transition:b,mountOnEnter:$||!1,unmountOnExit:j||!1,getControlledId:it=>Dt(it,"tabpane"),getControllerId:it=>Dt(it,"tab")}),[pt,nt,b,$,j,Dt]);return jsxRuntimeExports.jsx(TabContext$1.Provider,{value:Lt,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:pt||null,children:rt})})};Tabs$2.Panel=TabPanel;const BaseTabs=Tabs$2;function getTabTransitionComponent(a){return typeof a=="boolean"?a?Fade$1:NoopTransition:a}const TabContainer=({transition:a,...o})=>jsxRuntimeExports.jsx(BaseTabs,{...o,transition:getTabTransitionComponent(a)});TabContainer.displayName="TabContainer";const TabContainer$1=TabContainer,TabContent=reactExports.forwardRef(({className:a,bsPrefix:o,as:e="div",...c},h)=>(o=useBootstrapPrefix(o,"tab-content"),jsxRuntimeExports.jsx(e,{ref:h,className:classNames(a,o),...c})));TabContent.displayName="TabContent";const TabContent$1=TabContent,TabPane=reactExports.forwardRef(({bsPrefix:a,transition:o,...e},c)=>{const[{className:h,as:g="div",...b},{isActive:$,onEnter:j,onEntering:rt,onEntered:nt,onExit:pt,onExiting:wt,onExited:Dt,mountOnEnter:Lt,unmountOnExit:it,transition:st=Fade$1}]=useTabPanel({...e,transition:getTabTransitionComponent(o)}),bt=useBootstrapPrefix(a,"tab-pane");return jsxRuntimeExports.jsx(TabContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(st,{in:$,onEnter:j,onEntering:rt,onEntered:nt,onExit:pt,onExiting:wt,onExited:Dt,mountOnEnter:Lt,unmountOnExit:it,children:jsxRuntimeExports.jsx(g,{...b,ref:c,className:classNames(h,bt,$&&"active")})})})})});TabPane.displayName="TabPane";const TabPane$1=TabPane,propTypes$2={eventKey:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.node.isRequired,disabled:PropTypes.bool,tabClassName:PropTypes.string,tabAttrs:PropTypes.object},Tab=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Tab.propTypes=propTypes$2;const Tab$1=Object.assign(Tab,{Container:TabContainer$1,Content:TabContent$1,Pane:TabPane$1});var all={exports:{}},createChainableTypeChecker={exports:{}};(function(a,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=e;function e(c){function h(b,$,j,rt,nt,pt){var wt=rt||"<<anonymous>>",Dt=pt||j;if($[j]==null)return b?new Error("Required "+nt+" `"+Dt+"` was not specified "+("in `"+wt+"`.")):null;for(var Lt=arguments.length,it=Array(Lt>6?Lt-6:0),st=6;st<Lt;st++)it[st-6]=arguments[st];return c.apply(void 0,[$,j,wt,nt,Dt].concat(it))}var g=h.bind(null,!1);return g.isRequired=h.bind(null,!0),g}a.exports=o.default})(createChainableTypeChecker,createChainableTypeChecker.exports);var createChainableTypeCheckerExports=createChainableTypeChecker.exports;(function(a,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=g;var e=createChainableTypeCheckerExports,c=h(e);function h(b){return b&&b.__esModule?b:{default:b}}function g(){for(var b=arguments.length,$=Array(b),j=0;j<b;j++)$[j]=arguments[j];function rt(){for(var nt=arguments.length,pt=Array(nt),wt=0;wt<nt;wt++)pt[wt]=arguments[wt];var Dt=null;return $.forEach(function(Lt){if(Dt==null){var it=Lt.apply(void 0,pt);it!=null&&(Dt=it)}}),Dt}return(0,c.default)(rt)}a.exports=o.default})(all,all.exports);var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(a,o){return toArray(a.querySelectorAll(o))}function useForceUpdate(){const[,a]=reactExports.useReducer(o=>!o,!1);return a}const NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const NavContext$1=NavContext,ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(a){return`${ATTRIBUTE_PREFIX}${a}`}function dataProp(a){return`${PROPERTY_PREFIX}${a}`}const _excluded$3=["as","disabled"];function _objectWithoutPropertiesLoose$3(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function isTrivialHref$1(a){return!a||a.trim()==="#"}function useButtonProps({tagName:a,disabled:o,href:e,target:c,rel:h,role:g,onClick:b,tabIndex:$=0,type:j}){a||(e!=null||c!=null||h!=null?a="a":a="button");const rt={tagName:a};if(a==="button")return[{type:j||"button",disabled:o},rt];const nt=wt=>{if((o||a==="a"&&isTrivialHref$1(e))&&wt.preventDefault(),o){wt.stopPropagation();return}b==null||b(wt)},pt=wt=>{wt.key===" "&&(wt.preventDefault(),nt(wt))};return a==="a"&&(e||(e="#"),o&&(e=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:$,href:e,target:a==="a"?c:void 0,"aria-disabled":o||void 0,rel:a==="a"?h:void 0,onClick:nt,onKeyDown:pt},rt]}const Button=reactExports.forwardRef((a,o)=>{let{as:e,disabled:c}=a,h=_objectWithoutPropertiesLoose$3(a,_excluded$3);const[g,{tagName:b}]=useButtonProps(Object.assign({tagName:e,disabled:c},h));return jsxRuntimeExports.jsx(b,Object.assign({},h,g,{ref:o}))});Button.displayName="Button";const _excluded$2=["as","active","eventKey"];function _objectWithoutPropertiesLoose$2(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function useNavItem({key:a,onClick:o,active:e,id:c,role:h,disabled:g}){const b=reactExports.useContext(SelectableContext$1),$=reactExports.useContext(NavContext$1),j=reactExports.useContext(TabContext$1);let rt=e;const nt={role:h};if($){!h&&$.role==="tablist"&&(nt.role="tab");const pt=$.getControllerId(a??null),wt=$.getControlledId(a??null);nt[dataAttr("event-key")]=a,nt.id=pt||c,rt=e==null&&a!=null?$.activeKey===a:e,(rt||!(j!=null&&j.unmountOnExit)&&!(j!=null&&j.mountOnEnter))&&(nt["aria-controls"]=wt)}return nt.role==="tab"&&(nt["aria-selected"]=rt,rt||(nt.tabIndex=-1),g&&(nt.tabIndex=-1,nt["aria-disabled"]=!0)),nt.onClick=useEventCallback(pt=>{g||(o==null||o(pt),a!=null&&b&&!pt.isPropagationStopped()&&b(a,pt))}),[nt,{isActive:rt}]}const NavItem$2=reactExports.forwardRef((a,o)=>{let{as:e=Button,active:c,eventKey:h}=a,g=_objectWithoutPropertiesLoose$2(a,_excluded$2);const[b,$]=useNavItem(Object.assign({key:makeEventKey(h,g.href),active:c},g));return b[dataAttr("active")]=$.isActive,jsxRuntimeExports.jsx(e,Object.assign({},g,b,{ref:o}))});NavItem$2.displayName="NavItem";const NavItem$3=NavItem$2,_excluded$1=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$1(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}const noop=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((a,o)=>{let{as:e="div",onSelect:c,activeKey:h,role:g,onKeyDown:b}=a,$=_objectWithoutPropertiesLoose$1(a,_excluded$1);const j=useForceUpdate(),rt=reactExports.useRef(!1),nt=reactExports.useContext(SelectableContext$1),pt=reactExports.useContext(TabContext$1);let wt,Dt;pt&&(g=g||"tablist",h=pt.activeKey,wt=pt.getControlledId,Dt=pt.getControllerId);const Lt=reactExports.useRef(null),it=Et=>{const ot=Lt.current;if(!ot)return null;const _t=qsa(ot,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),Mt=ot.querySelector("[aria-selected=true]");if(!Mt||Mt!==document.activeElement)return null;const Bt=_t.indexOf(Mt);if(Bt===-1)return null;let It=Bt+Et;return It>=_t.length&&(It=0),It<0&&(It=_t.length-1),_t[It]},st=(Et,ot)=>{Et!=null&&(c==null||c(Et,ot),nt==null||nt(Et,ot))},bt=Et=>{if(b==null||b(Et),!pt)return;let ot;switch(Et.key){case"ArrowLeft":case"ArrowUp":ot=it(-1);break;case"ArrowRight":case"ArrowDown":ot=it(1);break;default:return}ot&&(Et.preventDefault(),st(ot.dataset[dataProp("EventKey")]||null,Et),rt.current=!0,j())};reactExports.useEffect(()=>{if(Lt.current&&rt.current){const Et=Lt.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);Et==null||Et.focus()}rt.current=!1});const gt=useMergedRefs(o,Lt);return jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:st,children:jsxRuntimeExports.jsx(NavContext$1.Provider,{value:{role:g,activeKey:makeEventKey(h),getControlledId:wt||noop,getControllerId:Dt||noop},children:jsxRuntimeExports.jsx(e,Object.assign({},$,{onKeyDown:bt,ref:gt,role:g}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$3}),context$1=reactExports.createContext(null);context$1.displayName="NavbarContext";const NavbarContext=context$1,context=reactExports.createContext(null);context.displayName="CardHeaderContext";const CardHeaderContext=context,NavItem=reactExports.forwardRef(({className:a,bsPrefix:o,as:e="div",...c},h)=>(o=useBootstrapPrefix(o,"nav-item"),jsxRuntimeExports.jsx(e,{ref:h,className:classNames(a,o),...c})));NavItem.displayName="NavItem";const NavItem$1=NavItem,_excluded=["onKeyDown"];function _objectWithoutPropertiesLoose(a,o){if(a==null)return{};var e={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(o.indexOf(h)>=0)&&(e[h]=a[h]);return e}function isTrivialHref(a){return!a||a.trim()==="#"}const Anchor=reactExports.forwardRef((a,o)=>{let{onKeyDown:e}=a,c=_objectWithoutPropertiesLoose(a,_excluded);const[h]=useButtonProps(Object.assign({tagName:"a"},c)),g=useEventCallback(b=>{h.onKeyDown(b),e==null||e(b)});return isTrivialHref(c.href)||c.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:o},c,h,{onKeyDown:g})):jsxRuntimeExports.jsx("a",Object.assign({ref:o},c,{onKeyDown:e}))});Anchor.displayName="Anchor";const Anchor$1=Anchor,NavLink=reactExports.forwardRef(({bsPrefix:a,className:o,as:e=Anchor$1,active:c,eventKey:h,disabled:g=!1,...b},$)=>{a=useBootstrapPrefix(a,"nav-link");const[j,rt]=useNavItem({key:makeEventKey(h,b.href),active:c,disabled:g,...b});return jsxRuntimeExports.jsx(e,{...b,...j,ref:$,disabled:g,className:classNames(o,a,g&&"disabled",rt.isActive&&"active")})});NavLink.displayName="NavLink";const NavLink$1=NavLink,Nav=reactExports.forwardRef((a,o)=>{const{as:e="div",bsPrefix:c,variant:h,fill:g=!1,justify:b=!1,navbar:$,navbarScroll:j,className:rt,activeKey:nt,...pt}=useUncontrolled(a,{activeKey:"onSelect"}),wt=useBootstrapPrefix(c,"nav");let Dt,Lt,it=!1;const st=reactExports.useContext(NavbarContext),bt=reactExports.useContext(CardHeaderContext);return st?(Dt=st.bsPrefix,it=$??!0):bt&&({cardHeaderBsPrefix:Lt}=bt),jsxRuntimeExports.jsx(BaseNav,{as:e,ref:o,activeKey:nt,className:classNames(rt,{[wt]:!it,[`${Dt}-nav`]:it,[`${Dt}-nav-scroll`]:it&&j,[`${Lt}-${h}`]:!!Lt,[`${wt}-${h}`]:!!h,[`${wt}-fill`]:g,[`${wt}-justified`]:b}),...pt})});Nav.displayName="Nav";const Nav$1=Object.assign(Nav,{Item:NavItem$1,Link:NavLink$1});function map(a,o){let e=0;return reactExports.Children.map(a,c=>reactExports.isValidElement(c)?o(c,e++):c)}function forEach(a,o){let e=0;reactExports.Children.forEach(a,c=>{reactExports.isValidElement(c)&&o(c,e++)})}function hasChildOfType(a,o){return reactExports.Children.toArray(a).some(e=>reactExports.isValidElement(e)&&e.type===o)}function getDefaultActiveKey(a){let o;return forEach(a,e=>{o==null&&(o=e.props.eventKey)}),o}function renderTab(a){const{title:o,eventKey:e,disabled:c,tabClassName:h,tabAttrs:g,id:b}=a.props;return o==null?null:jsxRuntimeExports.jsx(NavItem$1,{as:"li",role:"presentation",children:jsxRuntimeExports.jsx(NavLink$1,{as:"button",type:"button",eventKey:e,disabled:c,id:b,className:h,...g,children:o})})}const Tabs=a=>{const{id:o,onSelect:e,transition:c,mountOnEnter:h=!1,unmountOnExit:g=!1,variant:b="tabs",children:$,activeKey:j=getDefaultActiveKey($),...rt}=useUncontrolled(a,{activeKey:"onSelect"});return jsxRuntimeExports.jsxs(BaseTabs,{id:o,activeKey:j,onSelect:e,transition:getTabTransitionComponent(c),mountOnEnter:h,unmountOnExit:g,children:[jsxRuntimeExports.jsx(Nav$1,{...rt,role:"tablist",as:"ul",variant:b,children:map($,renderTab)}),jsxRuntimeExports.jsx(TabContent$1,{children:map($,nt=>{const pt={...nt.props};return delete pt.title,delete pt.disabled,delete pt.tabClassName,delete pt.tabAttrs,jsxRuntimeExports.jsx(TabPane$1,{...pt})})})]})};Tabs.displayName="Tabs";const Tabs$1=Tabs;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(o){for(var e,c=1,h=arguments.length;c<h;c++){e=arguments[c];for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&(o[g]=e[g])}return o},__assign.apply(this,arguments)};function __rest(a,o){var e={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&o.indexOf(c)<0&&(e[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(a);h<c.length;h++)o.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(a,c[h])&&(e[c[h]]=a[c[h]]);return e}var hashFragment="",observer=null,asyncTimerId=null,scrollFunction=null;function reset(){hashFragment="",observer!==null&&observer.disconnect(),asyncTimerId!==null&&(window.clearTimeout(asyncTimerId),asyncTimerId=null)}function isInteractiveElement(a){var o=["BUTTON","INPUT","SELECT","TEXTAREA"],e=["A","AREA"];return o.includes(a.tagName)&&!a.hasAttribute("disabled")||e.includes(a.tagName)&&a.hasAttribute("href")}function getElAndScroll(){var a=null;if(hashFragment==="#")a=document.body;else{var o=hashFragment.replace("#","");a=document.getElementById(o),a===null&&hashFragment==="#top"&&(a=document.body)}if(a!==null){scrollFunction(a);var e=a.getAttribute("tabindex");return e===null&&!isInteractiveElement(a)&&a.setAttribute("tabindex",-1),a.focus({preventScroll:!0}),e===null&&!isInteractiveElement(a)&&(a.blur(),a.removeAttribute("tabindex")),reset(),!0}return!1}function hashLinkScroll(a){window.setTimeout(function(){getElAndScroll()===!1&&(observer===null&&(observer=new MutationObserver(getElAndScroll)),observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),asyncTimerId=window.setTimeout(function(){reset()},a||1e4))},0)}function genericHashLink(a){return React.forwardRef(function(o,e){var c="";typeof o.to=="string"&&o.to.includes("#")?c="#"+o.to.split("#").slice(1).join("#"):typeof o.to=="object"&&typeof o.to.hash=="string"&&(c=o.to.hash);var h={};a===NavLink$2&&(h.isActive=function($,j){return $&&$.isExact&&j.hash===c});function g($){reset(),hashFragment=o.elementId?"#"+o.elementId:c,o.onClick&&o.onClick($),hashFragment!==""&&!$.defaultPrevented&&$.button===0&&(!o.target||o.target==="_self")&&!($.metaKey||$.altKey||$.ctrlKey||$.shiftKey)&&(scrollFunction=o.scroll||function(j){return o.smooth?j.scrollIntoView({behavior:"smooth"}):j.scrollIntoView()},hashLinkScroll(o.timeout))}var b=__rest(o,["scroll","smooth","timeout","elementId"]);return React.createElement(a,__assign({},h,b,{onClick:g,ref:e}),o.children)})}var HashLink=genericHashLink(Link);genericHashLink(NavLink$2);function CitationBox(a){return jsxRuntimeExports.jsxs("div",{className:"citationbox-container",children:[jsxRuntimeExports.jsx("b",{children:a.title}),jsxRuntimeExports.jsx("br",{}),a.authors,", ",a.journal,", doi:"," ",jsxRuntimeExports.jsx("a",{href:`https://doi.org/${a.doi}`,target:"_blank",children:a.doi})," ","(",a.year,")",jsxRuntimeExports.jsx("br",{}),a.data?jsxRuntimeExports.jsxs("div",{className:"citationbox-extras",children:[jsxRuntimeExports.jsx("b",{children:"Accompanying data: "}),a.data]}):null,a.arxiv?jsxRuntimeExports.jsxs("div",{className:"citationbox-extras",children:[jsxRuntimeExports.jsx("b",{children:"arxiv: "}),a.arxiv]}):null]})}const references={mpds:{type:"db",ref:jsxRuntimeExports.jsxs("span",{children:["The Pauling File"," ",jsxRuntimeExports.jsx("a",{href:"http://paulingfile.com/",target:"_blank",children:"http://paulingfile.com/"})," ","exposed through the Materials Platform for Data Science"," ",jsxRuntimeExports.jsx("a",{href:"https://mpds.io/",target:"_blank",children:"https://mpds.io/"}),"."]})},cod:{type:"db",ref:jsxRuntimeExports.jsxs("span",{children:["S. Gražulis et al. Crystallography open database (COD): an open-access collection of crystal structures and platform for world-wide collaboration. Nucleic Acids Research, 40:D420-D427, 2012,"," ",jsxRuntimeExports.jsx("a",{href:"http://www.crystallography.net",target:"_blank",children:"http://www.crystallography.net"}),"."]})},icsd:{type:"db",ref:jsxRuntimeExports.jsxs("span",{children:["Inorganic Crystal Structure Database,"," ",jsxRuntimeExports.jsx("a",{href:"http://www.fiz-karlsruhe.com/icsd.html",target:"_blank",children:"http://www.fiz-karlsruhe.com/icsd.html"}),"."]})},aiida1:{type:"software",ref:jsxRuntimeExports.jsxs("span",{children:["S. P. Huber et al. AiiDA 1.0, a scalable computational infrastructure for automated reproducible workflows and data provenance. Sci Data 7, 300, 2020."," ",jsxRuntimeExports.jsx("a",{href:"http://www.aiida.net",target:"_blank",children:"http://www.aiida.net"}),"."]})},aiida2:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"G. Pizzi et al. AiiDA: Automated Interactive Infrastructure and Database for Computational Science. Computational Materials Science, 111:218-230, 2016."})},pymatgen:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"S. P. Ong et al. Python materials genomics (pymatgen): A robust, open-source python library for materials analysis. Computational Materials Science, 68:314-319, 2013."})},spglib:{type:"software",ref:jsxRuntimeExports.jsxs("span",{children:["A. Togo. Spglib."," ",jsxRuntimeExports.jsx("a",{href:"https://spglib.readthedocs.io/",target:"_blank",children:"https://spglib.readthedocs.io/"}),"."]})},qe:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"P. Giannozzi et al. Advanced capabilities for materials modelling with Quantum ESPRESSO. Journal of Physics: Condensed Matter, 29:465901, 2017."})},phonon_vis:{type:"software",ref:jsxRuntimeExports.jsxs("span",{children:["H. Miranda, Phonon Visualizer,"," ",jsxRuntimeExports.jsx("a",{href:"https://github.com/henriquemiranda/phononwebsite/",target:"_blank",children:"https://github.com/henriquemiranda/phononwebsite/"}),"."]})},cod_parser:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"A. Merkys et al. COD::CIF::Parser: an error-correcting CIF parser for the Perl language Journal of Applied Crystallography 49 (2016)"})},vdw_lee:{type:"pseudo_functionals",ref:jsxRuntimeExports.jsx("span",{children:"K. Lee et al., High-accuracy van der Waals density functional, Physical Review B, 82:081101, 2010."})},vdw_cooper:{type:"pseudo_functionals",ref:jsxRuntimeExports.jsx("span",{children:"V. R. Cooper, van der Waals density functional: An appropriate exchange-functional. Physical Review B, 81:161104, 2010."})},vdw_vydrov:{type:"pseudo_functionals",ref:jsxRuntimeExports.jsx("span",{children:"O. A. Vydrov and T. Van Voorhis, Nonlocal van der Waals density functional: the simpler the better. Journal of Chemical Physics, 133:244103, 2010."})},vdw_sabatini:{type:"pseudo_functionals",ref:jsxRuntimeExports.jsx("span",{children:"R. Sabatini et al., Nonlocal van der Waals density functional made simple and efficient. Physical Review B, 87:041108 (R). 2013."})},pbe:{type:"pseudo_functionals",ref:jsxRuntimeExports.jsx("span",{children:"J. P. Perdew, K. Burke, and M. Ernzerhof, Generalized Gradient Approximation Made Simple, Phys. Rev. Lett. 77, pp. 3865, 1996."})},sssp:{type:"pseudo_functionals",ref:jsxRuntimeExports.jsxs("span",{children:["G. Prandini, A. Marrazzo, I. E. Castelli, N. Mounet and N. Marzari, npj Computational Materials 4, 72 (2018)."," ",jsxRuntimeExports.jsx("a",{href:"http://www.materialscloud.org/sssp/",target:"_blank",children:"http://www.materialscloud.org/sssp/"})]})},vdw_radii:{type:"vdw_radii",ref:jsxRuntimeExports.jsx("span",{children:"S. Alvarez, A cartography of the van der Waals territories. Dalton Transactions, 42(24):8617–8636, 2013."})},lebegue:{type:"other_studies",ref:jsxRuntimeExports.jsx("span",{children:"S. Lebegue et al., Two-dimensional materials from data filtering and ab initio calculations. Physical Review X, 3:031002, 2013."})},bjorkman:{type:"other_studies",ref:jsxRuntimeExports.jsx("span",{children:"T. Björkman et al., van der Waals bonding in layered compounds from advanced density-functional first-principles calculations. Physical Review Letters, 108(23):235502, 2012."})},ashton:{type:"other_studies",ref:jsxRuntimeExports.jsx("span",{children:"M. Ashton et al., Topology-Scaling Identification of Layered Solids and Stable Exfoliated 2D Materials. Physical Review Letters, 118(10):106101, 2017."})},cheon:{type:"other_studies",ref:jsxRuntimeExports.jsx("span",{children:"G. Cheon et al., Data Mining for New Two- and One-Dimensional Weakly Bonded Solids and Lattice-Commensurate Heterostructures. Nano Letters, 17(3):1915, 2017."})},choudhary:{type:"other_studies",ref:jsxRuntimeExports.jsx("span",{children:"K. Choudhary et al., High-throughput Identification and Characterization of Two-dimensional Materials using Density functional theory. Scientific Reports, 7(1):5179, 2017."})},haastrup:{type:"other_studies",ref:jsxRuntimeExports.jsx("span",{children:"S. Haastrup et al., The Computational 2D Materials Database: high-throughput modeling and discovery of atomically thin crystals. 2D Materials, 5(4):042002, 2018."})}};function refNr(a){return Object.keys(references).indexOf(a)+1}function getRef(a){return jsxRuntimeExports.jsx("sup",{children:jsxRuntimeExports.jsxs(HashLink,{className:"cite-anchor",to:"#ref"+refNr(a),children:["[",refNr(a),"]"]})})}function renderRefs(a){return Object.keys(references).map(o=>{if(references[o].type!=a)return;let e=refNr(o);return jsxRuntimeExports.jsxs("div",{id:"ref"+e,children:["[",e,"] ",references[o].ref]},e)})}const aboutText=jsxRuntimeExports.jsxs("div",{className:"about-text-container",children:[jsxRuntimeExports.jsx("div",{className:"about-h",children:"How to cite"}),jsxRuntimeExports.jsx("p",{children:"If you use this tool or data, please cite the following works:"}),jsxRuntimeExports.jsx(CitationBox,{title:jsxRuntimeExports.jsx("span",{children:"Two-dimensional materials from high-throughput computational exfoliation of experimentally known compounds"}),authors:jsxRuntimeExports.jsx("span",{children:"N.Mounet, M.Gibertini, P.Schwaller, D.Campi, A.Merkys, A.Marrazzo, T.Sohier, I.E.Castelli, A.Cepellotti, G.Pizzi & N.Marzari"}),journal:"Nat. Nanotech. 13, 246-252",doi:"10.1038/s41565-017-0035-5",year:"2018",data:jsxRuntimeExports.jsxs("span",{children:["N. Mounet et al., Materials Cloud Archive 2020.158, doi:"," ",jsxRuntimeExports.jsx("a",{href:"https://doi.org/10.24435/materialscloud:az-b2",target:"_blank",children:"10.24435/materialscloud:az-b2"})," ","(2020)"]})}),jsxRuntimeExports.jsx(CitationBox,{title:jsxRuntimeExports.jsx("span",{children:"Expansion of the Materials Cloud 2D Database"}),authors:jsxRuntimeExports.jsx("span",{children:"D. Campi, N. Mounet, M. Gibertini, G. Pizzi & N. Marzari"}),journal:"ACS Nano 17, 12, 11268-11278",doi:"10.1021/acsnano.2c11510",year:"2023",data:jsxRuntimeExports.jsxs("span",{children:["D. Campi et al., Materials Cloud Archive 2022.84, doi:"," ",jsxRuntimeExports.jsx("a",{href:"https://doi.org/10.24435/materialscloud:36-nd",target:"_blank",children:"10.24435/materialscloud:36-nd"})," ","(2022)"]}),arxiv:jsxRuntimeExports.jsxs("span",{children:["D. Campi et al., arXiv:2210.11301, doi:"," ",jsxRuntimeExports.jsx("a",{href:"https://doi.org/10.48550/arXiv.2210.11301",target:"_blank",children:"10.48550/arXiv.2210.11301"})," ","(2022)"]})}),jsxRuntimeExports.jsx("p",{children:"The proper reference for each structure is reported in the box beside the structure formula."}),jsxRuntimeExports.jsx("div",{className:"about-h",children:"General overview"}),jsxRuntimeExports.jsxs("p",{children:["The 2D structures are originating from the computational exfoliation of experimental bulk (3D) materials extracted from the MPDS",getRef("mpds"),", the COD",getRef("cod")," and the ICSD",getRef("icsd")," databases. The computational procedure consisted in:"]}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:["cleaning improperly formatted CIF files with ",jsxRuntimeExports.jsx("b",{children:"cod-tools"}),getRef("cod"),getRef("cod_parser"),";"]}),jsxRuntimeExports.jsx("li",{children:"filtering out disordered structures, incompletely defined ones and those obviously wrong;"}),jsxRuntimeExports.jsxs("li",{children:["converting CIF files into ",jsxRuntimeExports.jsx("b",{children:"AiiDA"}),getRef("aiida1"),getRef("aiida2")," structures, using ",jsxRuntimeExports.jsx("b",{children:"pymatgen"}),getRef("pymatgen"),";"]}),jsxRuntimeExports.jsxs("li",{children:["correcting round-off errors in the atomic positions to recover the structure symmetries, thanks to ",jsxRuntimeExports.jsx("b",{children:"spglib"}),getRef("spglib"),";"]}),jsxRuntimeExports.jsxs("li",{children:["filtering out duplicate structures",getRef("pymatgen"),";"]}),jsxRuntimeExports.jsxs("li",{children:["screening layered materials thanks to a geometrical algorithm based on the identification of chemical bonds from interatomic distances, using van der Waals atomic radii provided by Ref.",getRef("vdw_radii"),";"]}),jsxRuntimeExports.jsxs("li",{children:["relaxing and computing the binding energies of the layered materials, using the ",jsxRuntimeExports.jsx("b",{children:"Quantum ESPRESSO"}),getRef("qe")," code with ",jsxRuntimeExports.jsx("b",{children:"DFT-PBE"})," van der Waals functionals (",jsxRuntimeExports.jsx("b",{children:"rVV10"}),getRef("vdw_lee"),getRef("vdw_cooper")," and ",jsxRuntimeExports.jsx("b",{children:"DF2-C09"}),getRef("vdw_vydrov"),getRef("vdw_sabatini"),"), tested and converged pseudopotentials from the ",jsxRuntimeExports.jsx("b",{children:"SSSP"}),getRef("sssp"),";"]}),jsxRuntimeExports.jsxs("li",{children:["selecting easily exfoliable materials as those for which the binding energy is less than 30 meV/Å",jsxRuntimeExports.jsx("sup",{children:"2"}),"(with the DF2-C09 functional) or 35 meV/Å",jsxRuntimeExports.jsx("sup",{children:"2"})," (with rVV10) and potentially exfoliable materials for which the binding energy is less than 120 meV/Å",jsxRuntimeExports.jsx("sup",{children:"2"}),";"]}),jsxRuntimeExports.jsxs("li",{children:["optimizing the geometry of the monolayers as an isolated system using the PBE",getRef("pbe")," functional."]})]}),jsxRuntimeExports.jsx("p",{children:"On the subset of 2D easily exfoliable monolayers with less than 6 atoms in the unit cell, found in N. Mounet et al., Nat. Nanotech. doi:10.1038/s41565-017-0035-5 (2018) we also computed (at the PBE level):"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"possible ferromagnetic and antiferromagnetic configurations, to obtain the magnetic ground state;"}),jsxRuntimeExports.jsx("li",{children:"electronic band structure;"}),jsxRuntimeExports.jsx("li",{children:"phonon dispersion curves."})]}),jsxRuntimeExports.jsx("p",{children:"More details can be found in the associated publications."}),jsxRuntimeExports.jsx("div",{className:"about-h",children:"Acknowledgements and references"}),jsxRuntimeExports.jsx("b",{children:"HPC support"}),jsxRuntimeExports.jsx("br",{}),"Computational resources for this project have been provided by PRACE (Grant 2016163963 on KNL/Marconi at Cineca) and by the NCCR MARVEL (Piz Daint at CSCS).",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:"Crystal structure databases"}),renderRefs("db"),jsxRuntimeExports.jsx("b",{children:"Software"}),renderRefs("software"),jsxRuntimeExports.jsx("b",{children:"Pseudopotentials and van der Waals functionals"}),renderRefs("pseudo_functionals"),jsxRuntimeExports.jsx("b",{children:"Van der Waals radii"}),renderRefs("vdw_radii"),jsxRuntimeExports.jsx("b",{children:"Other studies"}),renderRefs("other_studies")]}),REST_API_COMPOUNDS="https://dev-www.materialscloud.org/mcloud/api/v2/discover/mc2d/compounds",REST_API_AIIDA="https://aiida.materialscloud.org/mc2d/api/v4",EXPLORE_URL="https://www.materialscloud.org/explore/mc2d",restapiText=jsxRuntimeExports.jsxs("div",{className:"restapi-text-container",children:[jsxRuntimeExports.jsx("p",{children:"This section contains an overview of our REST APIs to access the MC2D data."}),jsxRuntimeExports.jsx("div",{className:"restapi-h",children:"1. Materials Cloud and AiiDA REST APIs"}),jsxRuntimeExports.jsxs("div",{children:["The MC2D frontend is running on the following APIs:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:["Index of materials:"," ",jsxRuntimeExports.jsx("a",{href:REST_API_COMPOUNDS,target:"_blank",children:REST_API_COMPOUNDS})]}),jsxRuntimeExports.jsxs("li",{children:["Single compound data:"," ",jsxRuntimeExports.jsx("a",{href:REST_API_COMPOUNDS+"/Ag2C2O4",target:"_blank",children:REST_API_COMPOUNDS+"/Ag2C2O4"})]}),jsxRuntimeExports.jsxs("li",{children:["AiiDA REST API for properties and provenance:"," ",jsxRuntimeExports.jsx("a",{href:REST_API_AIIDA,target:"_blank",children:REST_API_AIIDA})]})]})]}),jsxRuntimeExports.jsx("div",{className:"restapi-h",children:"2. OPTIMADE REST API"}),jsxRuntimeExports.jsxs("div",{children:["The MC2D database can also be accessed via an API following the"," ",jsxRuntimeExports.jsx("a",{href:"https://www.optimade.org/optimade",target:"_blank",children:"OPTIMADE specification"}),". This currently only includes the crystal structures and no properties or provenance information is provided. Relevant endpoints are",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://aiida.materialscloud.org/mc2d/optimade/v1/info",target:"_blank",children:"https://aiida.materialscloud.org/mc2d/optimade/v1/info"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://aiida.materialscloud.org/mc2d/optimade/v1/structures",target:"_blank",children:"https://aiida.materialscloud.org/mc2d/optimade/v1/structures"})})]})]})]});function columns(a){return[{field:"id",headerName:"ID",colType:"id",infoText:"The unique MC2D identifier of each structure.",width:100},{field:"formula",headerName:"Formula",colType:"formula",infoText:"The full formula in Hill notation."},{field:"prototype",headerName:"Prototype",colType:"text",infoText:"Prototype structure.",width:140},{field:"point_group",headerName:"Point group",colType:"text",infoText:"The point group symmetry of the material.",width:100},{field:"band_gap",headerName:"Band gap",colType:"float",infoText:"Band gap of the 2D material.",unit:"eV",width:110},{field:"abundance",headerName:"Abundance",colType:"float",infoText:"Abundance on the Earth of the rarest of the elements present in the compound (mass fraction).",width:120},{field:"mag_state",headerName:"Magnetic state",colType:"text",infoText:"Magnetic state",width:110},{field:"df2_c09",headerName:"E(bind) DF2-C09",colType:"float",infoText:"Binding energy of the bulk 3D, per 2D layer and per unit area, obtained with the vdw-DF2-C09 functional.",unit:"meV/Å²",width:115},{field:"rvv10",headerName:"E(bind) rVV10",colType:"float",infoText:"Binding energy of the bulk 3D, per 2D layer and per unit area, obtained with the vdw-rVV10 functional.",unit:"meV/Å²",width:115},{field:"parent_formula",headerName:"3D parent formula",colType:"formula",infoText:"Chemical formula for the 3D parent (lowest energy parent, if multiple exist).",hide:!0},{field:"parent_spg",headerName:"3D parent space group",colType:"spg_symbol",infoText:"Space group for the 3D parent (lowest energy parent, if multiple exist).",hide:!0,width:120},{field:"parent_source_db",headerName:"3D parent source DB",colType:"text",infoText:"Source database for the 3D parent (lowest energy parent, if multiple exist).",hide:!0,width:120},{field:"parent_source_id",headerName:"3D parent source ID",colType:"text",infoText:"Source database ID for the 3D parent (lowest energy parent, if multiple exist).",hide:!0,width:120}]}function calcElementArray(a){var o=a.replace(/[0-9]/g,""),e=o.split(/(?=[A-Z])/);return e}function countNumberOfAtoms(a){var o=a.split(/(?=[A-Z])/),e=0;return o.forEach(c=>{let h=c.match(/\d+/),g=h==null?1:parseInt(h[0]);e+=g}),e}function formatRows(a){let o=[];return Object.keys(a).forEach(e=>{let c=a[e],h=calcElementArray(c.formula),g=`mc2d-${e}`,b={id:g,formula:c.formula,prototype:c.prototype,point_group:c.point_group,band_gap:c.band_gap,abundance:c.abundance,mag_state:c.mag_state,df2_c09:c.df2_c09!==null?c.df2_c09*1e3:null,rvv10:c.rvv10!==null?c.rvv10*1e3:null,parent_formula:c.parent.formula,parent_spg:c.parent.spg,parent_source_db:c.parent.source_db,parent_source_id:c.parent.source_id,n_elem:h.length,elem_array:h,n_atoms:countNumberOfAtoms(c.formula),href:`/discover-mc2d-react//#/details/${c.formula}/${g}`};o.push(b)}),o}async function loadIndexMc2d(){const o=await(await fetch(REST_API_COMPOUNDS,{method:"get"})).json(),e=o.data.compounds;return o.data.observables,{columns:columns(),rows:formatRows(e)}}function MainPage(){const[a,o]=reactExports.useState([]),[e,c]=reactExports.useState([]);return reactExports.useEffect(()=>{loadIndexMc2d().then(h=>{o(h.columns),c(h.rows)})},[]),jsxRuntimeExports.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud 2D crystals database",link:null}],children:jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsxs("div",{className:"main-page",children:[jsxRuntimeExports.jsx(TitleAndLogo,{}),jsxRuntimeExports.jsx("div",{className:"description",children:"Results from screening most known 3D crystal structures finding those that can be computationally exfoliated producing 2D materials candidates."}),jsxRuntimeExports.jsxs(Tabs$1,{defaultActiveKey:"use",className:"main-tabs",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"use",title:"Use",children:[jsxRuntimeExports.jsx("div",{className:"description",children:"Search for materials by filtering based on the periodic table and the columns of the table below:"}),jsxRuntimeExports.jsx(default_1,{columns:a,rows:e})]}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"about",title:"About",children:aboutText}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"rest",title:"REST API",children:restapiText})]})]})})})}function formatTitle(a){return jsxRuntimeExports.jsxs("span",{children:[$a(a.compound)," (",a.id,")"]})}async function fetchAiidaAttributes(a){return(await(await fetch(`${REST_API_AIIDA}/nodes/${a}/contents/attributes`)).json()).data.attributes}async function fetchAiidaCifText(a){return(await(await fetch(`${REST_API_AIIDA}/nodes/${a}/download?download_format=cif&download=false`)).json()).data.download.data}var dist={},ControlBox={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=e(reactExports);function e(Et){return Et&&Et.__esModule?Et:{default:Et}}function c(Et){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},c(Et)}function h(Et,ot){if(!(Et instanceof ot))throw new TypeError("Cannot call a class as a function")}function g(Et,ot){for(var _t=0;_t<ot.length;_t++){var Mt=ot[_t];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(Et,it(Mt.key),Mt)}}function b(Et,ot,_t){return ot&&g(Et.prototype,ot),_t&&g(Et,_t),Object.defineProperty(Et,"prototype",{writable:!1}),Et}function $(Et,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");Et.prototype=Object.create(ot&&ot.prototype,{constructor:{value:Et,writable:!0,configurable:!0}}),Object.defineProperty(Et,"prototype",{writable:!1}),ot&&j(Et,ot)}function j(Et,ot){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Mt,Bt){return Mt.__proto__=Bt,Mt},j(Et,ot)}function rt(Et){var ot=wt();return function(){var Mt=Dt(Et),Bt;if(ot){var It=Dt(this).constructor;Bt=Reflect.construct(Mt,arguments,It)}else Bt=Mt.apply(this,arguments);return nt(this,Bt)}}function nt(Et,ot){if(ot&&(c(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pt(Et)}function pt(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}function wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dt(Et){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_t){return _t.__proto__||Object.getPrototypeOf(_t)},Dt(Et)}function Lt(Et,ot,_t){return ot=it(ot),ot in Et?Object.defineProperty(Et,ot,{value:_t,enumerable:!0,configurable:!0,writable:!0}):Et[ot]=_t,Et}function it(Et){var ot=st(Et,"string");return c(ot)==="symbol"?ot:String(ot)}function st(Et,ot){if(c(Et)!=="object"||Et===null)return Et;var _t=Et[Symbol.toPrimitive];if(_t!==void 0){var Mt=_t.call(Et,ot||"default");if(c(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ot==="string"?String:Number)(Et)}var bt=function(Et){$(_t,Et);var ot=rt(_t);function _t(Mt){var Bt;return h(this,_t),Bt=ot.call(this,Mt),Lt(pt(Bt),"handleSupercellChange",function(It,jt){var tr=Bt.props.viewerParams.supercell;tr[It]=parseInt(jt),Bt.props.onViewerParamChange("supercell",tr)}),Lt(pt(Bt),"handleOptionChange",function(It){Bt.props.onViewerParamChange(It,!Bt.props.viewerParams[It])}),Lt(pt(Bt),"handleCameraEvent",function(It){Bt.props.onViewerEvent("camera",It)}),Bt}return b(_t,[{key:"render",value:function(){var Bt=this;return o.default.createElement("div",{className:"control-box"},o.default.createElement("div",{className:"control-box-row"},o.default.createElement("div",{className:"supercell-container"},o.default.createElement("label",null,"Supercell: "),[0,1,2].map(function(It){return o.default.createElement("input",{key:It,className:"supercell-input",type:"number",min:"1",value:Bt.props.viewerParams.supercell[It],onChange:function(tr){return Bt.handleSupercellChange(It,tr.target.value)}})})),o.default.createElement("div",{className:"camera-controls"},o.default.createElement("label",null,"Camera: "),o.default.createElement("button",{onClick:function(){return Bt.handleCameraEvent("x")}},"x"),o.default.createElement("button",{onClick:function(){return Bt.handleCameraEvent("y")}},"y"),o.default.createElement("button",{onClick:function(){return Bt.handleCameraEvent("z")}},"z"))),o.default.createElement("div",{className:"control-box-row"},o.default.createElement("label",null,o.default.createElement("input",{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.bonds,onChange:function(){return Bt.handleOptionChange("bonds")}}),"Bonds"),o.default.createElement("label",null,o.default.createElement("input",{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.atomLabels,onChange:function(){return Bt.handleOptionChange("atomLabels")}}),"Atom labels"),o.default.createElement("label",null,o.default.createElement("input",{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.packedCell,onChange:function(){return Bt.handleOptionChange("packedCell")},disabled:!0}),"Packed cell"),o.default.createElement("label",null,o.default.createElement("input",{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.spaceFilling,onChange:function(){return Bt.handleOptionChange("vdwRadius")}}),"vdW radius")))}}]),_t}(o.default.Component),gt=bt;a.default=gt})(ControlBox);var StructureWindow={},Visualizer3dmol={},_3Dmol={exports:{}};/*!
 * 3dmol v2.0.6
 * JavaScript/TypeScript molecular visualization library
 * Author: David Koes and contributors
 */(function(module,exports){(function(o,e){module.exports=e()})(commonjsGlobal,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(a,o,e)=>{e.r(o),e.d(o,{IOBuffer:()=>$});var c=e("./node_modules/iobuffer/lib-esm/text.browser.js");const h=1024*8,g=(()=>{const j=new Uint8Array(4),rt=new Uint32Array(j.buffer);return!((rt[0]=1)&j[0])})(),b={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ${constructor(rt=h,nt={}){let pt=!1;typeof rt=="number"?rt=new ArrayBuffer(rt):(pt=!0,this.lastWrittenByte=rt.byteLength);const wt=nt.offset?nt.offset>>>0:0,Dt=rt.byteLength-wt;let Lt=wt;(ArrayBuffer.isView(rt)||rt instanceof $)&&(rt.byteLength!==rt.buffer.byteLength&&(Lt=rt.byteOffset+wt),rt=rt.buffer),pt?this.lastWrittenByte=Dt:this.lastWrittenByte=0,this.buffer=rt,this.length=Dt,this.byteLength=Dt,this.byteOffset=Lt,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Lt,Dt),this._mark=0,this._marks=[]}available(rt=1){return this.offset+rt<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(rt=1){return this.offset+=rt,this}back(rt=1){return this.offset-=rt,this}seek(rt){return this.offset=rt,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const rt=this._marks.pop();if(rt===void 0)throw new Error("Mark stack empty");return this.seek(rt),this}rewind(){return this.offset=0,this}ensureAvailable(rt=1){if(!this.available(rt)){const pt=(this.offset+rt)*2,wt=new Uint8Array(pt);wt.set(new Uint8Array(this.buffer)),this.buffer=wt.buffer,this.length=this.byteLength=pt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(rt=1){return this.readArray(rt,"uint8")}readArray(rt,nt){const pt=b[nt].BYTES_PER_ELEMENT*rt,wt=this.byteOffset+this.offset,Dt=this.buffer.slice(wt,wt+pt);if(this.littleEndian===g&&nt!=="uint8"&&nt!=="int8"){const it=new Uint8Array(this.buffer.slice(wt,wt+pt));it.reverse();const st=new b[nt](it.buffer);return this.offset+=pt,st.reverse(),st}const Lt=new b[nt](Dt);return this.offset+=pt,Lt}readInt16(){const rt=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,rt}readUint16(){const rt=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,rt}readInt32(){const rt=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,rt}readUint32(){const rt=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,rt}readFloat32(){const rt=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,rt}readFloat64(){const rt=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,rt}readBigInt64(){const rt=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,rt}readBigUint64(){const rt=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,rt}readChar(){return String.fromCharCode(this.readInt8())}readChars(rt=1){let nt="";for(let pt=0;pt<rt;pt++)nt+=this.readChar();return nt}readUtf8(rt=1){return(0,c.decode)(this.readBytes(rt))}decodeText(rt=1,nt="utf-8"){return(0,c.decode)(this.readBytes(rt),nt)}writeBoolean(rt){return this.writeUint8(rt?255:0),this}writeInt8(rt){return this.ensureAvailable(1),this._data.setInt8(this.offset++,rt),this._updateLastWrittenByte(),this}writeUint8(rt){return this.ensureAvailable(1),this._data.setUint8(this.offset++,rt),this._updateLastWrittenByte(),this}writeByte(rt){return this.writeUint8(rt)}writeBytes(rt){this.ensureAvailable(rt.length);for(let nt=0;nt<rt.length;nt++)this._data.setUint8(this.offset++,rt[nt]);return this._updateLastWrittenByte(),this}writeInt16(rt){return this.ensureAvailable(2),this._data.setInt16(this.offset,rt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(rt){return this.ensureAvailable(2),this._data.setUint16(this.offset,rt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(rt){return this.ensureAvailable(4),this._data.setInt32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(rt){return this.ensureAvailable(4),this._data.setUint32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(rt){return this.ensureAvailable(4),this._data.setFloat32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(rt){return this.ensureAvailable(8),this._data.setFloat64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(rt){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(rt){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(rt){return this.writeUint8(rt.charCodeAt(0))}writeChars(rt){for(let nt=0;nt<rt.length;nt++)this.writeUint8(rt.charCodeAt(nt));return this}writeUtf8(rt){return this.writeBytes((0,c.encode)(rt))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){(function(a){if(a.TextEncoder&&a.TextDecoder)return!1;function o(c="utf-8"){if(c!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${c}') is invalid.`)}Object.defineProperty(o.prototype,"encoding",{value:"utf-8"}),o.prototype.encode=function(c,h={stream:!1}){if(h.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let g=0;const b=c.length;let $=0,j=Math.max(32,b+(b>>1)+7),rt=new Uint8Array(j>>3<<3);for(;g<b;){let nt=c.charCodeAt(g++);if(nt>=55296&&nt<=56319){if(g<b){const pt=c.charCodeAt(g);(pt&64512)===56320&&(++g,nt=((nt&1023)<<10)+(pt&1023)+65536)}if(nt>=55296&&nt<=56319)continue}if($+4>rt.length){j+=8,j*=1+g/c.length*2,j=j>>3<<3;const pt=new Uint8Array(j);pt.set(rt),rt=pt}if(nt&4294967168)if(!(nt&4294965248))rt[$++]=nt>>6&31|192;else if(!(nt&4294901760))rt[$++]=nt>>12&15|224,rt[$++]=nt>>6&63|128;else if(!(nt&4292870144))rt[$++]=nt>>18&7|240,rt[$++]=nt>>12&63|128,rt[$++]=nt>>6&63|128;else continue;else{rt[$++]=nt;continue}rt[$++]=nt&63|128}return rt.slice(0,$)};function e(c="utf-8",h={fatal:!1}){if(c!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${c}') is invalid.`);if(h.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(e.prototype,"fatal",{value:!1}),Object.defineProperty(e.prototype,"ignoreBOM",{value:!1}),e.prototype.decode=function(c,h={stream:!1}){if(h.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const g=new Uint8Array(c);let b=0;const $=g.length,j=[];for(;b<$;){const rt=g[b++];if(rt===0)break;if(!(rt&128))j.push(rt);else if((rt&224)===192){const nt=g[b++]&63;j.push((rt&31)<<6|nt)}else if((rt&240)===224){const nt=g[b++]&63,pt=g[b++]&63;j.push((rt&31)<<12|nt<<6|pt)}else if((rt&248)===240){const nt=g[b++]&63,pt=g[b++]&63,wt=g[b++]&63;let Dt=(rt&7)<<18|nt<<12|pt<<6|wt;Dt>65535&&(Dt-=65536,j.push(Dt>>>10&1023|55296),Dt=56320|Dt&1023),j.push(Dt)}}return String.fromCharCode.apply(null,j)},a.TextEncoder=o,a.TextDecoder=e})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(a,o,e)=>{e.r(o),e.d(o,{decode:()=>c,encode:()=>g}),e("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js");function c(b,$="utf8"){return new TextDecoder($).decode(b)}const h=new TextEncoder;function g(b){return h.encode(b)}},"./node_modules/netcdfjs/lib-esm/data.js":(a,o,e)=>{e.r(o),e.d(o,{nonRecord:()=>h,record:()=>g});var c=e("./node_modules/netcdfjs/lib-esm/types.js");function h(b,$){const j=(0,c.str2num)($.type),rt=$.size/(0,c.num2bytes)(j),nt=new Array(rt);for(let pt=0;pt<rt;pt++)nt[pt]=(0,c.readType)(b,j,1);return nt}function g(b,$,j){const rt=(0,c.str2num)($.type),nt=$.size?$.size/(0,c.num2bytes)(rt):1,pt=j.length,wt=new Array(pt),Dt=j.recordStep;if(Dt)for(let Lt=0;Lt<pt;Lt++){const it=b.offset;wt[Lt]=(0,c.readType)(b,rt,nt),b.seek(it+Dt)}else throw new Error("recordDimension.recordStep is undefined");return wt}},"./node_modules/netcdfjs/lib-esm/header.js":(a,o,e)=>{e.r(o),e.d(o,{header:()=>nt});var c=e("./node_modules/netcdfjs/lib-esm/types.js"),h=e("./node_modules/netcdfjs/lib-esm/utils.js");const g=0,b=10,$=11,j=12,rt=0;function nt(Lt,it){const st={version:it},bt={length:Lt.readUint32()},gt=pt(Lt);Array.isArray(gt)||(bt.id=gt.recordId,bt.name=gt.recordName,st.dimensions=gt.dimensions),st.globalAttributes=wt(Lt);const Et=Dt(Lt,bt==null?void 0:bt.id,it);return Array.isArray(Et)||(st.variables=Et.variables,bt.recordStep=Et.recordStep),st.recordDimension=bt,st}function pt(Lt){const it={};let st,bt;const gt=Lt.readUint32();let Et;if(gt===g)return(0,h.notNetcdf)(Lt.readUint32()!==g,"wrong empty tag for list of dimensions"),[];{(0,h.notNetcdf)(gt!==b,"wrong tag for list of dimensions");const ot=Lt.readUint32();Et=new Array(ot);for(let _t=0;_t<ot;_t++){const Mt=(0,h.readName)(Lt),Bt=Lt.readUint32();Bt===rt&&(st=_t,bt=Mt),Et[_t]={name:Mt,size:Bt}}}return st!==void 0&&(it.recordId=st),bt!==void 0&&(it.recordName=bt),it.dimensions=Et,it}function wt(Lt){const it=Lt.readUint32();let st;if(it===g)return(0,h.notNetcdf)(Lt.readUint32()!==g,"wrong empty tag for list of attributes"),[];{(0,h.notNetcdf)(it!==j,"wrong tag for list of attributes");const bt=Lt.readUint32();st=new Array(bt);for(let gt=0;gt<bt;gt++){const Et=(0,h.readName)(Lt),ot=Lt.readUint32();(0,h.notNetcdf)(ot<1||ot>6,`non valid type ${ot}`);const _t=Lt.readUint32(),Mt=(0,c.readType)(Lt,ot,_t);(0,h.padding)(Lt),st[gt]={name:Et,type:(0,c.num2str)(ot),value:Mt}}}return st}function Dt(Lt,it,st){const bt=Lt.readUint32();let gt=0,Et;if(bt===g)return(0,h.notNetcdf)(Lt.readUint32()!==g,"wrong empty tag for list of variables"),[];{(0,h.notNetcdf)(bt!==$,"wrong tag for list of variables");const ot=Lt.readUint32();Et=new Array(ot);for(let _t=0;_t<ot;_t++){const Mt=(0,h.readName)(Lt),Bt=Lt.readUint32(),It=new Array(Bt);for(let mr=0;mr<Bt;mr++)It[mr]=Lt.readUint32();const jt=wt(Lt),tr=Lt.readUint32();(0,h.notNetcdf)(tr<1&&tr>6,`non valid type ${tr}`);const gr=Lt.readUint32();let vr=Lt.readUint32();st===2&&((0,h.notNetcdf)(vr>0,"offsets larger than 4GB not supported"),vr=Lt.readUint32());let hr=!1;typeof it<"u"&&It[0]===it&&(gt+=gr,hr=!0),Et[_t]={name:Mt,dimensions:It,attributes:jt,type:(0,c.num2str)(tr),size:gr,offset:vr,record:hr}}}return{variables:Et,recordStep:gt}}},"./node_modules/netcdfjs/lib-esm/index.js":(a,o,e)=>{e.r(o),e.d(o,{NetCDFReader:()=>c.NetCDFReader});var c=e("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(a,o,e)=>{e.r(o),e.d(o,{NetCDFReader:()=>j});var c=e("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=e("./node_modules/netcdfjs/lib-esm/data.js"),g=e("./node_modules/netcdfjs/lib-esm/header.js"),b=e("./node_modules/netcdfjs/lib-esm/toString.js"),$=e("./node_modules/netcdfjs/lib-esm/utils.js");class j{constructor(nt){this.toString=b.toString;const pt=new c.IOBuffer(nt);pt.setBigEndian(),(0,$.notNetcdf)(pt.readChars(3)!=="CDF","should start with CDF");const wt=pt.readByte();(0,$.notNetcdf)(wt>2,"unknown version"),this.header=(0,g.header)(pt,wt),this.buffer=pt}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(nt){const pt=this.globalAttributes.find(wt=>wt.name===nt);return pt?pt.value:null}getDataVariableAsString(nt){const pt=this.getDataVariable(nt);return pt?pt.join(""):null}get variables(){return this.header.variables}getDataVariable(nt){let pt;if(typeof nt=="string"?pt=this.header.variables.find(wt=>wt.name===nt):pt=nt,pt===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(pt.offset),pt.record?(0,h.record)(this.buffer,pt,this.header.recordDimension):(0,h.nonRecord)(this.buffer,pt)}dataVariableExists(nt){return this.header.variables.find(wt=>wt.name===nt)!==void 0}attributeExists(nt){return this.globalAttributes.find(wt=>wt.name===nt)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(a,o,e)=>{e.r(o),e.d(o,{toString:()=>c});function c(){const h=[];h.push("DIMENSIONS");for(const b of this.dimensions)h.push(`  ${b.name.padEnd(30)} = size: ${b.size}`);h.push(""),h.push("GLOBAL ATTRIBUTES");for(const b of this.globalAttributes)h.push(`  ${b.name.padEnd(30)} = ${b.value}`);const g=JSON.parse(JSON.stringify(this.variables));h.push(""),h.push("VARIABLES:");for(const b of g){b.value=this.getDataVariable(b);let $=JSON.stringify(b.value);$.length>50&&($=$.substring(0,50)),isNaN(b.value.length)||($+=` (length: ${b.value.length})`),h.push(`  ${b.name.padEnd(30)} = ${$}`)}return h.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(a,o,e)=>{e.r(o),e.d(o,{num2bytes:()=>g,num2str:()=>h,readType:()=>j,str2num:()=>b});const c={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function h(nt){switch(Number(nt)){case c.BYTE:return"byte";case c.CHAR:return"char";case c.SHORT:return"short";case c.INT:return"int";case c.FLOAT:return"float";case c.DOUBLE:return"double";default:return"undefined"}}function g(nt){switch(Number(nt)){case c.BYTE:return 1;case c.CHAR:return 1;case c.SHORT:return 2;case c.INT:return 4;case c.FLOAT:return 4;case c.DOUBLE:return 8;default:return-1}}function b(nt){switch(String(nt)){case"byte":return c.BYTE;case"char":return c.CHAR;case"short":return c.SHORT;case"int":return c.INT;case"float":return c.FLOAT;case"double":return c.DOUBLE;default:return-1}}function $(nt,pt){if(nt!==1){const wt=new Array(nt);for(let Dt=0;Dt<nt;Dt++)wt[Dt]=pt();return wt}else return pt()}function j(nt,pt,wt){switch(pt){case c.BYTE:return Array.from(nt.readBytes(wt));case c.CHAR:return rt(nt.readChars(wt));case c.SHORT:return $(wt,nt.readInt16.bind(nt));case c.INT:return $(wt,nt.readInt32.bind(nt));case c.FLOAT:return $(wt,nt.readFloat32.bind(nt));case c.DOUBLE:return $(wt,nt.readFloat64.bind(nt));default:throw new Error(`non valid type ${pt}`)}}function rt(nt){return nt.charCodeAt(nt.length-1)===0?nt.substring(0,nt.length-1):nt}},"./node_modules/netcdfjs/lib-esm/utils.js":(a,o,e)=>{e.r(o),e.d(o,{notNetcdf:()=>c,padding:()=>h,readName:()=>g});function c(b,$){if(b)throw new TypeError(`Not a valid NetCDF v3.x file: ${$}`)}function h(b){b.offset%4!==0&&b.skip(4-b.offset%4)}function g(b){const $=b.readUint32(),j=b.readChars($);return h(b),j}},"./src/WebGL/shaders/lib/basic/basic.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/instanced/instanced.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    gl_Position = projectionMatrix * mvPosition;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;

// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0

vec4 applyFXAA(vec2 fragCoord, sampler2D tex)
{
    vec4 color;
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, 1.0);
    else
        color = vec4(rgbB, 1.0);
    return color;
}
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    gl_FragColor = vec4(vLight*vColor, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);
    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+adjust;
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a < alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    gl_FragColor = vec4(light*color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    to.xyz += normalize(to.xyz)*outlinePushback;
    pt.xyz += normalize(pt.xyz)*outlinePushback;

    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag":(a,o,e)=>{e.r(o),e.d(o,{default:()=>c});const c=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/GLDraw.ts":(a,o,e)=>{e.r(o),e.d(o,{CAP:()=>h,GLDraw:()=>g});var c=e("./src/WebGL/math/index.ts"),h;(function(b){b[b.NONE=0]="NONE",b[b.FLAT=1]="FLAT",b[b.ROUND=2]="ROUND"})(h||(h={}));var g;(function(b){function $(it,st,bt){var gt=Math.hypot(it,st),Et,ot,_t,Mt,Bt;gt<1e-4?(ot=0,_t=1):(ot=-it/gt,_t=st/gt),st=-ot*it+_t*st,Et=Math.hypot(st,bt),Et<1e-4?(Mt=0,Bt=1):(Mt=bt/Et,Bt=st/Et);var It=new Float32Array(9);return It[0]=_t,It[1]=ot,It[2]=0,It[3]=-ot*Bt,It[4]=_t*Bt,It[5]=Mt,It[6]=ot*Mt,It[7]=-_t*Mt,It[8]=Bt,It}class j{constructor(){this.cache={};let st=[],bt=4,gt=Math.pow(2,bt),Et=2,ot=Math.pow(2,Et),_t=gt/ot,Mt;for(st[0]=new c.Vector3(-1,0,0),st[_t]=new c.Vector3(0,0,1),st[_t*2]=new c.Vector3(1,0,0),st[_t*3]=new c.Vector3(0,0,-1),Et=3;Et<=bt;Et++){for(ot=Math.pow(2,Et-1),_t=gt/ot,Mt=0;Mt<ot-1;Mt++)st[_t/2+Mt*_t]=st[Mt*_t].clone().add(st[(Mt+1)*_t]).normalize();Mt=ot-1,st[_t/2+Mt*_t]=st[Mt*_t].clone().add(st[0]).normalize()}this.basisVectors=st}getVerticesForRadius(st,bt,gt){if(typeof this.cache<"u"&&this.cache[st]!==void 0&&this.cache[st][bt+gt]!==void 0)return this.cache[st][bt+gt];for(var Et=this.basisVectors.length,ot=[],_t=[],Mt,Bt=0;Bt<Et;Bt++)ot.push(this.basisVectors[Bt].clone().multiplyScalar(st)),ot.push(this.basisVectors[Bt].clone().multiplyScalar(st)),Mt=this.basisVectors[Bt].clone().normalize(),_t.push(Mt),_t.push(Mt);var It=[],jt=10,tr=Et,gr=0,vr=Math.PI*2,hr=0,mr=Math.PI,Er,Rr,Cr=!1,wr=!1;for(Rr=0;Rr<=jt;Rr++){Cr=Rr===0||Rr===jt,wr=Rr===jt/2;var Sr=[],br=[];for(Er=0;Er<=tr;Er++){if(wr){var xr=Er<tr?2*Er:0;br.push(xr+1),Sr.push(xr);continue}var Or=Er/tr,In=Rr/jt;if(!Cr||Er===0)if(Er<tr){var Nn=new c.Vector3;Nn.x=-st*Math.cos(gr+Or*vr)*Math.sin(hr+In*mr),bt==1?Nn.y=0:Nn.y=st*Math.cos(hr+In*mr),Nn.z=st*Math.sin(gr+Or*vr)*Math.sin(hr+In*mr),Math.abs(Nn.x)<1e-5&&(Nn.x=0),Math.abs(Nn.y)<1e-5&&(Nn.y=0),Math.abs(Nn.z)<1e-5&&(Nn.z=0),bt==h.FLAT?(Mt=new c.Vector3(0,Math.cos(hr+In*mr),0),Mt.normalize()):(Mt=new c.Vector3(Nn.x,Nn.y,Nn.z),Mt.normalize()),ot.push(Nn),_t.push(Mt),Sr.push(ot.length-1)}else Sr.push(ot.length-tr);else Cr&&Sr.push(ot.length-1)}wr&&It.push(br),It.push(Sr)}var Hn={vertices:ot,normals:_t,verticesRows:It,w:tr,h:jt};return st in this.cache||(this.cache[st]={}),this.cache[st][bt+gt]=Hn,Hn}}var rt=new j;function nt(it,st,bt,gt,Et,ot=0,_t=0){if(!(!st||!bt)){var Mt=_t||ot;Et=Et||{r:0,g:0,b:0};var Bt=$(bt.x-st.x,bt.y-st.y,bt.z-st.z),It=rt.getVerticesForRadius(gt,_t,"to"),jt=It.w,tr=It.h,gr=Mt?tr*jt+2:2*jt,vr=it.updateGeoGroup(gr),hr=It.vertices,mr=It.normals,Er=It.verticesRows,Rr=Er[tr/2],Cr=Er[tr/2+1],wr=vr.vertices,Sr,br,xr,Or,In,Nn,Hn=vr.vertexArray,Bn=vr.normalArray,qn=vr.colorArray,Wn=vr.faceArray;for(xr=0;xr<jt;++xr){var Yn=2*xr;Or=Bt[0]*hr[Yn].x+Bt[3]*hr[Yn].y+Bt[6]*hr[Yn].z,In=Bt[1]*hr[Yn].x+Bt[4]*hr[Yn].y+Bt[7]*hr[Yn].z,Nn=Bt[5]*hr[Yn].y+Bt[8]*hr[Yn].z,Sr=3*(wr+Yn),br=vr.faceidx,Hn[Sr]=Or+st.x,Hn[Sr+1]=In+st.y,Hn[Sr+2]=Nn+st.z,Hn[Sr+3]=Or+bt.x,Hn[Sr+4]=In+bt.y,Hn[Sr+5]=Nn+bt.z,Bn[Sr]=Or,Bn[Sr+3]=Or,Bn[Sr+1]=In,Bn[Sr+4]=In,Bn[Sr+2]=Nn,Bn[Sr+5]=Nn,qn[Sr]=Et.r,qn[Sr+3]=Et.r,qn[Sr+1]=Et.g,qn[Sr+4]=Et.g,qn[Sr+2]=Et.b,qn[Sr+5]=Et.b,Wn[br]=Cr[xr]+wr,Wn[br+1]=Cr[xr+1]+wr,Wn[br+2]=Rr[xr]+wr,Wn[br+3]=Rr[xr]+wr,Wn[br+4]=Cr[xr+1]+wr,Wn[br+5]=Rr[xr+1]+wr,vr.faceidx+=6}if(Mt){var po=_t?0:tr/2,eo=ot?tr+1:tr/2+1,wo,Vn,Kn,to,fs,hs,Cs,ps,ls,cs,ss,os,as,gs,vs,tn,Pr,Fn,Zn,so,rs,ns,jr,Qn,co,us,zn,ts,Dr,is,ws,yr;for(In=po;In<eo;In++)if(In!==tr/2){var lo=In<=tr/2?bt:st,uo=rt.getVerticesForRadius(gt,_t,"to"),rn=rt.getVerticesForRadius(gt,ot,"from");for(lo===bt?(hr=uo.vertices,mr=uo.normals,Er=uo.verticesRows):lo==st&&(hr=rn.vertices,mr=rn.normals,Er=rn.verticesRows),Or=0;Or<jt;Or++)br=vr.faceidx,wo=Er[In][Or+1],Dr=(wo+wr)*3,Vn=Er[In][Or],is=(Vn+wr)*3,Kn=Er[In+1][Or],ws=(Kn+wr)*3,to=Er[In+1][Or+1],yr=(to+wr)*3,fs=Bt[0]*hr[wo].x+Bt[3]*hr[wo].y+Bt[6]*hr[wo].z,hs=Bt[0]*hr[Vn].x+Bt[3]*hr[Vn].y+Bt[6]*hr[Vn].z,Cs=Bt[0]*hr[Kn].x+Bt[3]*hr[Kn].y+Bt[6]*hr[Kn].z,ps=Bt[0]*hr[to].x+Bt[3]*hr[to].y+Bt[6]*hr[to].z,ls=Bt[1]*hr[wo].x+Bt[4]*hr[wo].y+Bt[7]*hr[wo].z,cs=Bt[1]*hr[Vn].x+Bt[4]*hr[Vn].y+Bt[7]*hr[Vn].z,ss=Bt[1]*hr[Kn].x+Bt[4]*hr[Kn].y+Bt[7]*hr[Kn].z,os=Bt[1]*hr[to].x+Bt[4]*hr[to].y+Bt[7]*hr[to].z,as=Bt[5]*hr[wo].y+Bt[8]*hr[wo].z,gs=Bt[5]*hr[Vn].y+Bt[8]*hr[Vn].z,vs=Bt[5]*hr[Kn].y+Bt[8]*hr[Kn].z,tn=Bt[5]*hr[to].y+Bt[8]*hr[to].z,Hn[Dr]=fs+lo.x,Hn[is]=hs+lo.x,Hn[ws]=Cs+lo.x,Hn[yr]=ps+lo.x,Hn[Dr+1]=ls+lo.y,Hn[is+1]=cs+lo.y,Hn[ws+1]=ss+lo.y,Hn[yr+1]=os+lo.y,Hn[Dr+2]=as+lo.z,Hn[is+2]=gs+lo.z,Hn[ws+2]=vs+lo.z,Hn[yr+2]=tn+lo.z,qn[Dr]=Et.r,qn[is]=Et.r,qn[ws]=Et.r,qn[yr]=Et.r,qn[Dr+1]=Et.g,qn[is+1]=Et.g,qn[ws+1]=Et.g,qn[yr+1]=Et.g,qn[Dr+2]=Et.b,qn[is+2]=Et.b,qn[ws+2]=Et.b,qn[yr+2]=Et.b,Pr=Bt[0]*mr[wo].x+Bt[3]*mr[wo].y+Bt[6]*mr[wo].z,Fn=Bt[0]*mr[Vn].x+Bt[3]*mr[Vn].y+Bt[6]*mr[Vn].z,Zn=Bt[0]*mr[Kn].x+Bt[3]*mr[Kn].y+Bt[6]*mr[Kn].z,so=Bt[0]*mr[to].x+Bt[3]*mr[to].y+Bt[6]*mr[to].z,rs=Bt[1]*mr[wo].x+Bt[4]*mr[wo].y+Bt[7]*mr[wo].z,ns=Bt[1]*mr[Vn].x+Bt[4]*mr[Vn].y+Bt[7]*mr[Vn].z,jr=Bt[1]*mr[Kn].x+Bt[4]*mr[Kn].y+Bt[7]*mr[Kn].z,Qn=Bt[1]*mr[to].x+Bt[4]*mr[to].y+Bt[7]*mr[to].z,co=Bt[5]*mr[wo].y+Bt[8]*mr[wo].z,us=Bt[5]*mr[Vn].y+Bt[8]*mr[Vn].z,zn=Bt[5]*mr[Kn].y+Bt[8]*mr[Kn].z,ts=Bt[5]*mr[to].y+Bt[8]*mr[to].z,In===0?(Bn[Dr]=Pr,Bn[ws]=Zn,Bn[yr]=so,Bn[Dr+1]=rs,Bn[ws+1]=jr,Bn[yr+1]=Qn,Bn[Dr+2]=co,Bn[ws+2]=zn,Bn[yr+2]=ts,Wn[br]=wo+wr,Wn[br+1]=Kn+wr,Wn[br+2]=to+wr,vr.faceidx+=3):In===eo-1?(Bn[Dr]=Pr,Bn[is]=Fn,Bn[ws]=Zn,Bn[Dr+1]=rs,Bn[is+1]=ns,Bn[ws+1]=jr,Bn[Dr+2]=co,Bn[is+2]=us,Bn[ws+2]=zn,Wn[br]=wo+wr,Wn[br+1]=Vn+wr,Wn[br+2]=Kn+wr,vr.faceidx+=3):(Bn[Dr]=Pr,Bn[is]=Fn,Bn[yr]=so,Bn[Dr+1]=rs,Bn[is+1]=ns,Bn[yr+1]=Qn,Bn[Dr+2]=co,Bn[is+2]=us,Bn[yr+2]=ts,Bn[is]=Fn,Bn[ws]=Zn,Bn[yr]=so,Bn[is+1]=ns,Bn[ws+1]=jr,Bn[yr+1]=Qn,Bn[is+2]=us,Bn[ws+2]=zn,Bn[yr+2]=ts,Wn[br]=wo+wr,Wn[br+1]=Vn+wr,Wn[br+2]=to+wr,Wn[br+3]=Vn+wr,Wn[br+4]=Kn+wr,Wn[br+5]=to+wr,vr.faceidx+=6)}}vr.vertices+=gr}}b.drawCylinder=nt;function pt(it,st,bt,gt,Et){if(!st||!bt)return;Et=Et||{r:0,g:0,b:0};let ot=new c.Vector3(bt.x-st.x,bt.y-st.y,bt.z-st.z);var _t=$(ot.x,ot.y,ot.z);ot=ot.normalize();var Mt=rt.basisVectors.length,Bt=rt.basisVectors,It=Mt+2,jt=it.updateGeoGroup(It),tr=jt.vertices,gr,vr,hr,mr,Er,Rr,Cr=jt.vertexArray,wr=jt.normalArray,Sr=jt.colorArray,br=jt.faceArray;for(gr=tr*3,Cr[gr]=st.x,Cr[gr+1]=st.y,Cr[gr+2]=st.z,wr[gr]=-ot.x,wr[gr+1]=-ot.y,wr[gr+2]=-ot.z,Sr[gr]=Et.r,Sr[gr+1]=Et.g,Sr[gr+2]=Et.b,Cr[gr+3]=bt.x,Cr[gr+4]=bt.y,Cr[gr+5]=bt.z,wr[gr+3]=ot.x,wr[gr+4]=ot.y,wr[gr+5]=ot.z,Sr[gr+3]=Et.r,Sr[gr+4]=Et.g,Sr[gr+5]=Et.b,gr+=6,hr=0;hr<Mt;++hr){var xr=Bt[hr].clone();xr.multiplyScalar(gt),mr=_t[0]*xr.x+_t[3]*xr.y+_t[6]*xr.z,Er=_t[1]*xr.x+_t[4]*xr.y+_t[7]*xr.z,Rr=_t[5]*xr.y+_t[8]*xr.z,Cr[gr]=mr+st.x,Cr[gr+1]=Er+st.y,Cr[gr+2]=Rr+st.z,wr[gr]=mr,wr[gr+1]=Er,wr[gr+2]=Rr,Sr[gr]=Et.r,Sr[gr+1]=Et.g,Sr[gr+2]=Et.b,gr+=3}for(jt.vertices+=Mt+2,vr=jt.faceidx,hr=0;hr<Mt;hr++){var Or=tr+2+hr,In=tr+2+(hr+1)%Mt;br[vr]=Or,br[vr+1]=In,br[vr+2]=tr,vr+=3,br[vr]=Or,br[vr+1]=In,br[vr+2]=tr+1,vr+=3}jt.faceidx+=6*Mt}b.drawCone=pt;class wt{constructor(){this.cache=new Map}getVerticesForRadius(st,bt){bt=bt||2,this.cache.has(bt)||this.cache.set(bt,new Map);let gt=this.cache.get(bt);if(gt.has(st))return gt.get(st);var Et={vertices:[],verticesRows:[],normals:[]},ot=16*bt,_t=10*bt;st<1&&(ot=10*bt,_t=8*bt);var Mt=0,Bt=Math.PI*2,It=0,jt=Math.PI,tr,gr;for(gr=0;gr<=_t;gr++){let hr=[];for(tr=0;tr<=ot;tr++){let mr=tr/ot,Er=gr/_t,Rr=-st*Math.cos(Mt+mr*Bt)*Math.sin(It+Er*jt),Cr=st*Math.cos(It+Er*jt),wr=st*Math.sin(Mt+mr*Bt)*Math.sin(It+Er*jt);var vr=new c.Vector3(Rr,Cr,wr);vr.normalize(),Et.vertices.push({x:Rr,y:Cr,z:wr}),Et.normals.push(vr),hr.push(Et.vertices.length-1)}Et.verticesRows.push(hr)}return gt.set(st,Et),Et}}var Dt=new wt;function Lt(it,st,bt,gt,Et){var ot=Dt.getVerticesForRadius(bt,Et),_t=ot.vertices,Mt=ot.normals,Bt=it.updateGeoGroup(_t.length),It=Bt.vertices,jt=Bt.vertexArray,tr=Bt.colorArray,gr=Bt.faceArray,vr=Bt.lineArray,hr=Bt.normalArray;for(let Rr=0,Cr=_t.length;Rr<Cr;++Rr){let wr=3*(It+Rr),Sr=_t[Rr];jt[wr]=Sr.x+st.x,jt[wr+1]=Sr.y+st.y,jt[wr+2]=Sr.z+st.z,tr[wr]=gt.r,tr[wr+1]=gt.g,tr[wr+2]=gt.b}Bt.vertices+=_t.length;let mr=ot.verticesRows,Er=mr.length-1;for(let Rr=0;Rr<Er;Rr++){let Cr=mr[Rr].length-1;for(let wr=0;wr<Cr;wr++){let Sr=Bt.faceidx,br=Bt.lineidx,xr=mr[Rr][wr+1]+It,Or=xr*3,In=mr[Rr][wr]+It,Nn=In*3,Hn=mr[Rr+1][wr]+It,Bn=Hn*3,qn=mr[Rr+1][wr+1]+It,Wn=qn*3,Yn=Mt[xr-It],po=Mt[In-It],eo=Mt[Hn-It],wo=Mt[qn-It];Math.abs(_t[xr-It].y)===bt?(hr[Or]=Yn.x,hr[Bn]=eo.x,hr[Wn]=wo.x,hr[Or+1]=Yn.y,hr[Bn+1]=eo.y,hr[Wn+1]=wo.y,hr[Or+2]=Yn.z,hr[Bn+2]=eo.z,hr[Wn+2]=wo.z,gr[Sr]=xr,gr[Sr+1]=Hn,gr[Sr+2]=qn,vr[br]=xr,vr[br+1]=Hn,vr[br+2]=xr,vr[br+3]=qn,vr[br+4]=Hn,vr[br+5]=qn,Bt.faceidx+=3,Bt.lineidx+=6):Math.abs(_t[Hn-It].y)===bt?(hr[Or]=Yn.x,hr[Nn]=po.x,hr[Bn]=eo.x,hr[Or+1]=Yn.y,hr[Nn+1]=po.y,hr[Bn+1]=eo.y,hr[Or+2]=Yn.z,hr[Nn+2]=po.z,hr[Bn+2]=eo.z,gr[Sr]=xr,gr[Sr+1]=In,gr[Sr+2]=Hn,vr[br]=xr,vr[br+1]=In,vr[br+2]=xr,vr[br+3]=Hn,vr[br+4]=In,vr[br+5]=Hn,Bt.faceidx+=3,Bt.lineidx+=6):(hr[Or]=Yn.x,hr[Nn]=po.x,hr[Wn]=wo.x,hr[Or+1]=Yn.y,hr[Nn+1]=po.y,hr[Wn+1]=wo.y,hr[Or+2]=Yn.z,hr[Nn+2]=po.z,hr[Wn+2]=wo.z,hr[Nn]=po.x,hr[Bn]=eo.x,hr[Wn]=wo.x,hr[Nn+1]=po.y,hr[Bn+1]=eo.y,hr[Wn+1]=wo.y,hr[Nn+2]=po.z,hr[Bn+2]=eo.z,hr[Wn+2]=wo.z,gr[Sr]=xr,gr[Sr+1]=In,gr[Sr+2]=qn,gr[Sr+3]=In,gr[Sr+4]=Hn,gr[Sr+5]=qn,vr[br]=xr,vr[br+1]=In,vr[br+2]=xr,vr[br+3]=qn,vr[br+4]=In,vr[br+5]=Hn,vr[br+6]=Hn,vr[br+7]=qn,Bt.faceidx+=6,Bt.lineidx+=8)}}}b.drawSphere=Lt})(g||(g={}))},"./src/GLModel.ts":(a,o,e)=>{e.r(o),e.d(o,{GLModel:()=>st});var c=e("./src/WebGL/index.ts"),h=e("./src/WebGL/shapes/index.ts"),g=e("./src/WebGL/math/index.ts"),b=e("./src/colors.ts"),$=e("./src/GLDraw.ts"),j=e("./src/glcartoon.ts"),rt=e("./src/utilities.ts"),nt=e("./src/Gradient.ts"),pt=e("./src/parsers/index.ts"),wt=e("./node_modules/netcdfjs/lib-esm/index.js"),Dt=e("./node_modules/pako/dist/pako.esm.mjs"),Lt=e("./src/parsers/utils/assignBonds.ts");function it(bt){let gt;return typeof bt=="string"?gt=new TextEncoder().encode(bt):gt=new Uint8Array(bt),(0,Dt.inflate)(gt,{to:"string"})}class st{static sameObj(gt,Et){return gt&&Et?JSON.stringify(gt)==JSON.stringify(Et):gt==Et}constructor(gt,Et){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new g.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=b.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=Et||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:b.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=gt}getRadiusFromStyle(gt,Et){var ot=this.defaultSphereRadius;if(typeof Et.radius<"u")ot=Et.radius;else if(st.vdwRadii[gt.elem])ot=st.vdwRadii[gt.elem];else if(gt.elem.length>1){let _t=gt.elem;_t=_t[0].toUpperCase()+_t[1].toLowerCase(),st.vdwRadii[_t]&&(ot=st.vdwRadii[_t])}return typeof Et.scale<"u"&&(ot*=Et.scale),ot}drawAtomCross(gt,Et){if(gt.style.cross){var ot=gt.style.cross;if(!ot.hidden){var _t=ot.linewidth||st.defaultlineWidth;Et[_t]||(Et[_t]=new c.Geometry);var Mt=Et[_t].updateGeoGroup(6),Bt=this.getRadiusFromStyle(gt,ot),It=[[Bt,0,0],[-Bt,0,0],[0,Bt,0],[0,-Bt,0],[0,0,Bt],[0,0,-Bt]],jt=gt.clickable||gt.hoverable;jt&&gt.intersectionShape===void 0&&(gt.intersectionShape={sphere:[],cylinder:[],line:[]});for(var tr=(0,rt.getColorFromStyle)(gt,ot),gr=Mt.vertexArray,vr=Mt.colorArray,hr=0;hr<6;hr++){var mr=Mt.vertices*3;if(Mt.vertices++,gr[mr]=gt.x+It[hr][0],gr[mr+1]=gt.y+It[hr][1],gr[mr+2]=gt.z+It[hr][2],vr[mr]=tr.r,vr[mr+1]=tr.g,vr[mr+2]=tr.b,jt){var Er=new g.Vector3(It[hr][0],It[hr][1],It[hr][2]);Er.multiplyScalar(.1),Er.set(Er.x+gt.x,Er.y+gt.y,Er.z+gt.z),gt.intersectionShape.line.push(Er)}}}}}getGoodCross(gt,Et,ot,_t){for(var Mt=null,Bt=-1,It=0,jt=gt.bonds.length;It<jt;It++)if(gt.bonds[It]!=Et.index){let gr=gt.bonds[It],vr=this.atoms[gr],mr=new g.Vector3(vr.x,vr.y,vr.z).clone();mr.sub(ot);let Er=mr.clone();Er.cross(_t);var tr=Er.lengthSq();if(tr>Bt&&(Bt=tr,Mt=Er,Bt>.1))return Mt}return Mt}getSideBondV(gt,Et,ot){var _t,Mt,Bt,It,jt,tr=new g.Vector3(gt.x,gt.y,gt.z),gr=new g.Vector3(Et.x,Et.y,Et.z),vr=gr.clone(),hr=null;if(vr.sub(tr),gt.bonds.length===1)Et.bonds.length===1?(hr=vr.clone(),Math.abs(hr.x)>1e-4?hr.y+=1:hr.x+=1):(_t=(ot+1)%Et.bonds.length,Mt=Et.bonds[_t],Bt=this.atoms[Mt],It=new g.Vector3(Bt.x,Bt.y,Bt.z),jt=It.clone(),jt.sub(tr),hr=jt.clone(),hr.cross(vr));else if(hr=this.getGoodCross(gt,Et,tr,vr),hr.lengthSq()<.01){var mr=this.getGoodCross(Et,gt,tr,vr);mr!=null&&(hr=mr)}return hr.lengthSq()<.01&&(hr=vr.clone(),Math.abs(hr.x)>1e-4?hr.y+=1:hr.x+=1),hr.cross(vr),hr.normalize(),hr}addLine(gt,Et,ot,_t,Mt,Bt){gt[ot]=_t.x,gt[ot+1]=_t.y,gt[ot+2]=_t.z,Et[ot]=Bt.r,Et[ot+1]=Bt.g,Et[ot+2]=Bt.b,gt[ot+3]=Mt.x,gt[ot+4]=Mt.y,gt[ot+5]=Mt.z,Et[ot+3]=Bt.r,Et[ot+4]=Bt.g,Et[ot+5]=Bt.b}drawBondLines(gt,Et,ot){if(gt.style.line){var _t=gt.style.line;if(!_t.hidden){var Mt,Bt,It,jt,tr=_t.linewidth||st.defaultlineWidth;ot[tr]||(ot[tr]=new c.Geometry);for(var gr=ot[tr].updateGeoGroup(6*gt.bonds.length),vr=gr.vertexArray,hr=gr.colorArray,mr=0;mr<gt.bonds.length;mr++){var Er=gt.bonds[mr],Rr=Et[Er];if(Rr.style.line&&!(gt.index>=Rr.index)){var Cr=new g.Vector3(gt.x,gt.y,gt.z),wr=new g.Vector3(Rr.x,Rr.y,Rr.z),Sr=Cr.clone().add(wr).multiplyScalar(.5),br=!1,xr=gt.clickable||gt.hoverable,Or=Rr.clickable||Rr.hoverable;(xr||Or)&&(xr&&(gt.intersectionShape===void 0&&(gt.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),gt.intersectionShape.line.push(Cr),gt.intersectionShape.line.push(Sr)),Or&&(Rr.intersectionShape===void 0&&(Rr.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Rr.intersectionShape.line.push(Sr),Rr.intersectionShape.line.push(wr)));var In=(0,rt.getColorFromStyle)(gt,gt.style.line),Nn=(0,rt.getColorFromStyle)(Rr,Rr.style.line);if(gt.bondStyles&&gt.bondStyles[mr]){var Hn=gt.bondStyles[mr];if(!Hn.iswire)continue;Hn.singleBond&&(br=!0),typeof Hn.color1<"u"&&(In=b.CC.color(Hn.color1)),typeof Hn.color2<"u"&&(Nn=b.CC.color(Hn.color2))}var Bn=gr.vertices*3,qn,Wn;if(gt.bondOrder[mr]>1&&gt.bondOrder[mr]<4&&!br){var Yn=this.getSideBondV(gt,Rr,mr),po=wr.clone();po.sub(Cr),gt.bondOrder[mr]==2?(Yn.multiplyScalar(.1),Mt=Cr.clone(),Mt.add(Yn),Bt=Cr.clone(),Bt.sub(Yn),It=Mt.clone(),It.add(po),jt=Bt.clone(),jt.add(po),In==Nn?(gr.vertices+=4,this.addLine(vr,hr,Bn,Mt,It,In),this.addLine(vr,hr,Bn+6,Bt,jt,In)):(gr.vertices+=8,po.multiplyScalar(.5),qn=Mt.clone(),qn.add(po),Wn=Bt.clone(),Wn.add(po),this.addLine(vr,hr,Bn,Mt,qn,In),this.addLine(vr,hr,Bn+6,qn,It,Nn),this.addLine(vr,hr,Bn+12,Bt,Wn,In),this.addLine(vr,hr,Bn+18,Wn,jt,Nn))):gt.bondOrder[mr]==3&&(Yn.multiplyScalar(.1),Mt=Cr.clone(),Mt.add(Yn),Bt=Cr.clone(),Bt.sub(Yn),It=Mt.clone(),It.add(po),jt=Bt.clone(),jt.add(po),In==Nn?(gr.vertices+=6,this.addLine(vr,hr,Bn,Cr,wr,In),this.addLine(vr,hr,Bn+6,Mt,It,In),this.addLine(vr,hr,Bn+12,Bt,jt,In)):(gr.vertices+=12,po.multiplyScalar(.5),qn=Mt.clone(),qn.add(po),Wn=Bt.clone(),Wn.add(po),this.addLine(vr,hr,Bn,Cr,Sr,In),this.addLine(vr,hr,Bn+6,Sr,wr,Nn),this.addLine(vr,hr,Bn+12,Mt,qn,In),this.addLine(vr,hr,Bn+18,qn,It,Nn),this.addLine(vr,hr,Bn+24,Bt,Wn,In),this.addLine(vr,hr,Bn+30,Wn,jt,Nn)))}else In==Nn?(gr.vertices+=2,this.addLine(vr,hr,Bn,Cr,wr,In)):(gr.vertices+=4,this.addLine(vr,hr,Bn,Cr,Sr,In),this.addLine(vr,hr,Bn+6,Sr,wr,Nn))}}}}}drawAtomSphere(gt,Et){if(gt.style.sphere){var ot=gt.style.sphere;if(!ot.hidden){var _t=(0,rt.getColorFromStyle)(gt,ot),Mt=this.getRadiusFromStyle(gt,ot);if((gt.clickable===!0||gt.hoverable)&&gt.intersectionShape!==void 0){var Bt=new g.Vector3(gt.x,gt.y,gt.z);gt.intersectionShape.sphere.push(new h.Sphere(Bt,Mt))}$.GLDraw.drawSphere(Et,gt,Mt,_t)}}}drawAtomClickSphere(gt){if(gt.style.clicksphere){var Et=gt.style.clicksphere;if(!Et.hidden){var ot=this.getRadiusFromStyle(gt,Et);if((gt.clickable===!0||gt.hoverable)&&gt.intersectionShape!==void 0){var _t=new g.Vector3(gt.x,gt.y,gt.z);gt.intersectionShape.sphere.push(new h.Sphere(_t,ot))}}}}drawAtomInstanced(gt,Et){if(gt.style.sphere){var ot=gt.style.sphere;if(!ot.hidden){var _t=this.getRadiusFromStyle(gt,ot),Mt=(0,rt.getColorFromStyle)(gt,ot),Bt=Et.updateGeoGroup(1),It=Bt.vertices,jt=It*3,tr=Bt.vertexArray,gr=Bt.colorArray,vr=Bt.radiusArray;if(tr[jt]=gt.x,tr[jt+1]=gt.y,tr[jt+2]=gt.z,gr[jt]=Mt.r,gr[jt+1]=Mt.g,gr[jt+2]=Mt.b,vr[It]=_t,(gt.clickable===!0||gt.hoverable)&&gt.intersectionShape!==void 0){var hr=new g.Vector3(gt.x,gt.y,gt.z);gt.intersectionShape.sphere.push(new h.Sphere(hr,_t))}Bt.vertices+=1}}}drawSphereImposter(gt,Et,ot,_t){var Mt=gt.updateGeoGroup(4),Bt,It=Mt.vertices,jt=It*3,tr=Mt.vertexArray,gr=Mt.colorArray;for(Bt=0;Bt<4;Bt++)tr[jt+3*Bt]=Et.x,tr[jt+3*Bt+1]=Et.y,tr[jt+3*Bt+2]=Et.z;var vr=Mt.normalArray;for(Bt=0;Bt<4;Bt++)gr[jt+3*Bt]=_t.r,gr[jt+3*Bt+1]=_t.g,gr[jt+3*Bt+2]=_t.b;vr[jt+0]=-ot,vr[jt+1]=ot,vr[jt+2]=0,vr[jt+3]=-ot,vr[jt+4]=-ot,vr[jt+5]=0,vr[jt+6]=ot,vr[jt+7]=-ot,vr[jt+8]=0,vr[jt+9]=ot,vr[jt+10]=ot,vr[jt+11]=0,Mt.vertices+=4;var hr=Mt.faceArray,mr=Mt.faceidx;hr[mr+0]=It,hr[mr+1]=It+1,hr[mr+2]=It+2,hr[mr+3]=It+2,hr[mr+4]=It+3,hr[mr+5]=It,Mt.faceidx+=6}drawAtomImposter(gt,Et){if(gt.style.sphere){var ot=gt.style.sphere;if(!ot.hidden){var _t=this.getRadiusFromStyle(gt,ot),Mt=(0,rt.getColorFromStyle)(gt,ot);if((gt.clickable===!0||gt.hoverable)&&gt.intersectionShape!==void 0){var Bt=new g.Vector3(gt.x,gt.y,gt.z);gt.intersectionShape.sphere.push(new h.Sphere(Bt,_t))}this.drawSphereImposter(Et,gt,_t,Mt)}}}static drawStickImposter(gt,Et,ot,_t,Mt){for(var Bt=gt.updateGeoGroup(4),It=Bt.vertices,jt=It*3,tr=Bt.vertexArray,gr=Bt.colorArray,vr=Bt.radiusArray,hr=Bt.normalArray,mr=Mt.r,Er=Mt.g,Rr=Mt.b,Cr=function(Or){var In=-Or;return In==0&&(In=-1e-4),In},wr=jt,Sr=0;Sr<4;Sr++)tr[wr]=Et.x,hr[wr]=ot.x,gr[wr]=mr,wr++,tr[wr]=Et.y,hr[wr]=ot.y,gr[wr]=Er,wr++,tr[wr]=Et.z,hr[wr]=ot.z,Sr<2?gr[wr]=Rr:gr[wr]=Cr(Rr),wr++;Bt.vertices+=4,vr[It]=-_t,vr[It+1]=_t,vr[It+2]=-_t,vr[It+3]=_t;var br=Bt.faceArray,xr=Bt.faceidx;br[xr+0]=It,br[xr+1]=It+1,br[xr+2]=It+2,br[xr+3]=It+2,br[xr+4]=It+3,br[xr+5]=It,Bt.faceidx+=6}drawBondSticks(gt,Et,ot){if(gt.style.stick){var _t=gt.style.stick;if(!_t.hidden){var Mt=_t.radius||this.defaultStickRadius,Bt=_t.doubleBondScaling||.4,It=_t.tripleBondScaling||.25,jt=Mt,tr=_t.singleBonds||!1,gr=0,vr=0,hr,mr,Er,Rr,Cr,wr,Sr,br,xr,Or,In,Nn=(0,rt.getColorFromStyle)(gt,_t),Hn,Bn,qn;!gt.capDrawn&&gt.bonds.length<4&&(gr=2);var Wn=$.GLDraw.drawCylinder;for(ot.imposter&&(Wn=st.drawStickImposter),Er=0;Er<gt.bonds.length;Er++){var Yn=gt.bonds[Er],po=Et[Yn];if(Hn=Bn=qn=null,gt.index<po.index){var eo=po.style;if(!eo.stick||eo.stick.hidden)continue;var wo=(0,rt.getColorFromStyle)(po,eo.stick);if(jt=Mt,Rr=tr,gt.bondStyles&&gt.bondStyles[Er]){if(Cr=gt.bondStyles[Er],Cr.iswire)continue;Cr.radius&&(jt=Cr.radius),Cr.singleBond&&(Rr=!0),typeof Cr.color1<"u"&&(Nn=b.CC.color(Cr.color1)),typeof Cr.color2<"u"&&(wo=b.CC.color(Cr.color2))}var Vn=new g.Vector3(gt.x,gt.y,gt.z),Kn=new g.Vector3(po.x,po.y,po.z);if(gt.bondOrder[Er]<=1||Rr||gt.bondOrder[Er]>3){if(gt.bondOrder[Er]<1&&(jt*=gt.bondOrder[Er]),!po.capDrawn&&po.bonds.length<4&&(vr=2),Nn!=wo?(Hn=new g.Vector3().addVectors(Vn,Kn).multiplyScalar(.5),Wn(ot,Vn,Hn,jt,Nn,gr,0),Wn(ot,Hn,Kn,jt,wo,0,vr)):Wn(ot,Vn,Kn,jt,Nn,gr,vr),hr=gt.clickable||gt.hoverable,mr=po.clickable||po.hoverable,hr||mr){if(Hn||(Hn=new g.Vector3().addVectors(Vn,Kn).multiplyScalar(.5)),hr){var to=new h.Cylinder(Vn,Hn,jt),fs=new h.Sphere(Vn,jt);gt.intersectionShape.cylinder.push(to),gt.intersectionShape.sphere.push(fs)}if(mr){var hs=new h.Cylinder(Kn,Hn,jt),Cs=new h.Sphere(Kn,jt);po.intersectionShape.cylinder.push(hs),po.intersectionShape.sphere.push(Cs)}}}else if(gt.bondOrder[Er]>1){var ps=0,ls=0;jt!=Mt&&(ps=2,ls=2);var cs=Kn.clone(),ss=null;cs.sub(Vn);var os,as,gs,vs,tn;ss=this.getSideBondV(gt,po,Er),gt.bondOrder[Er]==2?(os=jt*Bt,ss.multiplyScalar(os*1.5),as=Vn.clone(),as.add(ss),gs=Vn.clone(),gs.sub(ss),vs=as.clone(),vs.add(cs),tn=gs.clone(),tn.add(cs),Nn!=wo?(Hn=new g.Vector3().addVectors(as,vs).multiplyScalar(.5),Bn=new g.Vector3().addVectors(gs,tn).multiplyScalar(.5),Wn(ot,as,Hn,os,Nn,ps,0),Wn(ot,Hn,vs,os,wo,0,ls),Wn(ot,gs,Bn,os,Nn,ps,0),Wn(ot,Bn,tn,os,wo,0,ls)):(Wn(ot,as,vs,os,Nn,ps,ls),Wn(ot,gs,tn,os,Nn,ps,ls)),hr=gt.clickable||gt.hoverable,mr=po.clickable||po.hoverable,(hr||mr)&&(Hn||(Hn=new g.Vector3().addVectors(as,vs).multiplyScalar(.5)),Bn||(Bn=new g.Vector3().addVectors(gs,tn).multiplyScalar(.5)),hr&&(wr=new h.Cylinder(as,Hn,os),Sr=new h.Cylinder(gs,Bn,os),gt.intersectionShape.cylinder.push(wr),gt.intersectionShape.cylinder.push(Sr)),mr&&(xr=new h.Cylinder(vs,Hn,os),Or=new h.Cylinder(tn,Bn,os),po.intersectionShape.cylinder.push(xr),po.intersectionShape.cylinder.push(Or)))):gt.bondOrder[Er]==3&&(os=jt*It,ss.cross(cs),ss.normalize(),ss.multiplyScalar(os*3),as=Vn.clone(),as.add(ss),gs=Vn.clone(),gs.sub(ss),vs=as.clone(),vs.add(cs),tn=gs.clone(),tn.add(cs),Nn!=wo?(Hn=new g.Vector3().addVectors(as,vs).multiplyScalar(.5),Bn=new g.Vector3().addVectors(gs,tn).multiplyScalar(.5),qn=new g.Vector3().addVectors(Vn,Kn).multiplyScalar(.5),Wn(ot,as,Hn,os,Nn,ps,0),Wn(ot,Hn,vs,os,wo,0,ls),Wn(ot,Vn,qn,os,Nn,gr,0),Wn(ot,qn,Kn,os,wo,0,vr),Wn(ot,gs,Bn,os,Nn,ps,0),Wn(ot,Bn,tn,os,wo,0,ls)):(Wn(ot,as,vs,os,Nn,ps,ls),Wn(ot,Vn,Kn,os,Nn,gr,vr),Wn(ot,gs,tn,os,Nn,ps,ls)),hr=gt.clickable||gt.hoverable,mr=po.clickable||po.hoverable,(hr||mr)&&(Hn||(Hn=new g.Vector3().addVectors(as,vs).multiplyScalar(.5)),Bn||(Bn=new g.Vector3().addVectors(gs,tn).multiplyScalar(.5)),qn||(qn=new g.Vector3().addVectors(Vn,Kn).multiplyScalar(.5)),hr&&(wr=new h.Cylinder(as.clone(),Hn.clone(),os),Sr=new h.Cylinder(gs.clone(),Bn.clone(),os),br=new h.Cylinder(Vn.clone(),qn.clone(),os),gt.intersectionShape.cylinder.push(wr),gt.intersectionShape.cylinder.push(Sr),gt.intersectionShape.cylinder.push(br)),mr&&(xr=new h.Cylinder(vs.clone(),Hn.clone(),os),Or=new h.Cylinder(tn.clone(),Bn.clone(),os),In=new h.Cylinder(Kn.clone(),qn.clone(),os),po.intersectionShape.cylinder.push(xr),po.intersectionShape.cylinder.push(Or),po.intersectionShape.cylinder.push(In))))}}}var Pr=!1,Fn=0,Zn=!1;for(Er=0;Er<gt.bonds.length;Er++)Rr=tr,gt.bondStyles&&gt.bondStyles[Er]&&(Cr=gt.bondStyles[Er],Cr.singleBond&&(Rr=!0),Cr.radius&&Cr.radius!=Mt&&(Zn=!0)),(Rr||gt.bondOrder[Er]==1)&&Fn++;Zn?Fn>0&&(Pr=!0):Fn==0&&(gt.bonds.length>0||_t.showNonBonded)&&(Pr=!0),Pr&&(jt=Mt,ot.imposter?this.drawSphereImposter(ot.sphereGeometry,gt,jt,Nn):$.GLDraw.drawSphere(ot,gt,jt,Nn))}}}createMolObj(gt,Et){Et=Et||{};var ot=new c.Object3D,_t=[],Mt={},Bt={},It=this.drawAtomSphere,jt=null,tr=null;Et.supportsImposters?(It=this.drawAtomImposter,jt=new c.Geometry(!0),jt.imposter=!0,tr=new c.Geometry(!0,!0),tr.imposter=!0,tr.sphereGeometry=new c.Geometry(!0),tr.sphereGeometry.imposter=!0,tr.drawnCaps={}):Et.supportsAIA?(It=this.drawAtomInstanced,jt=new c.Geometry(!1,!0,!0),jt.instanced=!0,tr=new c.Geometry(!0)):(jt=new c.Geometry(!0),tr=new c.Geometry(!0));var gr,vr,hr,mr,Er={},Rr=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(gr=0,hr=gt.length;gr<hr;gr++){var Cr=gt[gr];if(Cr&&Cr.style){(Cr.clickable||Cr.hoverable)&&Cr.intersectionShape===void 0&&(Cr.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),mr={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(vr in mr)Cr.style[vr]?Cr.style[vr].opacity?mr[vr]=parseFloat(Cr.style[vr].opacity):mr[vr]=1:mr[vr]=void 0,Er[vr]?mr[vr]!=null&&Er[vr]!=mr[vr]&&(console.log("Warning: "+vr+" opacity is ambiguous"),Er[vr]=1):Er[vr]=mr[vr];It.call(this,Cr,jt),this.drawAtomClickSphere(Cr),this.drawAtomCross(Cr,Bt),this.drawBondLines(Cr,gt,Mt),this.drawBondSticks(Cr,gt,tr),typeof Cr.style.cartoon<"u"&&!Cr.style.cartoon.hidden&&(Cr.style.cartoon.color==="spectrum"&&typeof Cr.resi=="number"&&!Cr.hetflag&&(Cr.resi<Rr[0]&&(Rr[0]=Cr.resi),Cr.resi>Rr[1]&&(Rr[1]=Cr.resi)),_t.push(Cr))}}if(_t.length>0&&(0,j.drawCartoon)(ot,_t,Rr,this.defaultCartoonQuality),jt&&jt.vertices>0){jt.initTypedArrays();var wr=null,Sr=null;jt.imposter?wr=new c.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):jt.instanced?(Sr=new c.Geometry(!0),$.GLDraw.drawSphere(Sr,{x:0,y:0,z:0},1,new b.Color(.5,.5,.5)),Sr.initTypedArrays(),wr=new c.InstancedMaterial({sphereMaterial:new c.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:Sr})):wr=new c.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Er.sphere<1&&Er.sphere>=0&&(wr.transparent=!0,wr.opacity=Er.sphere),Sr=new c.Mesh(jt,wr),ot.add(Sr)}if(tr.vertices>0){var br=null,xr=null,Or=tr.sphereGeometry;(!Or||typeof Or.vertices>"u"||Or.vertices==0)&&(Or=null),tr.initTypedArrays(),Or&&Or.initTypedArrays();var In={ambient:0,vertexColors:!0,reflectivity:0};tr.imposter?(br=new c.StickImposterMaterial(In),xr=new c.SphereImposterMaterial(In)):(br=new c.MeshLambertMaterial(In),xr=new c.MeshLambertMaterial(In),br.wireframe&&(tr.setUpWireframe(),Or&&Or.setUpWireframe())),Er.stick<1&&Er.stick>=0&&(br.transparent=!0,br.opacity=Er.stick,xr.transparent=!0,xr.opacity=Er.stick);var Nn=new c.Mesh(tr,br);if(ot.add(Nn),Or){var Hn=new c.Mesh(Or,xr);ot.add(Hn)}}var Bn;for(gr in Mt)if(Mt.hasOwnProperty(gr)){Bn=gr;var qn=new c.LineBasicMaterial({linewidth:Bn,vertexColors:!0});Er.line<1&&Er.line>=0&&(qn.transparent=!0,qn.opacity=Er.line),Mt[gr].initTypedArrays();var Wn=new c.Line(Mt[gr],qn,c.LineStyle.LinePieces);ot.add(Wn)}for(gr in Bt)if(Bt.hasOwnProperty(gr)){Bn=gr;var Yn=new c.LineBasicMaterial({linewidth:Bn,vertexColors:!0});Er.cross<1&&Er.cross>=0&&(Yn.transparent=!0,Yn.opacity=Er.cross),Bt[gr].initTypedArrays();var po=new c.Line(Bt[gr],Yn,c.LineStyle.LinePieces);ot.add(po)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var eo=new c.Object3D,wo;for(wo=0;wo<this.modelData.symmetries.length;wo++){var Vn=new c.Object3D;Vn=ot.clone(),Vn.matrix.copy(this.modelData.symmetries[wo]),Vn.matrixAutoUpdate=!1,eo.add(Vn)}return eo}return ot}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(gt){this.atoms=gt.atoms,this.frames=gt.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const gt=this.modelData.cryst;this.modelData.cryst.matrix=(0,g.conversionMatrix3)(gt.a,gt.b,gt.c,gt.alpha,gt.beta,gt.gamma)}return this.modelData.cryst}else return null}setCrystData(gt,Et,ot,_t,Mt,Bt){gt=gt||1,Et=Et||1,ot=ot||1,_t=_t||90,Mt=Mt||90,Bt=Bt||90;const It=(0,g.conversionMatrix3)(gt,Et,ot,_t,Mt,Bt);this.modelData.cryst={a:gt,b:Et,c:ot,alpha:_t,beta:Mt,gamma:Bt,matrix:It}}setCrystMatrix(gt){gt=gt||new g.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:gt}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(gt){typeof gt>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=gt}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(gt,Et,ot,_t){var Mt=Et-gt;return Mt<-ot?Et+_t:Mt>ot?Et-_t:Et}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var gt=this.box[0],Et=this.box[1],ot=this.box[2],_t=gt*.9,Mt=Et*.9,Bt=ot*.9,It=0;It<this.atomdfs.length;It++)for(var jt=this.atomdfs[It],tr=1;tr<jt.length;tr++){var gr=this.atoms[jt[tr][0]],vr=this.atoms[jt[tr][1]];gr.x=this.adjustCoord(vr.x,gr.x,_t,gt),gr.y=this.adjustCoord(vr.y,gr.y,Mt,Et),gr.z=this.adjustCoord(vr.z,gr.z,Bt,ot)}}setFrame(gt,Et){var ot=this.getNumFrames();let _t=this;return new Promise(function(Mt,Bt){if(ot==0&&Mt(),(gt<0||gt>=ot)&&(gt=ot-1),_t.frames.url!=null){var It=_t.frames.url;(0,rt.getbin)(It+"/traj/frame/"+gt+"/"+_t.frames.path,void 0,"POST",void 0).then(function(jt){for(var tr=new Float32Array(jt,44),gr=0,vr=0;vr<_t.atoms.length;vr++)_t.atoms[vr].x=tr[gr++],_t.atoms[vr].y=tr[gr++],_t.atoms[vr].z=tr[gr++];_t.box&&_t.atomdfs&&_t.adjustCoordinatesToBox(),Mt()}).catch(Bt)}else _t.atoms=_t.frames[gt],Mt();_t.molObj=null,_t.modelDatas&&gt<_t.modelDatas.length&&(_t.modelData=_t.modelDatas[gt],_t.unitCellObjects&&Et&&(Et.removeUnitCell(_t),Et.addUnitCell(_t)))})}addFrame(gt){this.frames.push(gt)}vibrate(gt=10,Et=1,ot=!1,_t,Mt){var Bt=0,It=gt;ot&&(Bt=-gt,It=gt),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),Bt<It&&(this.frames=[]),ot&&(this.frames.origIndex=gt);for(var jt=Bt;jt<It;jt++){var tr=[],gr=this.frames.length;if(jt==0&&!Mt){this.frames.push(this.atoms);continue}for(var vr=0;vr<this.atoms.length;vr++){var hr=(0,rt.getAtomProperty)(this.atoms[vr],"dx"),mr=(0,rt.getAtomProperty)(this.atoms[vr],"dy"),Er=(0,rt.getAtomProperty)(this.atoms[vr],"dz"),Rr=new g.Vector3(hr,mr,Er),Cr=new g.Vector3(this.atoms[vr].x,this.atoms[vr].y,this.atoms[vr].z),wr=jt*Et/gt;Rr.multiplyScalar(wr),Cr.add(Rr);var Sr={};for(var br in this.atoms[vr])Sr[br]=this.atoms[vr][br];if(Sr.x=Cr.x,Sr.y=Cr.y,Sr.z=Cr.z,tr.push(Sr),_t&&Mt){var xr=(0,rt.extend)({},Mt),Or=new g.Vector3(hr,mr,Er);if(Or.multiplyScalar(Et),Or.add(Cr),xr.start=Cr,xr.end=Or,xr.frame=gr,!xr.color){var In=Sr.style.sphere;In||(In=Sr.style.stick),In||(In=Sr.style.line),xr.color=(0,rt.getColorFromStyle)(Sr,In)}_t.addArrow(xr)}}this.frames.push(tr)}}setAtomDefaults(gt){for(let Et=0;Et<gt.length;Et++){let ot=gt[Et];ot&&(ot.style=ot.style||(0,rt.deepCopy)(st.defaultAtomStyle),ot.color=ot.color||this.ElementColors[ot.elem]||this.defaultColor,ot.model=this.id,(ot.clickable||ot.hoverable)&&(ot.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(gt,Et,ot={}){var _t=st.parseMolData(gt,Et,ot);this.dontDuplicateAtoms=!ot.duplicateAssemblyAtoms;var Mt=_t.modelData;if(Mt&&(Array.isArray(Mt)?(this.modelData=Mt[0],ot.frames&&(this.modelDatas=Mt)):this.modelData=Mt),_t.box?this.box=_t.box:this.box=null,this.frames.length==0){for(let It=0;It<_t.length;It++)_t[It].length!=0&&this.frames.push(_t[It]);this.frames[0]&&(this.atoms=this.frames[0])}else if(ot.frames)for(let It=0;It<_t.length;It++)this.frames.push(_t[It]);else for(var Bt=0;Bt<_t.length;Bt++)this.addAtoms(_t[Bt]);for(let It=0;It<this.frames.length;It++)this.setAtomDefaults(this.frames[It]);ot.vibrate&&ot.vibrate.frames&&ot.vibrate.amplitude&&this.vibrate(ot.vibrate.frames,ot.vibrate.amplitude),ot.style&&this.setStyle({},ot.style)}setDontDuplicateAtoms(gt){this.dontDuplicateAtoms=gt}setModelData(gt){this.modelData=gt}propertyMatches(gt,Et){if(gt==Et)return!0;if(typeof Et=="string"&&typeof gt=="number"){var ot=Et.match(/(-?\d+)\s*-\s*(-?\d+)/);if(ot){var _t=parseInt(ot[1]),Mt=parseInt(ot[2]);if(ot&&gt>=_t&&gt<=Mt)return!0}}return!1}static deepCopyAndCache(gt,Et){if(typeof gt!="object"||gt==null||gt.__cache_created)return gt;const ot={};for(const _t in gt){const Mt=gt[_t];if(Array.isArray(Mt)){ot[_t]=[];for(let Bt=0;Bt<Mt.length;Bt++)ot[_t].push(st.deepCopyAndCache(Mt[Bt],Et))}else typeof Mt=="object"&&_t!="properties"&&_t!="model"?ot[_t]=st.deepCopyAndCache(Mt,Et):ot[_t]=Mt;if(_t=="and"||_t=="or"){const Bt=[];for(const It of ot[_t]){const jt=new Set;for(const tr of Et.selectedAtoms(It))jt.add(tr.index);Bt.push(jt)}if(_t=="and"){const It=function(tr,gr){const vr=new Set;for(const hr of gr)tr.has(hr)&&vr.add(hr);return vr};let jt=new Set(Bt[0]);for(const tr of Bt.splice(1))jt=It(jt,tr);ot[_t].__cached_results=jt}else if(_t=="or"){const It=new Set;for(const jt of Bt)for(const tr of jt)It.add(tr);ot[_t].__cached_results=It}}}return ot.__cache_created=!0,ot}atomIsSelected(gt,Et){if(typeof Et>"u")return!0;var ot=!!Et.invert,_t=!0;for(var Mt in Et)if(Mt=="and"||Mt=="or"||Mt=="not"){if(Mt=="not"){if(this.atomIsSelected(gt,Et[Mt])){_t=!1;break}}else if(Et[Mt].__cached_results===void 0&&(Et=st.deepCopyAndCache(Et,this)),_t=Et[Mt].__cached_results.has(gt.index),!_t)break}else if(Mt==="predicate"){if(!Et.predicate(gt)){_t=!1;break}}else if(Mt=="properties"&&gt[Mt]){for(var Bt in Et.properties)if(!Bt.startsWith("__cache")){if(typeof gt.properties[Bt]>"u"){_t=!1;break}if(gt.properties[Bt]!=Et.properties[Bt]){_t=!1;break}}}else if(Et.hasOwnProperty(Mt)&&!st.ignoredKeys.has(Mt)&&!Mt.startsWith("__cache")){if(typeof gt[Mt]>"u"){_t=!1;break}var It=!1;if(Mt==="bonds"){var jt=Et[Mt];if(jt!=gt.bonds.length){_t=!1;break}}else if(Array.isArray(Et[Mt])){var tr=Et[Mt],gr=gt[Mt];for(let vr=0;vr<tr.length;vr++)if(this.propertyMatches(gr,tr[vr])){It=!0;break}if(!It){_t=!1;break}}else{let vr=Et[Mt];if(!this.propertyMatches(gt[Mt],vr)){_t=!1;break}}}return ot?!_t:_t}static squaredDistance(gt,Et){var ot=Et.x-gt.x,_t=Et.y-gt.y,Mt=Et.z-gt.z;return ot*ot+_t*_t+Mt*Mt}expandAtomList(gt,Et){if(Et<=0)return gt;for(var ot=(0,rt.getExtent)(gt,void 0),_t=[[],[],[]],Mt=0;Mt<3;Mt++)_t[0][Mt]=ot[0][Mt]-Et,_t[1][Mt]=ot[1][Mt]+Et,_t[2][Mt]=ot[2][Mt];var Bt=[];for(let gr=0;gr<this.atoms.length;gr++){var It=this.atoms[gr].x,jt=this.atoms[gr].y,tr=this.atoms[gr].z;It>=_t[0][0]&&It<=_t[1][0]&&jt>=_t[0][1]&&jt<=_t[1][1]&&tr>=_t[0][2]&&tr<=_t[1][2]&&(It>=ot[0][0]&&It<=ot[1][0]&&jt>=ot[0][1]&&jt<=ot[1][1]&&tr>=ot[0][2]&&tr<=ot[1][2]||Bt.push(this.atoms[gr]))}return Bt}static getFloat(gt){return typeof gt=="number"?gt:parseFloat(gt)}selectedAtoms(gt,Et){var ot=[];gt=st.deepCopyAndCache(gt||{},this),Et||(Et=this.atoms);for(var _t=Et.length,Mt=0;Mt<_t;Mt++){var Bt=Et[Mt];Bt&&this.atomIsSelected(Bt,gt)&&ot.push(Bt)}if(gt.hasOwnProperty("expand")){const Sr=st.getFloat(gt.expand);let br=this.expandAtomList(ot,Sr),xr=ot.length;const Or=Sr*Sr;for(let In=0;In<br.length;In++)for(let Nn=0;Nn<xr;Nn++){var It=st.squaredDistance(br[In],ot[Nn]);It<Or&&It>0&&ot.push(br[In])}}if(gt.hasOwnProperty("within")&&gt.within.hasOwnProperty("sel")&&gt.within.hasOwnProperty("distance")){var jt=this.selectedAtoms(gt.within.sel,this.atoms),tr={};const Sr=st.getFloat(gt.within.distance),br=Sr*Sr;for(let xr=0;xr<jt.length;xr++)for(let Or=0;Or<ot.length;Or++){let In=st.squaredDistance(jt[xr],ot[Or]);In<br&&In>0&&(tr[Or]=1)}var gr=[];if(gt.within.invert)for(let xr=0;xr<ot.length;xr++)tr[xr]||gr.push(ot[xr]);else for(let xr in tr)gr.push(ot[xr]);ot=gr}if(gt.hasOwnProperty("byres")){var vr={},hr=[],mr=[];for(let Sr=0;Sr<ot.length;Sr++){let br=ot[Sr];var Er=br.chain,Rr=br.resi;if(vr[Er]===void 0&&(vr[Er]={}),br.hasOwnProperty("resi")&&vr[Er][Rr]===void 0){for(vr[Er][Rr]=!0,mr.push(br);mr.length>0;)if(br=mr.pop(),Er=br.chain,Rr=br.resi,hr[br.index]===void 0){hr[br.index]=!0;for(var Cr=0;Cr<br.bonds.length;Cr++){var wr=this.atoms[br.bonds[Cr]];hr[wr.index]===void 0&&wr.hasOwnProperty("resi")&&wr.chain==Er&&wr.resi==Rr&&(mr.push(wr),ot.push(wr))}}}}}return ot}addAtoms(gt){this.molObj=null;var Et=this.atoms.length,ot=[],_t;for(_t=0;_t<gt.length;_t++)typeof gt[_t].index>"u"&&(gt[_t].index=_t),typeof gt[_t].serial>"u"&&(gt[_t].serial=_t),ot[gt[_t].index]=Et+_t;for(_t=0;_t<gt.length;_t++){var Mt=gt[_t],Bt=ot[Mt.index],It=(0,rt.extend)({},Mt);It.index=Bt,It.bonds=[],It.bondOrder=[],It.model=this.id,It.style=It.style||(0,rt.deepCopy)(st.defaultAtomStyle),typeof It.color>"u"&&(It.color=this.ElementColors[It.elem]||this.defaultColor);for(var jt=Mt.bonds?Mt.bonds.length:0,tr=0;tr<jt;tr++){var gr=ot[Mt.bonds[tr]];typeof gr<"u"&&(It.bonds.push(gr),It.bondOrder.push(Mt.bondOrder?Mt.bondOrder[tr]:1))}this.atoms.push(It)}}assignBonds(){(0,Lt.assignBonds)(this.atoms)}removeAtoms(gt){this.molObj=null;var Et=[],ot;for(ot=0;ot<gt.length;ot++)Et[gt[ot].index]=!0;var _t=[];for(ot=0;ot<this.atoms.length;ot++){var Mt=this.atoms[ot];Et[Mt.index]||_t.push(Mt)}this.atoms=[],this.addAtoms(_t)}setStyle(gt,Et,ot){typeof Et>"u"&&typeof ot>"u"&&(Et=gt,gt={}),gt=gt,typeof Et=="string"&&(Et=(0,rt.specStringToObject)(Et));var _t=!1,Mt=this,Bt=function(jt){var tr=Mt.selectedAtoms(gt,jt);for(let gr=0;gr<jt.length;gr++)jt[gr]&&(jt[gr].capDrawn=!1);for(let gr=0;gr<tr.length;gr++){_t=!0,(tr[gr].clickable||tr[gr].hoverable)&&(tr[gr].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),ot||(tr[gr].style={});for(let vr in Et)Et.hasOwnProperty(vr)&&(tr[gr].style[vr]=tr[gr].style[vr]||{},Object.assign(tr[gr].style[vr],Et[vr]))}};if(gt.frame!==void 0&&gt.frame<this.frames.length){let jt=gt.frame;jt<0&&(jt=this.frames.length+jt),Bt(this.frames[jt])}else{Bt(this.atoms);for(var It=0;It<this.frames.length;It++)this.frames[It]!==this.atoms&&Bt(this.frames[It])}_t&&(this.molObj=null)}setClickable(gt,Et,ot){if(Et=!!Et,ot=(0,rt.makeFunction)(ot),ot===null){console.log("Callback is not a function");return}var _t=this.selectedAtoms(gt,this.atoms),Mt=_t.length;for(let Bt=0;Bt<Mt;Bt++)_t[Bt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},_t[Bt].clickable=Et,ot&&(_t[Bt].callback=ot);Mt>0&&(this.molObj=null)}setHoverable(gt,Et,ot,_t){if(Et=!!Et,ot=(0,rt.makeFunction)(ot),_t=(0,rt.makeFunction)(_t),ot===null){console.log("Hover_callback is not a function");return}if(_t===null){console.log("Unhover_callback is not a function");return}var Mt=this.selectedAtoms(gt,this.atoms),Bt=Mt.length;for(let It=0;It<Bt;It++)Mt[It].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Mt[It].hoverable=Et,ot&&(Mt[It].hover_callback=ot),_t&&(Mt[It].unhover_callback=_t);Bt>0&&(this.molObj=null)}enableContextMenu(gt,Et){Et=!!Et;var ot,_t=this.selectedAtoms(gt,this.atoms),Mt=_t.length;for(ot=0;ot<Mt;ot++)_t[ot].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},_t[ot].contextMenuEnabled=Et;Mt>0&&(this.molObj=null)}setColorByElement(gt,Et){if(!(this.molObj!==null&&st.sameObj(Et,this.lastColors))){this.lastColors=Et;var ot=this.selectedAtoms(gt,ot);ot.length>0&&(this.molObj=null);for(var _t=0;_t<ot.length;_t++){var Mt=ot[_t];typeof Et[Mt.elem]<"u"&&(Mt.color=Et[Mt.elem])}}}setColorByProperty(gt,Et,ot,_t){var Mt,Bt,It=this.selectedAtoms(gt,It);for(this.lastColors=null,It.length>0&&(this.molObj=null),typeof ot=="string"&&typeof nt.Gradient.builtinGradients[ot]<"u"&&(ot=new nt.Gradient.builtinGradients[ot]),ot=ot,_t||(_t=ot.range()),_t||(_t=(0,rt.getPropertyRange)(It,Et)),Mt=0;Mt<It.length;Mt++){Bt=It[Mt];var jt=(0,rt.getAtomProperty)(Bt,Et);jt!=null&&(Bt.color=ot.valueToHex(parseFloat(Bt.properties[Et]),_t))}}setColorByFunction(gt,Et){var ot=this.selectedAtoms(gt,ot);if(typeof Et=="function"){this.lastColors=null,ot.length>0&&(this.molObj=null);for(let _t=0;_t<ot.length;_t++){let Mt=ot[_t];Mt.color=Et(Mt)}}}toCDObject(gt=!1){var Et={a:[],b:[]};gt&&(Et.s=[]);for(let _t=0;_t<this.atoms.length;_t++){let Mt={},Bt=this.atoms[_t];if(Mt.x=Bt.x,Mt.y=Bt.y,Mt.z=Bt.z,Bt.elem!="C"&&(Mt.l=Bt.elem),gt){for(var ot=0;ot<Et.s.length&&JSON.stringify(Bt.style)!==JSON.stringify(Et.s[ot]);)ot++;ot===Et.s.length&&Et.s.push(Bt.style),ot!==0&&(Mt.s=ot)}Et.a.push(Mt);for(let It=0;It<Bt.bonds.length;It++){let jt=_t,tr=Bt.bonds[It];if(jt>=tr)continue;let gr={b:jt,e:tr},vr=Bt.bondOrder[It];vr!=1&&(gr.o=vr),Et.b.push(gr)}}return Et}globj(gt,Et){(this.molObj===null||Et.regen)&&(this.molObj=this.createMolObj(this.atoms,Et),this.renderedMolObj&&(gt.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),gt.add(this.renderedMolObj))}exportVRML(){var gt=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return gt.vrml()}removegl(gt){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),gt.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(gt,Et,ot,_t){for(var Mt=this.selectedAtoms(Et,Mt),Bt=(0,rt.deepCopy)(_t),It=0;It<Mt.length;It++){var jt=Mt[It],tr=null;typeof jt[gt]<"u"?tr=String(jt[gt]):typeof jt.properties[gt]<"u"&&(tr=String(jt.properties[gt])),tr!=null&&(Bt.position=jt,ot.addLabel(tr,Bt))}}addResLabels(gt,Et,ot,_t=!1){var Mt=[],Bt=function(jt,tr){for(var gr=jt.selectedAtoms(gt,gr),vr={},hr=0;hr<gr.length;hr++){var mr=gr[hr],Er=mr.chain,Rr=mr.resn,Cr=mr.resi,wr=Rr+""+Cr;vr[Er]||(vr[Er]={}),vr[Er][wr]||(vr[Er][wr]=[]),vr[Er][wr].push(mr)}var Sr=(0,rt.deepCopy)(ot);for(let xr in vr)if(vr.hasOwnProperty(xr)){var br=vr[xr];for(let Or in br)if(br.hasOwnProperty(Or)){let In=br[Or],Nn=new g.Vector3(0,0,0);for(let Bn=0;Bn<In.length;Bn++){let qn=In[Bn];Nn.x+=qn.x,Nn.y+=qn.y,Nn.z+=qn.z}Nn.divideScalar(In.length),Sr.position=Nn,Sr.frame=tr;let Hn=Et.addLabel(Or,Sr,void 0,!0);Mt.push(Hn)}}};if(_t){var It=this.getNumFrames();let jt=this.atoms;for(let tr=0;tr<It;tr++)this.frames[tr]&&(this.atoms=this.frames[tr],Bt(this,tr));this.atoms=jt}else Bt(this);return Mt}setupDFS(){this.atomdfs=[];var gt=this,Et=new Int8Array(this.atoms.length);Et.fill(0);for(var ot=function(It,jt,tr){tr.push([It,jt]);var gr=gt.atoms[It];Et[It]=1;for(var vr=0;vr<gr.bonds.length;vr++){var hr=gr.bonds[vr];gt.atoms[hr]&&!Et[hr]&&ot(hr,It,tr)}},_t=0;_t<this.atoms.length;_t++){var Mt=this.atoms[_t];if(Mt&&!Et[_t]){var Bt=[];ot(_t,-1,Bt),this.atomdfs.push(Bt)}}}setCoordinatesFromURL(gt,Et){this.frames=[];var ot=this;return this.box&&this.setupDFS(),gt.startsWith("http")||(gt="http://"+gt),(0,rt.get)(gt+"/traj/numframes/"+Et,function(_t){if(!isNaN(parseInt(_t)))return ot.frames.push(ot.atoms),ot.frames.numFrames=_t,ot.frames.url=gt,ot.frames.path=Et,ot.setFrame(0)})}setCoordinates(gt,Et){if(Et=Et||"",!gt)return[];if(/\.gz$/.test(Et)){Et=Et.replace(/\.gz$/,"");try{gt=it(gt)}catch(vr){console.log(vr)}}var ot={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(ot.hasOwnProperty(Et)){this.frames=[];for(var _t=this.atoms.length,Mt=st.parseCrd(gt,Et),Bt=0;Bt<Mt.length;){for(var It=[],jt=0;jt<_t;jt++){var tr={};for(var gr in this.atoms[jt])tr[gr]=this.atoms[jt][gr];It[jt]=tr,It[jt].x=Mt[Bt++],It[jt].y=Mt[Bt++],It[jt].z=Mt[Bt++]}this.frames.push(It)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(gt){}static parseCrd(gt,Et){var ot=[],_t=0;if(Et=="pdb")for(var Mt=gt.indexOf(`
ATOM`);Mt!=-1;){for(;gt.slice(Mt,Mt+5)==`
ATOM`||gt.slice(Mt,Mt+7)==`
HETATM`;)ot[_t++]=parseFloat(gt.slice(Mt+31,Mt+39)),ot[_t++]=parseFloat(gt.slice(Mt+39,Mt+47)),ot[_t++]=parseFloat(gt.slice(Mt+47,Mt+55)),Mt=gt.indexOf(`
`,Mt+54),gt.slice(Mt,Mt+4)==`
TER`&&(Mt=gt.indexOf(`
`,Mt+5));Mt=gt.indexOf(`
ATOM`,Mt)}else if(Et=="netcdf"){var Bt=new wt.NetCDFReader(gt);ot=[].concat.apply([],Bt.getDataVariable("coordinates"))}else{if(Et=="array"||Array.isArray(gt))return gt.flat(2);{let It=gt.indexOf(`
`);Et=="inpcrd"&&(It=gt.indexOf(`
`,It+1)),gt=gt.slice(It+1),ot=gt.match(/\S+/g).map(parseFloat)}}return ot}static parseMolData(gt,Et="",ot){if(!gt)return[];if(/\.gz$/.test(Et)){Et=Et.replace(/\.gz$/,"");try{gt=it(gt)}catch(Bt){console.log(Bt)}}typeof pt.Parsers[Et]>"u"&&(Et=Et.split(".").pop(),typeof pt.Parsers[Et]>"u"&&(console.log("Unknown format: "+Et),gt instanceof Uint8Array?Et="mmtf":gt.match(/^@<TRIPOS>MOLECULE/gm)?Et="mol2":gt.match(/^data_/gm)&&gt.match(/^loop_/gm)?Et="cif":gt.match(/^HETATM/gm)||gt.match(/^ATOM/gm)?Et="pdb":gt.match(/ITEM: TIMESTEP/gm)?Et="lammpstrj":gt.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?Et="sdf":gt.match(/^%VERSION\s+VERSION_STAMP/gm)?Et="prmtop":Et="xyz",console.log("Best guess: "+Et)));var _t=pt.Parsers[Et],Mt=_t(gt,ot);return Mt}}st.defaultAtomStyle={line:{}},st.defaultlineWidth=1,st.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},st.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(a,o,e)=>{e.r(o),e.d(o,{GLShape:()=>wt,splitMesh:()=>Dt});var c=e("./src/WebGL/index.ts"),h=e("./src/WebGL/shapes/index.ts"),g=e("./src/WebGL/math/index.ts"),b=e("./src/colors.ts"),$=e("./src/ProteinSurface4.ts"),j=e("./src/VolumeData.ts"),rt=e("./src/GLDraw.ts"),nt=e("./src/glcartoon.ts"),pt=e("./src/utilities.ts");class wt{static finalizeGeo(it){var st=it.updateGeoGroup(0);st.vertices>0&&st.truncateArrayBuffers(!0,!0)}static updateColor(it,st){st=st||b.CC.color(st),it.colorsNeedUpdate=!0;var bt,gt,Et;st.constructor!==Array&&(bt=st.r,gt=st.g,Et=st.b);for(let ot in it.geometryGroups){let _t=it.geometryGroups[ot],Mt=_t.colorArray;for(let Bt=0,It=_t.vertices;Bt<It;++Bt){if(st.constructor===Array){let jt=st[Bt];bt=jt.r,gt=jt.g,Et=jt.b}Mt[Bt*3]=bt,Mt[Bt*3+1]=gt,Mt[Bt*3+2]=Et}}}static drawArrow(it,st,bt){var gt=bt.start,Et=bt.end,ot=bt.radius,_t=bt.radiusRatio,Mt=bt.mid,Bt=bt.midpos;if(!(gt&&Et))return;var It=st.updateGeoGroup(51),jt=new g.Vector3(Et.x,Et.y,Et.z).sub(gt);if(Bt){let zn=jt.length();Bt>0?Mt=Bt/zn:Mt=(zn+Bt)/zn}jt.multiplyScalar(Mt);var tr=new g.Vector3(gt.x,gt.y,gt.z).add(jt),gr=jt.clone().negate();let vr=new g.Vector3(gt.x,gt.y,gt.z);it.intersectionShape.cylinder.push(new h.Cylinder(vr,tr.clone(),ot)),it.intersectionShape.sphere.push(new h.Sphere(vr,ot));var hr=[];hr[0]=jt.clone(),Math.abs(hr[0].x)>1e-4?hr[0].y+=1:hr[0].x+=1,hr[0].cross(jt),hr[0].normalize(),hr[4]=hr[0].clone(),hr[4].crossVectors(hr[0],jt),hr[4].normalize(),hr[8]=hr[0].clone().negate(),hr[12]=hr[4].clone().negate(),hr[2]=hr[0].clone().add(hr[4]).normalize(),hr[6]=hr[4].clone().add(hr[8]).normalize(),hr[10]=hr[8].clone().add(hr[12]).normalize(),hr[14]=hr[12].clone().add(hr[0]).normalize(),hr[1]=hr[0].clone().add(hr[2]).normalize(),hr[3]=hr[2].clone().add(hr[4]).normalize(),hr[5]=hr[4].clone().add(hr[6]).normalize(),hr[7]=hr[6].clone().add(hr[8]).normalize(),hr[9]=hr[8].clone().add(hr[10]).normalize(),hr[11]=hr[10].clone().add(hr[12]).normalize(),hr[13]=hr[12].clone().add(hr[14]).normalize(),hr[15]=hr[14].clone().add(hr[0]).normalize();var mr=It.vertices,Er=It.vertexArray,Rr=It.faceArray,Cr=It.normalArray,wr=It.lineArray,Sr,br,xr;for(br=0,xr=hr.length;br<xr;++br){Sr=3*(mr+3*br);var Or=hr[br].clone().multiplyScalar(ot).add(gt),In=hr[br].clone().multiplyScalar(ot).add(tr),Nn=hr[br].clone().multiplyScalar(ot*_t).add(tr);if(Er[Sr]=Or.x,Er[Sr+1]=Or.y,Er[Sr+2]=Or.z,Er[Sr+3]=In.x,Er[Sr+4]=In.y,Er[Sr+5]=In.z,Er[Sr+6]=Nn.x,Er[Sr+7]=Nn.y,Er[Sr+8]=Nn.z,br>0){var Hn=Er[Sr-3],Bn=Er[Sr-2],qn=Er[Sr-1],Wn=new g.Vector3(Hn,Bn,qn),Yn=new g.Vector3(Et.x,Et.y,Et.z),po=tr.clone(),eo=new g.Vector3(Nn.x,Nn.y,Nn.z);it.intersectionShape.triangle.push(new h.Triangle(eo,Yn,Wn)),it.intersectionShape.triangle.push(new h.Triangle(Wn.clone(),po,eo.clone()))}}It.vertices+=48,Sr=It.vertices*3,Er[Sr]=gt.x,Er[Sr+1]=gt.y,Er[Sr+2]=gt.z,Er[Sr+3]=tr.x,Er[Sr+4]=tr.y,Er[Sr+5]=tr.z,Er[Sr+6]=Et.x,Er[Sr+7]=Et.y,Er[Sr+8]=Et.z,It.vertices+=3;var wo,Vn,Kn,to,fs,hs,Cs,ps,ls,cs,ss,os,as,gs,vs,tn,Pr,Fn,Zn,so=It.vertices-3,rs=It.vertices-2,ns=It.vertices-1,jr=so*3,Qn=rs*3,co=ns*3;for(br=0,xr=hr.length-1;br<xr;++br){var us=mr+3*br;Sr=us*3,Vn=It.faceidx,Kn=It.lineidx,to=us,cs=to*3,fs=us+1,ss=fs*3,hs=us+2,os=hs*3,Cs=us+4,as=Cs*3,ps=us+5,gs=ps*3,ls=us+3,vs=ls*3,tn=Pr=hr[br],Fn=Zn=hr[br+1],Cr[cs]=tn.x,Cr[ss]=Pr.x,Cr[vs]=Zn.x,Cr[cs+1]=tn.y,Cr[ss+1]=Pr.y,Cr[vs+1]=Zn.y,Cr[cs+2]=tn.z,Cr[ss+2]=Pr.z,Cr[vs+2]=Zn.z,Cr[ss]=Pr.x,Cr[as]=Fn.x,Cr[vs]=Zn.x,Cr[ss+1]=Pr.y,Cr[as+1]=Fn.y,Cr[vs+1]=Zn.y,Cr[ss+2]=Pr.z,Cr[as+2]=Fn.z,Cr[vs+2]=Zn.z,Cr[os]=Pr.x,Cr[gs]=Fn.x,Cr[os+1]=Pr.y,Cr[gs+1]=Fn.y,Cr[os+2]=Pr.z,Cr[gs+2]=Fn.z,Rr[Vn]=to,Rr[Vn+1]=fs,Rr[Vn+2]=ls,Rr[Vn+3]=fs,Rr[Vn+4]=Cs,Rr[Vn+5]=ls,Rr[Vn+6]=to,Rr[Vn+7]=ls,Rr[Vn+8]=so,Rr[Vn+9]=hs,Rr[Vn+10]=rs,Rr[Vn+11]=ps,Rr[Vn+12]=hs,Rr[Vn+13]=ns,Rr[Vn+14]=ps,wr[Kn]=to,wr[Kn+1]=fs,wr[Kn+2]=to,wr[Kn+3]=ls,wr[Kn+4]=Cs,wr[Kn+5]=ls,wr[Kn+6]=to,wr[Kn+7]=ls,wr[Kn+8]=hs,wr[Kn+9]=fs,wr[Kn+10]=hs,wr[Kn+11]=ps,wr[Kn+12]=Cs,wr[Kn+13]=ps,wr[Kn+14]=hs,wr[Kn+15]=ns,wr[Kn+16]=hs,wr[Kn+17]=ps,wr[Kn+18]=ns,wr[Kn+19]=ps,It.faceidx+=15,It.lineidx+=20}wo=[mr+45,mr+46,mr+1,mr,mr+47,mr+2],Vn=It.faceidx,Kn=It.lineidx,to=wo[0],cs=to*3,fs=wo[1],ss=fs*3,hs=wo[4],os=hs*3,Cs=wo[2],as=Cs*3,ps=wo[5],gs=ps*3,ls=wo[3],vs=ls*3,tn=Pr=hr[15],Fn=Zn=hr[0],Cr[cs]=tn.x,Cr[ss]=Pr.x,Cr[vs]=Zn.x,Cr[cs+1]=tn.y,Cr[ss+1]=Pr.y,Cr[vs+1]=Zn.y,Cr[cs+2]=tn.z,Cr[ss+2]=Pr.z,Cr[vs+2]=Zn.z,Cr[ss]=Pr.x,Cr[as]=Fn.x,Cr[vs]=Zn.x,Cr[ss+1]=Pr.y,Cr[as+1]=Fn.y,Cr[vs+1]=Zn.y,Cr[ss+2]=Pr.z,Cr[as+2]=Fn.z,Cr[vs+2]=Zn.z,Cr[os]=Pr.x,Cr[gs]=Fn.x,Cr[os+1]=Pr.y,Cr[gs+1]=Fn.y,Cr[os+2]=Pr.z,Cr[gs+2]=Fn.z,jt.normalize(),gr.normalize(),Cr[jr]=gr.x,Cr[Qn]=Cr[co]=jt.x,Cr[jr+1]=gr.y,Cr[Qn+1]=Cr[co+1]=jt.y,Cr[jr+2]=gr.z,Cr[Qn+2]=Cr[co+2]=jt.z,Rr[Vn]=to,Rr[Vn+1]=fs,Rr[Vn+2]=ls,Rr[Vn+3]=fs,Rr[Vn+4]=Cs,Rr[Vn+5]=ls,Rr[Vn+6]=to,Rr[Vn+7]=ls,Rr[Vn+8]=so,Rr[Vn+9]=hs,Rr[Vn+10]=rs,Rr[Vn+11]=ps,Rr[Vn+12]=hs,Rr[Vn+13]=ns,Rr[Vn+14]=ps,wr[Kn]=to,wr[Kn+1]=fs,wr[Kn+2]=to,wr[Kn+3]=ls,wr[Kn+4]=Cs,wr[Kn+5]=ls,wr[Kn+6]=to,wr[Kn+7]=ls,wr[Kn+8]=hs,wr[Kn+9]=fs,wr[Kn+10]=hs,wr[Kn+11]=ps,wr[Kn+12]=Cs,wr[Kn+13]=ps,wr[Kn+14]=hs,wr[Kn+15]=ns,wr[Kn+16]=hs,wr[Kn+17]=ps,wr[Kn+18]=ns,wr[Kn+19]=ps,It.faceidx+=15,It.lineidx+=20}static updateBoundingFromPoints(it,st,bt,gt){it.center.set(0,0,0);let Et=1/0,ot=1/0,_t=1/0,Mt=-1/0,Bt=-1/0,It=-1/0;it.box&&(Et=it.box.min.x,Mt=it.box.max.x,ot=it.box.min.y,Bt=it.box.max.y,_t=it.box.min.z,It=it.box.max.z);for(let vr=0,hr=gt;vr<hr;vr++){var jt=bt[vr*3],tr=bt[vr*3+1],gr=bt[vr*3+2];jt<Et&&(Et=jt),tr<ot&&(ot=tr),gr<_t&&(_t=gr),jt>Mt&&(Mt=jt),tr>Bt&&(Bt=tr),gr>It&&(It=gr)}it.center.set((Mt+Et)/2,(Bt+ot)/2,(It+_t)/2),it.radius=it.center.distanceTo({x:Mt,y:Bt,z:It}),it.box={min:{x:Et,y:ot,z:_t},max:{x:Mt,y:Bt,z:It}}}static addCustomGeo(it,st,bt,gt,Et){var ot=st.addGeoGroup(),_t=bt.vertexArr,Mt=bt.normalArr,Bt=bt.faceArr;ot.vertices=_t.length,ot.faceidx=Bt.length;var It,jt,tr,gr,vr,hr,mr,Er,Rr,Cr=ot.vertexArray,wr=ot.colorArray;for(gt.constructor!==Array&&(Er=gt.r,Rr=gt.g,gr=gt.b),hr=0,mr=ot.vertices;hr<mr;++hr)It=hr*3,jt=_t[hr],Cr[It]=jt.x,Cr[It+1]=jt.y,Cr[It+2]=jt.z,gt.constructor===Array&&(vr=gt[hr],Er=vr.r,Rr=vr.g,gr=vr.b),wr[It]=Er,wr[It+1]=Rr,wr[It+2]=gr;if(Et)for(hr=0,mr=ot.faceidx/3;hr<mr;++hr){It=hr*3,tr=Bt[It],gr=Bt[It+1],vr=Bt[It+2];var Sr=new g.Vector3,br=new g.Vector3,xr=new g.Vector3;it.intersectionShape.triangle.push(new h.Triangle(Sr.copy(_t[tr]),br.copy(_t[gr]),xr.copy(_t[vr])))}if(Et){var Or=new g.Vector3(0,0,0),In=0;for(let Bn=0;Bn<st.geometryGroups.length;Bn++)Or.add(st.geometryGroups[Bn].getCentroid()),In++;Or.divideScalar(In),wt.updateBoundingFromPoints(it.boundingSphere,{centroid:Or},Cr,ot.vertices)}if(ot.faceArray=new Uint16Array(Bt),ot.truncateArrayBuffers(!0,!0),Mt.length<ot.vertices)ot.setNormals();else{var Nn=ot.normalArray=new Float32Array(ot.vertices*3),Hn;for(hr=0,mr=ot.vertices;hr<mr;++hr)It=hr*3,Hn=Mt[hr],Nn[It]=Hn.x,Nn[It+1]=Hn.y,Nn[It+2]=Hn.z}ot.setLineIndices(),ot.lineidx=ot.lineArray.length}static updateFromStyle(it,st){typeof st.color<"u"?(it.color=st.color||new b.Color,st.color instanceof b.Color||(it.color=b.CC.color(st.color))):it.color=b.CC.color(0),it.wireframe=!!st.wireframe,it.opacity=st.alpha?(0,g.clamp)(st.alpha,0,1):1,typeof st.opacity<"u"&&(it.opacity=(0,g.clamp)(st.opacity,0,1)),it.side=st.side!==void 0?st.side:c.DoubleSide,it.linewidth=typeof st.linewidth>"u"?1:st.linewidth,it.clickable=!!st.clickable,it.callback=(0,pt.makeFunction)(st.callback),it.hoverable=!!st.hoverable,it.hover_callback=(0,pt.makeFunction)(st.hover_callback),it.unhover_callback=(0,pt.makeFunction)(st.unhover_callback),it.hidden=st.hidden,it.frame=st.frame}constructor(it){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.side=c.DoubleSide,this.stylespec=it||{},this.boundingSphere=new h.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},wt.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new c.Geometry(!0),this.linegeo=new c.Geometry(!0)}updateStyle(it){for(var st in it)this.stylespec[st]=it[st];if(wt.updateFromStyle(this,this.stylespec),it.voldata&&it.volscheme){(0,pt.adjustVolumeStyle)(it);const bt=it.volscheme,gt=it.voldata,Et=b.CC,ot=bt.range()||[-1,1];this.geo.setColors(function(_t,Mt,Bt){let It=gt.getVal(_t,Mt,Bt);return Et.color(bt.valueToHex(It,ot))}),delete this.color}}addCustom(it){it.vertexArr=it.vertexArr||[],it.faceArr=it.faceArr||[],it.normalArr=it.normalArr||[],wt.drawCustom(this,this.geo,it)}addSphere(it){it.center||(it.center=new g.Vector3(0,0,0)),it.radius=it.radius?(0,g.clamp)(it.radius,0,1/0):1.5,it.color=b.CC.color(it.color),this.intersectionShape.sphere.push(new h.Sphere(it.center,it.radius)),rt.GLDraw.drawSphere(this.geo,it.center,it.radius,it.color,it.quality),this.components.push({centroid:new g.Vector3(it.center.x,it.center.y,it.center.z)});var st=this.geo.updateGeoGroup(0);wt.updateBoundingFromPoints(this.boundingSphere,this.components,st.vertexArray,st.vertices)}addBox(it){var st=it.dimensions||{w:1,h:1,d:1},bt;typeof st.w=="number"?bt={x:st.w,y:0,z:0}:bt=st.w;var gt;typeof st.h=="number"?gt={x:0,y:st.h,z:0}:gt=st.h;var Et;typeof st.d=="number"?Et={x:0,y:0,z:st.d}:Et=st.d;var ot=it.corner;ot==null&&(it.center!==void 0?ot={x:it.center.x-.5*(bt.x+gt.x+Et.x),y:it.center.y-.5*(bt.y+gt.y+Et.y),z:it.center.z-.5*(bt.z+gt.z+Et.z)}:ot={x:0,y:0,z:0});var _t=[{x:ot.x,y:ot.y,z:ot.z},{x:ot.x+bt.x,y:ot.y+bt.y,z:ot.z+bt.z},{x:ot.x+gt.x,y:ot.y+gt.y,z:ot.z+gt.z},{x:ot.x+bt.x+gt.x,y:ot.y+bt.y+gt.y,z:ot.z+bt.z+gt.z},{x:ot.x+Et.x,y:ot.y+Et.y,z:ot.z+Et.z},{x:ot.x+bt.x+Et.x,y:ot.y+bt.y+Et.y,z:ot.z+bt.z+Et.z},{x:ot.x+gt.x+Et.x,y:ot.y+gt.y+Et.y,z:ot.z+gt.z+Et.z},{x:ot.x+bt.x+gt.x+Et.x,y:ot.y+bt.y+gt.y+Et.y,z:ot.z+bt.z+gt.z+Et.z}],Mt=[],Bt=[];Mt.splice(Mt.length,0,_t[0],_t[1],_t[2],_t[3]),Bt.splice(Bt.length,0,0,2,1,1,2,3);var It=4;Mt.splice(Mt.length,0,_t[2],_t[3],_t[6],_t[7]),Bt.splice(Bt.length,0,It+0,It+2,It+1,It+1,It+2,It+3),It+=4,Mt.splice(Mt.length,0,_t[4],_t[5],_t[0],_t[1]),Bt.splice(Bt.length,0,It+0,It+2,It+1,It+1,It+2,It+3),It+=4,Mt.splice(Mt.length,0,_t[6],_t[7],_t[4],_t[5]),Bt.splice(Bt.length,0,It+0,It+2,It+1,It+1,It+2,It+3),It+=4,Mt.splice(Mt.length,0,_t[3],_t[1],_t[7],_t[5]),Bt.splice(Bt.length,0,It+0,It+2,It+1,It+1,It+2,It+3),It+=4,Mt.splice(Mt.length,0,_t[2],_t[6],_t[0],_t[4]),Bt.splice(Bt.length,0,It+0,It+2,It+1,It+1,It+2,It+3),It+=4;var jt=(0,pt.extend)({},it);jt.vertexArr=Mt,jt.faceArr=Bt,jt.normalArr=[],wt.drawCustom(this,this.geo,jt);var tr=new g.Vector3;this.components.push({centroid:tr.addVectors(_t[0],_t[7]).multiplyScalar(.5)});var gr=this.geo.updateGeoGroup(0);wt.updateBoundingFromPoints(this.boundingSphere,this.components,gr.vertexArray,gr.vertices)}addCylinder(it){var st,bt;it.start?st=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):st=new g.Vector3(0,0,0),it.end?(bt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof bt.x>"u"&&(bt.x=3)):bt=new g.Vector3(0,0,0);var gt=it.radius||.1,Et=b.CC.color(it.color);this.intersectionShape.cylinder.push(new h.Cylinder(st,bt,gt)),rt.GLDraw.drawCylinder(this.geo,st,bt,gt,Et,it.fromCap,it.toCap);var ot=new g.Vector3;this.components.push({centroid:ot.addVectors(st,bt).multiplyScalar(.5)});var _t=this.geo.updateGeoGroup(0);wt.updateBoundingFromPoints(this.boundingSphere,this.components,_t.vertexArray,_t.vertices)}addDashedCylinder(it){it.dashLength=it.dashLength||.25,it.gapLength=it.gapLength||.25;var st;it.start?st=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):st=new g.Vector3(0,0,0);var bt;it.end?(bt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof bt.x>"u"&&(bt.x=3)):bt=new g.Vector3(3,0,0);for(var gt=it.radius||.1,Et=b.CC.color(it.color),ot=Math.sqrt(Math.pow(st.x-bt.x,2)+Math.pow(st.y-bt.y,2)+Math.pow(st.z-bt.z,2)),_t=ot/(it.gapLength+it.dashLength),Mt=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0),Bt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),It=new g.Vector3((bt.x-st.x)/(ot/it.gapLength),(bt.y-st.y)/(ot/it.gapLength),(bt.z-st.z)/(ot/it.gapLength)),jt=new g.Vector3((bt.x-st.x)/(ot/it.dashLength),(bt.y-st.y)/(ot/it.dashLength),(bt.z-st.z)/(ot/it.dashLength)),tr=0;tr<_t;tr++)Bt=new g.Vector3(Mt.x+jt.x,Mt.y+jt.y,Mt.z+jt.z),this.intersectionShape.cylinder.push(new h.Cylinder(Mt,Bt,gt)),rt.GLDraw.drawCylinder(this.geo,Mt,Bt,gt,Et,it.fromCap,it.toCap),Mt=new g.Vector3(Bt.x+It.x,Bt.y+It.y,Bt.z+It.z);var gr=new g.Vector3;this.components.push({centroid:gr.addVectors(st,bt).multiplyScalar(.5)});var vr=this.geo.updateGeoGroup(0);wt.updateBoundingFromPoints(this.boundingSphere,this.components,vr.vertexArray,vr.vertices)}addCurve(it){it.points=it.points||[],it.smooth=it.smooth||10,typeof it.fromCap>"u"&&(it.fromCap=2),typeof it.toCap>"u"&&(it.toCap=2);var st=(0,nt.subdivide_spline)(it.points,it.smooth);if(st.length<3){console.log("Too few points in addCurve");return}var bt=it.radius||.1,gt=b.CC.color(it.color),Et=0,ot=st.length-1,_t=st[0].distanceTo(st[1]),Mt=Math.ceil(2*bt/_t);if(it.toArrow){ot-=Mt;let tr={start:st[ot],end:st[st.length-1],radius:bt,color:gt,mid:1e-4};this.addArrow(tr)}if(it.fromArrow){Et+=Mt;let tr={start:st[Et],end:st[0],radius:bt,color:gt,mid:1e-4};this.addArrow(tr)}for(var Bt=Math.ceil(st.length/2),It={radius:bt,color:gt,fromCap:2,toCap:2},jt=Et;jt<ot;jt++)It.start=st[jt],It.end=st[jt+1],It.fromCap=2,It.toCap=2,jt<Bt?(It.fromCap=2,It.toCap=0):jt>Bt?(It.fromCap=0,It.toCap=2):(It.fromCap=2,It.toCap=2),this.addCylinder(It)}addLine(it){var st,bt;it.start?st=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):st=new g.Vector3(0,0,0),it.end?(bt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof bt.x>"u"&&(bt.x=3)):bt=new g.Vector3(3,0,0);var gt=this.geo.updateGeoGroup(2),Et=gt.vertices,ot=Et*3,_t=gt.vertexArray;_t[ot]=st.x,_t[ot+1]=st.y,_t[ot+2]=st.z,_t[ot+3]=bt.x,_t[ot+4]=bt.y,_t[ot+5]=bt.z,gt.vertices+=2;var Mt=gt.lineArray,Bt=gt.lineidx;Mt[Bt]=Et,Mt[Bt+1]=Et+1,gt.lineidx+=2;var It=new g.Vector3;this.components.push({centroid:It.addVectors(st,bt).multiplyScalar(.5)}),gt=this.geo.updateGeoGroup(0),wt.updateBoundingFromPoints(this.boundingSphere,this.components,gt.vertexArray,gt.vertices)}addArrow(it){if(it.start?it.start=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):it.start=new g.Vector3(0,0,0),it.dir instanceof g.Vector3&&typeof it.length=="number"){var st=it.dir.clone().multiplyScalar(it.length).add(it.start);it.end=st}else it.end?(it.end=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof it.end.x>"u"&&(it.end.x=3)):it.end=new g.Vector3(3,0,0);it.radius=it.radius||.1,it.radiusRatio=it.radiusRatio||1.618034,it.mid=0<it.mid&&it.mid<1?it.mid:.618034,wt.drawArrow(this,this.geo,it);var bt=new g.Vector3;this.components.push({centroid:bt.addVectors(it.start,it.end).multiplyScalar(.5)});var gt=this.geo.updateGeoGroup(0);wt.updateBoundingFromPoints(this.boundingSphere,this.components,gt.vertexArray,gt.vertices)}static distance_from(it,st){return Math.sqrt(Math.pow(it.x-st.x,2)+Math.pow(it.y-st.y,2)+Math.pow(it.z-st.z,2))}static inSelectedRegion(it,st,bt){for(var gt=0;gt<st.length;gt++)if(wt.distance_from(st[gt],it)<=bt)return!0;return!1}addIsosurface(it,st,bt){var gt=st.isoval!==void 0&&typeof st.isoval=="number"?st.isoval:0,Et=!!st.voxel,ot=st.smoothness===void 0?1:st.smoothness,_t=it.size.x,Mt=it.size.y,Bt=it.size.z,It=new Int16Array(_t*Mt*Bt),jt=it.data,tr,gr;for(tr=0,gr=It.length;tr<gr;++tr)It[tr]=-1;var vr=new Uint8Array(_t*Mt*Bt);for(tr=0,gr=jt.length;tr<gr;++tr){var hr=gt>=0?jt[tr]-gt:gt-jt[tr];hr>0&&(vr[tr]|=wt.ISDONE)}var mr=[],Er=[];$.MarchingCube.march(vr,mr,Er,{fulltable:!0,voxel:Et,unitCube:it.unit,origin:it.origin,matrix:it.matrix,nX:_t,nY:Mt,nZ:Bt}),!Et&&ot>0&&$.MarchingCube.laplacianSmooth(ot,mr,Er);var Rr=[],Cr=[],wr=[];if(st.selectedRegion&&st.coords===void 0&&(st.coords=st.selectedRegion),st.coords!==void 0){var Sr=st.coords[0].x,br=st.coords[0].y,xr=st.coords[0].z,Or=st.coords[0].x,In=st.coords[0].y,Nn=st.coords[0].z;for(let Vn=0;Vn<st.coords.length;Vn++)st.coords[Vn].x>Sr?Sr=st.coords[Vn].x:st.coords[Vn].x<Or&&(Or=st.coords[Vn].x),st.coords[Vn].y>br?br=st.coords[Vn].y:st.coords[Vn].y<In&&(In=st.coords[Vn].y),st.coords[Vn].z>xr?xr=st.coords[Vn].z:st.coords[Vn].z<Nn&&(Nn=st.coords[Vn].z);var Hn=2;st.radius!==void 0&&(Hn=st.radius),st.selectedOffset!==void 0&&(Hn=st.selectedOffset),st.seldist!==void 0&&(Hn=st.seldist),Or-=Hn,Sr+=Hn,In-=Hn,br+=Hn,Nn-=Hn,xr+=Hn;for(let Vn=0;Vn<mr.length;Vn++)mr[Vn].x>Or&&mr[Vn].x<Sr&&mr[Vn].y>In&&mr[Vn].y<br&&mr[Vn].z>Nn&&mr[Vn].z<xr&&wt.inSelectedRegion(mr[Vn],st.coords,Hn)?(Rr.push(Cr.length),Cr.push(mr[Vn])):Rr.push(-1);for(let Vn=0;Vn+2<Er.length;Vn+=3)Rr[Er[Vn]]!==-1&&Rr[Er[Vn+1]]!==-1&&Rr[Er[Vn+2]]!==-1&&(wr.push(Er[Vn]-(Er[Vn]-Rr[Er[Vn]])),wr.push(Er[Vn+1]-(Er[Vn+1]-Rr[Er[Vn+1]])),wr.push(Er[Vn+2]-(Er[Vn+2]-Rr[Er[Vn+2]])));mr=Cr,Er=wr}wt.drawCustom(this,this.geo,{vertexArr:mr,faceArr:Er,normalArr:[],clickable:st.clickable,hoverable:st.hoverable}),this.updateStyle(st);var Bn=new g.Vector3(it.origin.x,it.origin.y,it.origin.z),qn=new g.Vector3(it.size.x*it.unit.x,it.size.y*it.unit.y,it.size.z*it.unit.z),Wn=new g.Vector3(0,0,0),Yn=Bn.clone(),po=Bn.clone().add(qn);for(let Vn=0;Vn<mr.length;Vn++)Wn.add(mr[Vn]),Yn.max(mr[Vn]),po.min(mr[Vn]);Wn.divideScalar(mr.length);var eo=Wn.distanceTo(po),wo=Wn.distanceTo(Yn);this.boundingSphere.center=Wn,this.boundingSphere.radius=Math.max(eo,wo),typeof bt=="function"&&bt()}addVolumetricData(it,st,bt){it=new j.VolumeData(it,st),this.addIsosurface(it,bt)}finalize(){return wt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(it){if(this.renderedShapeObj&&(it.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){wt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&wt.updateColor(this.geo,this.color),this.shapeObj=new c.Object3D;var st=null;this.side==c.DoubleSide?st=new c.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:c.Coloring.VertexColors}):st=new c.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:c.Coloring.VertexColors});var bt=new c.Mesh(this.geo,st);this.shapeObj.add(bt);var gt=new c.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),Et=new c.Line(this.linegeo,gt,c.LineStyle.LinePieces);this.shapeObj.add(Et),this.renderedShapeObj=this.shapeObj.clone(),it.add(this.renderedShapeObj)}}removegl(it){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),it.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}wt.ISDONE=2,wt.drawCustom=function(Lt,it,st){var bt=st,gt=bt.vertexArr,Et=bt.faceArr;(gt.length===0||Et.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var ot=st.color;typeof ot>"u"&&(ot=Lt.color),ot=b.CC.color(ot);for(var _t=Dt(bt),Mt=0,Bt=_t.length;Mt<Bt;Mt++)wt.addCustomGeo(Lt,it,_t[Mt],_t[Mt].colorArr?_t[Mt].colorArr:ot,st.clickable)};function Dt(Lt){var it=64e3;if(Lt.vertexArr.length<it)return[Lt];var st=[{vertexArr:[],normalArr:[],faceArr:[]}];Lt.colorArr&&(st.colorArr=[]);var bt=[],gt=[],Et=0,ot=Lt.faceArr;for(let Mt=0,Bt=ot.length;Mt<Bt;Mt+=3){let It=st[Et];for(let jt=0;jt<3;jt++){var _t=ot[Mt+jt];bt[_t]!==Et&&(bt[_t]=Et,gt[_t]=It.vertexArr.length,It.vertexArr.push(Lt.vertexArr[_t]),Lt.normalArr&&Lt.normalArr[_t]&&It.normalArr.push(Lt.normalArr[_t]),Lt.colorArr&&Lt.colorArr[_t]&&It.colorArr.push(Lt.colorArr[_t])),It.faceArr.push(gt[_t])}It.vertexArr.length>=it&&(st.push({vertexArr:[],normalArr:[],faceArr:[]}),Lt.colorArr&&(st.colorArr=[]),Et++)}return st}},"./src/GLViewer.ts":(a,o,e)=>{e.r(o),e.d(o,{GLViewer:()=>it,createStereoViewer:()=>gt,createViewer:()=>st,createViewerGrid:()=>bt});var c=e("./src/WebGL/index.ts"),h=e("./src/WebGL/math/index.ts"),g=e("./src/colors.ts"),b=e("./src/utilities.ts"),$=e("./src/Gradient.ts"),j=e("./src/GLModel.ts"),rt=e("./src/Label.ts"),nt=e("./src/GLShape.ts"),pt=e("./src/VolumeData.ts"),wt=e("./src/ProteinSurface4.ts"),Dt=e("./src/VolumetricRender.ts"),Lt=e("./node_modules/upng-js/UPNG.js");class it{getRect(){let ot=this.container,_t=ot.getBoundingClientRect();if(_t.width==0&&_t.height==0&&ot.style.display==="none"){let Mt=ot.style.position,Bt=ot.style.visibility;ot.style.display="block",ot.style.visibility="hidden",ot.style.position="absolute",_t=ot.getBoundingClientRect(),ot.style.display="none",ot.style.visibility=Bt,ot.style.position=Mt}return _t}getWidth(){return this.getRect().width}getHeight(){return this.getRect().height}setupRenderer(){this.renderer=new c.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH||1,containerHeight:this.HEIGHT||1}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new c.Scene,this.scene.fog=new c.Fog(this.bgColor,100,200),this.modelGroup=new c.Object3D,this.rotationGroup=new c.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new h.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var ot=new c.Light(16777215);ot.position=new h.Vector3(.2,.2,1).normalize(),ot.intensity=1,this.scene.add(ot)}initContainer(ot){this.container=ot,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var ot=0;for(let Mt in this.surfaces)if(this.surfaces.hasOwnProperty(Mt)){var _t=parseInt(Mt);isNaN(_t)||_t>ot&&(ot=_t)}return ot+1}setSlabAndFog(){let ot=this.camera.position.z-this.rotationGroup.position.z;ot<1&&(ot=1),this.camera.near=ot+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=ot+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=ot*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(ot){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!ot&&this.linkedViewers.length>0))for(var _t=this._viewer.getView(),Mt=0;Mt<this.linkedViewers.length;Mt++){var Bt=this.linkedViewers[Mt];Bt.setView(_t,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledAtoms.splice(0,this.contextMenuEnabledAtoms.length);for(let ot=0,_t=this.models.length;ot<_t;ot++){let Mt=this.models[ot];if(Mt){let Bt=Mt.selectedAtoms({clickable:!0}),It=Mt.selectedAtoms({hoverable:!0}),jt=Mt.selectedAtoms({contextMenuEnabled:!0});for(let tr=0;tr<It.length;tr++)this.hoverables.push(It[tr]);for(let tr=0;tr<Bt.length;tr++)this.clickables.push(Bt[tr]);for(let tr=0;tr<jt.length;tr++)this.contextMenuEnabledAtoms.push(jt[tr])}}for(let ot=0,_t=this.shapes.length;ot<_t;ot++){let Mt=this.shapes[ot];Mt&&Mt.clickable&&this.clickables.push(Mt),Mt&&Mt.hoverable&&this.hoverables.push(Mt)}}handleClickSelection(ot,_t,Mt){let Bt=this.targetedObjects(ot,_t,this.clickables);if(Bt.length){var It=Bt[0].clickable;It.callback!==void 0&&(typeof It.callback!="function"&&(It.callback=(0,b.makeFunction)(It.callback)),typeof It.callback=="function"&&It.callback(It,this._viewer,Mt,this.container,Bt))}}canvasOffset(){let ot=this.glDOM,_t=ot.getBoundingClientRect(),Mt=ot.ownerDocument,Bt=Mt.documentElement,It=Mt.defaultView;return{top:_t.top+It.pageYOffset-Bt.clientTop,left:_t.left+It.pageXOffset-Bt.clientLeft}}setHover(ot,_t,Mt){this.current_hover!=ot&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,b.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,_t,this.container,Mt)),this.current_hover=ot,ot&&ot.hover_callback!==void 0&&(typeof ot.hover_callback!="function"&&(ot.hover_callback=(0,b.makeFunction)(ot.hover_callback)),typeof ot.hover_callback=="function"&&ot.hover_callback(ot,this._viewer,_t,this.container,Mt)))}handleHoverSelection(ot,_t,Mt){if(this.hoverables.length==0)return;let Bt=this.targetedObjects(ot,_t,this.hoverables);if(Bt.length){var It=Bt[0].clickable;this.setHover(It,Mt,Bt),this.current_hover=It}else this.setHover(null)}handleHoverContinue(ot,_t){let Mt=this.targetedObjects(ot,_t,this.hoverables);(Mt.length==0||Mt[0]===void 0)&&this.setHover(null),Mt[0]!==void 0&&Mt[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(ot,{allowTolerance:_t=ot.targetTouches,tolerance:Mt=5}={}){const Bt=this.getX(ot),It=this.getY(ot);if(_t){const jt=Math.abs(Bt-this.mouseStartX),tr=Math.abs(It-this.mouseStartY);return jt<=Mt&&tr<=Mt}else return Bt===this.mouseStartX&&It===this.mouseStartY}calcTouchDistance(ot){var _t=ot.targetTouches[0].pageX-ot.targetTouches[1].pageX,Mt=ot.targetTouches[0].pageY-ot.targetTouches[1].pageY;return Math.hypot(_t,Mt)}getX(ot){var _t=ot.pageX;return _t==null&&(_t=ot.pageX),ot.targetTouches&&ot.targetTouches[0]?_t=ot.targetTouches[0].pageX:ot.changedTouches&&ot.changedTouches[0]&&(_t=ot.changedTouches[0].pageX),_t}getY(ot){var _t=ot.pageY;return _t==null&&(_t=ot.pageY),ot.targetTouches&&ot.targetTouches[0]?_t=ot.targetTouches[0].pageY:ot.changedTouches&&ot.changedTouches[0]&&(_t=ot.changedTouches[0].pageY),_t}isInViewer(ot,_t){if(this.viewers!=null){var Mt=this.WIDTH/this.cols,Bt=this.HEIGHT/this.rows,It=this.canvasOffset(),jt=ot-It.left,tr=_t-It.top,gr=this.rows-Math.floor(tr/Bt)-1,vr=Math.floor(jt/Mt);if(gr!=this.row||vr!=this.col)return!1}return!0}adjustZoomToLimits(ot){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let _t=this.CAMERA_Z-this.config.lowerZoomLimit;ot>_t&&(ot=_t)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let _t=this.CAMERA_Z-this.config.upperZoomLimit;ot<_t&&(ot=_t)}return ot>this.CAMERA_Z-1&&(ot=this.CAMERA_Z-1),ot}static slerp(ot,_t,Mt){if(Mt==1)return _t.clone();if(Mt==0)return ot.clone();let Bt=ot.x*_t.x+ot.y*_t.y+ot.z*_t.z+ot.w*_t.w;if(Bt>.9995){let mr=new h.Quaternion(ot.x+Mt*(_t.x-ot.x),ot.y+Mt*(_t.y-ot.y),ot.z+Mt*(_t.z-ot.z),ot.w+Mt*(_t.w-ot.w));return mr.normalize(),mr}Bt<0&&(_t=_t.clone().multiplyScalar(-1),Bt=-Bt),Bt>1?Bt=1:Bt<-1&&(Bt=-1);var It=Math.acos(Bt),jt=It*Mt,tr=_t.clone();tr.sub(ot.clone().multiplyScalar(Bt)),tr.normalize();var gr=Math.cos(jt),vr=Math.sin(jt),hr=new h.Quaternion(ot.x*gr+tr.x*vr,ot.y*gr+tr.y*vr,ot.z*gr+tr.z*vr,ot.w*gr+tr.w*vr);return hr.normalize(),hr}constructor(ot,_t={}){this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledAtoms=[],this.current_hover=null,this.hoverDuration=500,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new h.Quaternion(0,0,0,1),this.dq=new h.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=_t,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=g.elementColors.defaultColors),this.nomouse=this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=g.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=parseFloat(this.config.camerax)),this._viewer=this,this.container=ot,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new c.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new h.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new h.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new c.Raycaster(new h.Vector3(0,0,0),new h.Vector3(0,0,0)),this.projector=new c.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=g.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container));try{typeof this.callback=="function"&&this.callback(this)}catch(Mt){console.log("error with glviewer callback: "+Mt)}}targetedObjects(ot,_t,Mt){var Bt={x:ot,y:_t,z:-1};return Array.isArray(Mt)||(Mt=this.selectedAtoms(Mt)),Mt.length==0?[]:(this.raycaster.setFromCamera(Bt,this.camera),this.raycaster.intersectObjects(this.modelGroup,Mt))}modelToScreen(ot){let _t=!1;Array.isArray(ot)||(ot=[ot],_t=!0);let Mt=this.renderer.getXRatio(),Bt=this.renderer.getYRatio(),It=this.col,jt=this.row,tr=It*(this.WIDTH/Mt),gr=(Bt-jt-1)*(this.HEIGHT/Bt),vr=[],hr=this.canvasOffset();return ot.forEach(mr=>{let Er=new h.Vector3(mr.x,mr.y,mr.z);Er.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(Er,this.camera);let Rr=this.WIDTH/Mt*(Er.x+1)/2+hr.left+tr,Cr=-(this.HEIGHT/Bt)*(Er.y-1)/2+hr.top+gr;vr.push({x:Rr,y:Cr})}),_t&&(vr=vr[0]),vr}screenOffsetToModel(ot,_t,Mt){var Bt=ot/this.WIDTH,It=_t/this.HEIGHT,jt=Mt===void 0?this.rotationGroup.position.z:Mt,tr=this.rotationGroup.quaternion,gr=new h.Vector3(0,0,jt);return this.projector.projectVector(gr,this.camera),gr.x+=Bt*2,gr.y-=It*2,this.projector.unprojectVector(gr,this.camera),gr.z=0,gr.applyQuaternion(tr),gr}screenToModelDistance(ot,_t){let Mt=this.canvasOffset(),Bt=new h.Vector3(_t.x,_t.y,_t.z);Bt.applyMatrix4(this.modelGroup.matrixWorld);let It=Bt.clone();this.projector.projectVector(Bt,this.camera);let jt=new h.Vector3((ot.x-Mt.left)*2/this.WIDTH-1,(ot.y-Mt.top)*2/-this.HEIGHT+1,Bt.z);return this.projector.unprojectVector(jt,this.camera),jt.distanceTo(It)}setViewChangeCallback(ot){(typeof ot=="function"||ot==null)&&(this.viewChangeCallback=ot)}setStateChangeCallback(ot){(typeof ot=="function"||ot==null)&&(this.stateChangeCallback=ot)}getConfig(){return this.config}setConfig(ot){this.config=ot}getInternalState(){var ot={models:[],surfaces:[],shapes:[],labels:[]};for(let _t=0;_t<this.models.length;_t++)this.models[_t]&&(ot.models[_t]=this.models[_t].getInternalState());return ot}setInternalState(ot){this.clear();var _t=ot.models;for(let Mt=0;Mt<_t.length;Mt++)_t[Mt]&&(this.models[Mt]=new j.GLModel(Mt),this.models[Mt].setInternalState(_t[Mt]));this.render()}setZoomLimits(ot,_t){typeof ot<"u"&&(this.config.lowerZoomLimit=ot),_t&&(this.config.upperZoomLimit=_t),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(ot){ot.fov!==void 0&&(this.fov=ot.fov,this.camera.fov=this.fov),ot.z!==void 0&&(this.CAMERA_Z=ot.z,this.camera.z=this.CAMERA_Z),ot.orthographic!==void 0&&(this.camera.ortho=ot.orthographic)}_handleMouseDown(ot){if(ot.preventDefault(),!this.scene)return;var _t=this.getX(ot),Mt=this.getY(ot);if(_t===void 0)return;this.isDragging=!0,this.mouseButton=ot.which,this.mouseStartX=_t,this.mouseStartY=Mt,this.touchHold=!0,this.touchDistanceStart=0,ot.targetTouches&&ot.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(ot)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let Bt=this;setTimeout(function(){ot.targetTouches&&Bt.touchHold==!0&&(Bt.glDOM=Bt.renderer.domElement,Bt.glDOM.dispatchEvent(new Event("contextmenu")))},1e3)}_handleMouseUp(ot){if(this.touchHold=!1,this.isDragging&&this.scene){var _t=this.getX(ot),Mt=this.getY(ot);if(this.closeEnoughForClick(ot)&&this.isInViewer(_t,Mt)){let Bt=this.mouseXY(_t,Mt);this.handleClickSelection(Bt.x,Bt.y,ot)}}this.isDragging=!1}_handleMouseScroll(ot){if(ot.preventDefault(),!!this.scene){var _t=this.getX(ot),Mt=this.getY(ot);if(_t!==void 0&&!(!this.control_all&&!this.isInViewer(_t,Mt))){var Bt=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,It=1;if(ot.ctrlKey&&(It=-1),ot.detail)this.rotationGroup.position.z+=It*Bt*ot.detail/10;else if(ot.wheelDelta){let jt=ot.wheelDelta*600/(ot.wheelDelta+600);this.rotationGroup.position.z-=It*Bt*jt/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(ot){let _t=this;return ot=ot||1,new Promise(function(Mt){let Bt=0,It=_t.viewChangeCallback,jt=[],tr=[],gr=Date.now();_t.viewChangeCallback=function(){tr.push(Date.now()-gr),gr=Date.now(),jt.push(new Promise(vr=>{_t.getCanvas().toBlob(function(hr){hr.arrayBuffer().then(vr)},"image/png")})),Bt+=1,Bt==ot&&(_t.viewChangeCallback=It,Promise.all(jt).then(vr=>{let hr=[];for(let Sr=0;Sr<vr.length;Sr++){let br=(0,Lt.decode)(vr[Sr]);hr.push((0,Lt.toRGBA8)(br)[0])}let mr=_t.getCanvas().width,Er=_t.getCanvas().height,Rr=(0,Lt.encode)(hr,mr,Er,0,tr),Cr=new Blob([Rr],{type:"image/png"}),wr=new FileReader;wr.onload=function(Sr){Mt(Sr.target.result)},wr.readAsDataURL(Cr)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(ot){this.hoverDuration=ot}mouseXY(ot,_t){let Mt=this.canvasOffset(),Bt=this.renderer.getXRatio(),It=this.renderer.getYRatio(),jt=this.col,tr=this.row,gr=jt*(this.WIDTH/Bt),vr=(It-tr-1)*(this.HEIGHT/It),hr=(ot-Mt.left-gr)/(this.WIDTH/Bt)*2-1,mr=-((_t-Mt.top-vr)/(this.HEIGHT/It))*2+1;return{x:hr,y:mr}}_handleMouseMove(ot){clearTimeout(this.hoverTimeout),ot.preventDefault();let _t=this.getX(ot),Mt=this.getY(ot);if(_t===void 0)return;let Bt=this.renderer.getXRatio(),It=this.renderer.getYRatio(),jt=this.mouseXY(_t,Mt),tr=this;this.current_hover!==null&&this.handleHoverContinue(jt.x,jt.y);var gr=0;if(!(!this.control_all&&!this.isInViewer(_t,Mt))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){tr.handleHoverSelection(jt.x,jt.y,ot)},this.hoverDuration)),!!this.isDragging)){var vr=(_t-this.mouseStartX)/this.WIDTH,hr=(Mt-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&ot.targetTouches&&ot.targetTouches.length==2){var mr=this.calcTouchDistance(ot);gr=2,hr=(mr-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else ot.targetTouches&&ot.targetTouches.length==3&&(gr=1);vr*=Bt,hr*=It;var Er=Math.hypot(vr,hr),Rr;if(gr==3||this.mouseButton==3&&ot.ctrlKey)this.slabNear=this.cslabNear+vr*100,this.slabFar=this.cslabFar-hr*100;else if(gr==2||this.mouseButton==3||ot.shiftKey)Rr=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,Rr<80&&(Rr=80),this.rotationGroup.position.z=this.cz+hr*Rr,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(gr==1||this.mouseButton==2||ot.ctrlKey){var Cr=this.screenOffsetToModel(Bt*(_t-this.mouseStartX),It*(Mt-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,Cr)}else if((gr===0||this.mouseButton==1)&&Er!==0){var wr=Math.sin(Er*Math.PI)/Er;this.dq.x=Math.cos(Er*Math.PI),this.dq.y=0,this.dq.z=wr*vr,this.dq.w=-wr*hr,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(ot){ot.preventDefault();var _t=this.getX(ot),Mt=this.getY(ot);if(!(_t!=this.mouseStartX||Mt!=this.mouseStartY)){var jt=this.mouseStartX,tr=this.mouseStartY,It=this.canvasOffset();let gr=this.mouseXY(jt,tr),vr=gr.x,hr=gr.y,mr=this.targetedObjects(vr,hr,this.contextMenuEnabledAtoms);var Bt=null;mr.length&&(Bt=mr[0].clickable);var It=this.canvasOffset(),jt=this.mouseStartX-It.left,tr=this.mouseStartY-It.top;this.userContextMenuHandler&&this.userContextMenuHandler(Bt,jt,tr,mr)}}setContainer(ot){let _t=(0,b.getElement)(ot)||this.container;return this.initContainer(_t),this}setBackgroundColor(ot,_t){(typeof _t>"u"||_t<0||_t>1)&&(_t=1);var Mt=g.CC.color(ot);return this.scene.fog.color=Mt,this.bgColor=Mt.getHex(),this.renderer.setClearColorHex(Mt.getHex(),_t),this.show(),this}setProjection(ot){this.camera.ortho=ot==="orthographic",this.setSlabAndFog()}setViewStyle(ot){if(ot.style==="outline"){var _t={};ot.color&&(_t.color=g.CC.color(ot.color)),ot.width&&(_t.width=ot.width),this.renderer.enableOutline(_t)}else this.renderer.disableOutline();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(ot){return this.WIDTH=ot||this.WIDTH,this.updateSize(),this}setHeight(ot){return this.HEIGHT=ot||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let ot=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0&&(this.container.querySelector("canvas").remove(),this.setupRenderer(),this.initContainer(this.container),ot=!0),this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),ot){let _t=this.renderer.supportedExtensions();_t.regen=!0,this._viewer.render(null,_t)}else this.show();return this}getModel(ot){return ot===void 0?this.models.length==0?null:this.models[this.models.length-1]:ot instanceof j.GLModel?ot:ot in this.models?this.models[ot]:this.models.length==0?null:this.models[this.models.length-1]}spin(ot,_t=1){if(clearInterval(this.spinInterval),typeof ot>"u"&&(ot="y"),typeof ot=="boolean")if(ot)ot="y";else return;Array.isArray(ot)&&(ot={x:ot[0],y:ot[1],z:ot[2]});var Mt=this;this.spinInterval=setInterval(function(){!Mt.getCanvas().isConnected&&Mt.renderer.isLost()&&clearInterval(Mt.spinInterval),Mt.rotate(1*_t,ot)},25)}animateMotion(ot,_t,Mt,Bt,It,jt){var tr=20,gr=Math.ceil(ot/tr);gr<1&&(gr=1),this.incAnim();var vr={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(_t){let Er=new Array(gr);for(let Sr=0;Sr<gr;Sr++){let br=(Sr+1)/gr,xr={mpos:vr.mpos,rz:vr.rz,rot:vr.rot};xr.mpos=Mt.clone().sub(vr.mpos).multiplyScalar(br).add(vr.mpos),xr.rz=vr.rz+br*(Bt-vr.rz),xr.rot=it.slerp(vr.rot,It,br),xr.cam=jt.clone().sub(vr.cam).multiplyScalar(br).add(vr.cam),Er[Sr]=xr}let Rr=0,Cr=this,wr=function(){var Sr=Er[Rr];Rr+=1,Cr.modelGroup.position=Sr.mpos,Cr.rotationGroup.position.z=Sr.rz,Cr.rotationGroup.quaternion=Sr.rot,Cr.camera.lookAt(Sr.cam),Rr<Er.length?setTimeout(wr,tr):Cr.decAnim(),Cr.show()};setTimeout(wr,tr)}else{var hr={};let Er=1/gr;if(Mt&&(hr.mpos=Mt.clone().sub(vr.mpos).multiplyScalar(Er)),typeof Bt<"u"&&Bt!=null&&(hr.rz=Er*(Bt-vr.rz)),It){var mr=it.slerp(vr.rot,It,Er);hr.rot=vr.rot.clone().inverse().multiply(mr)}jt&&(hr.cam=jt.clone().sub(vr.cam).multiplyScalar(Er));let Rr=0,Cr=this,wr=function(){Rr+=1,hr.mpos&&Cr.modelGroup.position.add(hr.mpos),hr.rz&&(Cr.rotationGroup.position.z+=hr.rz),hr.rot&&Cr.rotationGroup.quaternion.multiply(hr.rot),hr.cam&&(Cr.lookingAt.add(hr.cam),Cr.camera.lookAt(Cr.lookingAt)),Rr<gr?setTimeout(wr,tr):Cr.decAnim(),Cr.show()};setTimeout(wr,tr)}}rotate(ot,_t="y",Mt=0,Bt=!1){if(_t=="x"?_t={x:1,y:0,z:0}:_t=="y"?_t={x:0,y:1,z:0}:_t=="z"&&(_t={x:0,y:0,z:1}),_t=="vx"?_t={vx:1,vy:0,vz:0}:_t=="vy"?_t={vx:0,vy:1,vz:0}:_t=="vz"&&(_t={vx:0,vy:0,vz:1}),typeof _t.vx<"u"){var It=new h.Vector3(_t.vx,_t.vy,_t.vz);It.applyQuaternion(this.rotationGroup.quaternion),_t={x:It.x,y:It.y,z:It.z}}var jt=function(hr){var mr=Math.sin(hr/2),Er=Math.cos(hr/2),Rr=0,Cr=0,wr=0;return Rr=_t.x*mr,Cr=_t.y*mr,wr=_t.z*mr,new h.Quaternion(Rr,Cr,wr,Er).normalize()},tr=Math.PI*ot/180,gr=jt(tr);if(Mt){var vr=new h.Quaternion().copy(this.rotationGroup.quaternion).multiply(gr);this.animateMotion(Mt,Bt,this.modelGroup.position,this.rotationGroup.position.z,vr,this.lookingAt)}else this.rotationGroup.quaternion.multiply(gr),this.show();return this}surfacesFinished(){for(var ot in this.surfaces)if(!this.surfaces[ot][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var ot=this.modelGroup.position,_t=this.rotationGroup.quaternion;return[ot.x,ot.y,ot.z,this.rotationGroup.position.z,_t.x,_t.y,_t.z,_t.w]}setView(ot,_t){return ot===void 0||!(ot instanceof Array||ot.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=ot[0],this.modelGroup.position.y=ot[1],this.modelGroup.position.z=ot[2],this.rotationGroup.position.z=ot[3],this.rotationGroup.quaternion.x=ot[4],this.rotationGroup.quaternion.y=ot[5],this.rotationGroup.quaternion.z=ot[6],this.rotationGroup.quaternion.w=ot[7],typeof ot[8]<"u"&&(this.rotationGroup.position.x=ot[8],this.rotationGroup.position.y=ot[9]),this.show(_t),this)}render(ot,_t){this.renderer.setViewport(),this.updateClickables();var Mt=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var Bt,It;for(_t||(_t=this.renderer.supportedExtensions()),Bt=0;Bt<this.models.length;Bt++)this.models[Bt]&&this.models[Bt].globj(this.modelGroup,_t);for(Bt=0;Bt<this.shapes.length;Bt++)this.shapes[Bt]&&(typeof this.shapes[Bt].frame>"u"||this.viewer_frame<0||this.shapes[Bt].frame<0||this.shapes[Bt].frame==this.viewer_frame?this.shapes[Bt].globj(this.modelGroup,_t):this.shapes[Bt].removegl(this.modelGroup));for(Bt=0;Bt<this.labels.length;Bt++)this.labels[Bt]&&typeof this.labels[Bt].frame<"u"&&this.labels[Bt].frame>=0&&(this.modelGroup.remove(this.labels[Bt].sprite),(this.viewer_frame<0||this.labels[Bt].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[Bt].sprite));for(Bt in this.surfaces)if(this.surfaces.hasOwnProperty(Bt)){var jt=this.surfaces[Bt];for(It=0;It<jt.length;It++)if(jt.hasOwnProperty(It)){var tr=jt[It].geo;if(!jt[It].finished||_t.regen){tr.verticesNeedUpdate=!0,tr.elementsNeedUpdate=!0,tr.normalsNeedUpdate=!0,tr.colorsNeedUpdate=!0,tr.buffersNeedUpdate=!0,tr.boundingSphere=null,jt[It].done&&(jt[It].finished=!0),jt[It].lastGL&&this.modelGroup.remove(jt[It].lastGL);var gr=null;if(jt[It].mat instanceof c.LineBasicMaterial?gr=new c.Line(tr,jt[It].mat):gr=new c.Mesh(tr,jt[It].mat),jt[It].mat.transparent&&jt[It].mat.opacity==0?gr.visible=!1:gr.visible=!0,jt[It].symmetries.length>1||jt[It].symmetries.length==1&&!jt[It].symmetries[It].isIdentity()){var vr,hr=new c.Object3D;for(vr=0;vr<jt[It].symmetries.length;vr++){var mr=gr.clone();mr.matrix=jt[It].symmetries[vr],mr.matrixAutoUpdate=!1,hr.add(mr)}jt[It].lastGL=hr,this.modelGroup.add(hr)}else jt[It].lastGL=gr,this.modelGroup.add(gr)}}}return this.setView(Mt),typeof ot=="function"&&ot(this),this}getModelList(ot){let _t=[];if(typeof ot>"u"||typeof ot.model>"u")for(let Bt=0;Bt<this.models.length;Bt++)this.models[Bt]&&_t.push(this.models[Bt]);else{let Bt=ot.model;Array.isArray(Bt)||(Bt=[Bt]);for(let It=0;It<Bt.length;It++)if(typeof Bt[It]=="number"){var Mt=Bt[It];Mt<0&&(Mt+=this.models.length),_t.push(this.models[Mt])}else _t.push(Bt[It])}return _t}getAtomsFromSel(ot){var _t=[];typeof ot>"u"&&(ot={});var Mt=this.getModelList(ot);for(let Bt=0;Bt<Mt.length;Bt++)_t=_t.concat(Mt[Bt].selectedAtoms(ot));return _t}atomIsSelected(ot,_t){typeof _t>"u"&&(_t={});for(var Mt=this.getModelList(_t),Bt=0;Bt<Mt.length;Bt++)if(Mt[Bt].atomIsSelected(ot,_t))return!0;return!1}selectedAtoms(ot){return this.getAtomsFromSel(ot)}getUniqueValues(ot,_t){typeof _t>"u"&&(_t={});var Mt=this.getAtomsFromSel(_t),Bt={};for(var It in Mt)if(Mt[It].hasOwnProperty(ot)){var jt=Mt[It][ot];Bt[jt]=!0}return Object.keys(Bt)}pdbData(ot){for(var _t=this.getAtomsFromSel(ot),Mt="",Bt=0,It=_t.length;Bt<It;++Bt)Mt+=_t[Bt].pdbline+`
`;return Mt}zoom(ot=2,_t=0,Mt=!1){var Bt=(this.CAMERA_Z-this.rotationGroup.position.z)/ot,It=this.CAMERA_Z-Bt;return _t>0?this.animateMotion(_t,Mt,this.modelGroup.position,this.adjustZoomToLimits(It),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(It),this.show()),this}translate(ot,_t,Mt=0,Bt=!1){var It=ot/this.WIDTH,jt=_t/this.HEIGHT,tr=new h.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(tr,this.camera),tr.x-=It,tr.y-=jt,this.projector.unprojectVector(tr,this.camera),tr.z=0;var gr=this.lookingAt.clone().add(tr);return Mt>0?this.animateMotion(Mt,Bt,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,gr):(this.lookingAt=gr,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(ot,_t,Mt=0,Bt=!1){var It=this.screenOffsetToModel(ot,_t),jt=this.modelGroup.position.clone().add(It);return Mt>0?this.animateMotion(Mt,Bt,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=jt,this.show()),this}fitSlab(ot){ot=ot||{};var _t=this.getAtomsFromSel(ot),Mt=(0,b.getExtent)(_t),Bt=Mt[1][0]-Mt[0][0],It=Mt[1][1]-Mt[0][1],jt=Mt[1][2]-Mt[0][2],tr=Math.hypot(Bt,It,jt);return tr<5&&(tr=5),this.slabNear=-tr/1.9,this.slabFar=tr/2,this}center(ot={},_t=0,Mt=!1){var Bt,It,jt=this.getAtomsFromSel(ot),tr=(0,b.getExtent)(jt);(0,b.isEmptyObject)(ot)?(this.shapes.forEach(br=>{if(br&&br.boundingSphere&&br.boundingSphere.center){var xr=br.boundingSphere.center,Or=br.boundingSphere.radius;Or>0?(jt.push(new h.Vector3(xr.x+Or,xr.y,xr.z)),jt.push(new h.Vector3(xr.x-Or,xr.y,xr.z)),jt.push(new h.Vector3(xr.x,xr.y+Or,xr.z)),jt.push(new h.Vector3(xr.x,xr.y-Or,xr.z)),jt.push(new h.Vector3(xr.x,xr.y,xr.z+Or)),jt.push(new h.Vector3(xr.x,xr.y,xr.z-Or))):jt.push(xr)}}),tr=(0,b.getExtent)(jt),Bt=jt,It=tr):(Bt=this.getAtomsFromSel({}),It=(0,b.getExtent)(Bt));var gr=new h.Vector3(tr[2][0],tr[2][1],tr[2][2]),vr=It[1][0]-It[0][0],hr=It[1][1]-It[0][1],mr=It[1][2]-It[0][2],Er=Math.hypot(vr,hr,mr);Er<5&&(Er=5),this.slabNear=-Er/1.9,this.slabFar=Er/2,vr=tr[1][0]-tr[0][0],hr=tr[1][1]-tr[0][1],mr=tr[1][2]-tr[0][2],Er=Math.hypot(vr,hr,mr),Er<5&&(Er=5);for(var Rr=25,Cr=0;Cr<jt.length;Cr++)if(jt[Cr]){var wr=gr.distanceToSquared(jt[Cr]);wr>Rr&&(Rr=wr)}Er=Math.sqrt(Rr)*2;var Sr=gr.clone().multiplyScalar(-1);return _t>0?this.animateMotion(_t,Mt,Sr,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Sr,this.show()),this}zoomTo(ot={},_t=0,Mt=!1){let Bt=this.getAtomsFromSel(ot),It=(0,b.getExtent)(Bt),jt=It;if((0,b.isEmptyObject)(ot)){let xr=Bt&&Bt.length;if(this.shapes.forEach(Or=>{if(Or&&Or.boundingSphere){if(Or.boundingSphere.box){let Hn=Or.boundingSphere.box;Bt.push(new h.Vector3(Hn.min.x,Hn.min.y,Hn.min.z)),Bt.push(new h.Vector3(Hn.max.x,Hn.max.y,Hn.max.z))}else if(Or.boundingSphere.center){var In=Or.boundingSphere.center,Nn=Or.boundingSphere.radius;Nn>0?(Bt.push(new h.Vector3(In.x+Nn,In.y,In.z)),Bt.push(new h.Vector3(In.x-Nn,In.y,In.z)),Bt.push(new h.Vector3(In.x,In.y+Nn,In.z)),Bt.push(new h.Vector3(In.x,In.y-Nn,In.z)),Bt.push(new h.Vector3(In.x,In.y,In.z+Nn)),Bt.push(new h.Vector3(In.x,In.y,In.z-Nn))):Bt.push(In)}}}),jt=(0,b.getExtent)(Bt),!xr)for(let Or=0;Or<3;Or++)It[2][Or]=(jt[0][Or]+jt[1][Or])/2}else{let xr=this.getAtomsFromSel({});jt=(0,b.getExtent)(xr)}var tr=new h.Vector3(It[2][0],It[2][1],It[2][2]),gr=jt[1][0]-jt[0][0],vr=jt[1][1]-jt[0][1],hr=jt[1][2]-jt[0][2],mr=Math.hypot(gr,vr,hr);mr<5&&(mr=5),this.slabNear=-mr/1.9,this.slabFar=mr/2,Object.keys(ot).length===0&&(this.slabNear=Math.min(-mr*2,-50),this.slabFar=Math.max(mr*2,50));var Er=this.config.minimumZoomToDistance||5;gr=It[1][0]-It[0][0],vr=It[1][1]-It[0][1],hr=It[1][2]-It[0][2],mr=Math.hypot(gr,vr,hr),mr<Er&&(mr=Er);for(var Rr=Er*Er,Cr=0;Cr<Bt.length;Cr++)if(Bt[Cr]){var wr=tr.distanceToSquared(Bt[Cr]);wr>Rr&&(Rr=wr)}mr=Math.sqrt(Rr)*2;var Sr=tr.clone().multiplyScalar(-1),br=-(mr*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return br=this.adjustZoomToLimits(br),_t>0?this.animateMotion(_t,Mt,Sr,br,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Sr,this.rotationGroup.position.z=br,this.show()),this}setSlab(ot,_t){this.slabNear=ot,this.slabFar=_t}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(ot,_t={},Mt,Bt=!1){if(Mt){var It=(0,b.getExtent)(this.getAtomsFromSel(Mt));_t.position={x:It[2][0],y:It[2][1],z:It[2][2]}}var jt=new rt.Label(ot,_t);return jt.setContext(),this.modelGroup.add(jt.sprite),this.labels.push(jt),Bt||this.show(),jt}addResLabels(ot,_t,Mt=!1){let Bt=this.labels.length;return this.applyToModels("addResLabels",ot,this,_t,Mt),this.show(),this.labels.slice(Bt)}addPropertyLabels(ot,_t,Mt){return this.applyToModels("addPropertyLabels",ot,_t,this,Mt),this.show(),this}removeLabel(ot){for(var _t=0;_t<this.labels.length;_t++)if(this.labels[_t]==ot){this.labels.splice(_t,1),ot.dispose(),this.modelGroup.remove(ot.sprite);break}return this.show(),this}removeAllLabels(){for(var ot=0;ot<this.labels.length;ot++)this.labels[ot]&&this.labels[ot].sprite&&this.modelGroup.remove(this.labels[ot].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(ot,_t){return this.modelGroup.remove(ot.sprite),ot.dispose(),ot.stylespec=_t,ot.setContext(),this.modelGroup.add(ot.sprite),this.show(),ot}setLabelText(ot,_t){return this.modelGroup.remove(ot.sprite),ot.dispose(),ot.text=_t,ot.setContext(),this.modelGroup.add(ot.sprite),this.show(),ot}addShape(ot){ot=ot||{};var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,this.shapes.push(_t),_t}removeShape(ot){if(!ot)return this;for(ot.removegl(this.modelGroup),delete this.shapes[ot.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var ot=0;ot<this.shapes.length;ot++){var _t=this.shapes[ot];_t&&_t.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(ot){if(ot.hasOwnProperty("x")&&ot.hasOwnProperty("y")&&ot.hasOwnProperty("z"))return ot;var _t=this.getAtomsFromSel(ot);if(_t.length==0)return{x:0,y:0,z:0};var Mt=(0,b.getExtent)(_t);return{x:Mt[0][0]+(Mt[1][0]-Mt[0][0])/2,y:Mt[0][1]+(Mt[1][1]-Mt[0][1])/2,z:Mt[0][2]+(Mt[1][2]-Mt[0][2])/2}}addSphere(ot){ot=ot||{},ot.center=this.getSelectionCenter(ot.center);var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,_t.addSphere(ot),this.shapes.push(_t),_t.finalize(),_t}addBox(ot={}){ot.corner!=null&&(ot.corner=this.getSelectionCenter(ot.corner)),ot.center!=null&&(ot.center=this.getSelectionCenter(ot.center));var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,_t.addBox(ot),this.shapes.push(_t),_t.finalize(),_t}addArrow(ot={}){ot.start=this.getSelectionCenter(ot.start),ot.end=this.getSelectionCenter(ot.end);var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,_t.addArrow(ot),this.shapes.push(_t),_t.finalize(),_t}addCylinder(ot={}){ot.start=this.getSelectionCenter(ot.start),ot.end=this.getSelectionCenter(ot.end);var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,ot.dashed?_t.addDashedCylinder(ot):_t.addCylinder(ot),this.shapes.push(_t),_t.finalize(),_t}addCurve(ot={}){var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,_t.addCurve(ot),this.shapes.push(_t),_t.finalize(),_t}addLine(ot={}){ot.start=this.getSelectionCenter(ot.start),ot.end=this.getSelectionCenter(ot.end),ot.wireframe=!0;var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,ot.dashed?_t=this.addLineDashed(ot,_t):_t.addLine(ot),this.shapes.push(_t),_t.finalize(),_t}addUnitCell(ot,_t){ot=this.getModel(ot),_t=_t||{alabel:"a",blabel:"b",clabel:"c"},_t.box=_t.box||{},_t.astyle=_t.astyle||{color:"red",radius:.1,midpos:-1},_t.bstyle=_t.bstyle||{color:"green",radius:.1,midpos:-1},_t.cstyle=_t.cstyle||{color:"blue",radius:.1,midpos:-1},_t.alabelstyle=_t.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},_t.blabelstyle=_t.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},_t.clabelstyle=_t.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},ot.unitCellObjects&&this.removeUnitCell(ot),ot.unitCellObjects={shapes:[],labels:[]};var Mt=ot.getCrystData(),Bt=null;if(Mt){if(Mt.matrix)Bt=Mt.matrix;else{var It=Mt.a,jt=Mt.b,tr=Mt.c,gr=Mt.alpha,vr=Mt.beta,hr=Mt.gamma;gr=gr*Math.PI/180,vr=vr*Math.PI/180,hr=hr*Math.PI/180;var mr,Er,Rr;mr=Math.cos(vr),Er=(Math.cos(gr)-Math.cos(vr)*Math.cos(hr))/Math.sin(hr),Rr=Math.sqrt(Math.max(0,1-mr*mr-Er*Er)),Bt=new h.Matrix3(It,jt*Math.cos(hr),tr*mr,0,jt*Math.sin(hr),tr*Er,0,0,tr*Rr)}var Cr=[new h.Vector3(0,0,0),new h.Vector3(1,0,0),new h.Vector3(0,1,0),new h.Vector3(0,0,1),new h.Vector3(1,1,0),new h.Vector3(0,1,1),new h.Vector3(1,0,1),new h.Vector3(1,1,1)];if(Mt.matrix4)for(let Sr=0;Sr<Cr.length;Sr++)Mt.size&&Cr[Sr].multiplyVectors(Cr[Sr],Mt.size),Cr[Sr]=Cr[Sr].applyMatrix4(Mt.matrix4);else for(let Sr=0;Sr<Cr.length;Sr++)Cr[Sr]=Cr[Sr].applyMatrix3(Bt);if(_t.box&&!_t.box.hidden){_t.box.wireframe=!0;var wr=new nt.GLShape(_t.box);wr.shapePosition=this.shapes.length,wr.addLine({start:Cr[0],end:Cr[1]}),wr.addLine({start:Cr[0],end:Cr[2]}),wr.addLine({start:Cr[1],end:Cr[4]}),wr.addLine({start:Cr[2],end:Cr[4]}),wr.addLine({start:Cr[0],end:Cr[3]}),wr.addLine({start:Cr[3],end:Cr[5]}),wr.addLine({start:Cr[2],end:Cr[5]}),wr.addLine({start:Cr[1],end:Cr[6]}),wr.addLine({start:Cr[4],end:Cr[7]}),wr.addLine({start:Cr[6],end:Cr[7]}),wr.addLine({start:Cr[3],end:Cr[6]}),wr.addLine({start:Cr[5],end:Cr[7]}),this.shapes.push(wr),ot.unitCellObjects.shapes.push(wr),wr.finalize()}if(!_t.astyle.hidden){_t.astyle.start=Cr[0],_t.astyle.end=Cr[1];let Sr=this.addArrow(_t.astyle);ot.unitCellObjects.shapes.push(Sr)}if(!_t.bstyle.hidden){_t.bstyle.start=Cr[0],_t.bstyle.end=Cr[2];let Sr=this.addArrow(_t.bstyle);ot.unitCellObjects.shapes.push(Sr)}if(!_t.cstyle.hidden){_t.cstyle.start=Cr[0],_t.cstyle.end=Cr[3];let Sr=this.addArrow(_t.cstyle);ot.unitCellObjects.shapes.push(Sr)}if(_t.alabel){_t.alabelstyle.position=Cr[1];let Sr=this.addLabel(_t.alabel,_t.alabelstyle);ot.unitCellObjects.labels.push(Sr)}if(_t.blabel){_t.blabelstyle.position=Cr[2];let Sr=this.addLabel(_t.blabel,_t.blabelstyle);ot.unitCellObjects.labels.push(Sr)}if(_t.clabel){_t.clabelstyle.position=Cr[3];let Sr=this.addLabel(_t.clabel,_t.clabelstyle);ot.unitCellObjects.labels.push(Sr)}}}removeUnitCell(ot){if(ot=this.getModel(ot),ot.unitCellObjects){let _t=this;ot.unitCellObjects.shapes.forEach(function(Mt){_t.removeShape(Mt)}),ot.unitCellObjects.labels.forEach(function(Mt){_t.removeLabel(Mt)})}delete ot.unitCellObjects}replicateUnitCell(ot=3,_t=ot,Mt=_t,Bt,It){Bt=this.getModel(Bt);let jt=Bt.getCrystData();if(jt){const tr=Bt.selectedAtoms({}),gr=jt.matrix;let vr=function(hr){return hr%2==0?-hr/2:Math.ceil(hr/2)};for(let hr=0;hr<ot;hr++)for(let mr=0;mr<_t;mr++)for(let Er=0;Er<Mt;Er++){if(hr==0&&mr==0&&Er==0)continue;let Rr=new h.Vector3(vr(hr),vr(mr),vr(Er));Rr.applyMatrix3(gr);let Cr=[];for(let wr=0;wr<tr.length;wr++){let Sr={};for(let br in tr[wr])Sr[br]=tr[wr][br];Sr.x+=Rr.x,Sr.y+=Rr.y,Sr.z+=Rr.z,Cr.push(Sr)}Bt.addAtoms(Cr)}It&&Bt.assignBonds()}}addLineDashed(ot,_t){ot.dashLength=ot.dashLength||.5,ot.gapLength=ot.gapLength||.5;var Mt;ot.start?Mt=new h.Vector3(ot.start.x||0,ot.start.y||0,ot.start.z||0):Mt=new h.Vector3(0,0,0);var Bt;ot.end?Bt=new h.Vector3(ot.end.x,ot.end.y||0,ot.end.z||0):Bt=new h.Vector3(0,0,0);var It=new h.Vector3,jt=new h.Vector3,tr=new h.Vector3,gr,vr,hr,mr=Mt.clone(),Er=0;for(It.subVectors(Bt,Mt),gr=It.length(),It.normalize(),jt=It.clone(),tr=It.clone(),jt.multiplyScalar(ot.dashLength),tr.multiplyScalar(ot.gapLength),vr=jt.length(),hr=tr.length();Er<gr;){if(Er+vr>gr){ot.start=Mt,ot.end=Bt,_t.addLine(ot);break}mr.addVectors(Mt,jt),ot.start=Mt,ot.end=mr,_t.addLine(ot),Mt=mr.clone(),Er+=vr,mr.addVectors(Mt,tr),Mt=mr.clone(),Er+=hr}return _t.finalize(),_t}addCustom(ot){ot=ot||{};var _t=new nt.GLShape(ot);return _t.shapePosition=this.shapes.length,_t.addCustom(ot),this.shapes.push(_t),_t.finalize(),_t}addVolumetricData(ot,_t,Mt={}){var Bt=new pt.VolumeData(ot,_t);return Mt.hasOwnProperty("transferfn")?this.addVolumetricRender(Bt,Mt):this.addIsosurface(Bt,Mt)}addIsosurface(ot,_t={},Mt){var Bt=new nt.GLShape(_t);return Bt.shapePosition=this.shapes.length,Bt.addIsosurface(ot,_t,Mt),this.shapes.push(Bt),Bt}addVolumetricRender(ot,_t){_t=_t||{};var Mt=new Dt.GLVolumetricRender(ot,_t);return Mt.shapePosition=this.shapes.length,this.shapes.push(Mt),Mt}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(ot){ot?this.scene.fog=new c.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(ot){this.viewer_frame=ot;let _t=this;return new Promise(function(Mt){var Bt=_t.models.map(function(It){return It.setFrame(ot,_t)});Promise.all(Bt).then(function(){Mt()})})}getFrame(){return this.viewer_frame}getNumFrames(){var ot=0;for(let _t=0;_t<this.models.length;_t++)this.models[_t].getNumFrames()>ot&&(ot=this.models[_t].getNumFrames());for(let _t=0;_t<this.shapes.length;_t++)this.shapes[_t].frame&&this.shapes[_t].frame>=ot&&(ot=this.shapes[_t].frame+1);for(let _t=0;_t<this.labels.length;_t++)this.labels[_t].frame&&this.labels[_t].frame>=ot&&(ot=this.labels[_t].frame+1);return ot}animate(ot){this.incAnim();var _t=100,Mt="forward",Bt=0;ot=ot||{},ot.interval&&(_t=ot.interval),ot.loop&&(Mt=ot.loop),ot.reps&&(Bt=ot.reps);var It=this.getNumFrames(),jt=this,tr=0;ot.startFrame&&(tr=ot.startFrame%It);var gr=1;ot.step&&(gr=ot.step,Bt/=gr);var vr=0,hr=It*Bt,mr=new Date,Er,Rr,Cr=function(wr){mr=new Date,wr=="forward"?jt.setFrame(tr).then(function(){tr=(tr+gr)%It,Er()}):wr=="backward"?jt.setFrame(It-1-tr).then(function(){tr=(tr+gr)%It,Er()}):jt.setFrame(tr).then(function(){tr+=gr,gr*=tr%(It-1)==0?-1:1,Er()})};return Er=function(){if(jt.render(),!jt.getCanvas().isConnected)jt.stopAnimate();else if(++vr==hr||!jt.isAnimated())Rr.cancel(),jt.animationTimers.delete(Rr),jt.decAnim();else{var wr=_t-(new Date().getTime()-mr.getTime());wr=wr>0?wr:0,jt.animationTimers.delete(Rr),Rr=new b.PausableTimer(Cr,wr,Mt),jt.animationTimers.add(Rr)}},Rr=new b.PausableTimer(Cr,0,Mt),this.animationTimers.add(Rr),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(ot){ot.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(ot){ot.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(ot){ot.resume()}),this}isAnimated(){return this.animated>0}addModel(ot,_t="",Mt){Mt&&!Mt.defaultcolors?(Mt.defaultcolors=this.defaultcolors,Mt.cartoonQuality=Mt.cartoonQuality||this.config.cartoonQuality):typeof Mt>"u"&&(Mt={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality});var Bt=new j.GLModel(this.models.length,Mt);return Bt.addMolData(ot,_t,Mt),this.models.push(Bt),Bt}addModels(ot,_t,Mt){Mt=Mt||{},Mt.multimodel=!0,Mt.frames=!0;for(var Bt=j.GLModel.parseMolData(ot,_t,Mt),It=0;It<Bt.length;It++){var jt=new j.GLModel(this.models.length,this.defaultcolors);jt.setAtomDefaults(Bt[It]),jt.addFrame(Bt[It]),jt.setFrame(0),Bt.modelData&&jt.setModelData(Bt.modelData[It]),jt.setDontDuplicateAtoms(!Mt.duplicateAssemblyAtoms),this.models.push(jt)}return this.models}addModelsAsFrames(ot,_t,Mt){Mt=Mt||{},Mt.multimodel=!0,Mt.frames=!0;var Bt=new j.GLModel(this.models.length,this.defaultcolors);return Bt.addMolData(ot,_t,Mt),this.models.push(Bt),Bt}addAsOneMolecule(ot,_t,Mt){Mt=Mt||{},Mt.multimodel=!0,Mt.onemol=!0;var Bt=new j.GLModel(this.models.length,this.defaultcolors);return Bt.addMolData(ot,_t,Mt),this.models.push(Bt),Bt}removeModel(ot){if(ot=this.getModel(ot),!!ot){for(ot.removegl(this.modelGroup),delete this.models[ot.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var ot=0;ot<this.models.length;ot++){var _t=this.models[ot];_t&&_t.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(ot,_t){var Mt={};return _t===void 0?Mt.m=this.models.map(function(Bt){return Bt.toCDObject(ot)}):Mt.m=[this.models[_t].toCDObject()],JSON.stringify(Mt)}exportVRML(){var ot=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new c.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var _t=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=ot,_t}createModelFrom(ot,_t=!1){for(var Mt=new j.GLModel(this.models.length,this.defaultcolors),Bt=0;Bt<this.models.length;Bt++)if(this.models[Bt]){var It=this.models[Bt].selectedAtoms(ot);Mt.addAtoms(It),_t&&this.models[Bt].removeAtoms(It)}return this.models.push(Mt),Mt}applyToModels(ot,_t,Mt,Bt,It,jt,tr){for(var gr=this.getModelList(_t),vr=0;vr<gr.length;vr++)gr[vr][ot](_t,Mt,Bt,It,jt,tr)}setStyle(ot,_t){return typeof _t>"u"&&(_t=ot,ot={}),this.applyToModels("setStyle",ot,_t,!1),this}addStyle(ot,_t){return typeof _t>"u"&&(_t=ot,ot={}),this.applyToModels("setStyle",ot,_t,!0),this}setClickable(ot,_t,Mt){return this.applyToModels("setClickable",ot,_t,Mt),this}setHoverable(ot,_t,Mt,Bt){return this.applyToModels("setHoverable",ot,_t,Mt,Bt),this}enableContextMenu(ot,_t){return this.applyToModels("enableContextMenu",ot,_t),this}vibrate(ot,_t,Mt,Bt){return this.applyToModels("vibrate",ot,_t,Mt,this,Bt),this}setColorByProperty(ot,_t,Mt,Bt){return this.applyToModels("setColorByProperty",ot,_t,Mt,Bt),this}setColorByElement(ot,_t){return this.applyToModels("setColorByElement",ot,_t),this}static getAtomsWithin(ot,_t){var Mt=[];for(let It=0;It<ot.length;It++){var Bt=ot[It];typeof Bt>"u"||Bt.x<_t[0][0]||Bt.x>_t[1][0]||Bt.y<_t[0][1]||Bt.y>_t[1][1]||Bt.z<_t[0][2]||Bt.z>_t[1][2]||Mt.push(Bt)}return Mt}static volume(ot){var _t=ot[1][0]-ot[0][0],Mt=ot[1][1]-ot[0][1],Bt=ot[1][2]-ot[0][2];return _t*Mt*Bt}carveUpExtent(ot,_t,Mt){let Bt=[],It={};for(let mr=0,Er=_t.length;mr<Er;mr++)It[_t[mr].index]=mr;let jt=function(mr){let Er=[];for(let Rr=0,Cr=mr.length;Rr<Cr;Rr++)mr[Rr].index in It&&Er.push(It[mr[Rr].index]);return Er},tr=function(mr){let Er=[];return Er[0]=[mr[0][0],mr[0][1],mr[0][2]],Er[1]=[mr[1][0],mr[1][1],mr[1][2]],Er},gr=function(mr){if(it.volume(mr)<it.maxVolume)return[mr];var Er=mr[1][0]-mr[0][0],Rr=mr[1][1]-mr[0][1],Cr=mr[1][2]-mr[0][2],wr;Er>Rr&&Er>Cr?wr=0:Rr>Er&&Rr>Cr?wr=1:wr=2;var Sr=tr(mr),br=tr(mr),xr=(mr[1][wr]-mr[0][wr])/2+mr[0][wr];Sr[1][wr]=xr,br[0][wr]=xr;var Or=gr(Sr),In=gr(br);return Or.concat(In)},vr=gr(ot),hr=6;for(let mr=0,Er=vr.length;mr<Er;mr++){let Rr=tr(vr[mr]);Rr[0][0]-=hr,Rr[0][1]-=hr,Rr[0][2]-=hr,Rr[1][0]+=hr,Rr[1][1]+=hr,Rr[1][2]+=hr;let Cr=it.getAtomsWithin(_t,Rr),wr=it.getAtomsWithin(Mt,vr[mr]);Bt.push({extent:vr[mr],atoms:jt(Cr),toshow:jt(wr)})}return Bt}static generateSurfaceMesh(ot,_t,Mt){var Bt=new c.Geometry(!0),It=Bt.updateGeoGroup(0),jt=[];for(let eo=0,wo=ot.length;eo<wo;eo++){var tr=ot[eo];tr&&(typeof tr.surfaceColor<"u"?jt[eo]=tr.surfaceColor:tr.color&&(jt[eo]=g.CC.color(tr.color)))}var gr=It.vertexArray,vr=_t.vertices;for(let eo=0,wo=vr.length;eo<wo;eo++){let Vn=It.vertices*3;gr[Vn]=vr[eo].x,gr[Vn+1]=vr[eo].y,gr[Vn+2]=vr[eo].z,It.vertices++}var hr=It.colorArray;if(Mt.voldata&&Mt.volscheme){var mr=Mt.volscheme,Er=Mt.voldata,Rr=mr.range()||[-1,1];for(let eo=0,wo=vr.length;eo<wo;eo++){let Vn=Er.getVal(vr[eo].x,vr[eo].y,vr[eo].z),Kn=g.CC.color(mr.valueToHex(Vn,Rr)),to=eo*3;hr[to]=Kn.r,hr[to+1]=Kn.g,hr[to+2]=Kn.b}}else if(jt.length>0)for(let eo=0,wo=vr.length;eo<wo;eo++){let Vn=vr[eo].atomid,Kn=eo*3;hr[Kn]=jt[Vn].r,hr[Kn+1]=jt[Vn].g,hr[Kn+2]=jt[Vn].b}var Cr=_t.faces;It.faceidx=Cr.length,Bt.initTypedArrays();var wr=It.vertexArray,Sr=It.normalArray,br,xr,Or,In;for(let eo=0,wo=Cr.length;eo<wo;eo+=3){var Nn=Cr[eo],Hn=Cr[eo+1],Bn=Cr[eo+2],qn=Nn*3,Wn=Hn*3,Yn=Bn*3;br=new h.Vector3(wr[qn],wr[qn+1],wr[qn+2]),xr=new h.Vector3(wr[Wn],wr[Wn+1],wr[Wn+2]),Or=new h.Vector3(wr[Yn],wr[Yn+1],wr[Yn+2]),Or.subVectors(Or,xr),br.subVectors(br,xr),Or.cross(br),In=Or,In.normalize(),Sr[qn]+=In.x,Sr[Wn]+=In.x,Sr[Yn]+=In.x,Sr[qn+1]+=In.y,Sr[Wn+1]+=In.y,Sr[Yn+1]+=In.y,Sr[qn+2]+=In.z,Sr[Wn+2]+=In.z,Sr[Yn+2]+=In.z}It.faceArray=new Uint16Array(Cr);var po=new c.Mesh(Bt,Mt);return po}static generateMeshSyncHelper(ot,_t,Mt,Bt,It,jt){var tr=new wt.ProteinSurface;return tr.initparm(_t,ot!==1,jt),tr.fillvoxels(It,Mt),tr.buildboundary(),(ot==wt.SurfaceType.SES||ot==wt.SurfaceType.MS)&&(tr.fastdistancemap(),tr.boundingatom(!1),tr.fillvoxelswaals(It,Mt)),tr.marchingcube(ot),tr.getFacesAndVertices(Bt)}static getMatWithStyle(ot){var _t=new c.MeshLambertMaterial;_t.vertexColors=c.Coloring.VertexColors;for(var Mt in ot)Mt==="color"||Mt==="map"||ot.hasOwnProperty(Mt)&&(_t[Mt]=ot[Mt]);return ot.opacity!==void 0&&(ot.opacity===1?_t.transparent=!1:_t.transparent=!0),_t}addMesh(ot){var _t={geo:ot.geometry,mat:ot.material,done:!0,finished:!1},Mt=this.nextSurfID();return this.surfaces[Mt]=_t,Mt}static shallowCopy(ot){var _t=[];let Mt=ot.length;for(let Bt=0;Bt<Mt;Bt++)_t[Bt]=(0,b.extend)({},ot[Bt]);return _t}addSurface(ot,_t={},Mt={},Bt,It,jt){let tr=this.nextSurfID(),gr=null,vr=this,hr=wt.SurfaceType.VDW;typeof ot=="string"?it.surfaceTypeMap[ot.toUpperCase()]!==void 0?hr=it.surfaceTypeMap[ot]:console.log("Surface type : "+ot+" is not recognized"):typeof ot=="number"&&(hr=ot);var mr=null,Er=null,Rr=it.shallowCopy(this.getAtomsFromSel(Mt));Bt?mr=it.shallowCopy(this.getAtomsFromSel(Bt)):mr=Rr,(0,b.adjustVolumeStyle)(_t);var Cr=!1,wr;for(wr=0;wr<this.models.length;wr++)if(this.models[wr]){var Sr=this.models[wr].getSymmetries();if(Sr.length>1||Sr.length==1&&!Sr[0].isIdentity()){Cr=!0;break}}var br=function(qn,Wn,Yn){It?Er=it.shallowCopy(vr.getAtomsFromSel(It)):Er=Yn;var po,eo=(0,b.getExtent)(Yn,!0);if(_t.map&&_t.map.prop){var wo=_t.map.prop;let os=(0,$.getGradient)(_t.map.scheme||_t.map.gradient||new $.Gradient.RWB),as=os.range();as||(as=(0,b.getPropertyRange)(Yn,wo)),_t.colorscheme={prop:wo,gradient:os}}for(let os=0,as=Wn.length;os<as;os++)po=Wn[os],po.surfaceColor=(0,b.getColorFromStyle)(po,_t);var Vn=it.volume(eo),Kn=vr.carveUpExtent(eo,Wn,Yn);if(Er&&Er.length&&Er.length>0){var to=(0,b.getExtent)(Er,!0),fs=function(os,as){var gs=function(Pr,Fn){var Zn=Pr.extent,so=Zn[1][0]-Zn[0][0],rs=Zn[1][1]-Zn[0][1],ns=Zn[1][2]-Zn[0][2],jr=so-Fn[2][0];jr*=jr;var Qn=rs-Fn[2][1];Qn*=Qn;var co=ns-Fn[2][2];return co*=co,jr+Qn+co},vs=gs(os,to),tn=gs(as,to);return vs-tn};Kn.sort(fs)}var hs=[];for(let os=0,as=Wn.length;os<as;os++)po=Wn[os],hs[os]={x:po.x,y:po.y,z:po.z,serial:os,elem:po.elem};var Cs=!!wt.syncSurface;if(Cs){var ps=function(as){return new Promise(function(gs){for(var vs=it.generateMeshSyncHelper(hr,Kn[as].extent,Kn[as].atoms,Kn[as].toshow,hs,Vn),tn=(0,nt.splitMesh)({vertexArr:vs.vertices,faceArr:vs.faces}),Pr=0,Fn=tn.length;Pr<Fn;Pr++){vs={vertices:tn[Pr].vertexArr,faces:tn[Pr].faceArr};var Zn=it.generateSurfaceMesh(Wn,vs,gr);(0,b.mergeGeos)(qn.geo,Zn)}vr.render(),gs()})},ls=[];for(let os=0;os<Kn.length;os++)ls.push(ps(os));return Promise.all(ls).then(function(){return qn.done=!0,Promise.resolve(tr)})}else{var cs=[];hr<0&&(hr=0);for(let os=0,as=it.numWorkers;os<as;os++){var ss=new Worker($3Dmol.SurfaceWorker);cs.push(ss),ss.postMessage({type:-1,atoms:hs,volume:Vn})}return new Promise(function(os,as){var gs=0,vs=function(){!cs||!cs.length||cs.forEach(function(Zn){Zn&&Zn.terminate&&Zn.terminate()})},tn=function(Zn){for(var so=(0,nt.splitMesh)({vertexArr:Zn.data.vertices,faceArr:Zn.data.faces}),rs=0,ns=so.length;rs<ns;rs++){var jr={vertices:so[rs].vertexArr,faces:so[rs].faceArr},Qn=it.generateSurfaceMesh(Wn,jr,gr);(0,b.mergeGeos)(qn.geo,Qn)}vr.render(),gs++,gs==Kn.length&&(qn.done=!0,vs(),os(tr))},Pr=function(Zn){vs(),console.log(Zn.message+" ("+Zn.filename+":"+Zn.lineno+")"),as(Zn)};for(let Zn=0;Zn<Kn.length;Zn++){var Fn=cs[Zn%cs.length];Fn.onmessage=tn,Fn.onerror=Pr,Fn.postMessage({type:hr,expandedExtent:Kn[Zn].extent,extendedAtoms:Kn[Zn].atoms,atomsToShow:Kn[Zn].toshow})}})}};_t=_t||{},gr=it.getMatWithStyle(_t);var xr=[];xr.style=_t,xr.atomsel=Mt,xr.allsel=Bt,xr.focus=It;var Or=null;if(Cr){var In={},Nn={};for(wr=0;wr<this.models.length;wr++)In[wr]=[],Nn[wr]=[];for(wr=0;wr<mr.length;wr++)In[mr[wr].model].push(mr[wr]);for(wr=0;wr<Rr.length;wr++)Nn[Rr[wr].model].push(Rr[wr]);var Hn=[];for(wr=0;wr<this.models.length;wr++)Nn[wr].length>0&&(xr.push({geo:new c.Geometry(!0),mat:gr,done:!1,finished:!1,symmetries:this.models[wr].getSymmetries()}),Hn.push(br(xr[xr.length-1],In[wr],Nn[wr])));Or=Promise.all(Hn)}else xr.push({geo:new c.Geometry(!0),mat:gr,done:!1,finished:!1,symmetries:[new h.Matrix4]}),Or=br(xr[xr.length-1],mr,Rr);return this.surfaces[tr]=xr,Or.surfid=tr,jt&&typeof jt=="function"?(Or.then(function(Bn){jt(Bn)}),tr):Or}setSurfaceMaterialStyle(ot,_t){if((0,b.adjustVolumeStyle)(_t),this.surfaces[ot]){var Mt=this.surfaces[ot];Mt.style=_t;for(var Bt=0;Bt<Mt.length;Bt++){var It=Mt[Bt].mat=it.getMatWithStyle(_t);if(Mt[Bt].mat.side=c.FrontSide,_t.color){Mt[Bt].mat.color=_t.color,Mt[Bt].geo.colorsNeedUpdate=!0;const jt=g.CC.color(_t.color);Mt[Bt].geo.setColors(function(){return jt})}else if(It.voldata&&It.volscheme){const jt=It.volscheme,tr=It.voldata,gr=g.CC,vr=jt.range()||[-1,1];Mt[Bt].geo.setColors(function(hr,mr,Er){let Rr=tr.getVal(hr,mr,Er);return gr.color(jt.valueToHex(Rr,vr))})}Mt[Bt].finished=!1}}return this}getSurface(ot){return this.surfaces[ot]}removeSurface(ot){for(var _t=this.surfaces[ot],Mt=0;Mt<_t.length;Mt++)_t[Mt]&&_t[Mt].lastGL&&(_t[Mt].geo!==void 0&&_t[Mt].geo.dispose(),_t[Mt].mat!==void 0&&_t[Mt].mat.dispose(),this.modelGroup.remove(_t[Mt].lastGL));return delete this.surfaces[ot],this.show(),this}removeAllSurfaces(){for(var ot in this.surfaces)if(this.surfaces.hasOwnProperty(ot)){for(var _t=this.surfaces[ot],Mt=0;Mt<_t.length;Mt++)_t[Mt]&&_t[Mt].lastGL&&(_t[Mt].geo!==void 0&&_t[Mt].geo.dispose(),_t[Mt].mat!==void 0&&_t[Mt].mat.dispose(),this.modelGroup.remove(_t[Mt].lastGL));delete this.surfaces[ot]}return this.show(),this}jmolMoveTo(){var ot=this.modelGroup.position,_t="center { "+-ot.x+" "+-ot.y+" "+-ot.z+" }; ",Mt=this.rotationGroup.quaternion;return _t+="moveto .5 quaternion { "+Mt.x+" "+Mt.y+" "+Mt.z+" "+Mt.w+" };",_t}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(ot,_t){_t=_t||{};var Mt=this.getAtomsFromSel(_t);if(typeof ot=="function")for(let jt=0,tr=Mt.length;jt<tr;jt++){let gr=Mt[jt];ot(gr)}else for(let jt=0,tr=Mt.length;jt<tr;jt++){var Bt=Mt[jt];for(let gr=0,vr=ot.length;gr<vr;gr++){let hr=ot[gr];if(hr.props)for(var It in hr.props)hr.props.hasOwnProperty(It)&&this.atomIsSelected(Bt,hr)&&(Bt.properties||(Bt.properties={}),Bt.properties[It]=hr.props[It])}}return this}linkViewer(ot){return this.linkedViewers.push(ot),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(ot){this.rotationGroup.position.z=this.CAMERA_Z-ot}setAutoEyeSeparation(ot,_t){var Mt=this.getPerceivedDistance();return _t||(_t=5),ot||this.camera.position.x>0?this.camera.position.x=Mt*Math.tan(Math.PI/180*_t):this.camera.position.x=-Mt*Math.tan(Math.PI/180*_t),this.camera.lookAt(new h.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(ot){this.config.cartoonQuality=ot}}it.numWorkers=4,it.maxVolume=64e3,it.surfaceTypeMap={VDW:wt.SurfaceType.VDW,MS:wt.SurfaceType.MS,SAS:wt.SurfaceType.SAS,SES:wt.SurfaceType.SES};function st(Et,ot){if(Et=(0,b.getElement)(Et),!!Et){ot=ot||{};try{var _t=new it(Et,ot);return _t}catch(Mt){throw"error creating viewer: "+Mt}}}function bt(Et,ot={},_t={}){if(Et=(0,b.getElement)(Et),!!Et){var Mt=[],Bt=document.createElement("canvas");_t.rows=ot.rows,_t.cols=ot.cols,_t.control_all=ot.control_all!=null?ot.control_all:!1,Et.appendChild(Bt);try{for(var It=0;It<ot.rows;It++){for(var jt=[],tr=0;tr<ot.cols;tr++){_t.row=It,_t.col=tr,_t.canvas=Bt,_t.viewers=Mt,_t.control_all=ot.control_all;var gr=st(Et,(0,b.extend)({},_t));jt.push(gr)}Mt.unshift(jt)}}catch(vr){throw"error creating viewer grid: "+vr}return Mt}}function gt(Et){var ot=this;if(Et=(0,b.getElement)(Et),!!Et){var _t=bt(Et,{rows:1,cols:2,control_all:!0});this.glviewer1=_t[0][0],this.glviewer2=_t[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var Mt=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(It){return typeof ot.glviewer1[It]=="function"}),Bt=0;Bt<Mt.length;Bt++)this[Mt[Bt]]=function(It){return function(){var jt=this.glviewer1[It].apply(this.glviewer1,arguments),tr=this.glviewer2[It].apply(this.glviewer2,arguments);return[jt,tr]}}(Mt[Bt]);this.setCoordinates=function(It,jt,tr){for(var gr=0;gr<It.length;gr++)It[gr].setCoordinates(jt,tr)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(It){this.glviewer1.render(),this.glviewer2.render(),It&&It(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(a,o,e)=>{e.r(o),e.d(o,{CustomLinear:()=>nt,Gradient:()=>wt,GradientType:()=>h,ROYGB:()=>j,RWB:()=>$,Sinebow:()=>rt,builtinGradients:()=>pt,getGradient:()=>b,normalizeValue:()=>g});var c=e("./src/colors.ts");class h{}function g(Dt,Lt,it){return Lt>=Dt?(it<Dt&&(it=Dt),it>Lt&&(it=Lt),{lo:Dt,hi:Lt,val:it}):(it>Dt&&(it=Dt),it<Lt&&(it=Lt),it=Dt-it+Lt,{lo:Lt,hi:Dt,val:it})}function b(Dt){if(Dt instanceof h)return Dt;if(Dt.gradient!==void 0&&pt[Dt.gradient]){let Lt=Dt.min===void 0?-1:Dt.min,it=Dt.max===void 0?1:Dt.max;return Dt.mid===void 0?Dt.colors===void 0?new pt[Dt.gradient](Lt,it):new pt[Dt.gradient](Lt,it,Dt.colors):new pt[Dt.gradient](Lt,it,Dt.mid)}return Dt}class $ extends h{constructor(Lt,it,st){super(),this.gradient="RWB",this.mult=1,this.mid=st,this.min=Lt,this.max=it,typeof it>"u"&&Array.isArray(Lt)&&Lt.length>=2?(this.max=Lt[1],this.min=Lt[0]):Lt&&it&&!Array.isArray(Lt)&&(this.min=Lt,this.max=it)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(Lt,it){var st,bt;if(Lt=this.mult*Lt,it?(st=it[0],bt=it[1]):(st=this.min,bt=this.max),Lt===void 0)return 16777215;var gt=g(st,bt,Lt);st=gt.lo,bt=gt.hi,Lt=gt.val;var Et=(bt+st)/2;it&&typeof it[2]<"u"?Et=it[2]:typeof this.mid<"u"?Et=this.mid:Et=(st+bt)/2;var ot,_t;return Lt<Et?(ot=Math.floor(255*Math.sqrt((Lt-st)/(Et-st))),_t=16711680+256*ot+ot,_t):Lt>Et?(ot=Math.floor(255*Math.sqrt(1-(Lt-Et)/(bt-Et))),_t=65536*ot+256*ot+255,_t):16777215}}class j extends h{constructor(Lt,it){super(),this.gradient="ROYGB",this.mult=1,this.min=Lt,this.max=it,typeof it>"u"&&Array.isArray(Lt)&&Lt.length>=2?(this.max=Lt[1],this.min=Lt[0]):Lt&&it&&!Array.isArray(Lt)&&(this.min=Lt,this.max=it)}valueToHex(Lt,it){var st,bt;if(Lt=this.mult*Lt,it?(st=it[0],bt=it[1]):(st=this.min,bt=this.max),typeof Lt>"u")return 16777215;var gt=g(st,bt,Lt);st=gt.lo,bt=gt.hi,Lt=gt.val;var Et=(st+bt)/2,ot=(st+Et)/2,_t=(Et+bt)/2,Mt,Bt;return Lt<ot?(Mt=Math.floor(255*Math.sqrt((Lt-st)/(ot-st))),Bt=16711680+256*Mt+0,Bt):Lt<Et?(Mt=Math.floor(255*Math.sqrt(1-(Lt-ot)/(Et-ot))),Bt=65536*Mt+65280+0,Bt):Lt<_t?(Mt=Math.floor(255*Math.sqrt((Lt-Et)/(_t-Et))),Bt=65280+1*Mt,Bt):(Mt=Math.floor(255*Math.sqrt(1-(Lt-_t)/(bt-_t))),Bt=0+256*Mt+255,Bt)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class rt extends h{constructor(Lt,it){super(),this.gradient="Sinebow",this.mult=1,this.min=Lt,this.max=it,typeof it>"u"&&Array.isArray(Lt)&&Lt.length>=2&&(this.max=Lt[1],this.min=Lt[0]),it<Lt&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(Lt,it){var st,bt;if(Lt=this.mult*Lt,it?(st=it[0],bt=it[1]):(st=this.min,bt=this.max),typeof Lt>"u")return 16777215;var gt=wt.normalizeValue(st,bt,Lt);st=gt.lo,bt=gt.hi,Lt=gt.val;var Et=(Lt-st)/(bt-st),ot=5*Et/6+.5,_t=Math.sin(Math.PI*ot);_t*=_t*255;var Mt=Math.sin(Math.PI*(ot+1/3));Mt*=Mt*255;var Bt=Math.sin(Math.PI*(ot+2/3));return Bt*=Bt*255,65536*Math.floor(_t)+256*Math.floor(Bt)+1*Math.floor(Mt)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class nt extends h{constructor(Lt,it,st){super(),this.gradient="linear",this.colors=new Array;var bt;if(Array.isArray(Lt)&&Lt.length>=2?(this.max=Lt[1],this.min=Lt[0],bt=it):(this.min=Lt,this.max=it,bt=st),bt)for(let gt of bt)this.colors.push(c.CC.color(gt));else this.colors.push(c.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(Lt,it){var st,bt;if(it?(st=it[0],bt=it[1]):(st=this.min,bt=this.max),Lt===void 0)return 16777215;var gt=g(st,bt,Lt);st=gt.lo,bt=gt.hi,Lt=gt.val;let Et=this.colors.length,ot=(bt-st)/Et,_t=Math.min(Math.floor((Lt-st)/ot),Et-1),Mt=Math.min(_t+1,Et-1),Bt=(Lt-st-_t*ot)/ot,It=this.colors[_t],jt=this.colors[Mt];return new c.Color(It.r+Bt*(jt.r-It.r),It.g+Bt*(jt.g-It.g),It.b+Bt*(jt.b-It.b)).getHex()}}const pt={rwb:$,RWB:$,roygb:j,ROYGB:j,sinebow:rt,linear:nt};class wt extends h{valueToHex(Lt,it){return 0}range(){return null}}wt.RWB=$,wt.ROYGB=j,wt.Sinebow=rt,wt.CustomLinear=nt,wt.builtinGradients=pt,wt.normalizeValue=g,wt.getGradient=b},"./src/Label.ts":(a,o,e)=>{e.r(o),e.d(o,{Label:()=>rt,LabelCount:()=>b});var c=e("./src/WebGL/index.ts"),h=e("./src/Gradient.ts"),g=e("./src/colors.ts");let b=0;function $(nt,pt,wt,Dt,Lt,it,st){nt.beginPath(),nt.moveTo(pt+it,wt),nt.lineTo(pt+Dt-it,wt),nt.quadraticCurveTo(pt+Dt,wt,pt+Dt,wt+it),nt.lineTo(pt+Dt,wt+Lt-it),nt.quadraticCurveTo(pt+Dt,wt+Lt,pt+Dt-it,wt+Lt),nt.lineTo(pt+it,wt+Lt),nt.quadraticCurveTo(pt,wt+Lt,pt,wt+Lt-it),nt.lineTo(pt,wt+it),nt.quadraticCurveTo(pt,wt,pt+it,wt),nt.closePath(),nt.fill(),st&&nt.stroke()}function j(nt,pt,wt){var Dt=wt;return typeof nt<"u"&&(nt instanceof g.Color?Dt=nt.scaled():(Dt=g.CC.color(nt),typeof Dt.scaled<"u"&&(Dt=Dt.scaled()))),typeof pt<"u"&&(Dt.a=parseFloat(pt)),Dt}class rt{constructor(pt,wt){this.id=b++,this.stylespec=wt||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new c.Sprite,this.text=pt,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}setContext(){var pt=this.stylespec,wt=typeof pt.useScreen>"u"?!1:pt.useScreen,Dt=pt.showBackground;(Dt==="0"||Dt==="false")&&(Dt=!1),typeof Dt>"u"&&(Dt=!0);var Lt=pt.font?pt.font:"sans-serif",it=parseInt(pt.fontSize)?parseInt(pt.fontSize):18,st=j(pt.fontColor,pt.fontOpacity,{r:255,g:255,b:255,a:1}),bt=pt.padding?pt.padding:4,gt=pt.borderThickness?pt.borderThickness:0,Et=j(pt.backgroundColor,pt.backgroundOpacity,{r:0,g:0,b:0,a:1}),ot=j(pt.borderColor,pt.borderOpacity,Et),_t=pt.position?pt.position:{x:-10,y:1,z:1},Mt=pt.inFront!==void 0?pt.inFront:!0;(Mt==="false"||Mt==="0")&&(Mt=!1);var Bt=pt.alignment||c.SpriteAlignment.topLeft;typeof Bt=="string"&&Bt in c.SpriteAlignment&&(Bt=c.SpriteAlignment[Bt]);var It="";pt.bold&&(It="bold "),this.context.font=It+it+"px  "+Lt;var jt=this.context.measureText(this.text),tr=jt.width;Dt||(gt=0);var gr=tr+2.5*gt+2*bt,vr=it*1.25+2*gt+2*bt;if(pt.backgroundImage){var hr=pt.backgroundImage,mr=pt.backgroundWidth?pt.backgroundWidth:hr.width,Er=pt.backgroundHeight?pt.backgroundHeight:hr.height;mr>gr&&(gr=mr),Er>vr&&(vr=Er)}if(this.canvas.width=gr,this.canvas.height=vr,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),It="",pt.bold&&(It="bold "),this.context.font=It+it+"px  "+Lt,this.context.fillStyle="rgba("+Et.r+","+Et.g+","+Et.b+","+Et.a+")",this.context.strokeStyle="rgba("+ot.r+","+ot.g+","+ot.b+","+ot.a+")",pt.backgroundGradient){let Cr=this.context.createLinearGradient(0,vr/2,gr,vr/2),wr=h.Gradient.getGradient(pt.backgroundGradient),Sr=wr.range(),br=-1,xr=1;Sr&&(br=Sr[0],xr=Sr[1]);let Or=xr-br;for(let In=0;In<1.01;In+=.1){let Nn=j(wr.valueToHex(br+Or*In)),Hn="rgba("+Nn.r+","+Nn.g+","+Nn.b+","+Nn.a+")";Cr.addColorStop(In,Hn)}this.context.fillStyle=Cr}this.context.lineWidth=gt,Dt&&$(this.context,gt,gt,gr-2*gt,vr-2*gt,6,gt>0),pt.backgroundImage&&this.context.drawImage(hr,0,0,gr,vr),this.context.fillStyle="rgba("+st.r+","+st.g+","+st.b+","+st.a+")",this.context.fillText(this.text,gt+bt,it+gt+bt,tr);var Rr=new c.Texture(this.canvas);Rr.needsUpdate=!0,this.sprite.material=new c.SpriteMaterial({map:Rr,useScreenCoordinates:wt,alignment:Bt,depthTest:!Mt,screenOffset:pt.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(_t.x,_t.y,_t.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(a,o,e)=>{e.r(o),e.d(o,{MarchingCube:()=>j,MarchingCubeInitializer:()=>$,PointGrid:()=>rt,ProteinSurface:()=>nt,SurfaceType:()=>h,setSyncSurface:()=>b,syncSurface:()=>g});var c=e("./src/WebGL/math/index.ts"),h;(function(pt){pt[pt.VDW=1]="VDW",pt[pt.MS=2]="MS",pt[pt.SAS=3]="SAS",pt[pt.SES=4]="SES"})(h||(h={}));var g=!1;function b(pt){g=pt}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(g=!0);class ${constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(wt,Dt,Lt,it){let st=!!it.fulltable,bt=it.hasOwnProperty("origin")&&it.origin.hasOwnProperty("x")?it.origin:{x:0,y:0,z:0},gt=!!it.voxel,Et=it.matrix,ot=it.nX||0,_t=it.nY||0,Mt=it.nZ||0,Bt=it.scale||1,It=null;it.unitCube?It=it.unitCube:It={x:Bt,y:Bt,z:Bt};let jt=new Int32Array(ot*_t*Mt),tr,gr;for(tr=0,gr=jt.length;tr<gr;++tr)jt[tr]=-1;let vr=function(Rr,Cr,wr,Sr,br,xr){let Or={x:0,y:0,z:0},In=!!(Sr&1<<br),Nn=!!(Sr&1<<xr),Hn=br;if(!In&&Nn&&(Hn=xr),Hn&1&&wr++,Hn&2&&Cr++,Hn&4&&Rr++,Et){let qn=new c.Vector3(Rr,Cr,wr);qn=qn.applyMatrix4(Et),Or={x:qn.x,y:qn.y,z:qn.z}}else Or.x=bt.x+It.x*Rr,Or.y=bt.y+It.y*Cr,Or.z=bt.z+It.z*wr;let Bn=(_t*Rr+Cr)*Mt+wr;return gt?(Dt.push(Or),Dt.length-1):(jt[Bn]<0&&(jt[Bn]=Dt.length,Dt.push(Or)),jt[Bn])},hr=new Int32Array(12),mr=st?this.edgeTable2:this.edgeTable,Er=st?this.triTable2:this.triTable;for(tr=0;tr<ot-1;++tr)for(let Rr=0;Rr<_t-1;++Rr)for(let Cr=0;Cr<Mt-1;++Cr){let wr=0;for(let xr=0;xr<8;++xr){let Or=(_t*(tr+((xr&4)>>2))+Rr+((xr&2)>>1))*Mt+Cr+(xr&1),In=!!(wt[Or]&this.ISDONE);wr|=In<<xr}if(wr===0||wr===255)continue;let Sr=mr[wr];if(Sr===0)continue;let br=Er[wr];Sr&1&&(hr[0]=vr(tr,Rr,Cr,wr,0,1)),Sr&2&&(hr[1]=vr(tr,Rr,Cr,wr,1,3)),Sr&4&&(hr[2]=vr(tr,Rr,Cr,wr,3,2)),Sr&8&&(hr[3]=vr(tr,Rr,Cr,wr,2,0)),Sr&16&&(hr[4]=vr(tr,Rr,Cr,wr,4,5)),Sr&32&&(hr[5]=vr(tr,Rr,Cr,wr,5,7)),Sr&64&&(hr[6]=vr(tr,Rr,Cr,wr,7,6)),Sr&128&&(hr[7]=vr(tr,Rr,Cr,wr,6,4)),Sr&256&&(hr[8]=vr(tr,Rr,Cr,wr,0,4)),Sr&512&&(hr[9]=vr(tr,Rr,Cr,wr,1,5)),Sr&1024&&(hr[10]=vr(tr,Rr,Cr,wr,3,7)),Sr&2048&&(hr[11]=vr(tr,Rr,Cr,wr,2,6));for(let xr=0;xr<br.length;xr+=3){let Or=hr[br[xr]],In=hr[br[xr+1]],Nn=hr[br[xr+2]];gt&&xr>=3&&(Dt.push(Dt[Or]),Or=Dt.length-1,Dt.push(Dt[In]),In=Dt.length-1,Dt.push(Dt[Nn]),Nn=Dt.length-1),Lt.push(Or),Lt.push(In),Lt.push(Nn)}}}laplacianSmooth(wt,Dt,Lt){let it=new Array(Dt.length),st,bt,gt,Et,ot;for(st=0,bt=Dt.length;st<bt;st++)it[st]={x:0,y:0,z:0};let _t=new Array(20),Mt;for(st=0;st<20;st++)_t[st]=new Array(Dt.length);for(st=0,bt=Dt.length;st<bt;st++)_t[0][st]=0;for(st=0,bt=Lt.length/3;st<bt;st++){let jt=st*3,tr=st*3+1,gr=st*3+2;for(Mt=!0,gt=0,Et=_t[0][Lt[jt]];gt<Et;gt++)if(Lt[tr]==_t[gt+1][Lt[jt]]){Mt=!1;break}for(Mt&&(_t[0][Lt[jt]]++,_t[_t[0][Lt[jt]]][Lt[jt]]=Lt[tr]),Mt=!0,gt=0,Et=_t[0][Lt[jt]];gt<Et;gt++)if(Lt[gr]==_t[gt+1][Lt[jt]]){Mt=!1;break}for(Mt&&(_t[0][Lt[jt]]++,_t[_t[0][Lt[jt]]][Lt[jt]]=Lt[gr]),Mt=!0,gt=0,Et=_t[0][Lt[tr]];gt<Et;gt++)if(Lt[jt]==_t[gt+1][Lt[tr]]){Mt=!1;break}for(Mt&&(_t[0][Lt[tr]]++,_t[_t[0][Lt[tr]]][Lt[tr]]=Lt[jt]),Mt=!0,gt=0,Et=_t[0][Lt[tr]];gt<Et;gt++)if(Lt[gr]==_t[gt+1][Lt[tr]]){Mt=!1;break}for(Mt&&(_t[0][Lt[tr]]++,_t[_t[0][Lt[tr]]][Lt[tr]]=Lt[gr]),Mt=!0,gt=0;gt<_t[0][Lt[gr]];gt++)if(Lt[jt]==_t[gt+1][Lt[gr]]){Mt=!1;break}for(Mt&&(_t[0][Lt[gr]]++,_t[_t[0][Lt[gr]]][Lt[gr]]=Lt[jt]),Mt=!0,gt=0,Et=_t[0][Lt[gr]];gt<Et;gt++)if(Lt[tr]==_t[gt+1][Lt[gr]]){Mt=!1;break}Mt&&(_t[0][Lt[gr]]++,_t[_t[0][Lt[gr]]][Lt[gr]]=Lt[tr])}let Bt=1,It=.5;for(ot=0;ot<wt;ot++){for(st=0,bt=Dt.length;st<bt;st++)if(_t[0][st]<3)it[st].x=Dt[st].x,it[st].y=Dt[st].y,it[st].z=Dt[st].z;else if(_t[0][st]==3||_t[0][st]==4){for(it[st].x=0,it[st].y=0,it[st].z=0,gt=0,Et=_t[0][st];gt<Et;gt++)it[st].x+=Dt[_t[gt+1][st]].x,it[st].y+=Dt[_t[gt+1][st]].y,it[st].z+=Dt[_t[gt+1][st]].z;it[st].x+=It*Dt[st].x,it[st].y+=It*Dt[st].y,it[st].z+=It*Dt[st].z,it[st].x/=It+_t[0][st],it[st].y/=It+_t[0][st],it[st].z/=It+_t[0][st]}else{for(it[st].x=0,it[st].y=0,it[st].z=0,gt=0,Et=_t[0][st];gt<Et;gt++)it[st].x+=Dt[_t[gt+1][st]].x,it[st].y+=Dt[_t[gt+1][st]].y,it[st].z+=Dt[_t[gt+1][st]].z;it[st].x+=Bt*Dt[st].x,it[st].y+=Bt*Dt[st].y,it[st].z+=Bt*Dt[st].z,it[st].x/=Bt+_t[0][st],it[st].y/=Bt+_t[0][st],it[st].z/=Bt+_t[0][st]}for(st=0,bt=Dt.length;st<bt;st++)Dt[st].x=it[st].x,Dt[st].y=it[st].y,Dt[st].z=it[st].z}}}let j=new $;class rt{constructor(wt,Dt,Lt){this.data=new Int32Array(wt*Dt*Lt*3),this.width=Dt,this.height=Lt}set(wt,Dt,Lt,it){let st=((wt*this.width+Dt)*this.height+Lt)*3;this.data[st]=it.ix,this.data[st+1]=it.iy,this.data[st+2]=it.iz}get(wt,Dt,Lt){let it=((wt*this.width+Dt)*this.height+Lt)*3;return{ix:this.data[it],iy:this.data[it+1],iz:this.data[it+2]}}}class nt{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],nt.MarchingCube||(nt.MarchingCube=new $)}getVDWIndex(wt){return!wt.elem||typeof this.vdwRadii[wt.elem]>"u"?"X":wt.elem}getFacesAndVertices(wt){let Dt={};for(let st=0,bt=wt.length;st<bt;st++)Dt[wt[st]]=!0;let Lt=this.verts;for(let st=0,bt=Lt.length;st<bt;st++)Lt[st].x=Lt[st].x/this.scaleFactor-this.ptranx,Lt[st].y=Lt[st].y/this.scaleFactor-this.ptrany,Lt[st].z=Lt[st].z/this.scaleFactor-this.ptranz;let it=[];for(let st=0,bt=this.faces.length;st<bt;st+=3){let gt=this.faces[st],Et=this.faces[st+1],ot=this.faces[st+2],_t=Lt[gt].atomid,Mt=Lt[Et].atomid,Bt=Lt[ot].atomid,It=_t;Mt<It&&(It=Mt),Bt<It&&(It=Bt),Dt[It]&&gt!==Et&&Et!==ot&&gt!==ot&&(it.push(gt),it.push(Et),it.push(ot))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:Lt,faces:it}}initparm(wt,Dt,Lt){Lt>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let it=1/this.scaleFactor*5.5;this.pminx=wt[0][0],this.pmaxx=wt[1][0],this.pminy=wt[0][1],this.pmaxy=wt[1][1],this.pminz=wt[0][2],this.pmaxz=wt[1][2],Dt?(this.pminx-=this.probeRadius+it,this.pminy-=this.probeRadius+it,this.pminz-=this.probeRadius+it,this.pmaxx+=this.probeRadius+it,this.pmaxy+=this.probeRadius+it,this.pmaxz+=this.probeRadius+it):(this.pminx-=it,this.pminy-=it,this.pminz-=it,this.pmaxx+=it,this.pmaxy+=it,this.pmaxz+=it),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(Dt),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(wt){let Dt={};for(const Lt in this.vdwRadii){let it=this.vdwRadii[Lt];wt?Dt[Lt]=(it+this.probeRadius)*this.scaleFactor+.5:Dt[Lt]=it*this.scaleFactor+.5;let st=Dt[Lt]*Dt[Lt];this.widxz[Lt]=Math.floor(Dt[Lt])+1,this.depty[Lt]=new Int32Array(this.widxz[Lt]*this.widxz[Lt]);let bt=0;for(let gt=0;gt<this.widxz[Lt];gt++)for(let Et=0;Et<this.widxz[Lt];Et++){let ot=gt*gt+Et*Et;if(ot>st)this.depty[Lt][bt]=-1;else{let _t=Math.sqrt(st-ot);this.depty[Lt][bt]=Math.floor(_t)}bt++}}}fillvoxels(wt,Dt){for(let Lt=0,it=this.vpBits.length;Lt<it;Lt++)this.vpBits[Lt]=0,this.vpDistance[Lt]=-1,this.vpAtomID[Lt]=-1;for(let Lt in Dt){let it=wt[Dt[Lt]];it!==void 0&&this.fillAtom(it,wt)}for(let Lt=0,it=this.vpBits.length;Lt<it;Lt++)this.vpBits[Lt]&this.INOUT&&(this.vpBits[Lt]|=this.ISDONE)}fillAtom(wt,Dt){let Lt=Math.floor(.5+this.scaleFactor*(wt.x+this.ptranx)),it=Math.floor(.5+this.scaleFactor*(wt.y+this.ptrany)),st=Math.floor(.5+this.scaleFactor*(wt.z+this.ptranz)),bt=this.getVDWIndex(wt),gt=0,Et=this.pWidth*this.pHeight;for(let ot=0,_t=this.widxz[bt];ot<_t;ot++)for(let Mt=0;Mt<_t;Mt++){if(this.depty[bt][gt]!=-1){for(let Bt=-1;Bt<2;Bt++)for(let It=-1;It<2;It++)for(let jt=-1;jt<2;jt++)if(Bt!==0&&It!==0&&jt!==0){let tr=Bt*ot,gr=jt*Mt;for(let vr=0;vr<=this.depty[bt][gt];vr++){let hr=vr*It,mr=Lt+tr,Er=it+hr,Rr=st+gr;if(mr<0||Er<0||Rr<0||mr>=this.pLength||Er>=this.pWidth||Rr>=this.pHeight)continue;let Cr=mr*Et+Er*this.pHeight+Rr;if(!(this.vpBits[Cr]&this.INOUT))this.vpBits[Cr]|=this.INOUT,this.vpAtomID[Cr]=wt.serial;else{let wr=Dt[this.vpAtomID[Cr]];if(wr.serial!=wt.serial){let Sr=Lt+tr-Math.floor(.5+this.scaleFactor*(wr.x+this.ptranx)),br=it+hr-Math.floor(.5+this.scaleFactor*(wr.y+this.ptrany)),xr=st+gr-Math.floor(.5+this.scaleFactor*(wr.z+this.ptranz));tr*tr+hr*hr+gr*gr<Sr*Sr+br*br+xr*xr&&(this.vpAtomID[Cr]=wt.serial)}}}}}gt++}}fillvoxelswaals(wt,Dt){for(let Lt=0,it=this.vpBits.length;Lt<it;Lt++)this.vpBits[Lt]&=~this.ISDONE;for(let Lt in Dt){let it=wt[Dt[Lt]];it!==void 0&&this.fillAtomWaals(it,wt)}}fillAtomWaals(wt,Dt){let Lt=0,it=Math.floor(.5+this.scaleFactor*(wt.x+this.ptranx)),st=Math.floor(.5+this.scaleFactor*(wt.y+this.ptrany)),bt=Math.floor(.5+this.scaleFactor*(wt.z+this.ptranz)),gt=this.getVDWIndex(wt),Et=this.pWidth*this.pHeight;for(let ot=0,_t=this.widxz[gt];ot<_t;ot++)for(let Mt=0;Mt<_t;Mt++){if(this.depty[gt][Lt]!=-1){for(let Bt=-1;Bt<2;Bt++)for(let It=-1;It<2;It++)for(let jt=-1;jt<2;jt++)if(Bt!==0&&It!==0&&jt!==0){let tr=Bt*ot,gr=jt*Mt;for(let vr=0;vr<=this.depty[gt][Lt];vr++){let hr=vr*It,mr=it+tr,Er=st+hr,Rr=bt+gr;if(mr<0||Er<0||Rr<0||mr>=this.pLength||Er>=this.pWidth||Rr>=this.pHeight)continue;let Cr=mr*Et+Er*this.pHeight+Rr;if(!(this.vpBits[Cr]&this.ISDONE))this.vpBits[Cr]|=this.ISDONE,this.vpAtomID[Cr]=wt.serial;else{let wr=Dt[this.vpAtomID[Cr]];if(wr.serial!=wt.serial){let Sr=it+tr-Math.floor(.5+this.scaleFactor*(wr.x+this.ptranx)),br=st+hr-Math.floor(.5+this.scaleFactor*(wr.y+this.ptrany)),xr=bt+gr-Math.floor(.5+this.scaleFactor*(wr.z+this.ptranz));tr*tr+hr*hr+gr*gr<Sr*Sr+br*br+xr*xr&&(this.vpAtomID[Cr]=wt.serial)}}}}}Lt++}}buildboundary(){let wt=this.pWidth*this.pHeight;for(let Dt=0;Dt<this.pLength;Dt++)for(let Lt=0;Lt<this.pHeight;Lt++)for(let it=0;it<this.pWidth;it++){let st=Dt*wt+it*this.pHeight+Lt;if(this.vpBits[st]&this.INOUT){let bt=0;for(;bt<26;){let gt=Dt+this.nb[bt][0],Et=Lt+this.nb[bt][2],ot=it+this.nb[bt][1];if(gt>-1&&gt<this.pLength&&ot>-1&&ot<this.pWidth&&Et>-1&&Et<this.pHeight&&!(this.vpBits[gt*wt+ot*this.pHeight+Et]&this.INOUT)){this.vpBits[st]|=this.ISBOUND;break}else bt++}}}}fastdistancemap(){let wt=new rt(this.pLength,this.pWidth,this.pHeight),Dt=this.pWidth*this.pHeight,Lt=this.cutRadius*this.cutRadius,it=[],st=[],bt;for(let ot=0;ot<this.pLength;ot++)for(let _t=0;_t<this.pWidth;_t++)for(let Mt=0;Mt<this.pHeight;Mt++)if(bt=ot*Dt+_t*this.pHeight+Mt,this.vpBits[bt]&=~this.ISDONE,this.vpBits[bt]&this.INOUT&&this.vpBits[bt]&this.ISBOUND){let Bt={ix:ot,iy:_t,iz:Mt};wt.set(ot,_t,Mt,Bt),it.push(Bt),this.vpDistance[bt]=0,this.vpBits[bt]|=this.ISDONE,this.vpBits[bt]&=~this.ISBOUND}do{st=this.fastoneshell(it,wt),it=[];for(let ot=0,_t=st.length;ot<_t;ot++)bt=Dt*st[ot].ix+this.pHeight*st[ot].iy+st[ot].iz,this.vpBits[bt]&=~this.ISBOUND,this.vpDistance[bt]<=1.0404*Lt&&it.push({ix:st[ot].ix,iy:st[ot].iy,iz:st[ot].iz})}while(it.length!==0);it=[],st=[],wt=null;let gt=this.scaleFactor-.5;gt<0&&(gt=0);let Et=Lt-.5/(.1+gt);for(let ot=0;ot<this.pLength;ot++)for(let _t=0;_t<this.pWidth;_t++)for(let Mt=0;Mt<this.pHeight;Mt++)bt=ot*Dt+_t*this.pHeight+Mt,this.vpBits[bt]&=~this.ISBOUND,this.vpBits[bt]&this.INOUT&&(!(this.vpBits[bt]&this.ISDONE)||this.vpBits[bt]&this.ISDONE&&this.vpDistance[bt]>=Et)&&(this.vpBits[bt]|=this.ISBOUND)}fastoneshell(wt,Dt){let Lt,it,st,bt,gt,Et,ot,_t,Mt,Bt=[];if(wt.length===0)return Bt;let It={ix:-1,iy:-1,iz:-1},jt=this.pWidth*this.pHeight;for(let tr=0,gr=wt.length;tr<gr;tr++){Lt=wt[tr].ix,it=wt[tr].iy,st=wt[tr].iz,_t=Dt.get(Lt,it,st);for(let vr=0;vr<6;vr++)It.ix=Lt+this.nb[vr][0],It.iy=it+this.nb[vr][1],It.iz=st+this.nb[vr][2],It.ix<this.pLength&&It.ix>-1&&It.iy<this.pWidth&&It.iy>-1&&It.iz<this.pHeight&&It.iz>-1&&(Mt=It.ix*jt+this.pHeight*It.iy+It.iz,this.vpBits[Mt]&this.INOUT&&!(this.vpBits[Mt]&this.ISDONE)?(Dt.set(It.ix,It.iy,st+this.nb[vr][2],_t),bt=It.ix-_t.ix,gt=It.iy-_t.iy,Et=It.iz-_t.iz,ot=bt*bt+gt*gt+Et*Et,this.vpDistance[Mt]=ot,this.vpBits[Mt]|=this.ISDONE,this.vpBits[Mt]|=this.ISBOUND,Bt.push({ix:It.ix,iy:It.iy,iz:It.iz})):this.vpBits[Mt]&this.INOUT&&this.vpBits[Mt]&this.ISDONE&&(bt=It.ix-_t.ix,gt=It.iy-_t.iy,Et=It.iz-_t.iz,ot=bt*bt+gt*gt+Et*Et,ot<this.vpDistance[Mt]&&(Dt.set(It.ix,It.iy,It.iz,_t),this.vpDistance[Mt]=ot,this.vpBits[Mt]&this.ISBOUND||(this.vpBits[Mt]|=this.ISBOUND,Bt.push({ix:It.ix,iy:It.iy,iz:It.iz})))))}for(let tr=0,gr=wt.length;tr<gr;tr++){Lt=wt[tr].ix,it=wt[tr].iy,st=wt[tr].iz,_t=Dt.get(Lt,it,st);for(let vr=6;vr<18;vr++)It.ix=Lt+this.nb[vr][0],It.iy=it+this.nb[vr][1],It.iz=st+this.nb[vr][2],It.ix<this.pLength&&It.ix>-1&&It.iy<this.pWidth&&It.iy>-1&&It.iz<this.pHeight&&It.iz>-1&&(Mt=It.ix*jt+this.pHeight*It.iy+It.iz,this.vpBits[Mt]&this.INOUT&&!(this.vpBits[Mt]&this.ISDONE)?(Dt.set(It.ix,It.iy,st+this.nb[vr][2],_t),bt=It.ix-_t.ix,gt=It.iy-_t.iy,Et=It.iz-_t.iz,ot=bt*bt+gt*gt+Et*Et,this.vpDistance[Mt]=ot,this.vpBits[Mt]|=this.ISDONE,this.vpBits[Mt]|=this.ISBOUND,Bt.push({ix:It.ix,iy:It.iy,iz:It.iz})):this.vpBits[Mt]&this.INOUT&&this.vpBits[Mt]&this.ISDONE&&(bt=It.ix-_t.ix,gt=It.iy-_t.iy,Et=It.iz-_t.iz,ot=bt*bt+gt*gt+Et*Et,ot<this.vpDistance[Mt]&&(Dt.set(It.ix,It.iy,It.iz,_t),this.vpDistance[Mt]=ot,this.vpBits[Mt]&this.ISBOUND||(this.vpBits[Mt]|=this.ISBOUND,Bt.push({ix:It.ix,iy:It.iy,iz:It.iz})))))}for(let tr=0,gr=wt.length;tr<gr;tr++){Lt=wt[tr].ix,it=wt[tr].iy,st=wt[tr].iz,_t=Dt.get(Lt,it,st);for(let vr=18;vr<26;vr++)It.ix=Lt+this.nb[vr][0],It.iy=it+this.nb[vr][1],It.iz=st+this.nb[vr][2],It.ix<this.pLength&&It.ix>-1&&It.iy<this.pWidth&&It.iy>-1&&It.iz<this.pHeight&&It.iz>-1&&(Mt=It.ix*jt+this.pHeight*It.iy+It.iz,this.vpBits[Mt]&this.INOUT&&!(this.vpBits[Mt]&this.ISDONE)?(Dt.set(It.ix,It.iy,st+this.nb[vr][2],_t),bt=It.ix-_t.ix,gt=It.iy-_t.iy,Et=It.iz-_t.iz,ot=bt*bt+gt*gt+Et*Et,this.vpDistance[Mt]=ot,this.vpBits[Mt]|=this.ISDONE,this.vpBits[Mt]|=this.ISBOUND,Bt.push({ix:It.ix,iy:It.iy,iz:It.iz})):this.vpBits[Mt]&this.INOUT&&this.vpBits[Mt]&this.ISDONE&&(bt=It.ix-_t.ix,gt=It.iy-_t.iy,Et=It.iz-_t.iz,ot=bt*bt+gt*gt+Et*Et,ot<this.vpDistance[Mt]&&(Dt.set(It.ix,It.iy,It.iz,_t),this.vpDistance[Mt]=ot,this.vpBits[Mt]&this.ISBOUND||(this.vpBits[Mt]|=this.ISBOUND,Bt.push({ix:It.ix,iy:It.iy,iz:It.iz})))))}return Bt}marchingcubeinit(wt){for(let Dt=0,Lt=this.vpBits.length;Dt<Lt;Dt++)wt==1?this.vpBits[Dt]&=~this.ISBOUND:wt==4?(this.vpBits[Dt]&=~this.ISDONE,this.vpBits[Dt]&this.ISBOUND&&(this.vpBits[Dt]|=this.ISDONE),this.vpBits[Dt]&=~this.ISBOUND):wt==2?this.vpBits[Dt]&this.ISBOUND&&this.vpBits[Dt]&this.ISDONE?this.vpBits[Dt]&=~this.ISBOUND:this.vpBits[Dt]&this.ISBOUND&&!(this.vpBits[Dt]&this.ISDONE)&&(this.vpBits[Dt]|=this.ISDONE):wt==3&&(this.vpBits[Dt]&=~this.ISBOUND)}marchingcube(wt){this.marchingcubeinit(wt),this.verts=[],this.faces=[],nt.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let Dt=this.pWidth*this.pHeight;for(let Lt=0,it=this.verts.length;Lt<it;Lt++)this.verts[Lt].atomid=this.vpAtomID[this.verts[Lt].x*Dt+this.pHeight*this.verts[Lt].y+this.verts[Lt].z];nt.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}nt.MarchingCube=new $},"./src/VolumeData.ts":(a,o,e)=>{e.r(o),e.d(o,{VolumeData:()=>j});var c=e("./src/utilities.ts"),h=e("./src/WebGL/math/index.ts"),g=e("./src/parsers/VASP.ts"),b=e("./src/parsers/CUBE.ts"),$=e("./node_modules/pako/dist/pako.esm.mjs");class j{constructor(nt,pt,wt){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(bt){var gt=bt/(this.size.y*this.size.z),Et=bt%(this.size.y*this.size.z),ot=bt%this.size.z;return gt*=this.unit.x,Et*=this.unit.y,ot*=this.unit.z,gt+=this.origin.x,Et+=this.origin.y,ot+=this.origin.z,{x:gt,y:Et,z:ot}},this.vasp=function(bt){var gt=bt.replace(/^\s+/,"").split(/[\n\r]/),Et=(0,g.VASP)(bt)[0],ot=Et.length;if(ot==0){console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var _t=1.889725992,Mt=.036749309,Bt=parseFloat(gt[1]),It;It=gt[2].replace(/^\s+/,"").split(/\s+/);var jt=new h.Vector3(parseFloat(It[0]),parseFloat(It[1]),parseFloat(It[2])).multiplyScalar(Bt*_t);It=gt[3].replace(/^\s+/,"").split(/\s+/);var tr=new h.Vector3(parseFloat(It[0]),parseFloat(It[1]),parseFloat(It[2])).multiplyScalar(Bt*_t);It=gt[4].replace(/^\s+/,"").split(/\s+/);var gr=new h.Vector3(parseFloat(It[0]),parseFloat(It[1]),parseFloat(It[2])).multiplyScalar(Bt*_t),vr=jt.x*(tr.y*gr.z-gr.y*tr.z)-tr.x*(jt.y*gr.z-gr.y*jt.z)+gr.x*(jt.y*tr.z-tr.y*jt.z);vr=Math.abs(vr)/Math.pow(_t,3);var hr=1/vr;gt.splice(0,8+ot+1);var mr=gt[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Er=Math.abs(parseFloat(mr[0])),Rr=Math.abs(parseFloat(mr[1])),Cr=Math.abs(parseFloat(mr[2])),wr=this.origin=new h.Vector3(0,0,0);this.size={x:Er,y:Rr,z:Cr},this.unit=new h.Vector3(jt.x,tr.y,gr.z),jt=jt.multiplyScalar(1/(_t*Er)),tr=tr.multiplyScalar(1/(_t*Rr)),gr=gr.multiplyScalar(1/(_t*Cr)),(jt.y!=0||jt.z!=0||tr.x!=0||tr.z!=0||gr.x!=0||gr.y!=0)&&(this.matrix=new h.Matrix4(jt.x,tr.x,gr.x,0,jt.y,tr.y,gr.y,0,jt.z,tr.z,gr.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new h.Matrix4().makeTranslation(wr.x,wr.y,wr.z)),this.origin=new h.Vector3(0,0,0),this.unit=new h.Vector3(1,1,1)),gt.splice(0,1);var Sr=gt.join(" ");Sr=Sr.replace(/^\s+/,"");var br=Sr.split(/[\s\r]+/);br.splice(Er*Rr*Cr+1);for(var xr=Float32Array.from(br,parseFloat),Or=0;Or<xr.length;Or++)xr[Or]=xr[Or]*hr*Mt;this.data=xr},this.dx=function(bt){var gt=bt.split(/[\n\r]+/),Et,ot=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,_t=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,Mt=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,Bt=/data follows/,It=0;for(It=0;It<gt.length;It++){var jt=gt[It];if(Et=ot.exec(jt)){var tr=parseInt(Et[1]),gr=parseInt(Et[2]),vr=parseInt(Et[3]);this.size={x:tr,y:gr,z:vr}}else if(Et=Mt.exec(jt)){var hr=parseFloat(Et[1]);if((parseFloat(Et[2])!=0||parseFloat(Et[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),It+=1,jt=gt[It],Et=Mt.exec(jt),Et==null){console.log("Parse error in dx delta matrix");return}var mr=parseFloat(Et[2]);if((parseFloat(Et[1])!=0||parseFloat(Et[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),It+=1,jt=gt[It],Et=Mt.exec(jt),Et==null){console.log("Parse error in dx delta matrix");return}var Er=parseFloat(Et[3]);(parseFloat(Et[1])!=0||parseFloat(Et[2])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new h.Vector3(hr,mr,Er)}else if(Et=_t.exec(jt)){var Rr=parseFloat(Et[1]),Cr=parseFloat(Et[2]),wr=parseFloat(Et[3]);this.origin=new h.Vector3(Rr,Cr,wr)}else if(Et=Bt.exec(jt))break}if(It+=1,!this.size||!this.origin||!this.unit||!this.size){console.log("Error parsing dx format");return}var Sr=gt.splice(It).join(" "),br=Sr.split(/[\s\r]+/);this.data=Float32Array.from(br,parseFloat)},pt=pt.toLowerCase(),/\.gz$/.test(pt)){pt=pt.replace(/\.gz$/,"");try{this[pt]&&this.isbinary.has(pt)?(typeof nt=="string"&&(nt=(0,c.base64ToArray)(nt)),nt=(0,$.inflate)(nt)):nt=new TextDecoder("utf-8").decode((0,$.inflate)(nt))}catch(bt){console.log(bt)}}if(this[pt]&&(this.isbinary.has(pt)&&typeof nt=="string"&&(nt=(0,c.base64ToArray)(nt)),this[pt](nt)),wt){if(wt.negate)for(let bt=0,gt=this.data.length;bt<gt;bt++)this.data[bt]=-this.data[bt];if(wt.normalize){var Dt=0;for(let bt=0,gt=this.data.length;bt<gt;bt++)Dt+=this.data[bt];var Lt=Dt/this.data.length;Dt=0;for(let bt=0,gt=this.data.length;bt<gt;bt++){var it=this.data[bt]-Lt;Dt+=it*it}var st=Dt/this.data.length;for(let bt=0,gt=this.data.length;bt<gt;bt++)this.data[bt]=(this.data[bt]-Lt)/st}}}getIndex(nt,pt,wt){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new h.Matrix4().getInverse(this.matrix));var Dt=new h.Vector3(nt,pt,wt);Dt=Dt.applyMatrix4(this.inversematrix),nt=Dt.x,pt=Dt.y,wt=Dt.z}else nt-=this.origin.x,pt-=this.origin.y,wt-=this.origin.z,nt/=this.unit.x,pt/=this.unit.y,wt/=this.unit.z;return nt=Math.round(nt),pt=Math.round(pt),wt=Math.round(wt),nt<0||nt>=this.size.x||pt<0||pt>=this.size.y||wt<0||wt>=this.size.z?-1:nt*this.size.y*this.size.z+pt*this.size.z+wt}getVal(nt,pt,wt){let Dt=this.getIndex(nt,pt,wt);return Dt<0?0:this.data[Dt]}cube(nt){var pt=nt.split(/\r?\n/);if(!(pt.length<6)){var wt=(0,b.CUBE)(nt,{}).modelData[0].cryst,Dt=pt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Lt=parseFloat(Dt[0]),it=Math.abs(Lt);this.origin=wt.origin,this.size=wt.size,this.unit=wt.unit,this.matrix=wt.matrix4;var st=6;Lt<0&&st++;var bt=pt.splice(it+st).join(" ");bt=bt.replace(/^\s+/,"");var gt=bt.split(/[\s\r]+/);this.data=Float32Array.from(gt,parseFloat)}}ccp4(nt){var pt={};nt=new Int8Array(nt);var wt=new Int32Array(nt.buffer,0,56),Dt=new Float32Array(nt.buffer,0,56),Lt=new DataView(nt.buffer);if(pt.MAP=String.fromCharCode(Lt.getUint8(208),Lt.getUint8(209),Lt.getUint8(210),Lt.getUint8(211)),pt.MACHST=[Lt.getUint8(212),Lt.getUint8(213)],pt.MACHST[0]===17&&pt.MACHST[1]===17)for(var it=nt.byteLength,st=0;st<it;st+=4)Lt.setFloat32(st,Lt.getFloat32(st),!0);pt.NX=wt[0],pt.NY=wt[1],pt.NZ=wt[2],pt.MODE=wt[3],pt.NXSTART=wt[4],pt.NYSTART=wt[5],pt.NZSTART=wt[6],pt.MX=wt[7],pt.MY=wt[8],pt.MZ=wt[9],pt.xlen=Dt[10],pt.ylen=Dt[11],pt.zlen=Dt[12],pt.alpha=Dt[13],pt.beta=Dt[14],pt.gamma=Dt[15],pt.MAPC=wt[16],pt.MAPR=wt[17],pt.MAPS=wt[18],pt.DMIN=Dt[19],pt.DMAX=Dt[20],pt.DMEAN=Dt[21],pt.ISPG=wt[22],pt.NSYMBT=wt[23],pt.LSKFLG=wt[24],pt.originX=Dt[49],pt.originY=Dt[50],pt.originZ=Dt[51],pt.ARMS=Dt[54];var bt=pt,gt=[bt.xlen,0,0],Et=[bt.ylen*Math.cos(Math.PI/180*bt.gamma),bt.ylen*Math.sin(Math.PI/180*bt.gamma),0],ot=[bt.zlen*Math.cos(Math.PI/180*bt.beta),bt.zlen*(Math.cos(Math.PI/180*bt.alpha)-Math.cos(Math.PI/180*bt.gamma)*Math.cos(Math.PI/180*bt.beta))/Math.sin(Math.PI/180*bt.gamma),0];ot[2]=Math.sqrt(bt.zlen*bt.zlen*Math.sin(Math.PI/180*bt.beta)*Math.sin(Math.PI/180*bt.beta)-ot[1]*ot[1]);var _t=[0,gt,Et,ot],Mt=[0,bt.MX,bt.MY,bt.MZ],Bt=[0,bt.MAPC,bt.MAPR,bt.MAPS];this.matrix=new h.Matrix4,this.matrix.set(_t[Bt[1]][0]/Mt[Bt[1]],_t[Bt[2]][0]/Mt[Bt[2]],_t[Bt[3]][0]/Mt[Bt[3]],0,_t[Bt[1]][1]/Mt[Bt[1]],_t[Bt[2]][1]/Mt[Bt[2]],_t[Bt[3]][1]/Mt[Bt[3]],0,_t[Bt[1]][2]/Mt[Bt[1]],_t[Bt[2]][2]/Mt[Bt[2]],_t[Bt[3]][2]/Mt[Bt[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new h.Matrix4().makeTranslation(bt.NXSTART+bt.originX,bt.NYSTART+bt.originY,bt.NZSTART+bt.originZ)),this.origin=new h.Vector3(0,0,0),this.unit=new h.Vector3(1,1,1),this.size={x:pt.NX,y:pt.NY,z:pt.NZ},this.dimensionorder=[pt.MAPC,pt.MAPR,pt.MAPS];var It=new Float32Array(nt.buffer,1024+pt.NSYMBT),jt=pt.NX,tr=pt.NY,gr=pt.NZ;this.data=new Float32Array(jt*tr*gr);for(let vr=0;vr<jt;vr++)for(let hr=0;hr<tr;hr++)for(let mr=0;mr<gr;mr++)this.data[(vr*tr+hr)*gr+mr]=It[(mr*tr+hr)*jt+vr]}}},"./src/VolumetricRender.ts":(a,o,e)=>{e.r(o),e.d(o,{GLVolumetricRender:()=>j});var c=e("./src/WebGL/shapes/index.ts"),h=e("./src/WebGL/math/index.ts"),g=e("./src/WebGL/index.ts"),b=e("./src/colors.ts"),$=e("./src/GLShape.ts");class j{static interpolateArray(nt,pt){function wt(ot,_t,Mt){return ot+(_t-ot)*Mt}var Dt=[],Lt=(nt.length-1)/(pt-1);Dt[0]=nt[0];for(var it=1;it<pt-1;it++){var st=it*Lt,bt=Math.floor(st),gt=Math.ceil(st),Et=st-bt;Dt[it]=wt(nt[bt],nt[gt],Et)}return Dt[pt-1]=nt[nt.length-1],Dt}constructor(nt,pt){this.hidden=!1,this.boundingSphere=new c.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,pt=pt||{};var wt=Object.assign([],pt.transferfn);this.subsamples=pt.subsamples||5;let Dt=256;wt.forEach(function(jt){jt.value=parseFloat(jt.value)}),wt.sort(function(jt,tr){return jt.value-tr.value}),this.min=wt[0].value,wt.length==0&&wt.push(wt[0]),this.max=wt[wt.length-1].value;var Lt,it,st,bt,gt,Et,ot,_t,Mt,Bt;for(let jt=0;jt<wt.length-1;jt++)if(st=b.CC.color(wt[jt].color),bt=b.CC.color(wt[jt+1].color),Mt=wt[jt].opacity,Bt=wt[jt+1].opacity,Lt=Math.floor((wt[jt].value-this.min)*Dt/(this.max-this.min)),it=Math.floor((wt[jt+1].value-this.min)*Dt/(this.max-this.min)),Lt!=it){gt=j.interpolateArray([st.r*255,bt.r*255],it-Lt),Et=j.interpolateArray([st.g*255,bt.g*255],it-Lt),ot=j.interpolateArray([st.b*255,bt.b*255],it-Lt),_t=j.interpolateArray([Mt*255,Bt*255],it-Lt);for(let tr=0;tr<gt.length;tr++)this.transferfunctionbuffer.push(gt[tr]),this.transferfunctionbuffer.push(Et[tr]),this.transferfunctionbuffer.push(ot[tr]),this.transferfunctionbuffer.push(_t[tr])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),nt.matrix){let jt=new h.Vector3(0,0,0),tr=new h.Vector3(nt.size.x,nt.size.y,nt.size.z),gr=new h.Vector3(1,1,1);jt.applyMatrix4(nt.matrix),tr.applyMatrix4(nt.matrix),gr.applyMatrix4(nt.matrix).sub(jt),this.extent=[[jt.x,jt.y,jt.z],[tr.x,tr.y,tr.z]];for(let Er=1;Er<7;Er++)tr.x=Er&1?nt.size.x:0,tr.y=Er&2?nt.size.y:0,tr.z=Er&4?nt.size.z:0,tr.applyMatrix4(nt.matrix),this.extent[0][0]=Math.min(this.extent[0][0],tr.x),this.extent[0][1]=Math.min(this.extent[0][1],tr.y),this.extent[0][2]=Math.min(this.extent[0][2],tr.z),this.extent[1][0]=Math.max(this.extent[1][0],tr.x),this.extent[1][1]=Math.max(this.extent[1][1],tr.y),this.extent[1][2]=Math.max(this.extent[1][2],tr.z);let vr=tr.x-jt.x,hr=tr.y-jt.y,mr=tr.z-jt.z;this.maxdepth=Math.sqrt(vr*vr+hr*hr+mr*mr),this.minunit=Math.min(Math.min(gr.x,gr.y),gr.z),this.texmatrix=new h.Matrix4().identity().scale({x:nt.size.x,y:nt.size.y,z:nt.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(nt.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new h.Matrix4().identity();let jt=nt.unit.x*nt.size.x,tr=nt.unit.y*nt.size.y,gr=nt.unit.z*nt.size.z;this.texmatrix.makeTranslation(-nt.origin.x/jt,-nt.origin.y/tr,-nt.origin.z/gr),this.texmatrix.scale({x:1/jt,y:1/tr,z:1/gr}),this.minunit=Math.min(Math.min(nt.unit.x,nt.unit.y),nt.unit.z),this.extent=[[nt.origin.x,nt.origin.y,nt.origin.z],[nt.origin.x+jt,nt.origin.y+tr,nt.origin.z+gr]],this.maxdepth=Math.sqrt(jt*jt+tr*tr+gr*gr)}var It=new $.GLShape({});if(It.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=It.finalize(),this.boundingSphere.center=new h.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,pt.coords!==void 0&&pt.seldist!==void 0){let jt=new Uint8Array(nt.data.length),tr=pt.seldist,gr=tr*tr;for(let vr=0,hr=pt.coords.length;vr<hr;vr++){let mr=pt.coords[vr],Er=mr.x-tr,Rr=mr.y-tr,Cr=mr.z-tr,wr=mr.x+tr,Sr=mr.y+tr,br=mr.z+tr;if(nt.getIndex(Er,Rr,Cr)>=0||nt.getIndex(wr,Sr,br)>=0)for(let xr=Er;xr<wr;xr+=this.minunit)for(let Or=Rr;Or<Sr;Or+=this.minunit)for(let In=Cr;In<br;In+=this.minunit){let Nn=nt.getIndex(xr,Or,In);Nn>=0&&!jt[Nn]&&(xr-mr.x)*(xr-mr.x)+(Or-mr.y)*(Or-mr.y)+(In-mr.z)*(In-mr.z)<gr&&(jt[Nn]=1)}}for(let vr=0,hr=nt.data.length;vr<hr;vr++)jt[vr]==0&&(nt.data[vr]=1/0)}this.data=nt}globj(nt){if(this.renderedShapeObj&&(nt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new g.Object3D;var pt=null,wt=new g.Texture(this.data,!0),Dt=new g.Texture(this.transferfunctionbuffer,!1);wt.needsUpdate=!0,Dt.needsUpdate=!0,Dt.flipY=!1,pt=new g.VolumetricMaterial({transferfn:Dt,transfermin:this.min,transfermax:this.max,map:wt,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var Lt=new g.Mesh(this.geo,pt);this.shapeObj.add(Lt),this.renderedShapeObj=this.shapeObj.clone(),nt.add(this.renderedShapeObj)}}removegl(nt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),nt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(a,o,e)=>{e.r(o),e.d(o,{Camera:()=>g});var c=e("./src/WebGL/core/index.ts"),h=e("./src/WebGL/math/index.ts");class g extends c.Object3D{constructor($=50,j=1,rt=.1,nt=2e3,pt=!1){super(),this.projectionMatrix=new h.Matrix4,this.projectionMatrixInverse=new h.Matrix4,this.matrixWorldInverse=new h.Matrix4,this.fov=$,this.aspect=j,this.near=rt,this.far=nt;var wt=this.position.z;this.right=wt*Math.tan(Math.PI/180*$),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!pt,this.updateProjectionMatrix()}lookAt($){this.matrix.lookAt(this.position,$,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof h.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(a,o,e)=>{e.r(o),e.d(o,{Fog:()=>h});var c=e("./src/colors.ts");class h{constructor(b,$=1,j=1e3){this.name="",this.color=new c.Color(b),this.near=$,this.far=j}clone(){return new h(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(a,o,e)=>{e.r(o),e.d(o,{Renderer:()=>Dt});var c=e("./src/WebGL/Camera.ts"),h=e("./src/WebGL/constants/Sides.ts"),g=e("./src/WebGL/constants/TextureConstants.ts"),b=e("./src/WebGL/core/index.ts"),$=e("./src/colors.ts"),j=e("./src/WebGL/materials/index.ts"),rt=e("./src/WebGL/math/index.ts"),nt=e("./src/WebGL/objects/index.ts"),pt=e("./src/WebGL/shaders/index.ts"),wt=e("./src/WebGL/SpritePlugin.ts");class Dt{constructor(it){this.context=null,this.devicePixelRatio=1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._projScreenMatrix=new rt.Matrix4,this._vector3=new rt.Vector3,this._worldInverse=new rt.Matrix4,this._projInverse=new rt.Matrix4,this._textureMatrix=new rt.Matrix4,this._direction=new rt.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new wt.SpritePlugin,this._screenshader=null,this._vertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,it=it||{},this.row=it.row,this.col=it.col,this.rows=it.rows,this.cols=it.cols,this._canvas=it.canvas!==void 0?it.canvas:document.createElement("canvas"),this._precision=it.precision!==void 0?it.precision:"highp",this._alpha=it.alpha!==void 0?it.alpha:!0,this._premultipliedAlpha=it.premultipliedAlpha!==void 0?it.premultipliedAlpha:!0,this._antialias=it.antialias!==void 0?it.antialias:!1,this._stencil=it.stencil!==void 0?it.stencil:!0,this._preserveDrawingBuffer=it.preserveDrawingBuffer!==void 0?it.preserveDrawingBuffer:!1,this._clearColor=it.clearColor!==void 0?new $.Color(it.clearColor):new $.Color(0),this._clearAlpha=it.clearAlpha!==void 0?it.clearAlpha:0,this._outlineMaterial=new j.MeshOutlineMaterial(it.outline),this._outlineSphereImposterMaterial=new j.SphereImposterOutlineMaterial(it.outline),this._outlineStickImposterMaterial=new j.StickImposterOutlineMaterial(it.outline),this._outlineEnabled=!!it.outline,this.domElement=this._canvas,this._canvas.id=it.id,this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this)}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}isLost(){return this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(it,st){this._clearColor.setHex(it),this._clearAlpha=st,this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(it){this._outlineMaterial=new j.MeshOutlineMaterial(it),this._outlineSphereImposterMaterial=new j.SphereImposterOutlineMaterial(it),this._outlineStickImposterMaterial=new j.StickImposterOutlineMaterial(it),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}setViewport(){if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var it=this._canvas.width/this.cols,st=this._canvas.height/this.rows;this._viewportWidth=it,this._viewportHeight=st,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(it*this.col,st*this.row,it,st),this._gl.viewport(it*this.col,st*this.row,it,st)}}setSize(it,st){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var bt=it/this.cols,gt=st/this.rows;this._canvas.width=it*this.devicePixelRatio,this._canvas.height=st*this.devicePixelRatio,this._viewportWidth=bt*this.devicePixelRatio,this._viewportHeight=gt*this.devicePixelRatio,this._canvas.style.width=it+"px",this._canvas.style.height=st+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=it*this.devicePixelRatio,this._viewportHeight=this._canvas.height=st*this.devicePixelRatio,this._canvas.style.width=it+"px",this._canvas.style.height=st+"px",this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(it,st,bt){var gt=0;(it===void 0||it)&&(gt|=this._gl.COLOR_BUFFER_BIT),(st===void 0||st)&&(gt|=this._gl.DEPTH_BUFFER_BIT),(bt===void 0||bt)&&(gt|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(gt)}clearTarget(it,st,bt){this.clear(it,st,bt)}setMaterialFaces(it,st){var bt=it.side===h.DoubleSide,gt=it.side===h.BackSide;it.imposter||(gt=st?!gt:gt),this._oldDoubleSided!==bt&&(bt?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=bt),this._oldFlipSided!==gt&&(gt?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=gt),this._gl.cullFace(this._gl.BACK)}setDepthTest(it){this._oldDepthTest!==it&&(it?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=it)}setDepthWrite(it){this._oldDepthWrite!==it&&(this._gl.depthMask(it),this._oldDepthWrite=it)}setBlending(it){it?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(it,st,bt,gt){it.addEventListener("dispose",this.onMaterialDispose.bind(this));var Et,ot;if(ot=it.shaderID,ot){var _t=pt.ShaderLib[ot];it.vertexShader=_t.vertexShader,it.fragmentShader=_t.fragmentShader,it.uniforms=pt.ShaderUtils.clone(_t.uniforms)}Et={wireframe:it.wireframe,fragdepth:it.imposter,volumetric:it.volumetric},it.program=this.buildProgram(it.fragmentShader,it.vertexShader,it.uniforms,Et)}renderBuffer(it,st,bt,gt,Et,ot){if(gt.visible){var _t,Mt;if(_t=this.setProgram(it,st,bt,gt,ot,this),!!_t){Mt=_t.attributes;var Bt=!1,It=gt.wireframe?1:0,jt=Et.id*16777215+_t.id*2+It;jt!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=jt,Bt=!0),Bt&&(this.disableAttributes(),Mt.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Et.__webglVertexBuffer),this.enableAttribute(Mt.position),this._gl.vertexAttribPointer(Mt.position,3,this._gl.FLOAT,!1,0,0)),Mt.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Et.__webglColorBuffer),this.enableAttribute(Mt.color),this._gl.vertexAttribPointer(Mt.color,3,this._gl.FLOAT,!1,0,0)),Mt.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Et.__webglNormalBuffer),this.enableAttribute(Mt.normal),this._gl.vertexAttribPointer(Mt.normal,3,this._gl.FLOAT,!1,0,0)),Mt.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Et.__webglOffsetBuffer),this.enableAttribute(Mt.offset),this._gl.vertexAttribPointer(Mt.offset,3,this._gl.FLOAT,!1,0,0)),Mt.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Et.__webglRadiusBuffer),this.enableAttribute(Mt.radius),this._gl.vertexAttribPointer(Mt.radius,1,this._gl.FLOAT,!1,0,0)));var tr,gr;if(ot instanceof nt.Mesh){if(gt.shaderID==="instanced"){var vr=gt.sphere.geometryGroups[0];Bt&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Et.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,vr.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Et.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,vr.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Et.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,vr.faceArray,this._gl.STATIC_DRAW)),tr=vr.faceidx,this._extInstanced.vertexAttribDivisorANGLE(Mt.offset,1),this._extInstanced.vertexAttribDivisorANGLE(Mt.radius,1),this._extInstanced.vertexAttribDivisorANGLE(Mt.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,tr,this._gl.UNSIGNED_SHORT,0,Et.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(Mt.offset,0),this._extInstanced.vertexAttribDivisorANGLE(Mt.radius,0),this._extInstanced.vertexAttribDivisorANGLE(Mt.color,0)}else gt.wireframe?(gr=Et.lineidx,this.setLineWidth(gt.wireframeLinewidth),Bt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Et.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,gr,this._gl.UNSIGNED_SHORT,0)):(tr=Et.faceidx,Bt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Et.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,tr,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=tr,this.info.render.faces+=tr/3}else ot instanceof nt.Line&&(gr=Et.vertices,this.setLineWidth(gt.linewidth),this._gl.drawArrays(this._gl.LINES,0,gr),this.info.render.calls++)}}}render(it,st,bt){if(!(st instanceof c.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var gt,Et,ot,_t,Mt,Bt=it.__lights,It=it.fog;this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&it.updateMatrixWorld(),st.parent===void 0&&st.updateMatrixWorld(),st.matrixWorldInverse.getInverse(st.matrixWorld),this._projScreenMatrix.multiplyMatrices(st.projectionMatrix,st.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(it),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),(this.autoClear||bt)&&(this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)),Mt=it.__webglObjects;var jt=!1;for(gt=0,Et=Mt.length;gt<Et;gt++)ot=Mt[gt],_t=ot.object,ot.render=!1,_t.visible&&(this.setupMatrices(_t,st),this.unrollBufferMaterial(ot),ot.render=!0,ot.volumetric&&(jt=!0));var tr=null;this.setBlending(!1),this.renderObjects(it.__webglObjects,!0,"opaque",st,Bt,It,!1,tr),this.renderSprites(it,st,!1),this.renderObjects(it.__webglObjects,!0,"blank",st,Bt,It,!0,tr),this.renderObjects(it.__webglObjects,!1,"transparent",st,Bt,It,!0,tr),jt&&this._fb&&(this.reinitFrameBuffer(),this.renderObjects(it.__webglObjects,!1,"volumetric",st,Bt,It,!0,tr)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(it,st,!0)}reinitFrameBuffer(){this.isWebGL1()||(this._fb=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0))}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let it=this._viewportWidth,st=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,it,st),this._gl.viewport(0,0,it,st),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,it,st,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,it,st,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let it=this._viewportWidth,st=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,it,st),this._gl.viewport(0,0,it,st),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var bt=pt.ShaderLib.screen;this._screenshader=this.buildProgram(bt.fragmentShader,bt.vertexShader,bt.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var gt=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(gt),this._gl.STATIC_DRAW)}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(it){if(it.__webglObjects||(it.__webglObjects=[],it.__webglObjectsImmediate=[],it.__webglSprites=[],it.__webglFlares=[]),it.__objectsAdded.length){for(;it.__objectsAdded.length;)this.addObject(it.__objectsAdded[0],it),it.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;it.__objectsRemoved.length;)this.removeObject(it.__objectsRemoved[0],it),it.__objectsRemoved.splice(0,1);for(var st=0,bt=it.__webglObjects.length;st<bt;st++)this.updateObject(it.__webglObjects[st].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(it,st){(it==null||st==null)&&(it=this._canvas.width,st=this._canvas.height);var bt=it/st;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var gt=it/this.cols,Et=st/this.rows;bt=gt/Et}return bt}setTexture(it,st,bt){if(it.needsUpdate){it.__webglInit||(it.__webglInit=!0,it.addEventListener("dispose",this.onTextureDispose.bind(this)),it.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+st);var gt=bt?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(gt,it.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,it.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,it.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,it.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,it.unpackAlignment);var Et=this.paramToGL(it.format),ot=this.paramToGL(it.type);if(bt)this.setTextureParameters(this._gl.TEXTURE_3D,it),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,it.image.size.z,it.image.size.y,it.image.size.x,0,this._gl.RED,this._gl.FLOAT,it.image.data);else{var _t=it.image,Mt=_t.width,Bt=_t.height;typeof Mt>"u"&&(Mt=_t.length,Et==this._gl.RGBA&&(Mt/=4),Bt=1),this.setTextureParameters(this._gl.TEXTURE_2D,it),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,Et,Et,ot,it.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,Et,Mt,Bt,0,Et,ot,it.image)}it.needsUpdate=!1,it.onUpdate&&it.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+st),bt?this._gl.bindTexture(this._gl.TEXTURE_3D,it.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,it.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(it){this._enabledAttributes[it]||(this._gl.enableVertexAttribArray(it),this._enabledAttributes[it]=!0)}disableAttributes(){for(let it in this._enabledAttributes)this._enabledAttributes[it]&&(this._gl.disableVertexAttribArray(it),this._enabledAttributes[it]=!1)}setPolygonOffset(it,st,bt){this._oldPolygonOffset!==it&&(it?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(it){it!==this._oldLineWidth&&(this._gl.lineWidth(it),this._oldLineWidth=it)}deallocateGeometry(it){if(it.__webglInit=void 0,it.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(it.__webglVertexBuffer),it.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(it.__webglColorBuffer),it.geometryGroups!==void 0)for(var st=0,bt=it.groups;st<bt;st++){var gt=it.geometryGroups[st];gt.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(gt.__webglVertexBuffer),gt.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(gt.__webglColorBuffer),gt.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(gt.__webglNormalBuffer),gt.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(gt.__webglFaceBuffer),gt.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(gt.__webglLineBuffer)}}deallocateMaterial(it){var st=it.program;if(st!==void 0){it.program=void 0;var bt,gt,Et,ot=!1;for(bt=0,gt=this._programs.length;bt<gt;bt++)if(Et=this._programs[bt],Et.program===st){Et.usedTimes--,Et.usedTimes===0&&(ot=!0);break}if(ot===!0){var _t=[];for(bt=0,gt=this._programs.length;bt<gt;bt++)Et=this._programs[bt],Et.program!==st&&_t.push(Et);this._programs=_t,this._gl.deleteProgram(st),this.info.memory.programs--}}}deallocateTexture(it){if(it.image&&it.image.__webglTextureCube)this._gl.deleteTexture(it.image.__webglTextureCube);else{if(!it.__webglInit)return;it.__webglInit=!1,this._gl.deleteTexture(it.__webglTexture)}}onGeometryDispose(it){var st=it.target;st.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(st),this.info.memory.geometries--}onTextureDispose(it){var st=it.target;st.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(st),this.info.memory.textures--}onMaterialDispose(it){var st=it.target;st.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(st)}getShader(it,st){var bt;return!this.isWebGL1()&&!st.startsWith("#version")&&(st=st.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),it=="fragment"?st=st.replace(/varying/g,"in"):st=st.replace(/varying/g,"out"),st=st.replace(/attribute/g,"in"),st=st.replace(/texture2D/g,"texture"),st=st.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),st=st.replace(/gl_FragColor/g,"glFragColor"),st=`#version 300 es
`+st),it==="fragment"?bt=this._gl.createShader(this._gl.FRAGMENT_SHADER):it==="vertex"&&(bt=this._gl.createShader(this._gl.VERTEX_SHADER)),bt==null?null:(this._gl.shaderSource(bt,st),this._gl.compileShader(bt),this._gl.getShaderParameter(bt,this._gl.COMPILE_STATUS)?bt:(console.error(this._gl.getShaderInfoLog(bt)),console.error("could not initialize shader"),null))}buildProgram(it,st,bt,gt){var Et,ot,_t,Mt,Bt=[];Bt.push(it),Bt.push(st);for(Et in gt)Bt.push(Et),Bt.push(gt[Et]);for(Mt=Bt.join(),Et=0,ot=this._programs.length;Et<ot;Et++){var It=this._programs[Et];if(It.code===Mt)return It.usedTimes++,It.program}if(this.isWebGL1()&&gt.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(_t=this._gl.createProgram(),_t==null)return null;var jt=this._precision,tr="precision "+jt+" float;",gr=[gt.volumetric?"#version 300 es":"",tr].join(`
`),vr=[gt.volumetric?"#version 300 es":"",gt.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",gt.wireframe?"#define WIREFRAME 1":"",tr].join(`
`),hr=this.getShader("fragment",vr+it),mr=this.getShader("vertex",gr+st);mr!=null&&this._gl.attachShader(_t,mr),hr!=null&&this._gl.attachShader(_t,hr),this._gl.linkProgram(_t),this._gl.getProgramParameter(_t,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),_t.uniforms={},_t.attributes={};var Er,Rr,Cr;Er=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(Rr in bt)Er.push(Rr);for(Cr=0;Cr<Er.length;Cr++){var wr=Er[Cr];_t.uniforms[wr]=this._gl.getUniformLocation(_t,wr)}for(Er=["position","normal","color","lineDistance","offset","radius"],Cr=0;Cr<Er.length;Cr++){var Sr=Er[Cr];_t.attributes[Sr]=this._gl.getAttribLocation(_t,Sr)}return _t.id=this._programs_counter++,this._programs.push({program:_t,code:Mt,usedTimes:1}),this.info.memory.programs=this._programs.length,_t}setProgram(it,st,bt,gt,Et,ot){if(gt.needsUpdate&&(gt.program&&this.deallocateMaterial(gt),this.initMaterial(gt,st,bt,Et),gt.needsUpdate=!1),gt.program==null)return null;var _t=!1,Mt=gt.program,Bt=Mt.uniforms,It=gt.uniforms;if(Mt!=this._currentProgram&&(this._gl.useProgram(Mt),this._currentProgram=Mt,_t=!0),gt.id!=this._currentMaterialId&&(this._currentMaterialId=gt.id,_t=!0),it!=this._currentCamera&&(this._currentCamera=it,_t=!0),this._gl.uniformMatrix4fv(Bt.projectionMatrix,!1,it.projectionMatrix.elements),this._gl.uniformMatrix4fv(Bt.modelViewMatrix,!1,Et._modelViewMatrix.elements),this._gl.uniformMatrix3fv(Bt.normalMatrix,!1,Et._normalMatrix.elements),_t){if(It.fogColor.value=bt.color,It.fogNear.value=bt.near,It.fogFar.value=bt.far,gt.shaderID.startsWith("lambert")||gt.shaderID==="instanced"||gt.shaderID.endsWith("imposter"))this._gl.uniformMatrix4fv(Bt.viewMatrix,!1,it.matrixWorldInverse.elements),this._lightsNeedUpdate&&(this.setupLights(Mt,st),this._lightsNeedUpdate=!1),It.directionalLightColor.value=this._lights.directional.colors,It.directionalLightDirection.value=this._lights.directional.positions;else if(gt.shaderID.endsWith("outline"))It.outlineColor.value=gt.outlineColor,It.outlineWidth.value=gt.outlineWidth,It.outlinePushback.value=gt.outlinePushback;else if(gt.shaderID==="volumetric"){Et._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(Et._modelViewMatrix),this._projInverse.getInverse(it.projectionMatrix),this._textureMatrix.multiplyMatrices(Et.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(Bt.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(Bt.projinv,!1,this._projInverse.elements);let jt=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);It.step.value=Et.material.unit*jt,It.maxdepth.value=Et.material.maxdepth*jt,It.transfermax.value=Et.material.transfermax,It.transfermin.value=Et.material.transfermin,It.subsamples.value=Et.material.subsamples,ot.setTexture(Et.material.transferfn,4,!1),ot.setTexture(Et.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}It.opacity.value=gt.opacity,this.loadMaterialUniforms(Bt,It)}return Mt}loadMaterialUniforms(it,st){var bt,gt,Et,ot;for(bt in st)it[bt]&&(gt=st[bt].type,Et=st[bt].value,ot=it[bt],gt==="f"?this._gl.uniform1f(ot,Et):gt==="i"?this._gl.uniform1i(ot,Et):gt==="fv"?this._gl.uniform3fv(ot,Et):gt==="c"?this._gl.uniform3f(ot,Et.r,Et.g,Et.b):gt==="f4"&&this._gl.uniform4f(ot,Et[0],Et[1],Et[2],Et[3]))}addObject(it,st){var bt,gt,Et,ot;if(!it.__webglInit&&(it.__webglInit=!0,it._modelViewMatrix=new rt.Matrix4,it._normalMatrix=new rt.Matrix3,it.geometry!==void 0&&it.geometry.__webglInit===void 0&&(it.geometry.__webglInit=!0,it.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),it instanceof nt.Mesh||it instanceof nt.Line))for(Et=it.geometry,bt=0,gt=Et.geometryGroups.length;bt<gt;bt++)ot=Et.geometryGroups[bt],ot.id=this._geometryGroupCounter++,ot.__webglVertexBuffer||(it instanceof nt.Mesh?(this.createMeshBuffers(ot),Et.elementsNeedUpdate=!0,Et.normalsNeedUpdate=!0):it instanceof nt.Line&&this.createLineBuffers(ot),Et.verticesNeedUpdate=!0,Et.colorsNeedUpdate=!0);if(!it.__webglActive){if(it instanceof nt.Mesh||it instanceof nt.Line)for(Et=it.geometry,bt=0,gt=Et.geometryGroups.length;bt<gt;bt++)ot=Et.geometryGroups[bt],this.addBuffer(st.__webglObjects,ot,it);else it instanceof nt.Sprite&&st.__webglSprites.push(it);it.__webglActive=!0}}updateObject(it){var st=it.geometry,bt;if(it instanceof nt.Mesh||it instanceof nt.Line){for(var gt=0,Et=st.geometryGroups.length;gt<Et;gt++)bt=st.geometryGroups[gt],(st.verticesNeedUpdate||st.elementsNeedUpdate||st.colorsNeedUpdate||st.normalsNeedUpdate)&&this.setBuffers(bt,this._gl.STATIC_DRAW);st.verticesNeedUpdate=!1,st.elementsNeedUpdate=!1,st.normalsNeedUpdate=!1,st.colorsNeedUpdate=!1,st.buffersNeedUpdate=!1}}removeObject(it,st){it instanceof nt.Mesh||it instanceof nt.Line?this.removeInstances(st.__webglObjects,it):it instanceof nt.Sprite&&this.removeInstancesDirect(st.__webglSprites,it),it.__webglActive=!1}removeInstances(it,st){for(var bt=it.length-1;bt>=0;--bt)it[bt].object===st&&it.splice(bt,1)}removeInstancesDirect(it,st){for(var bt=it.length-1;bt>=0;--bt)it[bt]===st&&it.splice(bt,1)}unrollBufferMaterial(it){var st=it.object,bt=st.material;if(bt.volumetric)it.opaque=null,it.transparent=null,it.volumetric=bt;else if(bt.transparent){if(it.opaque=null,it.volumetric=null,it.transparent=bt,!bt.wireframe){var gt=bt.clone();gt.opacity=0,it.blank=gt}}else it.opaque=bt,it.transparent=null,it.volumetric=null}setBuffers(it,st){var bt=it.vertexArray,gt=it.colorArray;if(it.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,bt,st)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,bt,st)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,gt,st),it.normalArray&&it.__webglNormalBuffer!==void 0){var Et=it.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Et,st)}if(it.radiusArray&&it.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,it.radiusArray,st)),it.faceArray&&it.__webglFaceBuffer!==void 0){var ot=it.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,it.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,ot,st)}if(it.lineArray&&it.__webglLineBuffer!==void 0){var _t=it.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,it.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,_t,st)}}createMeshBuffers(it){it.radiusArray&&(it.__webglRadiusBuffer=this._gl.createBuffer()),it.useOffset&&(it.__webglOffsetBuffer=this._gl.createBuffer()),it.__webglVertexBuffer=this._gl.createBuffer(),it.__webglNormalBuffer=this._gl.createBuffer(),it.__webglColorBuffer=this._gl.createBuffer(),it.__webglFaceBuffer=this._gl.createBuffer(),it.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(it){it.__webglVertexBuffer=this._gl.createBuffer(),it.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(it,st,bt){it.push({buffer:st,object:bt,opaque:null,transparent:null})}setupMatrices(it,st){it._modelViewMatrix.multiplyMatrices(st.matrixWorldInverse,it.matrixWorld),it._normalMatrix.getInverse(it._modelViewMatrix),it._normalMatrix.transpose()}filterFallback(it){return this._gl.LINEAR}setTextureParameters(it,st){it==this._gl.TEXTURE_2D?(this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(st.magFilter)),this._gl.texParameteri(it,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(st.minFilter))):(this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(it,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(it,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(it,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(it,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(it){return it===g.UnsignedByteType?this._gl.UNSIGNED_BYTE:it===g.RGBAFormat?this._gl.RGBA:it===g.NearestFilter?this._gl.NEAREST:0}setupLights(it,st){var bt,gt,Et,ot=0,_t=0,Mt=0,Bt,It,jt=this._lights,tr=jt.directional.colors,gr=jt.directional.positions,vr=0,hr=0;for(bt=0,gt=st.length;bt<gt;bt++)if(Et=st[bt],Bt=Et.color,It=Et.intensity,Et instanceof b.Light){if(this._direction.getPositionFromMatrix(Et.matrixWorld),this._vector3.getPositionFromMatrix(Et.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;gr[hr]=this._direction.x,gr[hr+1]=this._direction.y,gr[hr+2]=this._direction.z,tr[hr]=Bt.r*It,tr[hr+1]=Bt.g*It,tr[hr+2]=Bt.b*It,hr+=3,vr++}jt.ambient[0]=ot,jt.ambient[1]=_t,jt.ambient[2]=Mt,jt.directional.length=vr}initGL(){try{if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var it=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(it[6])}catch(st){console.error(st)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearColor(0,0,0,1),this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(it,st,bt,gt,Et,ot,_t,tr){var Bt,It,jt,tr,gr,vr,hr;st?(gr=it.length-1,vr=-1,hr=-1):(gr=0,vr=it.length,hr=1);for(var mr=gr;mr!==vr;mr+=hr)if(Bt=it[mr],Bt.render){if(It=Bt.object,jt=Bt.buffer,tr=Bt[bt],!tr)continue;_t&&this.setBlending(!0),this.setDepthTest(tr.depthTest),this.setDepthWrite(tr.depthWrite),this.setPolygonOffset(tr.polygonOffset,tr.polygonOffsetFactor,tr.polygonOffsetUnits);var Er=It._modelViewMatrix.isReflected();this.setMaterialFaces(tr,Er),this.renderBuffer(gt,Et,ot,tr,jt,It),(this._outlineEnabled||tr.outline)&&(tr.shaderID=="sphereimposter"?this.renderBuffer(gt,Et,ot,this._outlineSphereImposterMaterial,jt,It):tr.shaderID=="stickimposter"?this.renderBuffer(gt,Et,ot,this._outlineStickImposterMaterial,jt,It):!tr.wireframe&&tr.shaderID!=="basic"&&tr.opacity!==0&&this.renderBuffer(gt,Et,ot,this._outlineMaterial,jt,It))}}renderSprites(it,st,bt){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(it,st,this._currentWidth,this._currentHeight,bt),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(a,o,e)=>{e.r(o),e.d(o,{SpritePlugin:()=>h});var c=e("./src/WebGL/shaders/index.ts");class h{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init($){this.gl=$.context,this.renderer=$,this.precision=$.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var j=0;this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=1,j=0,this.sprite.faces[j++]=0,this.sprite.faces[j++]=1,this.sprite.faces[j++]=2,this.sprite.faces[j++]=0,this.sprite.faces[j++]=2,this.sprite.faces[j++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(c.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const rt={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),rt.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),rt.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),rt.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),rt.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),rt.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),rt.color=this.gl.getUniformLocation(this.sprite.program,"color"),rt.map=this.gl.getUniformLocation(this.sprite.program,"map"),rt.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),rt.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),rt.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),rt.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),rt.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),rt.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),rt.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),rt.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),rt.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),rt.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),rt.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=rt}render($,j,rt,nt,pt){var wt,Dt,Lt,it,st,bt,gt,Et,ot,_t;if(!this.gl)throw new Error("WebGLRenderer not initialized");let Mt=[];(wt=$==null?void 0:$.__webglSprites)===null||wt===void 0||wt.forEach(In=>{(pt&&In.material.depthTest==!1||!pt&&In.material.depthTest)&&Mt.push(In)});let Bt=Mt.length;if(!Bt)return;const It=this.sprite.attributes,jt=this.sprite.uniforms;if(!jt)throw new Error("Uniforms not defined");var tr=rt*.5,gr=nt*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(It.position),this.gl.enableVertexAttribArray(It.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(It.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(It.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(jt.projectionMatrix,!1,j.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(jt.map,0);var vr=0,hr=0,mr=$.fog;mr?(this.gl.uniform3f(jt.fogColor,mr.color.r,mr.color.g,mr.color.b),this.gl.uniform1f(jt.fogNear,mr.near),this.gl.uniform1f(jt.fogFar,mr.far),this.gl.uniform1i(jt.fogType,1),vr=1,hr=1):(this.gl.uniform1i(jt.fogType,0),vr=0,hr=0);var Er;let Rr,Cr,wr,Sr,br=[];for(Er=0;Er<Bt;Er++)Rr=Mt[Er],Cr=Rr.material,Cr&&(Cr.depthTest==!1&&!pt||!Rr.visible||Cr.opacity===0||(Cr.useScreenCoordinates?Rr.z=-Rr.position.z:(Rr._modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,Rr.matrixWorld),Rr.z=-Rr._modelViewMatrix.elements[14])));for(Mt.sort(g),Er=0;Er<Bt;Er++)if(Rr=Mt[Er],Cr=Rr.material,!!Cr&&!(!Rr.visible||Cr.opacity===0)&&Cr.map&&Cr.map.image&&Cr.map.image.width){this.gl.uniform1f((jt==null?void 0:jt.alphaTest)||null,Cr.alphaTest);var xr=Cr.map.image.width,Or=Cr.map.image.height;br[0]=xr*this.renderer.devicePixelRatio/rt,br[1]=Or*this.renderer.devicePixelRatio/nt,Cr.useScreenCoordinates===!0?(this.gl.uniform1i(jt.useScreenCoordinates,1),this.gl.uniform3f(jt.screenPosition,(Rr.position.x*this.renderer.devicePixelRatio-tr)/tr,(gr-Rr.position.y*this.renderer.devicePixelRatio)/gr,Math.max(0,Math.min(1,Rr.position.z)))):(this.gl.uniform1i(jt.useScreenCoordinates,0),this.gl.uniformMatrix4fv(jt.modelViewMatrix,!1,Rr._modelViewMatrix.elements)),$.fog&&Cr.fog?Sr=hr:Sr=0,vr!==Sr&&(this.gl.uniform1i(jt.fogType,Sr),vr=Sr),wr=1/(Cr.scaleByViewport?nt:1),br[0]*=wr*Rr.scale.x,br[1]*=wr*Rr.scale.y;let In=(Dt=Cr==null?void 0:Cr.alignment)===null||Dt===void 0?void 0:Dt.x,Nn=(Lt=Cr==null?void 0:Cr.alignment)===null||Lt===void 0?void 0:Lt.y;Cr.screenOffset&&(In=(In||0)+2*Cr.screenOffset.x/xr,Nn=(Nn||0)+2*Cr.screenOffset.y/Or),this.gl.uniform2f(jt.uvScale,((it=Cr==null?void 0:Cr.uvScale)===null||it===void 0?void 0:it.x)||1,((st=Cr==null?void 0:Cr.uvScale)===null||st===void 0?void 0:st.y)||1),this.gl.uniform2f(jt.uvOffset,((bt=Cr==null?void 0:Cr.uvOffset)===null||bt===void 0?void 0:bt.x)||0,((gt=Cr==null?void 0:Cr.uvOffset)===null||gt===void 0?void 0:gt.y)||0),this.gl.uniform2f(jt.alignment,In||0,Nn||0),this.gl.uniform1f(jt.opacity,Cr.opacity),this.gl.uniform3f(jt.color,((Et=Cr==null?void 0:Cr.color)===null||Et===void 0?void 0:Et.r)||0,((ot=Cr==null?void 0:Cr.color)===null||ot===void 0?void 0:ot.g)||0,((_t=Cr==null?void 0:Cr.color)===null||_t===void 0?void 0:_t.b)||0),this.gl.uniform1f(jt.rotation,Rr.rotation),this.gl.uniform2fv(jt.scale,br),this.renderer.setDepthTest(Cr.depthTest),this.renderer.setDepthWrite(Cr.depthWrite),this.renderer.setTexture(Cr.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram($,j){if(!this.gl)throw new Error("WebGL Rendering context not found");var rt=this.gl.createProgram();if(!rt)throw new Error("Error creating webgl program");var nt=this.gl.createShader(this.gl.FRAGMENT_SHADER),pt=this.gl.createShader(this.gl.VERTEX_SHADER);if(!nt)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!pt)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var wt="precision "+j+` float;
`;if(this.gl.shaderSource(nt,wt+$.fragmentShader),this.gl.shaderSource(pt,wt+$.vertexShader),this.gl.compileShader(nt),this.gl.compileShader(pt),!this.gl.getShaderParameter(nt,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(pt,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(nt)} 
      ${this.gl.getShaderInfoLog(pt)}`);return this.gl.attachShader(rt,nt),this.gl.attachShader(rt,pt),this.gl.linkProgram(rt),this.gl.getProgramParameter(rt,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),rt}}function g(b,$){return b.z!==$.z?$.z-b.z:$.id-b.id}},"./src/WebGL/constants/Coloring.ts":(a,o,e)=>{e.r(o),e.d(o,{Coloring:()=>c});var c;(function(h){h[h.NoColors=0]="NoColors",h[h.FaceColors=1]="FaceColors",h[h.VertexColors=2]="VertexColors"})(c||(c={}))},"./src/WebGL/constants/Shading.ts":(a,o,e)=>{e.r(o),e.d(o,{Shading:()=>c});var c;(function(h){h[h.NoShading=0]="NoShading",h[h.FlatShading=1]="FlatShading",h[h.SmoothShading=2]="SmoothShading"})(c||(c={}))},"./src/WebGL/constants/Sides.ts":(a,o,e)=>{e.r(o),e.d(o,{BackSide:()=>h,DoubleSide:()=>g,FrontSide:()=>c});const c=0,h=1,g=2},"./src/WebGL/constants/SpriteAlignment.ts":(a,o,e)=>{e.r(o),e.d(o,{SpriteAlignment:()=>h});var c=e("./src/WebGL/math/index.ts");const h={topLeft:new c.Vector2(1,-1),topCenter:new c.Vector2(0,-1),topRight:new c.Vector2(-1,-1),centerLeft:new c.Vector2(1,0),center:new c.Vector2(0,0),centerRight:new c.Vector2(-1,0),bottomLeft:new c.Vector2(1,1),bottomCenter:new c.Vector2(0,1),bottomRight:new c.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(a,o,e)=>{e.r(o),e.d(o,{ClampToEdgeWrapping:()=>c,FloatType:()=>j,LinearFilter:()=>h,LinearMipMapLinearFilter:()=>b,NearestFilter:()=>g,R32Format:()=>pt,RFormat:()=>nt,RGBAFormat:()=>rt,UnsignedByteType:()=>$});const c=1001,h=1006,g=1007,b=1008,$=1009,j=1010,rt=1021,nt=1022,pt=1023},"./src/WebGL/constants/TextureOperations.ts":(a,o,e)=>{e.r(o),e.d(o,{TextureOperations:()=>c});var c;(function(h){h[h.MultiplyOperation=0]="MultiplyOperation",h[h.MixOperation=1]="MixOperation",h[h.AddOperation=2]="AddOperation"})(c||(c={}))},"./src/WebGL/constants/index.ts":(a,o,e)=>{e.r(o),e.d(o,{BackSide:()=>h.BackSide,ClampToEdgeWrapping:()=>$.ClampToEdgeWrapping,Coloring:()=>c.Coloring,DoubleSide:()=>h.DoubleSide,FloatType:()=>$.FloatType,FrontSide:()=>h.FrontSide,LinearFilter:()=>$.LinearFilter,LinearMipMapLinearFilter:()=>$.LinearMipMapLinearFilter,NearestFilter:()=>$.NearestFilter,R32Format:()=>$.R32Format,RFormat:()=>$.RFormat,RGBAFormat:()=>$.RGBAFormat,Shading:()=>g.Shading,SpriteAlignment:()=>b.SpriteAlignment,TextureOperations:()=>j.TextureOperations,UnsignedByteType:()=>$.UnsignedByteType});var c=e("./src/WebGL/constants/Coloring.ts"),h=e("./src/WebGL/constants/Sides.ts"),g=e("./src/WebGL/constants/Shading.ts"),b=e("./src/WebGL/constants/SpriteAlignment.ts"),$=e("./src/WebGL/constants/TextureConstants.ts"),j=e("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(a,o,e)=>{e.r(o),e.d(o,{EventDispatcher:()=>c});class c{constructor(){this.listeners={}}dispatchEvent(g){var b=this.listeners[g.type];if(b!==void 0){g.target=this;for(var $=0,j=b.length;$<j;$++)b[$].call(this,g)}}removeEventListener(g,b){if(!b)this.listeners[g]=[];else{var $=this.listeners[g].indexOf(b);$!==-1&&this.listeners[g].splice($,1)}}addEventListener(g,b){this.listeners[g]===void 0&&(this.listeners[g]=[]),this.listeners[g].indexOf(b)===-1&&this.listeners[g].push(b)}}},"./src/WebGL/core/Geometry.ts":(a,o,e)=>{e.r(o),e.d(o,{Geometry:()=>rt,GeometryGroup:()=>j,GeometryIDCount:()=>nt});var c=e("./src/WebGL/materials/LineBasicMaterial.ts"),h=e("./src/WebGL/core/EventDispatcher.ts"),g=e("./src/WebGL/math/index.ts"),b=e("./src/colors.ts");const $=65535;class j{constructor(wt=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=wt}setColors(wt){var Dt=this.vertexArray,Lt=this.colorArray;if(!Dt)throw new Error("vertex array not initialized");if(!Lt)throw new Error("color array not initialized");if(Dt.length!=Lt.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var it=0;it<Dt.length;it+=3){var st=wt(Dt[it],Dt[it+1],Dt[it+2]);st instanceof b.Color||(st=b.CC.color(st)),Lt[it]=st.r,Lt[it+1]=st.g,Lt[it+2]=st.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var wt=new g.Vector3,Dt,Lt,it,st,bt=0;bt<this.vertices;++bt)Dt=bt*3,Lt=this.vertexArray[Dt],it=this.vertexArray[Dt+1],st=this.vertexArray[Dt+2],wt.x+=Lt,wt.y+=it,wt.z+=st;return wt.divideScalar(this.vertices),wt}setNormals(){var wt=this.faceArray,Dt=this.vertexArray,Lt=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!wt)throw new Error("face array not initialized");if(!Dt)throw new Error("vertex array not initialized");if(!Lt)throw new Error("normal array not initialized");for(var it,st,bt,gt,Et,ot,_t,Mt=0;Mt<wt.length/3;++Mt)it=wt[Mt*3]*3,st=wt[Mt*3+1]*3,bt=wt[Mt*3+2]*3,gt=new g.Vector3(Dt[it],Dt[it+1],Dt[it+2]),Et=new g.Vector3(Dt[st],Dt[st+1],Dt[st+2]),ot=new g.Vector3(Dt[bt],Dt[bt+1],Dt[bt+2]),gt.subVectors(gt,Et),ot.subVectors(ot,Et),ot.cross(gt),_t=ot,_t.normalize(),Lt[it]+=_t.x,Lt[st]+=_t.x,Lt[bt]+=_t.x,Lt[it+1]+=_t.y,Lt[st+1]+=_t.y,Lt[bt+1]+=_t.y,Lt[it+2]+=_t.z,Lt[st+2]+=_t.z,Lt[bt+2]+=_t.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var wt=this.faceArray,Dt=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!wt)throw new Error("face array not initialized");for(var Lt=0;Lt<this.faceidx/3;++Lt){var it=Lt*3,st=it*2,bt=wt[it],gt=wt[it+1],Et=wt[it+2];Dt[st]=bt,Dt[st+1]=gt,Dt[st+2]=bt,Dt[st+3]=Et,Dt[st+4]=gt,Dt[st+5]=Et}}}vrml(wt,Dt){var Lt,it,st,bt,gt,Et,ot,_t,Mt,Bt,It,jt,tr,gr,vr,hr="";hr+=wt+`Shape {
`+wt+` appearance Appearance {
`+wt+`  material Material {
`+wt+"   diffuseColor "+((Lt=Dt==null?void 0:Dt.color)===null||Lt===void 0?void 0:Lt.r)+" "+((it=Dt==null?void 0:Dt.color)===null||it===void 0?void 0:it.g)+" "+((st=Dt==null?void 0:Dt.color)===null||st===void 0?void 0:st.b)+`
`,Dt!=null&&Dt.transparent&&(hr+=wt+"   transparency "+(1-Dt.opacity)+`
`),hr+=wt+`  }
`,hr+=wt+` }
`;var mr=wt;if(wt+=" ",Dt instanceof c.LineBasicMaterial){hr+=wt+`geometry IndexedLineSet {
`+wt+` colorPerVertex TRUE
`+wt+` coord Coordinate {
`+wt+`  point [
`;let Rr,Cr,wr;for(let Sr=0;Sr<this.vertices;++Sr){let br=Sr*3;Rr=(bt=this.vertexArray)===null||bt===void 0?void 0:bt[br],Cr=(gt=this.vertexArray)===null||gt===void 0?void 0:gt[br+1],wr=(Et=this.vertexArray)===null||Et===void 0?void 0:Et[br+2],hr+=wt+"   "+Rr+" "+Cr+" "+wr+`,
`}if(hr+=wt+`  ]
`,hr+=wt+` }
`,this.colorArray){hr+=wt+` color Color {
`+wt+`  color [
`;for(let Sr=0;Sr<this.vertices;++Sr){let br=Sr*3;Rr=this.colorArray[br],Cr=this.colorArray[br+1],wr=this.colorArray[br+2],hr+=wt+"   "+Rr+" "+Cr+" "+wr+`,
`}hr+=wt+`  ]
`,hr+=wt+` }
`}hr+=wt+` coordIndex [
`;for(let Sr=0;Sr<this.vertices;Sr+=2)hr+=wt+"  "+Sr+", "+(Sr+1)+`, -1,
`;hr+=wt+` ]
`,hr+=wt+`}
`}else{hr+=wt+`geometry IndexedFaceSet {
`+wt+` colorPerVertex TRUE
`+wt+` normalPerVertex TRUE
`+wt+` solid FALSE
`,hr+=wt+` coord Coordinate {
`+wt+`  point [
`;let Rr,Cr,wr;for(let Sr=0;Sr<this.vertices;++Sr){let br=Sr*3;Rr=(ot=this.vertexArray)===null||ot===void 0?void 0:ot[br],Cr=(_t=this.vertexArray)===null||_t===void 0?void 0:_t[br+1],wr=(Mt=this.vertexArray)===null||Mt===void 0?void 0:Mt[br+2],hr+=wt+"   "+Rr+" "+Cr+" "+wr+`,
`}hr+=wt+`  ]
`,hr+=wt+` }
`,hr+=wt+` normal Normal {
`+wt+`  vector [
`;for(let Sr=0;Sr<this.vertices;++Sr){let br=Sr*3;Rr=(Bt=this.normalArray)===null||Bt===void 0?void 0:Bt[br],Cr=(It=this.normalArray)===null||It===void 0?void 0:It[br+1],wr=(jt=this.normalArray)===null||jt===void 0?void 0:jt[br+2],hr+=wt+"   "+Rr+" "+Cr+" "+wr+`,
`}if(hr+=wt+`  ]
`,hr+=wt+` }
`,this.colorArray){hr+=wt+` color Color {
`+wt+`  color [
`;for(let Sr=0;Sr<this.vertices;++Sr){let br=Sr*3;Rr=this.colorArray[br],Cr=this.colorArray[br+1],wr=this.colorArray[br+2],hr+=wt+"   "+Rr+" "+Cr+" "+wr+`,
`}hr+=wt+`  ]
`,hr+=wt+` }
`}hr+=wt+` coordIndex [
`;for(var Er=0;Er<this.faceidx;Er+=3)Rr=(tr=this.faceArray)===null||tr===void 0?void 0:tr[Er],Cr=(gr=this.faceArray)===null||gr===void 0?void 0:gr[Er+1],wr=(vr=this.faceArray)===null||vr===void 0?void 0:vr[Er+2],hr+=wt+"  "+Rr+", "+Cr+", "+wr+`, -1,
`;hr+=wt+` ]
`,hr+=wt+`}
`}return hr+=mr+"}",hr}truncateArrayBuffers(wt=!0,Dt=!1){var Lt=this.vertexArray,it=this.colorArray,st=this.normalArray,bt=this.faceArray,gt=this.lineArray,Et=this.radiusArray;this.vertexArray=(Lt==null?void 0:Lt.subarray(0,this.vertices*3))||null,this.colorArray=(it==null?void 0:it.subarray(0,this.vertices*3))||null,wt?(this.normalArray=(st==null?void 0:st.subarray(0,this.vertices*3))||null,this.faceArray=(bt==null?void 0:bt.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(gt==null?void 0:gt.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),Et&&(this.radiusArray=Et.subarray(0,this.vertices)),Dt&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class rt extends h.EventDispatcher{constructor(wt=!1,Dt=!1,Lt=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=nt++,this.mesh=wt,this.radii=Dt,this.offset=Lt}updateGeoGroup(wt=0){var Dt,Lt=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!Lt||Lt.vertices+wt>(((Dt=Lt==null?void 0:Lt.vertexArray)===null||Dt===void 0?void 0:Dt.length)||0)/3)&&(Lt=this.addGeoGroup()),Lt}vrml(wt,Dt){for(var Lt="",it=this.geometryGroups.length,st=0;st<it;st++){var bt=this.geometryGroups[st];Lt+=bt.vrml(wt,Dt)+`,
`}return Lt}addGeoGroup(){var wt=new j(this.geometryGroups.length);return this.geometryGroups.push(wt),this.groups=this.geometryGroups.length,wt.vertexArray=new Float32Array($*3),wt.colorArray=new Float32Array($*3),this.mesh&&(wt.normalArray=new Float32Array($*3),wt.faceArray=new Uint16Array($*6),wt.lineArray=new Uint16Array($*6)),this.radii&&(wt.radiusArray=new Float32Array($)),wt.useOffset=this.offset,wt}setUpNormals(...wt){for(var Dt=0;Dt<this.groups;Dt++){var Lt=this.geometryGroups[Dt];Lt.setNormals(...wt)}}setColors(...wt){for(var Dt=this.geometryGroups.length,Lt=0;Lt<Dt;Lt++){var it=this.geometryGroups[Lt];it.setColors(...wt)}}setUpWireframe(...wt){for(var Dt=0;Dt<this.groups;Dt++){var Lt=this.geometryGroups[Dt];Lt.setLineIndices(...wt)}}initTypedArrays(){for(var wt=0;wt<this.groups;wt++){var Dt=this.geometryGroups[wt];Dt.__inittedArrays!==!0&&Dt.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var wt=0,Dt=0;Dt<this.groups;Dt++)wt+=this.geometryGroups[Dt].vertices;return wt}}let nt=0},"./src/WebGL/core/Object3D.ts":(a,o,e)=>{e.r(o),e.d(o,{Light:()=>j,Object3D:()=>b,Object3DIDCount:()=>g,Scene:()=>$});var c=e("./src/WebGL/math/index.ts"),h=e("./src/colors.ts");let g=0;class b{constructor(){this.id=g++,this.name="",this.children=[],this.position=new c.Vector3,this.rotation=new c.Vector3,this.matrix=new c.Matrix4,this.matrixWorld=new c.Matrix4,this.quaternion=new c.Quaternion,this.eulerOrder="XYZ",this.up=new c.Vector3(0,1,0),this.scale=new c.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(nt){this.matrix.lookAt(nt,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof c.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(nt){if(nt===this){console.error("Can't add $3Dmol.Object3D to itself");return}nt.parent=this,this.children.push(nt);for(var pt=this;pt.parent!==void 0;)pt=pt.parent;pt!==void 0&&pt instanceof $&&pt.__addObject(nt)}remove(nt){var pt=this.children.indexOf(nt);if(pt!==-1){nt.parent=void 0,this.children.splice(pt,1);for(var wt=this;wt.parent!==void 0;)wt=wt.parent;wt!==void 0&&wt instanceof $&&wt.__removeObject(nt)}}vrml(nt){nt||(nt=" ");var pt=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),wt=0,Dt=0,Lt=0;if(pt!=0){let bt=Math.sin(pt/2);wt=this.quaternion.x/bt,Dt=this.quaternion.y/bt,Lt=this.quaternion.z/bt}var it=nt+`Transform {
`+nt+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+nt+" rotation "+wt+" "+Dt+" "+Lt+" "+pt+`
`+nt+` children [
`;this.geometry&&(it+=this.geometry.vrml(nt,this.material));for(var st=0;st<this.children.length;st++)it+=this.children[st].vrml(nt+" ")+`,
`;return it+=` ]
`,it+="}",it}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof c.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(nt){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||nt===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var pt=0;pt<this.children.length;pt++)this.children[pt].updateMatrixWorld(!0)}clone(nt){nt===void 0&&(nt=new b),nt.name=this.name,nt.up.copy(this.up),nt.position.copy(this.position),nt.rotation instanceof c.Vector3&&this.rotation instanceof c.Vector3?nt.rotation.copy(this.rotation):nt.rotation=this.rotation,nt.eulerOrder=this.eulerOrder,nt.scale.copy(this.scale),nt.rotationAutoUpdate=this.rotationAutoUpdate,nt.matrix.copy(this.matrix),nt.matrixWorld.copy(this.matrixWorld),nt.quaternion.copy(this.quaternion),nt.matrixAutoUpdate=this.matrixAutoUpdate,nt.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,nt.useQuaternion=this.useQuaternion,nt.visible=this.visible;for(var pt=0;pt<this.children.length;pt++){var wt=this.children[pt];nt.add(wt.clone())}return nt}setVisible(nt){this.visible=nt;for(var pt=0;pt<this.children.length;pt++){var wt=this.children[pt];wt.setVisible(nt)}}}class $ extends b{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(nt){if(nt instanceof j)this.__lights.indexOf(nt)===-1&&this.__lights.push(nt),nt.target&&nt.target.parent===void 0&&this.add(nt.target);else if(this.__objects.indexOf(nt)===-1){this.__objects.push(nt),this.__objectsAdded.push(nt);var pt=this.__objectsRemoved.indexOf(nt);pt!==-1&&this.__objectsRemoved.splice(pt,1)}for(var wt=0;wt<nt.children.length;wt++)this.__addObject(nt.children[wt])}__removeObject(nt){var pt;if(nt instanceof j)pt=this.__lights.indexOf(nt),pt!==-1&&this.__lights.splice(pt,1);else if(pt=this.__objects.indexOf(nt),pt!==-1){this.__objects.splice(pt,1),this.__objectsRemoved.push(nt);var wt=this.__objectsAdded.indexOf(nt);wt!==-1&&this.__objectsAdded.splice(pt,1)}for(var Dt=0;Dt<nt.children.length;Dt++)this.__removeObject(nt.children[Dt])}}class j extends b{constructor(nt,pt=1){super(),this.position=new c.Vector3(0,1,0),this.target=new b,this.castShadow=!1,this.onlyShadow=!1,this.color=new h.Color(nt),this.intensity=pt}}},"./src/WebGL/core/Projector.ts":(a,o,e)=>{e.r(o),e.d(o,{Projector:()=>g});var c=e("./src/WebGL/math/index.ts");const h=new c.Matrix4;class g{static unprojectVector($,j){return j.projectionMatrixInverse.getInverse(j.projectionMatrix),h.multiplyMatrices(j.matrixWorld,j.projectionMatrixInverse),$.applyProjection(h)}static projectVector($,j){return j.matrixWorldInverse.getInverse(j.matrixWorld),h.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),$.applyProjection(h)}projectVector($,j){return g.projectVector($,j)}unprojectVector($,j){return g.unprojectVector($,j)}}},"./src/WebGL/core/Raycaster.ts":(a,o,e)=>{e.r(o),e.d(o,{Raycaster:()=>$,intersectObject:()=>bt});var c=e("./src/WebGL/math/index.ts"),h=e("./src/WebGL/shapes/index.ts");const g=(gt,Et)=>gt.distance-Et.distance,b=new c.Matrix4;class ${constructor(Et,ot,_t,Mt){this.precision=1e-4,this.linePrecision=.2,this.ray=new c.Ray(Et,ot),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=Mt||0,this.far=_t||1/0}set(Et,ot){this.ray.set(Et,ot)}setFromCamera(Et,ot){ot.ortho?(this.ray.origin.set(Et.x,Et.y,(ot.near+ot.far)/(ot.near-ot.far)).unproject(ot),this.ray.direction.set(0,0,-1).transformDirection(ot.matrixWorld)):(this.ray.origin.setFromMatrixPosition(ot.matrixWorld),this.ray.direction.set(Et.x,Et.y,Et.z),ot.projectionMatrixInverse.getInverse(ot.projectionMatrix),b.multiplyMatrices(ot.matrixWorld,ot.projectionMatrixInverse),this.ray.direction.applyProjection(b),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(Et,ot){for(var _t=[],Mt=0,Bt=ot.length;Mt<Bt;Mt++)bt(Et,ot[Mt],this,_t);return _t.sort(g),_t}}const j=gt=>Math.min(Math.max(gt,-1),1);var rt=new h.Sphere,nt=new h.Cylinder,pt=new h.Triangle,wt=new c.Vector3,Dt=new c.Vector3,Lt=new c.Vector3,it=new c.Vector3,st=new c.Vector3;function bt(gt,Et,ot,_t){if(st.getPositionFromMatrix(gt.matrixWorld),Et.intersectionShape===void 0)return _t;var Mt=Et.intersectionShape,Bt=ot.linePrecision;Bt*=gt.matrixWorld.getMaxScaleOnAxis();var It=Bt*Bt;if(Et.boundingSphere!==void 0&&Et.boundingSphere instanceof h.Sphere&&(rt.copy(Et.boundingSphere),rt.applyMatrix4(gt.matrixWorld),!ot.ray.isIntersectionSphere(rt)))return _t;var jt,tr,gr,vr,hr,mr,Er,Rr,Cr,wr,Sr,br,xr,Or;for(jt=0,tr=Mt.triangle.length;jt<tr;jt++)if(Mt.triangle[jt]instanceof h.Triangle){if(pt.copy(Mt.triangle[jt]),pt.applyMatrix4(gt.matrixWorld),gr=pt.getNormal(),vr=ot.ray.direction.dot(gr),vr>=0||(wt.subVectors(pt.a,ot.ray.origin),Er=gr.dot(wt)/vr,Er<0))continue;Dt.copy(ot.ray.direction).multiplyScalar(Er).add(ot.ray.origin),Dt.sub(pt.a),Lt.copy(pt.b).sub(pt.a),it.copy(pt.c).sub(pt.a);var In=Lt.dot(it),Nn=Lt.lengthSq(),Hn=it.lengthSq();if(br=(Nn*Dt.dot(it)-In*Dt.dot(Lt))/(Nn*Hn-In*In),br<0||br>1||(Sr=(Dt.dot(Lt)-br*In)/Nn,Sr<0||Sr>1||Sr+br>1))continue;_t.push({clickable:Et,distance:Er})}for(jt=0,tr=Mt.cylinder.length;jt<tr;jt++)if(Mt.cylinder[jt]instanceof h.Cylinder){if(nt.copy(Mt.cylinder[jt]),nt.applyMatrix4(gt.matrixWorld),wt.subVectors(nt.c1,ot.ray.origin),hr=wt.dot(nt.direction),mr=wt.dot(ot.ray.direction),vr=j(ot.ray.direction.dot(nt.direction)),Cr=1-vr*vr,Cr===0)continue;xr=(vr*mr-hr)/Cr,Or=(mr-vr*hr)/Cr,Dt.copy(nt.direction).multiplyScalar(xr).add(nt.c1),Lt.copy(ot.ray.direction).multiplyScalar(Or).add(ot.ray.origin),Rr=it.subVectors(Dt,Lt).lengthSq();var Bn=nt.radius*nt.radius;if(Rr<=Bn){if(wr=(vr*hr-mr)*(vr*hr-mr)-Cr*(wt.lengthSq()-hr*hr-Bn),wr<=0?br=Er=Math.sqrt(Rr):br=Er=(mr-vr*hr-Math.sqrt(wr))/Cr,Sr=vr*br-hr,Sr<0||Sr*Sr>nt.lengthSq()||br<0)continue;_t.push({clickable:Et,distance:Er})}}for(jt=0,tr=Mt.line.length;jt<tr;jt+=2){Dt.copy(Mt.line[jt]),Dt.applyMatrix4(gt.matrixWorld),Lt.copy(Mt.line[jt+1]),Lt.applyMatrix4(gt.matrixWorld),it.subVectors(Lt,Dt);var qn=it.lengthSq();it.normalize(),wt.subVectors(Dt,ot.ray.origin);var Wn=wt.dot(it);mr=wt.dot(ot.ray.direction),vr=j(ot.ray.direction.dot(it)),Cr=1-vr*vr,Cr!==0&&(xr=(vr*mr-Wn)/Cr,Or=(mr-vr*Wn)/Cr,Dt.add(it.multiplyScalar(xr)),Lt.copy(ot.ray.direction).multiplyScalar(Or).add(ot.ray.origin),Rr=it.subVectors(Lt,Dt).lengthSq(),Rr<It&&xr*xr<qn&&_t.push({clickable:Et,distance:Or}))}for(jt=0,tr=Mt.sphere.length;jt<tr;jt++)if(Mt.sphere[jt]instanceof h.Sphere&&(rt.copy(Mt.sphere[jt]),rt.applyMatrix4(gt.matrixWorld),ot.ray.isIntersectionSphere(rt))){Dt.subVectors(rt.center,ot.ray.origin);var Yn=Dt.dot(ot.ray.direction);if(wr=Yn*Yn-(Dt.lengthSq()-rt.radius*rt.radius),Yn<0)return _t;wr<=0?Er=Yn:Er=Yn-Math.sqrt(wr),_t.push({clickable:Et,distance:Er})}return _t}},"./src/WebGL/core/Texture.ts":(a,o,e)=>{e.r(o),e.d(o,{Texture:()=>$,TextureIdCount:()=>j});var c=e("./src/WebGL/constants/TextureConstants.ts"),h=e("./src/WebGL/math/index.ts"),g=e("./src/WebGL/core/EventDispatcher.ts"),b=e("./src/WebGL/core/UVMapping.ts");class $ extends g.EventDispatcher{constructor(nt,pt){super(),this.id=j++,this.name="",this.image=nt,this.mapping=new b.UVMapping,this.wrapS=c.ClampToEdgeWrapping,this.wrapT=c.ClampToEdgeWrapping,this.anisotropy=1,pt?(this.format=c.RFormat,this.type=c.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=c.NearestFilter,this.minFilter=c.NearestFilter):(this.format=c.RGBAFormat,this.type=c.UnsignedByteType,this.offset=new h.Vector2(0,0),this.repeat=new h.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=c.LinearFilter,this.minFilter=c.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(nt=new $){return nt.image=this.image,nt.mapping=this.mapping,nt.wrapS=this.wrapS,nt.wrapT=this.wrapT,nt.magFilter=this.magFilter,nt.minFilter=this.minFilter,nt.anisotropy=this.anisotropy,nt.format=this.format,nt.type=this.type,nt.offset.copy(this.offset),nt.repeat.copy(this.repeat),nt.premultiplyAlpha=this.premultiplyAlpha,nt.flipY=this.flipY,nt.unpackAlignment=this.unpackAlignment,nt}dispose(){this.dispatchEvent({type:"dispose"})}}let j=0},"./src/WebGL/core/UVMapping.ts":(a,o,e)=>{e.r(o),e.d(o,{UVMapping:()=>c});class c{}},"./src/WebGL/core/index.ts":(a,o,e)=>{e.r(o),e.d(o,{EventDispatcher:()=>c.EventDispatcher,Geometry:()=>h.Geometry,GeometryGroup:()=>h.GeometryGroup,GeometryIDCount:()=>h.GeometryIDCount,Light:()=>g.Light,Object3D:()=>g.Object3D,Object3DIDCount:()=>g.Object3DIDCount,Projector:()=>b.Projector,Raycaster:()=>$.Raycaster,Scene:()=>g.Scene,Texture:()=>j.Texture,TextureIdCount:()=>j.TextureIdCount,UVMapping:()=>rt.UVMapping,intersectObject:()=>$.intersectObject});var c=e("./src/WebGL/core/EventDispatcher.ts"),h=e("./src/WebGL/core/Geometry.ts"),g=e("./src/WebGL/core/Object3D.ts"),b=e("./src/WebGL/core/Projector.ts"),$=e("./src/WebGL/core/Raycaster.ts"),j=e("./src/WebGL/core/Texture.ts"),rt=e("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(a,o,e)=>{e.r(o),e.d(o,{BackSide:()=>c.BackSide,Camera:()=>nt.Camera,ClampToEdgeWrapping:()=>c.ClampToEdgeWrapping,Coloring:()=>c.Coloring,Cylinder:()=>rt.Cylinder,DoubleSide:()=>c.DoubleSide,EventDispatcher:()=>h.EventDispatcher,FloatType:()=>c.FloatType,Fog:()=>pt.Fog,FrontSide:()=>c.FrontSide,Geometry:()=>h.Geometry,GeometryGroup:()=>h.GeometryGroup,GeometryIDCount:()=>h.GeometryIDCount,ImposterMaterial:()=>g.ImposterMaterial,InstancedMaterial:()=>g.InstancedMaterial,Light:()=>h.Light,Line:()=>$.Line,LineBasicMaterial:()=>g.LineBasicMaterial,LineStyle:()=>$.LineStyle,LinearFilter:()=>c.LinearFilter,LinearMipMapLinearFilter:()=>c.LinearMipMapLinearFilter,Material:()=>g.Material,MaterialIdCount:()=>g.MaterialIdCount,Matrix3:()=>b.Matrix3,Matrix4:()=>b.Matrix4,Mesh:()=>$.Mesh,MeshDoubleLambertMaterial:()=>g.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>g.MeshLambertMaterial,MeshOutlineMaterial:()=>g.MeshOutlineMaterial,NearestFilter:()=>c.NearestFilter,Object3D:()=>h.Object3D,Object3DIDCount:()=>h.Object3DIDCount,Projector:()=>h.Projector,Quaternion:()=>b.Quaternion,R32Format:()=>c.R32Format,RFormat:()=>c.RFormat,RGBAFormat:()=>c.RGBAFormat,Ray:()=>b.Ray,Raycaster:()=>h.Raycaster,Renderer:()=>wt.Renderer,Scene:()=>h.Scene,ShaderLib:()=>j.ShaderLib,ShaderUtils:()=>j.ShaderUtils,Shading:()=>c.Shading,Sphere:()=>rt.Sphere,SphereImposterMaterial:()=>g.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>g.SphereImposterOutlineMaterial,Sprite:()=>$.Sprite,SpriteAlignment:()=>c.SpriteAlignment,SpriteMaterial:()=>g.SpriteMaterial,SpritePlugin:()=>Dt.SpritePlugin,StickImposterMaterial:()=>g.StickImposterMaterial,StickImposterOutlineMaterial:()=>g.StickImposterOutlineMaterial,Texture:()=>h.Texture,TextureIdCount:()=>h.TextureIdCount,TextureOperations:()=>c.TextureOperations,Triangle:()=>rt.Triangle,UVMapping:()=>h.UVMapping,UnsignedByteType:()=>c.UnsignedByteType,Vector2:()=>b.Vector2,Vector3:()=>b.Vector3,VolumetricMaterial:()=>g.VolumetricMaterial,basic:()=>j.basic,clamp:()=>b.clamp,clone:()=>j.clone,conversionMatrix3:()=>b.conversionMatrix3,degToRad:()=>b.degToRad,instanced:()=>j.instanced,intersectObject:()=>h.intersectObject,lambert:()=>j.lambert,lambertdouble:()=>j.lambertdouble,outline:()=>j.outline,screen:()=>j.screen,screenaa:()=>j.screenaa,sphereimposter:()=>j.sphereimposter,sphereimposteroutline:()=>j.sphereimposteroutline,sprite:()=>j.sprite,stickimposter:()=>j.stickimposter,stickimposteroutline:()=>j.stickimposteroutline,volumetric:()=>j.volumetric});var c=e("./src/WebGL/constants/index.ts"),h=e("./src/WebGL/core/index.ts"),g=e("./src/WebGL/materials/index.ts"),b=e("./src/WebGL/math/index.ts"),$=e("./src/WebGL/objects/index.ts"),j=e("./src/WebGL/shaders/index.ts"),rt=e("./src/WebGL/shapes/index.ts"),nt=e("./src/WebGL/Camera.ts"),pt=e("./src/WebGL/Fog.ts"),wt=e("./src/WebGL/Renderer.ts"),Dt=e("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{ImposterMaterial:()=>j});var c=e("./src/WebGL/constants/Coloring.ts"),h=e("./src/WebGL/constants/Shading.ts"),g=e("./src/colors.ts"),b=e("./src/WebGL/math/index.ts"),$=e("./src/WebGL/materials/Material.ts");class j extends $.Material{constructor(nt){super(),this.color=new g.Color(16777215),this.ambient=new g.Color(1048575),this.emissive=new g.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new b.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=h.Shading.SmoothShading,this.shaderID=null,this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.setValues(nt)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.ambient.copy(this.ambient),nt.emissive.copy(this.emissive),nt.wrapAround=this.wrapAround,nt.wrapRGB.copy(this.wrapRGB),nt.map=this.map,nt.lightMap=this.lightMap,nt.specularMap=this.specularMap,nt.envMap=this.envMap,nt.combine=this.combine,nt.reflectivity=this.reflectivity,nt.refractionRatio=this.refractionRatio,nt.fog=this.fog,nt.shading=this.shading,nt.shaderID=this.shaderID,nt.vertexColors=this.vertexColors,nt.skinning=this.skinning,nt.morphTargets=this.morphTargets,nt.morphNormals=this.morphNormals,nt}}},"./src/WebGL/materials/InstancedMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{InstancedMaterial:()=>j});var c=e("./src/WebGL/constants/Coloring.ts"),h=e("./src/WebGL/constants/Shading.ts"),g=e("./src/colors.ts"),b=e("./src/WebGL/math/index.ts"),$=e("./src/WebGL/materials/Material.ts");class j extends $.Material{constructor(nt){super(),this.color=new g.Color(16777215),this.ambient=new g.Color(1048575),this.emissive=new g.Color(0),this.wrapAround=!1,this.wrapRGB=new b.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=h.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(nt)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.ambient.copy(this.ambient),nt.emissive.copy(this.emissive),nt.wrapAround=this.wrapAround,nt.wrapRGB.copy(this.wrapRGB),nt.map=this.map,nt.lightMap=this.lightMap,nt.specularMap=this.specularMap,nt.envMap=this.envMap,nt.combine=this.combine,nt.reflectivity=this.reflectivity,nt.refractionRatio=this.refractionRatio,nt.fog=this.fog,nt.shading=this.shading,nt.shaderID=this.shaderID,nt.vertexColors=this.vertexColors,nt.skinning=this.skinning,nt.morphTargets=this.morphTargets,nt.morphNormals=this.morphNormals,nt.sphere=this.sphere,nt}}},"./src/WebGL/materials/LineBasicMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{LineBasicMaterial:()=>g});var c=e("./src/colors.ts"),h=e("./src/WebGL/materials/Material.ts");class g extends h.Material{constructor($){super(),this.color=new c.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues($)}clone($=new g){return super.clone.call(this,$),$.color.copy(this.color),$}}},"./src/WebGL/materials/Material.ts":(a,o,e)=>{e.r(o),e.d(o,{Material:()=>$,MaterialIdCount:()=>j});var c=e("./src/WebGL/constants/Sides.ts"),h=e("./src/WebGL/core/index.ts"),g=e("./src/WebGL/math/index.ts"),b=e("./src/colors.ts");class $ extends h.EventDispatcher{constructor(){super(...arguments),this.id=j++,this.name="",this.side=c.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1}setValues(nt={}){if(nt!==void 0)for(var pt in nt){var wt=nt[pt];if(wt===void 0){console.warn("$3Dmol.Material: '"+pt+"' parameter is undefined.");continue}if(pt in this){var Dt=this[pt];Dt instanceof b.Color&&wt instanceof b.Color?Dt.copy(wt):Dt instanceof b.Color?Dt.set(wt):Dt instanceof g.Vector3&&wt instanceof g.Vector3?Dt.copy(wt):this[pt]=wt}}}clone(nt=new $){return nt.name=this.name,nt.side=this.side,nt.opacity=this.opacity,nt.transparent=this.transparent,nt.depthTest=this.depthTest,nt.depthWrite=this.depthWrite,nt.stencilTest=this.stencilTest,nt.polygonOffset=this.polygonOffset,nt.polygonOffsetFactor=this.polygonOffsetFactor,nt.polygonOffsetUnits=this.polygonOffsetUnits,nt.alphaTest=this.alphaTest,nt.overdraw=this.overdraw,nt.visible=this.visible,nt}dispose(){this.dispatchEvent({type:"dispose"})}}let j=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{MeshDoubleLambertMaterial:()=>g});var c=e("./src/WebGL/constants/Sides.ts"),h=e("./src/WebGL/materials/MeshLambertMaterial.ts");class g extends h.MeshLambertMaterial{constructor($){super($),this.shaderID="lambertdouble",this.side=c.DoubleSide,this.outline=!1}clone($=new g){return super.clone.call(this,$),$}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{MeshLambertMaterial:()=>j});var c=e("./src/WebGL/constants/Coloring.ts"),h=e("./src/WebGL/constants/Shading.ts"),g=e("./src/WebGL/materials/Material.ts"),b=e("./src/colors.ts"),$=e("./src/WebGL/math/index.ts");class j extends g.Material{constructor(nt){super(),this.color=new b.Color(16777215),this.ambient=new b.Color(1048575),this.emissive=new b.Color(0),this.wrapAround=!1,this.wrapRGB=new $.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=h.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.setValues(nt)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.ambient.copy(this.ambient),nt.emissive.copy(this.emissive),nt.wrapAround=this.wrapAround,nt.wrapRGB.copy(this.wrapRGB),nt.map=this.map,nt.lightMap=this.lightMap,nt.specularMap=this.specularMap,nt.envMap=this.envMap,nt.combine=this.combine,nt.reflectivity=this.reflectivity,nt.refractionRatio=this.refractionRatio,nt.fog=this.fog,nt.shading=this.shading,nt.shaderID=this.shaderID,nt.vertexColors=this.vertexColors,nt.skinning=this.skinning,nt.morphTargets=this.morphTargets,nt.morphNormals=this.morphNormals,nt}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{MeshOutlineMaterial:()=>g});var c=e("./src/colors.ts"),h=e("./src/WebGL/materials/Material.ts");class g extends h.Material{constructor($){super(),$=$||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=$.color||new c.Color(0,0,0),this.outlineWidth=$.width||.1,this.outlinePushback=$.pushback||1}clone($=new g){return super.clone.call(this,$),$.fog=this.fog,$.shaderID=this.shaderID,$.wireframe=this.wireframe,$}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{SphereImposterMaterial:()=>h});var c=e("./src/WebGL/materials/ImposterMaterial.ts");class h extends c.ImposterMaterial{constructor(b){super(b),this.shaderID="sphereimposter",this.setValues(b)}clone(b=new h){return super.clone.call(this,b),b}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{SphereImposterOutlineMaterial:()=>g});var c=e("./src/colors.ts"),h=e("./src/WebGL/materials/ImposterMaterial.ts");class g extends h.ImposterMaterial{constructor($){super($),$=$||{},this.shaderID="sphereimposteroutline",this.outlineColor=$.color||new c.Color(0,0,0),this.outlineWidth=$.width||.1,this.outlinePushback=$.pushback||1,this.setValues($)}clone($=new g){return super.clone.call(this,$),$.outlineColor=this.outlineColor,$.outlineWidth=this.outlineWidth,$.outlinePushback=this.outlinePushback,$}}},"./src/WebGL/materials/SpriteMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{SpriteMaterial:()=>j});var c=e("./src/WebGL/constants/SpriteAlignment.ts"),h=e("./src/WebGL/core/Texture.ts"),g=e("./src/colors.ts"),b=e("./src/WebGL/math/index.ts"),$=e("./src/WebGL/materials/Material.ts");class j extends $.Material{constructor(nt){super(),this.color=new g.Color(16777215),this.map=new h.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new b.Vector2(0,0),this.uvScale=new b.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=c.SpriteAlignment.center.clone(),this.setValues(nt),nt=nt||{},nt.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),nt.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),nt.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.map=this.map,nt.useScreenCoordinates=this.useScreenCoordinates,nt.screenOffset=this.screenOffset,nt.sizeAttenuation=this.sizeAttenuation,nt.scaleByViewport=this.scaleByViewPort,nt.alignment.copy(this.alignment),nt.uvOffset.copy(this.uvOffset),nt}}},"./src/WebGL/materials/StickImposterMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{StickImposterMaterial:()=>h});var c=e("./src/WebGL/materials/ImposterMaterial.ts");class h extends c.ImposterMaterial{constructor(b){super(b),this.shaderID="stickimposter",this.setValues(b)}clone(b=new h){return super.clone.call(this,b),b}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{StickImposterOutlineMaterial:()=>g});var c=e("./src/colors.ts"),h=e("./src/WebGL/materials/ImposterMaterial.ts");class g extends h.ImposterMaterial{constructor($={}){super($),this.shaderID="stickimposteroutline",this.outlineColor=new c.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,$.color&&(this.outlineColor=$.color),$.width&&(this.outlineWidth=$.width),$.pushback&&(this.outlinePushback=$.pushback),this.setValues($)}clone($=new g){return super.clone.call(this,$),$.outlineColor=this.outlineColor,$.outlineWidth=this.outlineWidth,$.outlinePushback=this.outlinePushback,$}}},"./src/WebGL/materials/VolumetricMaterial.ts":(a,o,e)=>{e.r(o),e.d(o,{VolumetricMaterial:()=>b});var c=e("./src/WebGL/constants/Sides.ts"),h=e("./src/colors.ts"),g=e("./src/WebGL/materials/Material.ts");class b extends g.Material{constructor(j){super(),this.transparent=!1,this.volumetric=!0,this.color=new h.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=c.FrontSide,this.setValues(j)}clone(j=new b){return super.clone.call(this,j),j.transparent=this.transparent,j.volumetric=this.volumetric,j.color=this.color,j.transferfn=this.transferfn,j.map=this.map,j.extent=this.extent,j.maxdepth=this.maxdepth,j.unit=this.unit,j.texmatrix=this.texmatrix,j.transfermin=this.transfermin,j.transfermax=this.transfermax,j.subsamples=this.subsamples,j.shaderID=this.shaderID,j.side=this.side,j}}},"./src/WebGL/materials/index.ts":(a,o,e)=>{e.r(o),e.d(o,{ImposterMaterial:()=>c.ImposterMaterial,InstancedMaterial:()=>h.InstancedMaterial,LineBasicMaterial:()=>g.LineBasicMaterial,Material:()=>b.Material,MaterialIdCount:()=>b.MaterialIdCount,MeshDoubleLambertMaterial:()=>$.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>j.MeshLambertMaterial,MeshOutlineMaterial:()=>rt.MeshOutlineMaterial,SphereImposterMaterial:()=>nt.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>pt.SphereImposterOutlineMaterial,SpriteMaterial:()=>wt.SpriteMaterial,StickImposterMaterial:()=>Dt.StickImposterMaterial,StickImposterOutlineMaterial:()=>Lt.StickImposterOutlineMaterial,VolumetricMaterial:()=>it.VolumetricMaterial});var c=e("./src/WebGL/materials/ImposterMaterial.ts"),h=e("./src/WebGL/materials/InstancedMaterial.ts"),g=e("./src/WebGL/materials/LineBasicMaterial.ts"),b=e("./src/WebGL/materials/Material.ts"),$=e("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),j=e("./src/WebGL/materials/MeshLambertMaterial.ts"),rt=e("./src/WebGL/materials/MeshOutlineMaterial.ts"),nt=e("./src/WebGL/materials/SphereImposterMaterial.ts"),pt=e("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),wt=e("./src/WebGL/materials/SpriteMaterial.ts"),Dt=e("./src/WebGL/materials/StickImposterMaterial.ts"),Lt=e("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),it=e("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(a,o,e)=>{e.r(o),e.d(o,{Quaternion:()=>c});class c{constructor(g,b,$,j){this.x=g||0,this.y=b||0,this.z=$||0,this.w=j!==void 0?j:1}set(g,b,$,j){return this.x=g,this.y=b,this.z=$,this.w=j,this}copy(g){return this.x=g.x,this.y=g.y,this.z=g.z,this.w=g.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let g=this.length();return g===0?(this.x=0,this.y=0,this.z=0,this.w=1):(g=1/g,this.x*=g,this.y*=g,this.z*=g,this.w*=g),this}multiply(g){return this.multiplyQuaternions(this,g)}multiplyScalar(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this}multiplyQuaternions(g,b){const $=g.x,j=g.y,rt=g.z,nt=g.w,pt=b.x,wt=b.y,Dt=b.z,Lt=b.w;return this.x=$*Lt+nt*pt+j*Dt-rt*wt,this.y=j*Lt+nt*wt+rt*pt-$*Dt,this.z=rt*Lt+nt*Dt+$*wt-j*pt,this.w=nt*Lt-$*pt-j*wt-rt*Dt,this}sub(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z,this.w-=g.w,this}clone(){return new c(this.x,this.y,this.z,this.w)}setFromEuler(g){const b=Math.cos(g.x/2),$=Math.cos(g.y/2),j=Math.cos(g.z/2),rt=Math.sin(g.x/2),nt=Math.sin(g.y/2),pt=Math.sin(g.z/2);return this.x=rt*$*j+b*nt*pt,this.y=b*nt*j-rt*$*pt,this.z=b*$*pt+rt*nt*j,this.w=b*$*j-rt*nt*pt,this}}},"./src/WebGL/math/Vector2.ts":(a,o,e)=>{e.r(o),e.d(o,{Vector2:()=>c});class c{constructor(g,b){this.x=g||0,this.y=b||0}set(g,b){return this.x=g,this.y=b,this}subVectors(g,b){return this.x=g.x-b.x,this.y=g.y-b.y,this}copy(g){return this.x=g.x,this.y=g.y,this}clone(){return new c(this.x,this.y)}}},"./src/WebGL/math/index.ts":(a,o,e)=>{e.r(o),e.d(o,{Matrix3:()=>j.Matrix3,Matrix4:()=>j.Matrix4,Quaternion:()=>c.Quaternion,Ray:()=>j.Ray,Vector2:()=>h.Vector2,Vector3:()=>j.Vector3,clamp:()=>g.clamp,conversionMatrix3:()=>b.conversionMatrix3,degToRad:()=>$.degToRad});var c=e("./src/WebGL/math/Quaternion.ts"),h=e("./src/WebGL/math/Vector2.ts"),g=e("./src/WebGL/math/utils/clamp.ts"),b=e("./src/WebGL/math/utils/conversionMatrix3.ts"),$=e("./src/WebGL/math/utils/degToRad.ts"),j=e("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(a,o,e)=>{e.r(o),e.d(o,{Matrix3:()=>wt,Matrix4:()=>nt,Ray:()=>Dt,Vector3:()=>pt});var c=e("./src/WebGL/math/utils/degToRad.ts"),h=e("./src/WebGL/math/utils/clamp.ts"),g,b,$,j,rt;class nt{constructor(it=1,st=0,bt=0,gt=0,Et=0,ot=1,_t=0,Mt=0,Bt=0,It=0,jt=1,tr=0,gr=0,vr=0,hr=0,mr=1){typeof it<"u"&&typeof it!="number"?this.elements=new Float32Array(it):(this.elements=new Float32Array(16),this.elements[0]=it,this.elements[4]=st,this.elements[8]=bt,this.elements[12]=gt,this.elements[1]=Et,this.elements[5]=ot,this.elements[9]=_t,this.elements[13]=Mt,this.elements[2]=Bt,this.elements[6]=It,this.elements[10]=jt,this.elements[14]=tr,this.elements[3]=gr,this.elements[7]=vr,this.elements[11]=hr,this.elements[15]=mr)}makeScale(it,st,bt){throw new Error("Method not implemented.")}set(it,st,bt,gt,Et,ot,_t,Mt,Bt,It,jt,tr,gr,vr,hr,mr){const Er=this.elements;return Er[0]=it,Er[4]=st,Er[8]=bt,Er[12]=gt,Er[1]=Et,Er[5]=ot,Er[9]=_t,Er[13]=Mt,Er[2]=Bt,Er[6]=It,Er[10]=jt,Er[14]=tr,Er[3]=gr,Er[7]=vr,Er[11]=hr,Er[15]=mr,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(it){const st=it.elements;return this.set(st[0],st[4],st[8],st[12],st[1],st[5],st[9],st[13],st[2],st[6],st[10],st[14],st[3],st[7],st[11],st[15]),this}matrix3FromTopLeft(){const it=this.elements;return new wt(it[0],it[4],it[8],it[1],it[5],it[9],it[2],it[6],it[10])}setRotationFromEuler(it,st){const bt=this.elements,{x:gt,y:Et,z:ot}=it,_t=Math.cos(gt),Mt=Math.sin(gt),Bt=Math.cos(Et),It=Math.sin(Et),jt=Math.cos(ot),tr=Math.sin(ot);if(st===void 0||st==="XYZ"){const gr=_t*jt,vr=_t*tr,hr=Mt*jt,mr=Mt*tr;bt[0]=Bt*jt,bt[4]=-Bt*tr,bt[8]=It,bt[1]=vr+hr*It,bt[5]=gr-mr*It,bt[9]=-Mt*Bt,bt[2]=mr-gr*It,bt[6]=hr+vr*It,bt[10]=_t*Bt}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${st}`);return this}setRotationFromQuaternion(it){const st=this.elements,{x:bt,y:gt,z:Et,w:ot}=it,_t=bt+bt,Mt=gt+gt,Bt=Et+Et,It=bt*_t,jt=bt*Mt,tr=bt*Bt,gr=gt*Mt,vr=gt*Bt,hr=Et*Bt,mr=ot*_t,Er=ot*Mt,Rr=ot*Bt;return st[0]=1-(gr+hr),st[4]=jt-Rr,st[8]=tr+Er,st[1]=jt+Rr,st[5]=1-(It+hr),st[9]=vr-mr,st[2]=tr-Er,st[6]=vr+mr,st[10]=1-(It+gr),this}multiplyMatrices(it,st){const bt=it.elements,gt=st.elements,Et=this.elements,ot=bt[0],_t=bt[4],Mt=bt[8],Bt=bt[12],It=bt[1],jt=bt[5],tr=bt[9],gr=bt[13],vr=bt[2],hr=bt[6],mr=bt[10],Er=bt[14],Rr=bt[3],Cr=bt[7],wr=bt[11],Sr=bt[15],br=gt[0],xr=gt[4],Or=gt[8],In=gt[12],Nn=gt[1],Hn=gt[5],Bn=gt[9],qn=gt[13],Wn=gt[2],Yn=gt[6],po=gt[10],eo=gt[14],wo=gt[3],Vn=gt[7],Kn=gt[11],to=gt[15];return Et[0]=ot*br+_t*Nn+Mt*Wn+Bt*wo,Et[4]=ot*xr+_t*Hn+Mt*Yn+Bt*Vn,Et[8]=ot*Or+_t*Bn+Mt*po+Bt*Kn,Et[12]=ot*In+_t*qn+Mt*eo+Bt*to,Et[1]=It*br+jt*Nn+tr*Wn+gr*wo,Et[5]=It*xr+jt*Hn+tr*Yn+gr*Vn,Et[9]=It*Or+jt*Bn+tr*po+gr*Kn,Et[13]=It*In+jt*qn+tr*eo+gr*to,Et[2]=vr*br+hr*Nn+mr*Wn+Er*wo,Et[6]=vr*xr+hr*Hn+mr*Yn+Er*Vn,Et[10]=vr*Or+hr*Bn+mr*po+Er*Kn,Et[14]=vr*In+hr*qn+mr*eo+Er*to,Et[3]=Rr*br+Cr*Nn+wr*Wn+Sr*wo,Et[7]=Rr*xr+Cr*Hn+wr*Yn+Sr*Vn,Et[11]=Rr*Or+Cr*Bn+wr*po+Sr*Kn,Et[15]=Rr*In+Cr*qn+wr*eo+Sr*to,this}multiplyScalar(it){const st=this.elements;return st[0]*=it,st[4]*=it,st[8]*=it,st[12]*=it,st[1]*=it,st[5]*=it,st[9]*=it,st[13]*=it,st[2]*=it,st[6]*=it,st[10]*=it,st[14]*=it,st[3]*=it,st[7]*=it,st[11]*=it,st[15]*=it,this}makeTranslation(it,st,bt){return this.set(1,0,0,it,0,1,0,st,0,0,1,bt,0,0,0,1),this}snap(it){const st=Math.pow(10,4),bt=this.elements;for(let gt=0;gt<16;gt++){const Et=Math.round(bt[gt]);Et===Math.round(bt[gt]*st)/st&&(bt[gt]=Et)}return this}transpose(){const it=this.elements;let st;return st=it[1],it[1]=it[4],it[4]=st,st=it[2],it[2]=it[8],it[8]=st,st=it[6],it[6]=it[9],it[9]=st,st=it[3],it[3]=it[12],it[12]=st,st=it[7],it[7]=it[13],it[13]=st,st=it[11],it[11]=it[14],it[14]=st,this}setPosition(it){const st=this.elements;return st[12]=it.x,st[13]=it.y,st[14]=it.z,this}translate(it){const st=this.elements;return st[12]+=it.x,st[13]+=it.y,st[14]+=it.z,this}getInverse(it,st){const bt=this.elements,gt=it.elements,Et=gt[0],ot=gt[4],_t=gt[8],Mt=gt[12],Bt=gt[1],It=gt[5],jt=gt[9],tr=gt[13],gr=gt[2],vr=gt[6],hr=gt[10],mr=gt[14],Er=gt[3],Rr=gt[7],Cr=gt[11],wr=gt[15];bt[0]=jt*mr*Rr-tr*hr*Rr+tr*vr*Cr-It*mr*Cr-jt*vr*wr+It*hr*wr,bt[4]=Mt*hr*Rr-_t*mr*Rr-Mt*vr*Cr+ot*mr*Cr+_t*vr*wr-ot*hr*wr,bt[8]=_t*tr*Rr-Mt*jt*Rr+Mt*It*Cr-ot*tr*Cr-_t*It*wr+ot*jt*wr,bt[12]=Mt*jt*vr-_t*tr*vr-Mt*It*hr+ot*tr*hr+_t*It*mr-ot*jt*mr,bt[1]=tr*hr*Er-jt*mr*Er-tr*gr*Cr+Bt*mr*Cr+jt*gr*wr-Bt*hr*wr,bt[5]=_t*mr*Er-Mt*hr*Er+Mt*gr*Cr-Et*mr*Cr-_t*gr*wr+Et*hr*wr,bt[9]=Mt*jt*Er-_t*tr*Er-Mt*Bt*Cr+Et*tr*Cr+_t*Bt*wr-Et*jt*wr,bt[13]=_t*tr*gr-Mt*jt*gr+Mt*Bt*hr-Et*tr*hr-_t*Bt*mr+Et*jt*mr,bt[2]=It*mr*Er-tr*vr*Er+tr*gr*Rr-Bt*mr*Rr-It*gr*wr+Bt*vr*wr,bt[6]=Mt*vr*Er-ot*mr*Er-Mt*gr*Rr+Et*mr*Rr+ot*gr*wr-Et*vr*wr,bt[10]=ot*tr*Er-Mt*It*Er+Mt*Bt*Rr-Et*tr*Rr-ot*Bt*wr+Et*It*wr,bt[14]=Mt*It*gr-ot*tr*gr-Mt*Bt*vr+Et*tr*vr+ot*Bt*mr-Et*It*mr,bt[3]=jt*vr*Er-It*hr*Er-jt*gr*Rr+Bt*hr*Rr+It*gr*Cr-Bt*vr*Cr,bt[7]=ot*hr*Er-_t*vr*Er+_t*gr*Rr-Et*hr*Rr-ot*gr*Cr+Et*vr*Cr,bt[11]=_t*It*Er-ot*jt*Er-_t*Bt*Rr+Et*jt*Rr+ot*Bt*Cr-Et*It*Cr,bt[15]=ot*jt*gr-_t*It*gr+_t*Bt*vr-Et*jt*vr-ot*Bt*hr+Et*It*hr;const Sr=Et*bt[0]+Bt*bt[4]+gr*bt[8]+Er*bt[12];if(Sr===0){const br="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(st)throw new Error(br);return console.warn(br),this.identity(),this}return this.multiplyScalar(1/Sr),this}isReflected(){const it=this.elements,st=it[0],bt=it[4],gt=it[8],Et=it[1],ot=it[5],_t=it[9],Mt=it[2],Bt=it[6],It=it[10];return st*ot*It+Et*Bt*gt+Mt*bt*_t-Mt*ot*gt-Et*bt*It-st*Bt*_t<0}scale(it){const st=this.elements,{x:bt}=it,{y:gt}=it,{z:Et}=it;return st[0]*=bt,st[4]*=gt,st[8]*=Et,st[1]*=bt,st[5]*=gt,st[9]*=Et,st[2]*=bt,st[6]*=gt,st[10]*=Et,st[3]*=bt,st[7]*=gt,st[11]*=Et,this}getMaxScaleOnAxis(){const it=this.elements,st=it[0]*it[0]+it[1]*it[1]+it[2]*it[2],bt=it[4]*it[4]+it[5]*it[5]+it[6]*it[6],gt=it[8]*it[8]+it[9]*it[9]+it[10]*it[10];return Math.sqrt(Math.max(st,Math.max(bt,gt)))}makeFrustum(it,st,bt,gt,Et,ot){const _t=this.elements,Mt=2*Et/(st-it),Bt=2*Et/(gt-bt),It=(st+it)/(st-it),jt=(gt+bt)/(gt-bt),tr=-(ot+Et)/(ot-Et),gr=-2*ot*Et/(ot-Et);return _t[0]=Mt,_t[4]=0,_t[8]=It,_t[12]=0,_t[1]=0,_t[5]=Bt,_t[9]=jt,_t[13]=0,_t[2]=0,_t[6]=0,_t[10]=tr,_t[14]=gr,_t[3]=0,_t[7]=0,_t[11]=-1,_t[15]=0,this}makePerspective(it,st,bt,gt){const Et=bt*Math.tan((0,c.degToRad)(it*.5)),ot=-Et,_t=ot*st,Mt=Et*st;return this.makeFrustum(_t,Mt,ot,Et,bt,gt)}makeOrthographic(it,st,bt,gt,Et,ot){const _t=this.elements,Mt=1/(st-it),Bt=1/(bt-gt),It=1/(ot-Et),jt=(st+it)*Mt,tr=(bt+gt)*Bt,gr=(ot+Et)*It;return _t[0]=2*Mt,_t[4]=0,_t[8]=0,_t[12]=-jt,_t[1]=0,_t[5]=2*Bt,_t[9]=0,_t[13]=-tr,_t[2]=0,_t[6]=0,_t[10]=-2*It,_t[14]=-gr,_t[3]=0,_t[7]=0,_t[11]=0,_t[15]=1,this}isEqual(it){const st=it.elements,bt=this.elements;return bt[0]===st[0]&&bt[4]===st[4]&&bt[8]===st[8]&&bt[12]===st[12]&&bt[1]===st[1]&&bt[5]===st[5]&&bt[9]===st[9]&&bt[13]===st[13]&&bt[2]===st[2]&&bt[6]===st[6]&&bt[10]===st[10]&&bt[14]===st[14]&&bt[3]===st[3]&&bt[7]===st[7]&&bt[11]===st[11]&&bt[15]===st[15]}clone(){const it=this.elements;return new nt(it[0],it[4],it[8],it[12],it[1],it[5],it[9],it[13],it[2],it[6],it[10],it[14],it[3],it[7],it[11],it[15])}isIdentity(){const it=this.elements;return it[0]===1&&it[4]===0&&it[8]===0&&it[12]===0&&it[1]===0&&it[5]===1&&it[9]===0&&it[13]===0&&it[2]===0&&it[6]===0&&it[10]===1&&it[14]===0&&it[3]===0&&it[7]===0&&it[11]===0&&it[15]===1}isNearlyIdentity(it){return this.clone().snap(it).isIdentity()}getScale(it){const st=this.elements;return it=it||new pt,$.set(st[0],st[1],st[2]),j.set(st[4],st[5],st[6]),rt.set(st[8],st[9],st[10]),it.x=$.length(),it.y=j.length(),it.z=rt.length(),it}lookAt(it,st,bt){const gt=this.elements;return rt.subVectors(it,st).normalize(),rt.length()===0&&(rt.z=1),$.crossVectors(bt,rt).normalize(),$.length()===0&&(rt.x+=1e-4,$.crossVectors(bt,rt).normalize()),j.crossVectors(rt,$),gt[0]=$.x,gt[4]=j.x,gt[8]=rt.x,gt[1]=$.y,gt[5]=j.y,gt[9]=rt.y,gt[2]=$.z,gt[6]=j.z,gt[10]=rt.z,this}compose(it,st,bt){const gt=this.elements;return g.identity(),g.setRotationFromQuaternion(st),b.makeScale(bt.x,bt.y,bt.z),this.multiplyMatrices(g,b),gt[12]=it.x,gt[13]=it.y,gt[14]=it.z,this}}g=new nt,b=new nt;class pt{constructor(it,st,bt){this.x=it||0,this.y=st||0,this.z=bt||0,this.atomid=void 0}set(it,st,bt){return this.x=it,this.y=st,this.z=bt,this}copy(it){return this.x=it.x,this.y=it.y,this.z=it.z,this}add(it){return this.x+=it.x,this.y+=it.y,this.z+=it.z,this}addVectors(it,st){return this.x=it.x+st.x,this.y=it.y+st.y,this.z=it.z+st.z,this}multiplyVectors(it,st){return this.x=it.x*st.x,this.y=it.y*st.y,this.z=it.z*st.z,this}sub(it){return this.x-=it.x,this.y-=it.y,this.z-=it.z,this}subVectors(it,st){return this.x=it.x-st.x,this.y=it.y-st.y,this.z=it.z-st.z,this}multiplyScalar(it){return this.x*=it,this.y*=it,this.z*=it,this}divideScalar(it){return it!==0?(this.x/=it,this.y/=it,this.z/=it):(this.x=0,this.y=0,this.z=0),this}max(it){return this.x=Math.max(this.x,it.x),this.y=Math.max(this.y,it.y),this.z=Math.max(this.z,it.z),this}min(it){return this.x=Math.min(this.x,it.x),this.y=Math.min(this.y,it.y),this.z=Math.min(this.z,it.z),this}distanceTo(it){return Math.sqrt(this.distanceToSquared(it))}distanceToSquared(it){const st=this.x-it.x,bt=this.y-it.y,gt=this.z-it.z;return st*st+bt*bt+gt*gt}applyMatrix3(it){const{x:st}=this,{y:bt}=this,{z:gt}=this,Et=it.elements;return this.x=Et[0]*st+Et[3]*bt+Et[6]*gt,this.y=Et[1]*st+Et[4]*bt+Et[7]*gt,this.z=Et[2]*st+Et[5]*bt+Et[8]*gt,this}applyMatrix4(it){const{x:st}=this,{y:bt}=this,{z:gt}=this,Et=it.elements;return this.x=Et[0]*st+Et[4]*bt+Et[8]*gt+Et[12],this.y=Et[1]*st+Et[5]*bt+Et[9]*gt+Et[13],this.z=Et[2]*st+Et[6]*bt+Et[10]*gt+Et[14],this}applyProjection(it){const{x:st}=this,{y:bt}=this,{z:gt}=this,Et=it.elements,ot=Et[3]*st+Et[7]*bt+Et[11]*gt+Et[15];return this.x=(Et[0]*st+Et[4]*bt+Et[8]*gt+Et[12])/ot,this.y=(Et[1]*st+Et[5]*bt+Et[9]*gt+Et[13])/ot,this.z=(Et[2]*st+Et[6]*bt+Et[10]*gt+Et[14])/ot,this}applyQuaternion(it){const{x:st}=this,{y:bt}=this,{z:gt}=this,Et=it.x,ot=it.y,_t=it.z,Mt=it.w,Bt={};Bt.x=2*(bt*_t-gt*ot),Bt.y=2*(gt*Et-st*_t),Bt.z=2*(st*ot-bt*Et);const It={};return It.x=Bt.y*_t-Bt.z*ot,It.y=Bt.z*Et-Bt.x*_t,It.z=Bt.x*ot-Bt.y*Et,this.x=st+Mt*Bt.x+It.x,this.y=bt+Mt*Bt.y+It.y,this.z=gt+Mt*Bt.z+It.z,this}negate(){return this.multiplyScalar(-1)}dot(it){return this.x*it.x+this.y*it.y+this.z*it.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(it){const{x:st}=this,{y:bt}=this,{z:gt}=this;return this.x=bt*it.z-gt*it.y,this.y=gt*it.x-st*it.z,this.z=st*it.y-bt*it.x,this}crossVectors(it,st){return this.x=it.y*st.z-it.z*st.y,this.y=it.z*st.x-it.x*st.z,this.z=it.x*st.y-it.y*st.x,this}equals(it){return this.x==it.x&&this.y==it.y&&this.z==it.z}getPositionFromMatrix(it){return this.x=it.elements[12],this.y=it.elements[13],this.z=it.elements[14],this}setEulerFromRotationMatrix(it,st){const bt=it.elements,gt=bt[0],Et=bt[4],ot=bt[8],_t=bt[5],Mt=bt[9],Bt=bt[6],It=bt[10];return st===void 0||st==="XYZ"?(this.y=Math.asin((0,h.clamp)(ot,-1,1)),Math.abs(ot)<.99999?(this.x=Math.atan2(-Mt,It),this.z=Math.atan2(-Et,gt)):(this.x=Math.atan2(Bt,_t),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${st}`),this}rotateAboutVector(it,st){it.normalize();const bt=Math.cos(st),gt=Math.sin(st),Et=this.clone().multiplyScalar(bt),ot=it.clone().cross(this).multiplyScalar(gt),_t=it.clone().multiplyScalar(it.clone().dot(this)).multiplyScalar(1-bt),Mt=Et.add(ot).add(_t);return this.x=Mt.x,this.y=Mt.y,this.z=Mt.z,this}setFromMatrixPosition(it){const st=it.elements;return this.x=st[12],this.y=st[13],this.z=st[14],this}transformDirection(it){const{x:st}=this,{y:bt}=this,{z:gt}=this,Et=it.elements;return this.x=Et[0]*st+Et[4]*bt+Et[8]*gt,this.y=Et[1]*st+Et[5]*bt+Et[9]*gt,this.z=Et[2]*st+Et[6]*bt+Et[10]*gt,this.normalize()}clone(){return new pt(this.x,this.y,this.z)}unproject(it){const st=g;return st.multiplyMatrices(it.matrixWorld,st.getInverse(it.projectionMatrix)),this.applyMatrix4(st)}}$=new pt,j=new pt,rt=new pt;class wt{constructor(it=1,st=0,bt=0,gt=0,Et=1,ot=0,_t=0,Mt=0,Bt=1){this.elements=new Float32Array(9),this.set(it,st,bt,gt,Et,ot,_t,Mt,Bt)}set(it,st,bt,gt,Et,ot,_t,Mt,Bt){const It=this.elements;return It[0]=it,It[3]=st,It[6]=bt,It[1]=gt,It[4]=Et,It[7]=ot,It[2]=_t,It[5]=Mt,It[8]=Bt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(it){const st=it.elements;this.set(st[0],st[3],st[6],st[1],st[4],st[7],st[2],st[5],st[8])}multiplyScalar(it){const st=this.elements;return st[0]*=it,st[3]*=it,st[6]*=it,st[1]*=it,st[4]*=it,st[7]*=it,st[2]*=it,st[5]*=it,st[8]*=it,this}getInverse3(it){const st=it.elements,bt=this.elements;bt[0]=st[4]*st[8]-st[5]*st[7],bt[3]=st[6]*st[5]-st[3]*st[8],bt[6]=st[3]*st[7]-st[6]*st[4],bt[1]=st[7]*st[2]-st[1]*st[8],bt[4]=st[0]*st[8]-st[6]*st[2],bt[7]=st[1]*st[6]-st[0]*st[7],bt[2]=st[1]*st[5]-st[2]*st[4],bt[5]=st[2]*st[3]-st[0]*st[5],bt[8]=st[0]*st[4]-st[1]*st[3];const gt=st[0]*bt[0]+st[3]*bt[1]+st[6]*bt[2];return this.multiplyScalar(1/gt),this}getInverse(it,st){const bt=it.elements,gt=this.elements;gt[0]=bt[10]*bt[5]-bt[6]*bt[9],gt[1]=-bt[10]*bt[1]+bt[2]*bt[9],gt[2]=bt[6]*bt[1]-bt[2]*bt[5],gt[3]=-bt[10]*bt[4]+bt[6]*bt[8],gt[4]=bt[10]*bt[0]-bt[2]*bt[8],gt[5]=-bt[6]*bt[0]+bt[2]*bt[4],gt[6]=bt[9]*bt[4]-bt[5]*bt[8],gt[7]=-bt[9]*bt[0]+bt[1]*bt[8],gt[8]=bt[5]*bt[0]-bt[1]*bt[4];const Et=bt[0]*gt[0]+bt[1]*gt[3]+bt[2]*gt[6];if(Et===0){const ot="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(st)throw new Error(ot);return console.warn(ot),this.identity(),this}return this.multiplyScalar(1/Et),this}getDeterminant(){const it=this.elements;return it[0]*it[4]*it[8]+it[1]*it[5]*it[6]+it[2]*it[3]*it[7]-it[2]*it[4]*it[6]-it[1]*it[3]*it[8]-it[0]*it[5]*it[7]}transpose(){let it;const st=this.elements;return it=st[1],st[1]=st[3],st[3]=it,it=st[2],st[2]=st[6],st[6]=it,it=st[5],st[5]=st[7],st[7]=it,this}clone(){const it=this.elements;return new wt(it[0],it[3],it[6],it[1],it[4],it[7],it[2],it[5],it[8])}getMatrix4(){const it=this.elements;return new nt(it[0],it[3],it[6],0,it[1],it[4],it[7],0,it[2],it[5],it[8],0)}}class Dt{constructor(it,st){this.origin=it!==void 0?it:new pt,this.direction=st!==void 0?st:new pt}set(it,st){return this.origin.copy(it),this.direction.copy(st),this}copy(it){return this.origin.copy(it.origin),this.direction.copy(it.direction),this}at(it,st){return(st||new pt).copy(this.direction).multiplyScalar(it).add(this.origin)}recast(it){const st=$;return this.origin.copy(this.at(it,st)),this}closestPointToPoint(it,st){const bt=st||new pt;bt.subVectors(it,this.origin);const gt=bt.dot(this.direction);return bt.copy(this.direction).multiplyScalar(gt).add(this.origin)}distanceToPoint(it){const st=$,bt=st.subVectors(it,this.origin).dot(this.direction);return st.copy(this.direction).multiplyScalar(bt).add(this.origin),st.distanceTo(it)}isIntersectionCylinder(){}isIntersectionSphere(it){return this.distanceToPoint(it.center)<=it.radius}isIntersectionPlane(it){return it.normal.dot(this.direction)!==0||it.distanceToPoint(this.origin)===0}distanceToPlane(it){const st=it.normal.dot(this.direction);return st===0?it.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(it.normal)+it.constant)/st}intersectPlane(it,st){const bt=this.distanceToPlane(it);if(bt!==void 0)return this.at(bt,st)}applyMatrix4(it){return this.direction.add(this.origin).applyMatrix4(it),this.origin.applyMatrix4(it),this.direction.sub(this.origin),this}clone(){return new Dt().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(a,o,e)=>{e.r(o),e.d(o,{clamp:()=>c});function c(h,g,b){return Math.min(Math.max(h,g),b)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(a,o,e)=>{e.r(o),e.d(o,{conversionMatrix3:()=>h});var c=e("./src/WebGL/math/math.ts");function h(g,b,$,j,rt,nt){j=j*Math.PI/180,rt=rt*Math.PI/180,nt=nt*Math.PI/180;const pt=bt=>bt*bt,wt=Math.cos(j),Dt=Math.cos(rt),Lt=Math.cos(nt),it=Math.sin(nt);return new c.Matrix3(g,b*Lt,$*Dt,0,b*it,$*(wt-Dt*Lt)/it,0,0,$*Math.sqrt(1-pt(wt)-pt(Dt)-pt(Lt)+2*wt*Dt*Lt)/it)}},"./src/WebGL/math/utils/degToRad.ts":(a,o,e)=>{e.r(o),e.d(o,{degToRad:()=>h});const c=Math.PI/180;function h(g){return g*c}},"./src/WebGL/objects/Line.ts":(a,o,e)=>{e.r(o),e.d(o,{Line:()=>b,LineStyle:()=>g});var c=e("./src/WebGL/materials/index.ts"),h=e("./src/WebGL/core/index.ts"),g;(function($){$[$.LineStrip=0]="LineStrip",$[$.LinePieces=1]="LinePieces"})(g||(g={}));class b extends h.Object3D{constructor(j,rt=new c.LineBasicMaterial({color:Math.random()*16777215}),nt=g.LineStrip){super(),this.geometry=j,this.material=rt,this.type=nt}clone(j=new b(this.geometry,this.material,this.type)){return super.clone.call(this,j),j}}},"./src/WebGL/objects/Mesh.ts":(a,o,e)=>{e.r(o),e.d(o,{Mesh:()=>h});var c=e("./src/WebGL/core/index.ts");class h extends c.Object3D{constructor(b,$){super(),this.geometry=b,this.material=$}clone(b){return b===void 0&&(b=new h(this.geometry,this.material)),super.clone.call(this,b),b}}},"./src/WebGL/objects/Sprite.ts":(a,o,e)=>{e.r(o),e.d(o,{Sprite:()=>g});var c=e("./src/WebGL/materials/index.ts"),h=e("./src/WebGL/core/index.ts");class g extends h.Object3D{constructor($=new c.SpriteMaterial){super(),this.material=$,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone($=new g(this.material)){return h.Object3D.prototype.clone.call(this,$),$}}},"./src/WebGL/objects/index.ts":(a,o,e)=>{e.r(o),e.d(o,{Line:()=>c.Line,LineStyle:()=>c.LineStyle,Mesh:()=>h.Mesh,Sprite:()=>g.Sprite});var c=e("./src/WebGL/objects/Line.ts"),h=e("./src/WebGL/objects/Mesh.ts"),g=e("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(a,o,e)=>{e.r(o)},"./src/WebGL/shaders/index.ts":(a,o,e)=>{e.r(o),e.d(o,{ShaderLib:()=>c.ShaderLib,ShaderUtils:()=>h.ShaderUtils,basic:()=>c.basic,clone:()=>h.clone,instanced:()=>c.instanced,lambert:()=>c.lambert,lambertdouble:()=>c.lambertdouble,outline:()=>c.outline,screen:()=>c.screen,screenaa:()=>c.screenaa,sphereimposter:()=>c.sphereimposter,sphereimposteroutline:()=>c.sphereimposteroutline,sprite:()=>c.sprite,stickimposter:()=>c.stickimposter,stickimposteroutline:()=>c.stickimposteroutline,volumetric:()=>c.volumetric});var c=e("./src/WebGL/shaders/lib/index.ts"),h=e("./src/WebGL/shaders/utils/index.ts");e("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(a,o,e)=>{e.r(o),e.d(o,{basic:()=>b});var c=e("./src/WebGL/shaders/lib/basic/uniforms.ts"),h=e("./src/WebGL/shaders/lib/basic/basic.frag"),g=e("./src/WebGL/shaders/lib/basic/basic.vert");const b={vertexShader:g.default.replace("#define GLSLIFY 1",""),fragmentShader:h.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/index.ts":(a,o,e)=>{e.r(o),e.d(o,{ShaderLib:()=>st,basic:()=>c.basic,instanced:()=>h.instanced,lambert:()=>g.lambert,lambertdouble:()=>b.lambertdouble,outline:()=>$.outline,screen:()=>j.screen,screenaa:()=>rt.screenaa,sphereimposter:()=>nt.sphereimposter,sphereimposteroutline:()=>pt.sphereimposteroutline,sprite:()=>wt.sprite,stickimposter:()=>Dt.stickimposter,stickimposteroutline:()=>Lt.stickimposteroutline,volumetric:()=>it.volumetric});var c=e("./src/WebGL/shaders/lib/basic/index.ts"),h=e("./src/WebGL/shaders/lib/instanced/index.ts"),g=e("./src/WebGL/shaders/lib/lambert/index.ts"),b=e("./src/WebGL/shaders/lib/lambertdouble/index.ts"),$=e("./src/WebGL/shaders/lib/outline/index.ts"),j=e("./src/WebGL/shaders/lib/screen/index.ts"),rt=e("./src/WebGL/shaders/lib/screenaa/index.ts"),nt=e("./src/WebGL/shaders/lib/sphereimposter/index.ts"),pt=e("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),wt=e("./src/WebGL/shaders/lib/sprite/index.ts"),Dt=e("./src/WebGL/shaders/lib/stickimposter/index.ts"),Lt=e("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),it=e("./src/WebGL/shaders/lib/volumetric/index.ts");const st={basic:c.basic,instanced:h.instanced,lambert:g.lambert,lambertdouble:b.lambertdouble,outline:$.outline,screen:j.screen,screenaa:rt.screenaa,sphereimposter:nt.sphereimposter,sphereimposteroutline:pt.sphereimposteroutline,sprite:wt.sprite,stickimposter:Dt.stickimposter,stickimposteroutline:Lt.stickimposteroutline,volumetric:it.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(a,o,e)=>{e.r(o),e.d(o,{instanced:()=>b});var c=e("./src/WebGL/shaders/lib/instanced/uniforms.ts"),h=e("./src/WebGL/shaders/lib/instanced/instanced.frag"),g=e("./src/WebGL/shaders/lib/instanced/instanced.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(a,o,e)=>{e.r(o),e.d(o,{lambert:()=>b});var c=e("./src/WebGL/shaders/lib/lambert/uniforms.ts"),h=e("./src/WebGL/shaders/lib/lambert/lambert.frag"),g=e("./src/WebGL/shaders/lib/lambert/lambert.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(a,o,e)=>{e.r(o),e.d(o,{lambertdouble:()=>b});var c=e("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),h=e("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),g=e("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(a,o,e)=>{e.r(o),e.d(o,{outline:()=>b});var c=e("./src/WebGL/shaders/lib/outline/uniforms.ts"),h=e("./src/WebGL/shaders/lib/outline/outline.frag"),g=e("./src/WebGL/shaders/lib/outline/outline.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new c.Color(0,0,0)},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/screen/index.ts":(a,o,e)=>{e.r(o),e.d(o,{screen:()=>b});var c=e("./src/WebGL/shaders/lib/screen/uniforms.ts"),h=e("./src/WebGL/shaders/lib/screen/screen.frag"),g=e("./src/WebGL/shaders/lib/screen/screen.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(a,o,e)=>{e.r(o),e.d(o,{screenaa:()=>b});var c=e("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),h=e("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),g=e("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(a,o,e)=>{e.r(o),e.d(o,{sphereimposter:()=>b});var c=e("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),h=e("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),g=e("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");const b={vertexShader:g.default.replace("#define GLSLIFY 1",""),fragmentShader:h.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(a,o,e)=>{e.r(o),e.d(o,{sphereimposteroutline:()=>b});var c=e("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),h=e("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),g=e("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new c.Color(0,0,0)},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/sprite/index.ts":(a,o,e)=>{e.r(o),e.d(o,{sprite:()=>b});var c=e("./src/WebGL/shaders/lib/sprite/uniforms.ts"),h=e("./src/WebGL/shaders/lib/sprite/sprite.frag"),g=e("./src/WebGL/shaders/lib/sprite/sprite.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(a,o,e)=>{e.r(o),e.d(o,{stickimposter:()=>j});var c=e("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),h=e("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),g=e("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),b=e("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const j={fragmentShader:[h.default,g.default].join(`
`).replace("#define GLSLIFY 1",""),vertexShader:b.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(a,o,e)=>{e.r(o),e.d(o,{stickimposteroutline:()=>$});var c=e("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),h=e("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),g=e("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const $={fragmentShader:(h.default+"gl_FragColor = vec4(color,1.0);}").replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new c.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(a,o,e)=>{e.r(o),e.d(o,{volumetric:()=>b});var c=e("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),h=e("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),g=e("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(a,o,e)=>{e.r(o),e.d(o,{uniforms:()=>h});var c=e("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(a,o,e)=>{e.r(o),e.d(o,{clone:()=>h});var c=e("./src/colors.ts");function h(g){let b={};for(const j in g){b[j]={},b[j].type=g[j].type;var $=g[j].value;$ instanceof c.Color?b[j].value=$.clone():typeof $=="number"?b[j].value=$:$ instanceof Array?b[j].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return b}},"./src/WebGL/shaders/utils/index.ts":(a,o,e)=>{e.r(o),e.d(o,{ShaderUtils:()=>g,clone:()=>c.clone});var c=e("./src/WebGL/shaders/utils/clone.ts"),h=e("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag");const g={clone:c.clone,stickimposterFragmentShader:h.default}},"./src/WebGL/shapes/Cylinder.ts":(a,o,e)=>{e.r(o),e.d(o,{Cylinder:()=>g});var c=e("./src/WebGL/math/index.ts");let h=new c.Vector3;class g{constructor($=new c.Vector3,j=new c.Vector3,rt=0){this.c1=$,this.c2=j,this.radius=rt,this.direction=new c.Vector3().subVectors(this.c2,this.c1).normalize()}copy($){return this.c1.copy($.c1),this.c2.copy($.c2),this.direction.copy($.direction),this.radius=$.radius,this}lengthSq(){return h.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4($){return this.direction.add(this.c1).applyMatrix4($),this.c1.applyMatrix4($),this.c2.applyMatrix4($),this.direction.sub(this.c1).normalize(),this.radius=this.radius*$.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(a,o,e)=>{e.r(o),e.d(o,{Sphere:()=>h});var c=e("./src/WebGL/math/index.ts");class h{constructor(b={x:0,y:0,z:0},$=0){this.center=new c.Vector3(b.x,b.y,b.z),this.radius=$}set(b,$){return this.center.copy(b),this.radius=$,this}copy(b){return this.center.copy(b.center),this.radius=b.radius,this}applyMatrix4(b){return this.center.applyMatrix4(b),this.radius=this.radius*b.getMaxScaleOnAxis(),this}translate(b){return this.center.add(b),this}equals(b){return b.center.equals(this.center)&&b.radius===this.radius}clone(){return new h().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(a,o,e)=>{e.r(o),e.d(o,{Triangle:()=>g});var c=e("./src/WebGL/math/index.ts");const h=new c.Vector3;class g{constructor($=new c.Vector3,j=new c.Vector3,rt=new c.Vector3){this.a=$,this.b=j,this.c=rt}copy($){return this.a.copy($.a),this.b.copy($.b),this.c.copy($.c),this}applyMatrix4($){return this.a.applyMatrix4($),this.b.applyMatrix4($),this.c.applyMatrix4($),this}getNormal(){var $=this.a.clone();return $.sub(this.b),h.subVectors(this.c,this.b),$.cross(h),$.normalize(),$}}},"./src/WebGL/shapes/index.ts":(a,o,e)=>{e.r(o),e.d(o,{Cylinder:()=>h.Cylinder,Sphere:()=>c.Sphere,Triangle:()=>g.Triangle});var c=e("./src/WebGL/shapes/Sphere.ts"),h=e("./src/WebGL/shapes/Cylinder.ts"),g=e("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{autoinit:()=>autoinit,autoload:()=>autoload,processing_autoinit:()=>processing_autoinit,viewers:()=>viewers});var _GLViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/GLViewer.ts"),_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ProteinSurface4.ts"),_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utilities.ts"),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/colors.ts"),autoinit=!1,processing_autoinit=!1,viewers={};function autoload(viewer,callback){var i,dataname,type;if(document.querySelector(".viewer_3Dmoljs")!=null&&(autoinit=!0),autoinit){processing_autoinit=!0,viewer=viewer??null;var nviewers=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(viewerdiv=>{var datauri=[],datatypes=[],uri="";viewerdiv.style.position=="static"&&(viewerdiv.style.position="relative");var UI=null;if(type=null,viewerdiv.dataset.pdb)datauri.push("https://files.rcsb.org/view/"+viewerdiv.dataset.pdb+".pdb"),datatypes.push("pdb");else if(viewerdiv.dataset.cid)datatypes.push("sdf"),datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+viewerdiv.dataset.cid+"/SDF?record_type=3d");else if(viewerdiv.dataset.href||viewerdiv.dataset.url){viewerdiv.dataset.href?uri=viewerdiv.dataset.href:uri=viewerdiv.dataset.url,datauri.push(uri),type=uri.substring(uri.lastIndexOf(".")+1),datatypes.push(type);var molName=uri.substring(uri.lastIndexOf("/")+1,uri.lastIndexOf("."));molName=="/"&&(molName=uri.substring(uri.lastIndexOf("/")+1)),viewerdiv.dataset[datatypes[datatypes.length-1]]=molName}var divdata=viewerdiv.dataset;for(i in divdata)i.substring(0,3)==="pdb"&&i!=="pdb"?(datauri.push("https://files.rcsb.org/view/"+divdata[i]+".pdb"),datatypes.push("pdb")):i.substring(0,4)==="href"&&i!=="href"?(uri=divdata[i],datauri.push(uri),datatypes.push(uri.substring(uri.lastIndexOf(".")+1))):i.substring(0,3)==="cid"&&i!=="cid"&&(datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+divdata[i]+"/SDF?record_type=3d"),datatypes.push("sdf"));var options={};viewerdiv.dataset.options&&(options=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.options));var bgcolor=_colors__WEBPACK_IMPORTED_MODULE_3__.CC.color(viewerdiv.dataset.backgroundcolor),bgalpha=viewerdiv.dataset.backgroundalpha;bgalpha=bgalpha==null?1:parseFloat(bgalpha);var style={line:{}};viewerdiv.dataset.style&&(style=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.style));var select={};viewerdiv.dataset.select&&(select=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.select));var selectstylelist=[],surfaces=[],labels=[],zoomto={},spin=null,d=viewerdiv.dataset,stylere=/style(.+)/,surfre=/surface(.*)/,reslabre=/labelres(.*)/,keys=[];for(dataname in d)Object.prototype.hasOwnProperty.call(d,dataname)&&keys.push(dataname);for(keys.sort(),i=0;i<keys.length;i++){dataname=keys[i];var m=stylere.exec(dataname),selname,newsel,styleobj;m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),selectstylelist.push([newsel,styleobj])),m=surfre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),surfaces.push([newsel,styleobj])),m=reslabre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),labels.push([newsel,styleobj])),dataname=="zoomto"&&(zoomto=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname])),dataname=="spin"&&(spin=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]))}var applyStyles=function(a){for(a.setStyle(select,style),UI&&UI.createSelectionAndStyle(select,style),i=0;i<selectstylelist.length;i++){let o=selectstylelist[i][0]||{},e=selectstylelist[i][1]||{line:{}};a.setStyle(o,e),UI&&UI.createSelectionAndStyle(select,style)}for(i=0;i<surfaces.length;i++){let o=surfaces[i][0]||{},e=surfaces[i][1]||{};UI?a.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,e,o,o).then(h=>{UI.loadSurface("VDW",o,e,h)}):a.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,e,o,o)}for(i=0;i<labels.length;i++){let o=labels[i][0]||{},e=labels[i][1]||{};a.addResLabels(o,e)}a.render(),a.zoomTo(zoomto),spin&&a.spin(spin.axis,spin.speed)},glviewer=viewer;try{var config=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.config)||{};config.backgroundColor===void 0&&(config.backgroundColor=bgcolor),config.backgroundAlpha===void 0&&(config.backgroundAlpha=bgalpha),glviewer==null?glviewer=viewers[viewerdiv.id||nviewers++]=(0,_GLViewer__WEBPACK_IMPORTED_MODULE_0__.createViewer)(viewerdiv,config):(glviewer.setBackgroundColor(bgcolor,bgalpha),glviewer.setConfig(config),UI&&UI.initiateUI()),viewerdiv.dataset.ui&&$3Dmol.StateManager&&(UI=new $3Dmol.StateManager(glviewer))}catch(a){console.log(a),viewerdiv.textContent="WebGL appears to be disabled."}if(datauri.length!=0){let i=0;var process=function(moldata){uri=datauri[i];var type=viewerdiv.dataset.type||viewerdiv.dataset.datatype||datatypes[i];if(glviewer.addModel(moldata,type,options),UI){var modelName=viewerdiv.dataset[datatypes[i]];UI.setModelTitle(modelName)}if(i+=1,i<datauri.length)(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[i]).then(process);else{if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}};(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[0]).then(process)}else{if(viewerdiv.dataset.element){var moldataid="#"+viewerdiv.dataset.element,molelem=document.querySelector(moldataid),moldata=molelem?molelem.textContent:"";type=viewerdiv.dataset.type||viewerdiv.dataset.datatype,glviewer.addModel(moldata,type,options)}if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&autoload()}},"./src/colors.ts":(a,o,e)=>{e.r(o),e.d(o,{CC:()=>h,Color:()=>c,builtinColorSchemes:()=>pt,chains:()=>nt,elementColors:()=>j,htmlColors:()=>g,residues:()=>rt,ssColors:()=>b});class c{constructor(Dt,Lt,it){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof Dt=="number"?(this.r=Dt||0,this.g=Lt||0,this.b=it||0,this):this.set(Dt||0)}set(Dt){return Dt instanceof c?Dt.clone():(typeof Dt=="number"?this.setHex(Dt):typeof Dt=="object"&&(this.r=(Dt==null?void 0:Dt.r)||0,this.g=(Dt==null?void 0:Dt.g)||0,this.b=(Dt==null?void 0:Dt.b)||0),this)}setHex(Dt){return Dt=Math.floor(Dt),this.r=(Dt>>16&255)/255,this.g=(Dt>>8&255)/255,this.b=(Dt&255)/255,this}getHex(){var Dt=Math.round(this.r*255),Lt=Math.round(this.g*255),it=Math.round(this.b*255);return Dt<<16|Lt<<8|it}clone(){return new c(this.r,this.g,this.b)}copy(Dt){return this.r=Dt.r,this.g=Dt.g,this.b=Dt.b,this}scaled(){var Dt={};return Dt.r=Math.round(this.r*255),Dt.g=Math.round(this.g*255),Dt.b=Math.round(this.b*255),Dt.a=1,Dt}}class h{static color(Dt){if(!Dt)return h.cache[0];if(Dt instanceof c)return Dt;if(typeof Dt=="number"&&typeof h.cache[Dt]<"u")return h.cache[Dt];if(Dt&&Array.isArray(Dt))return Dt.map(h.color);let Lt=h.getHex(Dt),it=new c(Lt);return h.cache[Lt]=it,it}static getHex(Dt){var Lt;if(Array.isArray(Dt))return Dt.map(h.getHex);if(typeof Dt=="string"){let it=Dt;if(!isNaN(parseInt(it)))return parseInt(it);if(it=it.trim(),it.length==4&&it[0]=="#"&&(it="#"+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]),it.length==7&&it[0]=="#")return parseInt(it.substring(1),16);let st=h.rgbRegEx.exec(it);if(st){st[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let bt=0;for(let gt=2;gt<5;gt++){bt*=256;let Et=st[gt].endsWith("%")?255*parseFloat(st[gt])/100:parseFloat(st[gt]);bt+=Math.round(Et)}return bt}return((Lt=window==null?void 0:window.$3Dmol)===null||Lt===void 0?void 0:Lt.htmlColors[Dt.toLowerCase()])||0}return Dt}}h.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,h.cache={0:new c(0)};const g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},b={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},$={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},j={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:$,defaultColors:Object.assign({},$),greenCarbon:Object.assign(Object.assign({},$),{C:65280}),cyanCarbon:Object.assign(Object.assign({},$),{C:65535}),magentaCarbon:Object.assign(Object.assign({},$),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},$),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},$),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},$),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},$),{C:8388736}),blueCarbon:Object.assign(Object.assign({},$),{C:255})},rt={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},nt={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},pt={ssPyMol:{prop:"ss",map:b.pyMol},ssJmol:{prop:"ss",map:b.Jmol},Jmol:{prop:"elem",map:j.Jmol},amino:{prop:"resn",map:rt.amino},shapely:{prop:"resn",map:rt.shapely},nucleic:{prop:"resn",map:rt.nucleic},chain:{prop:"chain",map:nt.atom},rasmol:{prop:"elem",map:j.rasmol},default:{prop:"elem",map:j.defaultColors},greenCarbon:{prop:"elem",map:j.greenCarbon},chainHetatm:{prop:"chain",map:nt.hetatm},cyanCarbon:{prop:"elem",map:j.cyanCarbon},magentaCarbon:{prop:"elem",map:j.magentaCarbon},purpleCarbon:{prop:"elem",map:j.purpleCarbon},whiteCarbon:{prop:"elem",map:j.whiteCarbon},orangeCarbon:{prop:"elem",map:j.orangeCarbon},yellowCarbon:{prop:"elem",map:j.yellowCarbon},blueCarbon:{prop:"elem",map:j.blueCarbon}}},"./src/glcartoon.ts":(a,o,e)=>{e.r(o),e.d(o,{drawCartoon:()=>vr,subdivide_spline:()=>nt});var c=e("./src/WebGL/math/index.ts"),h=e("./src/WebGL/shapes/index.ts"),g=e("./src/WebGL/index.ts"),b=e("./src/Gradient.ts"),$=e("./src/colors.ts"),j=e("./src/GLDraw.ts"),rt=e("./src/utilities.ts");function nt(hr,mr){var Er=[],Rr=hr;Rr=[],Rr.push(hr[0]);var Cr,wr,Sr,br,xr,Or,In,Nn,Hn;for(Cr=1,wr=hr.length-1;Cr<wr;Cr++)if(xr=hr[Cr],Or=hr[Cr+1],xr.smoothen){var Bn=new c.Vector3((xr.x+Or.x)/2,(xr.y+Or.y)/2,(xr.z+Or.z)/2);Bn.atom=xr.atom,Rr.push(Bn)}else Rr.push(xr);for(Rr.push(hr[hr.length-1]),Cr=-1,Sr=Rr.length;Cr<=Sr-3;Cr++)if(br=Rr[Cr===-1?0:Cr],xr=Rr[Cr+1],Or=Rr[Cr+2],In=Rr[Cr===Sr-3?Sr-1:Cr+3],Nn=new c.Vector3().subVectors(Or,br).multiplyScalar(.5),Hn=new c.Vector3().subVectors(In,xr).multiplyScalar(.5),!Or.skip)for(var qn=0;qn<mr;qn++){var Wn=1/mr*qn,Yn=xr.x+Wn*Nn.x+Wn*Wn*(-3*xr.x+3*Or.x-2*Nn.x-Hn.x)+Wn*Wn*Wn*(2*xr.x-2*Or.x+Nn.x+Hn.x),po=xr.y+Wn*Nn.y+Wn*Wn*(-3*xr.y+3*Or.y-2*Nn.y-Hn.y)+Wn*Wn*Wn*(2*xr.y-2*Or.y+Nn.y+Hn.y),eo=xr.z+Wn*Nn.z+Wn*Wn*(-3*xr.z+3*Or.z-2*Nn.z-Hn.z)+Wn*Wn*Wn*(2*xr.z-2*Or.z+Nn.z+Hn.z),wo=new c.Vector3(Yn,po,eo);qn<mr/2?wo.atom=xr.atom:wo.atom=Or.atom,Er.push(wo)}return Er.push(Rr[Rr.length-1]),Er}const pt=.5,wt=1.3,Dt=.8,Lt=.4,it=.4;function st(hr,mr,Er,Rr){for(var Cr,wr,Sr,br,xr=0,Or=mr.length;xr<Or;xr++){br=Math.round(xr*(Rr.length-1)/Or),Sr=$.CC.color(Rr[br]);var In=hr.updateGeoGroup(2),Nn=In.vertexArray,Hn=In.colorArray,Bn=In.faceArray;Cr=In.vertices,wr=Cr*3,Nn[wr]=mr[xr].x,Nn[wr+1]=mr[xr].y,Nn[wr+2]=mr[xr].z,Nn[wr+3]=Er[xr].x,Nn[wr+4]=Er[xr].y,Nn[wr+5]=Er[xr].z;for(var qn=0;qn<6;++qn)Hn[wr+3*qn]=Sr.r,Hn[wr+1+3*qn]=Sr.g,Hn[wr+2+3*qn]=Sr.b;if(xr>0){var Wn=[Cr,Cr+1,Cr-1,Cr-2],Yn=In.faceidx;Bn[Yn]=Wn[0],Bn[Yn+1]=Wn[1],Bn[Yn+2]=Wn[3],Bn[Yn+3]=Wn[1],Bn[Yn+4]=Wn[2],Bn[Yn+5]=Wn[3],In.faceidx+=6}In.vertices+=2}}function bt(hr,mr,Er,Rr,Cr,wr,Sr){var br,xr,Or,In;if(Or=mr.length,Or<2||mr[0].length<2)return;for(br=0;br<Or;br++)mr[br]=nt(mr[br],Rr);if(In=mr[0].length,!Cr)return st(hr,mr[0],mr[Or-1],Er);var Nn,Hn,Bn,qn,Wn,Yn,po=[],eo=[],wo=[];for(xr=0;xr<Or;xr++)po.push(.25+1.5*Math.sqrt((Or-1)*xr-Math.pow(xr,2))/(Or-1)),eo.push(.5),wo.push(2*(Math.pow(xr/Or,2)-xr/Or)+.6);var Vn=[];for(xr=0;xr<Or*2-1;xr++)Vn[xr]=[xr,xr+1,xr+1-2*Or,xr-2*Or];Vn[Or*2-1]=[xr,xr+1-2*Or,xr+1-4*Or,xr-2*Or];var Kn,to,fs,hs,Cs,ps,ls,cs,ss,os;let as=hr.updateGeoGroup();for(br=0;br<In;br++){let Pr=hr.groups,Fn=!1;as=hr.updateGeoGroup(2*Or),Pr!=hr.groups&&br>0&&(br=br-1,Fn=!0),ps=Math.round(br*(Er.length-1)/In),Cs=$.CC.color(Er[ps]),Wn=Bn,Yn=qn,Bn=[],qn=[],Nn=[],mr[0][br].atom!==void 0&&(hs=mr[0][br].atom,Sr==="oval"?Hn=po:Sr==="rectangle"?Hn=eo:Sr==="parabola"&&(Hn=wo)),Hn||(Hn=eo);var gs,vs;for(xr=0;xr<Or;xr++)br<In-1?gs=mr[xr][br+1].clone().sub(mr[xr][br]):gs=mr[xr][br-1].clone().sub(mr[xr][br]).negate(),xr<Or-1?vs=mr[xr+1][br].clone().sub(mr[xr][br]):vs=mr[xr-1][br].clone().sub(mr[xr][br]).negate(),Nn[xr]=vs.cross(gs).normalize().multiplyScalar(Cr*Hn[xr]);for(xr=0;xr<Or;xr++)Bn[xr]=mr[xr][br].clone().add(Nn[xr].clone().negate());for(xr=0;xr<Or;xr++)qn[xr]=mr[xr][br].clone().add(Nn[xr]);for(ls=as.vertexArray,cs=as.colorArray,ss=as.faceArray,Kn=as.vertices,to=Kn*3,xr=0;xr<Or;xr++)ls[to+3*xr+0]=Bn[xr].x,ls[to+3*xr+1]=Bn[xr].y,ls[to+3*xr+2]=Bn[xr].z;for(xr=0;xr<Or;xr++)ls[to+3*xr+0+3*Or]=qn[Or-1-xr].x,ls[to+3*xr+1+3*Or]=qn[Or-1-xr].y,ls[to+3*xr+2+3*Or]=qn[Or-1-xr].z;for(xr=0;xr<2*Or;++xr)cs[to+3*xr+0]=Cs.r,cs[to+3*xr+1]=Cs.g,cs[to+3*xr+2]=Cs.b;if(br>0&&!Fn){for(xr=0;xr<Or*2;xr++)os=[Kn+Vn[xr][0],Kn+Vn[xr][1],Kn+Vn[xr][2],Kn+Vn[xr][3]],fs=as.faceidx,ss[fs]=os[0],ss[fs+1]=os[1],ss[fs+2]=os[3],ss[fs+3]=os[1],ss[fs+4]=os[2],ss[fs+5]=os[3],as.faceidx+=6;if(hs.clickable||hs.hoverable){var tn=[];tn.push(new h.Triangle(Wn[0],Bn[0],Bn[Or-1])),tn.push(new h.Triangle(Wn[0],Bn[Or-1],Wn[Or-1])),tn.push(new h.Triangle(Wn[Or-1],Bn[Or-1],qn[Or-1])),tn.push(new h.Triangle(Wn[Or-1],qn[Or-1],Yn[Or-1])),tn.push(new h.Triangle(qn[0],Yn[0],Yn[Or-1])),tn.push(new h.Triangle(qn[Or-1],qn[0],Yn[Or-1])),tn.push(new h.Triangle(Bn[0],Wn[0],Yn[0])),tn.push(new h.Triangle(qn[0],Bn[0],Yn[0]));for(xr in tn)hs.intersectionShape.triangle.push(tn[xr])}}as.vertices+=2*Or}for(ls=as.vertexArray,cs=as.colorArray,ss=as.faceArray,Kn=as.vertices,to=Kn*3,fs=as.faceidx,br=0;br<Or-1;br++)os=[br,br+1,2*Or-2-br,2*Or-1-br],fs=as.faceidx,ss[fs]=os[0],ss[fs+1]=os[1],ss[fs+2]=os[3],ss[fs+3]=os[1],ss[fs+4]=os[2],ss[fs+5]=os[3],as.faceidx+=6;for(br=0;br<Or-1;br++)os=[Kn-1-br,Kn-2-br,Kn-2*Or+br+1,Kn-2*Or+br],fs=as.faceidx,ss[fs]=os[0],ss[fs+1]=os[1],ss[fs+2]=os[3],ss[fs+3]=os[1],ss[fs+4]=os[2],ss[fs+5]=os[3],as.faceidx+=6}function gt(hr,mr,Er,Rr,Cr,wr){if(!(mr.length<2)){var Sr,br;if(Sr=mr[0],br=mr[mr.length-1],Sr=nt(Sr,Rr),br=nt(br,Rr),!Cr)return st(hr,Sr,br,Er);var xr=[],Or,In,Nn,Hn,Bn,qn=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Wn,Yn,po,eo,wo,Vn,Kn,to,fs,hs,Cs,ps,ls,cs,ss,os,as;for(to=0,fs=Sr.length;to<fs;to++){if(wo=Math.round(to*(Er.length-1)/fs),eo=$.CC.color(Er[wo]),xr.push(In=Sr[to]),xr.push(In),xr.push(Nn=br[to]),xr.push(Nn),to<fs-1){var gs=Sr[to+1].clone().sub(Sr[to]),vs=br[to].clone().sub(Sr[to]);Or=vs.cross(gs).normalize().multiplyScalar(Cr)}for(xr.push(Hn=Sr[to].clone().add(Or)),xr.push(Hn),xr.push(Bn=br[to].clone().add(Or)),xr.push(Bn),In.atom!==void 0&&(Vn=In.atom),cs=hr.updateGeoGroup(8),ss=cs.vertexArray,os=cs.colorArray,as=cs.faceArray,Wn=cs.vertices,Yn=Wn*3,ss[Yn]=In.x,ss[Yn+1]=In.y,ss[Yn+2]=In.z,ss[Yn+3]=In.x,ss[Yn+4]=In.y,ss[Yn+5]=In.z,ss[Yn+6]=Nn.x,ss[Yn+7]=Nn.y,ss[Yn+8]=Nn.z,ss[Yn+9]=Nn.x,ss[Yn+10]=Nn.y,ss[Yn+11]=Nn.z,ss[Yn+12]=Hn.x,ss[Yn+13]=Hn.y,ss[Yn+14]=Hn.z,ss[Yn+15]=Hn.x,ss[Yn+16]=Hn.y,ss[Yn+17]=Hn.z,ss[Yn+18]=Bn.x,ss[Yn+19]=Bn.y,ss[Yn+20]=Bn.z,ss[Yn+21]=Bn.x,ss[Yn+22]=Bn.y,ss[Yn+23]=Bn.z,hs=0;hs<8;++hs)os[Yn+3*hs]=eo.r,os[Yn+1+3*hs]=eo.g,os[Yn+2+3*hs]=eo.b;if(to>0){var tn=Kn!==void 0&&Vn!==void 0&&Kn.serial!==Vn.serial;for(hs=0;hs<4;hs++){var Pr=[Wn+qn[hs][0],Wn+qn[hs][1],Wn+qn[hs][2],Wn+qn[hs][3]];if(po=cs.faceidx,as[po]=Pr[0],as[po+1]=Pr[1],as[po+2]=Pr[3],as[po+3]=Pr[1],as[po+4]=Pr[2],as[po+5]=Pr[3],cs.faceidx+=6,Vn.clickable||Kn.clickable||Vn.hoverable||Kn.hoverable){var Fn=xr[Pr[3]].clone(),Zn=xr[Pr[0]].clone(),so=xr[Pr[2]].clone(),rs=xr[Pr[1]].clone();if(Fn.atom=xr[Pr[3]].atom||null,so.atom=xr[Pr[2]].atom||null,Zn.atom=xr[Pr[0]].atom||null,rs.atom=xr[Pr[1]].atom||null,tn){var ns=Fn.clone().add(Zn).multiplyScalar(.5),jr=so.clone().add(rs).multiplyScalar(.5),Qn=Fn.clone().add(rs).multiplyScalar(.5);hs%2===0?((Kn.clickable||Kn.hoverable)&&(Cs=new h.Triangle(ns,Qn,Fn),ps=new h.Triangle(jr,so,Qn),ls=new h.Triangle(Qn,so,Fn),Kn.intersectionShape.triangle.push(Cs),Kn.intersectionShape.triangle.push(ps),Kn.intersectionShape.triangle.push(ls)),(Vn.clickable||Vn.hoverable)&&(Cs=new h.Triangle(Zn,rs,Qn),ps=new h.Triangle(rs,jr,Qn),ls=new h.Triangle(Zn,Qn,ns),Vn.intersectionShape.triangle.push(Cs),Vn.intersectionShape.triangle.push(ps),Vn.intersectionShape.triangle.push(ls))):((Vn.clickable||Vn.hoverable)&&(Cs=new h.Triangle(ns,Qn,Fn),ps=new h.Triangle(jr,so,Qn),ls=new h.Triangle(Qn,so,Fn),Vn.intersectionShape.triangle.push(Cs),Vn.intersectionShape.triangle.push(ps),Vn.intersectionShape.triangle.push(ls)),(Kn.clickable||Kn.hoverable)&&(Cs=new h.Triangle(Zn,rs,Qn),ps=new h.Triangle(rs,jr,Qn),ls=new h.Triangle(Zn,Qn,ns),Kn.intersectionShape.triangle.push(Cs),Kn.intersectionShape.triangle.push(ps),Kn.intersectionShape.triangle.push(ls)))}else(Vn.clickable||Vn.hoverable)&&(Cs=new h.Triangle(Zn,rs,Fn),ps=new h.Triangle(rs,so,Fn),Vn.intersectionShape.triangle.push(Cs),Vn.intersectionShape.triangle.push(ps))}}}cs.vertices+=8,Kn=Vn}var co=xr.length-8;for(cs=hr.updateGeoGroup(8),ss=cs.vertexArray,os=cs.colorArray,as=cs.faceArray,Wn=cs.vertices,Yn=Wn*3,po=cs.faceidx,to=0;to<4;to++){xr.push(xr[to*2]),xr.push(xr[co+to*2]);var us=xr[to*2],zn=xr[co+to*2];ss[Yn+6*to]=us.x,ss[Yn+1+6*to]=us.y,ss[Yn+2+6*to]=us.z,ss[Yn+3+6*to]=zn.x,ss[Yn+4+6*to]=zn.y,ss[Yn+5+6*to]=zn.z,os[Yn+6*to]=eo.r,os[Yn+1+6*to]=eo.g,os[Yn+2+6*to]=eo.b,os[Yn+3+6*to]=eo.r,os[Yn+4+6*to]=eo.g,os[Yn+5+6*to]=eo.b}co+=8,Cs=[Wn,Wn+2,Wn+6,Wn+4],ps=[Wn+1,Wn+5,Wn+7,Wn+3],as[po]=Cs[0],as[po+1]=Cs[1],as[po+2]=Cs[3],as[po+3]=Cs[1],as[po+4]=Cs[2],as[po+5]=Cs[3],as[po+6]=ps[0],as[po+7]=ps[1],as[po+8]=ps[3],as[po+9]=ps[1],as[po+10]=ps[2],as[po+11]=ps[3],cs.faceidx+=12,cs.vertices+=8}}function Et(hr,mr,Er,Rr,Cr,wr,Sr){(!Sr||Sr==="default")&&(Sr="rectangle"),Sr==="edged"?gt(hr,mr,Er,Rr,Cr):(Sr==="rectangle"||Sr==="oval"||Sr==="parabola")&&bt(hr,mr,Er,Rr,Cr,wr,Sr)}function ot(hr){return hr&&hr.elem==="C"&&hr.atom==="CA"}function _t(hr,mr){if(hr&&mr&&hr.chain===mr.chain){if(!hr.hetflag&&!mr.hetflag&&hr.reschain===mr.reschain&&(hr.resi===mr.resi||hr.resi===mr.resi-1))return!0;if(hr.resi<mr.resi){var Er=hr.x-mr.x,Rr=hr.y-mr.y,Cr=hr.z-mr.z,wr=Er*Er+Rr*Rr+Cr*Cr;if(hr.atom=="CA"&&mr.atom=="CA"&&wr<16)return!0;if((hr.atom=="P"||mr.atom=="P")&&wr<64)return!0}}return!1}function Mt(hr,mr,Er,Rr,Cr){if(!(mr==null||mr.vertices==0)){Cr&&(mr.initTypedArrays(),mr.setUpNormals());var wr=new g.MeshDoubleLambertMaterial;wr.vertexColors=g.Coloring.FaceColors,typeof Er=="number"&&Er>=0&&Er<1&&(wr.transparent=!0,wr.opacity=Er),wr.outline=Rr;var Sr=new g.Mesh(mr,wr);hr.add(Sr)}}function Bt(hr,mr,Er,Rr,Cr,wr,Sr,br,xr){var Or,In,Nn,Hn,Bn,qn;if(!(!Rr||!Cr||!Sr)){var Wn=Cr.sub(Rr);Wn.normalize();var Yn=br[xr];for(In=xr+1;In<br.length&&(Yn=br[In],Yn.atom!=Sr.atom);In++);if(Yn=Yn?new c.Vector3(Yn.x,Yn.y,Yn.z):new c.Vector3(0,0,0),Yn.sub(Rr),Sr.ss==="arrow start"){var po=Yn.clone().multiplyScalar(.3).cross(Cr);Rr.add(po);var eo=Yn.clone().cross(Wn).normalize();Wn.rotateAboutVector(eo,.43)}for(Sr.style.cartoon.ribbon?Or=Sr.style.cartoon.thickness||Lt:Sr.style.cartoon.width?Or=Sr.style.cartoon.width:Sr.ss==="c"?Sr.atom==="P"?Or=Dt:Or=pt:Sr.ss==="arrow start"?(Or=wt,Bn=!0):Sr.ss==="arrow end"||Sr.ss==="h"&&Sr.style.cartoon.tubes||Sr.ss==="tube start"?Or=pt:Or=wt,wr!=null&&Wn.dot(wr)<0&&Wn.negate(),Wn.multiplyScalar(Or),In=0;In<mr;In++)Nn=-1+In*2/(mr-1),Hn=new c.Vector3(Rr.x+Nn*Wn.x,Rr.y+Nn*Wn.y,Rr.z+Nn*Wn.z),Hn.atom=Sr,Er&&Sr.ss==="s"&&(Hn.smoothen=!0),hr[In].push(Hn);if(Bn)for(Wn.multiplyScalar(2),In=0;In<mr;In++)Nn=-1+In*2/(mr-1),Hn=new c.Vector3(Rr.x+Nn*Wn.x,Rr.y+Nn*Wn.y,Rr.z+Nn*Wn.z),Hn.atom=Sr,Hn.smoothen=!1,Hn.skip=!0,hr[In].push(Hn);return qn=Sr.style.cartoon.style||"default",hr.style?hr.style!=qn&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),hr.style="default"):hr.style=qn,(Sr.ss==="arrow start"||Sr.ss==="arrow end")&&(Sr.ss="s"),Bn}}const It={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},jt={DA:!0,DG:!0,A:!0,G:!0},tr={DT:!0,DC:!0,U:!0,C:!0,T:!0},gr={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function vr(hr,mr,Er,Rr=10){let Cr=Rr,wr=Rr;var Sr,br,xr,Or,In,Nn,Hn,Bn,qn,Wn,Yn,po,eo,wo,Vn,Kn,to,fs,hs=new g.Geometry(!0),Cs=new g.Geometry(!0),ps=[],ls=[],cs=1,ss=!1,os={};for(var as in b.Gradient.builtinGradients)b.Gradient.builtinGradients.hasOwnProperty(as)&&(os[as]=new b.Gradient.builtinGradients[as](Er[1],Er[0]));var gs=function(Dr,is){return Er&&is.color==="spectrum"?is.colorscheme in os?os[is.colorscheme].valueToHex(Dr.resi):os.sinebow.valueToHex(Dr.resi):(0,rt.getColorFromStyle)(Dr,is).getHex()};for(Bn=0;Bn<Cr;Bn++)ls[Bn]=[];var vs=!1,tn=!1,Pr=[];for(Bn in mr){if(Or=mr[Bn],Or.elem==="C"&&Or.atom==="CA"){var Fn=_t(xr,Or);Fn&&Or.ss==="s"?vs=!0:vs&&(xr&&br&&xr.style.cartoon.arrows&&br.style.cartoon.arrows&&(xr.ss="arrow end",br.ss="arrow start"),vs=!1),Fn&&(xr.ss==="h"||xr.ss=="tube start")&&xr.style.cartoon.tubes?!tn&&xr.ss!="tube start"&&Or.style.cartoon.tubes&&(Or.ss="tube start",tn=!0):tn&&(xr.ss==="tube start"?xr.ss="tube end":br&&br.style.cartoon.tubes&&(br.ss="tube end"),tn=!1),br=xr,xr=Or}Or&&Or.atom in It&&Pr.push(Or)}tn&&xr.style.cartoon.tubes&&(xr.ss="tube end",tn=!1);var Zn=function(Dr){ls[0].length>0&&Et(Cs,ls,ps,wr,Hn,cs,ls.style);var is=[],ws=null;if(Dr){for(Bn=0;Bn<Cr;Bn++)is[Bn]=ls[Bn][ls[Bn].length-1];ws=ps[ps.length-1]}for(ls=[],Bn=0;Bn<Cr;Bn++)ls[Bn]=[];if(ps=[],Dr){for(Bn=0;Bn<Cr;Bn++)ls[Bn].push(is[Bn]);ps.push(ws)}Mt(hr,Cs,cs,ss,!0),Mt(hr,hs,cs,ss,!1),Cs=new g.Geometry(!0),hs=new g.Geometry(!0)};xr=void 0;for(var so=0;so<Pr.length;so++){Or=Pr[so];var rs=Or.resn.trim(),ns=rs in gr;if(cs=1,Sr=Or.style.cartoon,xr&&xr.style.cartoon&&(cs=xr.style.cartoon.opacity),xr&&xr.style.cartoon&&xr.style.cartoon.outline&&(ss=xr.style.cartoon.outline),xr&&xr.style.cartoon&&(!Or.style.cartoon||xr.style.cartoon.opacity!=Or.style.cartoon.opacity)&&Zn(xr.chain==Or.chain),Sr.style==="trace"){if(!Or.hetflag){if(Or.elem==="C"&&Or.atom==="CA"||ns&&Or.atom==="P"||Or.atom==="BB"){if(Nn=gs(Or,Sr),(0,rt.isNumeric)(Sr.thickness)?Hn=Sr.thickness:Hn=Lt,_t(xr,Or))if(Nn==In){var jr=$.CC.color(Nn);j.GLDraw.drawCylinder(hs,xr,Or,Hn,jr,2,2)}else{var Qn=new c.Vector3().addVectors(xr,Or).multiplyScalar(.5),co=$.CC.color(In),us=$.CC.color(Nn);j.GLDraw.drawCylinder(hs,xr,Qn,Hn,co,2,0),j.GLDraw.drawCylinder(hs,Qn,Or,Hn,us,0,2)}if((Or.clickable===!0||Or.hoverable)&&Or.intersectionShape!==void 0){var zn=new c.Vector3(Or.x,Or.y,Or.z);Or.intersectionShape.sphere.push(new h.Sphere(zn,Hn))}xr=Or,In=Nn}}}else{if(ot(Or)||ns&&(Or.atom==="P"||Or.atom.indexOf("O5")==0)){if(fs)if(Or.ss==="tube end")fs=!1,to=new c.Vector3(Or.x,Or.y,Or.z),j.GLDraw.drawCylinder(hs,Kn,to,2,$.CC.color(In),1,1),Or.ss="h";else if(xr.chain!=Or.chain||xr.ss==="tube end")fs=!1,xr.ss="h",to=new c.Vector3(xr.x,xr.y,xr.z),j.GLDraw.drawCylinder(hs,Kn,to,2,$.CC.color(In),1,1);else continue;if(xr&&(!_t(xr,Or)||xr.ss==="tube start")){for(xr.ss==="tube start"&&(fs=!0,Kn=new c.Vector3(xr.x,xr.y,xr.z),xr.ss="h"),Vn&&(po?wo=new c.Vector3().addVectors(xr,po).multiplyScalar(.5):wo=new c.Vector3(xr.x,xr.y,xr.z),j.GLDraw.drawCylinder(hs,wo,Vn,it,$.CC.color(Vn.color),0,2),Bt(ls,Cr,!0,po,eo,Yn,xr,Pr,so),ps.push(Nn),wo=null,Vn=null),ls[0].length>0&&Et(Cs,ls,ps,wr,Hn,cs,ls.style),ls=[],Bn=0;Bn<Cr;Bn++)ls[Bn]=[];ps=[]}if(xr===void 0||xr.rescode!=Or.rescode||xr.resi!=Or.resi){if(Vn){wo=new c.Vector3().addVectors(xr,Or).multiplyScalar(.5);var ts=wo.clone().sub(Vn).multiplyScalar(.02);wo.add(ts),j.GLDraw.drawCylinder(hs,wo,Vn,it,$.CC.color(Vn.color),0,2),wo=null,Vn=null}Nn=gs(Or,Sr),ps.push(Nn),(0,rt.isNumeric)(Sr.thickness)?Hn=Sr.thickness:Hn=Lt,xr=Or,qn=new c.Vector3(xr.x,xr.y,xr.z),qn.resi=xr.resi,In=Nn}(Or.clickable===!0||Or.hoverable===!0)&&(Or.intersectionShape===void 0||Or.intersectionShape.triangle===void 0)&&(Or.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else ot(xr)&&Or.atom==="O"||ns&&xr.atom==="P"&&(Or.atom==="OP2"||Or.atom==="O2P")||ns&&xr.atom.indexOf("O5")==0&&Or.atom.indexOf("C5")==0?(Wn=new c.Vector3(Or.x,Or.y,Or.z),Wn.resi=Or.resi,(Or.atom==="OP2"||Or.atom==="O2P")&&(eo=new c.Vector3(Or.x,Or.y,Or.z))):ns&&Or.atom.indexOf("O3")==0?po=new c.Vector3(Or.x,Or.y,Or.z):(Or.atom==="N1"&&rs in jt||Or.atom==="N3"&&rs in tr)&&(Vn=new c.Vector3(Or.x,Or.y,Or.z),Vn.color=(0,rt.getColorFromStyle)(Or,Sr).getHex());Wn&&qn&&Wn.resi===qn.resi&&(Bt(ls,Cr,!0,qn,Wn,Yn,xr,Pr,so),Yn=Wn,qn=null,Wn=null,ps.push(Nn))}}Vn&&(po?wo=new c.Vector3().addVectors(xr,po).multiplyScalar(.5):wo=new c.Vector3(xr.x,xr.y,xr.z),j.GLDraw.drawCylinder(hs,wo,Vn,it,$.CC.color(Vn.color),0,2),Bt(ls,Cr,!0,po,eo,Yn,xr,Pr,so),ps.push(Nn)),Zn(!1)}},"./src/index.ts":(a,o,e)=>{e.r(o),e.d(o,{CAP:()=>it.CAP,CC:()=>h.CC,Color:()=>h.Color,CustomLinear:()=>c.CustomLinear,Cylinder:()=>rt.Cylinder,GLDraw:()=>it.GLDraw,GLModel:()=>bt.GLModel,GLShape:()=>Lt.GLShape,GLViewer:()=>gt.GLViewer,GLVolumetricRender:()=>Dt.GLVolumetricRender,Gradient:()=>c.Gradient,GradientType:()=>c.GradientType,Label:()=>g.Label,LabelCount:()=>g.LabelCount,MarchingCube:()=>pt.MarchingCube,MarchingCubeInitializer:()=>pt.MarchingCubeInitializer,Matrix3:()=>j.Matrix3,Matrix4:()=>j.Matrix4,Parsers:()=>$.Parsers,PausableTimer:()=>nt.PausableTimer,PointGrid:()=>pt.PointGrid,ProteinSurface:()=>pt.ProteinSurface,Quaternion:()=>j.Quaternion,ROYGB:()=>c.ROYGB,RWB:()=>c.RWB,Ray:()=>j.Ray,Sinebow:()=>c.Sinebow,Sphere:()=>rt.Sphere,SurfaceType:()=>pt.SurfaceType,Triangle:()=>rt.Triangle,Vector2:()=>j.Vector2,Vector3:()=>j.Vector3,VolumeData:()=>wt.VolumeData,adjustVolumeStyle:()=>nt.adjustVolumeStyle,applyPartialCharges:()=>b.applyPartialCharges,autoinit:()=>Et.autoinit,autoload:()=>Et.autoload,base64ToArray:()=>nt.base64ToArray,bondLength:()=>$.bondLength,builtinColorSchemes:()=>h.builtinColorSchemes,builtinGradients:()=>c.builtinGradients,chains:()=>h.chains,clamp:()=>j.clamp,conversionMatrix3:()=>j.conversionMatrix3,createStereoViewer:()=>gt.createStereoViewer,createViewer:()=>gt.createViewer,createViewerGrid:()=>gt.createViewerGrid,deepCopy:()=>nt.deepCopy,degToRad:()=>j.degToRad,download:()=>nt.download,drawCartoon:()=>st.drawCartoon,elementColors:()=>h.elementColors,extend:()=>nt.extend,get:()=>nt.get,getAtomProperty:()=>nt.getAtomProperty,getColorFromStyle:()=>nt.getColorFromStyle,getElement:()=>nt.getElement,getExtent:()=>nt.getExtent,getGradient:()=>c.getGradient,getPropertyRange:()=>nt.getPropertyRange,getbin:()=>nt.getbin,htmlColors:()=>h.htmlColors,isEmptyObject:()=>nt.isEmptyObject,isNumeric:()=>nt.isNumeric,makeFunction:()=>nt.makeFunction,mergeGeos:()=>nt.mergeGeos,normalizeValue:()=>c.normalizeValue,partialCharges:()=>b.partialCharges,processing_autoinit:()=>Et.processing_autoinit,residues:()=>h.residues,setBondLength:()=>$.setBondLength,setSyncSurface:()=>pt.setSyncSurface,specStringToObject:()=>nt.specStringToObject,splitMesh:()=>Lt.splitMesh,ssColors:()=>h.ssColors,subdivide_spline:()=>st.subdivide_spline,syncSurface:()=>pt.syncSurface,viewers:()=>Et.viewers});var c=e("./src/Gradient.ts"),h=e("./src/colors.ts"),g=e("./src/Label.ts"),b=e("./src/partialCharges.ts"),$=e("./src/parsers/index.ts"),j=e("./src/WebGL/math/index.ts"),rt=e("./src/WebGL/shapes/index.ts"),nt=e("./src/utilities.ts"),pt=e("./src/ProteinSurface4.ts"),wt=e("./src/VolumeData.ts"),Dt=e("./src/VolumetricRender.ts"),Lt=e("./src/GLShape.ts"),it=e("./src/GLDraw.ts"),st=e("./src/glcartoon.ts"),bt=e("./src/GLModel.ts"),gt=e("./src/GLViewer.ts"),Et=e("./src/autoload.ts");e("./src/specs.ts"),window&&(window.$3Dmol=o)},"./src/parsers/CDJSON.ts":(a,o,e)=>{e.r(o),e.d(o,{CDJSON:()=>c});function c(h,g){var b=[[]];typeof h=="string"&&(h=JSON.parse(h));for(var $=h.m,j=$[0].a,rt=$[0].b,nt=$[0].s,pt=g!==void 0&&g.parseStyle!==void 0?g.parseStyle:nt!==void 0,wt=b[b.length-1].length,Dt=0;Dt<j.length;Dt++){var Lt=j[Dt],it={};it.id=Lt.i,it.x=Lt.x,it.y=Lt.y,it.z=Lt.z||0,it.bonds=[],it.bondOrder=[];var st=Lt.l||"C";it.elem=st[0].toUpperCase()+st.substring(1).toLowerCase(),it.serial=b[b.length-1].length,pt&&(it.style=nt[Lt.s||0]),b[b.length-1].push(it)}for(let bt=0;bt<rt.length;bt++){let gt=rt[bt],Et=gt.b+wt,ot=gt.e+wt,_t=gt.o||1,Mt=b[b.length-1][Et],Bt=b[b.length-1][ot];Mt.bonds.push(ot),Mt.bondOrder.push(_t),Bt.bonds.push(Et),Bt.bondOrder.push(_t)}return b}},"./src/parsers/CIF.ts":(a,o,e)=>{e.r(o),e.d(o,{CIF:()=>$});var c=e("./src/parsers/utils/assignBonds.ts"),h=e("./src/parsers/utils/computeSecondaryStructure.ts"),g=e("./src/parsers/utils/processSymmetries.ts"),b=e("./src/WebGL/index.ts");function $(j,rt={}){var nt=[],pt=!rt.doAssembly,wt=nt.modelData=[],Dt=rt.assignBonds===void 0?!0:rt.assignBonds,Lt=function(Pr,Fn,Zn,so){return new b.Vector3(Fn,Zn,so).applyMatrix3(Pr)};function it(Pr,Fn){for(var Zn=[],so=0,rs=0;rs<Pr.length;){for(;Pr.substring(rs,rs+Fn.length)!==Fn&&rs<Pr.length;){if(Pr[rs]==="'")for(rs++;rs<Pr.length&&Pr[rs]!=="'";)rs++;else if(Pr[rs]==='"')for(rs++;rs<Pr.length&&Pr[rs]!=='"';)rs++;rs++}Zn.push(Pr.substring(so,rs)),so=rs=rs+Fn.length}return Zn}var st=j.split(/\r?\n|\r/),bt=[],gt=!1;for(let Pr=0;Pr<st.length;Pr++){var Et=st[Pr].split("#")[0];if(gt?Et[0]===";"&&(gt=!1):Et[0]===";"&&(gt=!0),gt||Et!==""){if(!gt&&(Et=Et.trim(),Et[0]==="_")){var ot=Et.split(/\s/)[0].indexOf(".");if(ot>-1){let Fn=Et.split("");Fn[ot]="_",Et=Fn.join(""),Et=Et.substring(0,ot)+"_"+Et.substring(ot+1)}}bt.push(Et)}}for(var _t=0;_t<bt.length;){for(;!bt[_t].startsWith("data_")||bt[_t]==="data_global";)_t++;_t++;for(var Mt={};_t<bt.length&&!bt[_t].startsWith("data_");)if(bt[_t][0]===void 0)_t++;else if(bt[_t][0]==="_"){var Bt=bt[_t].split(/\s/)[0].toLowerCase(),It=Mt[Bt]=Mt[Bt]||[],jt=bt[_t].substring(bt[_t].indexOf(Bt)+Bt.length);if(jt==="")if(_t++,bt[_t][0]===";"){var tr=bt[_t].substring(1);for(_t++;bt[_t]!==";";)tr=tr+`
`+bt[_t],_t++;It.push(tr)}else It.push(bt[_t]);else It.push(jt.trim());_t++}else if(bt[_t].substring(0,5)==="loop_"){_t++;for(var gr=[];bt[_t]===""||bt[_t][0]==="_";){if(bt[_t]!==""){let Pr=bt[_t].split(/\s/)[0].toLowerCase(),Fn=Mt[Pr]=Mt[Pr]||[];gr.push(Fn)}_t++}for(var vr=0;_t<bt.length&&bt[_t][0]!=="_"&&!bt[_t].startsWith("loop_")&&!bt[_t].startsWith("data_");){let Pr=it(bt[_t]," ");for(var hr=0;hr<Pr.length;hr++)Pr[hr]!==""&&(gr[vr].push(Pr[hr]),vr=(vr+1)%gr.length);_t++}}else _t++;wt.push({symmetries:[]}),nt.push([]);var mr=Mt._atom_site_id!==void 0?Mt._atom_site_id.length:Mt._atom_site_label.length,Er;if(Mt._cell_length_a!==void 0){var Rr=parseFloat(Mt._cell_length_a),Cr=parseFloat(Mt._cell_length_b),wr=parseFloat(Mt._cell_length_c),Sr=parseFloat(Mt._cell_angle_alpha)||90,br=parseFloat(Mt._cell_angle_beta)||90,xr=parseFloat(Mt._cell_angle_gamma)||90;Er=(0,b.conversionMatrix3)(Rr,Cr,wr,Sr,br,xr),wt[wt.length-1].cryst={a:Rr,b:Cr,c:wr,alpha:Sr,beta:br,gamma:xr}}for(var Or=0;Or<mr;Or++)if(!(Mt._atom_site_group_pdb!==void 0&&Mt._atom_site_group_pdb[Or]==="TER")){var In={};if(Mt._atom_site_cartn_x!==void 0)In.x=parseFloat(Mt._atom_site_cartn_x[Or]),In.y=parseFloat(Mt._atom_site_cartn_y[Or]),In.z=parseFloat(Mt._atom_site_cartn_z[Or]);else{var Nn=Lt(Er,parseFloat(Mt._atom_site_fract_x[Or]),parseFloat(Mt._atom_site_fract_y[Or]),parseFloat(Mt._atom_site_fract_z[Or]));In.x=Nn.x,In.y=Nn.y,In.z=Nn.z}In.chain=Mt._atom_site_auth_asym_id?Mt._atom_site_auth_asym_id[Or]:void 0,In.resi=Mt._atom_site_auth_seq_id?parseInt(Mt._atom_site_auth_seq_id[Or]):void 0,In.resn=Mt._atom_site_auth_comp_id?Mt._atom_site_auth_comp_id[Or].trim():void 0,In.atom=Mt._atom_site_auth_atom_id?Mt._atom_site_auth_atom_id[Or].replace(/"/gm,""):void 0,In.hetflag=!Mt._atom_site_group_pdb||Mt._atom_site_group_pdb[Or]==="HETA"||Mt._atom_site_group_pdb[Or]==="HETATM";var Hn="X";Mt._atom_site_type_symbol?Hn=Mt._atom_site_type_symbol[Or].replace(/\(?\+?\d+.*/,""):Mt._atom_site_label&&(Hn=Mt._atom_site_label[Or].split("_")[0].replace(/\(?\d+.*/,"")),In.elem=Hn[0].toUpperCase()+Hn.substring(1,2).toLowerCase(),In.bonds=[],In.ss="c",In.serial=Or,In.bondOrder=[],In.properties={},nt[nt.length-1].push(In)}if(Mt._pdbx_struct_oper_list_id!==void 0&&!pt)for(let Pr=0;Pr<Mt._pdbx_struct_oper_list_id.length;Pr++){var Bn=parseFloat(Mt["_pdbx_struct_oper_list_matrix[1][1]"][Pr]),qn=parseFloat(Mt["_pdbx_struct_oper_list_matrix[1][2]"][Pr]),Wn=parseFloat(Mt["_pdbx_struct_oper_list_matrix[1][3]"][Pr]),Yn=parseFloat(Mt["_pdbx_struct_oper_list_vector[1]"][Pr]),po=parseFloat(Mt["_pdbx_struct_oper_list_matrix[2][1]"][Pr]),eo=parseFloat(Mt["_pdbx_struct_oper_list_matrix[2][2]"][Pr]),wo=parseFloat(Mt["_pdbx_struct_oper_list_matrix[2][3]"][Pr]),Vn=parseFloat(Mt["_pdbx_struct_oper_list_vector[2]"][Pr]),Kn=parseFloat(Mt["_pdbx_struct_oper_list_matrix[3][1]"][Pr]),to=parseFloat(Mt["_pdbx_struct_oper_list_matrix[3][2]"][Pr]),fs=parseFloat(Mt["_pdbx_struct_oper_list_matrix[3][3]"][Pr]),hs=parseFloat(Mt["_pdbx_struct_oper_list_vector[3]"][Pr]),Cs=new b.Matrix4(Bn,qn,Wn,Yn,po,eo,wo,Vn,Kn,to,fs,hs);wt[wt.length-1].symmetries.push(Cs)}var ps=function(Pr){var Fn=Pr.match("-");Pr=Pr.replace(/[-xyz]/g,"");var Zn=Pr.split("/"),so,rs;return Zn[1]===void 0?rs=1:rs=parseInt(Zn[1]),Zn[0]===""?so=1:so=parseInt(Zn[0]),so/rs*(Fn?-1:1)};if(Mt._symmetry_equiv_pos_as_xyz!==void 0&&!pt)for(var ls=0;ls<Mt._symmetry_equiv_pos_as_xyz.length;ls++){var cs=Mt._symmetry_equiv_pos_as_xyz[ls].replace(/["' ]/g,""),ss=cs.split(",").map(function(Fn){return Fn.replace(/-/g,"+-")});let Pr=new b.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let Fn=0;Fn<3;Fn++){var os=ss[Fn].split("+");for(let Zn=0;Zn<os.length;Zn++){var as=os[Zn];if(as!==""){var gs=ps(as);as.match("x")?Pr.elements[Fn+0]=gs:as.match("y")?Pr.elements[Fn+4]=gs:as.match("z")?Pr.elements[Fn+8]=gs:Pr.elements[Fn+12]=gs}}}var vs=Er.getMatrix4(),tn=new b.Matrix4().getInverse(vs,!0);Pr=new b.Matrix4().multiplyMatrices(Pr,tn),Pr=new b.Matrix4().multiplyMatrices(vs,Pr),wt[wt.length-1].symmetries.push(Pr)}}for(let Pr=0;Pr<nt.length;Pr++)Dt&&(0,c.assignBonds)(nt[Pr]),(0,h.computeSecondaryStructure)(nt[Pr],rt.hbondCutoff),(0,g.processSymmetries)(wt[Pr].symmetries,nt[Pr],rt,wt[Pr].cryst),rt.duplicateAssemblyAtoms&&!rt.dontConnectDuplicatedAtoms&&Dt&&(0,c.assignBonds)(nt[Pr]);return nt}},"./src/parsers/CUBE.ts":(a,o,e)=>{e.r(o),e.d(o,{CUBE:()=>b});var c=e("./src/WebGL/index.ts"),h=e("./src/parsers/utils/assignBonds.ts"),g=e("./src/parsers/utils/anumToSymbol.ts");function b($,j){j=j||{};var rt=[[]],nt=$.split(/\r?\n/),pt=j.assignBonds===void 0?!0:j.assignBonds;if(nt.length<6)return rt;var wt=nt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Dt=Math.abs(parseFloat(wt[0]));let Lt={};var it=Lt.origin=new c.Vector3(parseFloat(wt[1]),parseFloat(wt[2]),parseFloat(wt[3]));wt=nt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),wt=nt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var st=wt[0]>0?.529177:1;it.multiplyScalar(st);var bt=Math.abs(wt[0]),gt=new c.Vector3(parseFloat(wt[1]),parseFloat(wt[2]),parseFloat(wt[3])).multiplyScalar(st);wt=nt[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Et=Math.abs(wt[0]),ot=new c.Vector3(parseFloat(wt[1]),parseFloat(wt[2]),parseFloat(wt[3])).multiplyScalar(st);wt=nt[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var _t=Math.abs(wt[0]),Mt=new c.Vector3(parseFloat(wt[1]),parseFloat(wt[2]),parseFloat(wt[3])).multiplyScalar(st);if(Lt.size={x:bt,y:Et,z:_t},Lt.unit=new c.Vector3(gt.x,ot.y,Mt.z),gt.y!=0||gt.z!=0||ot.x!=0||ot.z!=0||Mt.x!=0||Mt.y!=0){Lt.matrix4=new c.Matrix4(gt.x,ot.x,Mt.x,0,gt.y,ot.y,Mt.y,0,gt.z,ot.z,Mt.z,0,0,0,0,1);let hr=new c.Matrix4().makeTranslation(it.x,it.y,it.z);Lt.matrix4=Lt.matrix4.multiplyMatrices(hr,Lt.matrix4),Lt.matrix=Lt.matrix4.matrix3FromTopLeft(),Lt.origin=new c.Vector3(0,0,0),Lt.unit=new c.Vector3(1,1,1)}rt.modelData=[{cryst:Lt}],nt=nt.splice(6,Dt);for(var Bt=rt[rt.length-1].length,It=Bt+nt.length,jt=Bt;jt<It;++jt){var tr={};tr.serial=jt;var gr=nt[jt-Bt],vr=gr.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");tr.elem=g.anumToSymbol[vr[0]],tr.x=parseFloat(vr[2])*st,tr.y=parseFloat(vr[3])*st,tr.z=parseFloat(vr[4])*st,tr.hetflag=!0,tr.bonds=[],tr.bondOrder=[],tr.properties={},rt[rt.length-1].push(tr)}if(pt)for(let hr=0;hr<rt.length;hr++)(0,h.assignBonds)(rt[hr]);return rt}},"./src/parsers/GRO.ts":(a,o,e)=>{e.r(o),e.d(o,{GRO:()=>g});var c=e("./src/parsers/utils/assignPDBBonds.ts"),h=e("./src/parsers/utils/atomNameToElem.ts");function g(b){for(var $=[],j=b.split(/\r?\n|\r/);j.length>0&&!(j.length<3);){var rt=parseInt(j[1]);if(isNaN(rt)||rt<=0||j.length<rt+3)break;var nt=[];$.push(nt);for(var pt=2,wt=nt.length,Dt=wt+rt,Lt=wt;Lt<Dt;Lt++){var it=j[pt++],st={};st.serial=Lt,st.atom=it.slice(10,15).trim(),st.elem=(0,h.atomNameToElem)(st.atom,!0),st.x=10*parseFloat(it.slice(20,28)),st.y=10*parseFloat(it.slice(28,36)),st.z=10*parseFloat(it.slice(36,44)),st.resi=parseInt(it.slice(0,5)),st.resn=it.slice(5,10).trim(),st.bonds=[],st.bondOrder=[],st.properties={},it.length>44&&(st.dx=10*parseFloat(it.slice(44,52)),st.dy=10*parseFloat(it.slice(52,60)),st.dz=10*parseFloat(it.slice(60,68))),nt[Lt]=st}if(j.length<=pt+3){var bt=j[pt++],gt=bt.trim().split(/\s+/);if(gt.length==3){for(var Et=0;Et<3;Et++)gt[Et]=parseFloat(gt[Et])*10;$.box=gt}}j.splice(0,++pt)}for(let ot=0;ot<$.length;ot++)(0,c.assignPDBBonds)($[ot]);return $}},"./src/parsers/LAMMPSTRJ.ts":(a,o,e)=>{e.r(o),e.d(o,{LAMMPSTRJ:()=>h});var c=e("./src/parsers/utils/assignBonds.ts");function h(g,b){for(var $=[],j={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"},rt=g.split(/\r?\n|\r/),nt=0,pt=0,wt=0;wt<rt.length-9;){for(var Dt=wt;Dt<rt.length;Dt++)if(rt[Dt].match(/ITEM: NUMBER OF ATOMS/)&&(pt=parseInt(rt[Dt+1])),rt[Dt].match(/ITEM: ATOMS/)){nt=Dt+1;break}var Lt=rt[nt-1].replace("ITEM: ATOMS ","").split(" ");$.push([]);for(let _t=nt;_t<nt+pt;_t++){for(var it={},st={},bt=rt[_t].split(" "),gt=0;gt<bt.length;gt++){var Et=j[Lt[gt]];Et!=null&&(Et=="serial"?it[Et]=parseInt(bt[gt]):Et=="x"||Et=="y"||Et==="z"?it[Et]=parseFloat(bt[gt]):Et=="charge"||Et=="radius"?st[Et]=parseFloat(bt[gt]):it[Et]=bt[gt]),it.properties=st,it.bonds=[],it.bondOrder=[]}$[$.length-1][_t-nt]=it}wt=nt+pt-1}if(b.assignBonds)for(var ot=0;ot<$.length;ot++)(0,c.assignBonds)($[ot]);return $}},"./src/parsers/MMTF.ts":(a,o,e)=>{e.r(o),e.d(o,{MMTFparser:()=>pt});var c=e("./src/utilities.ts"),h=e("./src/WebGL/index.ts"),g=e("./src/parsers/utils/computeSecondaryStructure.ts"),b=e("./src/parsers/utils/processSymmetries.ts"),$=e("./src/vendor/mmtf.js"),j=function(wt){return String.fromCharCode.apply(null,wt).replace(/\0/g,"")},rt=function(wt){return wt==0||wt==2||wt==4?"h":wt==3?"s":"c"};let nt=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function pt(wt,Dt){var Lt=!Dt.keepH,it=Dt.altLoc?Dt.altLoc:"A",st=!!Dt.noSecondaryStructure,bt=!Dt.noComputeSecondaryStructure,gt=!Dt.doAssembly,Et=Dt.assemblyIndex?Dt.assemblyIndex:0;typeof wt=="string"?wt=(0,c.base64ToArray)(wt):wt=new Uint8Array(wt);var ot=$.decode(wt),_t=[[]],Mt=_t.modelData=[],Bt=0,It=0,jt=0,tr=ot.secStructList,gr=ot.bFactorList,vr=ot.altLocList,hr=ot.occupancyList,mr=ot.bondAtomList,Er=ot.bondOrderList,Rr=ot.numModels;if(Rr==0)return _t;Dt.multimodel||(Rr=1);var Cr,wr,Sr,br,xr,Or,In=[];if(!gt&&ot.bioAssemblyList&&ot.bioAssemblyList.length>0){var Nn=ot.bioAssemblyList[Et].transformList;for(Cr=0,Or=Nn.length;Cr<Or;Cr++){var Hn=new h.Matrix4(Nn[Cr].matrix);Hn.transpose(),In.push(Hn)}}var Bn=null;if(ot.unitCell){var qn=ot.unitCell;Bn={a:qn[0],b:qn[1],c:qn[2],alpha:qn[3],beta:qn[4],gamma:qn[5]}}let Wn=[];ot.entityList.forEach(uo=>{uo.chainIndexList.forEach(rn=>{Wn[rn]=uo.type=="polymer"})});var Yn=0;for(xr=0;xr<Rr;xr++){var po=ot.chainsPerModel[xr],eo=_t[_t.length-1],wo=[];for(Mt.push({symmetries:In,cryst:Bn}),Cr=0;Cr<po;++Cr){var Vn=ot.groupsPerChain[Bt],Kn=j(ot.chainIdList.subarray(Bt*4,Bt*4+4));ot.chainNameList&&(Kn=j(ot.chainNameList.subarray(Bt*4,Bt*4+4)));var to=It,fs="";for(wr=0;wr<Vn;++wr){var hs=ot.groupList[ot.groupTypeList[It]],Cs=hs.atomNameList.length,ps=0,ls=!1,cs=!1;if(tr){ps=tr[It];var ss=rt(ps);(It==0||ss!=fs)&&(ls=!0),fs=ss;var os=It+1;(os>=tr.length||rt(tr[os]!=ss))&&(cs=!0)}var as=ot.groupIdList[It],gs=hs.groupName;let uo=hs.chemCompType;var vs=jt;let rn=nt.has(uo)||!Wn[Bt];for(Sr=0;Sr<Cs;++Sr){var tn=hs.elementList[Sr];if(Lt&&tn=="H"){jt+=1;continue}var Pr="";gr&&(Pr=gr[jt]);var Fn="";vr&&vr[jt]&&(Fn=String.fromCharCode(vr[jt]));var Zn="";if(hr&&(Zn=hr[jt]),Fn!=""&&Fn!=it&&it!="*"){jt+=1;continue}var so=ot.atomIdList[jt],rs=hs.atomNameList[Sr],ns=0;hs.atomChargeList&&(ns=hs.atomChargeList[Sr]);var jr=ot.xCoordList[jt],Qn=ot.yCoordList[jt],co=ot.zCoordList[jt];wo[jt]=eo.length,eo.push({resn:gs,x:jr,y:Qn,z:co,elem:tn,hetflag:rn,chain:Kn,resi:as,icode:Fn,rescode:as+(Fn!=" "?"^"+Fn:""),serial:so,altLoc:Fn,index:jt,atom:rs,bonds:[],ss:rt(ps),ssbegin:ls,ssend:cs,bondOrder:[],properties:{charge:ns,occupancy:Zn},b:Pr}),jt+=1}var us=hs.bondAtomList;for(Sr=0,br=hs.bondOrderList.length;Sr<br;++Sr){var zn=vs+us[Sr*2],ts=vs+us[Sr*2+1],Dr=hs.bondOrderList[Sr],is=wo[zn],ws=wo[ts],yr=eo[is],lo=eo[ws];yr&&lo&&(yr.bonds.push(ws),yr.bondOrder.push(Dr),lo.bonds.push(is),lo.bondOrder.push(Dr))}It+=1}for(It=to,wr=0;wr<Vn;++wr)It+=1;Bt+=1}if(mr)for(let uo=Yn,rn=mr.length;uo<rn;uo+=2){let Un=mr[uo],vo=mr[uo+1],ys=Er?Er[uo/2]:1;if(Un>=jt){Yn=uo;break}let ms=wo[Un],ds=wo[vo],Rs=eo[ms],Gs=eo[ds];Rs&&Gs&&(Rs.bonds.push(ds),Rs.bondOrder.push(ys),Gs.bonds.push(ms),Gs.bondOrder.push(ys))}Dt.multimodel&&(Dt.onemol||_t.push([]))}if(!gt)for(let uo=0;uo<_t.length;uo++)(0,b.processSymmetries)(Mt[uo].symmetries,_t[uo],Dt,Mt[uo].cryst);return bt&&!st&&(0,g.computeSecondaryStructure)(_t,Dt.hbondCutoff),_t}},"./src/parsers/MOL2.ts":(a,o,e)=>{e.r(o),e.d(o,{MOL2:()=>h});let c={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function h(g,b){var $=[[]],j=!1;typeof b.keepH<"u"&&(j=!b.keepH);var rt=g.search(/@<TRIPOS>MOLECULE/),nt=g.search(/@<TRIPOS>ATOM/);if(rt==-1||nt==-1)return $;for(var pt=g.substring(rt).split(/\r?\n|\r/);pt.length>0;){var wt=[],Dt=pt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Lt=parseInt(Dt[0]),it=0;Dt.length>1&&(it=parseInt(Dt[1]));var st=4,bt;for(bt=3;bt<pt.length;bt++)if(pt[bt]=="@<TRIPOS>ATOM"){st=bt+1;break}var gt=$[$.length-1].length,Et=gt+Lt,ot;for(bt=gt;bt<Et;bt++){ot=pt[st++],Dt=ot.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var _t={},Mt=Dt[5];if(c[Mt]!==void 0?Mt=c[Mt]:(Mt=Mt.split(".")[0],Mt=Mt[0].toUpperCase()+Mt.substring(1).toLowerCase()),_t.atom=Dt[1],_t.elem=Mt,!(_t.elem=="H"&&j)){var Bt=$[$.length-1].length,It=parseInt(Dt[0]);_t.serial=It,_t.x=parseFloat(Dt[2]),_t.y=parseFloat(Dt[3]),_t.z=parseFloat(Dt[4]),_t.atom=Dt[5];var jt=parseFloat(Dt[8]);_t.index=Bt,_t.bonds=[],_t.bondOrder=[],_t.properties={charge:jt,partialCharge:jt},wt[It]=Bt,$[$.length-1].push(_t)}}for(var tr=!1;st<pt.length;)if(pt[st++]=="@<TRIPOS>BOND"){tr=!0;break}if(tr&&it)for(bt=0;bt<it;bt++){ot=pt[st++],Dt=ot.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var gr=parseInt(Dt[1]),vr=$[$.length-1][wt[gr]],hr=parseInt(Dt[2]),mr=$[$.length-1][wt[hr]],Er=parseInt(Dt[3]);isNaN(Er)&&(Er=1),vr!==void 0&&mr!==void 0&&(vr.bonds.push(wt[hr]),vr.bondOrder.push(Er),mr.bonds.push(wt[gr]),mr.bondOrder.push(Er))}if(b.multimodel){b.onemol||$.push([]),pt.splice(0,st),g=pt.join(`
`);continue}else break}return $}},"./src/parsers/PDB.ts":(a,o,e)=>{e.r(o),e.d(o,{PDB:()=>h});var c=e("./src/parsers/utils/getSinglePDB.ts");function h(g,b){b=b||{};var $=[],j={};$.modelData=[];for(var rt=g.split(/\r?\n|\r/);rt.length>0;){var nt=(0,c.getSinglePDB)(rt,b,j),pt=nt[0],wt=nt[1];if(rt=nt[2],pt.length!=0){if(b.multimodel&&b.onemol&&$.length>0)for(var Dt=$[0].length,Lt=0;Lt<pt.length;Lt++){var it=pt[Lt];it.index=Lt;for(var st=0;st<it.bonds.length;st++)it.bonds[st]+=Dt;$[0].push(it)}else $.modelData.push(wt),$.push(pt);if(!b.multimodel)break}}return $}},"./src/parsers/PQR.ts":(a,o,e)=>{e.r(o),e.d(o,{PQR:()=>g});var c=e("./src/parsers/utils/assignPDBBonds.ts"),h=e("./src/parsers/utils/computeSecondaryStructure.ts");function g(b,$){var j=[[]],rt=!$.noSecondaryStructure;j.modelData=[{symmetries:[]}];var nt=[],pt=b.split(/\r?\n|\r/),wt;for(let tr=0;tr<pt.length;tr++){wt=pt[tr].replace(/^\s*/,"");var Dt=wt.substring(0,6);if(Dt.indexOf("END")==0)if($.multimodel){$.onemol||j.push([]);continue}else break;else if(Dt=="ATOM  "||Dt=="HETATM"){var Lt;let gr=parseInt(wt.substring(6,11)),vr=wt.substring(12,16).replace(/ /g,""),hr=wt.substring(17,20).trim(),mr=wt.substring(21,22),Er=parseInt(wt.substring(22,26));var it=wt.substring(30).trim().split(/\s+/),st=parseFloat(it[0]),bt=parseFloat(it[1]),gt=parseFloat(it[2]),Et=parseFloat(it[3]),ot=parseFloat(it[4]),_t=vr[0];vr.length>1&&vr[1].toUpperCase()!=vr[1]&&(_t=vr.substring(0,2)),wt[0]=="H"?Lt=!0:Lt=!1,nt[gr]=j[j.length-1].length,j[j.length-1].push({resn:hr,x:st,y:bt,z:gt,elem:_t,hetflag:Lt,chain:mr,resi:Er,serial:gr,atom:vr,bonds:[],ss:"c",bondOrder:[],properties:{charge:Et,partialCharge:Et,radius:ot},pdbline:wt})}else if(Dt=="CONECT"){var Mt=parseInt(wt.substring(6,11)),Bt=j[j.length-1][nt[Mt]];for(let gr=0;gr<4;gr++){var It=parseInt(wt.substring([11,16,21,26][gr],[11,16,21,26][gr]+5)),jt=j[j.length-1][nt[It]];Bt!==void 0&&jt!==void 0&&(Bt.bonds.push(nt[It]),Bt.bondOrder.push(1))}}}for(let tr=0;tr<j.length;tr++)(0,c.assignPDBBonds)(j[tr]),rt&&(0,h.computeSecondaryStructure)(j[tr],$.hbondCutoff);return j}},"./src/parsers/PRMTOP.ts":(a,o,e)=>{e.r(o),e.d(o,{PRMTOP:()=>c});function c(h){var g=[],b,$=0,j=h.split(/\r?\n|\r/);if(j.length>0&&j[0].includes("VERSION")){var rt=j.filter(function(st){return st.includes("POINTERS")||st.includes("ATOM_NAME")||st.includes("CHARGE")||st.includes("RADII")||st.includes("BONDS_INC_HYDROGEN")||st.includes("BONDS_WITHOUT_HYDROGEN")}),nt=Lt("POINTERS");if(nt==-1)return[];var pt=it(nt),wt=parseInt(j[nt+1].slice(0,pt[1]));if(isNaN(wt)||wt<=0)return[];if(nt=Lt("ATOM_NAME"),nt==-1)return[];pt=it(nt);var Dt=pt[0];for(let st=0;st<wt/pt[0];st++){st==parseInt(wt/pt[0])&&(Dt=wt%pt[0]);for(let bt=0;bt<Dt;bt++){let gt={},Et={charge:"",radii:""};gt.serial=$,gt.x=0,gt.y=0,gt.z=0,gt.atom=j[nt+1].slice(pt[1]*bt,pt[1]*(bt+1)),gt.elem=j[nt+1].slice(pt[1]*bt,pt[1]*bt+1),gt.properties=Et,gt.bonds=[],gt.bondOrder=[],g.push(gt),$++}nt++}if(nt=Lt("CHARGE"),nt!=-1){pt=it(nt),$=0,Dt=pt[0];for(let st=0;st<wt/pt[0];st++){st==parseInt(wt/pt[0])&&(Dt=wt%pt[0]);for(let bt=0;bt<Dt;bt++)g[$].properties.charge=parseFloat(j[nt+1].slice(pt[1]*bt,pt[1]*(bt+1))),$++;nt++}}if(nt=Lt("RADII"),nt!=-1){pt=it(nt),$=0,Dt=pt[0];for(let st=0;st<wt/pt[0];st++){st==parseInt(wt/pt[0])&&(Dt=wt%pt[0]);for(let bt=0;bt<Dt;bt++)g[$].properties.radii=parseFloat(j[nt+1].slice(pt[1]*bt,pt[1]*(bt+1))),$++;nt++}}if(nt=Lt("BONDS_WITHOUT_HYDROGEN"),nt!=-1)for(pt=it(nt),$=0,Dt=pt[0],nt=nt+1;!j[nt].match(/^%FLAG/);){j[nt+1].match(/^%FLAG/)&&(Dt=wt%pt[0]);for(let st=0;st<Dt;st++)$%3==0?b=parseInt(j[nt].slice(pt[1]*st,pt[1]*(st+1))/3):$%3==1&&g[b].bonds.push(parseInt(j[nt].slice(pt[1]*st,pt[1]*(st+1))/3)),$++;nt++}if(nt=Lt("BONDS_INC_HYDROGEN"),nt!=-1)for(pt=it(nt),$=0,Dt=pt[0],nt=nt+1;!j[nt].match(/^%FLAG/);){j[nt+1].match(/^%FLAG/)&&(Dt=wt%pt[0]);for(let st=0;st<Dt;st++)$%3==0?b=parseInt(j[nt].slice(pt[1]*st,pt[1]*(st+1))/3):$%3==1&&g[b].bonds.push(parseInt(j[nt].slice(pt[1]*st,pt[1]*(st+1))/3)),$++;nt++}}else return[];function Lt(st){var bt=j.indexOf(rt.filter(function(gt){return gt.includes(st)})[0]);if(Number.isInteger(bt)&&bt>0){for(;!j[bt].includes("FORMAT");)bt++;return bt}else return-1}function it(st){var bt=j[st].match(/\((\d*)\S*/),gt=j[st].match(/[a-zA-Z](\d*)\)\s*/);return gt==null&&(gt=j[st].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[bt[1],gt[1]]}return[g]}},"./src/parsers/SDF.ts":(a,o,e)=>{e.r(o),e.d(o,{SDF:()=>g});var c=function(b,$){var j=[[]],rt=!1;for(typeof $.keepH<"u"&&(rt=!$.keepH);b.length>0&&!(b.length<4);){var nt=parseInt(b[3].substring(0,3));if(isNaN(nt)||nt<=0)break;var pt=parseInt(b[3].substring(3,6)),wt=4;if(b.length<4+nt+pt)break;var Dt=[],Lt=j[j.length-1].length,it=Lt+nt,st,bt;for(st=Lt;st<it;st++,wt++){bt=b[wt];var gt={},Et=bt.substring(31,34).replace(/ /g,"");gt.atom=gt.elem=Et[0].toUpperCase()+Et.substring(1).toLowerCase(),(gt.elem!=="H"||!rt)&&(gt.serial=st,Dt[st]=j[j.length-1].length,gt.x=parseFloat(bt.substring(0,10)),gt.y=parseFloat(bt.substring(10,20)),gt.z=parseFloat(bt.substring(20,30)),gt.hetflag=!0,gt.bonds=[],gt.bondOrder=[],gt.properties={},gt.index=j[j.length-1].length,j[j.length-1].push(gt))}for(st=0;st<pt;st++,wt++){bt=b[wt];var ot=Dt[parseInt(bt.substring(0,3))-1+Lt],_t=Dt[parseInt(bt.substring(3,6))-1+Lt],Mt=parseFloat(bt.substring(6));typeof ot<"u"&&typeof _t<"u"&&(j[j.length-1][ot].bonds.push(_t),j[j.length-1][ot].bondOrder.push(Mt),j[j.length-1][_t].bonds.push(ot),j[j.length-1][_t].bondOrder.push(Mt))}if($.multimodel){for($.onemol||j.push([]);b[wt]!=="$$$$"&&wt<b.length;)wt++;b.splice(0,++wt)}else break}return j},h=function(b,$){var j=[[]],rt=!1;for(typeof $.keepH<"u"&&(rt=!$.keepH);b.length>0&&!(b.length<8||!b[4].startsWith("M  V30 BEGIN CTAB")||!b[5].startsWith("M  V30 COUNTS")||b[5].length<14);){var nt=b[5].substring(13).match(/\S+/g);if(nt.length<2)break;var pt=parseInt(nt[0]);if(isNaN(pt)||pt<=0)break;var wt=parseInt(nt[1]),Dt=7;if(b.length<8+pt+wt)break;var Lt=[],it=j[j.length-1].length,st=it+pt,bt,gt;for(bt=it;bt<st;bt++,Dt++){gt=b[Dt];var Et=gt.substring(6).match(/\S+/g);if(Et.length>4){var ot={},_t=Et[1].replace(/ /g,"");ot.atom=ot.elem=_t[0].toUpperCase()+_t.substring(1).toLowerCase(),(ot.elem!=="H"||!rt)&&(ot.serial=bt,Lt[bt]=j[j.length-1].length,ot.x=parseFloat(Et[2]),ot.y=parseFloat(Et[3]),ot.z=parseFloat(Et[4]),ot.hetflag=!0,ot.bonds=[],ot.bondOrder=[],ot.properties={},ot.index=j[j.length-1].length,j[j.length-1].push(ot))}}if(b[Dt]==="M  V30 END ATOM")Dt++;else break;if(wt!==0&&b[Dt]==="M  V30 BEGIN BOND")Dt++;else break;for(bt=0;bt<wt;bt++,Dt++){gt=b[Dt];var Mt=gt.substring(6).match(/\S+/g);if(Mt.length>3){var Bt=Lt[parseInt(Mt[2])-1+it],It=Lt[parseInt(Mt[3])-1+it],jt=parseFloat(Mt[1]);typeof Bt<"u"&&typeof It<"u"&&(j[j.length-1][Bt].bonds.push(It),j[j.length-1][Bt].bondOrder.push(jt),j[j.length-1][It].bonds.push(Bt),j[j.length-1][It].bondOrder.push(jt))}}if($.multimodel){for($.onemol||j.push([]);b[Dt]!=="$$$$"&&Dt<b.length;)Dt++;b.splice(0,++Dt)}else break}return j};function g(b,$){var j="V2000",rt=b.split(/\r?\n|\r/);return rt.length>3&&rt[3].length>38&&(j=rt[3].substring(34,39)),j==="V2000"?c(rt,$):j==="V3000"?h(rt,$):[[""]]}},"./src/parsers/VASP.ts":(a,o,e)=>{e.r(o),e.d(o,{VASP:()=>h});var c=e("./src/WebGL/index.ts");function h(g){var b=[[]],$={},j=g.replace(/^\s+/,"").split(/\r?\n/);if(j.length<3)return b;if(j[1].match(/\d+/))$.length=parseFloat(j[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),b;if($.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),b;$.xVec=new Float32Array(j[2].replace(/^\s+/,"").split(/\s+/)),$.yVec=new Float32Array(j[3].replace(/^\s+/,"").split(/\s+/)),$.zVec=new Float32Array(j[4].replace(/^\s+/,"").split(/\s+/));var rt=new c.Matrix3($.xVec[0],$.xVec[1],$.xVec[2],$.yVec[0],$.yVec[1],$.yVec[2],$.zVec[0],$.zVec[1],$.zVec[2]);rt.multiplyScalar($.length),b.modelData=[{symmetries:[],cryst:{matrix:rt}}];var nt=j[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/),pt=new Int16Array(j[6].replace(/^\s+/,"").split(/\s+/)),wt=j[7].replace(/\s+/,"");if(wt.match(/C/))wt="cartesian";else if(wt.match(/D/))wt="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),b;if(nt.length!=pt.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(nt),console.log(pt),b;j.splice(0,8);for(var Dt=0,Lt=0,it=nt.length;Lt<it;Lt++){for(var st=nt[Lt],bt=0,gt=pt[Lt];bt<gt;bt++){var Et=new Float32Array(j[Dt+bt].replace(/^\s+/,"").split(/\s+/)),ot={};ot.elem=st,wt=="cartesian"?(ot.x=$.length*Et[0],ot.y=$.length*Et[1],ot.z=$.length*Et[2]):(ot.x=$.length*(Et[0]*$.xVec[0]+Et[1]*$.yVec[0]+Et[2]*$.zVec[0]),ot.y=$.length*(Et[0]*$.xVec[1]+Et[1]*$.yVec[1]+Et[2]*$.zVec[1]),ot.z=$.length*(Et[0]*$.xVec[2]+Et[1]*$.yVec[2]+Et[2]*$.zVec[2])),ot.bonds=[],b[0].push(ot)}Dt+=pt[Lt]}return b}},"./src/parsers/XYZ.ts":(a,o,e)=>{e.r(o),e.d(o,{XYZ:()=>g});var c=e("./src/WebGL/index.ts"),h=e("./src/parsers/utils/assignBonds.ts");function g(b,$){$=$||{};for(var j=[[]],rt=$.assignBonds===void 0?!0:$.assignBonds,nt=b.split(/\r?\n|\r/);nt.length>0&&!(nt.length<3);){var pt=parseInt(nt[0]);if(isNaN(pt)||pt<=0||nt.length<pt+2)break;var wt=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,Dt=wt.exec(nt[1]);if(Dt!=null&&Dt.length>1){var Lt=new Float32Array(Dt[1].split(/\s+/)),it=new c.Matrix3(Lt[0],Lt[3],Lt[6],Lt[1],Lt[4],Lt[7],Lt[2],Lt[5],Lt[8]);j.modelData=[{cryst:{matrix:it}}]}for(var st=2,bt=j[j.length-1].length,gt=bt+pt,Et=bt;Et<gt;Et++){var ot=nt[st++],_t=ot.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Mt={};Mt.serial=Et;var Bt=_t[0];Mt.atom=Mt.elem=Bt[0].toUpperCase()+Bt.substring(1,2).toLowerCase(),Mt.x=parseFloat(_t[1]),Mt.y=parseFloat(_t[2]),Mt.z=parseFloat(_t[3]),Mt.hetflag=!0,Mt.bonds=[],Mt.bondOrder=[],Mt.properties={},j[j.length-1][Et]=Mt,_t.length>=7&&(Mt.dx=parseFloat(_t[4]),Mt.dy=parseFloat(_t[5]),Mt.dz=parseFloat(_t[6]))}if($.multimodel)j.push([]),nt.splice(0,st);else break}if(rt)for(let jt=0;jt<j.length;jt++)(0,h.assignBonds)(j[jt]);if($.onemol){var It=j;j=[],j.push(It[0]);for(let jt=1;jt<It.length;jt++){let tr=j[0].length;for(let gr=0;gr<It[jt].length;gr++){let vr=It[jt][gr];for(let hr=0;hr<vr.bonds.length;hr++)vr.bonds[hr]=vr.bonds[hr]+tr;vr.index=j[0].length,vr.serial=j[0].length,j[0].push(vr)}}}return j}},"./src/parsers/index.ts":(a,o,e)=>{e.r(o),e.d(o,{Parsers:()=>bt,bondLength:()=>st.bondLength,setBondLength:()=>st.setBondLength});var c=e("./src/parsers/VASP.ts"),h=e("./src/parsers/CUBE.ts"),g=e("./src/parsers/XYZ.ts"),b=e("./src/parsers/SDF.ts"),$=e("./src/parsers/CDJSON.ts"),j=e("./src/parsers/CIF.ts"),rt=e("./src/parsers/MOL2.ts"),nt=e("./src/parsers/PDB.ts"),pt=e("./src/parsers/PQR.ts"),wt=e("./src/parsers/MMTF.ts"),Dt=e("./src/parsers/PRMTOP.ts"),Lt=e("./src/parsers/GRO.ts"),it=e("./src/parsers/LAMMPSTRJ.ts"),st=e("./src/parsers/utils/bondLength.ts");const bt={vasp:c.VASP,VASP:c.VASP,cube:h.CUBE,CUBE:h.CUBE,xyz:g.XYZ,XYZ:g.XYZ,sdf:b.SDF,SDF:b.SDF,json:$.CDJSON,cdjson:$.CDJSON,CDJSON:$.CDJSON,mcif:j.CIF,cif:j.CIF,CIF:j.CIF,mol2:rt.MOL2,MOL2:rt.MOL2,pdb:nt.PDB,PDB:nt.PDB,pdbqt:nt.PDB,PDBQT:nt.PDB,pqr:pt.PQR,PQR:pt.PQR,mmtf:wt.MMTFparser,MMTF:wt.MMTFparser,prmtop:Dt.PRMTOP,PRMTOP:Dt.PRMTOP,gro:Lt.GRO,GRO:Lt.GRO,lammpstrj:it.LAMMPSTRJ,LAMMPSTRJ:it.LAMMPSTRJ}},"./src/parsers/utils/anumToSymbol.ts":(a,o,e)=>{e.r(o),e.d(o,{anumToSymbol:()=>c});const c={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(a,o,e)=>{e.r(o),e.d(o,{areConnected:()=>h});var c=e("./src/parsers/utils/bondLength.ts");function h(g,b){var $=(0,c.bondLength)(g.elem)+(0,c.bondLength)(b.elem);$+=.25,$*=$;var j=g.x-b.x;if(j*=j,j>$)return!1;var rt=g.y-b.y;if(rt*=rt,rt>$)return!1;var nt=g.z-b.z;if(nt*=nt,nt>$)return!1;var pt=j+rt+nt;return isNaN(pt)||pt<.5||pt>$?!1:!(g.altLoc!=b.altLoc&&g.altLoc!=" "&&b.altLoc!=" ")}},"./src/parsers/utils/assignBackboneHBonds.ts":(a,o,e)=>{e.r(o),e.d(o,{assignBackboneHBonds:()=>c});function c(h,g){let b=g||3.2,$=b*b,j=[];for(let st=0,bt=h.length;st<bt;st++){h[st].index=st;var rt=h[st];!rt.hetflag&&(rt.atom==="N"||rt.atom==="O")&&(j.push(rt),rt.hbondOther=null,rt.hbondDistanceSq=Number.POSITIVE_INFINITY)}j.sort(function(st,bt){return st.z-bt.z});for(let st=0,bt=j.length;st<bt;st++){var nt=j[st];for(let gt=st+1;gt<bt;gt++){var pt=j[gt],wt=pt.z-nt.z;if(wt>b)break;if(pt.atom!=nt.atom){var Dt=Math.abs(pt.y-nt.y);if(!(Dt>b)){var Lt=Math.abs(pt.x-nt.x);if(!(Lt>b)){var it=Lt*Lt+Dt*Dt+wt*wt;it>$||pt.chain==nt.chain&&Math.abs(pt.resi-nt.resi)<4||(it<nt.hbondDistanceSq&&(nt.hbondOther=pt,nt.hbondDistanceSq=it),it<pt.hbondDistanceSq&&(pt.hbondOther=nt,pt.hbondDistanceSq=it))}}}}}}},"./src/parsers/utils/assignBonds.ts":(a,o,e)=>{e.r(o),e.d(o,{assignBonds:()=>h});var c=e("./src/parsers/utils/areConnected.ts");function h(g){for(var b=0,$=g.length;b<$;b++)g[b].index||(g[b].index=b);for(var j={},rt=4.95,nt=0;nt<g.length;nt++){var pt=g[nt],wt=Math.floor(pt.x/rt),Dt=Math.floor(pt.y/rt),Lt=Math.floor(pt.z/rt);j[wt]||(j[wt]={}),j[wt][Dt]||(j[wt][Dt]={}),j[wt][Dt][Lt]||(j[wt][Dt][Lt]=[]),j[wt][Dt][Lt].push(pt)}var it=function(bt,gt){for(var Et=0;Et<bt.length;Et++)for(var ot=bt[Et],_t=0;_t<gt.length;_t++){var Mt=gt[_t];if((0,c.areConnected)(ot,Mt)){var Bt=ot.bonds.indexOf(Mt.index),It=Mt.bonds.indexOf(ot.index);Bt==-1&&It==-1?(ot.bonds.push(Mt.index),ot.bondOrder.push(1),Mt.bonds.push(ot.index),Mt.bondOrder.push(1)):Bt==-1?(ot.bonds.push(Mt.index),ot.bondOrder.push(Mt.bondOrder[It])):It==-1&&(Mt.bonds.push(ot.index),Mt.bondOrder.push(ot.bondOrder[Bt]))}}},st=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(let bt in j){let gt=parseInt(bt);for(let Et in j[gt]){let ot=parseInt(Et);for(let _t in j[gt][ot]){let Mt=parseInt(_t),Bt=j[gt][ot][Mt];for(let It=0;It<Bt.length;It++){let jt=Bt[It];for(let tr=It+1;tr<Bt.length;tr++){let gr=Bt[tr];(0,c.areConnected)(jt,gr)&&jt.bonds.indexOf(gr.index)==-1&&(jt.bonds.push(gr.index),jt.bondOrder.push(1),gr.bonds.push(jt.index),gr.bondOrder.push(1))}}for(let It=0;It<st.length;It++){let jt=st[It];if(!j[gt+jt.x]||!j[gt+jt.x][ot+jt.y]||!j[gt+jt.x][ot+jt.y][Mt+jt.z])continue;let tr=j[gt+jt.x][ot+jt.y][Mt+jt.z];it(Bt,tr)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(a,o,e)=>{e.r(o),e.d(o,{assignPDBBonds:()=>b});var c=e("./src/parsers/utils/areConnected.ts"),h=e("./src/parsers/utils/assignBonds.ts"),g=e("./src/parsers/utils/standardResidues.ts");function b($){var j=[],rt=[],nt,pt;for(nt=0,pt=$.length;nt<pt;nt++){var wt=$[nt];wt.index=nt,wt.hetflag||!g.standardResidues.has(wt.resn)?rt.push(wt):j.push(wt)}(0,h.assignBonds)(rt),j.sort(function(Et,ot){return Et.chain!=ot.chain?Et.chain<ot.chain?-1:1:Et.resi-ot.resi});var Dt=-1,Lt=-1,it;for(nt=0,pt=j.length;nt<pt;nt++){var st=j[nt];st.resi!==Dt&&(Dt=st.resi,it||Lt++,it=!1),st.reschain=Lt;for(var bt=nt+1;bt<j.length;bt++){var gt=j[bt];if(gt.chain!=st.chain||gt.resi-st.resi>1)break;(0,c.areConnected)(st,gt)&&(st.bonds.indexOf(gt.index)===-1&&(st.bonds.push(gt.index),st.bondOrder.push(1),gt.bonds.push(st.index),gt.bondOrder.push(1)),st.resi!==gt.resi&&(it=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(a,o,e)=>{e.r(o),e.d(o,{atomNameToElem:()=>h});var c=e("./src/parsers/utils/bondLength.ts");function h(g,b){var $=g.replace(/ /g,"");return $.length>0&&$[0]=="H"&&$!="Hg"&&$!="He"&&$!="Hf"&&$!="Hs"&&$!="Ho"&&($="H"),$.length>1&&($=$[0].toUpperCase()+$.substring(1).toLowerCase(),typeof c.bondTable[$]>"u"?$=$[0]:b&&($=="Ca"||$=="Cd")&&($="C")),$}},"./src/parsers/utils/bondLength.ts":(a,o,e)=>{e.r(o),e.d(o,{bondLength:()=>h,bondTable:()=>c,setBondLength:()=>g});let c={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function h(b){return c[b]||1.6}function g(b,$){$<0&&($=0),c[b]=$}},"./src/parsers/utils/computeSecondaryStructure.ts":(a,o,e)=>{e.r(o),e.d(o,{computeSecondaryStructure:()=>h});var c=e("./src/parsers/utils/assignBackboneHBonds.ts");function h(g,b){(0,c.assignBackboneHBonds)(g,b);var $={},j,rt,nt,pt,wt,Dt;for(j=0,rt=g.length;j<rt;j++)if(wt=g[j],typeof $[wt.chain]>"u"&&($[wt.chain]=[]),isFinite(wt.hbondDistanceSq)){var Lt=wt.hbondOther;typeof $[Lt.chain]>"u"&&($[Lt.chain]=[]),Math.abs(Lt.resi-wt.resi)===4&&($[wt.chain][wt.resi]="h")}for(nt in $)for(pt=1;pt<$[nt].length-1;pt++){var it=$[nt][pt-1],st=$[nt][pt+1];Dt=$[nt][pt],it=="h"&&it==st&&Dt!=it&&($[nt][pt]=it)}for(j=0,rt=g.length;j<rt;j++)wt=g[j],isFinite(wt.hbondDistanceSq)&&$[wt.chain][wt.resi]!="h"&&wt.ss!="h"&&($[wt.chain][wt.resi]="maybesheet");for(let bt=0,gt=g.length;bt<gt;bt++)if(wt=g[bt],isFinite(wt.hbondDistanceSq)&&$[wt.chain][wt.resi]=="maybesheet"){let Et=wt.hbondOther,ot=$[Et.chain][Et.resi];(ot=="maybesheet"||ot=="s")&&($[wt.chain][wt.resi]="s",$[Et.chain][Et.resi]="s")}for(let bt in $){for(let gt=1;gt<$[bt].length-1;gt++){let Et=$[bt][gt-1],ot=$[bt][gt+1];Dt=$[bt][gt],Et=="s"&&Et==ot&&Dt!=Et&&($[bt][gt]=Et)}for(let gt=0;gt<$[bt].length;gt++){let Et=$[bt][gt];(Et=="h"||Et=="s")&&$[bt][gt-1]!=Et&&$[bt][gt+1]!=Et&&delete $[bt][gt]}}for(j=0,rt=g.length;j<rt;j++)wt=g[j],Dt=$[wt.chain][wt.resi],delete wt.hbondOther,delete wt.hbondDistanceSq,!(typeof Dt>"u"||Dt=="maybesheet")&&(wt.ss=Dt,$[wt.chain][wt.resi-1]!=Dt&&(wt.ssbegin=!0),$[wt.chain][wt.resi+1]!=Dt&&(wt.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(a,o,e)=>{e.r(o),e.d(o,{getSinglePDB:()=>pt});var c=e("./src/WebGL/index.ts"),h=e("./src/parsers/utils/atomNameToElem.ts"),g=e("./src/parsers/utils/bondLength.ts"),b=e("./src/parsers/utils/computeSecondaryStructure.ts"),$=e("./src/parsers/utils/isEmpty.ts"),j=e("./src/parsers/utils/processSymmetries.ts"),rt=e("./src/parsers/utils/assignPDBBonds.ts"),nt=e("./src/parsers/utils/validateBonds.ts");function pt(wt,Dt,Lt){var it=[],st=Dt.assignBonds===void 0?!0:Dt.assignBonds,bt=!Dt.keepH,gt=!!Dt.noSecondaryStructure,Et=!Dt.noComputeSecondaryStructure,ot=!Dt.doAssembly,_t=Dt.altLoc?Dt.altLoc:"A",Mt={symmetries:[]},Bt,It=[],jt=[],tr,gr={};for(let gs=0;gs<wt.length;gs++){tr=wt[gs].replace(/^\s*/,"");var vr=tr.substring(0,6),hr,mr,Er;if(vr.indexOf("END")==0){if(It=wt.slice(gs+1),vr=="END")for(var Rr in Lt)Lt.hasOwnProperty(Rr)&&delete Lt[Rr];break}else if(vr=="ATOM  "||vr=="HETATM"){var Cr,wr,Sr,br,xr,Or,In,Nn,Hn,Bn,qn,Wn;if(qn=tr.substring(16,17),qn!=" "&&qn!=_t&&_t!="*"||(Bn=parseInt(tr.substring(6,11)),Bt=tr.substring(12,16).replace(/ /g,""),Cr=tr.substring(17,20).replace(/ /g,""),wr=tr.substring(21,22),Sr=parseInt(tr.substring(22,26)),br=tr.substring(26,27),xr=parseFloat(tr.substring(30,38)),Or=parseFloat(tr.substring(38,46)),In=parseFloat(tr.substring(46,54)),Wn=parseFloat(tr.substring(60,68)),Hn=tr.substring(76,78).replace(/ /g,""),Hn===""||typeof g.bondTable[Hn]>"u"?Hn=(0,h.atomNameToElem)(tr.substring(12,14),tr[0]=="A"):Hn=Hn[0].toUpperCase()+Hn.substring(1).toLowerCase(),Hn=="H"&&bt))continue;vr[0]=="H"?Nn=!0:Nn=!1,jt[Bn]=it.length,it.push({resn:Cr,x:xr,y:Or,z:In,elem:Hn,hetflag:Nn,altLoc:qn,chain:wr,resi:Sr,icode:br,rescode:Sr+(br!=" "?"^"+br:""),serial:Bn,atom:Bt,bonds:[],ss:"c",bondOrder:[],properties:{},b:Wn,pdbline:tr})}else if(vr=="SHEET "){hr=tr.substring(21,22),mr=parseInt(tr.substring(22,26)),Er=parseInt(tr.substring(33,37)),hr in Lt||(Lt[hr]={}),Lt[hr][mr]="s1";for(var Yn=mr+1;Yn<Er;Yn++)Lt[hr][Yn]="s";Lt[hr][Er]="s2"}else if(vr=="CONECT"){var po=parseInt(tr.substring(6,11)),eo=jt[po],wo=it[eo],Vn=[11,16,21,26];for(let vs=0;vs<4;vs++){var Kn=parseInt(tr.substring(Vn[vs],Vn[vs]+5)),to=jt[Kn];let tn=eo+":"+to;var fs=it[to];if(wo!==void 0&&fs!==void 0)if(!gr[tn])gr[tn]=1,(wo.bonds.length==0||wo.bonds[wo.bonds.length-1]!=to)&&(wo.bonds.push(to),wo.bondOrder.push(1));else{gr[tn]+=1;for(let Pr=0;Pr<wo.bonds.length;Pr++)if(wo.bonds[Pr]==to){var hs=gr[tn];hs>=4?wo.bondOrder[Pr]=1:wo.bondOrder[Pr]=hs}}}}else if(vr=="HELIX "){hr=tr.substring(19,20),mr=parseInt(tr.substring(21,25)),Er=parseInt(tr.substring(33,37)),hr in Lt||(Lt[hr]={}),Lt[hr][mr]="h1";for(let vs=mr+1;vs<Er;vs++)Lt[hr][vs]="h";Lt[hr][Er]="h2"}else if(!ot&&vr=="REMARK"&&tr.substring(13,18)=="BIOMT"){var Cs,ps=new c.Matrix4;for(Cs=1;Cs<=3;Cs++)if(tr=wt[gs].replace(/^\s*/,""),parseInt(tr.substring(18,19))==Cs)ps.elements[Cs-1]=parseFloat(tr.substring(23,33)),ps.elements[Cs-1+4]=parseFloat(tr.substring(33,43)),ps.elements[Cs-1+8]=parseFloat(tr.substring(43,53)),ps.elements[Cs-1+12]=parseFloat(tr.substring(53)),gs++;else for(;tr.substring(13,18)=="BIOMT";)gs++,tr=wt[gs].replace(/^\s*/,"");ps.elements[3]=0,ps.elements[7]=0,ps.elements[11]=0,ps.elements[15]=1,Mt.symmetries.push(ps),gs--}else if(vr=="CRYST1"){let vs,tn,Pr,Fn,Zn,so;vs=parseFloat(tr.substring(7,15)),tn=parseFloat(tr.substring(16,24)),Pr=parseFloat(tr.substring(25,33)),Fn=parseFloat(tr.substring(34,40)),Zn=parseFloat(tr.substring(41,47)),so=parseFloat(tr.substring(48,54)),Mt.cryst={a:vs,b:tn,c:Pr,alpha:Fn,beta:Zn,gamma:so}}else if(vr=="ANISOU"){let vs=parseInt(tr.substring(6,11));var ls=jt[vs],cs=it[ls];if(cs){var ss=tr.substring(30).trim().split(/\s+/),os={u11:parseInt(ss[0]),u22:parseInt(ss[1]),u33:parseInt(ss[2]),u12:parseInt(ss[3]),u13:parseInt(ss[4]),u23:parseInt(ss[5])};cs.uMat=os}}}if((0,nt.validateBonds)(it,jt),st&&(0,rt.assignPDBBonds)(it),ot||(0,j.processSymmetries)(Mt.symmetries,it,Dt,Mt.cryst),Et&&!gt&&(0,b.computeSecondaryStructure)(it,Dt.hbondCutoff),!(0,$.isEmpty)(Lt)){for(let gs=0;gs<it.length;gs++)if(Bt=it[gs],Bt!==void 0&&Bt.chain in Lt&&Bt.resi in Lt[Bt.chain]){var as=Lt[Bt.chain][Bt.resi];Bt.ss=as[0],as.length>1&&(as[1]=="1"?Bt.ssbegin=!0:as[1]=="2"&&(Bt.ssend=!0))}}return[it,Mt,It]}},"./src/parsers/utils/isEmpty.ts":(a,o,e)=>{e.r(o),e.d(o,{isEmpty:()=>c});function c(h){var g;for(g in h)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(a,o,e)=>{e.r(o),e.d(o,{processSymmetries:()=>h});var c=e("./src/WebGL/index.ts");function h(g,b,$,j){var rt=!$.duplicateAssemblyAtoms,nt=b.length,pt=nt,wt,Dt,Lt;let it=-1;if($.normalizeAssembly&&j){let _t=(0,c.conversionMatrix3)(j.a,j.b,j.c,j.alpha,j.beta,j.gamma),Mt=new c.Matrix3;for(Mt.getInverse3(_t),wt=0;wt<g.length;wt++){let Bt=new c.Vector3(0,0,0);for(Lt=0;Lt<nt;Lt++){let gr=new c.Vector3(b[Lt].x,b[Lt].y,b[Lt].z);gr.applyMatrix4(g[wt]),gr.applyMatrix3(Mt),Bt.add(gr)}Bt.divideScalar(nt);const It=[Bt.x,Bt.y,Bt.z];let jt=[0,0,0];for(let gr=0;gr<3;gr++){for(;It[gr]<-.001;)It[gr]+=1,jt[gr]+=1;for(;It[gr]>1.001;)It[gr]-=1,jt[gr]-=1}const tr=new c.Vector3(jt[0],jt[1],jt[2]);tr.applyMatrix3(_t),g[wt].isNearlyIdentity()&&tr.lengthSq()>.001&&(it=wt),g[wt].translate(tr)}}if(rt){if(g.length>1)for(wt=0;wt<b.length;wt++){var Et=[];for(Dt=0;Dt<g.length;Dt++)if(!g[Dt].isNearlyIdentity()){var ot=new c.Vector3;ot.set(b[wt].x,b[wt].y,b[wt].z),ot.applyMatrix4(g[Dt]),Et.push(ot)}b[wt].symmetries=Et}}else{for(Lt=0;Lt<nt;Lt++)b[Lt].sym=-1;for(wt=0;wt<g.length;wt++)if(!g[wt].isNearlyIdentity()&&it!=wt){let _t=new c.Vector3;for(Lt=0;Lt<nt;Lt++){var st=[];for(Dt=0;Dt<b[Lt].bonds.length;Dt++)st.push(b[Lt].bonds[Dt]+pt);_t.set(b[Lt].x,b[Lt].y,b[Lt].z),_t.applyMatrix4(g[wt]);var bt={};for(var gt in b[Lt])bt[gt]=b[Lt][gt];bt.x=_t.x,bt.y=_t.y,bt.z=_t.z,bt.bonds=st,bt.sym=wt,bt.index=b.length,b.push(bt)}pt=b.length}else for(Lt=0;Lt<nt;Lt++)b[Lt].sym=wt;if(it>=0){let _t=new c.Vector3;for(Lt=0;Lt<nt;Lt++)_t.set(b[Lt].x,b[Lt].y,b[Lt].z),_t.applyMatrix4(g[it]),b[Lt].x=_t.x,b[Lt].y=_t.y,b[Lt].z=_t.z}g.length=0}}},"./src/parsers/utils/standardResidues.ts":(a,o,e)=>{e.r(o),e.d(o,{standardResidues:()=>c});const c=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(a,o,e)=>{e.r(o),e.d(o,{validateBonds:()=>c});function c(h,g){for(var b=0,$=h.length;b<$;b++)for(var j=h[b],rt=0;rt<j.bonds.length;rt++){var nt=j.bonds[rt],pt=h[nt],wt=g[j.serial];if(pt&&wt){var Dt=pt.bonds.indexOf(wt);Dt<0&&(pt.bonds.push(wt),pt.bondOrder.push(j.bondOrder[rt]))}}}},"./src/partialCharges.ts":(a,o,e)=>{e.r(o),e.d(o,{applyPartialCharges:()=>h,partialCharges:()=>c});const c={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function h(g,b){if((!b||typeof g.partialCharge>"u")&&g.resn&&g.atom){var $=g.resn+":"+g.atom;g.properties.partialCharge=c[$]}}},"./src/specs.ts":(a,o,e)=>{e.r(o)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts");function extend(a,o){for(var e in o)o.hasOwnProperty(e)&&o[e]!==void 0&&(a[e]=o[e]);return a}function deepCopy(a){let o,e,c;if(a==null)return{};if(typeof a!="object"||a===null)return a;o=Array.isArray(a)?[]:{};for(c in a)e=a[c],o[c]=deepCopy(e);return o}function isNumeric(a){var o=typeof a;return(o==="number"||o==="string")&&!isNaN(a-parseFloat(a))}function isEmptyObject(a){var o;for(o in a)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?null:callback}function adjustVolumeStyle(a){a&&(a.volformat&&!(a.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(a.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(a.voldata,a.volformat)),a.volscheme&&(a.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(a.volscheme)))}function getExtent(a,o){var e,c,h,g,b,$,j,rt,nt,pt,wt=!o;if(e=c=h=9999,g=b=$=-9999,j=rt=nt=pt=0,a.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var Dt=0;Dt<a.length;Dt++){var Lt=a[Dt];if(!(typeof Lt>"u"||!isFinite(Lt.x)||!isFinite(Lt.y)||!isFinite(Lt.z))&&(pt++,j+=Lt.x,rt+=Lt.y,nt+=Lt.z,e=e<Lt.x?e:Lt.x,c=c<Lt.y?c:Lt.y,h=h<Lt.z?h:Lt.z,g=g>Lt.x?g:Lt.x,b=b>Lt.y?b:Lt.y,$=$>Lt.z?$:Lt.z,Lt.symmetries&&wt))for(var it=0;it<Lt.symmetries.length;it++)pt++,j+=Lt.symmetries[it].x,rt+=Lt.symmetries[it].y,nt+=Lt.symmetries[it].z,e=e<Lt.symmetries[it].x?e:Lt.symmetries[it].x,c=c<Lt.symmetries[it].y?c:Lt.symmetries[it].y,h=h<Lt.symmetries[it].z?h:Lt.symmetries[it].z,g=g>Lt.symmetries[it].x?g:Lt.symmetries[it].x,b=b>Lt.symmetries[it].y?b:Lt.symmetries[it].y,$=$>Lt.symmetries[it].z?$:Lt.symmetries[it].z}return[[e,c,h],[g,b,$],[j/pt,rt/pt,nt/pt]]}function getPropertyRange(a,o){for(var e=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,h=0,g=a.length;h<g;h++){var b=a[h],$=getAtomProperty(b,o);$!=null&&($<e&&(e=$),$>c&&(c=$))}return!isFinite(e)&&!isFinite(c)?e=c=0:isFinite(e)?isFinite(c)||(c=e):e=c,[e,c]}class PausableTimer{constructor(o,e,c){this.total_time_run=0,this.fn=o,this.arg=c,this.countdown=e,this.start_time=new Date().getTime(),this.ident=setTimeout(o,e,c)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(a){for(var o=window.atob(a),e=o.length,c=new Uint8Array(e),h=0;h<e;h++)c[h]=o.charCodeAt(h);return c}function getAtomProperty(a,o){var e=null;return a.properties&&typeof a.properties[o]<"u"?e=a.properties[o]:typeof a[o]<"u"&&(e=a[o]),e}function mergeGeos(a,o){var e=o.geometry;e!==void 0&&a.geometryGroups.push(e.geometryGroups[0])}function specStringToObject(a){if(typeof a=="object")return a;if(typeof a>"u"||a==null)return a;try{return JSON.parse(a)}catch{}a=a.replace(/%7E/g,"~");var o=function(wt){return isNumeric(wt)?Math.floor(parseFloat(wt))==parseInt(wt)||wt.indexOf(".")>=0?parseFloat(wt):parseInt(wt):wt==="true"?!0:wt==="false"?!1:wt},e={};if(a==="all")return e;for(var c=a.split(";"),h=0;h<c.length;h++){var g=c[h].split(":"),b=g[0],$={},j=g[1];if(j)if(j=j.replace(/~/g,"="),j.indexOf("=")!==-1)for(var rt=j.split(","),nt=0;nt<rt.length;nt++){var pt=rt[nt].split("=",2);$[pt[0]]=o(pt[1])}else j.indexOf(",")!==-1?$=j.split(","):$=o(j);e[b]=$}return e}function checkStatus(a){if(!a.ok)throw new Error(`HTTP ${a.status} - ${a.statusText}`);return a}function get(a,o){var e=fetch(a).then(checkStatus).then(c=>c.text());return o?e.then(o):e}function getbin(a,o,e,c){var h;return e=="POST"?h=fetch(a,{method:"POST",body:c}).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()):h=fetch(a).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()),o?h.then(o):h}function download(a,o,e,c){var h="",g="",b="",$="",j=null,rt=o.addModel();if(a.indexOf(":")<0&&(a.length==4?a="pdb:"+a:isNaN(a)?a="url:"+a:a="cid:"+a),a.substring(0,5)==="mmtf:")g=e&&e.pdbUri?e.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",a=a.substring(5).toUpperCase(),$=g+a,e&&typeof e.noComputeSecondaryStructure>"u"&&(e.noComputeSecondaryStructure=!0),j=new Promise(function(pt){getbin($).then(function(wt){rt.addMolData(wt,"mmtf",e),o.zoomTo(),o.render(),pt(rt)},function(){console.log("fetch of "+$+" failed.")})});else{if(a.substring(0,4)==="pdb:"){if(h="mmtf",e&&e.format&&(h=e.format),e&&typeof e.noComputeSecondaryStructure>"u"&&(e.noComputeSecondaryStructure=!0),a=a.substring(4).toUpperCase(),!a.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}h=="mmtf"?(b=e&&e.mmtfUri?e.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",$=b+a.toUpperCase()):(g=e&&e.pdbUri?e.pdbUri:"https://files.rcsb.org/view/",$=g+a+"."+h)}else if(a.substring(0,4)=="cid:"){if(h="sdf",a=a.substring(4),!a.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}$="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}else a.substring(0,4)=="url:"&&($=a.substring(4),h=$);var nt=function(pt){rt.addMolData(pt,h,e),o.zoomTo(),o.render()};j=new Promise(function(pt){h=="mmtf"?getbin($).then(function(wt){nt(wt),pt(rt)}).catch(function(){g=e&&e.pdbUri?e.pdbUri:"https://files.rcsb.org/view/",$=g+a+".pdb",h="pdb",console.log("falling back to pdb format"),get($).then(function(wt){nt(wt),pt(rt)}).catch(function(wt){nt(""),pt(rt),console.log("fetch of "+$+" failed: "+wt.statusText)})}):get($).then(function(wt){nt(wt),pt(rt)}).catch(function(wt){nt(""),pt(rt),console.log("fetch of "+$+" failed: "+wt.statusText)})})}return c?(j.then(function(pt){c(pt)}),rt):j}function getColorFromStyle(a,o){let e=o.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[e]<"u")e=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[e];else if(typeof e=="string"&&e.endsWith("Carbon")){let b=e.substring(0,e.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[b]<"u"){let $=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);$.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[b],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[e]={prop:"elem",map:$},e=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[e]}}let c=a.color;if(typeof o.color<"u"&&o.color!="spectrum"&&(c=o.color),typeof e<"u"){let b,$;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[e]<"u")e=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[e],typeof e[a[e.prop]]<"u"&&(c=e.map[a[e.prop]]);else if(typeof e[a[e.prop]]<"u")c=e.map[a[e.prop]];else if(typeof e.prop<"u"&&typeof e.gradient<"u"){b=e.prop;var h=e.gradient;typeof _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[h]<"u"&&(h=new _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[h](e.min,e.max,e.mid?e.mid:e.colors));let j=h.range()||[-1,1];$=getAtomProperty(a,b),$!=null&&(c=h.valueToHex($,j))}else typeof e.prop<"u"&&typeof e.map<"u"?(b=e.prop,$=getAtomProperty(a,b),typeof e.map[$]<"u"&&(c=e.map[$])):typeof o.colorscheme[a.elem]<"u"?c=o.colorscheme[a.elem]:console.log("Could not interpret colorscheme "+e)}else typeof o.colorfunc<"u"&&(c=o.colorfunc(a));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(c)}function getElement(a){let o=a;return typeof a=="string"?o=document.querySelector("#"+a):typeof a=="object"&&a.get&&(o=a.get(0)),o}},"./node_modules/upng-js/UPNG.js":(a,o,e)=>{(function(){var c={},h;a.exports=c,h=e("./node_modules/upng-js/node_modules/pako/index.js"),function(g,b){g.toRGBA8=function($){var j=$.width,rt=$.height;if($.tabs.acTL==null)return[g.toRGBA8.decodeImage($.data,j,rt,$).buffer];var nt=[];$.frames[0].data==null&&($.frames[0].data=$.data);for(var pt,wt=new Uint8Array(j*rt*4),Dt=0;Dt<$.frames.length;Dt++){var Lt=$.frames[Dt],it=Lt.rect.x,st=Lt.rect.y,bt=Lt.rect.width,gt=Lt.rect.height,Et=g.toRGBA8.decodeImage(Lt.data,bt,gt,$);if(Dt==0?pt=Et:Lt.blend==0?g._copyTile(Et,bt,gt,pt,j,rt,it,st,0):Lt.blend==1&&g._copyTile(Et,bt,gt,pt,j,rt,it,st,1),nt.push(pt.buffer),pt=pt.slice(0),Lt.dispose!=0){if(Lt.dispose==1)g._copyTile(wt,bt,gt,pt,j,rt,it,st,0);else if(Lt.dispose==2){for(var ot=Dt-1;$.frames[ot].dispose==2;)ot--;pt=new Uint8Array(nt[ot]).slice(0)}}}return nt},g.toRGBA8.decodeImage=function($,j,rt,nt){var pt=j*rt,wt=g.decode._getBPP(nt),Dt=Math.ceil(j*wt/8),Lt=new Uint8Array(pt*4),it=new Uint32Array(Lt.buffer),st=nt.ctype,bt=nt.depth,gt=g._bin.readUshort;if(st==6){var Et=pt<<2;if(bt==8)for(var ot=0;ot<Et;ot++)Lt[ot]=$[ot];if(bt==16)for(var ot=0;ot<Et;ot++)Lt[ot]=$[ot<<1]}else if(st==2){var _t=nt.tabs.tRNS,Mt=-1,Bt=-1,It=-1;if(_t&&(Mt=_t[0],Bt=_t[1],It=_t[2]),bt==8)for(var ot=0;ot<pt;ot++){var jt=ot<<2,tr=ot*3;Lt[jt]=$[tr],Lt[jt+1]=$[tr+1],Lt[jt+2]=$[tr+2],Lt[jt+3]=255,Mt!=-1&&$[tr]==Mt&&$[tr+1]==Bt&&$[tr+2]==It&&(Lt[jt+3]=0)}if(bt==16)for(var ot=0;ot<pt;ot++){var jt=ot<<2,tr=ot*6;Lt[jt]=$[tr],Lt[jt+1]=$[tr+2],Lt[jt+2]=$[tr+4],Lt[jt+3]=255,Mt!=-1&&gt($,tr)==Mt&&gt($,tr+2)==Bt&&gt($,tr+4)==It&&(Lt[jt+3]=0)}}else if(st==3){var gr=nt.tabs.PLTE,vr=nt.tabs.tRNS,hr=vr?vr.length:0;if(bt==1)for(var mr=0;mr<rt;mr++)for(var Er=mr*Dt,Rr=mr*j,ot=0;ot<j;ot++){var jt=Rr+ot<<2,Cr=$[Er+(ot>>3)]>>7-((ot&7)<<0)&1,wr=3*Cr;Lt[jt]=gr[wr],Lt[jt+1]=gr[wr+1],Lt[jt+2]=gr[wr+2],Lt[jt+3]=Cr<hr?vr[Cr]:255}if(bt==2)for(var mr=0;mr<rt;mr++)for(var Er=mr*Dt,Rr=mr*j,ot=0;ot<j;ot++){var jt=Rr+ot<<2,Cr=$[Er+(ot>>2)]>>6-((ot&3)<<1)&3,wr=3*Cr;Lt[jt]=gr[wr],Lt[jt+1]=gr[wr+1],Lt[jt+2]=gr[wr+2],Lt[jt+3]=Cr<hr?vr[Cr]:255}if(bt==4)for(var mr=0;mr<rt;mr++)for(var Er=mr*Dt,Rr=mr*j,ot=0;ot<j;ot++){var jt=Rr+ot<<2,Cr=$[Er+(ot>>1)]>>4-((ot&1)<<2)&15,wr=3*Cr;Lt[jt]=gr[wr],Lt[jt+1]=gr[wr+1],Lt[jt+2]=gr[wr+2],Lt[jt+3]=Cr<hr?vr[Cr]:255}if(bt==8)for(var ot=0;ot<pt;ot++){var jt=ot<<2,Cr=$[ot],wr=3*Cr;Lt[jt]=gr[wr],Lt[jt+1]=gr[wr+1],Lt[jt+2]=gr[wr+2],Lt[jt+3]=Cr<hr?vr[Cr]:255}}else if(st==4){if(bt==8)for(var ot=0;ot<pt;ot++){var jt=ot<<2,Sr=ot<<1,br=$[Sr];Lt[jt]=br,Lt[jt+1]=br,Lt[jt+2]=br,Lt[jt+3]=$[Sr+1]}if(bt==16)for(var ot=0;ot<pt;ot++){var jt=ot<<2,Sr=ot<<2,br=$[Sr];Lt[jt]=br,Lt[jt+1]=br,Lt[jt+2]=br,Lt[jt+3]=$[Sr+2]}}else if(st==0){var Mt=nt.tabs.tRNS?nt.tabs.tRNS:-1;if(bt==1)for(var ot=0;ot<pt;ot++){var br=255*($[ot>>3]>>7-(ot&7)&1),xr=br==Mt*255?0:255;it[ot]=xr<<24|br<<16|br<<8|br}if(bt==2)for(var ot=0;ot<pt;ot++){var br=85*($[ot>>2]>>6-((ot&3)<<1)&3),xr=br==Mt*85?0:255;it[ot]=xr<<24|br<<16|br<<8|br}if(bt==4)for(var ot=0;ot<pt;ot++){var br=17*($[ot>>1]>>4-((ot&1)<<2)&15),xr=br==Mt*17?0:255;it[ot]=xr<<24|br<<16|br<<8|br}if(bt==8)for(var ot=0;ot<pt;ot++){var br=$[ot],xr=br==Mt?0:255;it[ot]=xr<<24|br<<16|br<<8|br}if(bt==16)for(var ot=0;ot<pt;ot++){var br=$[ot<<1],xr=gt($,ot<<1)==Mt?0:255;it[ot]=xr<<24|br<<16|br<<8|br}}return Lt},g.decode=function($){for(var j=new Uint8Array($),rt=8,nt=g._bin,pt=nt.readUshort,wt=nt.readUint,Dt={tabs:{},frames:[]},Lt=new Uint8Array(j.length),it=0,st,bt=0,gt=[137,80,78,71,13,10,26,10],Et=0;Et<8;Et++)if(j[Et]!=gt[Et])throw"The input is not a PNG file!";for(;rt<j.length;){var ot=nt.readUint(j,rt);rt+=4;var _t=nt.readASCII(j,rt,4);if(rt+=4,_t=="IHDR")g.decode._IHDR(j,rt,Dt);else if(_t=="IDAT"){for(var Et=0;Et<ot;Et++)Lt[it+Et]=j[rt+Et];it+=ot}else if(_t=="acTL")Dt.tabs[_t]={num_frames:wt(j,rt),num_plays:wt(j,rt+4)},st=new Uint8Array(j.length);else if(_t=="fcTL"){if(bt!=0){var Mt=Dt.frames[Dt.frames.length-1];Mt.data=g.decode._decompress(Dt,st.slice(0,bt),Mt.rect.width,Mt.rect.height),bt=0}var Bt={x:wt(j,rt+12),y:wt(j,rt+16),width:wt(j,rt+4),height:wt(j,rt+8)},It=pt(j,rt+22);It=pt(j,rt+20)/(It==0?100:It);var jt={rect:Bt,delay:Math.round(It*1e3),dispose:j[rt+24],blend:j[rt+25]};Dt.frames.push(jt)}else if(_t=="fdAT"){for(var Et=0;Et<ot-4;Et++)st[bt+Et]=j[rt+Et+4];bt+=ot-4}else if(_t=="pHYs")Dt.tabs[_t]=[nt.readUint(j,rt),nt.readUint(j,rt+4),j[rt+8]];else if(_t=="cHRM"){Dt.tabs[_t]=[];for(var Et=0;Et<8;Et++)Dt.tabs[_t].push(nt.readUint(j,rt+Et*4))}else if(_t=="tEXt"){Dt.tabs[_t]==null&&(Dt.tabs[_t]={});var tr=nt.nextZero(j,rt),gr=nt.readASCII(j,rt,tr-rt),vr=nt.readASCII(j,tr+1,rt+ot-tr-1);Dt.tabs[_t][gr]=vr}else if(_t=="iTXt"){Dt.tabs[_t]==null&&(Dt.tabs[_t]={});var tr=0,hr=rt;tr=nt.nextZero(j,hr);var gr=nt.readASCII(j,hr,tr-hr);hr=tr+1,j[hr],j[hr+1],hr+=2,tr=nt.nextZero(j,hr),nt.readASCII(j,hr,tr-hr),hr=tr+1,tr=nt.nextZero(j,hr),nt.readUTF8(j,hr,tr-hr),hr=tr+1;var vr=nt.readUTF8(j,hr,ot-(hr-rt));Dt.tabs[_t][gr]=vr}else if(_t=="PLTE")Dt.tabs[_t]=nt.readBytes(j,rt,ot);else if(_t=="hIST"){var mr=Dt.tabs.PLTE.length/3;Dt.tabs[_t]=[];for(var Et=0;Et<mr;Et++)Dt.tabs[_t].push(pt(j,rt+Et*2))}else if(_t=="tRNS")Dt.ctype==3?Dt.tabs[_t]=nt.readBytes(j,rt,ot):Dt.ctype==0?Dt.tabs[_t]=pt(j,rt):Dt.ctype==2&&(Dt.tabs[_t]=[pt(j,rt),pt(j,rt+2),pt(j,rt+4)]);else if(_t=="gAMA")Dt.tabs[_t]=nt.readUint(j,rt)/1e5;else if(_t=="sRGB")Dt.tabs[_t]=j[rt];else if(_t=="bKGD")Dt.ctype==0||Dt.ctype==4?Dt.tabs[_t]=[pt(j,rt)]:Dt.ctype==2||Dt.ctype==6?Dt.tabs[_t]=[pt(j,rt),pt(j,rt+2),pt(j,rt+4)]:Dt.ctype==3&&(Dt.tabs[_t]=j[rt]);else if(_t=="IEND"){if(bt!=0){var Mt=Dt.frames[Dt.frames.length-1];Mt.data=g.decode._decompress(Dt,st.slice(0,bt),Mt.rect.width,Mt.rect.height),bt=0}Dt.data=g.decode._decompress(Dt,Lt,Dt.width,Dt.height);break}rt+=ot,nt.readUint(j,rt),rt+=4}return delete Dt.compress,delete Dt.interlace,delete Dt.filter,Dt},g.decode._decompress=function($,j,rt,nt){return $.compress==0&&(j=g.decode._inflate(j)),$.interlace==0?j=g.decode._filterZero(j,$,0,rt,nt):$.interlace==1&&(j=g.decode._readInterlace(j,$)),j},g.decode._inflate=function($){return b.inflate($)},g.decode._readInterlace=function($,j){for(var rt=j.width,nt=j.height,pt=g.decode._getBPP(j),wt=pt>>3,Dt=Math.ceil(rt*pt/8),Lt=new Uint8Array(nt*Dt),it=0,st=[0,0,4,0,2,0,1],bt=[0,4,0,2,0,1,0],gt=[8,8,8,4,4,2,2],Et=[8,8,4,4,2,2,1],ot=0;ot<7;){for(var _t=gt[ot],Mt=Et[ot],Bt=0,It=0,jt=st[ot];jt<nt;)jt+=_t,It++;for(var tr=bt[ot];tr<rt;)tr+=Mt,Bt++;var gr=Math.ceil(Bt*pt/8);g.decode._filterZero($,j,it,Bt,It);for(var vr=0,hr=st[ot];hr<nt;){for(var mr=bt[ot],Er=it+vr*gr<<3;mr<rt;){if(pt==1){var Rr=$[Er>>3];Rr=Rr>>7-(Er&7)&1,Lt[hr*Dt+(mr>>3)]|=Rr<<7-((mr&3)<<0)}if(pt==2){var Rr=$[Er>>3];Rr=Rr>>6-(Er&7)&3,Lt[hr*Dt+(mr>>2)]|=Rr<<6-((mr&3)<<1)}if(pt==4){var Rr=$[Er>>3];Rr=Rr>>4-(Er&7)&15,Lt[hr*Dt+(mr>>1)]|=Rr<<4-((mr&1)<<2)}if(pt>=8)for(var Cr=hr*Dt+mr*wt,wr=0;wr<wt;wr++)Lt[Cr+wr]=$[(Er>>3)+wr];Er+=pt,mr+=Mt}vr++,hr+=_t}Bt*It!=0&&(it+=It*(1+gr)),ot=ot+1}return Lt},g.decode._getBPP=function($){var j=[1,null,3,1,2,null,4][$.ctype];return j*$.depth},g.decode._filterZero=function($,j,rt,nt,pt){var wt=g.decode._getBPP(j),Dt=Math.ceil(nt*wt/8),Lt=g.decode._paeth;wt=Math.ceil(wt/8);for(var it=0;it<pt;it++){var st=rt+it*Dt,bt=st+it+1,gt=$[bt-1];if(gt==0)for(var Et=0;Et<Dt;Et++)$[st+Et]=$[bt+Et];else if(gt==1){for(var Et=0;Et<wt;Et++)$[st+Et]=$[bt+Et];for(var Et=wt;Et<Dt;Et++)$[st+Et]=$[bt+Et]+$[st+Et-wt]&255}else if(it==0){for(var Et=0;Et<wt;Et++)$[st+Et]=$[bt+Et];if(gt==2)for(var Et=wt;Et<Dt;Et++)$[st+Et]=$[bt+Et]&255;if(gt==3)for(var Et=wt;Et<Dt;Et++)$[st+Et]=$[bt+Et]+($[st+Et-wt]>>1)&255;if(gt==4)for(var Et=wt;Et<Dt;Et++)$[st+Et]=$[bt+Et]+Lt($[st+Et-wt],0,0)&255}else{if(gt==2)for(var Et=0;Et<Dt;Et++)$[st+Et]=$[bt+Et]+$[st+Et-Dt]&255;if(gt==3){for(var Et=0;Et<wt;Et++)$[st+Et]=$[bt+Et]+($[st+Et-Dt]>>1)&255;for(var Et=wt;Et<Dt;Et++)$[st+Et]=$[bt+Et]+($[st+Et-Dt]+$[st+Et-wt]>>1)&255}if(gt==4){for(var Et=0;Et<wt;Et++)$[st+Et]=$[bt+Et]+Lt(0,$[st+Et-Dt],0)&255;for(var Et=wt;Et<Dt;Et++)$[st+Et]=$[bt+Et]+Lt($[st+Et-wt],$[st+Et-Dt],$[st+Et-wt-Dt])&255}}}return $},g.decode._paeth=function($,j,rt){var nt=$+j-rt,pt=Math.abs(nt-$),wt=Math.abs(nt-j),Dt=Math.abs(nt-rt);return pt<=wt&&pt<=Dt?$:wt<=Dt?j:rt},g.decode._IHDR=function($,j,rt){var nt=g._bin;rt.width=nt.readUint($,j),j+=4,rt.height=nt.readUint($,j),j+=4,rt.depth=$[j],j++,rt.ctype=$[j],j++,rt.compress=$[j],j++,rt.filter=$[j],j++,rt.interlace=$[j],j++},g._bin={nextZero:function($,j){for(;$[j]!=0;)j++;return j},readUshort:function($,j){return $[j]<<8|$[j+1]},writeUshort:function($,j,rt){$[j]=rt>>8&255,$[j+1]=rt&255},readUint:function($,j){return $[j]*16777216+($[j+1]<<16|$[j+2]<<8|$[j+3])},writeUint:function($,j,rt){$[j]=rt>>24&255,$[j+1]=rt>>16&255,$[j+2]=rt>>8&255,$[j+3]=rt&255},readASCII:function($,j,rt){for(var nt="",pt=0;pt<rt;pt++)nt+=String.fromCharCode($[j+pt]);return nt},writeASCII:function($,j,rt){for(var nt=0;nt<rt.length;nt++)$[j+nt]=rt.charCodeAt(nt)},readBytes:function($,j,rt){for(var nt=[],pt=0;pt<rt;pt++)nt.push($[j+pt]);return nt},pad:function($){return $.length<2?"0"+$:$},readUTF8:function($,j,rt){for(var nt="",pt,wt=0;wt<rt;wt++)nt+="%"+g._bin.pad($[j+wt].toString(16));try{pt=decodeURIComponent(nt)}catch{return g._bin.readASCII($,j,rt)}return pt}},g._copyTile=function($,j,rt,nt,pt,wt,Dt,Lt,it){for(var st=Math.min(j,pt),bt=Math.min(rt,wt),gt=0,Et=0,ot=0;ot<bt;ot++)for(var _t=0;_t<st;_t++)if(Dt>=0&&Lt>=0?(gt=ot*j+_t<<2,Et=(Lt+ot)*pt+Dt+_t<<2):(gt=(-Lt+ot)*j-Dt+_t<<2,Et=ot*pt+_t<<2),it==0)nt[Et]=$[gt],nt[Et+1]=$[gt+1],nt[Et+2]=$[gt+2],nt[Et+3]=$[gt+3];else if(it==1){var Mt=$[gt+3]*.00392156862745098,Bt=$[gt]*Mt,It=$[gt+1]*Mt,jt=$[gt+2]*Mt,tr=nt[Et+3]*(1/255),gr=nt[Et]*tr,vr=nt[Et+1]*tr,hr=nt[Et+2]*tr,mr=1-Mt,Er=Mt+tr*mr,Rr=Er==0?0:1/Er;nt[Et+3]=255*Er,nt[Et+0]=(Bt+gr*mr)*Rr,nt[Et+1]=(It+vr*mr)*Rr,nt[Et+2]=(jt+hr*mr)*Rr}else if(it==2){var Mt=$[gt+3],Bt=$[gt],It=$[gt+1],jt=$[gt+2],tr=nt[Et+3],gr=nt[Et],vr=nt[Et+1],hr=nt[Et+2];Mt==tr&&Bt==gr&&It==vr&&jt==hr?(nt[Et]=0,nt[Et+1]=0,nt[Et+2]=0,nt[Et+3]=0):(nt[Et]=Bt,nt[Et+1]=It,nt[Et+2]=jt,nt[Et+3]=Mt)}else if(it==3){var Mt=$[gt+3],Bt=$[gt],It=$[gt+1],jt=$[gt+2],tr=nt[Et+3],gr=nt[Et],vr=nt[Et+1],hr=nt[Et+2];if(Mt==tr&&Bt==gr&&It==vr&&jt==hr)continue;if(Mt<220&&tr>20)return!1}return!0},g.encode=function($,j,rt,nt,pt,wt){nt==null&&(nt=0),wt==null&&(wt=!1);for(var Dt=new Uint8Array($[0].byteLength*$.length+100),Lt=[137,80,78,71,13,10,26,10],it=0;it<8;it++)Dt[it]=Lt[it];var st=8,bt=g._bin,gt=g.crc.crc,Et=bt.writeUint,ot=bt.writeUshort,_t=bt.writeASCII,Mt=g.encode.compressPNG($,j,rt,nt,wt);Et(Dt,st,13),st+=4,_t(Dt,st,"IHDR"),st+=4,Et(Dt,st,j),st+=4,Et(Dt,st,rt),st+=4,Dt[st]=Mt.depth,st++,Dt[st]=Mt.ctype,st++,Dt[st]=0,st++,Dt[st]=0,st++,Dt[st]=0,st++,Et(Dt,st,gt(Dt,st-17,17)),st+=4,Et(Dt,st,1),st+=4,_t(Dt,st,"sRGB"),st+=4,Dt[st]=1,st++,Et(Dt,st,gt(Dt,st-5,5)),st+=4;var Bt=$.length>1;if(Bt&&(Et(Dt,st,8),st+=4,_t(Dt,st,"acTL"),st+=4,Et(Dt,st,$.length),st+=4,Et(Dt,st,0),st+=4,Et(Dt,st,gt(Dt,st-12,12)),st+=4),Mt.ctype==3){var It=Mt.plte.length;Et(Dt,st,It*3),st+=4,_t(Dt,st,"PLTE"),st+=4;for(var it=0;it<It;it++){var jt=it*3,tr=Mt.plte[it],gr=tr&255,vr=tr>>8&255,hr=tr>>16&255;Dt[st+jt+0]=gr,Dt[st+jt+1]=vr,Dt[st+jt+2]=hr}if(st+=It*3,Et(Dt,st,gt(Dt,st-It*3-4,It*3+4)),st+=4,Mt.gotAlpha){Et(Dt,st,It),st+=4,_t(Dt,st,"tRNS"),st+=4;for(var it=0;it<It;it++)Dt[st+it]=Mt.plte[it]>>24&255;st+=It,Et(Dt,st,gt(Dt,st-It-4,It+4)),st+=4}}for(var mr=0,Er=0;Er<Mt.frames.length;Er++){var Rr=Mt.frames[Er];Bt&&(Et(Dt,st,26),st+=4,_t(Dt,st,"fcTL"),st+=4,Et(Dt,st,mr++),st+=4,Et(Dt,st,Rr.rect.width),st+=4,Et(Dt,st,Rr.rect.height),st+=4,Et(Dt,st,Rr.rect.x),st+=4,Et(Dt,st,Rr.rect.y),st+=4,ot(Dt,st,pt[Er]),st+=2,ot(Dt,st,1e3),st+=2,Dt[st]=Rr.dispose,st++,Dt[st]=Rr.blend,st++,Et(Dt,st,gt(Dt,st-30,30)),st+=4);var Cr=Rr.cimg,It=Cr.length;Et(Dt,st,It+(Er==0?0:4)),st+=4;var wr=st;_t(Dt,st,Er==0?"IDAT":"fdAT"),st+=4,Er!=0&&(Et(Dt,st,mr++),st+=4);for(var it=0;it<It;it++)Dt[st+it]=Cr[it];st+=It,Et(Dt,st,gt(Dt,wr,st-wr)),st+=4}return Et(Dt,st,0),st+=4,_t(Dt,st,"IEND"),st+=4,Et(Dt,st,gt(Dt,st-4,4)),st+=4,Dt.buffer.slice(0,st)},g.encode.compressPNG=function($,j,rt,nt,pt){for(var wt=g.encode.compress($,j,rt,nt,!1,pt),Dt=0;Dt<$.length;Dt++){var Lt=wt.frames[Dt];Lt.rect.width;var it=Lt.rect.height,st=Lt.bpl,bt=Lt.bpp,gt=new Uint8Array(it*st+it);Lt.cimg=g.encode._filterZero(Lt.img,it,bt,st,gt)}return wt},g.encode.compress=function($,j,rt,nt,pt,wt){wt==null&&(wt=!1);for(var Dt=6,Lt=8,it=4,st=255,bt=0;bt<$.length;bt++)for(var gt=new Uint8Array($[bt]),Et=gt.length,ot=0;ot<Et;ot+=4)st&=gt[ot+3];var _t=st!=255,Mt={},Bt=[];if($.length!=0&&(Mt[0]=0,Bt.push(0),nt!=0&&nt--),nt!=0){var It=g.quantize($,nt,pt);$=It.bufs;for(var ot=0;ot<It.plte.length;ot++){var jt=It.plte[ot].est.rgba;Mt[jt]==null&&(Mt[jt]=Bt.length,Bt.push(jt))}}else for(var bt=0;bt<$.length;bt++)for(var tr=new Uint32Array($[bt]),Et=tr.length,ot=0;ot<Et;ot++){var jt=tr[ot];if((ot<j||jt!=tr[ot-1]&&jt!=tr[ot-j])&&Mt[jt]==null&&(Mt[jt]=Bt.length,Bt.push(jt),Bt.length>=300))break}var gr=_t?pt:!1,vr=Bt.length;vr<=256&&wt==!1&&(vr<=2?Lt=1:vr<=4?Lt=2:vr<=16?Lt=4:Lt=8,pt&&(Lt=8),_t=!0);for(var hr=[],bt=0;bt<$.length;bt++){var mr=new Uint8Array($[bt]),Er=new Uint32Array(mr.buffer),Rr=0,Cr=0,wr=j,Sr=rt,br=0;if(bt!=0&&!gr){for(var xr=pt||bt==1||hr[hr.length-2].dispose==2?1:2,Or=0,In=1e9,Nn=0;Nn<xr;Nn++){for(var Vn=new Uint8Array($[bt-1-Nn]),Hn=new Uint32Array($[bt-1-Nn]),Bn=j,qn=rt,Wn=-1,Yn=-1,po=0;po<rt;po++)for(var eo=0;eo<j;eo++){var ot=po*j+eo;Er[ot]!=Hn[ot]&&(eo<Bn&&(Bn=eo),eo>Wn&&(Wn=eo),po<qn&&(qn=po),po>Yn&&(Yn=po))}var wo=Wn==-1?1:(Wn-Bn+1)*(Yn-qn+1);wo<In&&(In=wo,Or=Nn,Wn==-1?(Rr=Cr=0,wr=Sr=1):(Rr=Bn,Cr=qn,wr=Wn-Bn+1,Sr=Yn-qn+1))}var Vn=new Uint8Array($[bt-1-Or]);Or==1&&(hr[hr.length-1].dispose=2);var Kn=new Uint8Array(wr*Sr*4);new Uint32Array(Kn.buffer),g._copyTile(Vn,j,rt,Kn,wr,Sr,-Rr,-Cr,0),g._copyTile(mr,j,rt,Kn,wr,Sr,-Rr,-Cr,3)?(g._copyTile(mr,j,rt,Kn,wr,Sr,-Rr,-Cr,2),br=1):(g._copyTile(mr,j,rt,Kn,wr,Sr,-Rr,-Cr,0),br=0),mr=Kn,Er=new Uint32Array(mr.buffer)}var to=4*wr;if(vr<=256&&wt==!1){to=Math.ceil(Lt*wr/8);for(var Kn=new Uint8Array(to*Sr),po=0;po<Sr;po++){var ot=po*to,fs=po*wr;if(Lt==8)for(var eo=0;eo<wr;eo++)Kn[ot+eo]=Mt[Er[fs+eo]];else if(Lt==4)for(var eo=0;eo<wr;eo++)Kn[ot+(eo>>1)]|=Mt[Er[fs+eo]]<<4-(eo&1)*4;else if(Lt==2)for(var eo=0;eo<wr;eo++)Kn[ot+(eo>>2)]|=Mt[Er[fs+eo]]<<6-(eo&3)*2;else if(Lt==1)for(var eo=0;eo<wr;eo++)Kn[ot+(eo>>3)]|=Mt[Er[fs+eo]]<<7-(eo&7)*1}mr=Kn,Dt=3,it=1}else if(_t==!1&&$.length==1){for(var Kn=new Uint8Array(wr*Sr*3),hs=wr*Sr,ot=0;ot<hs;ot++){var Cs=ot*3,ps=ot*4;Kn[Cs]=mr[ps],Kn[Cs+1]=mr[ps+1],Kn[Cs+2]=mr[ps+2]}mr=Kn,Dt=2,it=3,to=3*wr}hr.push({rect:{x:Rr,y:Cr,width:wr,height:Sr},img:mr,bpl:to,bpp:it,blend:br,dispose:gr?1:0})}return{ctype:Dt,depth:Lt,plte:Bt,gotAlpha:_t,frames:hr}},g.encode._filterZero=function($,j,rt,nt,pt){for(var wt=[],Dt=0;Dt<5;Dt++)if(!(j*nt>5e5&&(Dt==2||Dt==3||Dt==4))){for(var Lt=0;Lt<j;Lt++)g.encode._filterLine(pt,$,Lt,nt,rt,Dt);if(wt.push(b.deflate(pt)),rt==1)break}for(var it,st=1e9,bt=0;bt<wt.length;bt++)wt[bt].length<st&&(it=bt,st=wt[bt].length);return wt[it]},g.encode._filterLine=function($,j,rt,nt,pt,wt){var Dt=rt*nt,Lt=Dt+rt,it=g.decode._paeth;if($[Lt]=wt,Lt++,wt==0)for(var st=0;st<nt;st++)$[Lt+st]=j[Dt+st];else if(wt==1){for(var st=0;st<pt;st++)$[Lt+st]=j[Dt+st];for(var st=pt;st<nt;st++)$[Lt+st]=j[Dt+st]-j[Dt+st-pt]+256&255}else if(rt==0){for(var st=0;st<pt;st++)$[Lt+st]=j[Dt+st];if(wt==2)for(var st=pt;st<nt;st++)$[Lt+st]=j[Dt+st];if(wt==3)for(var st=pt;st<nt;st++)$[Lt+st]=j[Dt+st]-(j[Dt+st-pt]>>1)+256&255;if(wt==4)for(var st=pt;st<nt;st++)$[Lt+st]=j[Dt+st]-it(j[Dt+st-pt],0,0)+256&255}else{if(wt==2)for(var st=0;st<nt;st++)$[Lt+st]=j[Dt+st]+256-j[Dt+st-nt]&255;if(wt==3){for(var st=0;st<pt;st++)$[Lt+st]=j[Dt+st]+256-(j[Dt+st-nt]>>1)&255;for(var st=pt;st<nt;st++)$[Lt+st]=j[Dt+st]+256-(j[Dt+st-nt]+j[Dt+st-pt]>>1)&255}if(wt==4){for(var st=0;st<pt;st++)$[Lt+st]=j[Dt+st]+256-it(0,j[Dt+st-nt],0)&255;for(var st=pt;st<nt;st++)$[Lt+st]=j[Dt+st]+256-it(j[Dt+st-pt],j[Dt+st-nt],j[Dt+st-pt-nt])&255}}},g.crc={table:function(){for(var $=new Uint32Array(256),j=0;j<256;j++){for(var rt=j,nt=0;nt<8;nt++)rt&1?rt=3988292384^rt>>>1:rt=rt>>>1;$[j]=rt}return $}(),update:function($,j,rt,nt){for(var pt=0;pt<nt;pt++)$=g.crc.table[($^j[rt+pt])&255]^$>>>8;return $},crc:function($,j,rt){return g.crc.update(4294967295,$,j,rt)^4294967295}},g.quantize=function($,j,rt){for(var nt=[],pt=0,wt=0;wt<$.length;wt++)nt.push(g.encode.alphaMul(new Uint8Array($[wt]),rt)),pt+=$[wt].byteLength;for(var Dt=new Uint8Array(pt),Lt=new Uint32Array(Dt.buffer),it=0,wt=0;wt<nt.length;wt++){for(var st=nt[wt],bt=st.length,gt=0;gt<bt;gt++)Dt[it+gt]=st[gt];it+=bt}var Et={i0:0,i1:Dt.length,bst:null,est:null,tdst:0,left:null,right:null};Et.bst=g.quantize.stats(Dt,Et.i0,Et.i1),Et.est=g.quantize.estats(Et.bst);for(var ot=[Et];ot.length<j;){for(var _t=0,Mt=0,wt=0;wt<ot.length;wt++)ot[wt].est.L>_t&&(_t=ot[wt].est.L,Mt=wt);if(_t<.001)break;var Bt=ot[Mt],It=g.quantize.splitPixels(Dt,Lt,Bt.i0,Bt.i1,Bt.est.e,Bt.est.eMq255),jt={i0:Bt.i0,i1:It,bst:null,est:null,tdst:0,left:null,right:null};jt.bst=g.quantize.stats(Dt,jt.i0,jt.i1),jt.est=g.quantize.estats(jt.bst);var tr={i0:It,i1:Bt.i1,bst:null,est:null,tdst:0,left:null,right:null};tr.bst={R:[],m:[],N:Bt.bst.N-jt.bst.N};for(var wt=0;wt<16;wt++)tr.bst.R[wt]=Bt.bst.R[wt]-jt.bst.R[wt];for(var wt=0;wt<4;wt++)tr.bst.m[wt]=Bt.bst.m[wt]-jt.bst.m[wt];tr.est=g.quantize.estats(tr.bst),Bt.left=jt,Bt.right=tr,ot[Mt]=jt,ot.push(tr)}ot.sort(function(xr,Or){return Or.bst.N-xr.bst.N});for(var gr=0;gr<nt.length;gr++){for(var vr=g.quantize.planeDst,hr=new Uint8Array(nt[gr].buffer),mr=new Uint32Array(nt[gr].buffer),Er=hr.length,wt=0;wt<Er;wt+=4){for(var Rr=hr[wt]*.00392156862745098,Cr=hr[wt+1]*(1/255),wr=hr[wt+2]*(1/255),Sr=hr[wt+3]*(1/255),br=Et;br.left;)br=vr(br.est,Rr,Cr,wr,Sr)<=0?br.left:br.right;mr[wt>>2]=br.est.rgba}nt[gr]=mr.buffer}return{bufs:nt,plte:ot}},g.quantize.getNearest=function($,j,rt,nt,pt){if($.left==null)return $.tdst=g.quantize.dist($.est.q,j,rt,nt,pt),$;var wt=g.quantize.planeDst($.est,j,rt,nt,pt),Dt=$.left,Lt=$.right;wt>0&&(Dt=$.right,Lt=$.left);var it=g.quantize.getNearest(Dt,j,rt,nt,pt);if(it.tdst<=wt*wt)return it;var st=g.quantize.getNearest(Lt,j,rt,nt,pt);return st.tdst<it.tdst?st:it},g.quantize.planeDst=function($,j,rt,nt,pt){var wt=$.e;return wt[0]*j+wt[1]*rt+wt[2]*nt+wt[3]*pt-$.eMq},g.quantize.dist=function($,j,rt,nt,pt){var wt=j-$[0],Dt=rt-$[1],Lt=nt-$[2],it=pt-$[3];return wt*wt+Dt*Dt+Lt*Lt+it*it},g.quantize.splitPixels=function($,j,rt,nt,pt,wt){var Dt=g.quantize.vecDot;for(nt-=4;rt<nt;){for(;Dt($,rt,pt)<=wt;)rt+=4;for(;Dt($,nt,pt)>wt;)nt-=4;if(rt>=nt)break;var Lt=j[rt>>2];j[rt>>2]=j[nt>>2],j[nt>>2]=Lt,rt+=4,nt-=4}for(;Dt($,rt,pt)>wt;)rt-=4;return rt+4},g.quantize.vecDot=function($,j,rt){return $[j]*rt[0]+$[j+1]*rt[1]+$[j+2]*rt[2]+$[j+3]*rt[3]},g.quantize.stats=function($,j,rt){for(var nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pt=[0,0,0,0],wt=rt-j>>2,Dt=j;Dt<rt;Dt+=4){var Lt=$[Dt]*.00392156862745098,it=$[Dt+1]*(1/255),st=$[Dt+2]*(1/255),bt=$[Dt+3]*(1/255);pt[0]+=Lt,pt[1]+=it,pt[2]+=st,pt[3]+=bt,nt[0]+=Lt*Lt,nt[1]+=Lt*it,nt[2]+=Lt*st,nt[3]+=Lt*bt,nt[5]+=it*it,nt[6]+=it*st,nt[7]+=it*bt,nt[10]+=st*st,nt[11]+=st*bt,nt[15]+=bt*bt}return nt[4]=nt[1],nt[8]=nt[2],nt[12]=nt[3],nt[9]=nt[6],nt[13]=nt[7],nt[14]=nt[11],{R:nt,m:pt,N:wt}},g.quantize.estats=function($){var j=$.R,rt=$.m,nt=$.N,pt=rt[0],wt=rt[1],Dt=rt[2],Lt=rt[3],it=nt==0?0:1/nt,st=[j[0]-pt*pt*it,j[1]-pt*wt*it,j[2]-pt*Dt*it,j[3]-pt*Lt*it,j[4]-wt*pt*it,j[5]-wt*wt*it,j[6]-wt*Dt*it,j[7]-wt*Lt*it,j[8]-Dt*pt*it,j[9]-Dt*wt*it,j[10]-Dt*Dt*it,j[11]-Dt*Lt*it,j[12]-Lt*pt*it,j[13]-Lt*wt*it,j[14]-Lt*Dt*it,j[15]-Lt*Lt*it],bt=st,gt=g.M4,Et=[.5,.5,.5,.5],ot=0,_t=0;if(nt!=0)for(var Mt=0;Mt<10&&(Et=gt.multVec(bt,Et),_t=Math.sqrt(gt.dot(Et,Et)),Et=gt.sml(1/_t,Et),!(Math.abs(_t-ot)<1e-9));Mt++)ot=_t;var Bt=[pt*it,wt*it,Dt*it,Lt*it],It=gt.dot(gt.sml(255,Bt),Et),jt=Bt[3]<.001?0:1/Bt[3];return{Cov:st,q:Bt,e:Et,L:ot,eMq255:It,eMq:gt.dot(Et,Bt),rgba:(Math.round(255*Bt[3])<<24|Math.round(255*Bt[2]*jt)<<16|Math.round(255*Bt[1]*jt)<<8|Math.round(255*Bt[0]*jt)<<0)>>>0}},g.M4={multVec:function($,j){return[$[0]*j[0]+$[1]*j[1]+$[2]*j[2]+$[3]*j[3],$[4]*j[0]+$[5]*j[1]+$[6]*j[2]+$[7]*j[3],$[8]*j[0]+$[9]*j[1]+$[10]*j[2]+$[11]*j[3],$[12]*j[0]+$[13]*j[1]+$[14]*j[2]+$[15]*j[3]]},dot:function($,j){return $[0]*j[0]+$[1]*j[1]+$[2]*j[2]+$[3]*j[3]},sml:function($,j){return[$*j[0],$*j[1],$*j[2],$*j[3]]}},g.encode.alphaMul=function($,j){for(var rt=new Uint8Array($.length),nt=$.length>>2,pt=0;pt<nt;pt++){var wt=pt<<2,Dt=$[wt+3];j&&(Dt=Dt<128?0:255);var Lt=Dt*(1/255);rt[wt+0]=$[wt+0]*Lt,rt[wt+1]=$[wt+1]*Lt,rt[wt+2]=$[wt+2]*Lt,rt[wt+3]=Dt}return rt}}(c,h)})()},"./node_modules/upng-js/node_modules/pako/index.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,h=e("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),g=e("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),b=e("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),$={};c($,h,g,b),a.exports=$},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),h=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),g=e("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),b=e("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),$=e("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),j=Object.prototype.toString,rt=0,nt=4,pt=0,wt=1,Dt=2,Lt=-1,it=0,st=8;function bt(_t){if(!(this instanceof bt))return new bt(_t);this.options=h.assign({level:Lt,method:st,chunkSize:16384,windowBits:15,memLevel:8,strategy:it,to:""},_t||{});var Mt=this.options;Mt.raw&&Mt.windowBits>0?Mt.windowBits=-Mt.windowBits:Mt.gzip&&Mt.windowBits>0&&Mt.windowBits<16&&(Mt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $,this.strm.avail_out=0;var Bt=c.deflateInit2(this.strm,Mt.level,Mt.method,Mt.windowBits,Mt.memLevel,Mt.strategy);if(Bt!==pt)throw new Error(b[Bt]);if(Mt.header&&c.deflateSetHeader(this.strm,Mt.header),Mt.dictionary){var It;if(typeof Mt.dictionary=="string"?It=g.string2buf(Mt.dictionary):j.call(Mt.dictionary)==="[object ArrayBuffer]"?It=new Uint8Array(Mt.dictionary):It=Mt.dictionary,Bt=c.deflateSetDictionary(this.strm,It),Bt!==pt)throw new Error(b[Bt]);this._dict_set=!0}}bt.prototype.push=function(_t,Mt){var Bt=this.strm,It=this.options.chunkSize,jt,tr;if(this.ended)return!1;tr=Mt===~~Mt?Mt:Mt===!0?nt:rt,typeof _t=="string"?Bt.input=g.string2buf(_t):j.call(_t)==="[object ArrayBuffer]"?Bt.input=new Uint8Array(_t):Bt.input=_t,Bt.next_in=0,Bt.avail_in=Bt.input.length;do{if(Bt.avail_out===0&&(Bt.output=new h.Buf8(It),Bt.next_out=0,Bt.avail_out=It),jt=c.deflate(Bt,tr),jt!==wt&&jt!==pt)return this.onEnd(jt),this.ended=!0,!1;(Bt.avail_out===0||Bt.avail_in===0&&(tr===nt||tr===Dt))&&(this.options.to==="string"?this.onData(g.buf2binstring(h.shrinkBuf(Bt.output,Bt.next_out))):this.onData(h.shrinkBuf(Bt.output,Bt.next_out)))}while((Bt.avail_in>0||Bt.avail_out===0)&&jt!==wt);return tr===nt?(jt=c.deflateEnd(this.strm),this.onEnd(jt),this.ended=!0,jt===pt):(tr===Dt&&(this.onEnd(pt),Bt.avail_out=0),!0)},bt.prototype.onData=function(_t){this.chunks.push(_t)},bt.prototype.onEnd=function(_t){_t===pt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=_t,this.msg=this.strm.msg};function gt(_t,Mt){var Bt=new bt(Mt);if(Bt.push(_t,!0),Bt.err)throw Bt.msg||b[Bt.err];return Bt.result}function Et(_t,Mt){return Mt=Mt||{},Mt.raw=!0,gt(_t,Mt)}function ot(_t,Mt){return Mt=Mt||{},Mt.gzip=!0,gt(_t,Mt)}o.Deflate=bt,o.deflate=gt,o.deflateRaw=Et,o.gzip=ot},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),h=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),g=e("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),b=e("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),$=e("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),j=e("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),rt=e("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),nt=Object.prototype.toString;function pt(Lt){if(!(this instanceof pt))return new pt(Lt);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},Lt||{});var it=this.options;it.raw&&it.windowBits>=0&&it.windowBits<16&&(it.windowBits=-it.windowBits,it.windowBits===0&&(it.windowBits=-15)),it.windowBits>=0&&it.windowBits<16&&!(Lt&&Lt.windowBits)&&(it.windowBits+=32),it.windowBits>15&&it.windowBits<48&&(it.windowBits&15||(it.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var st=c.inflateInit2(this.strm,it.windowBits);if(st!==b.Z_OK)throw new Error($[st]);if(this.header=new rt,c.inflateGetHeader(this.strm,this.header),it.dictionary&&(typeof it.dictionary=="string"?it.dictionary=g.string2buf(it.dictionary):nt.call(it.dictionary)==="[object ArrayBuffer]"&&(it.dictionary=new Uint8Array(it.dictionary)),it.raw&&(st=c.inflateSetDictionary(this.strm,it.dictionary),st!==b.Z_OK)))throw new Error($[st])}pt.prototype.push=function(Lt,it){var st=this.strm,bt=this.options.chunkSize,gt=this.options.dictionary,Et,ot,_t,Mt,Bt,It=!1;if(this.ended)return!1;ot=it===~~it?it:it===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof Lt=="string"?st.input=g.binstring2buf(Lt):nt.call(Lt)==="[object ArrayBuffer]"?st.input=new Uint8Array(Lt):st.input=Lt,st.next_in=0,st.avail_in=st.input.length;do{if(st.avail_out===0&&(st.output=new h.Buf8(bt),st.next_out=0,st.avail_out=bt),Et=c.inflate(st,b.Z_NO_FLUSH),Et===b.Z_NEED_DICT&&gt&&(Et=c.inflateSetDictionary(this.strm,gt)),Et===b.Z_BUF_ERROR&&It===!0&&(Et=b.Z_OK,It=!1),Et!==b.Z_STREAM_END&&Et!==b.Z_OK)return this.onEnd(Et),this.ended=!0,!1;st.next_out&&(st.avail_out===0||Et===b.Z_STREAM_END||st.avail_in===0&&(ot===b.Z_FINISH||ot===b.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_t=g.utf8border(st.output,st.next_out),Mt=st.next_out-_t,Bt=g.buf2string(st.output,_t),st.next_out=Mt,st.avail_out=bt-Mt,Mt&&h.arraySet(st.output,st.output,_t,Mt,0),this.onData(Bt)):this.onData(h.shrinkBuf(st.output,st.next_out))),st.avail_in===0&&st.avail_out===0&&(It=!0)}while((st.avail_in>0||st.avail_out===0)&&Et!==b.Z_STREAM_END);return Et===b.Z_STREAM_END&&(ot=b.Z_FINISH),ot===b.Z_FINISH?(Et=c.inflateEnd(this.strm),this.onEnd(Et),this.ended=!0,Et===b.Z_OK):(ot===b.Z_SYNC_FLUSH&&(this.onEnd(b.Z_OK),st.avail_out=0),!0)},pt.prototype.onData=function(Lt){this.chunks.push(Lt)},pt.prototype.onEnd=function(Lt){Lt===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=Lt,this.msg=this.strm.msg};function wt(Lt,it){var st=new pt(it);if(st.push(Lt,!0),st.err)throw st.msg||$[st.err];return st.result}function Dt(Lt,it){return it=it||{},it.raw=!0,wt(Lt,it)}o.Inflate=pt,o.inflate=wt,o.inflateRaw=Dt,o.ungzip=wt},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(a,o)=>{var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(b,$){return Object.prototype.hasOwnProperty.call(b,$)}o.assign=function(b){for(var $=Array.prototype.slice.call(arguments,1);$.length;){var j=$.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(var rt in j)c(j,rt)&&(b[rt]=j[rt])}}return b},o.shrinkBuf=function(b,$){return b.length===$?b:b.subarray?b.subarray(0,$):(b.length=$,b)};var h={arraySet:function(b,$,j,rt,nt){if($.subarray&&b.subarray){b.set($.subarray(j,j+rt),nt);return}for(var pt=0;pt<rt;pt++)b[nt+pt]=$[j+pt]},flattenChunks:function(b){var $,j,rt,nt,pt,wt;for(rt=0,$=0,j=b.length;$<j;$++)rt+=b[$].length;for(wt=new Uint8Array(rt),nt=0,$=0,j=b.length;$<j;$++)pt=b[$],wt.set(pt,nt),nt+=pt.length;return wt}},g={arraySet:function(b,$,j,rt,nt){for(var pt=0;pt<rt;pt++)b[nt+pt]=$[j+pt]},flattenChunks:function(b){return[].concat.apply([],b)}};o.setTyped=function(b){b?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,h)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,g))},o.setTyped(e)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var b=new c.Buf8(256),$=0;$<256;$++)b[$]=$>=252?6:$>=248?5:$>=240?4:$>=224?3:$>=192?2:1;b[254]=b[254]=1,o.string2buf=function(rt){var nt,pt,wt,Dt,Lt,it=rt.length,st=0;for(Dt=0;Dt<it;Dt++)pt=rt.charCodeAt(Dt),(pt&64512)===55296&&Dt+1<it&&(wt=rt.charCodeAt(Dt+1),(wt&64512)===56320&&(pt=65536+(pt-55296<<10)+(wt-56320),Dt++)),st+=pt<128?1:pt<2048?2:pt<65536?3:4;for(nt=new c.Buf8(st),Lt=0,Dt=0;Lt<st;Dt++)pt=rt.charCodeAt(Dt),(pt&64512)===55296&&Dt+1<it&&(wt=rt.charCodeAt(Dt+1),(wt&64512)===56320&&(pt=65536+(pt-55296<<10)+(wt-56320),Dt++)),pt<128?nt[Lt++]=pt:pt<2048?(nt[Lt++]=192|pt>>>6,nt[Lt++]=128|pt&63):pt<65536?(nt[Lt++]=224|pt>>>12,nt[Lt++]=128|pt>>>6&63,nt[Lt++]=128|pt&63):(nt[Lt++]=240|pt>>>18,nt[Lt++]=128|pt>>>12&63,nt[Lt++]=128|pt>>>6&63,nt[Lt++]=128|pt&63);return nt};function j(rt,nt){if(nt<65534&&(rt.subarray&&g||!rt.subarray&&h))return String.fromCharCode.apply(null,c.shrinkBuf(rt,nt));for(var pt="",wt=0;wt<nt;wt++)pt+=String.fromCharCode(rt[wt]);return pt}o.buf2binstring=function(rt){return j(rt,rt.length)},o.binstring2buf=function(rt){for(var nt=new c.Buf8(rt.length),pt=0,wt=nt.length;pt<wt;pt++)nt[pt]=rt.charCodeAt(pt);return nt},o.buf2string=function(rt,nt){var pt,wt,Dt,Lt,it=nt||rt.length,st=new Array(it*2);for(wt=0,pt=0;pt<it;){if(Dt=rt[pt++],Dt<128){st[wt++]=Dt;continue}if(Lt=b[Dt],Lt>4){st[wt++]=65533,pt+=Lt-1;continue}for(Dt&=Lt===2?31:Lt===3?15:7;Lt>1&&pt<it;)Dt=Dt<<6|rt[pt++]&63,Lt--;if(Lt>1){st[wt++]=65533;continue}Dt<65536?st[wt++]=Dt:(Dt-=65536,st[wt++]=55296|Dt>>10&1023,st[wt++]=56320|Dt&1023)}return j(st,wt)},o.utf8border=function(rt,nt){var pt;for(nt=nt||rt.length,nt>rt.length&&(nt=rt.length),pt=nt-1;pt>=0&&(rt[pt]&192)===128;)pt--;return pt<0||pt===0?nt:pt+b[rt[pt]]>nt?pt:nt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":a=>{function o(e,c,h,g){for(var b=e&65535|0,$=e>>>16&65535|0,j=0;h!==0;){j=h>2e3?2e3:h,h-=j;do b=b+c[g++]|0,$=$+b|0;while(--j);b%=65521,$%=65521}return b|$<<16|0}a.exports=o},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":a=>{a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":a=>{function o(){for(var h,g=[],b=0;b<256;b++){h=b;for(var $=0;$<8;$++)h=h&1?3988292384^h>>>1:h>>>1;g[b]=h}return g}var e=o();function c(h,g,b,$){var j=e,rt=$+b;h^=-1;for(var nt=$;nt<rt;nt++)h=h>>>8^j[(h^g[nt])&255];return h^-1}a.exports=c},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=e("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),g=e("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),b=e("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),$=e("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),j=0,rt=1,nt=3,pt=4,wt=5,Dt=0,Lt=1,it=-2,st=-3,bt=-5,gt=-1,Et=1,ot=2,_t=3,Mt=4,Bt=0,It=2,jt=8,tr=9,gr=15,vr=8,hr=29,mr=256,Er=mr+1+hr,Rr=30,Cr=19,wr=2*Er+1,Sr=15,br=3,xr=258,Or=xr+br+1,In=32,Nn=42,Hn=69,Bn=73,qn=91,Wn=103,Yn=113,po=666,eo=1,wo=2,Vn=3,Kn=4,to=3;function fs(yr,lo){return yr.msg=$[lo],lo}function hs(yr){return(yr<<1)-(yr>4?9:0)}function Cs(yr){for(var lo=yr.length;--lo>=0;)yr[lo]=0}function ps(yr){var lo=yr.state,uo=lo.pending;uo>yr.avail_out&&(uo=yr.avail_out),uo!==0&&(c.arraySet(yr.output,lo.pending_buf,lo.pending_out,uo,yr.next_out),yr.next_out+=uo,lo.pending_out+=uo,yr.total_out+=uo,yr.avail_out-=uo,lo.pending-=uo,lo.pending===0&&(lo.pending_out=0))}function ls(yr,lo){h._tr_flush_block(yr,yr.block_start>=0?yr.block_start:-1,yr.strstart-yr.block_start,lo),yr.block_start=yr.strstart,ps(yr.strm)}function cs(yr,lo){yr.pending_buf[yr.pending++]=lo}function ss(yr,lo){yr.pending_buf[yr.pending++]=lo>>>8&255,yr.pending_buf[yr.pending++]=lo&255}function os(yr,lo,uo,rn){var Un=yr.avail_in;return Un>rn&&(Un=rn),Un===0?0:(yr.avail_in-=Un,c.arraySet(lo,yr.input,yr.next_in,Un,uo),yr.state.wrap===1?yr.adler=g(yr.adler,lo,Un,uo):yr.state.wrap===2&&(yr.adler=b(yr.adler,lo,Un,uo)),yr.next_in+=Un,yr.total_in+=Un,Un)}function as(yr,lo){var uo=yr.max_chain_length,rn=yr.strstart,Un,vo,ys=yr.prev_length,ms=yr.nice_match,ds=yr.strstart>yr.w_size-Or?yr.strstart-(yr.w_size-Or):0,Rs=yr.window,Gs=yr.w_mask,As=yr.prev,Ds=yr.strstart+xr,Ps=Rs[rn+ys-1],Zs=Rs[rn+ys];yr.prev_length>=yr.good_match&&(uo>>=2),ms>yr.lookahead&&(ms=yr.lookahead);do if(Un=lo,!(Rs[Un+ys]!==Zs||Rs[Un+ys-1]!==Ps||Rs[Un]!==Rs[rn]||Rs[++Un]!==Rs[rn+1])){rn+=2,Un++;do;while(Rs[++rn]===Rs[++Un]&&Rs[++rn]===Rs[++Un]&&Rs[++rn]===Rs[++Un]&&Rs[++rn]===Rs[++Un]&&Rs[++rn]===Rs[++Un]&&Rs[++rn]===Rs[++Un]&&Rs[++rn]===Rs[++Un]&&Rs[++rn]===Rs[++Un]&&rn<Ds);if(vo=xr-(Ds-rn),rn=Ds-xr,vo>ys){if(yr.match_start=lo,ys=vo,vo>=ms)break;Ps=Rs[rn+ys-1],Zs=Rs[rn+ys]}}while((lo=As[lo&Gs])>ds&&--uo!==0);return ys<=yr.lookahead?ys:yr.lookahead}function gs(yr){var lo=yr.w_size,uo,rn,Un,vo,ys;do{if(vo=yr.window_size-yr.lookahead-yr.strstart,yr.strstart>=lo+(lo-Or)){c.arraySet(yr.window,yr.window,lo,lo,0),yr.match_start-=lo,yr.strstart-=lo,yr.block_start-=lo,rn=yr.hash_size,uo=rn;do Un=yr.head[--uo],yr.head[uo]=Un>=lo?Un-lo:0;while(--rn);rn=lo,uo=rn;do Un=yr.prev[--uo],yr.prev[uo]=Un>=lo?Un-lo:0;while(--rn);vo+=lo}if(yr.strm.avail_in===0)break;if(rn=os(yr.strm,yr.window,yr.strstart+yr.lookahead,vo),yr.lookahead+=rn,yr.lookahead+yr.insert>=br)for(ys=yr.strstart-yr.insert,yr.ins_h=yr.window[ys],yr.ins_h=(yr.ins_h<<yr.hash_shift^yr.window[ys+1])&yr.hash_mask;yr.insert&&(yr.ins_h=(yr.ins_h<<yr.hash_shift^yr.window[ys+br-1])&yr.hash_mask,yr.prev[ys&yr.w_mask]=yr.head[yr.ins_h],yr.head[yr.ins_h]=ys,ys++,yr.insert--,!(yr.lookahead+yr.insert<br)););}while(yr.lookahead<Or&&yr.strm.avail_in!==0)}function vs(yr,lo){var uo=65535;for(uo>yr.pending_buf_size-5&&(uo=yr.pending_buf_size-5);;){if(yr.lookahead<=1){if(gs(yr),yr.lookahead===0&&lo===j)return eo;if(yr.lookahead===0)break}yr.strstart+=yr.lookahead,yr.lookahead=0;var rn=yr.block_start+uo;if((yr.strstart===0||yr.strstart>=rn)&&(yr.lookahead=yr.strstart-rn,yr.strstart=rn,ls(yr,!1),yr.strm.avail_out===0)||yr.strstart-yr.block_start>=yr.w_size-Or&&(ls(yr,!1),yr.strm.avail_out===0))return eo}return yr.insert=0,lo===pt?(ls(yr,!0),yr.strm.avail_out===0?Vn:Kn):(yr.strstart>yr.block_start&&(ls(yr,!1),yr.strm.avail_out===0),eo)}function tn(yr,lo){for(var uo,rn;;){if(yr.lookahead<Or){if(gs(yr),yr.lookahead<Or&&lo===j)return eo;if(yr.lookahead===0)break}if(uo=0,yr.lookahead>=br&&(yr.ins_h=(yr.ins_h<<yr.hash_shift^yr.window[yr.strstart+br-1])&yr.hash_mask,uo=yr.prev[yr.strstart&yr.w_mask]=yr.head[yr.ins_h],yr.head[yr.ins_h]=yr.strstart),uo!==0&&yr.strstart-uo<=yr.w_size-Or&&(yr.match_length=as(yr,uo)),yr.match_length>=br)if(rn=h._tr_tally(yr,yr.strstart-yr.match_start,yr.match_length-br),yr.lookahead-=yr.match_length,yr.match_length<=yr.max_lazy_match&&yr.lookahead>=br){yr.match_length--;do yr.strstart++,yr.ins_h=(yr.ins_h<<yr.hash_shift^yr.window[yr.strstart+br-1])&yr.hash_mask,uo=yr.prev[yr.strstart&yr.w_mask]=yr.head[yr.ins_h],yr.head[yr.ins_h]=yr.strstart;while(--yr.match_length!==0);yr.strstart++}else yr.strstart+=yr.match_length,yr.match_length=0,yr.ins_h=yr.window[yr.strstart],yr.ins_h=(yr.ins_h<<yr.hash_shift^yr.window[yr.strstart+1])&yr.hash_mask;else rn=h._tr_tally(yr,0,yr.window[yr.strstart]),yr.lookahead--,yr.strstart++;if(rn&&(ls(yr,!1),yr.strm.avail_out===0))return eo}return yr.insert=yr.strstart<br-1?yr.strstart:br-1,lo===pt?(ls(yr,!0),yr.strm.avail_out===0?Vn:Kn):yr.last_lit&&(ls(yr,!1),yr.strm.avail_out===0)?eo:wo}function Pr(yr,lo){for(var uo,rn,Un;;){if(yr.lookahead<Or){if(gs(yr),yr.lookahead<Or&&lo===j)return eo;if(yr.lookahead===0)break}if(uo=0,yr.lookahead>=br&&(yr.ins_h=(yr.ins_h<<yr.hash_shift^yr.window[yr.strstart+br-1])&yr.hash_mask,uo=yr.prev[yr.strstart&yr.w_mask]=yr.head[yr.ins_h],yr.head[yr.ins_h]=yr.strstart),yr.prev_length=yr.match_length,yr.prev_match=yr.match_start,yr.match_length=br-1,uo!==0&&yr.prev_length<yr.max_lazy_match&&yr.strstart-uo<=yr.w_size-Or&&(yr.match_length=as(yr,uo),yr.match_length<=5&&(yr.strategy===Et||yr.match_length===br&&yr.strstart-yr.match_start>4096)&&(yr.match_length=br-1)),yr.prev_length>=br&&yr.match_length<=yr.prev_length){Un=yr.strstart+yr.lookahead-br,rn=h._tr_tally(yr,yr.strstart-1-yr.prev_match,yr.prev_length-br),yr.lookahead-=yr.prev_length-1,yr.prev_length-=2;do++yr.strstart<=Un&&(yr.ins_h=(yr.ins_h<<yr.hash_shift^yr.window[yr.strstart+br-1])&yr.hash_mask,uo=yr.prev[yr.strstart&yr.w_mask]=yr.head[yr.ins_h],yr.head[yr.ins_h]=yr.strstart);while(--yr.prev_length!==0);if(yr.match_available=0,yr.match_length=br-1,yr.strstart++,rn&&(ls(yr,!1),yr.strm.avail_out===0))return eo}else if(yr.match_available){if(rn=h._tr_tally(yr,0,yr.window[yr.strstart-1]),rn&&ls(yr,!1),yr.strstart++,yr.lookahead--,yr.strm.avail_out===0)return eo}else yr.match_available=1,yr.strstart++,yr.lookahead--}return yr.match_available&&(rn=h._tr_tally(yr,0,yr.window[yr.strstart-1]),yr.match_available=0),yr.insert=yr.strstart<br-1?yr.strstart:br-1,lo===pt?(ls(yr,!0),yr.strm.avail_out===0?Vn:Kn):yr.last_lit&&(ls(yr,!1),yr.strm.avail_out===0)?eo:wo}function Fn(yr,lo){for(var uo,rn,Un,vo,ys=yr.window;;){if(yr.lookahead<=xr){if(gs(yr),yr.lookahead<=xr&&lo===j)return eo;if(yr.lookahead===0)break}if(yr.match_length=0,yr.lookahead>=br&&yr.strstart>0&&(Un=yr.strstart-1,rn=ys[Un],rn===ys[++Un]&&rn===ys[++Un]&&rn===ys[++Un])){vo=yr.strstart+xr;do;while(rn===ys[++Un]&&rn===ys[++Un]&&rn===ys[++Un]&&rn===ys[++Un]&&rn===ys[++Un]&&rn===ys[++Un]&&rn===ys[++Un]&&rn===ys[++Un]&&Un<vo);yr.match_length=xr-(vo-Un),yr.match_length>yr.lookahead&&(yr.match_length=yr.lookahead)}if(yr.match_length>=br?(uo=h._tr_tally(yr,1,yr.match_length-br),yr.lookahead-=yr.match_length,yr.strstart+=yr.match_length,yr.match_length=0):(uo=h._tr_tally(yr,0,yr.window[yr.strstart]),yr.lookahead--,yr.strstart++),uo&&(ls(yr,!1),yr.strm.avail_out===0))return eo}return yr.insert=0,lo===pt?(ls(yr,!0),yr.strm.avail_out===0?Vn:Kn):yr.last_lit&&(ls(yr,!1),yr.strm.avail_out===0)?eo:wo}function Zn(yr,lo){for(var uo;;){if(yr.lookahead===0&&(gs(yr),yr.lookahead===0)){if(lo===j)return eo;break}if(yr.match_length=0,uo=h._tr_tally(yr,0,yr.window[yr.strstart]),yr.lookahead--,yr.strstart++,uo&&(ls(yr,!1),yr.strm.avail_out===0))return eo}return yr.insert=0,lo===pt?(ls(yr,!0),yr.strm.avail_out===0?Vn:Kn):yr.last_lit&&(ls(yr,!1),yr.strm.avail_out===0)?eo:wo}function so(yr,lo,uo,rn,Un){this.good_length=yr,this.max_lazy=lo,this.nice_length=uo,this.max_chain=rn,this.func=Un}var rs;rs=[new so(0,0,0,0,vs),new so(4,4,8,4,tn),new so(4,5,16,8,tn),new so(4,6,32,32,tn),new so(4,4,16,16,Pr),new so(8,16,32,32,Pr),new so(8,16,128,128,Pr),new so(8,32,128,256,Pr),new so(32,128,258,1024,Pr),new so(32,258,258,4096,Pr)];function ns(yr){yr.window_size=2*yr.w_size,Cs(yr.head),yr.max_lazy_match=rs[yr.level].max_lazy,yr.good_match=rs[yr.level].good_length,yr.nice_match=rs[yr.level].nice_length,yr.max_chain_length=rs[yr.level].max_chain,yr.strstart=0,yr.block_start=0,yr.lookahead=0,yr.insert=0,yr.match_length=yr.prev_length=br-1,yr.match_available=0,yr.ins_h=0}function jr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=jt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(wr*2),this.dyn_dtree=new c.Buf16((2*Rr+1)*2),this.bl_tree=new c.Buf16((2*Cr+1)*2),Cs(this.dyn_ltree),Cs(this.dyn_dtree),Cs(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(Sr+1),this.heap=new c.Buf16(2*Er+1),Cs(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*Er+1),Cs(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qn(yr){var lo;return!yr||!yr.state?fs(yr,it):(yr.total_in=yr.total_out=0,yr.data_type=It,lo=yr.state,lo.pending=0,lo.pending_out=0,lo.wrap<0&&(lo.wrap=-lo.wrap),lo.status=lo.wrap?Nn:Yn,yr.adler=lo.wrap===2?0:1,lo.last_flush=j,h._tr_init(lo),Dt)}function co(yr){var lo=Qn(yr);return lo===Dt&&ns(yr.state),lo}function us(yr,lo){return!yr||!yr.state||yr.state.wrap!==2?it:(yr.state.gzhead=lo,Dt)}function zn(yr,lo,uo,rn,Un,vo){if(!yr)return it;var ys=1;if(lo===gt&&(lo=6),rn<0?(ys=0,rn=-rn):rn>15&&(ys=2,rn-=16),Un<1||Un>tr||uo!==jt||rn<8||rn>15||lo<0||lo>9||vo<0||vo>Mt)return fs(yr,it);rn===8&&(rn=9);var ms=new jr;return yr.state=ms,ms.strm=yr,ms.wrap=ys,ms.gzhead=null,ms.w_bits=rn,ms.w_size=1<<ms.w_bits,ms.w_mask=ms.w_size-1,ms.hash_bits=Un+7,ms.hash_size=1<<ms.hash_bits,ms.hash_mask=ms.hash_size-1,ms.hash_shift=~~((ms.hash_bits+br-1)/br),ms.window=new c.Buf8(ms.w_size*2),ms.head=new c.Buf16(ms.hash_size),ms.prev=new c.Buf16(ms.w_size),ms.lit_bufsize=1<<Un+6,ms.pending_buf_size=ms.lit_bufsize*4,ms.pending_buf=new c.Buf8(ms.pending_buf_size),ms.d_buf=1*ms.lit_bufsize,ms.l_buf=3*ms.lit_bufsize,ms.level=lo,ms.strategy=vo,ms.method=uo,co(yr)}function ts(yr,lo){return zn(yr,lo,jt,gr,vr,Bt)}function Dr(yr,lo){var uo,rn,Un,vo;if(!yr||!yr.state||lo>wt||lo<0)return yr?fs(yr,it):it;if(rn=yr.state,!yr.output||!yr.input&&yr.avail_in!==0||rn.status===po&&lo!==pt)return fs(yr,yr.avail_out===0?bt:it);if(rn.strm=yr,uo=rn.last_flush,rn.last_flush=lo,rn.status===Nn)if(rn.wrap===2)yr.adler=0,cs(rn,31),cs(rn,139),cs(rn,8),rn.gzhead?(cs(rn,(rn.gzhead.text?1:0)+(rn.gzhead.hcrc?2:0)+(rn.gzhead.extra?4:0)+(rn.gzhead.name?8:0)+(rn.gzhead.comment?16:0)),cs(rn,rn.gzhead.time&255),cs(rn,rn.gzhead.time>>8&255),cs(rn,rn.gzhead.time>>16&255),cs(rn,rn.gzhead.time>>24&255),cs(rn,rn.level===9?2:rn.strategy>=ot||rn.level<2?4:0),cs(rn,rn.gzhead.os&255),rn.gzhead.extra&&rn.gzhead.extra.length&&(cs(rn,rn.gzhead.extra.length&255),cs(rn,rn.gzhead.extra.length>>8&255)),rn.gzhead.hcrc&&(yr.adler=b(yr.adler,rn.pending_buf,rn.pending,0)),rn.gzindex=0,rn.status=Hn):(cs(rn,0),cs(rn,0),cs(rn,0),cs(rn,0),cs(rn,0),cs(rn,rn.level===9?2:rn.strategy>=ot||rn.level<2?4:0),cs(rn,to),rn.status=Yn);else{var ys=jt+(rn.w_bits-8<<4)<<8,ms=-1;rn.strategy>=ot||rn.level<2?ms=0:rn.level<6?ms=1:rn.level===6?ms=2:ms=3,ys|=ms<<6,rn.strstart!==0&&(ys|=In),ys+=31-ys%31,rn.status=Yn,ss(rn,ys),rn.strstart!==0&&(ss(rn,yr.adler>>>16),ss(rn,yr.adler&65535)),yr.adler=1}if(rn.status===Hn)if(rn.gzhead.extra){for(Un=rn.pending;rn.gzindex<(rn.gzhead.extra.length&65535)&&!(rn.pending===rn.pending_buf_size&&(rn.gzhead.hcrc&&rn.pending>Un&&(yr.adler=b(yr.adler,rn.pending_buf,rn.pending-Un,Un)),ps(yr),Un=rn.pending,rn.pending===rn.pending_buf_size));)cs(rn,rn.gzhead.extra[rn.gzindex]&255),rn.gzindex++;rn.gzhead.hcrc&&rn.pending>Un&&(yr.adler=b(yr.adler,rn.pending_buf,rn.pending-Un,Un)),rn.gzindex===rn.gzhead.extra.length&&(rn.gzindex=0,rn.status=Bn)}else rn.status=Bn;if(rn.status===Bn)if(rn.gzhead.name){Un=rn.pending;do{if(rn.pending===rn.pending_buf_size&&(rn.gzhead.hcrc&&rn.pending>Un&&(yr.adler=b(yr.adler,rn.pending_buf,rn.pending-Un,Un)),ps(yr),Un=rn.pending,rn.pending===rn.pending_buf_size)){vo=1;break}rn.gzindex<rn.gzhead.name.length?vo=rn.gzhead.name.charCodeAt(rn.gzindex++)&255:vo=0,cs(rn,vo)}while(vo!==0);rn.gzhead.hcrc&&rn.pending>Un&&(yr.adler=b(yr.adler,rn.pending_buf,rn.pending-Un,Un)),vo===0&&(rn.gzindex=0,rn.status=qn)}else rn.status=qn;if(rn.status===qn)if(rn.gzhead.comment){Un=rn.pending;do{if(rn.pending===rn.pending_buf_size&&(rn.gzhead.hcrc&&rn.pending>Un&&(yr.adler=b(yr.adler,rn.pending_buf,rn.pending-Un,Un)),ps(yr),Un=rn.pending,rn.pending===rn.pending_buf_size)){vo=1;break}rn.gzindex<rn.gzhead.comment.length?vo=rn.gzhead.comment.charCodeAt(rn.gzindex++)&255:vo=0,cs(rn,vo)}while(vo!==0);rn.gzhead.hcrc&&rn.pending>Un&&(yr.adler=b(yr.adler,rn.pending_buf,rn.pending-Un,Un)),vo===0&&(rn.status=Wn)}else rn.status=Wn;if(rn.status===Wn&&(rn.gzhead.hcrc?(rn.pending+2>rn.pending_buf_size&&ps(yr),rn.pending+2<=rn.pending_buf_size&&(cs(rn,yr.adler&255),cs(rn,yr.adler>>8&255),yr.adler=0,rn.status=Yn)):rn.status=Yn),rn.pending!==0){if(ps(yr),yr.avail_out===0)return rn.last_flush=-1,Dt}else if(yr.avail_in===0&&hs(lo)<=hs(uo)&&lo!==pt)return fs(yr,bt);if(rn.status===po&&yr.avail_in!==0)return fs(yr,bt);if(yr.avail_in!==0||rn.lookahead!==0||lo!==j&&rn.status!==po){var ds=rn.strategy===ot?Zn(rn,lo):rn.strategy===_t?Fn(rn,lo):rs[rn.level].func(rn,lo);if((ds===Vn||ds===Kn)&&(rn.status=po),ds===eo||ds===Vn)return yr.avail_out===0&&(rn.last_flush=-1),Dt;if(ds===wo&&(lo===rt?h._tr_align(rn):lo!==wt&&(h._tr_stored_block(rn,0,0,!1),lo===nt&&(Cs(rn.head),rn.lookahead===0&&(rn.strstart=0,rn.block_start=0,rn.insert=0))),ps(yr),yr.avail_out===0))return rn.last_flush=-1,Dt}return lo!==pt?Dt:rn.wrap<=0?Lt:(rn.wrap===2?(cs(rn,yr.adler&255),cs(rn,yr.adler>>8&255),cs(rn,yr.adler>>16&255),cs(rn,yr.adler>>24&255),cs(rn,yr.total_in&255),cs(rn,yr.total_in>>8&255),cs(rn,yr.total_in>>16&255),cs(rn,yr.total_in>>24&255)):(ss(rn,yr.adler>>>16),ss(rn,yr.adler&65535)),ps(yr),rn.wrap>0&&(rn.wrap=-rn.wrap),rn.pending!==0?Dt:Lt)}function is(yr){var lo;return!yr||!yr.state?it:(lo=yr.state.status,lo!==Nn&&lo!==Hn&&lo!==Bn&&lo!==qn&&lo!==Wn&&lo!==Yn&&lo!==po?fs(yr,it):(yr.state=null,lo===Yn?fs(yr,st):Dt))}function ws(yr,lo){var uo=lo.length,rn,Un,vo,ys,ms,ds,Rs,Gs;if(!yr||!yr.state||(rn=yr.state,ys=rn.wrap,ys===2||ys===1&&rn.status!==Nn||rn.lookahead))return it;for(ys===1&&(yr.adler=g(yr.adler,lo,uo,0)),rn.wrap=0,uo>=rn.w_size&&(ys===0&&(Cs(rn.head),rn.strstart=0,rn.block_start=0,rn.insert=0),Gs=new c.Buf8(rn.w_size),c.arraySet(Gs,lo,uo-rn.w_size,rn.w_size,0),lo=Gs,uo=rn.w_size),ms=yr.avail_in,ds=yr.next_in,Rs=yr.input,yr.avail_in=uo,yr.next_in=0,yr.input=lo,gs(rn);rn.lookahead>=br;){Un=rn.strstart,vo=rn.lookahead-(br-1);do rn.ins_h=(rn.ins_h<<rn.hash_shift^rn.window[Un+br-1])&rn.hash_mask,rn.prev[Un&rn.w_mask]=rn.head[rn.ins_h],rn.head[rn.ins_h]=Un,Un++;while(--vo);rn.strstart=Un,rn.lookahead=br-1,gs(rn)}return rn.strstart+=rn.lookahead,rn.block_start=rn.strstart,rn.insert=rn.lookahead,rn.lookahead=0,rn.match_length=rn.prev_length=br-1,rn.match_available=0,yr.next_in=ds,yr.input=Rs,yr.avail_in=ms,rn.wrap=ys,Dt}o.deflateInit=ts,o.deflateInit2=zn,o.deflateReset=co,o.deflateResetKeep=Qn,o.deflateSetHeader=us,o.deflate=Dr,o.deflateEnd=is,o.deflateSetDictionary=ws,o.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":a=>{function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a.exports=o},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":a=>{var o=30,e=12;a.exports=function(h,g){var b,$,j,rt,nt,pt,wt,Dt,Lt,it,st,bt,gt,Et,ot,_t,Mt,Bt,It,jt,tr,gr,vr,hr,mr;b=h.state,$=h.next_in,hr=h.input,j=$+(h.avail_in-5),rt=h.next_out,mr=h.output,nt=rt-(g-h.avail_out),pt=rt+(h.avail_out-257),wt=b.dmax,Dt=b.wsize,Lt=b.whave,it=b.wnext,st=b.window,bt=b.hold,gt=b.bits,Et=b.lencode,ot=b.distcode,_t=(1<<b.lenbits)-1,Mt=(1<<b.distbits)-1;e:do{gt<15&&(bt+=hr[$++]<<gt,gt+=8,bt+=hr[$++]<<gt,gt+=8),Bt=Et[bt&_t];t:for(;;){if(It=Bt>>>24,bt>>>=It,gt-=It,It=Bt>>>16&255,It===0)mr[rt++]=Bt&65535;else if(It&16){jt=Bt&65535,It&=15,It&&(gt<It&&(bt+=hr[$++]<<gt,gt+=8),jt+=bt&(1<<It)-1,bt>>>=It,gt-=It),gt<15&&(bt+=hr[$++]<<gt,gt+=8,bt+=hr[$++]<<gt,gt+=8),Bt=ot[bt&Mt];r:for(;;){if(It=Bt>>>24,bt>>>=It,gt-=It,It=Bt>>>16&255,It&16){if(tr=Bt&65535,It&=15,gt<It&&(bt+=hr[$++]<<gt,gt+=8,gt<It&&(bt+=hr[$++]<<gt,gt+=8)),tr+=bt&(1<<It)-1,tr>wt){h.msg="invalid distance too far back",b.mode=o;break e}if(bt>>>=It,gt-=It,It=rt-nt,tr>It){if(It=tr-It,It>Lt&&b.sane){h.msg="invalid distance too far back",b.mode=o;break e}if(gr=0,vr=st,it===0){if(gr+=Dt-It,It<jt){jt-=It;do mr[rt++]=st[gr++];while(--It);gr=rt-tr,vr=mr}}else if(it<It){if(gr+=Dt+it-It,It-=it,It<jt){jt-=It;do mr[rt++]=st[gr++];while(--It);if(gr=0,it<jt){It=it,jt-=It;do mr[rt++]=st[gr++];while(--It);gr=rt-tr,vr=mr}}}else if(gr+=it-It,It<jt){jt-=It;do mr[rt++]=st[gr++];while(--It);gr=rt-tr,vr=mr}for(;jt>2;)mr[rt++]=vr[gr++],mr[rt++]=vr[gr++],mr[rt++]=vr[gr++],jt-=3;jt&&(mr[rt++]=vr[gr++],jt>1&&(mr[rt++]=vr[gr++]))}else{gr=rt-tr;do mr[rt++]=mr[gr++],mr[rt++]=mr[gr++],mr[rt++]=mr[gr++],jt-=3;while(jt>2);jt&&(mr[rt++]=mr[gr++],jt>1&&(mr[rt++]=mr[gr++]))}}else if(It&64){h.msg="invalid distance code",b.mode=o;break e}else{Bt=ot[(Bt&65535)+(bt&(1<<It)-1)];continue r}break}}else if(It&64)if(It&32){b.mode=e;break e}else{h.msg="invalid literal/length code",b.mode=o;break e}else{Bt=Et[(Bt&65535)+(bt&(1<<It)-1)];continue t}break}}while($<j&&rt<pt);jt=gt>>3,$-=jt,gt-=jt<<3,bt&=(1<<gt)-1,h.next_in=$,h.next_out=rt,h.avail_in=$<j?5+(j-$):5-($-j),h.avail_out=rt<pt?257+(pt-rt):257-(rt-pt),b.hold=bt,b.bits=gt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=e("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),g=e("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),b=e("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),$=e("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),j=0,rt=1,nt=2,pt=4,wt=5,Dt=6,Lt=0,it=1,st=2,bt=-2,gt=-3,Et=-4,ot=-5,_t=8,Mt=1,Bt=2,It=3,jt=4,tr=5,gr=6,vr=7,hr=8,mr=9,Er=10,Rr=11,Cr=12,wr=13,Sr=14,br=15,xr=16,Or=17,In=18,Nn=19,Hn=20,Bn=21,qn=22,Wn=23,Yn=24,po=25,eo=26,wo=27,Vn=28,Kn=29,to=30,fs=31,hs=32,Cs=852,ps=592,ls=15,cs=ls;function ss(zn){return(zn>>>24&255)+(zn>>>8&65280)+((zn&65280)<<8)+((zn&255)<<24)}function os(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function as(zn){var ts;return!zn||!zn.state?bt:(ts=zn.state,zn.total_in=zn.total_out=ts.total=0,zn.msg="",ts.wrap&&(zn.adler=ts.wrap&1),ts.mode=Mt,ts.last=0,ts.havedict=0,ts.dmax=32768,ts.head=null,ts.hold=0,ts.bits=0,ts.lencode=ts.lendyn=new c.Buf32(Cs),ts.distcode=ts.distdyn=new c.Buf32(ps),ts.sane=1,ts.back=-1,Lt)}function gs(zn){var ts;return!zn||!zn.state?bt:(ts=zn.state,ts.wsize=0,ts.whave=0,ts.wnext=0,as(zn))}function vs(zn,ts){var Dr,is;return!zn||!zn.state||(is=zn.state,ts<0?(Dr=0,ts=-ts):(Dr=(ts>>4)+1,ts<48&&(ts&=15)),ts&&(ts<8||ts>15))?bt:(is.window!==null&&is.wbits!==ts&&(is.window=null),is.wrap=Dr,is.wbits=ts,gs(zn))}function tn(zn,ts){var Dr,is;return zn?(is=new os,zn.state=is,is.window=null,Dr=vs(zn,ts),Dr!==Lt&&(zn.state=null),Dr):bt}function Pr(zn){return tn(zn,cs)}var Fn=!0,Zn,so;function rs(zn){if(Fn){var ts;for(Zn=new c.Buf32(512),so=new c.Buf32(32),ts=0;ts<144;)zn.lens[ts++]=8;for(;ts<256;)zn.lens[ts++]=9;for(;ts<280;)zn.lens[ts++]=7;for(;ts<288;)zn.lens[ts++]=8;for($(rt,zn.lens,0,288,Zn,0,zn.work,{bits:9}),ts=0;ts<32;)zn.lens[ts++]=5;$(nt,zn.lens,0,32,so,0,zn.work,{bits:5}),Fn=!1}zn.lencode=Zn,zn.lenbits=9,zn.distcode=so,zn.distbits=5}function ns(zn,ts,Dr,is){var ws,yr=zn.state;return yr.window===null&&(yr.wsize=1<<yr.wbits,yr.wnext=0,yr.whave=0,yr.window=new c.Buf8(yr.wsize)),is>=yr.wsize?(c.arraySet(yr.window,ts,Dr-yr.wsize,yr.wsize,0),yr.wnext=0,yr.whave=yr.wsize):(ws=yr.wsize-yr.wnext,ws>is&&(ws=is),c.arraySet(yr.window,ts,Dr-is,ws,yr.wnext),is-=ws,is?(c.arraySet(yr.window,ts,Dr-is,is,0),yr.wnext=is,yr.whave=yr.wsize):(yr.wnext+=ws,yr.wnext===yr.wsize&&(yr.wnext=0),yr.whave<yr.wsize&&(yr.whave+=ws))),0}function jr(zn,ts){var Dr,is,ws,yr,lo,uo,rn,Un,vo,ys,ms,ds,Rs,Gs,As=0,Ds,Ps,Zs,Vs,Ol,Sl,zs,Ks,js=new c.Buf8(4),yl,Js,Ll=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!zn||!zn.state||!zn.output||!zn.input&&zn.avail_in!==0)return bt;Dr=zn.state,Dr.mode===Cr&&(Dr.mode=wr),lo=zn.next_out,ws=zn.output,rn=zn.avail_out,yr=zn.next_in,is=zn.input,uo=zn.avail_in,Un=Dr.hold,vo=Dr.bits,ys=uo,ms=rn,Ks=Lt;e:for(;;)switch(Dr.mode){case Mt:if(Dr.wrap===0){Dr.mode=wr;break}for(;vo<16;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Dr.wrap&2&&Un===35615){Dr.check=0,js[0]=Un&255,js[1]=Un>>>8&255,Dr.check=g(Dr.check,js,2,0),Un=0,vo=0,Dr.mode=Bt;break}if(Dr.flags=0,Dr.head&&(Dr.head.done=!1),!(Dr.wrap&1)||(((Un&255)<<8)+(Un>>8))%31){zn.msg="incorrect header check",Dr.mode=to;break}if((Un&15)!==_t){zn.msg="unknown compression method",Dr.mode=to;break}if(Un>>>=4,vo-=4,zs=(Un&15)+8,Dr.wbits===0)Dr.wbits=zs;else if(zs>Dr.wbits){zn.msg="invalid window size",Dr.mode=to;break}Dr.dmax=1<<zs,zn.adler=Dr.check=1,Dr.mode=Un&512?Er:Cr,Un=0,vo=0;break;case Bt:for(;vo<16;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Dr.flags=Un,(Dr.flags&255)!==_t){zn.msg="unknown compression method",Dr.mode=to;break}if(Dr.flags&57344){zn.msg="unknown header flags set",Dr.mode=to;break}Dr.head&&(Dr.head.text=Un>>8&1),Dr.flags&512&&(js[0]=Un&255,js[1]=Un>>>8&255,Dr.check=g(Dr.check,js,2,0)),Un=0,vo=0,Dr.mode=It;case It:for(;vo<32;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Dr.head&&(Dr.head.time=Un),Dr.flags&512&&(js[0]=Un&255,js[1]=Un>>>8&255,js[2]=Un>>>16&255,js[3]=Un>>>24&255,Dr.check=g(Dr.check,js,4,0)),Un=0,vo=0,Dr.mode=jt;case jt:for(;vo<16;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Dr.head&&(Dr.head.xflags=Un&255,Dr.head.os=Un>>8),Dr.flags&512&&(js[0]=Un&255,js[1]=Un>>>8&255,Dr.check=g(Dr.check,js,2,0)),Un=0,vo=0,Dr.mode=tr;case tr:if(Dr.flags&1024){for(;vo<16;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Dr.length=Un,Dr.head&&(Dr.head.extra_len=Un),Dr.flags&512&&(js[0]=Un&255,js[1]=Un>>>8&255,Dr.check=g(Dr.check,js,2,0)),Un=0,vo=0}else Dr.head&&(Dr.head.extra=null);Dr.mode=gr;case gr:if(Dr.flags&1024&&(ds=Dr.length,ds>uo&&(ds=uo),ds&&(Dr.head&&(zs=Dr.head.extra_len-Dr.length,Dr.head.extra||(Dr.head.extra=new Array(Dr.head.extra_len)),c.arraySet(Dr.head.extra,is,yr,ds,zs)),Dr.flags&512&&(Dr.check=g(Dr.check,is,ds,yr)),uo-=ds,yr+=ds,Dr.length-=ds),Dr.length))break e;Dr.length=0,Dr.mode=vr;case vr:if(Dr.flags&2048){if(uo===0)break e;ds=0;do zs=is[yr+ds++],Dr.head&&zs&&Dr.length<65536&&(Dr.head.name+=String.fromCharCode(zs));while(zs&&ds<uo);if(Dr.flags&512&&(Dr.check=g(Dr.check,is,ds,yr)),uo-=ds,yr+=ds,zs)break e}else Dr.head&&(Dr.head.name=null);Dr.length=0,Dr.mode=hr;case hr:if(Dr.flags&4096){if(uo===0)break e;ds=0;do zs=is[yr+ds++],Dr.head&&zs&&Dr.length<65536&&(Dr.head.comment+=String.fromCharCode(zs));while(zs&&ds<uo);if(Dr.flags&512&&(Dr.check=g(Dr.check,is,ds,yr)),uo-=ds,yr+=ds,zs)break e}else Dr.head&&(Dr.head.comment=null);Dr.mode=mr;case mr:if(Dr.flags&512){for(;vo<16;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Un!==(Dr.check&65535)){zn.msg="header crc mismatch",Dr.mode=to;break}Un=0,vo=0}Dr.head&&(Dr.head.hcrc=Dr.flags>>9&1,Dr.head.done=!0),zn.adler=Dr.check=0,Dr.mode=Cr;break;case Er:for(;vo<32;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}zn.adler=Dr.check=ss(Un),Un=0,vo=0,Dr.mode=Rr;case Rr:if(Dr.havedict===0)return zn.next_out=lo,zn.avail_out=rn,zn.next_in=yr,zn.avail_in=uo,Dr.hold=Un,Dr.bits=vo,st;zn.adler=Dr.check=1,Dr.mode=Cr;case Cr:if(ts===wt||ts===Dt)break e;case wr:if(Dr.last){Un>>>=vo&7,vo-=vo&7,Dr.mode=wo;break}for(;vo<3;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}switch(Dr.last=Un&1,Un>>>=1,vo-=1,Un&3){case 0:Dr.mode=Sr;break;case 1:if(rs(Dr),Dr.mode=Hn,ts===Dt){Un>>>=2,vo-=2;break e}break;case 2:Dr.mode=Or;break;case 3:zn.msg="invalid block type",Dr.mode=to}Un>>>=2,vo-=2;break;case Sr:for(Un>>>=vo&7,vo-=vo&7;vo<32;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if((Un&65535)!==(Un>>>16^65535)){zn.msg="invalid stored block lengths",Dr.mode=to;break}if(Dr.length=Un&65535,Un=0,vo=0,Dr.mode=br,ts===Dt)break e;case br:Dr.mode=xr;case xr:if(ds=Dr.length,ds){if(ds>uo&&(ds=uo),ds>rn&&(ds=rn),ds===0)break e;c.arraySet(ws,is,yr,ds,lo),uo-=ds,yr+=ds,rn-=ds,lo+=ds,Dr.length-=ds;break}Dr.mode=Cr;break;case Or:for(;vo<14;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Dr.nlen=(Un&31)+257,Un>>>=5,vo-=5,Dr.ndist=(Un&31)+1,Un>>>=5,vo-=5,Dr.ncode=(Un&15)+4,Un>>>=4,vo-=4,Dr.nlen>286||Dr.ndist>30){zn.msg="too many length or distance symbols",Dr.mode=to;break}Dr.have=0,Dr.mode=In;case In:for(;Dr.have<Dr.ncode;){for(;vo<3;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Dr.lens[Ll[Dr.have++]]=Un&7,Un>>>=3,vo-=3}for(;Dr.have<19;)Dr.lens[Ll[Dr.have++]]=0;if(Dr.lencode=Dr.lendyn,Dr.lenbits=7,yl={bits:Dr.lenbits},Ks=$(j,Dr.lens,0,19,Dr.lencode,0,Dr.work,yl),Dr.lenbits=yl.bits,Ks){zn.msg="invalid code lengths set",Dr.mode=to;break}Dr.have=0,Dr.mode=Nn;case Nn:for(;Dr.have<Dr.nlen+Dr.ndist;){for(;As=Dr.lencode[Un&(1<<Dr.lenbits)-1],Ds=As>>>24,Ps=As>>>16&255,Zs=As&65535,!(Ds<=vo);){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Zs<16)Un>>>=Ds,vo-=Ds,Dr.lens[Dr.have++]=Zs;else{if(Zs===16){for(Js=Ds+2;vo<Js;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Un>>>=Ds,vo-=Ds,Dr.have===0){zn.msg="invalid bit length repeat",Dr.mode=to;break}zs=Dr.lens[Dr.have-1],ds=3+(Un&3),Un>>>=2,vo-=2}else if(Zs===17){for(Js=Ds+3;vo<Js;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Un>>>=Ds,vo-=Ds,zs=0,ds=3+(Un&7),Un>>>=3,vo-=3}else{for(Js=Ds+7;vo<Js;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Un>>>=Ds,vo-=Ds,zs=0,ds=11+(Un&127),Un>>>=7,vo-=7}if(Dr.have+ds>Dr.nlen+Dr.ndist){zn.msg="invalid bit length repeat",Dr.mode=to;break}for(;ds--;)Dr.lens[Dr.have++]=zs}}if(Dr.mode===to)break;if(Dr.lens[256]===0){zn.msg="invalid code -- missing end-of-block",Dr.mode=to;break}if(Dr.lenbits=9,yl={bits:Dr.lenbits},Ks=$(rt,Dr.lens,0,Dr.nlen,Dr.lencode,0,Dr.work,yl),Dr.lenbits=yl.bits,Ks){zn.msg="invalid literal/lengths set",Dr.mode=to;break}if(Dr.distbits=6,Dr.distcode=Dr.distdyn,yl={bits:Dr.distbits},Ks=$(nt,Dr.lens,Dr.nlen,Dr.ndist,Dr.distcode,0,Dr.work,yl),Dr.distbits=yl.bits,Ks){zn.msg="invalid distances set",Dr.mode=to;break}if(Dr.mode=Hn,ts===Dt)break e;case Hn:Dr.mode=Bn;case Bn:if(uo>=6&&rn>=258){zn.next_out=lo,zn.avail_out=rn,zn.next_in=yr,zn.avail_in=uo,Dr.hold=Un,Dr.bits=vo,b(zn,ms),lo=zn.next_out,ws=zn.output,rn=zn.avail_out,yr=zn.next_in,is=zn.input,uo=zn.avail_in,Un=Dr.hold,vo=Dr.bits,Dr.mode===Cr&&(Dr.back=-1);break}for(Dr.back=0;As=Dr.lencode[Un&(1<<Dr.lenbits)-1],Ds=As>>>24,Ps=As>>>16&255,Zs=As&65535,!(Ds<=vo);){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Ps&&!(Ps&240)){for(Vs=Ds,Ol=Ps,Sl=Zs;As=Dr.lencode[Sl+((Un&(1<<Vs+Ol)-1)>>Vs)],Ds=As>>>24,Ps=As>>>16&255,Zs=As&65535,!(Vs+Ds<=vo);){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Un>>>=Vs,vo-=Vs,Dr.back+=Vs}if(Un>>>=Ds,vo-=Ds,Dr.back+=Ds,Dr.length=Zs,Ps===0){Dr.mode=eo;break}if(Ps&32){Dr.back=-1,Dr.mode=Cr;break}if(Ps&64){zn.msg="invalid literal/length code",Dr.mode=to;break}Dr.extra=Ps&15,Dr.mode=qn;case qn:if(Dr.extra){for(Js=Dr.extra;vo<Js;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Dr.length+=Un&(1<<Dr.extra)-1,Un>>>=Dr.extra,vo-=Dr.extra,Dr.back+=Dr.extra}Dr.was=Dr.length,Dr.mode=Wn;case Wn:for(;As=Dr.distcode[Un&(1<<Dr.distbits)-1],Ds=As>>>24,Ps=As>>>16&255,Zs=As&65535,!(Ds<=vo);){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(!(Ps&240)){for(Vs=Ds,Ol=Ps,Sl=Zs;As=Dr.distcode[Sl+((Un&(1<<Vs+Ol)-1)>>Vs)],Ds=As>>>24,Ps=As>>>16&255,Zs=As&65535,!(Vs+Ds<=vo);){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Un>>>=Vs,vo-=Vs,Dr.back+=Vs}if(Un>>>=Ds,vo-=Ds,Dr.back+=Ds,Ps&64){zn.msg="invalid distance code",Dr.mode=to;break}Dr.offset=Zs,Dr.extra=Ps&15,Dr.mode=Yn;case Yn:if(Dr.extra){for(Js=Dr.extra;vo<Js;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}Dr.offset+=Un&(1<<Dr.extra)-1,Un>>>=Dr.extra,vo-=Dr.extra,Dr.back+=Dr.extra}if(Dr.offset>Dr.dmax){zn.msg="invalid distance too far back",Dr.mode=to;break}Dr.mode=po;case po:if(rn===0)break e;if(ds=ms-rn,Dr.offset>ds){if(ds=Dr.offset-ds,ds>Dr.whave&&Dr.sane){zn.msg="invalid distance too far back",Dr.mode=to;break}ds>Dr.wnext?(ds-=Dr.wnext,Rs=Dr.wsize-ds):Rs=Dr.wnext-ds,ds>Dr.length&&(ds=Dr.length),Gs=Dr.window}else Gs=ws,Rs=lo-Dr.offset,ds=Dr.length;ds>rn&&(ds=rn),rn-=ds,Dr.length-=ds;do ws[lo++]=Gs[Rs++];while(--ds);Dr.length===0&&(Dr.mode=Bn);break;case eo:if(rn===0)break e;ws[lo++]=Dr.length,rn--,Dr.mode=Bn;break;case wo:if(Dr.wrap){for(;vo<32;){if(uo===0)break e;uo--,Un|=is[yr++]<<vo,vo+=8}if(ms-=rn,zn.total_out+=ms,Dr.total+=ms,ms&&(zn.adler=Dr.check=Dr.flags?g(Dr.check,ws,ms,lo-ms):h(Dr.check,ws,ms,lo-ms)),ms=rn,(Dr.flags?Un:ss(Un))!==Dr.check){zn.msg="incorrect data check",Dr.mode=to;break}Un=0,vo=0}Dr.mode=Vn;case Vn:if(Dr.wrap&&Dr.flags){for(;vo<32;){if(uo===0)break e;uo--,Un+=is[yr++]<<vo,vo+=8}if(Un!==(Dr.total&4294967295)){zn.msg="incorrect length check",Dr.mode=to;break}Un=0,vo=0}Dr.mode=Kn;case Kn:Ks=it;break e;case to:Ks=gt;break e;case fs:return Et;case hs:default:return bt}return zn.next_out=lo,zn.avail_out=rn,zn.next_in=yr,zn.avail_in=uo,Dr.hold=Un,Dr.bits=vo,(Dr.wsize||ms!==zn.avail_out&&Dr.mode<to&&(Dr.mode<wo||ts!==pt))&&ns(zn,zn.output,zn.next_out,ms-zn.avail_out),ys-=zn.avail_in,ms-=zn.avail_out,zn.total_in+=ys,zn.total_out+=ms,Dr.total+=ms,Dr.wrap&&ms&&(zn.adler=Dr.check=Dr.flags?g(Dr.check,ws,ms,zn.next_out-ms):h(Dr.check,ws,ms,zn.next_out-ms)),zn.data_type=Dr.bits+(Dr.last?64:0)+(Dr.mode===Cr?128:0)+(Dr.mode===Hn||Dr.mode===br?256:0),(ys===0&&ms===0||ts===pt)&&Ks===Lt&&(Ks=ot),Ks}function Qn(zn){if(!zn||!zn.state)return bt;var ts=zn.state;return ts.window&&(ts.window=null),zn.state=null,Lt}function co(zn,ts){var Dr;return!zn||!zn.state||(Dr=zn.state,!(Dr.wrap&2))?bt:(Dr.head=ts,ts.done=!1,Lt)}function us(zn,ts){var Dr=ts.length,is,ws,yr;return!zn||!zn.state||(is=zn.state,is.wrap!==0&&is.mode!==Rr)?bt:is.mode===Rr&&(ws=1,ws=h(ws,ts,Dr,0),ws!==is.check)?gt:(yr=ns(zn,ts,Dr,Dr),yr?(is.mode=fs,Et):(is.havedict=1,Lt))}o.inflateReset=gs,o.inflateReset2=vs,o.inflateResetKeep=as,o.inflateInit=Pr,o.inflateInit2=tn,o.inflate=jr,o.inflateEnd=Qn,o.inflateGetHeader=co,o.inflateSetDictionary=us,o.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=15,g=852,b=592,$=0,j=1,rt=2,nt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],pt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],wt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Dt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(it,st,bt,gt,Et,ot,_t,Mt){var Bt=Mt.bits,It=0,jt=0,tr=0,gr=0,vr=0,hr=0,mr=0,Er=0,Rr=0,Cr=0,wr,Sr,br,xr,Or,In=null,Nn=0,Hn,Bn=new c.Buf16(h+1),qn=new c.Buf16(h+1),Wn=null,Yn=0,po,eo,wo;for(It=0;It<=h;It++)Bn[It]=0;for(jt=0;jt<gt;jt++)Bn[st[bt+jt]]++;for(vr=Bt,gr=h;gr>=1&&Bn[gr]===0;gr--);if(vr>gr&&(vr=gr),gr===0)return Et[ot++]=20971520,Et[ot++]=20971520,Mt.bits=1,0;for(tr=1;tr<gr&&Bn[tr]===0;tr++);for(vr<tr&&(vr=tr),Er=1,It=1;It<=h;It++)if(Er<<=1,Er-=Bn[It],Er<0)return-1;if(Er>0&&(it===$||gr!==1))return-1;for(qn[1]=0,It=1;It<h;It++)qn[It+1]=qn[It]+Bn[It];for(jt=0;jt<gt;jt++)st[bt+jt]!==0&&(_t[qn[st[bt+jt]]++]=jt);if(it===$?(In=Wn=_t,Hn=19):it===j?(In=nt,Nn-=257,Wn=pt,Yn-=257,Hn=256):(In=wt,Wn=Dt,Hn=-1),Cr=0,jt=0,It=tr,Or=ot,hr=vr,mr=0,br=-1,Rr=1<<vr,xr=Rr-1,it===j&&Rr>g||it===rt&&Rr>b)return 1;for(;;){po=It-mr,_t[jt]<Hn?(eo=0,wo=_t[jt]):_t[jt]>Hn?(eo=Wn[Yn+_t[jt]],wo=In[Nn+_t[jt]]):(eo=96,wo=0),wr=1<<It-mr,Sr=1<<hr,tr=Sr;do Sr-=wr,Et[Or+(Cr>>mr)+Sr]=po<<24|eo<<16|wo|0;while(Sr!==0);for(wr=1<<It-1;Cr&wr;)wr>>=1;if(wr!==0?(Cr&=wr-1,Cr+=wr):Cr=0,jt++,--Bn[It]===0){if(It===gr)break;It=st[bt+_t[jt]]}if(It>vr&&(Cr&xr)!==br){for(mr===0&&(mr=vr),Or+=tr,hr=It-mr,Er=1<<hr;hr+mr<gr&&(Er-=Bn[hr+mr],!(Er<=0));)hr++,Er<<=1;if(Rr+=1<<hr,it===j&&Rr>g||it===rt&&Rr>b)return 1;br=Cr&xr,Et[br]=vr<<24|hr<<16|Or-ot|0}}return Cr!==0&&(Et[Or+Cr]=It-mr<<24|4194304|0),Mt.bits=vr,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":a=>{a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(a,o,e)=>{var c=e("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=4,g=0,b=1,$=2;function j(jr){for(var Qn=jr.length;--Qn>=0;)jr[Qn]=0}var rt=0,nt=1,pt=2,wt=3,Dt=258,Lt=29,it=256,st=it+1+Lt,bt=30,gt=19,Et=2*st+1,ot=15,_t=16,Mt=7,Bt=256,It=16,jt=17,tr=18,gr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],vr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],hr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],mr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Er=512,Rr=new Array((st+2)*2);j(Rr);var Cr=new Array(bt*2);j(Cr);var wr=new Array(Er);j(wr);var Sr=new Array(Dt-wt+1);j(Sr);var br=new Array(Lt);j(br);var xr=new Array(bt);j(xr);function Or(jr,Qn,co,us,zn){this.static_tree=jr,this.extra_bits=Qn,this.extra_base=co,this.elems=us,this.max_length=zn,this.has_stree=jr&&jr.length}var In,Nn,Hn;function Bn(jr,Qn){this.dyn_tree=jr,this.max_code=0,this.stat_desc=Qn}function qn(jr){return jr<256?wr[jr]:wr[256+(jr>>>7)]}function Wn(jr,Qn){jr.pending_buf[jr.pending++]=Qn&255,jr.pending_buf[jr.pending++]=Qn>>>8&255}function Yn(jr,Qn,co){jr.bi_valid>_t-co?(jr.bi_buf|=Qn<<jr.bi_valid&65535,Wn(jr,jr.bi_buf),jr.bi_buf=Qn>>_t-jr.bi_valid,jr.bi_valid+=co-_t):(jr.bi_buf|=Qn<<jr.bi_valid&65535,jr.bi_valid+=co)}function po(jr,Qn,co){Yn(jr,co[Qn*2],co[Qn*2+1])}function eo(jr,Qn){var co=0;do co|=jr&1,jr>>>=1,co<<=1;while(--Qn>0);return co>>>1}function wo(jr){jr.bi_valid===16?(Wn(jr,jr.bi_buf),jr.bi_buf=0,jr.bi_valid=0):jr.bi_valid>=8&&(jr.pending_buf[jr.pending++]=jr.bi_buf&255,jr.bi_buf>>=8,jr.bi_valid-=8)}function Vn(jr,Qn){var co=Qn.dyn_tree,us=Qn.max_code,zn=Qn.stat_desc.static_tree,ts=Qn.stat_desc.has_stree,Dr=Qn.stat_desc.extra_bits,is=Qn.stat_desc.extra_base,ws=Qn.stat_desc.max_length,yr,lo,uo,rn,Un,vo,ys=0;for(rn=0;rn<=ot;rn++)jr.bl_count[rn]=0;for(co[jr.heap[jr.heap_max]*2+1]=0,yr=jr.heap_max+1;yr<Et;yr++)lo=jr.heap[yr],rn=co[co[lo*2+1]*2+1]+1,rn>ws&&(rn=ws,ys++),co[lo*2+1]=rn,!(lo>us)&&(jr.bl_count[rn]++,Un=0,lo>=is&&(Un=Dr[lo-is]),vo=co[lo*2],jr.opt_len+=vo*(rn+Un),ts&&(jr.static_len+=vo*(zn[lo*2+1]+Un)));if(ys!==0){do{for(rn=ws-1;jr.bl_count[rn]===0;)rn--;jr.bl_count[rn]--,jr.bl_count[rn+1]+=2,jr.bl_count[ws]--,ys-=2}while(ys>0);for(rn=ws;rn!==0;rn--)for(lo=jr.bl_count[rn];lo!==0;)uo=jr.heap[--yr],!(uo>us)&&(co[uo*2+1]!==rn&&(jr.opt_len+=(rn-co[uo*2+1])*co[uo*2],co[uo*2+1]=rn),lo--)}}function Kn(jr,Qn,co){var us=new Array(ot+1),zn=0,ts,Dr;for(ts=1;ts<=ot;ts++)us[ts]=zn=zn+co[ts-1]<<1;for(Dr=0;Dr<=Qn;Dr++){var is=jr[Dr*2+1];is!==0&&(jr[Dr*2]=eo(us[is]++,is))}}function to(){var jr,Qn,co,us,zn,ts=new Array(ot+1);for(co=0,us=0;us<Lt-1;us++)for(br[us]=co,jr=0;jr<1<<gr[us];jr++)Sr[co++]=us;for(Sr[co-1]=us,zn=0,us=0;us<16;us++)for(xr[us]=zn,jr=0;jr<1<<vr[us];jr++)wr[zn++]=us;for(zn>>=7;us<bt;us++)for(xr[us]=zn<<7,jr=0;jr<1<<vr[us]-7;jr++)wr[256+zn++]=us;for(Qn=0;Qn<=ot;Qn++)ts[Qn]=0;for(jr=0;jr<=143;)Rr[jr*2+1]=8,jr++,ts[8]++;for(;jr<=255;)Rr[jr*2+1]=9,jr++,ts[9]++;for(;jr<=279;)Rr[jr*2+1]=7,jr++,ts[7]++;for(;jr<=287;)Rr[jr*2+1]=8,jr++,ts[8]++;for(Kn(Rr,st+1,ts),jr=0;jr<bt;jr++)Cr[jr*2+1]=5,Cr[jr*2]=eo(jr,5);In=new Or(Rr,gr,it+1,st,ot),Nn=new Or(Cr,vr,0,bt,ot),Hn=new Or(new Array(0),hr,0,gt,Mt)}function fs(jr){var Qn;for(Qn=0;Qn<st;Qn++)jr.dyn_ltree[Qn*2]=0;for(Qn=0;Qn<bt;Qn++)jr.dyn_dtree[Qn*2]=0;for(Qn=0;Qn<gt;Qn++)jr.bl_tree[Qn*2]=0;jr.dyn_ltree[Bt*2]=1,jr.opt_len=jr.static_len=0,jr.last_lit=jr.matches=0}function hs(jr){jr.bi_valid>8?Wn(jr,jr.bi_buf):jr.bi_valid>0&&(jr.pending_buf[jr.pending++]=jr.bi_buf),jr.bi_buf=0,jr.bi_valid=0}function Cs(jr,Qn,co,us){hs(jr),us&&(Wn(jr,co),Wn(jr,~co)),c.arraySet(jr.pending_buf,jr.window,Qn,co,jr.pending),jr.pending+=co}function ps(jr,Qn,co,us){var zn=Qn*2,ts=co*2;return jr[zn]<jr[ts]||jr[zn]===jr[ts]&&us[Qn]<=us[co]}function ls(jr,Qn,co){for(var us=jr.heap[co],zn=co<<1;zn<=jr.heap_len&&(zn<jr.heap_len&&ps(Qn,jr.heap[zn+1],jr.heap[zn],jr.depth)&&zn++,!ps(Qn,us,jr.heap[zn],jr.depth));)jr.heap[co]=jr.heap[zn],co=zn,zn<<=1;jr.heap[co]=us}function cs(jr,Qn,co){var us,zn,ts=0,Dr,is;if(jr.last_lit!==0)do us=jr.pending_buf[jr.d_buf+ts*2]<<8|jr.pending_buf[jr.d_buf+ts*2+1],zn=jr.pending_buf[jr.l_buf+ts],ts++,us===0?po(jr,zn,Qn):(Dr=Sr[zn],po(jr,Dr+it+1,Qn),is=gr[Dr],is!==0&&(zn-=br[Dr],Yn(jr,zn,is)),us--,Dr=qn(us),po(jr,Dr,co),is=vr[Dr],is!==0&&(us-=xr[Dr],Yn(jr,us,is)));while(ts<jr.last_lit);po(jr,Bt,Qn)}function ss(jr,Qn){var co=Qn.dyn_tree,us=Qn.stat_desc.static_tree,zn=Qn.stat_desc.has_stree,ts=Qn.stat_desc.elems,Dr,is,ws=-1,yr;for(jr.heap_len=0,jr.heap_max=Et,Dr=0;Dr<ts;Dr++)co[Dr*2]!==0?(jr.heap[++jr.heap_len]=ws=Dr,jr.depth[Dr]=0):co[Dr*2+1]=0;for(;jr.heap_len<2;)yr=jr.heap[++jr.heap_len]=ws<2?++ws:0,co[yr*2]=1,jr.depth[yr]=0,jr.opt_len--,zn&&(jr.static_len-=us[yr*2+1]);for(Qn.max_code=ws,Dr=jr.heap_len>>1;Dr>=1;Dr--)ls(jr,co,Dr);yr=ts;do Dr=jr.heap[1],jr.heap[1]=jr.heap[jr.heap_len--],ls(jr,co,1),is=jr.heap[1],jr.heap[--jr.heap_max]=Dr,jr.heap[--jr.heap_max]=is,co[yr*2]=co[Dr*2]+co[is*2],jr.depth[yr]=(jr.depth[Dr]>=jr.depth[is]?jr.depth[Dr]:jr.depth[is])+1,co[Dr*2+1]=co[is*2+1]=yr,jr.heap[1]=yr++,ls(jr,co,1);while(jr.heap_len>=2);jr.heap[--jr.heap_max]=jr.heap[1],Vn(jr,Qn),Kn(co,ws,jr.bl_count)}function os(jr,Qn,co){var us,zn=-1,ts,Dr=Qn[0*2+1],is=0,ws=7,yr=4;for(Dr===0&&(ws=138,yr=3),Qn[(co+1)*2+1]=65535,us=0;us<=co;us++)ts=Dr,Dr=Qn[(us+1)*2+1],!(++is<ws&&ts===Dr)&&(is<yr?jr.bl_tree[ts*2]+=is:ts!==0?(ts!==zn&&jr.bl_tree[ts*2]++,jr.bl_tree[It*2]++):is<=10?jr.bl_tree[jt*2]++:jr.bl_tree[tr*2]++,is=0,zn=ts,Dr===0?(ws=138,yr=3):ts===Dr?(ws=6,yr=3):(ws=7,yr=4))}function as(jr,Qn,co){var us,zn=-1,ts,Dr=Qn[0*2+1],is=0,ws=7,yr=4;for(Dr===0&&(ws=138,yr=3),us=0;us<=co;us++)if(ts=Dr,Dr=Qn[(us+1)*2+1],!(++is<ws&&ts===Dr)){if(is<yr)do po(jr,ts,jr.bl_tree);while(--is!==0);else ts!==0?(ts!==zn&&(po(jr,ts,jr.bl_tree),is--),po(jr,It,jr.bl_tree),Yn(jr,is-3,2)):is<=10?(po(jr,jt,jr.bl_tree),Yn(jr,is-3,3)):(po(jr,tr,jr.bl_tree),Yn(jr,is-11,7));is=0,zn=ts,Dr===0?(ws=138,yr=3):ts===Dr?(ws=6,yr=3):(ws=7,yr=4)}}function gs(jr){var Qn;for(os(jr,jr.dyn_ltree,jr.l_desc.max_code),os(jr,jr.dyn_dtree,jr.d_desc.max_code),ss(jr,jr.bl_desc),Qn=gt-1;Qn>=3&&jr.bl_tree[mr[Qn]*2+1]===0;Qn--);return jr.opt_len+=3*(Qn+1)+5+5+4,Qn}function vs(jr,Qn,co,us){var zn;for(Yn(jr,Qn-257,5),Yn(jr,co-1,5),Yn(jr,us-4,4),zn=0;zn<us;zn++)Yn(jr,jr.bl_tree[mr[zn]*2+1],3);as(jr,jr.dyn_ltree,Qn-1),as(jr,jr.dyn_dtree,co-1)}function tn(jr){var Qn=4093624447,co;for(co=0;co<=31;co++,Qn>>>=1)if(Qn&1&&jr.dyn_ltree[co*2]!==0)return g;if(jr.dyn_ltree[18]!==0||jr.dyn_ltree[20]!==0||jr.dyn_ltree[26]!==0)return b;for(co=32;co<it;co++)if(jr.dyn_ltree[co*2]!==0)return b;return g}var Pr=!1;function Fn(jr){Pr||(to(),Pr=!0),jr.l_desc=new Bn(jr.dyn_ltree,In),jr.d_desc=new Bn(jr.dyn_dtree,Nn),jr.bl_desc=new Bn(jr.bl_tree,Hn),jr.bi_buf=0,jr.bi_valid=0,fs(jr)}function Zn(jr,Qn,co,us){Yn(jr,(rt<<1)+(us?1:0),3),Cs(jr,Qn,co,!0)}function so(jr){Yn(jr,nt<<1,3),po(jr,Bt,Rr),wo(jr)}function rs(jr,Qn,co,us){var zn,ts,Dr=0;jr.level>0?(jr.strm.data_type===$&&(jr.strm.data_type=tn(jr)),ss(jr,jr.l_desc),ss(jr,jr.d_desc),Dr=gs(jr),zn=jr.opt_len+3+7>>>3,ts=jr.static_len+3+7>>>3,ts<=zn&&(zn=ts)):zn=ts=co+5,co+4<=zn&&Qn!==-1?Zn(jr,Qn,co,us):jr.strategy===h||ts===zn?(Yn(jr,(nt<<1)+(us?1:0),3),cs(jr,Rr,Cr)):(Yn(jr,(pt<<1)+(us?1:0),3),vs(jr,jr.l_desc.max_code+1,jr.d_desc.max_code+1,Dr+1),cs(jr,jr.dyn_ltree,jr.dyn_dtree)),fs(jr),us&&hs(jr)}function ns(jr,Qn,co){return jr.pending_buf[jr.d_buf+jr.last_lit*2]=Qn>>>8&255,jr.pending_buf[jr.d_buf+jr.last_lit*2+1]=Qn&255,jr.pending_buf[jr.l_buf+jr.last_lit]=co&255,jr.last_lit++,Qn===0?jr.dyn_ltree[co*2]++:(jr.matches++,Qn--,jr.dyn_ltree[(Sr[co]+it+1)*2]++,jr.dyn_dtree[qn(Qn)*2]++),jr.last_lit===jr.lit_bufsize-1}o._tr_init=Fn,o._tr_stored_block=Zn,o._tr_flush_block=rs,o._tr_tally=ns,o._tr_align=so},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":a=>{function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a.exports=o},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=(function(){self.onmessage=function(a){var o=a.data,e=o.type;if(e<0)self.atomData=o.atoms,self.volume=o.volume,self.ps=new ProteinSurface;else{var c=self.ps;c.initparm(o.expandedExtent,e!=1,self.volume),c.fillvoxels(self.atomData,o.extendedAtoms),c.buildboundary(),(e===4||e===2)&&(c.fastdistancemap(),c.boundingatom(!1),c.fillvoxelswaals(self.atomData,o.extendedAtoms)),c.marchingcube(e);var h=c.getFacesAndVertices(o.atomsToShow);self.postMessage(h)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":a=>{typeof a.exports=="object"&&(a.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(a,o){(function(e,c){c(o)})(this,function(e){function c(tn,Pr,Fn){for(var Zn=(tn.byteLength,0),so=Fn.length;so>Zn;Zn++){var rs=Fn.charCodeAt(Zn);if(128>rs)tn.setUint8(Pr++,rs>>>0&127|0);else if(2048>rs)tn.setUint8(Pr++,rs>>>6&31|192),tn.setUint8(Pr++,rs>>>0&63|128);else if(65536>rs)tn.setUint8(Pr++,rs>>>12&15|224),tn.setUint8(Pr++,rs>>>6&63|128),tn.setUint8(Pr++,rs>>>0&63|128);else{if(!(1114112>rs))throw new Error("bad codepoint "+rs);tn.setUint8(Pr++,rs>>>18&7|240),tn.setUint8(Pr++,rs>>>12&63|128),tn.setUint8(Pr++,rs>>>6&63|128),tn.setUint8(Pr++,rs>>>0&63|128)}}}function h(tn){for(var Pr=0,Fn=0,Zn=tn.length;Zn>Fn;Fn++){var so=tn.charCodeAt(Fn);if(128>so)Pr+=1;else if(2048>so)Pr+=2;else if(65536>so)Pr+=3;else{if(!(1114112>so))throw new Error("bad codepoint "+so);Pr+=4}}return Pr}function g(tn,Pr,Fn){var Zn=typeof tn;if(Zn==="string"){var so=h(tn);if(32>so)return Pr.setUint8(Fn,160|so),c(Pr,Fn+1,tn),1+so;if(256>so)return Pr.setUint8(Fn,217),Pr.setUint8(Fn+1,so),c(Pr,Fn+2,tn),2+so;if(65536>so)return Pr.setUint8(Fn,218),Pr.setUint16(Fn+1,so),c(Pr,Fn+3,tn),3+so;if(4294967296>so)return Pr.setUint8(Fn,219),Pr.setUint32(Fn+1,so),c(Pr,Fn+5,tn),5+so}if(tn instanceof Uint8Array){var so=tn.byteLength,rs=new Uint8Array(Pr.buffer);if(256>so)return Pr.setUint8(Fn,196),Pr.setUint8(Fn+1,so),rs.set(tn,Fn+2),2+so;if(65536>so)return Pr.setUint8(Fn,197),Pr.setUint16(Fn+1,so),rs.set(tn,Fn+3),3+so;if(4294967296>so)return Pr.setUint8(Fn,198),Pr.setUint32(Fn+1,so),rs.set(tn,Fn+5),5+so}if(Zn==="number"){if(!isFinite(tn))throw new Error("Number not finite: "+tn);if(Math.floor(tn)!==tn)return Pr.setUint8(Fn,203),Pr.setFloat64(Fn+1,tn),9;if(tn>=0){if(128>tn)return Pr.setUint8(Fn,tn),1;if(256>tn)return Pr.setUint8(Fn,204),Pr.setUint8(Fn+1,tn),2;if(65536>tn)return Pr.setUint8(Fn,205),Pr.setUint16(Fn+1,tn),3;if(4294967296>tn)return Pr.setUint8(Fn,206),Pr.setUint32(Fn+1,tn),5;throw new Error("Number too big 0x"+tn.toString(16))}if(tn>=-32)return Pr.setInt8(Fn,tn),1;if(tn>=-128)return Pr.setUint8(Fn,208),Pr.setInt8(Fn+1,tn),2;if(tn>=-32768)return Pr.setUint8(Fn,209),Pr.setInt16(Fn+1,tn),3;if(tn>=-2147483648)return Pr.setUint8(Fn,210),Pr.setInt32(Fn+1,tn),5;throw new Error("Number too small -0x"+(-tn).toString(16).substr(1))}if(tn===null)return Pr.setUint8(Fn,192),1;if(Zn==="boolean")return Pr.setUint8(Fn,tn?195:194),1;if(Zn==="object"){var so,Qn=0,ns=Array.isArray(tn);if(ns)so=tn.length;else{var jr=Object.keys(tn);so=jr.length}var Qn;if(16>so?(Pr.setUint8(Fn,so|(ns?144:128)),Qn=1):65536>so?(Pr.setUint8(Fn,ns?220:222),Pr.setUint16(Fn+1,so),Qn=3):4294967296>so&&(Pr.setUint8(Fn,ns?221:223),Pr.setUint32(Fn+1,so),Qn=5),ns)for(var co=0;so>co;co++)Qn+=g(tn[co],Pr,Fn+Qn);else for(var co=0;so>co;co++){var us=jr[co];Qn+=g(us,Pr,Fn+Qn),Qn+=g(tn[us],Pr,Fn+Qn)}return Qn}throw new Error("Unknown type "+Zn)}function b(tn){var Pr=typeof tn;if(Pr==="string"){var Fn=h(tn);if(32>Fn)return 1+Fn;if(256>Fn)return 2+Fn;if(65536>Fn)return 3+Fn;if(4294967296>Fn)return 5+Fn}if(tn instanceof Uint8Array){var Fn=tn.byteLength;if(256>Fn)return 2+Fn;if(65536>Fn)return 3+Fn;if(4294967296>Fn)return 5+Fn}if(Pr==="number"){if(Math.floor(tn)!==tn)return 9;if(tn>=0){if(128>tn)return 1;if(256>tn)return 2;if(65536>tn)return 3;if(4294967296>tn)return 5;throw new Error("Number too big 0x"+tn.toString(16))}if(tn>=-32)return 1;if(tn>=-128)return 2;if(tn>=-32768)return 3;if(tn>=-2147483648)return 5;throw new Error("Number too small -0x"+tn.toString(16).substr(1))}if(Pr==="boolean"||tn===null)return 1;if(Pr==="object"){var Fn,Zn=0;if(Array.isArray(tn)){Fn=tn.length;for(var so=0;Fn>so;so++)Zn+=b(tn[so])}else{var rs=Object.keys(tn);Fn=rs.length;for(var so=0;Fn>so;so++){var ns=rs[so];Zn+=b(ns)+b(tn[ns])}}if(16>Fn)return 1+Zn;if(65536>Fn)return 3+Zn;if(4294967296>Fn)return 5+Zn;throw new Error("Array or object too long 0x"+Fn.toString(16))}throw new Error("Unknown type "+Pr)}function $(tn){var Pr=new ArrayBuffer(b(tn)),Fn=new DataView(Pr);return g(tn,Fn,0),new Uint8Array(Pr)}function j(tn,Pr,Fn){return Pr?new tn(Pr.buffer,Pr.byteOffset,Pr.byteLength/(Fn||1)):void 0}function rt(tn){return j(DataView,tn)}function nt(tn){return j(Uint8Array,tn)}function pt(tn){return j(Int8Array,tn)}function wt(tn){return j(Int32Array,tn,4)}function Dt(tn){return j(Float32Array,tn,4)}function Lt(tn,Pr){var Fn=tn.length/2;Pr||(Pr=new Int16Array(Fn));for(var Zn=0,so=0;Fn>Zn;++Zn,so+=2)Pr[Zn]=tn[so]<<8^tn[so+1]<<0;return Pr}function it(tn,Pr){var Fn=tn.length;Pr||(Pr=new Uint8Array(2*Fn));for(var Zn=rt(Pr),so=0;Fn>so;++so)Zn.setInt16(2*so,tn[so]);return nt(Pr)}function st(tn,Pr){var Fn=tn.length/4;Pr||(Pr=new Int32Array(Fn));for(var Zn=0,so=0;Fn>Zn;++Zn,so+=4)Pr[Zn]=tn[so]<<24^tn[so+1]<<16^tn[so+2]<<8^tn[so+3]<<0;return Pr}function bt(tn,Pr){var Fn=tn.length;Pr||(Pr=new Uint8Array(4*Fn));for(var Zn=rt(Pr),so=0;Fn>so;++so)Zn.setInt32(4*so,tn[so]);return nt(Pr)}function gt(tn,Pr){var Fn=tn.length;Pr||(Pr=new Float32Array(Fn/4));for(var Zn=rt(Pr),so=rt(tn),rs=0,ns=0,jr=Fn/4;jr>rs;++rs,ns+=4)Zn.setFloat32(ns,so.getFloat32(ns),!0);return Pr}function Et(tn,Pr,Fn){var Zn=tn.length,so=1/Pr;Fn||(Fn=new Float32Array(Zn));for(var rs=0;Zn>rs;++rs)Fn[rs]=tn[rs]*so;return Fn}function ot(tn,Pr,Fn){var Zn=tn.length;Fn||(Fn=new Int32Array(Zn));for(var so=0;Zn>so;++so)Fn[so]=Math.round(tn[so]*Pr);return Fn}function _t(tn,Pr){var Fn,Zn;if(!Pr){var so=0;for(Fn=0,Zn=tn.length;Zn>Fn;Fn+=2)so+=tn[Fn+1];Pr=new tn.constructor(so)}var rs=0;for(Fn=0,Zn=tn.length;Zn>Fn;Fn+=2)for(var ns=tn[Fn],jr=tn[Fn+1],Qn=0;jr>Qn;++Qn)Pr[rs]=ns,++rs;return Pr}function Mt(tn){if(tn.length===0)return new Int32Array;var Pr,Fn,Zn=2;for(Pr=1,Fn=tn.length;Fn>Pr;++Pr)tn[Pr-1]!==tn[Pr]&&(Zn+=2);var so=new Int32Array(Zn),rs=0,ns=1;for(Pr=1,Fn=tn.length;Fn>Pr;++Pr)tn[Pr-1]!==tn[Pr]?(so[rs]=tn[Pr-1],so[rs+1]=ns,ns=1,rs+=2):++ns;return so[rs]=tn[tn.length-1],so[rs+1]=ns,so}function Bt(tn,Pr){var Fn=tn.length;Pr||(Pr=new tn.constructor(Fn)),Fn&&(Pr[0]=tn[0]);for(var Zn=1;Fn>Zn;++Zn)Pr[Zn]=tn[Zn]+Pr[Zn-1];return Pr}function It(tn,Pr){var Fn=tn.length;Pr||(Pr=new tn.constructor(Fn)),Pr[0]=tn[0];for(var Zn=1;Fn>Zn;++Zn)Pr[Zn]=tn[Zn]-tn[Zn-1];return Pr}function jt(tn,Pr){var Fn,Zn,so=tn instanceof Int8Array?127:32767,rs=-so-1,ns=tn.length;if(!Pr){var jr=0;for(Fn=0;ns>Fn;++Fn)tn[Fn]<so&&tn[Fn]>rs&&++jr;Pr=new Int32Array(jr)}for(Fn=0,Zn=0;ns>Fn;){for(var Qn=0;tn[Fn]===so||tn[Fn]===rs;)Qn+=tn[Fn],++Fn;Qn+=tn[Fn],++Fn,Pr[Zn]=Qn,++Zn}return Pr}function tr(tn,Pr){var Fn,Zn=Pr?127:32767,so=-Zn-1,rs=tn.length,ns=0;for(Fn=0;rs>Fn;++Fn){var jr=tn[Fn];jr===0?++ns:jr>0?(ns+=Math.ceil(jr/Zn),jr%Zn===0&&(ns+=1)):(ns+=Math.ceil(jr/so),jr%so===0&&(ns+=1))}var Qn=Pr?new Int8Array(ns):new Int16Array(ns),co=0;for(Fn=0;rs>Fn;++Fn){var jr=tn[Fn];if(jr>=0)for(;jr>=Zn;)Qn[co]=Zn,++co,jr-=Zn;else for(;so>=jr;)Qn[co]=so,++co,jr-=so;Qn[co]=jr,++co}return Qn}function gr(tn,Pr){return Bt(_t(tn),Pr)}function vr(tn){return Mt(It(tn))}function hr(tn,Pr,Fn){return Et(_t(tn,wt(Fn)),Pr,Fn)}function mr(tn,Pr){return Mt(ot(tn,Pr))}function Er(tn,Pr,Fn){return Et(Bt(tn,wt(Fn)),Pr,Fn)}function Rr(tn,Pr,Fn){return It(ot(tn,Pr),Fn)}function Cr(tn,Pr,Fn){return Et(jt(tn,wt(Fn)),Pr,Fn)}function wr(tn,Pr,Fn){var Zn=jt(tn,wt(Fn));return Er(Zn,Pr,Dt(Zn))}function Sr(tn,Pr,Fn){return tr(Rr(tn,Pr),Fn)}function br(rs){var Pr=rt(rs),Fn=Pr.getInt32(0),Zn=Pr.getInt32(4),so=rs.subarray(8,12),rs=rs.subarray(12);return[Fn,rs,Zn,so]}function xr(tn,Pr,Fn,Zn){var so=new ArrayBuffer(12+Zn.byteLength),rs=new Uint8Array(so),ns=new DataView(so);return ns.setInt32(0,tn),ns.setInt32(4,Pr),Fn&&rs.set(Fn,8),rs.set(Zn,12),rs}function Or(tn){var Pr=tn.length,Fn=nt(tn);return xr(2,Pr,void 0,Fn)}function In(tn){var Pr=tn.length,Fn=bt(tn);return xr(4,Pr,void 0,Fn)}function Nn(tn,Pr){var Fn=tn.length/Pr,Zn=bt([Pr]),so=nt(tn);return xr(5,Fn,Zn,so)}function Hn(tn){var Pr=tn.length,Fn=bt(Mt(tn));return xr(6,Pr,void 0,Fn)}function Bn(tn){var Pr=tn.length,Fn=bt(vr(tn));return xr(8,Pr,void 0,Fn)}function qn(tn,Pr){var Fn=tn.length,Zn=bt([Pr]),so=bt(mr(tn,Pr));return xr(9,Fn,Zn,so)}function Wn(tn,Pr){var Fn=tn.length,Zn=bt([Pr]),so=it(Sr(tn,Pr));return xr(10,Fn,Zn,so)}function Yn(tn){var Pr={};return ls.forEach(function(Fn){tn[Fn]!==void 0&&(Pr[Fn]=tn[Fn])}),tn.bondAtomList&&(Pr.bondAtomList=In(tn.bondAtomList)),tn.bondOrderList&&(Pr.bondOrderList=Or(tn.bondOrderList)),Pr.xCoordList=Wn(tn.xCoordList,1e3),Pr.yCoordList=Wn(tn.yCoordList,1e3),Pr.zCoordList=Wn(tn.zCoordList,1e3),tn.bFactorList&&(Pr.bFactorList=Wn(tn.bFactorList,100)),tn.atomIdList&&(Pr.atomIdList=Bn(tn.atomIdList)),tn.altLocList&&(Pr.altLocList=Hn(tn.altLocList)),tn.occupancyList&&(Pr.occupancyList=qn(tn.occupancyList,100)),Pr.groupIdList=Bn(tn.groupIdList),Pr.groupTypeList=In(tn.groupTypeList),tn.secStructList&&(Pr.secStructList=Or(tn.secStructList)),tn.insCodeList&&(Pr.insCodeList=Hn(tn.insCodeList)),tn.sequenceIndexList&&(Pr.sequenceIndexList=Bn(tn.sequenceIndexList)),Pr.chainIdList=Nn(tn.chainIdList,4),tn.chainNameList&&(Pr.chainNameList=Nn(tn.chainNameList,4)),Pr}function po(tn){function Pr(Qn){for(var co={},us=0;Qn>us;us++){var zn=rs();co[zn]=rs()}return co}function Fn(Qn){var co=tn.subarray(ns,ns+Qn);return ns+=Qn,co}function Zn(Qn){var co=tn.subarray(ns,ns+Qn);ns+=Qn;var us=65535;if(Qn>us){for(var zn=[],ts=0;ts<co.length;ts+=us)zn.push(String.fromCharCode.apply(null,co.subarray(ts,ts+us)));return zn.join("")}return String.fromCharCode.apply(null,co)}function so(Qn){for(var co=new Array(Qn),us=0;Qn>us;us++)co[us]=rs();return co}function rs(){var Qn,co,us=tn[ns];if(!(128&us))return ns++,us;if((240&us)===128)return co=15&us,ns++,Pr(co);if((240&us)===144)return co=15&us,ns++,so(co);if((224&us)===160)return co=31&us,ns++,Zn(co);if((224&us)===224)return Qn=jr.getInt8(ns),ns++,Qn;switch(us){case 192:return ns++,null;case 194:return ns++,!1;case 195:return ns++,!0;case 196:return co=jr.getUint8(ns+1),ns+=2,Fn(co);case 197:return co=jr.getUint16(ns+1),ns+=3,Fn(co);case 198:return co=jr.getUint32(ns+1),ns+=5,Fn(co);case 202:return Qn=jr.getFloat32(ns+1),ns+=5,Qn;case 203:return Qn=jr.getFloat64(ns+1),ns+=9,Qn;case 204:return Qn=tn[ns+1],ns+=2,Qn;case 205:return Qn=jr.getUint16(ns+1),ns+=3,Qn;case 206:return Qn=jr.getUint32(ns+1),ns+=5,Qn;case 208:return Qn=jr.getInt8(ns+1),ns+=2,Qn;case 209:return Qn=jr.getInt16(ns+1),ns+=3,Qn;case 210:return Qn=jr.getInt32(ns+1),ns+=5,Qn;case 217:return co=jr.getUint8(ns+1),ns+=2,Zn(co);case 218:return co=jr.getUint16(ns+1),ns+=3,Zn(co);case 219:return co=jr.getUint32(ns+1),ns+=5,Zn(co);case 220:return co=jr.getUint16(ns+1),ns+=3,so(co);case 221:return co=jr.getUint32(ns+1),ns+=5,so(co);case 222:return co=jr.getUint16(ns+1),ns+=3,Pr(co);case 223:return co=jr.getUint32(ns+1),ns+=5,Pr(co)}throw new Error("Unknown type 0x"+us.toString(16))}var ns=0,jr=new DataView(tn.buffer);return rs()}function eo(tn,Pr,Fn,Zn){switch(tn){case 1:return gt(Pr);case 2:return pt(Pr);case 3:return Lt(Pr);case 4:return st(Pr);case 5:return nt(Pr);case 6:return _t(st(Pr),new Uint8Array(Fn));case 7:return _t(st(Pr));case 8:return gr(st(Pr));case 9:return hr(st(Pr),st(Zn)[0]);case 10:return wr(Lt(Pr),st(Zn)[0]);case 11:return Et(Lt(Pr),st(Zn)[0]);case 12:return Cr(Lt(Pr),st(Zn)[0]);case 13:return Cr(pt(Pr),st(Zn)[0]);case 14:return jt(Lt(Pr));case 15:return jt(pt(Pr))}}function wo(tn,Pr){Pr=Pr||{};var Fn=Pr.ignoreFields,Zn={};return ss.forEach(function(so){var rs=Fn?Fn.indexOf(so)!==-1:!1,ns=tn[so];rs||ns===void 0||(ns instanceof Uint8Array?Zn[so]=eo.apply(null,br(ns)):Zn[so]=ns)}),Zn}function Vn(tn){return String.fromCharCode.apply(null,tn).replace(/\0/g,"")}function Kn(tn,Pr,Fn){Fn=Fn||{};var Zn,so,rs,ns,jr,Qn,co=Fn.firstModelOnly,us=Pr.onModel,zn=Pr.onChain,ts=Pr.onGroup,Dr=Pr.onAtom,is=Pr.onBond,ws=0,yr=0,lo=0,uo=0,rn=0,Un=-1,vo=tn.chainNameList,ys=tn.secStructList,ms=tn.insCodeList,ds=tn.sequenceIndexList,Rs=tn.atomIdList,Gs=tn.bFactorList,As=tn.altLocList,Ds=tn.occupancyList,Ps=tn.bondAtomList,Zs=tn.bondOrderList;for(Zn=0,so=tn.chainsPerModel.length;so>Zn&&!(co&&ws>0);++Zn){var Vs=tn.chainsPerModel[ws];for(us&&us({chainCount:Vs,modelIndex:ws}),rs=0;Vs>rs;++rs){var Ol=tn.groupsPerChain[yr];if(zn){var Sl=Vn(tn.chainIdList.subarray(4*yr,4*yr+4)),zs=null;vo&&(zs=Vn(vo.subarray(4*yr,4*yr+4))),zn({groupCount:Ol,chainIndex:yr,modelIndex:ws,chainId:Sl,chainName:zs})}for(ns=0;Ol>ns;++ns){var Ks=tn.groupList[tn.groupTypeList[lo]],js=Ks.atomNameList.length;if(ts){var yl=null;ys&&(yl=ys[lo]);var Js=null;tn.insCodeList&&(Js=String.fromCharCode(ms[lo]));var Ll=null;ds&&(Ll=ds[lo]),ts({atomCount:js,groupIndex:lo,chainIndex:yr,modelIndex:ws,groupId:tn.groupIdList[lo],groupType:tn.groupTypeList[lo],groupName:Ks.groupName,singleLetterCode:Ks.singleLetterCode,chemCompType:Ks.chemCompType,secStruct:yl,insCode:Js,sequenceIndex:Ll})}for(jr=0;js>jr;++jr){if(Dr){var au=null;Rs&&(au=Rs[uo]);var Il=null;Gs&&(Il=Gs[uo]);var lu=null;As&&(lu=String.fromCharCode(As[uo]));var uu=null;Ds&&(uu=Ds[uo]),Dr({atomIndex:uo,groupIndex:lo,chainIndex:yr,modelIndex:ws,atomId:au,element:Ks.elementList[jr],atomName:Ks.atomNameList[jr],formalCharge:Ks.formalChargeList[jr],xCoord:tn.xCoordList[uo],yCoord:tn.yCoordList[uo],zCoord:tn.zCoordList[uo],bFactor:Il,altLoc:lu,occupancy:uu})}uo+=1}if(is){var cu=Ks.bondAtomList;for(jr=0,Qn=Ks.bondOrderList.length;Qn>jr;++jr)is({atomIndex1:uo-js+cu[2*jr],atomIndex2:uo-js+cu[2*jr+1],bondOrder:Ks.bondOrderList[jr]})}lo+=1}yr+=1}if(rn=Un+1,Un=uo-1,is&&Ps)for(jr=0,Qn=Ps.length;Qn>jr;jr+=2){var du=Ps[jr],pu=Ps[jr+1];(du>=rn&&Un>=du||pu>=rn&&Un>=pu)&&is({atomIndex1:du,atomIndex2:pu,bondOrder:Zs?Zs[jr/2]:null})}ws+=1}}function to(tn){return $(Yn(tn))}function fs(tn,Pr){tn instanceof ArrayBuffer&&(tn=new Uint8Array(tn));var Fn;return Fn=tn instanceof Uint8Array?po(tn):tn,wo(Fn,Pr)}function hs(tn,Pr,Fn,Zn){function so(){try{var ns=fs(rs.response);Fn(ns)}catch(jr){Zn(jr)}}var rs=new XMLHttpRequest;rs.addEventListener("load",so,!0),rs.addEventListener("error",Zn,!0),rs.responseType="arraybuffer",rs.open("GET",Pr+tn.toUpperCase()),rs.send()}function Cs(tn,Pr,Fn){hs(tn,gs,Pr,Fn)}function ps(tn,Pr,Fn){hs(tn,vs,Pr,Fn)}var ls=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],cs=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],ss=ls.concat(cs),os="v1.0.1",as="//mmtf.rcsb.org/v1.0/",gs=as+"full/",vs=as+"reduced/";e.encode=to,e.decode=fs,e.traverse=Kn,e.fetch=Cs,e.fetchReduced=ps,e.version=os,e.fetchUrl=gs,e.fetchReducedUrl=vs,e.encodeMsgpack=$,e.encodeMmtf=Yn,e.decodeMsgpack=po,e.decodeMmtf=wo})},"./node_modules/pako/dist/pako.esm.mjs":(a,o,e)=>{e.r(o),e.d(o,{Deflate:()=>Np,Inflate:()=>Wp,constants:()=>jp,default:()=>Nm,deflate:()=>$p,deflateRaw:()=>Gp,gzip:()=>Bp,inflate:()=>kp,inflateRaw:()=>Hp,ungzip:()=>Vp});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const c=4,h=0,g=1,b=2;function $(Ht){let Tr=Ht.length;for(;--Tr>=0;)Ht[Tr]=0}const j=0,rt=1,nt=2,pt=3,wt=258,Dt=29,Lt=256,it=Lt+1+Dt,st=30,bt=19,gt=2*it+1,Et=15,ot=16,_t=7,Mt=256,Bt=16,It=17,jt=18,tr=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),hr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mr=512,Er=new Array((it+2)*2);$(Er);const Rr=new Array(st*2);$(Rr);const Cr=new Array(mr);$(Cr);const wr=new Array(wt-pt+1);$(wr);const Sr=new Array(Dt);$(Sr);const br=new Array(st);$(br);function xr(Ht,Tr,rr,Ln,Gn){this.static_tree=Ht,this.extra_bits=Tr,this.extra_base=rr,this.elems=Ln,this.max_length=Gn,this.has_stree=Ht&&Ht.length}let Or,In,Nn;function Hn(Ht,Tr){this.dyn_tree=Ht,this.max_code=0,this.stat_desc=Tr}const Bn=Ht=>Ht<256?Cr[Ht]:Cr[256+(Ht>>>7)],qn=(Ht,Tr)=>{Ht.pending_buf[Ht.pending++]=Tr&255,Ht.pending_buf[Ht.pending++]=Tr>>>8&255},Wn=(Ht,Tr,rr)=>{Ht.bi_valid>ot-rr?(Ht.bi_buf|=Tr<<Ht.bi_valid&65535,qn(Ht,Ht.bi_buf),Ht.bi_buf=Tr>>ot-Ht.bi_valid,Ht.bi_valid+=rr-ot):(Ht.bi_buf|=Tr<<Ht.bi_valid&65535,Ht.bi_valid+=rr)},Yn=(Ht,Tr,rr)=>{Wn(Ht,rr[Tr*2],rr[Tr*2+1])},po=(Ht,Tr)=>{let rr=0;do rr|=Ht&1,Ht>>>=1,rr<<=1;while(--Tr>0);return rr>>>1},eo=Ht=>{Ht.bi_valid===16?(qn(Ht,Ht.bi_buf),Ht.bi_buf=0,Ht.bi_valid=0):Ht.bi_valid>=8&&(Ht.pending_buf[Ht.pending++]=Ht.bi_buf&255,Ht.bi_buf>>=8,Ht.bi_valid-=8)},wo=(Ht,Tr)=>{const rr=Tr.dyn_tree,Ln=Tr.max_code,Gn=Tr.stat_desc.static_tree,$n=Tr.stat_desc.has_stree,bo=Tr.stat_desc.extra_bits,ao=Tr.stat_desc.extra_base,xs=Tr.stat_desc.max_length;let Jn,es,Bs,Ss,_s,bs,Xs=0;for(Ss=0;Ss<=Et;Ss++)Ht.bl_count[Ss]=0;for(rr[Ht.heap[Ht.heap_max]*2+1]=0,Jn=Ht.heap_max+1;Jn<gt;Jn++)es=Ht.heap[Jn],Ss=rr[rr[es*2+1]*2+1]+1,Ss>xs&&(Ss=xs,Xs++),rr[es*2+1]=Ss,!(es>Ln)&&(Ht.bl_count[Ss]++,_s=0,es>=ao&&(_s=bo[es-ao]),bs=rr[es*2],Ht.opt_len+=bs*(Ss+_s),$n&&(Ht.static_len+=bs*(Gn[es*2+1]+_s)));if(Xs!==0){do{for(Ss=xs-1;Ht.bl_count[Ss]===0;)Ss--;Ht.bl_count[Ss]--,Ht.bl_count[Ss+1]+=2,Ht.bl_count[xs]--,Xs-=2}while(Xs>0);for(Ss=xs;Ss!==0;Ss--)for(es=Ht.bl_count[Ss];es!==0;)Bs=Ht.heap[--Jn],!(Bs>Ln)&&(rr[Bs*2+1]!==Ss&&(Ht.opt_len+=(Ss-rr[Bs*2+1])*rr[Bs*2],rr[Bs*2+1]=Ss),es--)}},Vn=(Ht,Tr,rr)=>{const Ln=new Array(Et+1);let Gn=0,$n,bo;for($n=1;$n<=Et;$n++)Gn=Gn+rr[$n-1]<<1,Ln[$n]=Gn;for(bo=0;bo<=Tr;bo++){let ao=Ht[bo*2+1];ao!==0&&(Ht[bo*2]=po(Ln[ao]++,ao))}},Kn=()=>{let Ht,Tr,rr,Ln,Gn;const $n=new Array(Et+1);for(rr=0,Ln=0;Ln<Dt-1;Ln++)for(Sr[Ln]=rr,Ht=0;Ht<1<<tr[Ln];Ht++)wr[rr++]=Ln;for(wr[rr-1]=Ln,Gn=0,Ln=0;Ln<16;Ln++)for(br[Ln]=Gn,Ht=0;Ht<1<<gr[Ln];Ht++)Cr[Gn++]=Ln;for(Gn>>=7;Ln<st;Ln++)for(br[Ln]=Gn<<7,Ht=0;Ht<1<<gr[Ln]-7;Ht++)Cr[256+Gn++]=Ln;for(Tr=0;Tr<=Et;Tr++)$n[Tr]=0;for(Ht=0;Ht<=143;)Er[Ht*2+1]=8,Ht++,$n[8]++;for(;Ht<=255;)Er[Ht*2+1]=9,Ht++,$n[9]++;for(;Ht<=279;)Er[Ht*2+1]=7,Ht++,$n[7]++;for(;Ht<=287;)Er[Ht*2+1]=8,Ht++,$n[8]++;for(Vn(Er,it+1,$n),Ht=0;Ht<st;Ht++)Rr[Ht*2+1]=5,Rr[Ht*2]=po(Ht,5);Or=new xr(Er,tr,Lt+1,it,Et),In=new xr(Rr,gr,0,st,Et),Nn=new xr(new Array(0),vr,0,bt,_t)},to=Ht=>{let Tr;for(Tr=0;Tr<it;Tr++)Ht.dyn_ltree[Tr*2]=0;for(Tr=0;Tr<st;Tr++)Ht.dyn_dtree[Tr*2]=0;for(Tr=0;Tr<bt;Tr++)Ht.bl_tree[Tr*2]=0;Ht.dyn_ltree[Mt*2]=1,Ht.opt_len=Ht.static_len=0,Ht.sym_next=Ht.matches=0},fs=Ht=>{Ht.bi_valid>8?qn(Ht,Ht.bi_buf):Ht.bi_valid>0&&(Ht.pending_buf[Ht.pending++]=Ht.bi_buf),Ht.bi_buf=0,Ht.bi_valid=0},hs=(Ht,Tr,rr,Ln)=>{const Gn=Tr*2,$n=rr*2;return Ht[Gn]<Ht[$n]||Ht[Gn]===Ht[$n]&&Ln[Tr]<=Ln[rr]},Cs=(Ht,Tr,rr)=>{const Ln=Ht.heap[rr];let Gn=rr<<1;for(;Gn<=Ht.heap_len&&(Gn<Ht.heap_len&&hs(Tr,Ht.heap[Gn+1],Ht.heap[Gn],Ht.depth)&&Gn++,!hs(Tr,Ln,Ht.heap[Gn],Ht.depth));)Ht.heap[rr]=Ht.heap[Gn],rr=Gn,Gn<<=1;Ht.heap[rr]=Ln},ps=(Ht,Tr,rr)=>{let Ln,Gn,$n=0,bo,ao;if(Ht.sym_next!==0)do Ln=Ht.pending_buf[Ht.sym_buf+$n++]&255,Ln+=(Ht.pending_buf[Ht.sym_buf+$n++]&255)<<8,Gn=Ht.pending_buf[Ht.sym_buf+$n++],Ln===0?Yn(Ht,Gn,Tr):(bo=wr[Gn],Yn(Ht,bo+Lt+1,Tr),ao=tr[bo],ao!==0&&(Gn-=Sr[bo],Wn(Ht,Gn,ao)),Ln--,bo=Bn(Ln),Yn(Ht,bo,rr),ao=gr[bo],ao!==0&&(Ln-=br[bo],Wn(Ht,Ln,ao)));while($n<Ht.sym_next);Yn(Ht,Mt,Tr)},ls=(Ht,Tr)=>{const rr=Tr.dyn_tree,Ln=Tr.stat_desc.static_tree,Gn=Tr.stat_desc.has_stree,$n=Tr.stat_desc.elems;let bo,ao,xs=-1,Jn;for(Ht.heap_len=0,Ht.heap_max=gt,bo=0;bo<$n;bo++)rr[bo*2]!==0?(Ht.heap[++Ht.heap_len]=xs=bo,Ht.depth[bo]=0):rr[bo*2+1]=0;for(;Ht.heap_len<2;)Jn=Ht.heap[++Ht.heap_len]=xs<2?++xs:0,rr[Jn*2]=1,Ht.depth[Jn]=0,Ht.opt_len--,Gn&&(Ht.static_len-=Ln[Jn*2+1]);for(Tr.max_code=xs,bo=Ht.heap_len>>1;bo>=1;bo--)Cs(Ht,rr,bo);Jn=$n;do bo=Ht.heap[1],Ht.heap[1]=Ht.heap[Ht.heap_len--],Cs(Ht,rr,1),ao=Ht.heap[1],Ht.heap[--Ht.heap_max]=bo,Ht.heap[--Ht.heap_max]=ao,rr[Jn*2]=rr[bo*2]+rr[ao*2],Ht.depth[Jn]=(Ht.depth[bo]>=Ht.depth[ao]?Ht.depth[bo]:Ht.depth[ao])+1,rr[bo*2+1]=rr[ao*2+1]=Jn,Ht.heap[1]=Jn++,Cs(Ht,rr,1);while(Ht.heap_len>=2);Ht.heap[--Ht.heap_max]=Ht.heap[1],wo(Ht,Tr),Vn(rr,xs,Ht.bl_count)},cs=(Ht,Tr,rr)=>{let Ln,Gn=-1,$n,bo=Tr[0*2+1],ao=0,xs=7,Jn=4;for(bo===0&&(xs=138,Jn=3),Tr[(rr+1)*2+1]=65535,Ln=0;Ln<=rr;Ln++)$n=bo,bo=Tr[(Ln+1)*2+1],!(++ao<xs&&$n===bo)&&(ao<Jn?Ht.bl_tree[$n*2]+=ao:$n!==0?($n!==Gn&&Ht.bl_tree[$n*2]++,Ht.bl_tree[Bt*2]++):ao<=10?Ht.bl_tree[It*2]++:Ht.bl_tree[jt*2]++,ao=0,Gn=$n,bo===0?(xs=138,Jn=3):$n===bo?(xs=6,Jn=3):(xs=7,Jn=4))},ss=(Ht,Tr,rr)=>{let Ln,Gn=-1,$n,bo=Tr[0*2+1],ao=0,xs=7,Jn=4;for(bo===0&&(xs=138,Jn=3),Ln=0;Ln<=rr;Ln++)if($n=bo,bo=Tr[(Ln+1)*2+1],!(++ao<xs&&$n===bo)){if(ao<Jn)do Yn(Ht,$n,Ht.bl_tree);while(--ao!==0);else $n!==0?($n!==Gn&&(Yn(Ht,$n,Ht.bl_tree),ao--),Yn(Ht,Bt,Ht.bl_tree),Wn(Ht,ao-3,2)):ao<=10?(Yn(Ht,It,Ht.bl_tree),Wn(Ht,ao-3,3)):(Yn(Ht,jt,Ht.bl_tree),Wn(Ht,ao-11,7));ao=0,Gn=$n,bo===0?(xs=138,Jn=3):$n===bo?(xs=6,Jn=3):(xs=7,Jn=4)}},os=Ht=>{let Tr;for(cs(Ht,Ht.dyn_ltree,Ht.l_desc.max_code),cs(Ht,Ht.dyn_dtree,Ht.d_desc.max_code),ls(Ht,Ht.bl_desc),Tr=bt-1;Tr>=3&&Ht.bl_tree[hr[Tr]*2+1]===0;Tr--);return Ht.opt_len+=3*(Tr+1)+5+5+4,Tr},as=(Ht,Tr,rr,Ln)=>{let Gn;for(Wn(Ht,Tr-257,5),Wn(Ht,rr-1,5),Wn(Ht,Ln-4,4),Gn=0;Gn<Ln;Gn++)Wn(Ht,Ht.bl_tree[hr[Gn]*2+1],3);ss(Ht,Ht.dyn_ltree,Tr-1),ss(Ht,Ht.dyn_dtree,rr-1)},gs=Ht=>{let Tr=4093624447,rr;for(rr=0;rr<=31;rr++,Tr>>>=1)if(Tr&1&&Ht.dyn_ltree[rr*2]!==0)return h;if(Ht.dyn_ltree[9*2]!==0||Ht.dyn_ltree[10*2]!==0||Ht.dyn_ltree[13*2]!==0)return g;for(rr=32;rr<Lt;rr++)if(Ht.dyn_ltree[rr*2]!==0)return g;return h};let vs=!1;const tn=Ht=>{vs||(Kn(),vs=!0),Ht.l_desc=new Hn(Ht.dyn_ltree,Or),Ht.d_desc=new Hn(Ht.dyn_dtree,In),Ht.bl_desc=new Hn(Ht.bl_tree,Nn),Ht.bi_buf=0,Ht.bi_valid=0,to(Ht)},Pr=(Ht,Tr,rr,Ln)=>{Wn(Ht,(j<<1)+(Ln?1:0),3),fs(Ht),qn(Ht,rr),qn(Ht,~rr),rr&&Ht.pending_buf.set(Ht.window.subarray(Tr,Tr+rr),Ht.pending),Ht.pending+=rr},Fn=Ht=>{Wn(Ht,rt<<1,3),Yn(Ht,Mt,Er),eo(Ht)},Zn=(Ht,Tr,rr,Ln)=>{let Gn,$n,bo=0;Ht.level>0?(Ht.strm.data_type===b&&(Ht.strm.data_type=gs(Ht)),ls(Ht,Ht.l_desc),ls(Ht,Ht.d_desc),bo=os(Ht),Gn=Ht.opt_len+3+7>>>3,$n=Ht.static_len+3+7>>>3,$n<=Gn&&(Gn=$n)):Gn=$n=rr+5,rr+4<=Gn&&Tr!==-1?Pr(Ht,Tr,rr,Ln):Ht.strategy===c||$n===Gn?(Wn(Ht,(rt<<1)+(Ln?1:0),3),ps(Ht,Er,Rr)):(Wn(Ht,(nt<<1)+(Ln?1:0),3),as(Ht,Ht.l_desc.max_code+1,Ht.d_desc.max_code+1,bo+1),ps(Ht,Ht.dyn_ltree,Ht.dyn_dtree)),to(Ht),Ln&&fs(Ht)},so=(Ht,Tr,rr)=>(Ht.pending_buf[Ht.sym_buf+Ht.sym_next++]=Tr,Ht.pending_buf[Ht.sym_buf+Ht.sym_next++]=Tr>>8,Ht.pending_buf[Ht.sym_buf+Ht.sym_next++]=rr,Tr===0?Ht.dyn_ltree[rr*2]++:(Ht.matches++,Tr--,Ht.dyn_ltree[(wr[rr]+Lt+1)*2]++,Ht.dyn_dtree[Bn(Tr)*2]++),Ht.sym_next===Ht.sym_end);var rs=tn,ns=Pr,jr=Zn,Qn=so,co=Fn,us={_tr_init:rs,_tr_stored_block:ns,_tr_flush_block:jr,_tr_tally:Qn,_tr_align:co},ts=(Ht,Tr,rr,Ln)=>{let Gn=Ht&65535|0,$n=Ht>>>16&65535|0,bo=0;for(;rr!==0;){bo=rr>2e3?2e3:rr,rr-=bo;do Gn=Gn+Tr[Ln++]|0,$n=$n+Gn|0;while(--bo);Gn%=65521,$n%=65521}return Gn|$n<<16|0};const Dr=()=>{let Ht,Tr=[];for(var rr=0;rr<256;rr++){Ht=rr;for(var Ln=0;Ln<8;Ln++)Ht=Ht&1?3988292384^Ht>>>1:Ht>>>1;Tr[rr]=Ht}return Tr},is=new Uint32Array(Dr());var yr=(Ht,Tr,rr,Ln)=>{const Gn=is,$n=Ln+rr;Ht^=-1;for(let bo=Ln;bo<$n;bo++)Ht=Ht>>>8^Gn[(Ht^Tr[bo])&255];return Ht^-1},lo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},uo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:rn,_tr_stored_block:Un,_tr_flush_block:vo,_tr_tally:ys,_tr_align:ms}=us,{Z_NO_FLUSH:ds,Z_PARTIAL_FLUSH:Rs,Z_FULL_FLUSH:Gs,Z_FINISH:As,Z_BLOCK:Ds,Z_OK:Ps,Z_STREAM_END:Zs,Z_STREAM_ERROR:Vs,Z_DATA_ERROR:Ol,Z_BUF_ERROR:Sl,Z_DEFAULT_COMPRESSION:zs,Z_FILTERED:Ks,Z_HUFFMAN_ONLY:js,Z_RLE:yl,Z_FIXED:Js,Z_DEFAULT_STRATEGY:Ll,Z_UNKNOWN:au,Z_DEFLATED:Il}=uo,lu=9,uu=15,cu=8,Su=256+1+29,zp=30,Kp=19,Yp=2*Su+1,Xp=15,Is=3,Pl=258,xl=Pl+Is+1,Zp=32,Hl=42,xu=57,Ru=69,bu=73,Ou=91,Au=103,Fl=113,Xl=666,qs=1,Vl=2,Nl=3,Ul=4,Qp=3,$l=(Ht,Tr)=>(Ht.msg=lo[Tr],Tr),ku=Ht=>Ht*2-(Ht>4?9:0),Dl=Ht=>{let Tr=Ht.length;for(;--Tr>=0;)Ht[Tr]=0},Jp=Ht=>{let Tr,rr,Ln,Gn=Ht.w_size;Tr=Ht.hash_size,Ln=Tr;do rr=Ht.head[--Ln],Ht.head[Ln]=rr>=Gn?rr-Gn:0;while(--Tr);Tr=Gn,Ln=Tr;do rr=Ht.prev[--Ln],Ht.prev[Ln]=rr>=Gn?rr-Gn:0;while(--Tr)};let Ml=(Ht,Tr,rr)=>(Tr<<Ht.hash_shift^rr)&Ht.hash_mask;const _l=Ht=>{const Tr=Ht.state;let rr=Tr.pending;rr>Ht.avail_out&&(rr=Ht.avail_out),rr!==0&&(Ht.output.set(Tr.pending_buf.subarray(Tr.pending_out,Tr.pending_out+rr),Ht.next_out),Ht.next_out+=rr,Tr.pending_out+=rr,Ht.total_out+=rr,Ht.avail_out-=rr,Tr.pending-=rr,Tr.pending===0&&(Tr.pending_out=0))},Cl=(Ht,Tr)=>{vo(Ht,Ht.block_start>=0?Ht.block_start:-1,Ht.strstart-Ht.block_start,Tr),Ht.block_start=Ht.strstart,_l(Ht.strm)},Ws=(Ht,Tr)=>{Ht.pending_buf[Ht.pending++]=Tr},Zl=(Ht,Tr)=>{Ht.pending_buf[Ht.pending++]=Tr>>>8&255,Ht.pending_buf[Ht.pending++]=Tr&255},Tu=(Ht,Tr,rr,Ln)=>{let Gn=Ht.avail_in;return Gn>Ln&&(Gn=Ln),Gn===0?0:(Ht.avail_in-=Gn,Tr.set(Ht.input.subarray(Ht.next_in,Ht.next_in+Gn),rr),Ht.state.wrap===1?Ht.adler=ts(Ht.adler,Tr,Gn,rr):Ht.state.wrap===2&&(Ht.adler=yr(Ht.adler,Tr,Gn,rr)),Ht.next_in+=Gn,Ht.total_in+=Gn,Gn)},Hu=(Ht,Tr)=>{let rr=Ht.max_chain_length,Ln=Ht.strstart,Gn,$n,bo=Ht.prev_length,ao=Ht.nice_match;const xs=Ht.strstart>Ht.w_size-xl?Ht.strstart-(Ht.w_size-xl):0,Jn=Ht.window,es=Ht.w_mask,Bs=Ht.prev,Ss=Ht.strstart+Pl;let _s=Jn[Ln+bo-1],bs=Jn[Ln+bo];Ht.prev_length>=Ht.good_match&&(rr>>=2),ao>Ht.lookahead&&(ao=Ht.lookahead);do if(Gn=Tr,!(Jn[Gn+bo]!==bs||Jn[Gn+bo-1]!==_s||Jn[Gn]!==Jn[Ln]||Jn[++Gn]!==Jn[Ln+1])){Ln+=2,Gn++;do;while(Jn[++Ln]===Jn[++Gn]&&Jn[++Ln]===Jn[++Gn]&&Jn[++Ln]===Jn[++Gn]&&Jn[++Ln]===Jn[++Gn]&&Jn[++Ln]===Jn[++Gn]&&Jn[++Ln]===Jn[++Gn]&&Jn[++Ln]===Jn[++Gn]&&Jn[++Ln]===Jn[++Gn]&&Ln<Ss);if($n=Pl-(Ss-Ln),Ln=Ss-Pl,$n>bo){if(Ht.match_start=Tr,bo=$n,$n>=ao)break;_s=Jn[Ln+bo-1],bs=Jn[Ln+bo]}}while((Tr=Bs[Tr&es])>xs&&--rr!==0);return bo<=Ht.lookahead?bo:Ht.lookahead},zl=Ht=>{const Tr=Ht.w_size;let rr,Ln,Gn;do{if(Ln=Ht.window_size-Ht.lookahead-Ht.strstart,Ht.strstart>=Tr+(Tr-xl)&&(Ht.window.set(Ht.window.subarray(Tr,Tr+Tr-Ln),0),Ht.match_start-=Tr,Ht.strstart-=Tr,Ht.block_start-=Tr,Ht.insert>Ht.strstart&&(Ht.insert=Ht.strstart),Jp(Ht),Ln+=Tr),Ht.strm.avail_in===0)break;if(rr=Tu(Ht.strm,Ht.window,Ht.strstart+Ht.lookahead,Ln),Ht.lookahead+=rr,Ht.lookahead+Ht.insert>=Is)for(Gn=Ht.strstart-Ht.insert,Ht.ins_h=Ht.window[Gn],Ht.ins_h=Ml(Ht,Ht.ins_h,Ht.window[Gn+1]);Ht.insert&&(Ht.ins_h=Ml(Ht,Ht.ins_h,Ht.window[Gn+Is-1]),Ht.prev[Gn&Ht.w_mask]=Ht.head[Ht.ins_h],Ht.head[Ht.ins_h]=Gn,Gn++,Ht.insert--,!(Ht.lookahead+Ht.insert<Is)););}while(Ht.lookahead<xl&&Ht.strm.avail_in!==0)},Vu=(Ht,Tr)=>{let rr=Ht.pending_buf_size-5>Ht.w_size?Ht.w_size:Ht.pending_buf_size-5,Ln,Gn,$n,bo=0,ao=Ht.strm.avail_in;do{if(Ln=65535,$n=Ht.bi_valid+42>>3,Ht.strm.avail_out<$n||($n=Ht.strm.avail_out-$n,Gn=Ht.strstart-Ht.block_start,Ln>Gn+Ht.strm.avail_in&&(Ln=Gn+Ht.strm.avail_in),Ln>$n&&(Ln=$n),Ln<rr&&(Ln===0&&Tr!==As||Tr===ds||Ln!==Gn+Ht.strm.avail_in)))break;bo=Tr===As&&Ln===Gn+Ht.strm.avail_in?1:0,Un(Ht,0,0,bo),Ht.pending_buf[Ht.pending-4]=Ln,Ht.pending_buf[Ht.pending-3]=Ln>>8,Ht.pending_buf[Ht.pending-2]=~Ln,Ht.pending_buf[Ht.pending-1]=~Ln>>8,_l(Ht.strm),Gn&&(Gn>Ln&&(Gn=Ln),Ht.strm.output.set(Ht.window.subarray(Ht.block_start,Ht.block_start+Gn),Ht.strm.next_out),Ht.strm.next_out+=Gn,Ht.strm.avail_out-=Gn,Ht.strm.total_out+=Gn,Ht.block_start+=Gn,Ln-=Gn),Ln&&(Tu(Ht.strm,Ht.strm.output,Ht.strm.next_out,Ln),Ht.strm.next_out+=Ln,Ht.strm.avail_out-=Ln,Ht.strm.total_out+=Ln)}while(bo===0);return ao-=Ht.strm.avail_in,ao&&(ao>=Ht.w_size?(Ht.matches=2,Ht.window.set(Ht.strm.input.subarray(Ht.strm.next_in-Ht.w_size,Ht.strm.next_in),0),Ht.strstart=Ht.w_size,Ht.insert=Ht.strstart):(Ht.window_size-Ht.strstart<=ao&&(Ht.strstart-=Ht.w_size,Ht.window.set(Ht.window.subarray(Ht.w_size,Ht.w_size+Ht.strstart),0),Ht.matches<2&&Ht.matches++,Ht.insert>Ht.strstart&&(Ht.insert=Ht.strstart)),Ht.window.set(Ht.strm.input.subarray(Ht.strm.next_in-ao,Ht.strm.next_in),Ht.strstart),Ht.strstart+=ao,Ht.insert+=ao>Ht.w_size-Ht.insert?Ht.w_size-Ht.insert:ao),Ht.block_start=Ht.strstart),Ht.high_water<Ht.strstart&&(Ht.high_water=Ht.strstart),bo?Ul:Tr!==ds&&Tr!==As&&Ht.strm.avail_in===0&&Ht.strstart===Ht.block_start?Vl:($n=Ht.window_size-Ht.strstart,Ht.strm.avail_in>$n&&Ht.block_start>=Ht.w_size&&(Ht.block_start-=Ht.w_size,Ht.strstart-=Ht.w_size,Ht.window.set(Ht.window.subarray(Ht.w_size,Ht.w_size+Ht.strstart),0),Ht.matches<2&&Ht.matches++,$n+=Ht.w_size,Ht.insert>Ht.strstart&&(Ht.insert=Ht.strstart)),$n>Ht.strm.avail_in&&($n=Ht.strm.avail_in),$n&&(Tu(Ht.strm,Ht.window,Ht.strstart,$n),Ht.strstart+=$n,Ht.insert+=$n>Ht.w_size-Ht.insert?Ht.w_size-Ht.insert:$n),Ht.high_water<Ht.strstart&&(Ht.high_water=Ht.strstart),$n=Ht.bi_valid+42>>3,$n=Ht.pending_buf_size-$n>65535?65535:Ht.pending_buf_size-$n,rr=$n>Ht.w_size?Ht.w_size:$n,Gn=Ht.strstart-Ht.block_start,(Gn>=rr||(Gn||Tr===As)&&Tr!==ds&&Ht.strm.avail_in===0&&Gn<=$n)&&(Ln=Gn>$n?$n:Gn,bo=Tr===As&&Ht.strm.avail_in===0&&Ln===Gn?1:0,Un(Ht,Ht.block_start,Ln,bo),Ht.block_start+=Ln,_l(Ht.strm)),bo?Nl:qs)},Pu=(Ht,Tr)=>{let rr,Ln;for(;;){if(Ht.lookahead<xl){if(zl(Ht),Ht.lookahead<xl&&Tr===ds)return qs;if(Ht.lookahead===0)break}if(rr=0,Ht.lookahead>=Is&&(Ht.ins_h=Ml(Ht,Ht.ins_h,Ht.window[Ht.strstart+Is-1]),rr=Ht.prev[Ht.strstart&Ht.w_mask]=Ht.head[Ht.ins_h],Ht.head[Ht.ins_h]=Ht.strstart),rr!==0&&Ht.strstart-rr<=Ht.w_size-xl&&(Ht.match_length=Hu(Ht,rr)),Ht.match_length>=Is)if(Ln=ys(Ht,Ht.strstart-Ht.match_start,Ht.match_length-Is),Ht.lookahead-=Ht.match_length,Ht.match_length<=Ht.max_lazy_match&&Ht.lookahead>=Is){Ht.match_length--;do Ht.strstart++,Ht.ins_h=Ml(Ht,Ht.ins_h,Ht.window[Ht.strstart+Is-1]),rr=Ht.prev[Ht.strstart&Ht.w_mask]=Ht.head[Ht.ins_h],Ht.head[Ht.ins_h]=Ht.strstart;while(--Ht.match_length!==0);Ht.strstart++}else Ht.strstart+=Ht.match_length,Ht.match_length=0,Ht.ins_h=Ht.window[Ht.strstart],Ht.ins_h=Ml(Ht,Ht.ins_h,Ht.window[Ht.strstart+1]);else Ln=ys(Ht,0,Ht.window[Ht.strstart]),Ht.lookahead--,Ht.strstart++;if(Ln&&(Cl(Ht,!1),Ht.strm.avail_out===0))return qs}return Ht.insert=Ht.strstart<Is-1?Ht.strstart:Is-1,Tr===As?(Cl(Ht,!0),Ht.strm.avail_out===0?Nl:Ul):Ht.sym_next&&(Cl(Ht,!1),Ht.strm.avail_out===0)?qs:Vl},Kl=(Ht,Tr)=>{let rr,Ln,Gn;for(;;){if(Ht.lookahead<xl){if(zl(Ht),Ht.lookahead<xl&&Tr===ds)return qs;if(Ht.lookahead===0)break}if(rr=0,Ht.lookahead>=Is&&(Ht.ins_h=Ml(Ht,Ht.ins_h,Ht.window[Ht.strstart+Is-1]),rr=Ht.prev[Ht.strstart&Ht.w_mask]=Ht.head[Ht.ins_h],Ht.head[Ht.ins_h]=Ht.strstart),Ht.prev_length=Ht.match_length,Ht.prev_match=Ht.match_start,Ht.match_length=Is-1,rr!==0&&Ht.prev_length<Ht.max_lazy_match&&Ht.strstart-rr<=Ht.w_size-xl&&(Ht.match_length=Hu(Ht,rr),Ht.match_length<=5&&(Ht.strategy===Ks||Ht.match_length===Is&&Ht.strstart-Ht.match_start>4096)&&(Ht.match_length=Is-1)),Ht.prev_length>=Is&&Ht.match_length<=Ht.prev_length){Gn=Ht.strstart+Ht.lookahead-Is,Ln=ys(Ht,Ht.strstart-1-Ht.prev_match,Ht.prev_length-Is),Ht.lookahead-=Ht.prev_length-1,Ht.prev_length-=2;do++Ht.strstart<=Gn&&(Ht.ins_h=Ml(Ht,Ht.ins_h,Ht.window[Ht.strstart+Is-1]),rr=Ht.prev[Ht.strstart&Ht.w_mask]=Ht.head[Ht.ins_h],Ht.head[Ht.ins_h]=Ht.strstart);while(--Ht.prev_length!==0);if(Ht.match_available=0,Ht.match_length=Is-1,Ht.strstart++,Ln&&(Cl(Ht,!1),Ht.strm.avail_out===0))return qs}else if(Ht.match_available){if(Ln=ys(Ht,0,Ht.window[Ht.strstart-1]),Ln&&Cl(Ht,!1),Ht.strstart++,Ht.lookahead--,Ht.strm.avail_out===0)return qs}else Ht.match_available=1,Ht.strstart++,Ht.lookahead--}return Ht.match_available&&(Ln=ys(Ht,0,Ht.window[Ht.strstart-1]),Ht.match_available=0),Ht.insert=Ht.strstart<Is-1?Ht.strstart:Is-1,Tr===As?(Cl(Ht,!0),Ht.strm.avail_out===0?Nl:Ul):Ht.sym_next&&(Cl(Ht,!1),Ht.strm.avail_out===0)?qs:Vl},qp=(Ht,Tr)=>{let rr,Ln,Gn,$n;const bo=Ht.window;for(;;){if(Ht.lookahead<=Pl){if(zl(Ht),Ht.lookahead<=Pl&&Tr===ds)return qs;if(Ht.lookahead===0)break}if(Ht.match_length=0,Ht.lookahead>=Is&&Ht.strstart>0&&(Gn=Ht.strstart-1,Ln=bo[Gn],Ln===bo[++Gn]&&Ln===bo[++Gn]&&Ln===bo[++Gn])){$n=Ht.strstart+Pl;do;while(Ln===bo[++Gn]&&Ln===bo[++Gn]&&Ln===bo[++Gn]&&Ln===bo[++Gn]&&Ln===bo[++Gn]&&Ln===bo[++Gn]&&Ln===bo[++Gn]&&Ln===bo[++Gn]&&Gn<$n);Ht.match_length=Pl-($n-Gn),Ht.match_length>Ht.lookahead&&(Ht.match_length=Ht.lookahead)}if(Ht.match_length>=Is?(rr=ys(Ht,1,Ht.match_length-Is),Ht.lookahead-=Ht.match_length,Ht.strstart+=Ht.match_length,Ht.match_length=0):(rr=ys(Ht,0,Ht.window[Ht.strstart]),Ht.lookahead--,Ht.strstart++),rr&&(Cl(Ht,!1),Ht.strm.avail_out===0))return qs}return Ht.insert=0,Tr===As?(Cl(Ht,!0),Ht.strm.avail_out===0?Nl:Ul):Ht.sym_next&&(Cl(Ht,!1),Ht.strm.avail_out===0)?qs:Vl},_f=(Ht,Tr)=>{let rr;for(;;){if(Ht.lookahead===0&&(zl(Ht),Ht.lookahead===0)){if(Tr===ds)return qs;break}if(Ht.match_length=0,rr=ys(Ht,0,Ht.window[Ht.strstart]),Ht.lookahead--,Ht.strstart++,rr&&(Cl(Ht,!1),Ht.strm.avail_out===0))return qs}return Ht.insert=0,Tr===As?(Cl(Ht,!0),Ht.strm.avail_out===0?Nl:Ul):Ht.sym_next&&(Cl(Ht,!1),Ht.strm.avail_out===0)?qs:Vl};function Rl(Ht,Tr,rr,Ln,Gn){this.good_length=Ht,this.max_lazy=Tr,this.nice_length=rr,this.max_chain=Ln,this.func=Gn}const Ql=[new Rl(0,0,0,0,Vu),new Rl(4,4,8,4,Pu),new Rl(4,5,16,8,Pu),new Rl(4,6,32,32,Pu),new Rl(4,4,16,16,Kl),new Rl(8,16,32,32,Kl),new Rl(8,16,128,128,Kl),new Rl(8,32,128,256,Kl),new Rl(32,128,258,1024,Kl),new Rl(32,258,258,4096,Kl)],_h=Ht=>{Ht.window_size=2*Ht.w_size,Dl(Ht.head),Ht.max_lazy_match=Ql[Ht.level].max_lazy,Ht.good_match=Ql[Ht.level].good_length,Ht.nice_match=Ql[Ht.level].nice_length,Ht.max_chain_length=Ql[Ht.level].max_chain,Ht.strstart=0,Ht.block_start=0,Ht.lookahead=0,Ht.insert=0,Ht.match_length=Ht.prev_length=Is-1,Ht.match_available=0,Ht.ins_h=0};function _g(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Il,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Yp*2),this.dyn_dtree=new Uint16Array((2*zp+1)*2),this.bl_tree=new Uint16Array((2*Kp+1)*2),Dl(this.dyn_ltree),Dl(this.dyn_dtree),Dl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Xp+1),this.heap=new Uint16Array(2*Su+1),Dl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Su+1),Dl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Jl=Ht=>{if(!Ht)return 1;const Tr=Ht.state;return!Tr||Tr.strm!==Ht||Tr.status!==Hl&&Tr.status!==xu&&Tr.status!==Ru&&Tr.status!==bu&&Tr.status!==Ou&&Tr.status!==Au&&Tr.status!==Fl&&Tr.status!==Xl?1:0},ju=Ht=>{if(Jl(Ht))return $l(Ht,Vs);Ht.total_in=Ht.total_out=0,Ht.data_type=au;const Tr=Ht.state;return Tr.pending=0,Tr.pending_out=0,Tr.wrap<0&&(Tr.wrap=-Tr.wrap),Tr.status=Tr.wrap===2?xu:Tr.wrap?Hl:Fl,Ht.adler=Tr.wrap===2?0:1,Tr.last_flush=-2,rn(Tr),Ps},Uu=Ht=>{const Tr=ju(Ht);return Tr===Ps&&_h(Ht.state),Tr},ev=(Ht,Tr)=>Jl(Ht)||Ht.state.wrap!==2?Vs:(Ht.state.gzhead=Tr,Ps),zu=(Ht,Tr,rr,Ln,Gn,$n)=>{if(!Ht)return Vs;let bo=1;if(Tr===zs&&(Tr=6),Ln<0?(bo=0,Ln=-Ln):Ln>15&&(bo=2,Ln-=16),Gn<1||Gn>lu||rr!==Il||Ln<8||Ln>15||Tr<0||Tr>9||$n<0||$n>Js||Ln===8&&bo!==1)return $l(Ht,Vs);Ln===8&&(Ln=9);const ao=new _g;return Ht.state=ao,ao.strm=Ht,ao.status=Hl,ao.wrap=bo,ao.gzhead=null,ao.w_bits=Ln,ao.w_size=1<<ao.w_bits,ao.w_mask=ao.w_size-1,ao.hash_bits=Gn+7,ao.hash_size=1<<ao.hash_bits,ao.hash_mask=ao.hash_size-1,ao.hash_shift=~~((ao.hash_bits+Is-1)/Is),ao.window=new Uint8Array(ao.w_size*2),ao.head=new Uint16Array(ao.hash_size),ao.prev=new Uint16Array(ao.w_size),ao.lit_bufsize=1<<Gn+6,ao.pending_buf_size=ao.lit_bufsize*4,ao.pending_buf=new Uint8Array(ao.pending_buf_size),ao.sym_buf=ao.lit_bufsize,ao.sym_end=(ao.lit_bufsize-1)*3,ao.level=Tr,ao.strategy=$n,ao.method=rr,Uu(Ht)},tv=(Ht,Tr)=>zu(Ht,Tr,Il,uu,cu,Ll),rv=(Ht,Tr)=>{if(Jl(Ht)||Tr>Ds||Tr<0)return Ht?$l(Ht,Vs):Vs;const rr=Ht.state;if(!Ht.output||Ht.avail_in!==0&&!Ht.input||rr.status===Xl&&Tr!==As)return $l(Ht,Ht.avail_out===0?Sl:Vs);const Ln=rr.last_flush;if(rr.last_flush=Tr,rr.pending!==0){if(_l(Ht),Ht.avail_out===0)return rr.last_flush=-1,Ps}else if(Ht.avail_in===0&&ku(Tr)<=ku(Ln)&&Tr!==As)return $l(Ht,Sl);if(rr.status===Xl&&Ht.avail_in!==0)return $l(Ht,Sl);if(rr.status===Hl&&rr.wrap===0&&(rr.status=Fl),rr.status===Hl){let Gn=Il+(rr.w_bits-8<<4)<<8,$n=-1;if(rr.strategy>=js||rr.level<2?$n=0:rr.level<6?$n=1:rr.level===6?$n=2:$n=3,Gn|=$n<<6,rr.strstart!==0&&(Gn|=Zp),Gn+=31-Gn%31,Zl(rr,Gn),rr.strstart!==0&&(Zl(rr,Ht.adler>>>16),Zl(rr,Ht.adler&65535)),Ht.adler=1,rr.status=Fl,_l(Ht),rr.pending!==0)return rr.last_flush=-1,Ps}if(rr.status===xu){if(Ht.adler=0,Ws(rr,31),Ws(rr,139),Ws(rr,8),rr.gzhead)Ws(rr,(rr.gzhead.text?1:0)+(rr.gzhead.hcrc?2:0)+(rr.gzhead.extra?4:0)+(rr.gzhead.name?8:0)+(rr.gzhead.comment?16:0)),Ws(rr,rr.gzhead.time&255),Ws(rr,rr.gzhead.time>>8&255),Ws(rr,rr.gzhead.time>>16&255),Ws(rr,rr.gzhead.time>>24&255),Ws(rr,rr.level===9?2:rr.strategy>=js||rr.level<2?4:0),Ws(rr,rr.gzhead.os&255),rr.gzhead.extra&&rr.gzhead.extra.length&&(Ws(rr,rr.gzhead.extra.length&255),Ws(rr,rr.gzhead.extra.length>>8&255)),rr.gzhead.hcrc&&(Ht.adler=yr(Ht.adler,rr.pending_buf,rr.pending,0)),rr.gzindex=0,rr.status=Ru;else if(Ws(rr,0),Ws(rr,0),Ws(rr,0),Ws(rr,0),Ws(rr,0),Ws(rr,rr.level===9?2:rr.strategy>=js||rr.level<2?4:0),Ws(rr,Qp),rr.status=Fl,_l(Ht),rr.pending!==0)return rr.last_flush=-1,Ps}if(rr.status===Ru){if(rr.gzhead.extra){let Gn=rr.pending,$n=(rr.gzhead.extra.length&65535)-rr.gzindex;for(;rr.pending+$n>rr.pending_buf_size;){let ao=rr.pending_buf_size-rr.pending;if(rr.pending_buf.set(rr.gzhead.extra.subarray(rr.gzindex,rr.gzindex+ao),rr.pending),rr.pending=rr.pending_buf_size,rr.gzhead.hcrc&&rr.pending>Gn&&(Ht.adler=yr(Ht.adler,rr.pending_buf,rr.pending-Gn,Gn)),rr.gzindex+=ao,_l(Ht),rr.pending!==0)return rr.last_flush=-1,Ps;Gn=0,$n-=ao}let bo=new Uint8Array(rr.gzhead.extra);rr.pending_buf.set(bo.subarray(rr.gzindex,rr.gzindex+$n),rr.pending),rr.pending+=$n,rr.gzhead.hcrc&&rr.pending>Gn&&(Ht.adler=yr(Ht.adler,rr.pending_buf,rr.pending-Gn,Gn)),rr.gzindex=0}rr.status=bu}if(rr.status===bu){if(rr.gzhead.name){let Gn=rr.pending,$n;do{if(rr.pending===rr.pending_buf_size){if(rr.gzhead.hcrc&&rr.pending>Gn&&(Ht.adler=yr(Ht.adler,rr.pending_buf,rr.pending-Gn,Gn)),_l(Ht),rr.pending!==0)return rr.last_flush=-1,Ps;Gn=0}rr.gzindex<rr.gzhead.name.length?$n=rr.gzhead.name.charCodeAt(rr.gzindex++)&255:$n=0,Ws(rr,$n)}while($n!==0);rr.gzhead.hcrc&&rr.pending>Gn&&(Ht.adler=yr(Ht.adler,rr.pending_buf,rr.pending-Gn,Gn)),rr.gzindex=0}rr.status=Ou}if(rr.status===Ou){if(rr.gzhead.comment){let Gn=rr.pending,$n;do{if(rr.pending===rr.pending_buf_size){if(rr.gzhead.hcrc&&rr.pending>Gn&&(Ht.adler=yr(Ht.adler,rr.pending_buf,rr.pending-Gn,Gn)),_l(Ht),rr.pending!==0)return rr.last_flush=-1,Ps;Gn=0}rr.gzindex<rr.gzhead.comment.length?$n=rr.gzhead.comment.charCodeAt(rr.gzindex++)&255:$n=0,Ws(rr,$n)}while($n!==0);rr.gzhead.hcrc&&rr.pending>Gn&&(Ht.adler=yr(Ht.adler,rr.pending_buf,rr.pending-Gn,Gn))}rr.status=Au}if(rr.status===Au){if(rr.gzhead.hcrc){if(rr.pending+2>rr.pending_buf_size&&(_l(Ht),rr.pending!==0))return rr.last_flush=-1,Ps;Ws(rr,Ht.adler&255),Ws(rr,Ht.adler>>8&255),Ht.adler=0}if(rr.status=Fl,_l(Ht),rr.pending!==0)return rr.last_flush=-1,Ps}if(Ht.avail_in!==0||rr.lookahead!==0||Tr!==ds&&rr.status!==Xl){let Gn=rr.level===0?Vu(rr,Tr):rr.strategy===js?_f(rr,Tr):rr.strategy===yl?qp(rr,Tr):Ql[rr.level].func(rr,Tr);if((Gn===Nl||Gn===Ul)&&(rr.status=Xl),Gn===qs||Gn===Nl)return Ht.avail_out===0&&(rr.last_flush=-1),Ps;if(Gn===Vl&&(Tr===Rs?ms(rr):Tr!==Ds&&(Un(rr,0,0,!1),Tr===Gs&&(Dl(rr.head),rr.lookahead===0&&(rr.strstart=0,rr.block_start=0,rr.insert=0))),_l(Ht),Ht.avail_out===0))return rr.last_flush=-1,Ps}return Tr!==As?Ps:rr.wrap<=0?Zs:(rr.wrap===2?(Ws(rr,Ht.adler&255),Ws(rr,Ht.adler>>8&255),Ws(rr,Ht.adler>>16&255),Ws(rr,Ht.adler>>24&255),Ws(rr,Ht.total_in&255),Ws(rr,Ht.total_in>>8&255),Ws(rr,Ht.total_in>>16&255),Ws(rr,Ht.total_in>>24&255)):(Zl(rr,Ht.adler>>>16),Zl(rr,Ht.adler&65535)),_l(Ht),rr.wrap>0&&(rr.wrap=-rr.wrap),rr.pending!==0?Ps:Zs)},nv=Ht=>{if(Jl(Ht))return Vs;const Tr=Ht.state.status;return Ht.state=null,Tr===Fl?$l(Ht,Ol):Ps},iv=(Ht,Tr)=>{let rr=Tr.length;if(Jl(Ht))return Vs;const Ln=Ht.state,Gn=Ln.wrap;if(Gn===2||Gn===1&&Ln.status!==Hl||Ln.lookahead)return Vs;if(Gn===1&&(Ht.adler=ts(Ht.adler,Tr,rr,0)),Ln.wrap=0,rr>=Ln.w_size){Gn===0&&(Dl(Ln.head),Ln.strstart=0,Ln.block_start=0,Ln.insert=0);let xs=new Uint8Array(Ln.w_size);xs.set(Tr.subarray(rr-Ln.w_size,rr),0),Tr=xs,rr=Ln.w_size}const $n=Ht.avail_in,bo=Ht.next_in,ao=Ht.input;for(Ht.avail_in=rr,Ht.next_in=0,Ht.input=Tr,zl(Ln);Ln.lookahead>=Is;){let xs=Ln.strstart,Jn=Ln.lookahead-(Is-1);do Ln.ins_h=Ml(Ln,Ln.ins_h,Ln.window[xs+Is-1]),Ln.prev[xs&Ln.w_mask]=Ln.head[Ln.ins_h],Ln.head[Ln.ins_h]=xs,xs++;while(--Jn);Ln.strstart=xs,Ln.lookahead=Is-1,zl(Ln)}return Ln.strstart+=Ln.lookahead,Ln.block_start=Ln.strstart,Ln.insert=Ln.lookahead,Ln.lookahead=0,Ln.match_length=Ln.prev_length=Is-1,Ln.match_available=0,Ht.next_in=bo,Ht.input=ao,Ht.avail_in=$n,Ln.wrap=Gn,Ps};var ov=tv,sv=zu,av=Uu,lv=ju,uv=ev,cv=rv,dv=nv,pv=iv,fv="pako deflate (from Nodeca project)",eu={deflateInit:ov,deflateInit2:sv,deflateReset:av,deflateResetKeep:lv,deflateSetHeader:uv,deflate:cv,deflateEnd:dv,deflateSetDictionary:pv,deflateInfo:fv};const hv=(Ht,Tr)=>Object.prototype.hasOwnProperty.call(Ht,Tr);var gv=function(Ht){const Tr=Array.prototype.slice.call(arguments,1);for(;Tr.length;){const rr=Tr.shift();if(rr){if(typeof rr!="object")throw new TypeError(rr+"must be non-object");for(const Ln in rr)hv(rr,Ln)&&(Ht[Ln]=rr[Ln])}}return Ht},vv=Ht=>{let Tr=0;for(let Ln=0,Gn=Ht.length;Ln<Gn;Ln++)Tr+=Ht[Ln].length;const rr=new Uint8Array(Tr);for(let Ln=0,Gn=0,$n=Ht.length;Ln<$n;Ln++){let bo=Ht[Ln];rr.set(bo,Gn),Gn+=bo.length}return rr},fu={assign:gv,flattenChunks:vv};let Ku=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ku=!1}const tu=new Uint8Array(256);for(let Ht=0;Ht<256;Ht++)tu[Ht]=Ht>=252?6:Ht>=248?5:Ht>=240?4:Ht>=224?3:Ht>=192?2:1;tu[254]=tu[254]=1;var mv=Ht=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ht);let Tr,rr,Ln,Gn,$n,bo=Ht.length,ao=0;for(Gn=0;Gn<bo;Gn++)rr=Ht.charCodeAt(Gn),(rr&64512)===55296&&Gn+1<bo&&(Ln=Ht.charCodeAt(Gn+1),(Ln&64512)===56320&&(rr=65536+(rr-55296<<10)+(Ln-56320),Gn++)),ao+=rr<128?1:rr<2048?2:rr<65536?3:4;for(Tr=new Uint8Array(ao),$n=0,Gn=0;$n<ao;Gn++)rr=Ht.charCodeAt(Gn),(rr&64512)===55296&&Gn+1<bo&&(Ln=Ht.charCodeAt(Gn+1),(Ln&64512)===56320&&(rr=65536+(rr-55296<<10)+(Ln-56320),Gn++)),rr<128?Tr[$n++]=rr:rr<2048?(Tr[$n++]=192|rr>>>6,Tr[$n++]=128|rr&63):rr<65536?(Tr[$n++]=224|rr>>>12,Tr[$n++]=128|rr>>>6&63,Tr[$n++]=128|rr&63):(Tr[$n++]=240|rr>>>18,Tr[$n++]=128|rr>>>12&63,Tr[$n++]=128|rr>>>6&63,Tr[$n++]=128|rr&63);return Tr};const yv=(Ht,Tr)=>{if(Tr<65534&&Ht.subarray&&Ku)return String.fromCharCode.apply(null,Ht.length===Tr?Ht:Ht.subarray(0,Tr));let rr="";for(let Ln=0;Ln<Tr;Ln++)rr+=String.fromCharCode(Ht[Ln]);return rr};var _v=(Ht,Tr)=>{const rr=Tr||Ht.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Ht.subarray(0,Tr));let Ln,Gn;const $n=new Array(rr*2);for(Gn=0,Ln=0;Ln<rr;){let bo=Ht[Ln++];if(bo<128){$n[Gn++]=bo;continue}let ao=tu[bo];if(ao>4){$n[Gn++]=65533,Ln+=ao-1;continue}for(bo&=ao===2?31:ao===3?15:7;ao>1&&Ln<rr;)bo=bo<<6|Ht[Ln++]&63,ao--;if(ao>1){$n[Gn++]=65533;continue}bo<65536?$n[Gn++]=bo:(bo-=65536,$n[Gn++]=55296|bo>>10&1023,$n[Gn++]=56320|bo&1023)}return yv($n,Gn)},Cv=(Ht,Tr)=>{Tr=Tr||Ht.length,Tr>Ht.length&&(Tr=Ht.length);let rr=Tr-1;for(;rr>=0&&(Ht[rr]&192)===128;)rr--;return rr<0||rr===0?Tr:rr+tu[Ht[rr]]>Tr?rr:Tr},ru={string2buf:mv,buf2string:_v,utf8border:Cv};function wv(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Yu=wv;const Xu=Object.prototype.toString,{Z_NO_FLUSH:Ev,Z_SYNC_FLUSH:Sv,Z_FULL_FLUSH:xv,Z_FINISH:Rv,Z_OK:hu,Z_STREAM_END:bv,Z_DEFAULT_COMPRESSION:Ov,Z_DEFAULT_STRATEGY:Av,Z_DEFLATED:Tv}=uo;function nu(Ht){this.options=fu.assign({level:Ov,method:Tv,chunkSize:16384,windowBits:15,memLevel:8,strategy:Av},Ht||{});let Tr=this.options;Tr.raw&&Tr.windowBits>0?Tr.windowBits=-Tr.windowBits:Tr.gzip&&Tr.windowBits>0&&Tr.windowBits<16&&(Tr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yu,this.strm.avail_out=0;let rr=eu.deflateInit2(this.strm,Tr.level,Tr.method,Tr.windowBits,Tr.memLevel,Tr.strategy);if(rr!==hu)throw new Error(lo[rr]);if(Tr.header&&eu.deflateSetHeader(this.strm,Tr.header),Tr.dictionary){let Ln;if(typeof Tr.dictionary=="string"?Ln=ru.string2buf(Tr.dictionary):Xu.call(Tr.dictionary)==="[object ArrayBuffer]"?Ln=new Uint8Array(Tr.dictionary):Ln=Tr.dictionary,rr=eu.deflateSetDictionary(this.strm,Ln),rr!==hu)throw new Error(lo[rr]);this._dict_set=!0}}nu.prototype.push=function(Ht,Tr){const rr=this.strm,Ln=this.options.chunkSize;let Gn,$n;if(this.ended)return!1;for(Tr===~~Tr?$n=Tr:$n=Tr===!0?Rv:Ev,typeof Ht=="string"?rr.input=ru.string2buf(Ht):Xu.call(Ht)==="[object ArrayBuffer]"?rr.input=new Uint8Array(Ht):rr.input=Ht,rr.next_in=0,rr.avail_in=rr.input.length;;){if(rr.avail_out===0&&(rr.output=new Uint8Array(Ln),rr.next_out=0,rr.avail_out=Ln),($n===Sv||$n===xv)&&rr.avail_out<=6){this.onData(rr.output.subarray(0,rr.next_out)),rr.avail_out=0;continue}if(Gn=eu.deflate(rr,$n),Gn===bv)return rr.next_out>0&&this.onData(rr.output.subarray(0,rr.next_out)),Gn=eu.deflateEnd(this.strm),this.onEnd(Gn),this.ended=!0,Gn===hu;if(rr.avail_out===0){this.onData(rr.output);continue}if($n>0&&rr.next_out>0){this.onData(rr.output.subarray(0,rr.next_out)),rr.avail_out=0;continue}if(rr.avail_in===0)break}return!0},nu.prototype.onData=function(Ht){this.chunks.push(Ht)},nu.prototype.onEnd=function(Ht){Ht===hu&&(this.result=fu.flattenChunks(this.chunks)),this.chunks=[],this.err=Ht,this.msg=this.strm.msg};function Du(Ht,Tr){const rr=new nu(Tr);if(rr.push(Ht,!0),rr.err)throw rr.msg||lo[rr.err];return rr.result}function Pv(Ht,Tr){return Tr=Tr||{},Tr.raw=!0,Du(Ht,Tr)}function Dv(Ht,Tr){return Tr=Tr||{},Tr.gzip=!0,Du(Ht,Tr)}var Mv=nu,Lv=Du,Iv=Pv,Fv=Dv,Nv=uo,$v={Deflate:Mv,deflate:Lv,deflateRaw:Iv,gzip:Fv,constants:Nv};const gu=16209,Gv=16191;var Bv=function(Tr,rr){let Ln,Gn,$n,bo,ao,xs,Jn,es,Bs,Ss,_s,bs,Xs,Ns,Ms,Hs,Ls,Es,ks,Qs,Os,Us,$s,Ts;const Fs=Tr.state;Ln=Tr.next_in,$s=Tr.input,Gn=Ln+(Tr.avail_in-5),$n=Tr.next_out,Ts=Tr.output,bo=$n-(rr-Tr.avail_out),ao=$n+(Tr.avail_out-257),xs=Fs.dmax,Jn=Fs.wsize,es=Fs.whave,Bs=Fs.wnext,Ss=Fs.window,_s=Fs.hold,bs=Fs.bits,Xs=Fs.lencode,Ns=Fs.distcode,Ms=(1<<Fs.lenbits)-1,Hs=(1<<Fs.distbits)-1;e:do{bs<15&&(_s+=$s[Ln++]<<bs,bs+=8,_s+=$s[Ln++]<<bs,bs+=8),Ls=Xs[_s&Ms];t:for(;;){if(Es=Ls>>>24,_s>>>=Es,bs-=Es,Es=Ls>>>16&255,Es===0)Ts[$n++]=Ls&65535;else if(Es&16){ks=Ls&65535,Es&=15,Es&&(bs<Es&&(_s+=$s[Ln++]<<bs,bs+=8),ks+=_s&(1<<Es)-1,_s>>>=Es,bs-=Es),bs<15&&(_s+=$s[Ln++]<<bs,bs+=8,_s+=$s[Ln++]<<bs,bs+=8),Ls=Ns[_s&Hs];r:for(;;){if(Es=Ls>>>24,_s>>>=Es,bs-=Es,Es=Ls>>>16&255,Es&16){if(Qs=Ls&65535,Es&=15,bs<Es&&(_s+=$s[Ln++]<<bs,bs+=8,bs<Es&&(_s+=$s[Ln++]<<bs,bs+=8)),Qs+=_s&(1<<Es)-1,Qs>xs){Tr.msg="invalid distance too far back",Fs.mode=gu;break e}if(_s>>>=Es,bs-=Es,Es=$n-bo,Qs>Es){if(Es=Qs-Es,Es>es&&Fs.sane){Tr.msg="invalid distance too far back",Fs.mode=gu;break e}if(Os=0,Us=Ss,Bs===0){if(Os+=Jn-Es,Es<ks){ks-=Es;do Ts[$n++]=Ss[Os++];while(--Es);Os=$n-Qs,Us=Ts}}else if(Bs<Es){if(Os+=Jn+Bs-Es,Es-=Bs,Es<ks){ks-=Es;do Ts[$n++]=Ss[Os++];while(--Es);if(Os=0,Bs<ks){Es=Bs,ks-=Es;do Ts[$n++]=Ss[Os++];while(--Es);Os=$n-Qs,Us=Ts}}}else if(Os+=Bs-Es,Es<ks){ks-=Es;do Ts[$n++]=Ss[Os++];while(--Es);Os=$n-Qs,Us=Ts}for(;ks>2;)Ts[$n++]=Us[Os++],Ts[$n++]=Us[Os++],Ts[$n++]=Us[Os++],ks-=3;ks&&(Ts[$n++]=Us[Os++],ks>1&&(Ts[$n++]=Us[Os++]))}else{Os=$n-Qs;do Ts[$n++]=Ts[Os++],Ts[$n++]=Ts[Os++],Ts[$n++]=Ts[Os++],ks-=3;while(ks>2);ks&&(Ts[$n++]=Ts[Os++],ks>1&&(Ts[$n++]=Ts[Os++]))}}else if(Es&64){Tr.msg="invalid distance code",Fs.mode=gu;break e}else{Ls=Ns[(Ls&65535)+(_s&(1<<Es)-1)];continue r}break}}else if(Es&64)if(Es&32){Fs.mode=Gv;break e}else{Tr.msg="invalid literal/length code",Fs.mode=gu;break e}else{Ls=Xs[(Ls&65535)+(_s&(1<<Es)-1)];continue t}break}}while(Ln<Gn&&$n<ao);ks=bs>>3,Ln-=ks,bs-=ks<<3,_s&=(1<<bs)-1,Tr.next_in=Ln,Tr.next_out=$n,Tr.avail_in=Ln<Gn?5+(Gn-Ln):5-(Ln-Gn),Tr.avail_out=$n<ao?257+(ao-$n):257-($n-ao),Fs.hold=_s,Fs.bits=bs};const Yl=15,Zu=852,Qu=592,Ju=0,Mu=1,qu=2,Wv=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kv=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Hv=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vv=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var iu=(Ht,Tr,rr,Ln,Gn,$n,bo,ao)=>{const xs=ao.bits;let Jn=0,es=0,Bs=0,Ss=0,_s=0,bs=0,Xs=0,Ns=0,Ms=0,Hs=0,Ls,Es,ks,Qs,Os,Us=null,$s;const Ts=new Uint16Array(Yl+1),Fs=new Uint16Array(Yl+1);let Wl=null,Up,wu,Eu;for(Jn=0;Jn<=Yl;Jn++)Ts[Jn]=0;for(es=0;es<Ln;es++)Ts[Tr[rr+es]]++;for(_s=xs,Ss=Yl;Ss>=1&&Ts[Ss]===0;Ss--);if(_s>Ss&&(_s=Ss),Ss===0)return Gn[$n++]=1<<24|64<<16|0,Gn[$n++]=1<<24|64<<16|0,ao.bits=1,0;for(Bs=1;Bs<Ss&&Ts[Bs]===0;Bs++);for(_s<Bs&&(_s=Bs),Ns=1,Jn=1;Jn<=Yl;Jn++)if(Ns<<=1,Ns-=Ts[Jn],Ns<0)return-1;if(Ns>0&&(Ht===Ju||Ss!==1))return-1;for(Fs[1]=0,Jn=1;Jn<Yl;Jn++)Fs[Jn+1]=Fs[Jn]+Ts[Jn];for(es=0;es<Ln;es++)Tr[rr+es]!==0&&(bo[Fs[Tr[rr+es]]++]=es);if(Ht===Ju?(Us=Wl=bo,$s=20):Ht===Mu?(Us=Wv,Wl=kv,$s=257):(Us=Hv,Wl=Vv,$s=0),Hs=0,es=0,Jn=Bs,Os=$n,bs=_s,Xs=0,ks=-1,Ms=1<<_s,Qs=Ms-1,Ht===Mu&&Ms>Zu||Ht===qu&&Ms>Qu)return 1;for(;;){Up=Jn-Xs,bo[es]+1<$s?(wu=0,Eu=bo[es]):bo[es]>=$s?(wu=Wl[bo[es]-$s],Eu=Us[bo[es]-$s]):(wu=96,Eu=0),Ls=1<<Jn-Xs,Es=1<<bs,Bs=Es;do Es-=Ls,Gn[Os+(Hs>>Xs)+Es]=Up<<24|wu<<16|Eu|0;while(Es!==0);for(Ls=1<<Jn-1;Hs&Ls;)Ls>>=1;if(Ls!==0?(Hs&=Ls-1,Hs+=Ls):Hs=0,es++,--Ts[Jn]===0){if(Jn===Ss)break;Jn=Tr[rr+bo[es]]}if(Jn>_s&&(Hs&Qs)!==ks){for(Xs===0&&(Xs=_s),Os+=Bs,bs=Jn-Xs,Ns=1<<bs;bs+Xs<Ss&&(Ns-=Ts[bs+Xs],!(Ns<=0));)bs++,Ns<<=1;if(Ms+=1<<bs,Ht===Mu&&Ms>Zu||Ht===qu&&Ms>Qu)return 1;ks=Hs&Qs,Gn[ks]=_s<<24|bs<<16|Os-$n|0}}return Hs!==0&&(Gn[Os+Hs]=Jn-Xs<<24|64<<16|0),ao.bits=_s,0};const jv=0,_c=1,_d=2,{Z_FINISH:ep,Z_BLOCK:Uv,Z_TREES:vu,Z_OK:Gl,Z_STREAM_END:zv,Z_NEED_DICT:Kv,Z_STREAM_ERROR:El,Z_DATA_ERROR:tp,Z_MEM_ERROR:rp,Z_BUF_ERROR:Yv,Z_DEFLATED:np}=uo,mu=16180,ip=16181,op=16182,sp=16183,ap=16184,lp=16185,up=16186,cp=16187,dp=16188,pp=16189,yu=16190,Al=16191,Lu=16192,fp=16193,Iu=16194,hp=16195,gp=16196,vp=16197,mp=16198,_u=16199,Cu=16200,yp=16201,_p=16202,Cp=16203,wp=16204,Ep=16205,Fu=16206,Sp=16207,xp=16208,Ys=16209,Rp=16210,bp=16211,Xv=852,Zv=592,Qv=15,Op=Ht=>(Ht>>>24&255)+(Ht>>>8&65280)+((Ht&65280)<<8)+((Ht&255)<<24);function Jv(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bl=Ht=>{if(!Ht)return 1;const Tr=Ht.state;return!Tr||Tr.strm!==Ht||Tr.mode<mu||Tr.mode>bp?1:0},Ap=Ht=>{if(Bl(Ht))return El;const Tr=Ht.state;return Ht.total_in=Ht.total_out=Tr.total=0,Ht.msg="",Tr.wrap&&(Ht.adler=Tr.wrap&1),Tr.mode=mu,Tr.last=0,Tr.havedict=0,Tr.flags=-1,Tr.dmax=32768,Tr.head=null,Tr.hold=0,Tr.bits=0,Tr.lencode=Tr.lendyn=new Int32Array(Xv),Tr.distcode=Tr.distdyn=new Int32Array(Zv),Tr.sane=1,Tr.back=-1,Gl},Tp=Ht=>{if(Bl(Ht))return El;const Tr=Ht.state;return Tr.wsize=0,Tr.whave=0,Tr.wnext=0,Ap(Ht)},Pp=(Ht,Tr)=>{let rr;if(Bl(Ht))return El;const Ln=Ht.state;return Tr<0?(rr=0,Tr=-Tr):(rr=(Tr>>4)+5,Tr<48&&(Tr&=15)),Tr&&(Tr<8||Tr>15)?El:(Ln.window!==null&&Ln.wbits!==Tr&&(Ln.window=null),Ln.wrap=rr,Ln.wbits=Tr,Tp(Ht))},Dp=(Ht,Tr)=>{if(!Ht)return El;const rr=new Jv;Ht.state=rr,rr.strm=Ht,rr.window=null,rr.mode=mu;const Ln=Pp(Ht,Tr);return Ln!==Gl&&(Ht.state=null),Ln},qv=Ht=>Dp(Ht,Qv);let Mp=!0,Nu,$u;const em=Ht=>{if(Mp){Nu=new Int32Array(512),$u=new Int32Array(32);let Tr=0;for(;Tr<144;)Ht.lens[Tr++]=8;for(;Tr<256;)Ht.lens[Tr++]=9;for(;Tr<280;)Ht.lens[Tr++]=7;for(;Tr<288;)Ht.lens[Tr++]=8;for(iu(_c,Ht.lens,0,288,Nu,0,Ht.work,{bits:9}),Tr=0;Tr<32;)Ht.lens[Tr++]=5;iu(_d,Ht.lens,0,32,$u,0,Ht.work,{bits:5}),Mp=!1}Ht.lencode=Nu,Ht.lenbits=9,Ht.distcode=$u,Ht.distbits=5},Lp=(Ht,Tr,rr,Ln)=>{let Gn;const $n=Ht.state;return $n.window===null&&($n.wsize=1<<$n.wbits,$n.wnext=0,$n.whave=0,$n.window=new Uint8Array($n.wsize)),Ln>=$n.wsize?($n.window.set(Tr.subarray(rr-$n.wsize,rr),0),$n.wnext=0,$n.whave=$n.wsize):(Gn=$n.wsize-$n.wnext,Gn>Ln&&(Gn=Ln),$n.window.set(Tr.subarray(rr-Ln,rr-Ln+Gn),$n.wnext),Ln-=Gn,Ln?($n.window.set(Tr.subarray(rr-Ln,rr),0),$n.wnext=Ln,$n.whave=$n.wsize):($n.wnext+=Gn,$n.wnext===$n.wsize&&($n.wnext=0),$n.whave<$n.wsize&&($n.whave+=Gn))),0},tm=(Ht,Tr)=>{let rr,Ln,Gn,$n,bo,ao,xs,Jn,es,Bs,Ss,_s,bs,Xs,Ns=0,Ms,Hs,Ls,Es,ks,Qs,Os,Us;const $s=new Uint8Array(4);let Ts,Fs;const Wl=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bl(Ht)||!Ht.output||!Ht.input&&Ht.avail_in!==0)return El;rr=Ht.state,rr.mode===Al&&(rr.mode=Lu),bo=Ht.next_out,Gn=Ht.output,xs=Ht.avail_out,$n=Ht.next_in,Ln=Ht.input,ao=Ht.avail_in,Jn=rr.hold,es=rr.bits,Bs=ao,Ss=xs,Us=Gl;e:for(;;)switch(rr.mode){case mu:if(rr.wrap===0){rr.mode=Lu;break}for(;es<16;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(rr.wrap&2&&Jn===35615){rr.wbits===0&&(rr.wbits=15),rr.check=0,$s[0]=Jn&255,$s[1]=Jn>>>8&255,rr.check=yr(rr.check,$s,2,0),Jn=0,es=0,rr.mode=ip;break}if(rr.head&&(rr.head.done=!1),!(rr.wrap&1)||(((Jn&255)<<8)+(Jn>>8))%31){Ht.msg="incorrect header check",rr.mode=Ys;break}if((Jn&15)!==np){Ht.msg="unknown compression method",rr.mode=Ys;break}if(Jn>>>=4,es-=4,Os=(Jn&15)+8,rr.wbits===0&&(rr.wbits=Os),Os>15||Os>rr.wbits){Ht.msg="invalid window size",rr.mode=Ys;break}rr.dmax=1<<rr.wbits,rr.flags=0,Ht.adler=rr.check=1,rr.mode=Jn&512?pp:Al,Jn=0,es=0;break;case ip:for(;es<16;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(rr.flags=Jn,(rr.flags&255)!==np){Ht.msg="unknown compression method",rr.mode=Ys;break}if(rr.flags&57344){Ht.msg="unknown header flags set",rr.mode=Ys;break}rr.head&&(rr.head.text=Jn>>8&1),rr.flags&512&&rr.wrap&4&&($s[0]=Jn&255,$s[1]=Jn>>>8&255,rr.check=yr(rr.check,$s,2,0)),Jn=0,es=0,rr.mode=op;case op:for(;es<32;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}rr.head&&(rr.head.time=Jn),rr.flags&512&&rr.wrap&4&&($s[0]=Jn&255,$s[1]=Jn>>>8&255,$s[2]=Jn>>>16&255,$s[3]=Jn>>>24&255,rr.check=yr(rr.check,$s,4,0)),Jn=0,es=0,rr.mode=sp;case sp:for(;es<16;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}rr.head&&(rr.head.xflags=Jn&255,rr.head.os=Jn>>8),rr.flags&512&&rr.wrap&4&&($s[0]=Jn&255,$s[1]=Jn>>>8&255,rr.check=yr(rr.check,$s,2,0)),Jn=0,es=0,rr.mode=ap;case ap:if(rr.flags&1024){for(;es<16;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}rr.length=Jn,rr.head&&(rr.head.extra_len=Jn),rr.flags&512&&rr.wrap&4&&($s[0]=Jn&255,$s[1]=Jn>>>8&255,rr.check=yr(rr.check,$s,2,0)),Jn=0,es=0}else rr.head&&(rr.head.extra=null);rr.mode=lp;case lp:if(rr.flags&1024&&(_s=rr.length,_s>ao&&(_s=ao),_s&&(rr.head&&(Os=rr.head.extra_len-rr.length,rr.head.extra||(rr.head.extra=new Uint8Array(rr.head.extra_len)),rr.head.extra.set(Ln.subarray($n,$n+_s),Os)),rr.flags&512&&rr.wrap&4&&(rr.check=yr(rr.check,Ln,_s,$n)),ao-=_s,$n+=_s,rr.length-=_s),rr.length))break e;rr.length=0,rr.mode=up;case up:if(rr.flags&2048){if(ao===0)break e;_s=0;do Os=Ln[$n+_s++],rr.head&&Os&&rr.length<65536&&(rr.head.name+=String.fromCharCode(Os));while(Os&&_s<ao);if(rr.flags&512&&rr.wrap&4&&(rr.check=yr(rr.check,Ln,_s,$n)),ao-=_s,$n+=_s,Os)break e}else rr.head&&(rr.head.name=null);rr.length=0,rr.mode=cp;case cp:if(rr.flags&4096){if(ao===0)break e;_s=0;do Os=Ln[$n+_s++],rr.head&&Os&&rr.length<65536&&(rr.head.comment+=String.fromCharCode(Os));while(Os&&_s<ao);if(rr.flags&512&&rr.wrap&4&&(rr.check=yr(rr.check,Ln,_s,$n)),ao-=_s,$n+=_s,Os)break e}else rr.head&&(rr.head.comment=null);rr.mode=dp;case dp:if(rr.flags&512){for(;es<16;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(rr.wrap&4&&Jn!==(rr.check&65535)){Ht.msg="header crc mismatch",rr.mode=Ys;break}Jn=0,es=0}rr.head&&(rr.head.hcrc=rr.flags>>9&1,rr.head.done=!0),Ht.adler=rr.check=0,rr.mode=Al;break;case pp:for(;es<32;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}Ht.adler=rr.check=Op(Jn),Jn=0,es=0,rr.mode=yu;case yu:if(rr.havedict===0)return Ht.next_out=bo,Ht.avail_out=xs,Ht.next_in=$n,Ht.avail_in=ao,rr.hold=Jn,rr.bits=es,Kv;Ht.adler=rr.check=1,rr.mode=Al;case Al:if(Tr===Uv||Tr===vu)break e;case Lu:if(rr.last){Jn>>>=es&7,es-=es&7,rr.mode=Fu;break}for(;es<3;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}switch(rr.last=Jn&1,Jn>>>=1,es-=1,Jn&3){case 0:rr.mode=fp;break;case 1:if(em(rr),rr.mode=_u,Tr===vu){Jn>>>=2,es-=2;break e}break;case 2:rr.mode=gp;break;case 3:Ht.msg="invalid block type",rr.mode=Ys}Jn>>>=2,es-=2;break;case fp:for(Jn>>>=es&7,es-=es&7;es<32;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if((Jn&65535)!==(Jn>>>16^65535)){Ht.msg="invalid stored block lengths",rr.mode=Ys;break}if(rr.length=Jn&65535,Jn=0,es=0,rr.mode=Iu,Tr===vu)break e;case Iu:rr.mode=hp;case hp:if(_s=rr.length,_s){if(_s>ao&&(_s=ao),_s>xs&&(_s=xs),_s===0)break e;Gn.set(Ln.subarray($n,$n+_s),bo),ao-=_s,$n+=_s,xs-=_s,bo+=_s,rr.length-=_s;break}rr.mode=Al;break;case gp:for(;es<14;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(rr.nlen=(Jn&31)+257,Jn>>>=5,es-=5,rr.ndist=(Jn&31)+1,Jn>>>=5,es-=5,rr.ncode=(Jn&15)+4,Jn>>>=4,es-=4,rr.nlen>286||rr.ndist>30){Ht.msg="too many length or distance symbols",rr.mode=Ys;break}rr.have=0,rr.mode=vp;case vp:for(;rr.have<rr.ncode;){for(;es<3;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}rr.lens[Wl[rr.have++]]=Jn&7,Jn>>>=3,es-=3}for(;rr.have<19;)rr.lens[Wl[rr.have++]]=0;if(rr.lencode=rr.lendyn,rr.lenbits=7,Ts={bits:rr.lenbits},Us=iu(jv,rr.lens,0,19,rr.lencode,0,rr.work,Ts),rr.lenbits=Ts.bits,Us){Ht.msg="invalid code lengths set",rr.mode=Ys;break}rr.have=0,rr.mode=mp;case mp:for(;rr.have<rr.nlen+rr.ndist;){for(;Ns=rr.lencode[Jn&(1<<rr.lenbits)-1],Ms=Ns>>>24,Hs=Ns>>>16&255,Ls=Ns&65535,!(Ms<=es);){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(Ls<16)Jn>>>=Ms,es-=Ms,rr.lens[rr.have++]=Ls;else{if(Ls===16){for(Fs=Ms+2;es<Fs;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(Jn>>>=Ms,es-=Ms,rr.have===0){Ht.msg="invalid bit length repeat",rr.mode=Ys;break}Os=rr.lens[rr.have-1],_s=3+(Jn&3),Jn>>>=2,es-=2}else if(Ls===17){for(Fs=Ms+3;es<Fs;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}Jn>>>=Ms,es-=Ms,Os=0,_s=3+(Jn&7),Jn>>>=3,es-=3}else{for(Fs=Ms+7;es<Fs;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}Jn>>>=Ms,es-=Ms,Os=0,_s=11+(Jn&127),Jn>>>=7,es-=7}if(rr.have+_s>rr.nlen+rr.ndist){Ht.msg="invalid bit length repeat",rr.mode=Ys;break}for(;_s--;)rr.lens[rr.have++]=Os}}if(rr.mode===Ys)break;if(rr.lens[256]===0){Ht.msg="invalid code -- missing end-of-block",rr.mode=Ys;break}if(rr.lenbits=9,Ts={bits:rr.lenbits},Us=iu(_c,rr.lens,0,rr.nlen,rr.lencode,0,rr.work,Ts),rr.lenbits=Ts.bits,Us){Ht.msg="invalid literal/lengths set",rr.mode=Ys;break}if(rr.distbits=6,rr.distcode=rr.distdyn,Ts={bits:rr.distbits},Us=iu(_d,rr.lens,rr.nlen,rr.ndist,rr.distcode,0,rr.work,Ts),rr.distbits=Ts.bits,Us){Ht.msg="invalid distances set",rr.mode=Ys;break}if(rr.mode=_u,Tr===vu)break e;case _u:rr.mode=Cu;case Cu:if(ao>=6&&xs>=258){Ht.next_out=bo,Ht.avail_out=xs,Ht.next_in=$n,Ht.avail_in=ao,rr.hold=Jn,rr.bits=es,Bv(Ht,Ss),bo=Ht.next_out,Gn=Ht.output,xs=Ht.avail_out,$n=Ht.next_in,Ln=Ht.input,ao=Ht.avail_in,Jn=rr.hold,es=rr.bits,rr.mode===Al&&(rr.back=-1);break}for(rr.back=0;Ns=rr.lencode[Jn&(1<<rr.lenbits)-1],Ms=Ns>>>24,Hs=Ns>>>16&255,Ls=Ns&65535,!(Ms<=es);){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(Hs&&!(Hs&240)){for(Es=Ms,ks=Hs,Qs=Ls;Ns=rr.lencode[Qs+((Jn&(1<<Es+ks)-1)>>Es)],Ms=Ns>>>24,Hs=Ns>>>16&255,Ls=Ns&65535,!(Es+Ms<=es);){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}Jn>>>=Es,es-=Es,rr.back+=Es}if(Jn>>>=Ms,es-=Ms,rr.back+=Ms,rr.length=Ls,Hs===0){rr.mode=Ep;break}if(Hs&32){rr.back=-1,rr.mode=Al;break}if(Hs&64){Ht.msg="invalid literal/length code",rr.mode=Ys;break}rr.extra=Hs&15,rr.mode=yp;case yp:if(rr.extra){for(Fs=rr.extra;es<Fs;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}rr.length+=Jn&(1<<rr.extra)-1,Jn>>>=rr.extra,es-=rr.extra,rr.back+=rr.extra}rr.was=rr.length,rr.mode=_p;case _p:for(;Ns=rr.distcode[Jn&(1<<rr.distbits)-1],Ms=Ns>>>24,Hs=Ns>>>16&255,Ls=Ns&65535,!(Ms<=es);){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(!(Hs&240)){for(Es=Ms,ks=Hs,Qs=Ls;Ns=rr.distcode[Qs+((Jn&(1<<Es+ks)-1)>>Es)],Ms=Ns>>>24,Hs=Ns>>>16&255,Ls=Ns&65535,!(Es+Ms<=es);){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}Jn>>>=Es,es-=Es,rr.back+=Es}if(Jn>>>=Ms,es-=Ms,rr.back+=Ms,Hs&64){Ht.msg="invalid distance code",rr.mode=Ys;break}rr.offset=Ls,rr.extra=Hs&15,rr.mode=Cp;case Cp:if(rr.extra){for(Fs=rr.extra;es<Fs;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}rr.offset+=Jn&(1<<rr.extra)-1,Jn>>>=rr.extra,es-=rr.extra,rr.back+=rr.extra}if(rr.offset>rr.dmax){Ht.msg="invalid distance too far back",rr.mode=Ys;break}rr.mode=wp;case wp:if(xs===0)break e;if(_s=Ss-xs,rr.offset>_s){if(_s=rr.offset-_s,_s>rr.whave&&rr.sane){Ht.msg="invalid distance too far back",rr.mode=Ys;break}_s>rr.wnext?(_s-=rr.wnext,bs=rr.wsize-_s):bs=rr.wnext-_s,_s>rr.length&&(_s=rr.length),Xs=rr.window}else Xs=Gn,bs=bo-rr.offset,_s=rr.length;_s>xs&&(_s=xs),xs-=_s,rr.length-=_s;do Gn[bo++]=Xs[bs++];while(--_s);rr.length===0&&(rr.mode=Cu);break;case Ep:if(xs===0)break e;Gn[bo++]=rr.length,xs--,rr.mode=Cu;break;case Fu:if(rr.wrap){for(;es<32;){if(ao===0)break e;ao--,Jn|=Ln[$n++]<<es,es+=8}if(Ss-=xs,Ht.total_out+=Ss,rr.total+=Ss,rr.wrap&4&&Ss&&(Ht.adler=rr.check=rr.flags?yr(rr.check,Gn,Ss,bo-Ss):ts(rr.check,Gn,Ss,bo-Ss)),Ss=xs,rr.wrap&4&&(rr.flags?Jn:Op(Jn))!==rr.check){Ht.msg="incorrect data check",rr.mode=Ys;break}Jn=0,es=0}rr.mode=Sp;case Sp:if(rr.wrap&&rr.flags){for(;es<32;){if(ao===0)break e;ao--,Jn+=Ln[$n++]<<es,es+=8}if(rr.wrap&4&&Jn!==(rr.total&4294967295)){Ht.msg="incorrect length check",rr.mode=Ys;break}Jn=0,es=0}rr.mode=xp;case xp:Us=zv;break e;case Ys:Us=tp;break e;case Rp:return rp;case bp:default:return El}return Ht.next_out=bo,Ht.avail_out=xs,Ht.next_in=$n,Ht.avail_in=ao,rr.hold=Jn,rr.bits=es,(rr.wsize||Ss!==Ht.avail_out&&rr.mode<Ys&&(rr.mode<Fu||Tr!==ep))&&Lp(Ht,Ht.output,Ht.next_out,Ss-Ht.avail_out),Bs-=Ht.avail_in,Ss-=Ht.avail_out,Ht.total_in+=Bs,Ht.total_out+=Ss,rr.total+=Ss,rr.wrap&4&&Ss&&(Ht.adler=rr.check=rr.flags?yr(rr.check,Gn,Ss,Ht.next_out-Ss):ts(rr.check,Gn,Ss,Ht.next_out-Ss)),Ht.data_type=rr.bits+(rr.last?64:0)+(rr.mode===Al?128:0)+(rr.mode===_u||rr.mode===Iu?256:0),(Bs===0&&Ss===0||Tr===ep)&&Us===Gl&&(Us=Yv),Us},rm=Ht=>{if(Bl(Ht))return El;let Tr=Ht.state;return Tr.window&&(Tr.window=null),Ht.state=null,Gl},nm=(Ht,Tr)=>{if(Bl(Ht))return El;const rr=Ht.state;return rr.wrap&2?(rr.head=Tr,Tr.done=!1,Gl):El},im=(Ht,Tr)=>{const rr=Tr.length;let Ln,Gn,$n;return Bl(Ht)||(Ln=Ht.state,Ln.wrap!==0&&Ln.mode!==yu)?El:Ln.mode===yu&&(Gn=1,Gn=ts(Gn,Tr,rr,0),Gn!==Ln.check)?tp:($n=Lp(Ht,Tr,rr,rr),$n?(Ln.mode=Rp,rp):(Ln.havedict=1,Gl))};var om=Tp,sm=Pp,am=Ap,lm=qv,um=Dp,cm=tm,dm=rm,pm=nm,fm=im,hm="pako inflate (from Nodeca project)",Tl={inflateReset:om,inflateReset2:sm,inflateResetKeep:am,inflateInit:lm,inflateInit2:um,inflate:cm,inflateEnd:dm,inflateGetHeader:pm,inflateSetDictionary:fm,inflateInfo:hm};function gm(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vm=gm;const Ip=Object.prototype.toString,{Z_NO_FLUSH:mm,Z_FINISH:ym,Z_OK:ou,Z_STREAM_END:Gu,Z_NEED_DICT:Bu,Z_STREAM_ERROR:_m,Z_DATA_ERROR:Fp,Z_MEM_ERROR:Cm}=uo;function su(Ht){this.options=fu.assign({chunkSize:65536,windowBits:15,to:""},Ht||{});const Tr=this.options;Tr.raw&&Tr.windowBits>=0&&Tr.windowBits<16&&(Tr.windowBits=-Tr.windowBits,Tr.windowBits===0&&(Tr.windowBits=-15)),Tr.windowBits>=0&&Tr.windowBits<16&&!(Ht&&Ht.windowBits)&&(Tr.windowBits+=32),Tr.windowBits>15&&Tr.windowBits<48&&(Tr.windowBits&15||(Tr.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yu,this.strm.avail_out=0;let rr=Tl.inflateInit2(this.strm,Tr.windowBits);if(rr!==ou)throw new Error(lo[rr]);if(this.header=new vm,Tl.inflateGetHeader(this.strm,this.header),Tr.dictionary&&(typeof Tr.dictionary=="string"?Tr.dictionary=ru.string2buf(Tr.dictionary):Ip.call(Tr.dictionary)==="[object ArrayBuffer]"&&(Tr.dictionary=new Uint8Array(Tr.dictionary)),Tr.raw&&(rr=Tl.inflateSetDictionary(this.strm,Tr.dictionary),rr!==ou)))throw new Error(lo[rr])}su.prototype.push=function(Ht,Tr){const rr=this.strm,Ln=this.options.chunkSize,Gn=this.options.dictionary;let $n,bo,ao;if(this.ended)return!1;for(Tr===~~Tr?bo=Tr:bo=Tr===!0?ym:mm,Ip.call(Ht)==="[object ArrayBuffer]"?rr.input=new Uint8Array(Ht):rr.input=Ht,rr.next_in=0,rr.avail_in=rr.input.length;;){for(rr.avail_out===0&&(rr.output=new Uint8Array(Ln),rr.next_out=0,rr.avail_out=Ln),$n=Tl.inflate(rr,bo),$n===Bu&&Gn&&($n=Tl.inflateSetDictionary(rr,Gn),$n===ou?$n=Tl.inflate(rr,bo):$n===Fp&&($n=Bu));rr.avail_in>0&&$n===Gu&&rr.state.wrap>0&&Ht[rr.next_in]!==0;)Tl.inflateReset(rr),$n=Tl.inflate(rr,bo);switch($n){case _m:case Fp:case Bu:case Cm:return this.onEnd($n),this.ended=!0,!1}if(ao=rr.avail_out,rr.next_out&&(rr.avail_out===0||$n===Gu))if(this.options.to==="string"){let xs=ru.utf8border(rr.output,rr.next_out),Jn=rr.next_out-xs,es=ru.buf2string(rr.output,xs);rr.next_out=Jn,rr.avail_out=Ln-Jn,Jn&&rr.output.set(rr.output.subarray(xs,xs+Jn),0),this.onData(es)}else this.onData(rr.output.length===rr.next_out?rr.output:rr.output.subarray(0,rr.next_out));if(!($n===ou&&ao===0)){if($n===Gu)return $n=Tl.inflateEnd(this.strm),this.onEnd($n),this.ended=!0,!0;if(rr.avail_in===0)break}}return!0},su.prototype.onData=function(Ht){this.chunks.push(Ht)},su.prototype.onEnd=function(Ht){Ht===ou&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fu.flattenChunks(this.chunks)),this.chunks=[],this.err=Ht,this.msg=this.strm.msg};function Wu(Ht,Tr){const rr=new su(Tr);if(rr.push(Ht),rr.err)throw rr.msg||lo[rr.err];return rr.result}function wm(Ht,Tr){return Tr=Tr||{},Tr.raw=!0,Wu(Ht,Tr)}var Em=su,Sm=Wu,xm=wm,Rm=Wu,bm=uo,Om={Inflate:Em,inflate:Sm,inflateRaw:xm,ungzip:Rm,constants:bm};const{Deflate:Am,deflate:Tm,deflateRaw:Pm,gzip:Dm}=$v,{Inflate:Mm,inflate:Lm,inflateRaw:Im,ungzip:Fm}=Om;var Np=Am,$p=Tm,Gp=Pm,Bp=Dm,Wp=Mm,kp=Lm,Hp=Im,Vp=Fm,jp=uo,Nm={Deflate:Np,deflate:$p,deflateRaw:Gp,gzip:Bp,Inflate:Wp,inflate:kp,inflateRaw:Hp,ungzip:Vp,constants:jp}}},__webpack_module_cache__={};function __webpack_require__(a){var o=__webpack_module_cache__[a];if(o!==void 0)return o.exports;var e=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.n=a=>{var o=a&&a.__esModule?()=>a.default:()=>a;return __webpack_require__.d(o,{a:o}),o},__webpack_require__.d=(a,o)=>{for(var e in o)__webpack_require__.o(o,e)&&!__webpack_require__.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:o[e]})},__webpack_require__.o=(a,o)=>Object.prototype.hasOwnProperty.call(a,o),__webpack_require__.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())})(_3Dmol);var _3DmolExports=_3Dmol.exports,bondLengths={};Object.defineProperty(bondLengths,"__esModule",{value:!0});bondLengths.covalentRadii=void 0;var covalentRadii={H:.31,He:.28,Li:1.28,Be:.96,B:.84,C:.76,N:.71,O:.66,F:.57,Ne:.58,Na:1.66,Mg:1.41,Al:1.21,Si:1.11,P:1.07,S:1.05,Cl:1.02,Ar:1.06,K:2.03,Ca:1.76,Sc:1.7,Ti:1.6,V:1.53,Cr:1.39,Mn:1.61,Fe:1.52,Co:1.5,Ni:1.24,Cu:1.32,Zn:1.22,Ga:1.22,Ge:1.2,As:1.19,Se:1.2,Br:1.2,Kr:1.16,Rb:2.2,Sr:1.95,Y:1.9,Zr:1.75,Nb:1.64,Mo:1.54,Tc:1.47,Ru:1.46,Rh:1.42,Pd:1.39,Ag:1.45,Cd:1.44,In:1.42,Sn:1.39,Sb:1.39,Te:1.38,I:1.39,Xe:1.4,Cs:2.44,Ba:2.15,La:2.07,Ce:2.04,Pr:2.03,Nd:2.01,Pm:1.99,Sm:1.98,Eu:1.98,Gd:1.96,Tb:1.94,Dy:1.92,Ho:1.92,Er:1.89,Tm:1.9,Yb:1.87,Lu:1.75,Hf:1.87,Ta:1.7,W:1.62,Re:1.51,Os:1.44,Ir:1.41,Pt:1.36,Au:1.36,Hg:1.32,Tl:1.45,Pb:1.46,Bi:1.48,Po:1.4,At:1.5,Rn:1.5,Fr:2.6,Ra:2.21,Ac:2.15,Th:2.06,Pa:2,U:1.96,Np:1.9,Pu:1.87,Am:1.8,Cm:1.69};bondLengths.covalentRadii=covalentRadii;(function(a){function o(It){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(jt){return typeof jt}:function(jt){return jt&&typeof Symbol=="function"&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt},o(It)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=$(reactExports),c=b(_3DmolExports),h=bondLengths;function g(It){if(typeof WeakMap!="function")return null;var jt=new WeakMap,tr=new WeakMap;return(g=function(vr){return vr?tr:jt})(It)}function b(It,jt){if(!jt&&It&&It.__esModule)return It;if(It===null||o(It)!=="object"&&typeof It!="function")return{default:It};var tr=g(jt);if(tr&&tr.has(It))return tr.get(It);var gr={},vr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var hr in It)if(hr!=="default"&&Object.prototype.hasOwnProperty.call(It,hr)){var mr=vr?Object.getOwnPropertyDescriptor(It,hr):null;mr&&(mr.get||mr.set)?Object.defineProperty(gr,hr,mr):gr[hr]=It[hr]}return gr.default=It,tr&&tr.set(It,gr),gr}function $(It){return It&&It.__esModule?It:{default:It}}function j(It,jt){if(!(It instanceof jt))throw new TypeError("Cannot call a class as a function")}function rt(It,jt){for(var tr=0;tr<jt.length;tr++){var gr=jt[tr];gr.enumerable=gr.enumerable||!1,gr.configurable=!0,"value"in gr&&(gr.writable=!0),Object.defineProperty(It,pt(gr.key),gr)}}function nt(It,jt,tr){return jt&&rt(It.prototype,jt),tr&&rt(It,tr),Object.defineProperty(It,"prototype",{writable:!1}),It}function pt(It){var jt=wt(It,"string");return o(jt)==="symbol"?jt:String(jt)}function wt(It,jt){if(o(It)!=="object"||It===null)return It;var tr=It[Symbol.toPrimitive];if(tr!==void 0){var gr=tr.call(It,jt||"default");if(o(gr)!=="object")return gr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(jt==="string"?String:Number)(It)}function Dt(It,jt){if(typeof jt!="function"&&jt!==null)throw new TypeError("Super expression must either be null or a function");It.prototype=Object.create(jt&&jt.prototype,{constructor:{value:It,writable:!0,configurable:!0}}),Object.defineProperty(It,"prototype",{writable:!1}),jt&&Lt(It,jt)}function Lt(It,jt){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(gr,vr){return gr.__proto__=vr,gr},Lt(It,jt)}function it(It){var jt=gt();return function(){var gr=Et(It),vr;if(jt){var hr=Et(this).constructor;vr=Reflect.construct(gr,arguments,hr)}else vr=gr.apply(this,arguments);return st(this,vr)}}function st(It,jt){if(jt&&(o(jt)==="object"||typeof jt=="function"))return jt;if(jt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bt(It)}function bt(It){if(It===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return It}function gt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(It){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(tr){return tr.__proto__||Object.getPrototypeOf(tr)},Et(It)}var ot={Ba:.92*h.covalentRadii.Ba,Ti:.94*h.covalentRadii.Ti,I:1.05*h.covalentRadii.I,Eu:1.05*h.covalentRadii.Eu};function _t(){function It(jt,tr){var gr=.125;c.setBondLength(jt,tr-gr)}Object.keys(h.covalentRadii).forEach(function(jt){It(jt,h.covalentRadii[jt])}),Object.keys(ot).forEach(function(jt){It(jt,ot[jt])})}var Mt=function(It){Dt(tr,It);var jt=it(tr);function tr(gr){var vr;return j(this,tr),vr=jt.call(this,gr),_t(),vr.viewer=null,vr.model=null,vr.divId="gldiv-"+(Math.random()+1).toString(36).substring(7),vr}return nt(tr,[{key:"componentDidMount",value:function(){var vr={backgroundColor:"white",orthographic:!0};this.viewer=c.createViewer(this.divId,vr),this.updateView()}},{key:"componentDidUpdate",value:function(vr){(vr.viewerParams!=this.props.viewerParams||vr.cifText!=this.props.cifText)&&this.updateView()}},{key:"updateView",value:function(){var vr=this;this.viewer.removeAllModels(),this.model=this.viewer.addModel(this.props.cifText,"cif");var hr={sphere:{scale:.3,colorscheme:"Jmol"}};this.props.viewerParams.vdwRadius&&(hr.sphere.scale=1),this.props.viewerParams.bonds&&(hr.stick={radius:.2,colorscheme:"Jmol"}),this.viewer.setStyle(hr),this.viewer.addUnitCell(this.model);var mr=this.props.viewerParams.supercell;this.viewer.replicateUnitCell(mr[0],mr[1],mr[2],this.model),this.model.assignBonds(),this.viewer.removeAllLabels(),this.props.viewerParams.atomLabels&&this.model.atoms.forEach(function(Er){vr.viewer.addLabel(Er.elem,{position:{x:Er.x,y:Er.y,z:Er.z},fontColor:"black",bold:!0,fontSize:18,showBackground:!1,backgroundOpacity:1,inFront:!0},null,!0)}),this.viewer.zoomTo(),this.viewer.zoom(1.4),this.viewer.render()}},{key:"handleEvent",value:function(vr,hr){vr=="camera"&&(hr=="x"&&this.viewer.setView([0,0,0,0,-.5,-.5,-.5,.5]),hr=="y"&&this.viewer.setView([0,0,0,0,.5,.5,.5,.5]),hr=="z"&&this.viewer.setView([0,0,0,0,0,0,0,1]),this.viewer.zoomTo(),this.viewer.zoom(1.4))}},{key:"render",value:function(){return e.default.createElement("div",{id:this.divId,className:"gldiv"},"No data!")}}]),tr}(e.default.Component),Bt=Mt;a.default=Bt})(Visualizer3dmol);(function(a){function o(Et){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},o(Et)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=h(reactExports),c=h(Visualizer3dmol);function h(Et){return Et&&Et.__esModule?Et:{default:Et}}function g(Et,ot){if(!(Et instanceof ot))throw new TypeError("Cannot call a class as a function")}function b(Et,ot){for(var _t=0;_t<ot.length;_t++){var Mt=ot[_t];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(Et,j(Mt.key),Mt)}}function $(Et,ot,_t){return ot&&b(Et.prototype,ot),_t&&b(Et,_t),Object.defineProperty(Et,"prototype",{writable:!1}),Et}function j(Et){var ot=rt(Et,"string");return o(ot)==="symbol"?ot:String(ot)}function rt(Et,ot){if(o(Et)!=="object"||Et===null)return Et;var _t=Et[Symbol.toPrimitive];if(_t!==void 0){var Mt=_t.call(Et,ot||"default");if(o(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ot==="string"?String:Number)(Et)}function nt(Et,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");Et.prototype=Object.create(ot&&ot.prototype,{constructor:{value:Et,writable:!0,configurable:!0}}),Object.defineProperty(Et,"prototype",{writable:!1}),ot&&pt(Et,ot)}function pt(Et,ot){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Mt,Bt){return Mt.__proto__=Bt,Mt},pt(Et,ot)}function wt(Et){var ot=it();return function(){var Mt=st(Et),Bt;if(ot){var It=st(this).constructor;Bt=Reflect.construct(Mt,arguments,It)}else Bt=Mt.apply(this,arguments);return Dt(this,Bt)}}function Dt(Et,ot){if(ot&&(o(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lt(Et)}function Lt(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}function it(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function st(Et){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_t){return _t.__proto__||Object.getPrototypeOf(_t)},st(Et)}var bt=function(Et){nt(_t,Et);var ot=wt(_t);function _t(Mt){return g(this,_t),ot.call(this,Mt)}return $(_t,[{key:"render",value:function(){var Bt=this,It="structure-window";this.props.mouseEnabled||(It+=" disable-mouse");var jt="Interaction off",tr="mouse-disabled-note";return this.props.mouseEnabled&&(jt="Interaction on",tr="mouse-disabled-note on"),e.default.createElement("div",{className:"structure-window-outer"},e.default.createElement("div",{onClick:function(){return Bt.props.setMouseEnabledState(!0)}},e.default.createElement("div",{className:It},e.default.createElement(c.default,{ref:this.props.visualizerRef,viewerParams:this.props.viewerParams,cifText:this.props.cifText}))),e.default.createElement("div",{className:tr,onClick:function(){return Bt.props.setMouseEnabledState(!Bt.props.mouseEnabled)}},jt))}}]),_t}(e.default.Component),gt=bt;a.default=gt})(StructureWindow);(function(a){function o(Bt){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(It){return typeof It}:function(It){return It&&typeof Symbol=="function"&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It},o(Bt)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=g(reactExports),c=g(ControlBox),h=g(StructureWindow);function g(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function b(Bt,It){var jt=Object.keys(Bt);if(Object.getOwnPropertySymbols){var tr=Object.getOwnPropertySymbols(Bt);It&&(tr=tr.filter(function(gr){return Object.getOwnPropertyDescriptor(Bt,gr).enumerable})),jt.push.apply(jt,tr)}return jt}function $(Bt){for(var It=1;It<arguments.length;It++){var jt=arguments[It]!=null?arguments[It]:{};It%2?b(Object(jt),!0).forEach(function(tr){j(Bt,tr,jt[tr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Bt,Object.getOwnPropertyDescriptors(jt)):b(Object(jt)).forEach(function(tr){Object.defineProperty(Bt,tr,Object.getOwnPropertyDescriptor(jt,tr))})}return Bt}function j(Bt,It,jt){return It=wt(It),It in Bt?Object.defineProperty(Bt,It,{value:jt,enumerable:!0,configurable:!0,writable:!0}):Bt[It]=jt,Bt}function rt(Bt,It){if(!(Bt instanceof It))throw new TypeError("Cannot call a class as a function")}function nt(Bt,It){for(var jt=0;jt<It.length;jt++){var tr=It[jt];tr.enumerable=tr.enumerable||!1,tr.configurable=!0,"value"in tr&&(tr.writable=!0),Object.defineProperty(Bt,wt(tr.key),tr)}}function pt(Bt,It,jt){return It&&nt(Bt.prototype,It),jt&&nt(Bt,jt),Object.defineProperty(Bt,"prototype",{writable:!1}),Bt}function wt(Bt){var It=Dt(Bt,"string");return o(It)==="symbol"?It:String(It)}function Dt(Bt,It){if(o(Bt)!=="object"||Bt===null)return Bt;var jt=Bt[Symbol.toPrimitive];if(jt!==void 0){var tr=jt.call(Bt,It||"default");if(o(tr)!=="object")return tr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(It==="string"?String:Number)(Bt)}function Lt(Bt,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(It&&It.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Object.defineProperty(Bt,"prototype",{writable:!1}),It&&it(Bt,It)}function it(Bt,It){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tr,gr){return tr.__proto__=gr,tr},it(Bt,It)}function st(Bt){var It=Et();return function(){var tr=ot(Bt),gr;if(It){var vr=ot(this).constructor;gr=Reflect.construct(tr,arguments,vr)}else gr=tr.apply(this,arguments);return bt(this,gr)}}function bt(Bt,It){if(It&&(o(It)==="object"||typeof It=="function"))return It;if(It!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(Bt)}function gt(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}function Et(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ot(Bt){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(jt){return jt.__proto__||Object.getPrototypeOf(jt)},ot(Bt)}var _t=function(Bt){Lt(jt,Bt);var It=st(jt);function jt(tr){var gr;return rt(this,jt),gr=It.call(this,tr),gr.state={viewerParams:{supercell:[2,2,2],bonds:!0,atomLabels:!1,packedCell:!1,vdwRadius:!1},mouseEnabled:!1},gr.visualizerRef=e.default.createRef(),gr.wrapperRef=e.default.createRef(),gr.handleClickOutside=gr.handleClickOutside.bind(gt(gr)),gr.handleViewerParamChange=gr.handleViewerParamChange.bind(gt(gr)),gr.handleViewerEvent=gr.handleViewerEvent.bind(gt(gr)),gr.setMouseEnabledState=gr.setMouseEnabledState.bind(gt(gr)),gr}return pt(jt,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(gr){this.wrapperRef&&!this.wrapperRef.current.contains(gr.target)&&this.setState({mouseEnabled:!1})}},{key:"setMouseEnabledState",value:function(gr){this.setState({mouseEnabled:gr})}},{key:"handleViewerParamChange",value:function(gr,vr){this.setState({viewerParams:$($({},this.state.viewerParams),{},j({},gr,vr))})}},{key:"handleViewerEvent",value:function(gr,vr){this.visualizerRef.current.handleEvent(gr,vr)}},{key:"render",value:function(){return e.default.createElement("div",{ref:this.wrapperRef,className:"structure-visualizer"},e.default.createElement(h.default,{visualizerRef:this.visualizerRef,viewerParams:this.state.viewerParams,cifText:this.props.cifText,mouseEnabled:this.state.mouseEnabled,setMouseEnabledState:this.setMouseEnabledState}),e.default.createElement(c.default,{viewerParams:this.state.viewerParams,onViewerParamChange:this.handleViewerParamChange,onViewerEvent:this.handleViewerEvent}))}}]),jt}(e.default.Component),Mt=_t;a.default=Mt})(dist);const StructureVisualizer=getDefaultExportFromCjs(dist);function InfoBox(a){let o=a.compoundInfo;function e(c,h,g=3,b=1){if(!(c in o))return jsxRuntimeExports.jsx("span",{children:"N/A"});let $=o[c].value||0;return $*=b,jsxRuntimeExports.jsxs("span",{children:[$.toFixed(g)," ",h," ",jsxRuntimeExports.jsx(Ka,{explore_url:EXPLORE_URL,uuid:o[c].uuid})]})}return jsxRuntimeExports.jsxs("div",{className:"info-box",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports.jsxs("li",{children:["Formula: ",$a(o.formula)]}),jsxRuntimeExports.jsxs("li",{children:["Space group: ",Qa(o.space_group)]}),jsxRuntimeExports.jsxs("li",{children:["Point group: ",Qa(o.point_group)]}),jsxRuntimeExports.jsxs("li",{children:["Prototype: ",$a(o.prototype)]}),jsxRuntimeExports.jsxs("li",{children:["Abundance: ",o.abundance]}),jsxRuntimeExports.jsxs("li",{children:["Band gap: ",e("band_gap","eV")]})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"Magnetic properties"}),jsxRuntimeExports.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports.jsxs("li",{children:["Magnetic state: ",o.magnetic_state_long]}),jsxRuntimeExports.jsxs("li",{children:["Total magnetization:"," ",e("total_magnetization","µB/cell",2)]}),jsxRuntimeExports.jsxs("li",{children:["Absolute magnetization:"," ",e("absolute_magnetization","µB/cell",2)]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"Binding energies"}),jsxRuntimeExports.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports.jsxs("li",{children:["DF2-C09:"," ",e("binding_energy_per_substructure_per_unit_area_df2","meV/Å²",1,1e3)]}),jsxRuntimeExports.jsxs("li",{children:["rVV10:"," ",e("binding_energy_per_substructure_per_unit_area_rvv10","meV/Å²",1,1e3)]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"Delta in interlayer distance (vdW vs revPBE)"}),jsxRuntimeExports.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports.jsxs("li",{children:["Δ",jsxRuntimeExports.jsx("sub",{children:"DF2"}),": ",e("delta_df2","%",1,100)]}),jsxRuntimeExports.jsxs("li",{children:["Δ",jsxRuntimeExports.jsx("sub",{children:"rVV10"}),": ",e("delta_rvv10","%",1,100)]})]})]})]})}function OverviewSection(a){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"overview-section",children:[jsxRuntimeExports.jsxs("div",{className:"structure-view-section",children:[jsxRuntimeExports.jsxs("div",{className:"subsection-title-container",children:[jsxRuntimeExports.jsx("b",{children:"Structure"})," ",jsxRuntimeExports.jsx(Ka,{explore_url:"https://www.materialscloud.org/explore/mc2d",uuid:a.compoundInfo.structure_2D})]}),jsxRuntimeExports.jsx(StructureVisualizer,{cifText:a.cifText}),jsxRuntimeExports.jsx("div",{className:"download-button-container",children:jsxRuntimeExports.jsx(za,{aiida_rest_url:"https://aiida.materialscloud.org/mc2d/api/v4",uuid:a.compoundInfo.structure_2D})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"subsection-title-container",children:jsxRuntimeExports.jsx("b",{children:"Info and properties"})}),jsxRuntimeExports.jsx("div",{className:"general-info-section",children:jsxRuntimeExports.jsx(InfoBox,{compoundInfo:a.compoundInfo})})]})]})})}const propTypes$1={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:a="div",className:o,type:e="valid",tooltip:c=!1,...h},g)=>jsxRuntimeExports.jsx(a,{...h,ref:g,className:classNames(o,`${e}-${c?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const Feedback$1=Feedback,FormContext=reactExports.createContext({}),FormContext$1=FormContext,FormCheckInput=reactExports.forwardRef(({id:a,bsPrefix:o,className:e,type:c="checkbox",isValid:h=!1,isInvalid:g=!1,as:b="input",...$},j)=>{const{controlId:rt}=reactExports.useContext(FormContext$1);return o=useBootstrapPrefix(o,"form-check-input"),jsxRuntimeExports.jsx(b,{...$,ref:j,type:c,id:a||rt,className:classNames(e,o,h&&"is-valid",g&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckInput$1=FormCheckInput,FormCheckLabel=reactExports.forwardRef(({bsPrefix:a,className:o,htmlFor:e,...c},h)=>{const{controlId:g}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-check-label"),jsxRuntimeExports.jsx("label",{...c,ref:h,htmlFor:e||g,className:classNames(o,a)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheckLabel$1=FormCheckLabel,FormCheck=reactExports.forwardRef(({id:a,bsPrefix:o,bsSwitchPrefix:e,inline:c=!1,reverse:h=!1,disabled:g=!1,isValid:b=!1,isInvalid:$=!1,feedbackTooltip:j=!1,feedback:rt,feedbackType:nt,className:pt,style:wt,title:Dt="",type:Lt="checkbox",label:it,children:st,as:bt="input",...gt},Et)=>{o=useBootstrapPrefix(o,"form-check"),e=useBootstrapPrefix(e,"form-switch");const{controlId:ot}=reactExports.useContext(FormContext$1),_t=reactExports.useMemo(()=>({controlId:a||ot}),[ot,a]),Mt=!st&&it!=null&&it!==!1||hasChildOfType(st,FormCheckLabel$1),Bt=jsxRuntimeExports.jsx(FormCheckInput$1,{...gt,type:Lt==="switch"?"checkbox":Lt,ref:Et,isValid:b,isInvalid:$,disabled:g,as:bt});return jsxRuntimeExports.jsx(FormContext$1.Provider,{value:_t,children:jsxRuntimeExports.jsx("div",{style:wt,className:classNames(pt,Mt&&o,c&&`${o}-inline`,h&&`${o}-reverse`,Lt==="switch"&&e),children:st||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Bt,Mt&&jsxRuntimeExports.jsx(FormCheckLabel$1,{title:Dt,children:it}),rt&&jsxRuntimeExports.jsx(Feedback$1,{type:nt,tooltip:j,children:rt})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput$1,Label:FormCheckLabel$1}),FormControl=reactExports.forwardRef(({bsPrefix:a,type:o,size:e,htmlSize:c,id:h,className:g,isValid:b=!1,isInvalid:$=!1,plaintext:j,readOnly:rt,as:nt="input",...pt},wt)=>{const{controlId:Dt}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-control"),jsxRuntimeExports.jsx(nt,{...pt,type:o,size:c,ref:wt,readOnly:rt,id:h||Dt,className:classNames(g,j?`${a}-plaintext`:a,e&&`${a}-${e}`,o==="color"&&`${a}-color`,b&&"is-valid",$&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback:Feedback$1}),FormFloating=reactExports.forwardRef(({className:a,bsPrefix:o,as:e="div",...c},h)=>(o=useBootstrapPrefix(o,"form-floating"),jsxRuntimeExports.jsx(e,{ref:h,className:classNames(a,o),...c})));FormFloating.displayName="FormFloating";const FormFloating$1=FormFloating,FormGroup=reactExports.forwardRef(({controlId:a,as:o="div",...e},c)=>{const h=reactExports.useMemo(()=>({controlId:a}),[a]);return jsxRuntimeExports.jsx(FormContext$1.Provider,{value:h,children:jsxRuntimeExports.jsx(o,{...e,ref:c})})});FormGroup.displayName="FormGroup";const FormGroup$1=FormGroup;function useCol({as:a,bsPrefix:o,className:e,...c}){o=useBootstrapPrefix(o,"col");const h=useBootstrapBreakpoints(),g=useBootstrapMinBreakpoint(),b=[],$=[];return h.forEach(j=>{const rt=c[j];delete c[j];let nt,pt,wt;typeof rt=="object"&&rt!=null?{span:nt,offset:pt,order:wt}=rt:nt=rt;const Dt=j!==g?`-${j}`:"";nt&&b.push(nt===!0?`${o}${Dt}`:`${o}${Dt}-${nt}`),wt!=null&&$.push(`order${Dt}-${wt}`),pt!=null&&$.push(`offset${Dt}-${pt}`)}),[{...c,className:classNames(e,...b,...$)},{as:a,bsPrefix:o,spans:b}]}const Col=reactExports.forwardRef((a,o)=>{const[{className:e,...c},{as:h="div",bsPrefix:g,spans:b}]=useCol(a);return jsxRuntimeExports.jsx(h,{...c,ref:o,className:classNames(e,!b.length&&g)})});Col.displayName="Col";const Col$1=Col,FormLabel=reactExports.forwardRef(({as:a="label",bsPrefix:o,column:e=!1,visuallyHidden:c=!1,className:h,htmlFor:g,...b},$)=>{const{controlId:j}=reactExports.useContext(FormContext$1);o=useBootstrapPrefix(o,"form-label");let rt="col-form-label";typeof e=="string"&&(rt=`${rt} ${rt}-${e}`);const nt=classNames(h,o,c&&"visually-hidden",e&&rt);return g=g||j,e?jsxRuntimeExports.jsx(Col$1,{ref:$,as:"label",className:nt,htmlFor:g,...b}):jsxRuntimeExports.jsx(a,{ref:$,className:nt,htmlFor:g,...b})});FormLabel.displayName="FormLabel";const FormLabel$1=FormLabel,FormRange=reactExports.forwardRef(({bsPrefix:a,className:o,id:e,...c},h)=>{const{controlId:g}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-range"),jsxRuntimeExports.jsx("input",{...c,type:"range",ref:h,className:classNames(o,a),id:e||g})});FormRange.displayName="FormRange";const FormRange$1=FormRange,FormSelect=reactExports.forwardRef(({bsPrefix:a,size:o,htmlSize:e,className:c,isValid:h=!1,isInvalid:g=!1,id:b,...$},j)=>{const{controlId:rt}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-select"),jsxRuntimeExports.jsx("select",{...$,size:e,ref:j,className:classNames(c,a,o&&`${a}-${o}`,h&&"is-valid",g&&"is-invalid"),id:b||rt})});FormSelect.displayName="FormSelect";const FormSelect$1=FormSelect,FormText=reactExports.forwardRef(({bsPrefix:a,className:o,as:e="small",muted:c,...h},g)=>(a=useBootstrapPrefix(a,"form-text"),jsxRuntimeExports.jsx(e,{...h,ref:g,className:classNames(o,a,c&&"text-muted")})));FormText.displayName="FormText";const FormText$1=FormText,Switch=reactExports.forwardRef((a,o)=>jsxRuntimeExports.jsx(FormCheck$1,{...a,ref:o,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:a,className:o,children:e,controlId:c,label:h,...g},b)=>(a=useBootstrapPrefix(a,"form-floating"),jsxRuntimeExports.jsxs(FormGroup$1,{ref:b,className:classNames(o,a),controlId:c,...g,children:[e,jsxRuntimeExports.jsx("label",{htmlFor:c,children:h})]})));FloatingLabel.displayName="FloatingLabel";const FloatingLabel$1=FloatingLabel,propTypes={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:a,validated:o,as:e="form",...c},h)=>jsxRuntimeExports.jsx(e,{...c,ref:h,className:classNames(a,o&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup$1,Control:FormControl$1,Floating:FormFloating$1,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel$1,Text:FormText$1,Range:FormRange$1,Select:FormSelect$1,FloatingLabel:FloatingLabel$1});function extractIntId(a){return parseInt(a.split(/-|\//)[1])}function SelectionSection(a){const o=useNavigate();let e=a.currentStructure.compound,c=`${a.currentStructure.id}`,h=[];return a.sameFormulaStructures.ids.forEach((g,b)=>{let $=a.sameFormulaStructures.spacegrps[b];h.push({id:g,sg:$})}),h.sort((g,b)=>extractIntId(g.id)-extractIntId(b.id)),jsxRuntimeExports.jsxs("div",{className:"selection-section",children:[jsxRuntimeExports.jsx("b",{children:"Related structures"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("span",{children:["Structures with this chemical formula",jsxRuntimeExports.jsx(Form$1.Select,{size:"sm",style:{width:"340px",display:"inline",margin:"4px 6px 2px 6px"},value:c,onChange:g=>{o(`/discover-mc2d-react//#/details/${e}/${g.target.value}`)},children:h.map(g=>jsxRuntimeExports.jsxs("option",{value:g.id,children:[g.id," (spacegroup ",g.sg,")"]},g.id))})]})]})}async function fetchCompoundData(a,o){const h=(await(await fetch(`${REST_API_COMPOUNDS}/${a}`)).json()).data[`${a}`],g=h.map(nt=>nt.space_group),b=h.map(nt=>`mc2d-${nt.mc2d_id}`),$=h[b.indexOf(o)],j=$.structure_2D;return{compoundInfo:$,sameFormulaStructures:{spacegrps:g,ids:b},structureAttributes:await fetchAiidaAttributes(j),structureCifText:await fetchAiidaCifText(j)}}function DetailPage(){const[a,o]=reactExports.useState(null),[e,c]=reactExports.useState(null),[h,g]=reactExports.useState(null),[b,$]=reactExports.useState(null);useNavigate();const j=useParams();reactExports.useEffect(()=>{o(null),c(null),g(null),$(null);let nt=j.compound,pt=j.id;fetchCompoundData(nt,pt).then(wt=>{o(wt.compoundInfo),c(wt.sameFormulaStructures),g(wt.structureAttributes),$(wt.structureCifText)})},[j.compound,j.id]);let rt=a==null;return jsxRuntimeExports.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud 2D crystals database",link:"/discover-mc2d-react/"},{name:formatTitle(j),link:null}],children:jsxRuntimeExports.jsxs("div",{className:"detail-page",children:[jsxRuntimeExports.jsx(TitleAndLogo,{}),jsxRuntimeExports.jsxs("div",{className:"detail-page-inner",children:[jsxRuntimeExports.jsx("h3",{children:formatTitle(j)}),rt?jsxRuntimeExports.jsx("div",{style:{padding:"80px 400px"},children:jsxRuntimeExports.jsx(qa,{})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectionSection,{sameFormulaStructures:e,currentStructure:j}),jsxRuntimeExports.jsx(OverviewSection,{cifText:b,compoundInfo:a})]})]})]})})}function App(){return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(MainPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/details/:compound/:id",element:jsxRuntimeExports.jsx(DetailPage,{})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
