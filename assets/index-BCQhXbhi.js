var Vv=Object.defineProperty;var zv=(a,e,o)=>e in a?Vv(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var El=(a,e,o)=>(zv(a,typeof e!="symbol"?e+"":e,o),o);function _mergeNamespaces(a,e){for(var o=0;o<e.length;o++){const c=e[o];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in a)){const g=Object.getOwnPropertyDescriptor(c,h);g&&Object.defineProperty(a,h,g.get?g:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function o(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(h){if(h.ep)return;h.ep=!0;const g=o(h);fetch(h.href,g)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var e=a.default;if(typeof e=="function"){var o=function c(){return this instanceof c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(c){var h=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(o,c,h.get?h:{enumerable:!0,get:function(){return a[c]}})}),o}var jsxRuntime$1={exports:{}},reactJsxRuntime_production_min$1={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$2&&a[z$2]||a["@@iterator"],typeof a=="function"?a:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$3(a,e,o){this.props=a,this.context=e,this.refs=D$2,this.updater=o||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(a,e){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,e,"setState")};E$3.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(a,e,o){this.props=a,this.context=e,this.refs=D$2,this.updater=o||B$3}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$2(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(a,e,o){var c,h={},g=null,b=null;if(e!=null)for(c in e.ref!==void 0&&(b=e.ref),e.key!==void 0&&(g=""+e.key),e)J$2.call(e,c)&&!L$3.hasOwnProperty(c)&&(h[c]=e[c]);var $=arguments.length-2;if($===1)h.children=o;else if(1<$){for(var j=Array($),rt=0;rt<$;rt++)j[rt]=arguments[rt+2];h.children=j}if(a&&a.defaultProps)for(c in $=a.defaultProps,$)h[c]===void 0&&(h[c]=$[c]);return{$$typeof:l$4,type:a,key:g,ref:b,props:h,_owner:K$3.current}}function N$4(a,e){return{$$typeof:l$4,type:a.type,key:e,ref:a.ref,props:a.props,_owner:a._owner}}function O$3(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$4}function escape(a){var e={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(o){return e[o]})}var P$3=/\/+/g;function Q$3(a,e){return typeof a=="object"&&a!==null&&a.key!=null?escape(""+a.key):e.toString(36)}function R$3(a,e,o,c,h){var g=typeof a;(g==="undefined"||g==="boolean")&&(a=null);var b=!1;if(a===null)b=!0;else switch(g){case"string":case"number":b=!0;break;case"object":switch(a.$$typeof){case l$4:case n$2:b=!0}}if(b)return b=a,h=h(b),a=c===""?"."+Q$3(b,0):c,I$3(h)?(o="",a!=null&&(o=a.replace(P$3,"$&/")+"/"),R$3(h,e,o,"",function(rt){return rt})):h!=null&&(O$3(h)&&(h=N$4(h,o+(!h.key||b&&b.key===h.key?"":(""+h.key).replace(P$3,"$&/")+"/")+a)),e.push(h)),1;if(b=0,c=c===""?".":c+":",I$3(a))for(var $=0;$<a.length;$++){g=a[$];var j=c+Q$3(g,$);b+=R$3(g,e,o,j,h)}else if(j=A$2(a),typeof j=="function")for(a=j.call(a),$=0;!(g=a.next()).done;)g=g.value,j=c+Q$3(g,$++),b+=R$3(g,e,o,j,h);else if(g==="object")throw e=String(a),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return b}function S$3(a,e,o){if(a==null)return a;var c=[],h=0;return R$3(a,c,"","",function(g){return e.call(o,g,h++)}),c}function T$3(a){if(a._status===-1){var e=a._result;e=e(),e.then(function(o){(a._status===0||a._status===-1)&&(a._status=1,a._result=o)},function(o){(a._status===0||a._status===-1)&&(a._status=2,a._result=o)}),a._status===-1&&(a._status=0,a._result=e)}if(a._status===1)return a._result.default;throw a._result}var U$3={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(a,e,o){S$3(a,function(){e.apply(this,arguments)},o)},count:function(a){var e=0;return S$3(a,function(){e++}),e},toArray:function(a){return S$3(a,function(e){return e})||[]},only:function(a){if(!O$3(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$3;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(a,e,o){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var c=C$2({},a.props),h=a.key,g=a.ref,b=a._owner;if(e!=null){if(e.ref!==void 0&&(g=e.ref,b=K$3.current),e.key!==void 0&&(h=""+e.key),a.type&&a.type.defaultProps)var $=a.type.defaultProps;for(j in e)J$2.call(e,j)&&!L$3.hasOwnProperty(j)&&(c[j]=e[j]===void 0&&$!==void 0?$[j]:e[j])}var j=arguments.length-2;if(j===1)c.children=o;else if(1<j){$=Array(j);for(var rt=0;rt<j;rt++)$[rt]=arguments[rt+2];c.children=$}return{$$typeof:l$4,type:a.type,key:h,ref:g,props:c,_owner:b}};react_production_min.createContext=function(a){return a={$$typeof:u$2,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$2,_context:a},a.Consumer=a};react_production_min.createElement=M$3;react_production_min.createFactory=function(a){var e=M$3.bind(null,a);return e.type=a,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$2,render:a}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(a){return{$$typeof:y$2,_payload:{_status:-1,_result:a},_init:T$3}};react_production_min.memo=function(a,e){return{$$typeof:x$2,type:a,compare:e===void 0?null:e}};react_production_min.startTransition=function(a){var e=V$3.transition;V$3.transition={};try{a()}finally{V$3.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(a,e){return U$3.current.useCallback(a,e)};react_production_min.useContext=function(a){return U$3.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$3.current.useDeferredValue(a)};react_production_min.useEffect=function(a,e){return U$3.current.useEffect(a,e)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(a,e,o){return U$3.current.useImperativeHandle(a,e,o)};react_production_min.useInsertionEffect=function(a,e){return U$3.current.useInsertionEffect(a,e)};react_production_min.useLayoutEffect=function(a,e){return U$3.current.useLayoutEffect(a,e)};react_production_min.useMemo=function(a,e){return U$3.current.useMemo(a,e)};react_production_min.useReducer=function(a,e,o){return U$3.current.useReducer(a,e,o)};react_production_min.useRef=function(a){return U$3.current.useRef(a)};react_production_min.useState=function(a){return U$3.current.useState(a)};react_production_min.useSyncExternalStore=function(a,e,o){return U$3.current.useSyncExternalStore(a,e,o)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$2=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q(a,e,o){var c,h={},g=null,b=null;o!==void 0&&(g=""+o),e.key!==void 0&&(g=""+e.key),e.ref!==void 0&&(b=e.ref);for(c in e)m$1.call(e,c)&&!p$3.hasOwnProperty(c)&&(h[c]=e[c]);if(a&&a.defaultProps)for(c in e=a.defaultProps,e)h[c]===void 0&&(h[c]=e[c]);return{$$typeof:k$2,type:a,key:g,ref:b,props:h,_owner:n$1.current}}reactJsxRuntime_production_min$1.Fragment=l$3;reactJsxRuntime_production_min$1.jsx=q;reactJsxRuntime_production_min$1.jsxs=q;jsxRuntime$1.exports=reactJsxRuntime_production_min$1;var jsxRuntimeExports$1=jsxRuntime$1.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function e(Tr,Ln){var Fn=Tr.length;Tr.push(Ln);e:for(;0<Fn;){var Or=Fn-1>>>1,Nn=Tr[Or];if(0<h(Nn,Ln))Tr[Or]=Ln,Tr[Fn]=Nn,Fn=Or;else break e}}function o(Tr){return Tr.length===0?null:Tr[0]}function c(Tr){if(Tr.length===0)return null;var Ln=Tr[0],Fn=Tr.pop();if(Fn!==Ln){Tr[0]=Fn;e:for(var Or=0,Nn=Tr.length,eo=Nn>>>1;Or<eo;){var uo=2*(Or+1)-1,wo=Tr[uo],bo=uo+1,es=Tr[bo];if(0>h(wo,Fn))bo<Nn&&0>h(es,wo)?(Tr[Or]=es,Tr[bo]=Fn,Or=bo):(Tr[Or]=wo,Tr[uo]=Fn,Or=uo);else if(bo<Nn&&0>h(es,Fn))Tr[Or]=es,Tr[bo]=Fn,Or=bo;else break e}}return Ln}function h(Tr,Ln){var Fn=Tr.sortIndex-Ln.sortIndex;return Fn!==0?Fn:Tr.id-Ln.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;a.unstable_now=function(){return g.now()}}else{var b=Date,$=b.now();a.unstable_now=function(){return b.now()-$}}var j=[],rt=[],nt=1,ot=null,_t=3,Et=!1,It=!1,it=!1,st=typeof setTimeout=="function"?setTimeout:null,Mt=typeof clearTimeout=="function"?clearTimeout:null,bt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Lt(Tr){for(var Ln=o(rt);Ln!==null;){if(Ln.callback===null)c(rt);else if(Ln.startTime<=Tr)c(rt),Ln.sortIndex=Ln.expirationTime,e(j,Ln);else break;Ln=o(rt)}}function pt(Tr){if(it=!1,Lt(Tr),!It)if(o(j)!==null)It=!0,rn(Dt);else{var Ln=o(rt);Ln!==null&&Sr(pt,Ln.startTime-Tr)}}function Dt(Tr,Ln){It=!1,it&&(it=!1,Mt(jt),jt=-1),Et=!0;var Fn=_t;try{for(Lt(Ln),ot=o(j);ot!==null&&(!(ot.expirationTime>Ln)||Tr&&!Cr());){var Or=ot.callback;if(typeof Or=="function"){ot.callback=null,_t=ot.priorityLevel;var Nn=Or(ot.expirationTime<=Ln);Ln=a.unstable_now(),typeof Nn=="function"?ot.callback=Nn:ot===o(j)&&c(j),Lt(Ln)}else c(j);ot=o(j)}if(ot!==null)var eo=!0;else{var uo=o(rt);uo!==null&&Sr(pt,uo.startTime-Ln),eo=!1}return eo}finally{ot=null,_t=Fn,Et=!1}}var wt=!1,Bt=null,jt=-1,hr=5,gr=-1;function Cr(){return!(a.unstable_now()-gr<hr)}function wr(){if(Bt!==null){var Tr=a.unstable_now();gr=Tr;var Ln=!0;try{Ln=Bt(!0,Tr)}finally{Ln?yr():(wt=!1,Bt=null)}}else wt=!1}var yr;if(typeof bt=="function")yr=function(){bt(wr)};else if(typeof MessageChannel<"u"){var xr=new MessageChannel,In=xr.port2;xr.port1.onmessage=wr,yr=function(){In.postMessage(null)}}else yr=function(){st(wr,0)};function rn(Tr){Bt=Tr,wt||(wt=!0,yr())}function Sr(Tr,Ln){jt=st(function(){Tr(a.unstable_now())},Ln)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Tr){Tr.callback=null},a.unstable_continueExecution=function(){It||Et||(It=!0,rn(Dt))},a.unstable_forceFrameRate=function(Tr){0>Tr||125<Tr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):hr=0<Tr?Math.floor(1e3/Tr):5},a.unstable_getCurrentPriorityLevel=function(){return _t},a.unstable_getFirstCallbackNode=function(){return o(j)},a.unstable_next=function(Tr){switch(_t){case 1:case 2:case 3:var Ln=3;break;default:Ln=_t}var Fn=_t;_t=Ln;try{return Tr()}finally{_t=Fn}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Tr,Ln){switch(Tr){case 1:case 2:case 3:case 4:case 5:break;default:Tr=3}var Fn=_t;_t=Tr;try{return Ln()}finally{_t=Fn}},a.unstable_scheduleCallback=function(Tr,Ln,Fn){var Or=a.unstable_now();switch(typeof Fn=="object"&&Fn!==null?(Fn=Fn.delay,Fn=typeof Fn=="number"&&0<Fn?Or+Fn:Or):Fn=Or,Tr){case 1:var Nn=-1;break;case 2:Nn=250;break;case 5:Nn=1073741823;break;case 4:Nn=1e4;break;default:Nn=5e3}return Nn=Fn+Nn,Tr={id:nt++,callback:Ln,priorityLevel:Tr,startTime:Fn,expirationTime:Nn,sortIndex:-1},Fn>Or?(Tr.sortIndex=Fn,e(rt,Tr),o(j)===null&&Tr===o(rt)&&(it?(Mt(jt),jt=-1):it=!0,Sr(pt,Fn-Or))):(Tr.sortIndex=Nn,e(j,Tr),It||Et||(It=!0,rn(Dt))),Tr},a.unstable_shouldYield=Cr,a.unstable_wrapCallback=function(Tr){var Ln=_t;return function(){var Fn=_t;_t=Ln;try{return Tr.apply(this,arguments)}finally{_t=Fn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$3=reactExports,ca$2=schedulerExports;function p$2(a){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+a,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+a+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$2=new Set,ea$2={};function fa$3(a,e){ha$3(a,e),ha$3(a+"Capture",e)}function ha$3(a,e){for(ea$2[a]=e,a=0;a<e.length;a++)da$2.add(e[a])}var ia$3=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$2=Object.prototype.hasOwnProperty,ka$3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$3={},ma$2={};function oa$3(a){return ja$2.call(ma$2,a)?!0:ja$2.call(la$3,a)?!1:ka$3.test(a)?ma$2[a]=!0:(la$3[a]=!0,!1)}function pa$3(a,e,o,c){if(o!==null&&o.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa$3(a,e,o,c){if(e===null||typeof e>"u"||pa$3(a,e,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(a,e,o,c,h,g,b){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=a,this.type=e,this.sanitizeURL=g,this.removeEmptyString=b}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$1[a]=new v$1(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var e=a[0];z$1[e]=new v$1(e,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$1[a]=new v$1(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$1[a]=new v$1(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$1[a]=new v$1(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$1[a]=new v$1(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$1[a]=new v$1(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra$3=/[\-:]([a-z])/g;function sa$2(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var e=a.replace(ra$3,sa$2);z$1[e]=new v$1(e,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var e=a.replace(ra$3,sa$2);z$1[e]=new v$1(e,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var e=a.replace(ra$3,sa$2);z$1[e]=new v$1(e,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta$3(a,e,o,c){var h=z$1.hasOwnProperty(e)?z$1[e]:null;(h!==null?h.type!==0:c||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa$3(e,o,h,c)&&(o=null),c||h===null?oa$3(e)&&(o===null?a.removeAttribute(e):a.setAttribute(e,""+o)):h.mustUseProperty?a[h.propertyName]=o===null?h.type===3?!1:"":o:(e=h.attributeName,c=h.attributeNamespace,o===null?a.removeAttribute(e):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,c?a.setAttributeNS(c,e,o):a.setAttribute(e,o))))}var ua$3=aa$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$3=Symbol.for("react.element"),wa$3=Symbol.for("react.portal"),ya$3=Symbol.for("react.fragment"),za$3=Symbol.for("react.strict_mode"),Aa$3=Symbol.for("react.profiler"),Ba$3=Symbol.for("react.provider"),Ca$3=Symbol.for("react.context"),Da$3=Symbol.for("react.forward_ref"),Ea$3=Symbol.for("react.suspense"),Fa$3=Symbol.for("react.suspense_list"),Ga$2=Symbol.for("react.memo"),Ha$3=Symbol.for("react.lazy"),Ia$3=Symbol.for("react.offscreen"),Ja$3=Symbol.iterator;function Ka$3(a){return a===null||typeof a!="object"?null:(a=Ja$3&&a[Ja$3]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La$3;function Ma$3(a){if(La$3===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);La$3=e&&e[1]||""}return`
`+La$3+a}var Na$3=!1;function Oa$3(a,e){if(!a||Na$3)return"";Na$3=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(rt){var c=rt}Reflect.construct(a,[],e)}else{try{e.call()}catch(rt){c=rt}a.call(e.prototype)}else{try{throw Error()}catch(rt){c=rt}a()}}catch(rt){if(rt&&c&&typeof rt.stack=="string"){for(var h=rt.stack.split(`
`),g=c.stack.split(`
`),b=h.length-1,$=g.length-1;1<=b&&0<=$&&h[b]!==g[$];)$--;for(;1<=b&&0<=$;b--,$--)if(h[b]!==g[$]){if(b!==1||$!==1)do if(b--,$--,0>$||h[b]!==g[$]){var j=`
`+h[b].replace(" at new "," at ");return a.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",a.displayName)),j}while(1<=b&&0<=$);break}}}finally{Na$3=!1,Error.prepareStackTrace=o}return(a=a?a.displayName||a.name:"")?Ma$3(a):""}function Pa$2(a){switch(a.tag){case 5:return Ma$3(a.type);case 16:return Ma$3("Lazy");case 13:return Ma$3("Suspense");case 19:return Ma$3("SuspenseList");case 0:case 2:case 15:return a=Oa$3(a.type,!1),a;case 11:return a=Oa$3(a.type.render,!1),a;case 1:return a=Oa$3(a.type,!0),a;default:return""}}function Qa$3(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya$3:return"Fragment";case wa$3:return"Portal";case Aa$3:return"Profiler";case za$3:return"StrictMode";case Ea$3:return"Suspense";case Fa$3:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca$3:return(a.displayName||"Context")+".Consumer";case Ba$3:return(a._context.displayName||"Context")+".Provider";case Da$3:var e=a.render;return a=a.displayName,a||(a=e.displayName||e.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga$2:return e=a.displayName||null,e!==null?e:Qa$3(a.type)||"Memo";case Ha$3:e=a._payload,a=a._init;try{return Qa$3(a(e))}catch{}}return null}function Ra$3(a){var e=a.type;switch(a.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=e.render,a=a.displayName||a.name||"",e.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$3(e);case 8:return e===za$3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa$3(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta$3(a){var e=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua$2(a){var e=Ta$3(a)?"checked":"value",o=Object.getOwnPropertyDescriptor(a.constructor.prototype,e),c=""+a[e];if(!a.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(a,e,{configurable:!0,get:function(){return h.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(a,e,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){a._valueTracker=null,delete a[e]}}}}function Va$2(a){a._valueTracker||(a._valueTracker=Ua$2(a))}function Wa$2(a){if(!a)return!1;var e=a._valueTracker;if(!e)return!0;var o=e.getValue(),c="";return a&&(c=Ta$3(a)?a.checked?"true":"false":a.value),a=c,a!==o?(e.setValue(a),!0):!1}function Xa$2(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya$2(a,e){var o=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??a._wrapperState.initialChecked})}function Za$2(a,e){var o=e.defaultValue==null?"":e.defaultValue,c=e.checked!=null?e.checked:e.defaultChecked;o=Sa$3(e.value!=null?e.value:o),a._wrapperState={initialChecked:c,initialValue:o,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab$2(a,e){e=e.checked,e!=null&&ta$3(a,"checked",e,!1)}function bb$2(a,e){ab$2(a,e);var o=Sa$3(e.value),c=e.type;if(o!=null)c==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+o):a.value!==""+o&&(a.value=""+o);else if(c==="submit"||c==="reset"){a.removeAttribute("value");return}e.hasOwnProperty("value")?cb$2(a,e.type,o):e.hasOwnProperty("defaultValue")&&cb$2(a,e.type,Sa$3(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(a.defaultChecked=!!e.defaultChecked)}function db$2(a,e,o){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var c=e.type;if(!(c!=="submit"&&c!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+a._wrapperState.initialValue,o||e===a.value||(a.value=e),a.defaultValue=e}o=a.name,o!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,o!==""&&(a.name=o)}function cb$2(a,e,o){(e!=="number"||Xa$2(a.ownerDocument)!==a)&&(o==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+o&&(a.defaultValue=""+o))}var eb$2=Array.isArray;function fb$2(a,e,o,c){if(a=a.options,e){e={};for(var h=0;h<o.length;h++)e["$"+o[h]]=!0;for(o=0;o<a.length;o++)h=e.hasOwnProperty("$"+a[o].value),a[o].selected!==h&&(a[o].selected=h),h&&c&&(a[o].defaultSelected=!0)}else{for(o=""+Sa$3(o),e=null,h=0;h<a.length;h++){if(a[h].value===o){a[h].selected=!0,c&&(a[h].defaultSelected=!0);return}e!==null||a[h].disabled||(e=a[h])}e!==null&&(e.selected=!0)}}function gb$2(a,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb$2(a,e){var o=e.value;if(o==null){if(o=e.children,e=e.defaultValue,o!=null){if(e!=null)throw Error(p$2(92));if(eb$2(o)){if(1<o.length)throw Error(p$2(93));o=o[0]}e=o}e==null&&(e=""),o=e}a._wrapperState={initialValue:Sa$3(o)}}function ib$2(a,e){var o=Sa$3(e.value),c=Sa$3(e.defaultValue);o!=null&&(o=""+o,o!==a.value&&(a.value=o),e.defaultValue==null&&a.defaultValue!==o&&(a.defaultValue=o)),c!=null&&(a.defaultValue=""+c)}function jb$2(a){var e=a.textContent;e===a._wrapperState.initialValue&&e!==""&&e!==null&&(a.value=e)}function kb$2(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$2(a,e){return a==null||a==="http://www.w3.org/1999/xhtml"?kb$2(e):a==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb$1,nb$1=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,o,c,h){MSApp.execUnsafeLocalFunction(function(){return a(e,o,c,h)})}:a}(function(a,e){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=e;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb$1.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;e.firstChild;)a.appendChild(e.firstChild)}});function ob$2(a,e){if(e){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=e;return}}a.textContent=e}var pb$2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$2=["Webkit","ms","Moz","O"];Object.keys(pb$2).forEach(function(a){qb$2.forEach(function(e){e=e+a.charAt(0).toUpperCase()+a.substring(1),pb$2[e]=pb$2[a]})});function rb$2(a,e,o){return e==null||typeof e=="boolean"||e===""?"":o||typeof e!="number"||e===0||pb$2.hasOwnProperty(a)&&pb$2[a]?(""+e).trim():e+"px"}function sb$2(a,e){a=a.style;for(var o in e)if(e.hasOwnProperty(o)){var c=o.indexOf("--")===0,h=rb$2(o,e[o],c);o==="float"&&(o="cssFloat"),c?a.setProperty(o,h):a[o]=h}}var tb$2=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$2(a,e){if(e){if(tb$2[a]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,a));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function vb$2(a,e){if(a.indexOf("-")===-1)return typeof e.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$2=null;function xb$2(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb$2=null,zb$2=null,Ab$2=null;function Bb$2(a){if(a=Cb$2(a)){if(typeof yb$2!="function")throw Error(p$2(280));var e=a.stateNode;e&&(e=Db$2(e),yb$2(a.stateNode,a.type,e))}}function Eb$2(a){zb$2?Ab$2?Ab$2.push(a):Ab$2=[a]:zb$2=a}function Fb$1(){if(zb$2){var a=zb$2,e=Ab$2;if(Ab$2=zb$2=null,Bb$2(a),e)for(a=0;a<e.length;a++)Bb$2(e[a])}}function Gb$2(a,e){return a(e)}function Hb$2(){}var Ib$2=!1;function Jb$2(a,e,o){if(Ib$2)return a(e,o);Ib$2=!0;try{return Gb$2(a,e,o)}finally{Ib$2=!1,(zb$2!==null||Ab$2!==null)&&(Hb$2(),Fb$1())}}function Kb$2(a,e){var o=a.stateNode;if(o===null)return null;var c=Db$2(o);if(c===null)return null;o=c[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(p$2(231,e,typeof o));return o}var Lb$2=!1;if(ia$3)try{var Mb$2={};Object.defineProperty(Mb$2,"passive",{get:function(){Lb$2=!0}}),window.addEventListener("test",Mb$2,Mb$2),window.removeEventListener("test",Mb$2,Mb$2)}catch{Lb$2=!1}function Nb$2(a,e,o,c,h,g,b,$,j){var rt=Array.prototype.slice.call(arguments,3);try{e.apply(o,rt)}catch(nt){this.onError(nt)}}var Ob$2=!1,Pb$2=null,Qb$2=!1,Rb$2=null,Sb$2={onError:function(a){Ob$2=!0,Pb$2=a}};function Tb$2(a,e,o,c,h,g,b,$,j){Ob$2=!1,Pb$2=null,Nb$2.apply(Sb$2,arguments)}function Ub$1(a,e,o,c,h,g,b,$,j){if(Tb$2.apply(this,arguments),Ob$2){if(Ob$2){var rt=Pb$2;Ob$2=!1,Pb$2=null}else throw Error(p$2(198));Qb$2||(Qb$2=!0,Rb$2=rt)}}function Vb$1(a){var e=a,o=a;if(a.alternate)for(;e.return;)e=e.return;else{a=e;do e=a,e.flags&4098&&(o=e.return),a=e.return;while(a)}return e.tag===3?o:null}function Wb$1(a){if(a.tag===13){var e=a.memoizedState;if(e===null&&(a=a.alternate,a!==null&&(e=a.memoizedState)),e!==null)return e.dehydrated}return null}function Xb$1(a){if(Vb$1(a)!==a)throw Error(p$2(188))}function Yb$1(a){var e=a.alternate;if(!e){if(e=Vb$1(a),e===null)throw Error(p$2(188));return e!==a?null:a}for(var o=a,c=e;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return Xb$1(h),a;if(g===c)return Xb$1(h),e;g=g.sibling}throw Error(p$2(188))}if(o.return!==c.return)o=h,c=g;else{for(var b=!1,$=h.child;$;){if($===o){b=!0,o=h,c=g;break}if($===c){b=!0,c=h,o=g;break}$=$.sibling}if(!b){for($=g.child;$;){if($===o){b=!0,o=g,c=h;break}if($===c){b=!0,c=g,o=h;break}$=$.sibling}if(!b)throw Error(p$2(189))}}if(o.alternate!==c)throw Error(p$2(190))}if(o.tag!==3)throw Error(p$2(188));return o.stateNode.current===o?a:e}function Zb$1(a){return a=Yb$1(a),a!==null?$b$1(a):null}function $b$1(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var e=$b$1(a);if(e!==null)return e;a=a.sibling}return null}var ac$1=ca$2.unstable_scheduleCallback,bc$1=ca$2.unstable_cancelCallback,cc$1=ca$2.unstable_shouldYield,dc$1=ca$2.unstable_requestPaint,B$2=ca$2.unstable_now,ec$1=ca$2.unstable_getCurrentPriorityLevel,fc$1=ca$2.unstable_ImmediatePriority,gc$1=ca$2.unstable_UserBlockingPriority,hc$1=ca$2.unstable_NormalPriority,ic$1=ca$2.unstable_LowPriority,jc$1=ca$2.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(a){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,a,void 0,(a.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(a){return a>>>=0,a===0?32:31-(pc$1(a)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc$1(a,e){var o=a.pendingLanes;if(o===0)return 0;var c=0,h=a.suspendedLanes,g=a.pingedLanes,b=o&268435455;if(b!==0){var $=b&~h;$!==0?c=tc$1($):(g&=b,g!==0&&(c=tc$1(g)))}else b=o&~h,b!==0?c=tc$1(b):g!==0&&(c=tc$1(g));if(c===0)return 0;if(e!==0&&e!==c&&!(e&h)&&(h=c&-c,g=e&-e,h>=g||h===16&&(g&4194240)!==0))return e;if(c&4&&(c|=o&16),e=a.entangledLanes,e!==0)for(a=a.entanglements,e&=c;0<e;)o=31-oc$1(e),h=1<<o,c|=a[o],e&=~h;return c}function vc$1(a,e){switch(a){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(a,e){for(var o=a.suspendedLanes,c=a.pingedLanes,h=a.expirationTimes,g=a.pendingLanes;0<g;){var b=31-oc$1(g),$=1<<b,j=h[b];j===-1?(!($&o)||$&c)&&(h[b]=vc$1($,e)):j<=e&&(a.expiredLanes|=$),g&=~$}}function xc$1(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc$1(){var a=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),a}function zc$1(a){for(var e=[],o=0;31>o;o++)e.push(a);return e}function Ac$1(a,e,o){a.pendingLanes|=e,e!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,e=31-oc$1(e),a[e]=o}function Bc$1(a,e){var o=a.pendingLanes&~e;a.pendingLanes=e,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=e,a.mutableReadLanes&=e,a.entangledLanes&=e,e=a.entanglements;var c=a.eventTimes;for(a=a.expirationTimes;0<o;){var h=31-oc$1(o),g=1<<h;e[h]=0,c[h]=-1,a[h]=-1,o&=~g}}function Cc$1(a,e){var o=a.entangledLanes|=e;for(a=a.entanglements;o;){var c=31-oc$1(o),h=1<<c;h&e|a[c]&e&&(a[c]|=e),o&=~h}}var C$1=0;function Dc$1(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(a,e){switch(a){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(e.pointerId)}}function Tc$1(a,e,o,c,h,g){return a===null||a.nativeEvent!==g?(a={blockedOn:e,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},e!==null&&(e=Cb$2(e),e!==null&&Fc$1(e)),a):(a.eventSystemFlags|=c,e=a.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),a)}function Uc$1(a,e,o,c,h){switch(e){case"focusin":return Lc$1=Tc$1(Lc$1,a,e,o,c,h),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,a,e,o,c,h),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,a,e,o,c,h),!0;case"pointerover":var g=h.pointerId;return Oc$1.set(g,Tc$1(Oc$1.get(g)||null,a,e,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Pc$1.set(g,Tc$1(Pc$1.get(g)||null,a,e,o,c,h)),!0}return!1}function Vc$1(a){var e=Wc$1(a.target);if(e!==null){var o=Vb$1(e);if(o!==null){if(e=o.tag,e===13){if(e=Wb$1(o),e!==null){a.blockedOn=e,Ic$1(a.priority,function(){Gc$1(o)});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc$1(a){if(a.blockedOn!==null)return!1;for(var e=a.targetContainers;0<e.length;){var o=Yc$1(a.domEventName,a.eventSystemFlags,e[0],a.nativeEvent);if(o===null){o=a.nativeEvent;var c=new o.constructor(o.type,o);wb$2=c,o.target.dispatchEvent(c),wb$2=null}else return e=Cb$2(o),e!==null&&Fc$1(e),a.blockedOn=o,!1;e.shift()}return!0}function Zc$1(a,e,o){Xc$1(a)&&o.delete(e)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(a,e){a.blockedOn===e&&(a.blockedOn=null,Jc$1||(Jc$1=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$1)))}function bd$1(a){function e(h){return ad$1(h,a)}if(0<Kc$1.length){ad$1(Kc$1[0],a);for(var o=1;o<Kc$1.length;o++){var c=Kc$1[o];c.blockedOn===a&&(c.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,a),Mc$1!==null&&ad$1(Mc$1,a),Nc$1!==null&&ad$1(Nc$1,a),Oc$1.forEach(e),Pc$1.forEach(e),o=0;o<Qc$1.length;o++)c=Qc$1[o],c.blockedOn===a&&(c.blockedOn=null);for(;0<Qc$1.length&&(o=Qc$1[0],o.blockedOn===null);)Vc$1(o),o.blockedOn===null&&Qc$1.shift()}var cd$1=ua$3.ReactCurrentBatchConfig,dd$1=!0;function ed$1(a,e,o,c){var h=C$1,g=cd$1.transition;cd$1.transition=null;try{C$1=1,fd$1(a,e,o,c)}finally{C$1=h,cd$1.transition=g}}function gd$1(a,e,o,c){var h=C$1,g=cd$1.transition;cd$1.transition=null;try{C$1=4,fd$1(a,e,o,c)}finally{C$1=h,cd$1.transition=g}}function fd$1(a,e,o,c){if(dd$1){var h=Yc$1(a,e,o,c);if(h===null)hd$1(a,e,c,id$1,o),Sc$1(a,c);else if(Uc$1(h,a,e,o,c))c.stopPropagation();else if(Sc$1(a,c),e&4&&-1<Rc$1.indexOf(a)){for(;h!==null;){var g=Cb$2(h);if(g!==null&&Ec$1(g),g=Yc$1(a,e,o,c),g===null&&hd$1(a,e,c,id$1,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else hd$1(a,e,c,null,o)}}var id$1=null;function Yc$1(a,e,o,c){if(id$1=null,a=xb$2(c),a=Wc$1(a),a!==null)if(e=Vb$1(a),e===null)a=null;else if(o=e.tag,o===13){if(a=Wb$1(e),a!==null)return a;a=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;a=null}else e!==a&&(a=null);return id$1=a,null}function jd$1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md=null;function nd(){if(md)return md;var a,e=ld$1,o=e.length,c,h="value"in kd$1?kd$1.value:kd$1.textContent,g=h.length;for(a=0;a<o&&e[a]===h[a];a++);var b=o-a;for(c=1;c<=b&&e[o-c]===h[g-c];c++);return md=h.slice(a,1<c?1-c:void 0)}function od(a){var e=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&e===13&&(a=13)):a=e,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function e(o,c,h,g,b){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(o=a[$],this[$]=o?o(g):g[$]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(a):(a=Od[a])?!!e[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var e=Md[a.key]||a.key;if(e!=="Unidentified")return e}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia$3&&"CompositionEvent"in window,be$1=null;ia$3&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia$3&&"TextEvent"in window&&!be$1,de$1=ia$3&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(a,e){switch(a){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je$1(a,e){switch(a){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return a=e.data,a===ee&&fe?null:a;default:return null}}function ke(a,e){if(ie)return a==="compositionend"||!ae&&ge(a,e)?(a=nd(),md=ld$1=kd$1=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e==="input"?!!le[a.type]:e==="textarea"}function ne(a,e,o,c){Eb$2(c),e=oe(e,"onChange"),0<e.length&&(o=new td("onChange","change",null,o,c),a.push({event:o,listeners:e}))}var pe$1=null,qe=null;function re(a){se(a,0)}function te(a){var e=ue(a);if(Wa$2(e))return a}function ve(a,e){if(a==="change")return e}var we$1=!1;if(ia$3){var xe$1;if(ia$3){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe$1=ye}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe=pe$1=null)}function Be$1(a){if(a.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,a,xb$2(a)),Jb$2(re,e)}}function Ce$1(a,e,o){a==="focusin"?(Ae(),pe$1=e,qe=o,pe$1.attachEvent("onpropertychange",Be$1)):a==="focusout"&&Ae()}function De$1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee$1(a,e){if(a==="click")return te(e)}function Fe$1(a,e){if(a==="input"||a==="change")return te(e)}function Ge(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(a,e){if(He$1(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null)return!1;var o=Object.keys(a),c=Object.keys(e);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!ja$2.call(e,h)||!He$1(a[h],e[h]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,e){var o=Je(a);a=0;for(var c;o;){if(o.nodeType===3){if(c=a+o.textContent.length,a<=e&&c>=e)return{node:o,offset:e-a};a=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le$1(a,e){return a&&e?a===e?!0:a&&a.nodeType===3?!1:e&&e.nodeType===3?Le$1(a,e.parentNode):"contains"in a?a.contains(e):a.compareDocumentPosition?!!(a.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var a=window,e=Xa$2();e instanceof a.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)a=e.contentWindow;else break;e=Xa$2(a.document)}return e}function Ne$1(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e&&(e==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||e==="textarea"||a.contentEditable==="true")}function Oe(a){var e=Me(),o=a.focusedElem,c=a.selectionRange;if(e!==o&&o&&o.ownerDocument&&Le$1(o.ownerDocument.documentElement,o)){if(c!==null&&Ne$1(o)){if(e=c.start,a=c.end,a===void 0&&(a=e),"selectionStart"in o)o.selectionStart=e,o.selectionEnd=Math.min(a,o.value.length);else if(a=(e=o.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=o.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!a.extend&&g>c&&(h=c,c=g,g=h),h=Ke(o,g);var b=Ke(o,c);h&&b&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==b.node||a.focusOffset!==b.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),g>c?(a.addRange(e),a.extend(b.node,b.offset)):(e.setEnd(b.node,b.offset),a.addRange(e)))}}for(e=[],a=o;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<e.length;o++)a=e[o],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia$3&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te=!1;function Ue(a,e,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe$1==null||Qe$1!==Xa$2(c)||(c=Qe$1,"selectionStart"in c&&Ne$1(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se$1&&Ie$1(Se$1,c)||(Se$1=c,c=oe(Re$1,"onSelect"),0<c.length&&(e=new td("onSelect","select",null,e,o),a.push({event:e,listeners:c}),e.target=Qe$1)))}function Ve(a,e){var o={};return o[a.toLowerCase()]=e.toLowerCase(),o["Webkit"+a]="webkit"+e,o["Moz"+a]="moz"+e,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia$3&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(a){if(Xe$1[a])return Xe$1[a];if(!We[a])return a;var e=We[a],o;for(o in e)if(e.hasOwnProperty(o)&&o in Ye$1)return Xe$1[a]=e[o];return a}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,e){df.set(a,e),fa$3(e,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$3("onMouseEnter",["mouseout","mouseover"]);ha$3("onMouseLeave",["mouseout","mouseover"]);ha$3("onPointerEnter",["pointerout","pointerover"]);ha$3("onPointerLeave",["pointerout","pointerover"]);fa$3("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$3("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$3("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$3("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$3("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$3("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,e,o){var c=a.type||"unknown-event";a.currentTarget=o,Ub$1(c,e,void 0,a),a.currentTarget=null}function se(a,e){e=(e&4)!==0;for(var o=0;o<a.length;o++){var c=a[o],h=c.event;c=c.listeners;e:{var g=void 0;if(e)for(var b=c.length-1;0<=b;b--){var $=c[b],j=$.instance,rt=$.currentTarget;if($=$.listener,j!==g&&h.isPropagationStopped())break e;nf(h,$,rt),g=j}else for(b=0;b<c.length;b++){if($=c[b],j=$.instance,rt=$.currentTarget,$=$.listener,j!==g&&h.isPropagationStopped())break e;nf(h,$,rt),g=j}}}if(Qb$2)throw a=Rb$2,Qb$2=!1,Rb$2=null,a}function D$1(a,e){var o=e[of];o===void 0&&(o=e[of]=new Set);var c=a+"__bubble";o.has(c)||(pf(e,a,2,!1),o.add(c))}function qf(a,e,o){var c=0;e&&(c|=4),pf(o,a,c,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da$2.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,a),qf(o,!0,a))});var e=a.nodeType===9?a:a.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(a,e,o,c){switch(jd$1(e)){case 1:var h=ed$1;break;case 4:h=gd$1;break;default:h=fd$1}o=h.bind(null,e,o,a),h=void 0,!Lb$2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),c?h!==void 0?a.addEventListener(e,o,{capture:!0,passive:h}):a.addEventListener(e,o,!0):h!==void 0?a.addEventListener(e,o,{passive:h}):a.addEventListener(e,o,!1)}function hd$1(a,e,o,c,h){var g=c;if(!(e&1)&&!(e&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var $=c.stateNode.containerInfo;if($===h||$.nodeType===8&&$.parentNode===h)break;if(b===4)for(b=c.return;b!==null;){var j=b.tag;if((j===3||j===4)&&(j=b.stateNode.containerInfo,j===h||j.nodeType===8&&j.parentNode===h))return;b=b.return}for(;$!==null;){if(b=Wc$1($),b===null)return;if(j=b.tag,j===5||j===6){c=g=b;continue e}$=$.parentNode}}c=c.return}Jb$2(function(){var rt=g,nt=xb$2(o),ot=[];e:{var _t=df.get(a);if(_t!==void 0){var Et=td,It=a;switch(a){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":Et=Rd;break;case"focusin":It="focus",Et=Fd;break;case"focusout":It="blur",Et=Fd;break;case"beforeblur":case"afterblur":Et=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Vd;break;case $e$1:case af:case bf:Et=Hd;break;case cf:Et=Xd;break;case"scroll":Et=vd;break;case"wheel":Et=Zd;break;case"copy":case"cut":case"paste":Et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=Td}var it=(e&4)!==0,st=!it&&a==="scroll",Mt=it?_t!==null?_t+"Capture":null:_t;it=[];for(var bt=rt,Lt;bt!==null;){Lt=bt;var pt=Lt.stateNode;if(Lt.tag===5&&pt!==null&&(Lt=pt,Mt!==null&&(pt=Kb$2(bt,Mt),pt!=null&&it.push(tf(bt,pt,Lt)))),st)break;bt=bt.return}0<it.length&&(_t=new Et(_t,It,null,o,nt),ot.push({event:_t,listeners:it}))}}if(!(e&7)){e:{if(_t=a==="mouseover"||a==="pointerover",Et=a==="mouseout"||a==="pointerout",_t&&o!==wb$2&&(It=o.relatedTarget||o.fromElement)&&(Wc$1(It)||It[uf]))break e;if((Et||_t)&&(_t=nt.window===nt?nt:(_t=nt.ownerDocument)?_t.defaultView||_t.parentWindow:window,Et?(It=o.relatedTarget||o.toElement,Et=rt,It=It?Wc$1(It):null,It!==null&&(st=Vb$1(It),It!==st||It.tag!==5&&It.tag!==6)&&(It=null)):(Et=null,It=rt),Et!==It)){if(it=Bd,pt="onMouseLeave",Mt="onMouseEnter",bt="mouse",(a==="pointerout"||a==="pointerover")&&(it=Td,pt="onPointerLeave",Mt="onPointerEnter",bt="pointer"),st=Et==null?_t:ue(Et),Lt=It==null?_t:ue(It),_t=new it(pt,bt+"leave",Et,o,nt),_t.target=st,_t.relatedTarget=Lt,pt=null,Wc$1(nt)===rt&&(it=new it(Mt,bt+"enter",It,o,nt),it.target=Lt,it.relatedTarget=st,pt=it),st=pt,Et&&It)t:{for(it=Et,Mt=It,bt=0,Lt=it;Lt;Lt=vf(Lt))bt++;for(Lt=0,pt=Mt;pt;pt=vf(pt))Lt++;for(;0<bt-Lt;)it=vf(it),bt--;for(;0<Lt-bt;)Mt=vf(Mt),Lt--;for(;bt--;){if(it===Mt||Mt!==null&&it===Mt.alternate)break t;it=vf(it),Mt=vf(Mt)}it=null}else it=null;Et!==null&&wf(ot,_t,Et,it,!1),It!==null&&st!==null&&wf(ot,st,It,it,!0)}}e:{if(_t=rt?ue(rt):window,Et=_t.nodeName&&_t.nodeName.toLowerCase(),Et==="select"||Et==="input"&&_t.type==="file")var Dt=ve;else if(me$1(_t))if(we$1)Dt=Fe$1;else{Dt=De$1;var wt=Ce$1}else(Et=_t.nodeName)&&Et.toLowerCase()==="input"&&(_t.type==="checkbox"||_t.type==="radio")&&(Dt=Ee$1);if(Dt&&(Dt=Dt(a,rt))){ne(ot,Dt,o,nt);break e}wt&&wt(a,_t,rt),a==="focusout"&&(wt=_t._wrapperState)&&wt.controlled&&_t.type==="number"&&cb$2(_t,"number",_t.value)}switch(wt=rt?ue(rt):window,a){case"focusin":(me$1(wt)||wt.contentEditable==="true")&&(Qe$1=wt,Re$1=rt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,o,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,o,nt)}var Bt;if(ae)e:{switch(a){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else ie?ge(a,o)&&(jt="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(jt="onCompositionStart");jt&&(de$1&&o.locale!=="ko"&&(ie||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ie&&(Bt=nd()):(kd$1=nt,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie=!0)),wt=oe(rt,jt),0<wt.length&&(jt=new Ld(jt,a,null,o,nt),ot.push({event:jt,listeners:wt}),Bt?jt.data=Bt:(Bt=he(o),Bt!==null&&(jt.data=Bt)))),(Bt=ce?je$1(a,o):ke(a,o))&&(rt=oe(rt,"onBeforeInput"),0<rt.length&&(nt=new Ld("onBeforeInput","beforeinput",null,o,nt),ot.push({event:nt,listeners:rt}),nt.data=Bt))}se(ot,e)})}function tf(a,e,o){return{instance:a,listener:e,currentTarget:o}}function oe(a,e){for(var o=e+"Capture",c=[];a!==null;){var h=a,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Kb$2(a,o),g!=null&&c.unshift(tf(a,g,h)),g=Kb$2(a,e),g!=null&&c.push(tf(a,g,h))),a=a.return}return c}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,e,o,c,h){for(var g=e._reactName,b=[];o!==null&&o!==c;){var $=o,j=$.alternate,rt=$.stateNode;if(j!==null&&j===c)break;$.tag===5&&rt!==null&&($=rt,h?(j=Kb$2(o,g),j!=null&&b.unshift(tf(o,j,$))):h||(j=Kb$2(o,g),j!=null&&b.push(tf(o,j,$)))),o=o.return}b.length!==0&&a.push({event:e,listeners:b})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,e,o){if(e=zf(e),zf(a)!==e&&o)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,e){return a==="textarea"||a==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,e){var o=e,c=0;do{var h=o.nextSibling;if(a.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){a.removeChild(h),bd$1(e);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);bd$1(e)}function Lf(a){for(;a!=null;a=a.nextSibling){var e=a.nodeType;if(e===1||e===3)break;if(e===8){if(e=a.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var e=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return a;e--}else o==="/$"&&e++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(a){var e=a[Of];if(e)return e;for(var o=a.parentNode;o;){if(e=o[uf]||o[Of]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(a=Mf(a);a!==null;){if(o=a[Of])return o;a=Mf(a)}return e}a=o,o=a.parentNode}return null}function Cb$2(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$2(33))}function Db$2(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E$2(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(a,e){Tf++,Sf[Tf]=a.current,a.current=e}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,e){var o=a.type.contextTypes;if(!o)return Vf;var c=a.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===e)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in o)h[g]=e[g];return c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=h),h}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(a,e,o){if(H$2.current!==Vf)throw Error(p$2(168));G$1(H$2,e),G$1(Wf,o)}function bg(a,e,o){var c=a.stateNode;if(e=e.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var h in c)if(!(h in e))throw Error(p$2(108,Ra$3(a)||"Unknown",h));return A$1({},o,c)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,a),G$1(Wf,Wf.current),!0}function dg(a,e,o){var c=a.stateNode;if(!c)throw Error(p$2(169));o?(a=bg(a,e,Xf),c.__reactInternalMemoizedMergedChildContext=a,E$2(Wf),E$2(H$2),G$1(H$2,a)):E$2(Wf),G$1(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,e=C$1;try{var o=eg;for(C$1=1;a<o.length;a++){var c=o[a];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(h){throw eg!==null&&(eg=eg.slice(a+1)),ac$1(fc$1,jg),h}finally{C$1=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,e){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=e}function ug(a,e,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var c=rg;a=sg;var h=32-oc$1(c)-1;c&=~(1<<h),o+=1;var g=32-oc$1(e)+h;if(30<g){var b=h-h%5;g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,rg=1<<32-oc$1(e)+h|o<<h|c,sg=g+a}else rg=1<<g|o<<h|c,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(a,e){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=e,o.return=a,e=a.deletions,e===null?(a.deletions=[o],a.flags|=16):e.push(o)}function Cg(a,e){switch(a.tag){case 5:var o=a.type;return e=e.nodeType!==1||o.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(a.stateNode=e,xg=a,yg=Lf(e.firstChild),!0):!1;case 6:return e=a.pendingProps===""||e.nodeType!==3?null:e,e!==null?(a.stateNode=e,xg=a,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(o=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:e,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=e,o.return=a,a.child=o,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I$2){var e=yg;if(e){var o=e;if(!Cg(a,e)){if(Dg(a))throw Error(p$2(418));e=Lf(o.nextSibling);var c=xg;e&&Cg(a,e)?Ag(c,o):(a.flags=a.flags&-4097|2,I$2=!1,xg=a)}}else{if(Dg(a))throw Error(p$2(418));a.flags=a.flags&-4097|2,I$2=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I$2)return Fg(a),I$2=!0,!1;var e;if((e=a.tag!==3)&&!(e=a.tag!==5)&&(e=a.type,e=e!=="head"&&e!=="body"&&!Ef(a.type,a.memoizedProps)),e&&(e=yg)){if(Dg(a))throw Hg(),Error(p$2(418));for(;e;)Ag(a,e),e=Lf(e.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$2(317));e:{for(a=a.nextSibling,e=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"){if(e===0){yg=Lf(a.nextSibling);break e}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua$3.ReactCurrentBatchConfig;function Lg(a,e){if(a&&a.defaultProps){e=A$1({},e),a=a.defaultProps;for(var o in a)e[o]===void 0&&(e[o]=a[o]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var e=Mg.current;E$2(Mg),a._currentValue=e}function Sg(a,e,o){for(;a!==null;){var c=a.alternate;if((a.childLanes&e)!==e?(a.childLanes|=e,c!==null&&(c.childLanes|=e)):c!==null&&(c.childLanes&e)!==e&&(c.childLanes|=e),a===o)break;a=a.return}}function Tg(a,e){Ng=a,Pg=Og=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&e&&(Ug=!0),a.firstContext=null)}function Vg(a){var e=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=a,Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return e}var Wg=null;function Xg(a){Wg===null?Wg=[a]:Wg.push(a)}function Yg(a,e,o,c){var h=e.interleaved;return h===null?(o.next=o,Xg(e)):(o.next=h.next,h.next=o),e.interleaved=o,Zg(a,c)}function Zg(a,e){a.lanes|=e;var o=a.alternate;for(o!==null&&(o.lanes|=e),o=a,a=a.return;a!==null;)a.childLanes|=e,o=a.alternate,o!==null&&(o.childLanes|=e),o=a,a=a.return;return o.tag===3?o.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(a,e){a=a.updateQueue,e.updateQueue===a&&(e.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,e){return{eventTime:a,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(a,e,o){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,K$2&2){var h=c.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),c.pending=e,Zg(a,o)}return h=c.interleaved,h===null?(e.next=e,Xg(c)):(e.next=h.next,h.next=e),c.interleaved=e,Zg(a,o)}function eh(a,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194240)!==0)){var c=e.lanes;c&=a.pendingLanes,o|=c,e.lanes=o,Cc$1(a,o)}}function fh(a,e){var o=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?h=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?h=g=e:g=g.next=e}else h=g=e;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=e:a.next=e,o.lastBaseUpdate=e}function gh(a,e,o,c){var h=a.updateQueue;$g=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,$=h.shared.pending;if($!==null){h.shared.pending=null;var j=$,rt=j.next;j.next=null,b===null?g=rt:b.next=rt,b=j;var nt=a.alternate;nt!==null&&(nt=nt.updateQueue,$=nt.lastBaseUpdate,$!==b&&($===null?nt.firstBaseUpdate=rt:$.next=rt,nt.lastBaseUpdate=j))}if(g!==null){var ot=h.baseState;b=0,nt=rt=j=null,$=g;do{var _t=$.lane,Et=$.eventTime;if((c&_t)===_t){nt!==null&&(nt=nt.next={eventTime:Et,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var It=a,it=$;switch(_t=e,Et=o,it.tag){case 1:if(It=it.payload,typeof It=="function"){ot=It.call(Et,ot,_t);break e}ot=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=it.payload,_t=typeof It=="function"?It.call(Et,ot,_t):It,_t==null)break e;ot=A$1({},ot,_t);break e;case 2:$g=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,_t=h.effects,_t===null?h.effects=[$]:_t.push($))}else Et={eventTime:Et,lane:_t,tag:$.tag,payload:$.payload,callback:$.callback,next:null},nt===null?(rt=nt=Et,j=ot):nt=nt.next=Et,b|=_t;if($=$.next,$===null){if($=h.shared.pending,$===null)break;_t=$,$=_t.next,_t.next=null,h.lastBaseUpdate=_t,h.shared.pending=null}}while(!0);if(nt===null&&(j=ot),h.baseState=j,h.firstBaseUpdate=rt,h.lastBaseUpdate=nt,e=h.shared.interleaved,e!==null){h=e;do b|=h.lane,h=h.next;while(h!==e)}else g===null&&(h.shared.lanes=0);hh|=b,a.lanes=b,a.memoizedState=ot}}function ih(a,e,o){if(a=e.effects,e.effects=null,a!==null)for(e=0;e<a.length;e++){var c=a[e],h=c.callback;if(h!==null){if(c.callback=null,c=o,typeof h!="function")throw Error(p$2(191,h));h.call(c)}}}var jh=new aa$3.Component().refs;function kh(a,e,o,c){e=a.memoizedState,o=o(c,e),o=o==null?e:A$1({},e,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var nh={isMounted:function(a){return(a=a._reactInternals)?Vb$1(a)===a:!1},enqueueSetState:function(a,e,o){a=a._reactInternals;var c=L$2(),h=lh(a),g=ch(c,h);g.payload=e,o!=null&&(g.callback=o),e=dh(a,g,h),e!==null&&(mh(e,a,h,c),eh(e,a,h))},enqueueReplaceState:function(a,e,o){a=a._reactInternals;var c=L$2(),h=lh(a),g=ch(c,h);g.tag=1,g.payload=e,o!=null&&(g.callback=o),e=dh(a,g,h),e!==null&&(mh(e,a,h,c),eh(e,a,h))},enqueueForceUpdate:function(a,e){a=a._reactInternals;var o=L$2(),c=lh(a),h=ch(o,c);h.tag=2,e!=null&&(h.callback=e),e=dh(a,h,c),e!==null&&(mh(e,a,c,o),eh(e,a,c))}};function oh(a,e,o,c,h,g,b){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,g,b):e.prototype&&e.prototype.isPureReactComponent?!Ie$1(o,c)||!Ie$1(h,g):!0}function ph(a,e,o){var c=!1,h=Vf,g=e.contextType;return typeof g=="object"&&g!==null?g=Vg(g):(h=Zf(e)?Xf:H$2.current,c=e.contextTypes,g=(c=c!=null)?Yf(a,h):Vf),e=new e(o,g),a.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,a.stateNode=e,e._reactInternals=a,c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=h,a.__reactInternalMemoizedMaskedChildContext=g),e}function qh(a,e,o,c){a=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,c),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,c),e.state!==a&&nh.enqueueReplaceState(e,e.state,null)}function rh(a,e,o,c){var h=a.stateNode;h.props=o,h.state=a.memoizedState,h.refs=jh,ah(a);var g=e.contextType;typeof g=="object"&&g!==null?h.context=Vg(g):(g=Zf(e)?Xf:H$2.current,h.context=Yf(a,g)),h.state=a.memoizedState,g=e.getDerivedStateFromProps,typeof g=="function"&&(kh(a,e,g,o),h.state=a.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(e=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),e!==h.state&&nh.enqueueReplaceState(h,h.state,null),gh(a,o,h,c),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308)}function sh(a,e,o){if(a=o.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$2(309));var c=o.stateNode}if(!c)throw Error(p$2(147,a));var h=c,g=""+a;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===g?e.ref:(e=function(b){var $=h.refs;$===jh&&($=h.refs={}),b===null?delete $[g]:$[g]=b},e._stringRef=g,e)}if(typeof a!="string")throw Error(p$2(284));if(!o._owner)throw Error(p$2(290,a))}return a}function th(a,e){throw a=Object.prototype.toString.call(e),Error(p$2(31,a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a))}function uh(a){var e=a._init;return e(a._payload)}function vh(a){function e(Mt,bt){if(a){var Lt=Mt.deletions;Lt===null?(Mt.deletions=[bt],Mt.flags|=16):Lt.push(bt)}}function o(Mt,bt){if(!a)return null;for(;bt!==null;)e(Mt,bt),bt=bt.sibling;return null}function c(Mt,bt){for(Mt=new Map;bt!==null;)bt.key!==null?Mt.set(bt.key,bt):Mt.set(bt.index,bt),bt=bt.sibling;return Mt}function h(Mt,bt){return Mt=wh(Mt,bt),Mt.index=0,Mt.sibling=null,Mt}function g(Mt,bt,Lt){return Mt.index=Lt,a?(Lt=Mt.alternate,Lt!==null?(Lt=Lt.index,Lt<bt?(Mt.flags|=2,bt):Lt):(Mt.flags|=2,bt)):(Mt.flags|=1048576,bt)}function b(Mt){return a&&Mt.alternate===null&&(Mt.flags|=2),Mt}function $(Mt,bt,Lt,pt){return bt===null||bt.tag!==6?(bt=xh(Lt,Mt.mode,pt),bt.return=Mt,bt):(bt=h(bt,Lt),bt.return=Mt,bt)}function j(Mt,bt,Lt,pt){var Dt=Lt.type;return Dt===ya$3?nt(Mt,bt,Lt.props.children,pt,Lt.key):bt!==null&&(bt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ha$3&&uh(Dt)===bt.type)?(pt=h(bt,Lt.props),pt.ref=sh(Mt,bt,Lt),pt.return=Mt,pt):(pt=yh(Lt.type,Lt.key,Lt.props,null,Mt.mode,pt),pt.ref=sh(Mt,bt,Lt),pt.return=Mt,pt)}function rt(Mt,bt,Lt,pt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==Lt.containerInfo||bt.stateNode.implementation!==Lt.implementation?(bt=zh(Lt,Mt.mode,pt),bt.return=Mt,bt):(bt=h(bt,Lt.children||[]),bt.return=Mt,bt)}function nt(Mt,bt,Lt,pt,Dt){return bt===null||bt.tag!==7?(bt=Ah(Lt,Mt.mode,pt,Dt),bt.return=Mt,bt):(bt=h(bt,Lt),bt.return=Mt,bt)}function ot(Mt,bt,Lt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return bt=xh(""+bt,Mt.mode,Lt),bt.return=Mt,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va$3:return Lt=yh(bt.type,bt.key,bt.props,null,Mt.mode,Lt),Lt.ref=sh(Mt,null,bt),Lt.return=Mt,Lt;case wa$3:return bt=zh(bt,Mt.mode,Lt),bt.return=Mt,bt;case Ha$3:var pt=bt._init;return ot(Mt,pt(bt._payload),Lt)}if(eb$2(bt)||Ka$3(bt))return bt=Ah(bt,Mt.mode,Lt,null),bt.return=Mt,bt;th(Mt,bt)}return null}function _t(Mt,bt,Lt,pt){var Dt=bt!==null?bt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return Dt!==null?null:$(Mt,bt,""+Lt,pt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va$3:return Lt.key===Dt?j(Mt,bt,Lt,pt):null;case wa$3:return Lt.key===Dt?rt(Mt,bt,Lt,pt):null;case Ha$3:return Dt=Lt._init,_t(Mt,bt,Dt(Lt._payload),pt)}if(eb$2(Lt)||Ka$3(Lt))return Dt!==null?null:nt(Mt,bt,Lt,pt,null);th(Mt,Lt)}return null}function Et(Mt,bt,Lt,pt,Dt){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Mt=Mt.get(Lt)||null,$(bt,Mt,""+pt,Dt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va$3:return Mt=Mt.get(pt.key===null?Lt:pt.key)||null,j(bt,Mt,pt,Dt);case wa$3:return Mt=Mt.get(pt.key===null?Lt:pt.key)||null,rt(bt,Mt,pt,Dt);case Ha$3:var wt=pt._init;return Et(Mt,bt,Lt,wt(pt._payload),Dt)}if(eb$2(pt)||Ka$3(pt))return Mt=Mt.get(Lt)||null,nt(bt,Mt,pt,Dt,null);th(bt,pt)}return null}function It(Mt,bt,Lt,pt){for(var Dt=null,wt=null,Bt=bt,jt=bt=0,hr=null;Bt!==null&&jt<Lt.length;jt++){Bt.index>jt?(hr=Bt,Bt=null):hr=Bt.sibling;var gr=_t(Mt,Bt,Lt[jt],pt);if(gr===null){Bt===null&&(Bt=hr);break}a&&Bt&&gr.alternate===null&&e(Mt,Bt),bt=g(gr,bt,jt),wt===null?Dt=gr:wt.sibling=gr,wt=gr,Bt=hr}if(jt===Lt.length)return o(Mt,Bt),I$2&&tg(Mt,jt),Dt;if(Bt===null){for(;jt<Lt.length;jt++)Bt=ot(Mt,Lt[jt],pt),Bt!==null&&(bt=g(Bt,bt,jt),wt===null?Dt=Bt:wt.sibling=Bt,wt=Bt);return I$2&&tg(Mt,jt),Dt}for(Bt=c(Mt,Bt);jt<Lt.length;jt++)hr=Et(Bt,Mt,jt,Lt[jt],pt),hr!==null&&(a&&hr.alternate!==null&&Bt.delete(hr.key===null?jt:hr.key),bt=g(hr,bt,jt),wt===null?Dt=hr:wt.sibling=hr,wt=hr);return a&&Bt.forEach(function(Cr){return e(Mt,Cr)}),I$2&&tg(Mt,jt),Dt}function it(Mt,bt,Lt,pt){var Dt=Ka$3(Lt);if(typeof Dt!="function")throw Error(p$2(150));if(Lt=Dt.call(Lt),Lt==null)throw Error(p$2(151));for(var wt=Dt=null,Bt=bt,jt=bt=0,hr=null,gr=Lt.next();Bt!==null&&!gr.done;jt++,gr=Lt.next()){Bt.index>jt?(hr=Bt,Bt=null):hr=Bt.sibling;var Cr=_t(Mt,Bt,gr.value,pt);if(Cr===null){Bt===null&&(Bt=hr);break}a&&Bt&&Cr.alternate===null&&e(Mt,Bt),bt=g(Cr,bt,jt),wt===null?Dt=Cr:wt.sibling=Cr,wt=Cr,Bt=hr}if(gr.done)return o(Mt,Bt),I$2&&tg(Mt,jt),Dt;if(Bt===null){for(;!gr.done;jt++,gr=Lt.next())gr=ot(Mt,gr.value,pt),gr!==null&&(bt=g(gr,bt,jt),wt===null?Dt=gr:wt.sibling=gr,wt=gr);return I$2&&tg(Mt,jt),Dt}for(Bt=c(Mt,Bt);!gr.done;jt++,gr=Lt.next())gr=Et(Bt,Mt,jt,gr.value,pt),gr!==null&&(a&&gr.alternate!==null&&Bt.delete(gr.key===null?jt:gr.key),bt=g(gr,bt,jt),wt===null?Dt=gr:wt.sibling=gr,wt=gr);return a&&Bt.forEach(function(wr){return e(Mt,wr)}),I$2&&tg(Mt,jt),Dt}function st(Mt,bt,Lt,pt){if(typeof Lt=="object"&&Lt!==null&&Lt.type===ya$3&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va$3:e:{for(var Dt=Lt.key,wt=bt;wt!==null;){if(wt.key===Dt){if(Dt=Lt.type,Dt===ya$3){if(wt.tag===7){o(Mt,wt.sibling),bt=h(wt,Lt.props.children),bt.return=Mt,Mt=bt;break e}}else if(wt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ha$3&&uh(Dt)===wt.type){o(Mt,wt.sibling),bt=h(wt,Lt.props),bt.ref=sh(Mt,wt,Lt),bt.return=Mt,Mt=bt;break e}o(Mt,wt);break}else e(Mt,wt);wt=wt.sibling}Lt.type===ya$3?(bt=Ah(Lt.props.children,Mt.mode,pt,Lt.key),bt.return=Mt,Mt=bt):(pt=yh(Lt.type,Lt.key,Lt.props,null,Mt.mode,pt),pt.ref=sh(Mt,bt,Lt),pt.return=Mt,Mt=pt)}return b(Mt);case wa$3:e:{for(wt=Lt.key;bt!==null;){if(bt.key===wt)if(bt.tag===4&&bt.stateNode.containerInfo===Lt.containerInfo&&bt.stateNode.implementation===Lt.implementation){o(Mt,bt.sibling),bt=h(bt,Lt.children||[]),bt.return=Mt,Mt=bt;break e}else{o(Mt,bt);break}else e(Mt,bt);bt=bt.sibling}bt=zh(Lt,Mt.mode,pt),bt.return=Mt,Mt=bt}return b(Mt);case Ha$3:return wt=Lt._init,st(Mt,bt,wt(Lt._payload),pt)}if(eb$2(Lt))return It(Mt,bt,Lt,pt);if(Ka$3(Lt))return it(Mt,bt,Lt,pt);th(Mt,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"?(Lt=""+Lt,bt!==null&&bt.tag===6?(o(Mt,bt.sibling),bt=h(bt,Lt),bt.return=Mt,Mt=bt):(o(Mt,bt),bt=xh(Lt,Mt.mode,pt),bt.return=Mt,Mt=bt),b(Mt)):o(Mt,bt)}return st}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p$2(174));return a}function Ih(a,e){switch(G$1(Gh,e),G$1(Fh,a),G$1(Eh,Dh),a=e.nodeType,a){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb$2(null,"");break;default:a=a===8?e.parentNode:e,e=a.namespaceURI||null,a=a.tagName,e=lb$2(e,a)}E$2(Eh),G$1(Eh,e)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(a){Hh(Gh.current);var e=Hh(Eh.current),o=lb$2(e,a.type);e!==o&&(G$1(Fh,a),G$1(Eh,o))}function Lh(a){Fh.current===a&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(a){for(var e=a;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$3.ReactCurrentDispatcher,Qh=ua$3.ReactCurrentBatchConfig,Rh=0,N$3=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$2(321))}function Wh(a,e){if(e===null)return!1;for(var o=0;o<e.length&&o<a.length;o++)if(!He$1(a[o],e[o]))return!1;return!0}function Xh(a,e,o,c,h,g){if(Rh=g,N$3=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=a===null||a.memoizedState===null?Yh:Zh,a=o(c,h),Th){g=0;do{if(Th=!1,Uh=0,25<=g)throw Error(p$2(301));g+=1,P$2=O$2=null,e.updateQueue=null,Ph.current=$h,a=o(c,h)}while(Th)}if(Ph.current=ai$1,e=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$3=null,Sh=!1,e)throw Error(p$2(300));return a}function bi$1(){var a=Uh!==0;return Uh=0,a}function ci$1(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$3.memoizedState=P$2=a:P$2=P$2.next=a,P$2}function di$1(){if(O$2===null){var a=N$3.alternate;a=a!==null?a.memoizedState:null}else a=O$2.next;var e=P$2===null?N$3.memoizedState:P$2.next;if(e!==null)P$2=e,O$2=a;else{if(a===null)throw Error(p$2(310));O$2=a,a={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$3.memoizedState=P$2=a:P$2=P$2.next=a}return P$2}function ei$1(a,e){return typeof e=="function"?e(a):e}function fi$1(a){var e=di$1(),o=e.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=a;var c=O$2,h=c.baseQueue,g=o.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}c.baseQueue=h=g,o.pending=null}if(h!==null){g=h.next,c=c.baseState;var $=b=null,j=null,rt=g;do{var nt=rt.lane;if((Rh&nt)===nt)j!==null&&(j=j.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),c=rt.hasEagerState?rt.eagerState:a(c,rt.action);else{var ot={lane:nt,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};j===null?($=j=ot,b=c):j=j.next=ot,N$3.lanes|=nt,hh|=nt}rt=rt.next}while(rt!==null&&rt!==g);j===null?b=c:j.next=$,He$1(c,e.memoizedState)||(Ug=!0),e.memoizedState=c,e.baseState=b,e.baseQueue=j,o.lastRenderedState=c}if(a=o.interleaved,a!==null){h=a;do g=h.lane,N$3.lanes|=g,hh|=g,h=h.next;while(h!==a)}else h===null&&(o.lanes=0);return[e.memoizedState,o.dispatch]}function gi$1(a){var e=di$1(),o=e.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=a;var c=o.dispatch,h=o.pending,g=e.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do g=a(g,b.action),b=b.next;while(b!==h);He$1(g,e.memoizedState)||(Ug=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),o.lastRenderedState=g}return[g,c]}function hi$1(){}function ii$1(a,e){var o=N$3,c=di$1(),h=e(),g=!He$1(c.memoizedState,h);if(g&&(c.memoizedState=h,Ug=!0),c=c.queue,ji$2(ki$2.bind(null,o,c,a),[a]),c.getSnapshot!==e||g||P$2!==null&&P$2.memoizedState.tag&1){if(o.flags|=2048,li$1(9,mi$1.bind(null,o,c,h,e),void 0,null),R$2===null)throw Error(p$2(349));Rh&30||ni$1(o,e,h)}return h}function ni$1(a,e,o){a.flags|=16384,a={getSnapshot:e,value:o},e=N$3.updateQueue,e===null?(e={lastEffect:null,stores:null},N$3.updateQueue=e,e.stores=[a]):(o=e.stores,o===null?e.stores=[a]:o.push(a))}function mi$1(a,e,o,c){e.value=o,e.getSnapshot=c,oi$1(e)&&pi$1(a)}function ki$2(a,e,o){return o(function(){oi$1(e)&&pi$1(a)})}function oi$1(a){var e=a.getSnapshot;a=a.value;try{var o=e();return!He$1(a,o)}catch{return!0}}function pi$1(a){var e=Zg(a,1);e!==null&&mh(e,a,1,-1)}function qi$1(a){var e=ci$1();return typeof a=="function"&&(a=a()),e.memoizedState=e.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei$1,lastRenderedState:a},e.queue=a,a=a.dispatch=ri$1.bind(null,N$3,a),[e.memoizedState,a]}function li$1(a,e,o,c){return a={tag:a,create:e,destroy:o,deps:c,next:null},e=N$3.updateQueue,e===null?(e={lastEffect:null,stores:null},N$3.updateQueue=e,e.lastEffect=a.next=a):(o=e.lastEffect,o===null?e.lastEffect=a.next=a:(c=o.next,o.next=a,a.next=c,e.lastEffect=a)),a}function si$1(){return di$1().memoizedState}function ti$1(a,e,o,c){var h=ci$1();N$3.flags|=a,h.memoizedState=li$1(1|e,o,void 0,c===void 0?null:c)}function ui$1(a,e,o,c){var h=di$1();c=c===void 0?null:c;var g=void 0;if(O$2!==null){var b=O$2.memoizedState;if(g=b.destroy,c!==null&&Wh(c,b.deps)){h.memoizedState=li$1(e,o,g,c);return}}N$3.flags|=a,h.memoizedState=li$1(1|e,o,g,c)}function vi$1(a,e){return ti$1(8390656,8,a,e)}function ji$2(a,e){return ui$1(2048,8,a,e)}function wi$1(a,e){return ui$1(4,2,a,e)}function xi$1(a,e){return ui$1(4,4,a,e)}function yi$1(a,e){if(typeof e=="function")return a=a(),e(a),function(){e(null)};if(e!=null)return a=a(),e.current=a,function(){e.current=null}}function zi$1(a,e,o){return o=o!=null?o.concat([a]):null,ui$1(4,4,yi$1.bind(null,e,a),o)}function Ai$2(){}function Bi$1(a,e){var o=di$1();e=e===void 0?null:e;var c=o.memoizedState;return c!==null&&e!==null&&Wh(e,c[1])?c[0]:(o.memoizedState=[a,e],a)}function Ci$2(a,e){var o=di$1();e=e===void 0?null:e;var c=o.memoizedState;return c!==null&&e!==null&&Wh(e,c[1])?c[0]:(a=a(),o.memoizedState=[a,e],a)}function Di$2(a,e,o){return Rh&21?(He$1(o,e)||(o=yc$1(),N$3.lanes|=o,hh|=o,a.baseState=!0),e):(a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=o)}function Ei$1(a,e){var o=C$1;C$1=o!==0&&4>o?o:4,a(!0);var c=Qh.transition;Qh.transition={};try{a(!1),e()}finally{C$1=o,Qh.transition=c}}function Fi$1(){return di$1().memoizedState}function Gi$1(a,e,o){var c=lh(a);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Hi$1(a))Ii$1(e,o);else if(o=Yg(a,e,o,c),o!==null){var h=L$2();mh(o,a,c,h),Ji$1(o,e,c)}}function ri$1(a,e,o){var c=lh(a),h={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hi$1(a))Ii$1(e,h);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var b=e.lastRenderedState,$=g(b,o);if(h.hasEagerState=!0,h.eagerState=$,He$1($,b)){var j=e.interleaved;j===null?(h.next=h,Xg(e)):(h.next=j.next,j.next=h),e.interleaved=h;return}}catch{}finally{}o=Yg(a,e,h,c),o!==null&&(h=L$2(),mh(o,a,c,h),Ji$1(o,e,c))}}function Hi$1(a){var e=a.alternate;return a===N$3||e!==null&&e===N$3}function Ii$1(a,e){Th=Sh=!0;var o=a.pending;o===null?e.next=e:(e.next=o.next,o.next=e),a.pending=e}function Ji$1(a,e,o){if(o&4194240){var c=e.lanes;c&=a.pendingLanes,o|=c,e.lanes=o,Cc$1(a,o)}}var ai$1={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,e){return ci$1().memoizedState=[a,e===void 0?null:e],a},useContext:Vg,useEffect:vi$1,useImperativeHandle:function(a,e,o){return o=o!=null?o.concat([a]):null,ti$1(4194308,4,yi$1.bind(null,e,a),o)},useLayoutEffect:function(a,e){return ti$1(4194308,4,a,e)},useInsertionEffect:function(a,e){return ti$1(4,2,a,e)},useMemo:function(a,e){var o=ci$1();return e=e===void 0?null:e,a=a(),o.memoizedState=[a,e],a},useReducer:function(a,e,o){var c=ci$1();return e=o!==void 0?o(e):e,c.memoizedState=c.baseState=e,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:e},c.queue=a,a=a.dispatch=Gi$1.bind(null,N$3,a),[c.memoizedState,a]},useRef:function(a){var e=ci$1();return a={current:a},e.memoizedState=a},useState:qi$1,useDebugValue:Ai$2,useDeferredValue:function(a){return ci$1().memoizedState=a},useTransition:function(){var a=qi$1(!1),e=a[0];return a=Ei$1.bind(null,a[1]),ci$1().memoizedState=a,[e,a]},useMutableSource:function(){},useSyncExternalStore:function(a,e,o){var c=N$3,h=ci$1();if(I$2){if(o===void 0)throw Error(p$2(407));o=o()}else{if(o=e(),R$2===null)throw Error(p$2(349));Rh&30||ni$1(c,e,o)}h.memoizedState=o;var g={value:o,getSnapshot:e};return h.queue=g,vi$1(ki$2.bind(null,c,g,a),[a]),c.flags|=2048,li$1(9,mi$1.bind(null,c,g,o,e),void 0,null),o},useId:function(){var a=ci$1(),e=R$2.identifierPrefix;if(I$2){var o=sg,c=rg;o=(c&~(1<<32-oc$1(c)-1)).toString(32)+o,e=":"+e+"R"+o,o=Uh++,0<o&&(e+="H"+o.toString(32)),e+=":"}else o=Vh++,e=":"+e+"r"+o.toString(32)+":";return a.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$2,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$2,useReducer:fi$1,useRef:si$1,useState:function(){return fi$1(ei$1)},useDebugValue:Ai$2,useDeferredValue:function(a){var e=di$1();return Di$2(e,O$2.memoizedState,a)},useTransition:function(){var a=fi$1(ei$1)[0],e=di$1().memoizedState;return[a,e]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$2,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$2,useReducer:gi$1,useRef:si$1,useState:function(){return gi$1(ei$1)},useDebugValue:Ai$2,useDeferredValue:function(a){var e=di$1();return O$2===null?e.memoizedState=a:Di$2(e,O$2.memoizedState,a)},useTransition:function(){var a=gi$1(ei$1)[0],e=di$1().memoizedState;return[a,e]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1};function Ki$1(a,e){try{var o="",c=e;do o+=Pa$2(c),c=c.return;while(c);var h=o}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:a,source:e,stack:h,digest:null}}function Li$1(a,e,o){return{value:a,source:null,stack:o??null,digest:e??null}}function Mi$1(a,e){try{console.error(e.value)}catch(o){setTimeout(function(){throw o})}}var Ni$1=typeof WeakMap=="function"?WeakMap:Map;function Oi$1(a,e,o){o=ch(-1,o),o.tag=3,o.payload={element:null};var c=e.value;return o.callback=function(){Pi$2||(Pi$2=!0,Qi$1=c),Mi$1(a,e)},o}function Ri$2(a,e,o){o=ch(-1,o),o.tag=3;var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=e.value;o.payload=function(){return c(h)},o.callback=function(){Mi$1(a,e)}}var g=a.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){Mi$1(a,e),typeof c!="function"&&(Si$2===null?Si$2=new Set([this]):Si$2.add(this));var b=e.stack;this.componentDidCatch(e.value,{componentStack:b!==null?b:""})}),o}function Ti$2(a,e,o){var c=a.pingCache;if(c===null){c=a.pingCache=new Ni$1;var h=new Set;c.set(e,h)}else h=c.get(e),h===void 0&&(h=new Set,c.set(e,h));h.has(o)||(h.add(o),a=Ui$1.bind(null,a,e,o),e.then(a,a))}function Vi$1(a){do{var e;if((e=a.tag===13)&&(e=a.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return a;a=a.return}while(a!==null);return null}function Wi$1(a,e,o,c,h){return a.mode&1?(a.flags|=65536,a.lanes=h,a):(a===e?a.flags|=65536:(a.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(e=ch(-1,1),e.tag=2,dh(o,e,1))),o.lanes|=1),a)}var Xi$1=ua$3.ReactCurrentOwner,Ug=!1;function Yi$1(a,e,o,c){e.child=a===null?Ch(e,null,o,c):Bh(e,a.child,o,c)}function Zi$1(a,e,o,c,h){o=o.render;var g=e.ref;return Tg(e,h),c=Xh(a,e,o,c,g,h),o=bi$1(),a!==null&&!Ug?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~h,$i$1(a,e,h)):(I$2&&o&&vg(e),e.flags|=1,Yi$1(a,e,c,h),e.child)}function aj(a,e,o,c,h){if(a===null){var g=o.type;return typeof g=="function"&&!bj(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(e.tag=15,e.type=g,cj(a,e,g,c,h)):(a=yh(o.type,null,c,e,e.mode,h),a.ref=e.ref,a.return=e,e.child=a)}if(g=a.child,!(a.lanes&h)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ie$1,o(b,c)&&a.ref===e.ref)return $i$1(a,e,h)}return e.flags|=1,a=wh(g,c),a.ref=e.ref,a.return=e,e.child=a}function cj(a,e,o,c,h){if(a!==null){var g=a.memoizedProps;if(Ie$1(g,c)&&a.ref===e.ref)if(Ug=!1,e.pendingProps=c=g,(a.lanes&h)!==0)a.flags&131072&&(Ug=!0);else return e.lanes=a.lanes,$i$1(a,e,h)}return dj(a,e,o,c,h)}function ej(a,e,o){var c=e.pendingProps,h=c.children,g=a!==null?a.memoizedState:null;if(c.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=o;else{if(!(o&1073741824))return a=g!==null?g.baseLanes|o:o,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:a,cachePool:null,transitions:null},e.updateQueue=null,G$1(fj,gj),gj|=a,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:o,G$1(fj,gj),gj|=c}else g!==null?(c=g.baseLanes|o,e.memoizedState=null):c=o,G$1(fj,gj),gj|=c;return Yi$1(a,e,h,o),e.child}function hj(a,e){var o=e.ref;(a===null&&o!==null||a!==null&&a.ref!==o)&&(e.flags|=512,e.flags|=2097152)}function dj(a,e,o,c,h){var g=Zf(o)?Xf:H$2.current;return g=Yf(e,g),Tg(e,h),o=Xh(a,e,o,c,g,h),c=bi$1(),a!==null&&!Ug?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~h,$i$1(a,e,h)):(I$2&&c&&vg(e),e.flags|=1,Yi$1(a,e,o,h),e.child)}function ij(a,e,o,c,h){if(Zf(o)){var g=!0;cg(e)}else g=!1;if(Tg(e,h),e.stateNode===null)jj(a,e),ph(e,o,c),rh(e,o,c,h),c=!0;else if(a===null){var b=e.stateNode,$=e.memoizedProps;b.props=$;var j=b.context,rt=o.contextType;typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(o)?Xf:H$2.current,rt=Yf(e,rt));var nt=o.getDerivedStateFromProps,ot=typeof nt=="function"||typeof b.getSnapshotBeforeUpdate=="function";ot||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==c||j!==rt)&&qh(e,b,c,rt),$g=!1;var _t=e.memoizedState;b.state=_t,gh(e,c,b,h),j=e.memoizedState,$!==c||_t!==j||Wf.current||$g?(typeof nt=="function"&&(kh(e,o,nt,c),j=e.memoizedState),($=$g||oh(e,o,$,c,_t,j,rt))?(ot||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(e.flags|=4194308)):(typeof b.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=c,e.memoizedState=j),b.props=c,b.state=j,b.context=rt,c=$):(typeof b.componentDidMount=="function"&&(e.flags|=4194308),c=!1)}else{b=e.stateNode,bh(a,e),$=e.memoizedProps,rt=e.type===e.elementType?$:Lg(e.type,$),b.props=rt,ot=e.pendingProps,_t=b.context,j=o.contextType,typeof j=="object"&&j!==null?j=Vg(j):(j=Zf(o)?Xf:H$2.current,j=Yf(e,j));var Et=o.getDerivedStateFromProps;(nt=typeof Et=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==ot||_t!==j)&&qh(e,b,c,j),$g=!1,_t=e.memoizedState,b.state=_t,gh(e,c,b,h);var It=e.memoizedState;$!==ot||_t!==It||Wf.current||$g?(typeof Et=="function"&&(kh(e,o,Et,c),It=e.memoizedState),(rt=$g||oh(e,o,rt,c,_t,It,j)||!1)?(nt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,It,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,It,j)),typeof b.componentDidUpdate=="function"&&(e.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof b.componentDidUpdate!="function"||$===a.memoizedProps&&_t===a.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&_t===a.memoizedState||(e.flags|=1024),e.memoizedProps=c,e.memoizedState=It),b.props=c,b.state=It,b.context=j,c=rt):(typeof b.componentDidUpdate!="function"||$===a.memoizedProps&&_t===a.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&_t===a.memoizedState||(e.flags|=1024),c=!1)}return kj(a,e,o,c,g,h)}function kj(a,e,o,c,h,g){hj(a,e);var b=(e.flags&128)!==0;if(!c&&!b)return h&&dg(e,o,!1),$i$1(a,e,g);c=e.stateNode,Xi$1.current=e;var $=b&&typeof o.getDerivedStateFromError!="function"?null:c.render();return e.flags|=1,a!==null&&b?(e.child=Bh(e,a.child,null,g),e.child=Bh(e,null,$,g)):Yi$1(a,e,$,g),e.memoizedState=c.state,h&&dg(e,o,!0),e.child}function lj(a){var e=a.stateNode;e.pendingContext?ag(a,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(a,e.context,!1),Ih(a,e.containerInfo)}function mj(a,e,o,c,h){return Ig(),Jg(h),e.flags|=256,Yi$1(a,e,o,c),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}function pj(a,e,o){var c=e.pendingProps,h=M$2.current,g=!1,b=(e.flags&128)!==0,$;if(($=b)||($=a!==null&&a.memoizedState===null?!1:(h&2)!==0),$?(g=!0,e.flags&=-129):(a===null||a.memoizedState!==null)&&(h|=1),G$1(M$2,h&1),a===null)return Eg(e),a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(e.mode&1?a.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(b=c.children,a=c.fallback,g?(c=e.mode,g=e.child,b={mode:"hidden",children:b},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=b):g=qj(b,c,0,null),a=Ah(a,c,o,null),g.return=e,a.return=e,g.sibling=a,e.child=g,e.child.memoizedState=oj(o),e.memoizedState=nj,a):rj(e,b));if(h=a.memoizedState,h!==null&&($=h.dehydrated,$!==null))return sj(a,e,b,c,$,h,o);if(g){g=c.fallback,b=e.mode,h=a.child,$=h.sibling;var j={mode:"hidden",children:c.children};return!(b&1)&&e.child!==h?(c=e.child,c.childLanes=0,c.pendingProps=j,e.deletions=null):(c=wh(h,j),c.subtreeFlags=h.subtreeFlags&14680064),$!==null?g=wh($,g):(g=Ah(g,b,o,null),g.flags|=2),g.return=e,c.return=e,c.sibling=g,e.child=c,c=g,g=e.child,b=a.child.memoizedState,b=b===null?oj(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=a.childLanes&~o,e.memoizedState=nj,c}return g=a.child,a=g.sibling,c=wh(g,{mode:"visible",children:c.children}),!(e.mode&1)&&(c.lanes=o),c.return=e,c.sibling=null,a!==null&&(o=e.deletions,o===null?(e.deletions=[a],e.flags|=16):o.push(a)),e.child=c,e.memoizedState=null,c}function rj(a,e){return e=qj({mode:"visible",children:e},a.mode,0,null),e.return=a,a.child=e}function tj(a,e,o,c){return c!==null&&Jg(c),Bh(e,a.child,null,o),a=rj(e,e.pendingProps.children),a.flags|=2,e.memoizedState=null,a}function sj(a,e,o,c,h,g,b){if(o)return e.flags&256?(e.flags&=-257,c=Li$1(Error(p$2(422))),tj(a,e,b,c)):e.memoizedState!==null?(e.child=a.child,e.flags|=128,null):(g=c.fallback,h=e.mode,c=qj({mode:"visible",children:c.children},h,0,null),g=Ah(g,h,b,null),g.flags|=2,c.return=e,g.return=e,c.sibling=g,e.child=c,e.mode&1&&Bh(e,a.child,null,b),e.child.memoizedState=oj(b),e.memoizedState=nj,g);if(!(e.mode&1))return tj(a,e,b,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var $=c.dgst;return c=$,g=Error(p$2(419)),c=Li$1(g,c,void 0),tj(a,e,b,c)}if($=(b&a.childLanes)!==0,Ug||$){if(c=R$2,c!==null){switch(b&-b){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|b)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Zg(a,h),mh(c,a,h,-1))}return uj(),c=Li$1(Error(p$2(421))),tj(a,e,b,c)}return h.data==="$?"?(e.flags|=128,e.child=a.child,e=vj.bind(null,a),h._reactRetry=e,null):(a=g.treeContext,yg=Lf(h.nextSibling),xg=e,I$2=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=e),e=rj(e,c.children),e.flags|=4096,e)}function wj(a,e,o){a.lanes|=e;var c=a.alternate;c!==null&&(c.lanes|=e),Sg(a.return,e,o)}function xj(a,e,o,c,h){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function yj(a,e,o){var c=e.pendingProps,h=c.revealOrder,g=c.tail;if(Yi$1(a,e,c.children,o),c=M$2.current,c&2)c=c&1|2,e.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=e.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wj(a,o,e);else if(a.tag===19)wj(a,o,e);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}if(G$1(M$2,c),!(e.mode&1))e.memoizedState=null;else switch(h){case"forwards":for(o=e.child,h=null;o!==null;)a=o.alternate,a!==null&&Mh(a)===null&&(h=o),o=o.sibling;o=h,o===null?(h=e.child,e.child=null):(h=o.sibling,o.sibling=null),xj(e,!1,h,o,g);break;case"backwards":for(o=null,h=e.child,e.child=null;h!==null;){if(a=h.alternate,a!==null&&Mh(a)===null){e.child=h;break}a=h.sibling,h.sibling=o,o=h,h=a}xj(e,!0,o,null,g);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(a,e){!(e.mode&1)&&a!==null&&(a.alternate=null,e.alternate=null,e.flags|=2)}function $i$1(a,e,o){if(a!==null&&(e.dependencies=a.dependencies),hh|=e.lanes,!(o&e.childLanes))return null;if(a!==null&&e.child!==a.child)throw Error(p$2(153));if(e.child!==null){for(a=e.child,o=wh(a,a.pendingProps),e.child=o,o.return=e;a.sibling!==null;)a=a.sibling,o=o.sibling=wh(a,a.pendingProps),o.return=e;o.sibling=null}return e.child}function zj(a,e,o){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var c=e.type._context,h=e.memoizedProps.value;G$1(Mg,c._currentValue),c._currentValue=h;break;case 13:if(c=e.memoizedState,c!==null)return c.dehydrated!==null?(G$1(M$2,M$2.current&1),e.flags|=128,null):o&e.child.childLanes?pj(a,e,o):(G$1(M$2,M$2.current&1),a=$i$1(a,e,o),a!==null?a.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(c=(o&e.childLanes)!==0,a.flags&128){if(c)return yj(a,e,o);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G$1(M$2,M$2.current),c)break;return null;case 22:case 23:return e.lanes=0,ej(a,e,o)}return $i$1(a,e,o)}var Aj,Bj,Cj,Dj;Aj=function(a,e){for(var o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Bj=function(){};Cj=function(a,e,o,c){var h=a.memoizedProps;if(h!==c){a=e.stateNode,Hh(Eh.current);var g=null;switch(o){case"input":h=Ya$2(a,h),c=Ya$2(a,c),g=[];break;case"select":h=A$1({},h,{value:void 0}),c=A$1({},c,{value:void 0}),g=[];break;case"textarea":h=gb$2(a,h),c=gb$2(a,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(a.onclick=Bf)}ub$2(o,c);var b;o=null;for(rt in h)if(!c.hasOwnProperty(rt)&&h.hasOwnProperty(rt)&&h[rt]!=null)if(rt==="style"){var $=h[rt];for(b in $)$.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea$2.hasOwnProperty(rt)?g||(g=[]):(g=g||[]).push(rt,null));for(rt in c){var j=c[rt];if($=h!=null?h[rt]:void 0,c.hasOwnProperty(rt)&&j!==$&&(j!=null||$!=null))if(rt==="style")if($){for(b in $)!$.hasOwnProperty(b)||j&&j.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in j)j.hasOwnProperty(b)&&$[b]!==j[b]&&(o||(o={}),o[b]=j[b])}else o||(g||(g=[]),g.push(rt,o)),o=j;else rt==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,$=$?$.__html:void 0,j!=null&&$!==j&&(g=g||[]).push(rt,j)):rt==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(rt,""+j):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(rt)?(j!=null&&rt==="onScroll"&&D$1("scroll",a),g||$===j||(g=[])):(g=g||[]).push(rt,j))}o&&(g=g||[]).push("style",o);var rt=g;(e.updateQueue=rt)&&(e.flags|=4)}};Dj=function(a,e,o,c){o!==c&&(e.flags|=4)};function Ej(a,e){if(!I$2)switch(a.tailMode){case"hidden":e=a.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?e||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function S$2(a){var e=a.alternate!==null&&a.alternate.child===a.child,o=0,c=0;if(e)for(var h=a.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=a,h=h.sibling;else for(h=a.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=a,h=h.sibling;return a.subtreeFlags|=c,a.childLanes=o,e}function Fj(a,e,o){var c=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(e),null;case 1:return Zf(e.type)&&$f(),S$2(e),null;case 3:return c=e.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Gg(e)?e.flags|=4:a===null||a.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(a,e),S$2(e),null;case 5:Lh(e);var h=Hh(Gh.current);if(o=e.type,a!==null&&e.stateNode!=null)Cj(a,e,o,c,h),a.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!c){if(e.stateNode===null)throw Error(p$2(166));return S$2(e),null}if(a=Hh(Eh.current),Gg(e)){c=e.stateNode,o=e.type;var g=e.memoizedProps;switch(c[Of]=e,c[Pf]=g,a=(e.mode&1)!==0,o){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(h=0;h<lf.length;h++)D$1(lf[h],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za$2(c,g),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},D$1("invalid",c);break;case"textarea":hb$2(c,g),D$1("invalid",c)}ub$2(o,g),h=null;for(var b in g)if(g.hasOwnProperty(b)){var $=g[b];b==="children"?typeof $=="string"?c.textContent!==$&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,$,a),h=["children",$]):typeof $=="number"&&c.textContent!==""+$&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,$,a),h=["children",""+$]):ea$2.hasOwnProperty(b)&&$!=null&&b==="onScroll"&&D$1("scroll",c)}switch(o){case"input":Va$2(c),db$2(c,g,!0);break;case"textarea":Va$2(c),jb$2(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Bf)}c=h,e.updateQueue=c,c!==null&&(e.flags|=4)}else{b=h.nodeType===9?h:h.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb$2(o)),a==="http://www.w3.org/1999/xhtml"?o==="script"?(a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof c.is=="string"?a=b.createElement(o,{is:c.is}):(a=b.createElement(o),o==="select"&&(b=a,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):a=b.createElementNS(a,o),a[Of]=e,a[Pf]=c,Aj(a,e,!1,!1),e.stateNode=a;e:{switch(b=vb$2(o,c),o){case"dialog":D$1("cancel",a),D$1("close",a),h=c;break;case"iframe":case"object":case"embed":D$1("load",a),h=c;break;case"video":case"audio":for(h=0;h<lf.length;h++)D$1(lf[h],a);h=c;break;case"source":D$1("error",a),h=c;break;case"img":case"image":case"link":D$1("error",a),D$1("load",a),h=c;break;case"details":D$1("toggle",a),h=c;break;case"input":Za$2(a,c),h=Ya$2(a,c),D$1("invalid",a);break;case"option":h=c;break;case"select":a._wrapperState={wasMultiple:!!c.multiple},h=A$1({},c,{value:void 0}),D$1("invalid",a);break;case"textarea":hb$2(a,c),h=gb$2(a,c),D$1("invalid",a);break;default:h=c}ub$2(o,h),$=h;for(g in $)if($.hasOwnProperty(g)){var j=$[g];g==="style"?sb$2(a,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&nb$1(a,j)):g==="children"?typeof j=="string"?(o!=="textarea"||j!=="")&&ob$2(a,j):typeof j=="number"&&ob$2(a,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea$2.hasOwnProperty(g)?j!=null&&g==="onScroll"&&D$1("scroll",a):j!=null&&ta$3(a,g,j,b))}switch(o){case"input":Va$2(a),db$2(a,c,!1);break;case"textarea":Va$2(a),jb$2(a);break;case"option":c.value!=null&&a.setAttribute("value",""+Sa$3(c.value));break;case"select":a.multiple=!!c.multiple,g=c.value,g!=null?fb$2(a,!!c.multiple,g,!1):c.defaultValue!=null&&fb$2(a,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(a.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$2(e),null;case 6:if(a&&e.stateNode!=null)Dj(a,e,a.memoizedProps,c);else{if(typeof c!="string"&&e.stateNode===null)throw Error(p$2(166));if(o=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(c=e.stateNode,o=e.memoizedProps,c[Of]=e,(g=c.nodeValue!==o)&&(a=xg,a!==null))switch(a.tag){case 3:Af(c.nodeValue,o,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,o,(a.mode&1)!==0)}g&&(e.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Of]=e,e.stateNode=c}return S$2(e),null;case 13:if(E$2(M$2),c=e.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,g=!1;else if(g=Gg(e),c!==null&&c.dehydrated!==null){if(a===null){if(!g)throw Error(p$2(318));if(g=e.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p$2(317));g[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$2(e),g=!1}else zg!==null&&(Gj(zg),zg=null),g=!0;if(!g)return e.flags&65536?e:null}return e.flags&128?(e.lanes=o,e):(c=c!==null,c!==(a!==null&&a.memoizedState!==null)&&c&&(e.child.flags|=8192,e.mode&1&&(a===null||M$2.current&1?T$2===0&&(T$2=3):uj())),e.updateQueue!==null&&(e.flags|=4),S$2(e),null);case 4:return Jh(),Bj(a,e),a===null&&sf(e.stateNode.containerInfo),S$2(e),null;case 10:return Rg(e.type._context),S$2(e),null;case 17:return Zf(e.type)&&$f(),S$2(e),null;case 19:if(E$2(M$2),g=e.memoizedState,g===null)return S$2(e),null;if(c=(e.flags&128)!==0,b=g.rendering,b===null)if(c)Ej(g,!1);else{if(T$2!==0||a!==null&&a.flags&128)for(a=e.child;a!==null;){if(b=Mh(a),b!==null){for(e.flags|=128,Ej(g,!1),c=b.updateQueue,c!==null&&(e.updateQueue=c,e.flags|=4),e.subtreeFlags=0,c=o,o=e.child;o!==null;)g=o,a=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=a,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,a=b.dependencies,g.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o=o.sibling;return G$1(M$2,M$2.current&1|2),e.child}a=a.sibling}g.tail!==null&&B$2()>Hj&&(e.flags|=128,c=!0,Ej(g,!1),e.lanes=4194304)}else{if(!c)if(a=Mh(b),a!==null){if(e.flags|=128,c=!0,o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),Ej(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!I$2)return S$2(e),null}else 2*B$2()-g.renderingStartTime>Hj&&o!==1073741824&&(e.flags|=128,c=!0,Ej(g,!1),e.lanes=4194304);g.isBackwards?(b.sibling=e.child,e.child=b):(o=g.last,o!==null?o.sibling=b:e.child=b,g.last=b)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=B$2(),e.sibling=null,o=M$2.current,G$1(M$2,c?o&1|2:o&1),e):(S$2(e),null);case 22:case 23:return Ij(),c=e.memoizedState!==null,a!==null&&a.memoizedState!==null!==c&&(e.flags|=8192),c&&e.mode&1?gj&1073741824&&(S$2(e),e.subtreeFlags&6&&(e.flags|=8192)):S$2(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}function Jj(a,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),a=e.flags,a&65536&&!(a&128)?(e.flags=a&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E$2(M$2),a=e.memoizedState,a!==null&&a.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));Ig()}return a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(a,e){var o=a.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){W$2(a,e,c)}else o.current=null}function Nj(a,e,o){try{o()}catch(c){W$2(a,e,c)}}var Oj=!1;function Pj(a,e){if(Cf=dd$1,a=Me(),Ne$1(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,$=-1,j=-1,rt=0,nt=0,ot=a,_t=null;t:for(;;){for(var Et;ot!==o||h!==0&&ot.nodeType!==3||($=b+h),ot!==g||c!==0&&ot.nodeType!==3||(j=b+c),ot.nodeType===3&&(b+=ot.nodeValue.length),(Et=ot.firstChild)!==null;)_t=ot,ot=Et;for(;;){if(ot===a)break t;if(_t===o&&++rt===h&&($=b),_t===g&&++nt===c&&(j=b),(Et=ot.nextSibling)!==null)break;ot=_t,_t=ot.parentNode}ot=Et}o=$===-1||j===-1?null:{start:$,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:a,selectionRange:o},dd$1=!1,V$2=e;V$2!==null;)if(e=V$2,a=e.child,(e.subtreeFlags&1028)!==0&&a!==null)a.return=e,V$2=a;else for(;V$2!==null;){e=V$2;try{var It=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var it=It.memoizedProps,st=It.memoizedState,Mt=e.stateNode,bt=Mt.getSnapshotBeforeUpdate(e.elementType===e.type?it:Lg(e.type,it),st);Mt.__reactInternalSnapshotBeforeUpdate=bt}break;case 3:var Lt=e.stateNode.containerInfo;Lt.nodeType===1?Lt.textContent="":Lt.nodeType===9&&Lt.documentElement&&Lt.removeChild(Lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(pt){W$2(e,e.return,pt)}if(a=e.sibling,a!==null){a.return=e.return,V$2=a;break}V$2=e.return}return It=Oj,Oj=!1,It}function Qj(a,e,o){var c=e.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var g=h.destroy;h.destroy=void 0,g!==void 0&&Nj(e,o,g)}h=h.next}while(h!==c)}}function Rj(a,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var o=e=e.next;do{if((o.tag&a)===a){var c=o.create;o.destroy=c()}o=o.next}while(o!==e)}}function Sj(a){var e=a.ref;if(e!==null){var o=a.stateNode;switch(a.tag){case 5:a=o;break;default:a=o}typeof e=="function"?e(a):e.current=a}}function Tj(a){var e=a.alternate;e!==null&&(a.alternate=null,Tj(e)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(e=a.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Uj(a){return a.tag===5||a.tag===3||a.tag===4}function Vj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Uj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wj(a,e,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,e?o.nodeType===8?o.parentNode.insertBefore(a,e):o.insertBefore(a,e):(o.nodeType===8?(e=o.parentNode,e.insertBefore(a,o)):(e=o,e.appendChild(a)),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=Bf));else if(c!==4&&(a=a.child,a!==null))for(Wj(a,e,o),a=a.sibling;a!==null;)Wj(a,e,o),a=a.sibling}function Xj(a,e,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,e?o.insertBefore(a,e):o.appendChild(a);else if(c!==4&&(a=a.child,a!==null))for(Xj(a,e,o),a=a.sibling;a!==null;)Xj(a,e,o),a=a.sibling}var X$2=null,Yj=!1;function Zj(a,e,o){for(o=o.child;o!==null;)ak(a,e,o),o=o.sibling}function ak(a,e,o){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,o)}catch{}switch(o.tag){case 5:U$2||Mj(o,e);case 6:var c=X$2,h=Yj;X$2=null,Zj(a,e,o),X$2=c,Yj=h,X$2!==null&&(Yj?(a=X$2,o=o.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):X$2.removeChild(o.stateNode));break;case 18:X$2!==null&&(Yj?(a=X$2,o=o.stateNode,a.nodeType===8?Kf(a.parentNode,o):a.nodeType===1&&Kf(a,o),bd$1(a)):Kf(X$2,o.stateNode));break;case 4:c=X$2,h=Yj,X$2=o.stateNode.containerInfo,Yj=!0,Zj(a,e,o),X$2=c,Yj=h;break;case 0:case 11:case 14:case 15:if(!U$2&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,b=g.destroy;g=g.tag,b!==void 0&&(g&2||g&4)&&Nj(o,e,b),h=h.next}while(h!==c)}Zj(a,e,o);break;case 1:if(!U$2&&(Mj(o,e),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch($){W$2(o,e,$)}Zj(a,e,o);break;case 21:Zj(a,e,o);break;case 22:o.mode&1?(U$2=(c=U$2)||o.memoizedState!==null,Zj(a,e,o),U$2=c):Zj(a,e,o);break;default:Zj(a,e,o)}}function bk(a){var e=a.updateQueue;if(e!==null){a.updateQueue=null;var o=a.stateNode;o===null&&(o=a.stateNode=new Lj),e.forEach(function(c){var h=ck.bind(null,a,c);o.has(c)||(o.add(c),c.then(h,h))})}}function dk(a,e){var o=e.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];try{var g=a,b=e,$=b;e:for(;$!==null;){switch($.tag){case 5:X$2=$.stateNode,Yj=!1;break e;case 3:X$2=$.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=$.stateNode.containerInfo,Yj=!0;break e}$=$.return}if(X$2===null)throw Error(p$2(160));ak(g,b,h),X$2=null,Yj=!1;var j=h.alternate;j!==null&&(j.return=null),h.return=null}catch(rt){W$2(h,e,rt)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,a),e=e.sibling}function ek(a,e){var o=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(dk(e,a),fk(a),c&4){try{Qj(3,a,a.return),Rj(3,a)}catch(it){W$2(a,a.return,it)}try{Qj(5,a,a.return)}catch(it){W$2(a,a.return,it)}}break;case 1:dk(e,a),fk(a),c&512&&o!==null&&Mj(o,o.return);break;case 5:if(dk(e,a),fk(a),c&512&&o!==null&&Mj(o,o.return),a.flags&32){var h=a.stateNode;try{ob$2(h,"")}catch(it){W$2(a,a.return,it)}}if(c&4&&(h=a.stateNode,h!=null)){var g=a.memoizedProps,b=o!==null?o.memoizedProps:g,$=a.type,j=a.updateQueue;if(a.updateQueue=null,j!==null)try{$==="input"&&g.type==="radio"&&g.name!=null&&ab$2(h,g),vb$2($,b);var rt=vb$2($,g);for(b=0;b<j.length;b+=2){var nt=j[b],ot=j[b+1];nt==="style"?sb$2(h,ot):nt==="dangerouslySetInnerHTML"?nb$1(h,ot):nt==="children"?ob$2(h,ot):ta$3(h,nt,ot,rt)}switch($){case"input":bb$2(h,g);break;case"textarea":ib$2(h,g);break;case"select":var _t=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var Et=g.value;Et!=null?fb$2(h,!!g.multiple,Et,!1):_t!==!!g.multiple&&(g.defaultValue!=null?fb$2(h,!!g.multiple,g.defaultValue,!0):fb$2(h,!!g.multiple,g.multiple?[]:"",!1))}h[Pf]=g}catch(it){W$2(a,a.return,it)}}break;case 6:if(dk(e,a),fk(a),c&4){if(a.stateNode===null)throw Error(p$2(162));h=a.stateNode,g=a.memoizedProps;try{h.nodeValue=g}catch(it){W$2(a,a.return,it)}}break;case 3:if(dk(e,a),fk(a),c&4&&o!==null&&o.memoizedState.isDehydrated)try{bd$1(e.containerInfo)}catch(it){W$2(a,a.return,it)}break;case 4:dk(e,a),fk(a);break;case 13:dk(e,a),fk(a),h=a.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(gk=B$2())),c&4&&bk(a);break;case 22:if(nt=o!==null&&o.memoizedState!==null,a.mode&1?(U$2=(rt=U$2)||nt,dk(e,a),U$2=rt):dk(e,a),fk(a),c&8192){if(rt=a.memoizedState!==null,(a.stateNode.isHidden=rt)&&!nt&&a.mode&1)for(V$2=a,nt=a.child;nt!==null;){for(ot=V$2=nt;V$2!==null;){switch(_t=V$2,Et=_t.child,_t.tag){case 0:case 11:case 14:case 15:Qj(4,_t,_t.return);break;case 1:Mj(_t,_t.return);var It=_t.stateNode;if(typeof It.componentWillUnmount=="function"){c=_t,o=_t.return;try{e=c,It.props=e.memoizedProps,It.state=e.memoizedState,It.componentWillUnmount()}catch(it){W$2(c,o,it)}}break;case 5:Mj(_t,_t.return);break;case 22:if(_t.memoizedState!==null){hk(ot);continue}}Et!==null?(Et.return=_t,V$2=Et):hk(ot)}nt=nt.sibling}e:for(nt=null,ot=a;;){if(ot.tag===5){if(nt===null){nt=ot;try{h=ot.stateNode,rt?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):($=ot.stateNode,j=ot.memoizedProps.style,b=j!=null&&j.hasOwnProperty("display")?j.display:null,$.style.display=rb$2("display",b))}catch(it){W$2(a,a.return,it)}}}else if(ot.tag===6){if(nt===null)try{ot.stateNode.nodeValue=rt?"":ot.memoizedProps}catch(it){W$2(a,a.return,it)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===a)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===a)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===a)break e;nt===ot&&(nt=null),ot=ot.return}nt===ot&&(nt=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:dk(e,a),fk(a),c&4&&bk(a);break;case 21:break;default:dk(e,a),fk(a)}}function fk(a){var e=a.flags;if(e&2){try{e:{for(var o=a.return;o!==null;){if(Uj(o)){var c=o;break e}o=o.return}throw Error(p$2(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ob$2(h,""),c.flags&=-33);var g=Vj(a);Xj(a,g,h);break;case 3:case 4:var b=c.stateNode.containerInfo,$=Vj(a);Wj(a,$,b);break;default:throw Error(p$2(161))}}catch(j){W$2(a,a.return,j)}a.flags&=-3}e&4096&&(a.flags&=-4097)}function ik(a,e,o){V$2=a,jk(a)}function jk(a,e,o){for(var c=(a.mode&1)!==0;V$2!==null;){var h=V$2,g=h.child;if(h.tag===22&&c){var b=h.memoizedState!==null||Kj;if(!b){var $=h.alternate,j=$!==null&&$.memoizedState!==null||U$2;$=Kj;var rt=U$2;if(Kj=b,(U$2=j)&&!rt)for(V$2=h;V$2!==null;)b=V$2,j=b.child,b.tag===22&&b.memoizedState!==null?kk(h):j!==null?(j.return=b,V$2=j):kk(h);for(;g!==null;)V$2=g,jk(g),g=g.sibling;V$2=h,Kj=$,U$2=rt}lk(a)}else h.subtreeFlags&8772&&g!==null?(g.return=h,V$2=g):lk(a)}}function lk(a){for(;V$2!==null;){var e=V$2;if(e.flags&8772){var o=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$2||Rj(5,e);break;case 1:var c=e.stateNode;if(e.flags&4&&!U$2)if(o===null)c.componentDidMount();else{var h=e.elementType===e.type?o.memoizedProps:Lg(e.type,o.memoizedProps);c.componentDidUpdate(h,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=e.updateQueue;g!==null&&ih(e,g,c);break;case 3:var b=e.updateQueue;if(b!==null){if(o=null,e.child!==null)switch(e.child.tag){case 5:o=e.child.stateNode;break;case 1:o=e.child.stateNode}ih(e,b,o)}break;case 5:var $=e.stateNode;if(o===null&&e.flags&4){o=$;var j=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&o.focus();break;case"img":j.src&&(o.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var rt=e.alternate;if(rt!==null){var nt=rt.memoizedState;if(nt!==null){var ot=nt.dehydrated;ot!==null&&bd$1(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$2||e.flags&512&&Sj(e)}catch(_t){W$2(e,e.return,_t)}}if(e===a){V$2=null;break}if(o=e.sibling,o!==null){o.return=e.return,V$2=o;break}V$2=e.return}}function hk(a){for(;V$2!==null;){var e=V$2;if(e===a){V$2=null;break}var o=e.sibling;if(o!==null){o.return=e.return,V$2=o;break}V$2=e.return}}function kk(a){for(;V$2!==null;){var e=V$2;try{switch(e.tag){case 0:case 11:case 15:var o=e.return;try{Rj(4,e)}catch(j){W$2(e,o,j)}break;case 1:var c=e.stateNode;if(typeof c.componentDidMount=="function"){var h=e.return;try{c.componentDidMount()}catch(j){W$2(e,h,j)}}var g=e.return;try{Sj(e)}catch(j){W$2(e,g,j)}break;case 5:var b=e.return;try{Sj(e)}catch(j){W$2(e,b,j)}}}catch(j){W$2(e,e.return,j)}if(e===a){V$2=null;break}var $=e.sibling;if($!==null){$.return=e.return,V$2=$;break}V$2=e.return}}var mk=Math.ceil,nk=ua$3.ReactCurrentDispatcher,ok=ua$3.ReactCurrentOwner,pk=ua$3.ReactCurrentBatchConfig,K$2=0,R$2=null,Y$2=null,Z$2=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi$2=!1,Qi$1=null,Si$2=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K$2&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(a){return a.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(a=C$1,a!==0||(a=window.event,a=a===void 0?16:jd$1(a.type)),a):1}function mh(a,e,o,c){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac$1(a,o,c),(!(K$2&2)||a!==R$2)&&(a===R$2&&(!(K$2&2)&&(rk|=o),T$2===4&&Dk(a,Z$2)),Ek(a,c),o===1&&K$2===0&&!(e.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(a,e){var o=a.callbackNode;wc$1(a,e);var c=uc$1(a,a===R$2?Z$2:0);if(c===0)o!==null&&bc$1(o),a.callbackNode=null,a.callbackPriority=0;else if(e=c&-c,a.callbackPriority!==e){if(o!=null&&bc$1(o),e===1)a.tag===0?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){!(K$2&6)&&jg()}),o=null;else{switch(Dc$1(c)){case 1:o=fc$1;break;case 4:o=gc$1;break;case 16:o=hc$1;break;case 536870912:o=jc$1;break;default:o=hc$1}o=Gk(o,Hk.bind(null,a))}a.callbackPriority=e,a.callbackNode=o}}function Hk(a,e){if(Bk=-1,Ck=0,K$2&6)throw Error(p$2(327));var o=a.callbackNode;if(Ik()&&a.callbackNode!==o)return null;var c=uc$1(a,a===R$2?Z$2:0);if(c===0)return null;if(c&30||c&a.expiredLanes||e)e=Jk(a,c);else{e=c;var h=K$2;K$2|=2;var g=Kk();(R$2!==a||Z$2!==e)&&(vk=null,Hj=B$2()+500,Lk(a,e));do try{Mk();break}catch($){Nk(a,$)}while(!0);Qg(),nk.current=g,K$2=h,Y$2!==null?e=0:(R$2=null,Z$2=0,e=T$2)}if(e!==0){if(e===2&&(h=xc$1(a),h!==0&&(c=h,e=Ok(a,h))),e===1)throw o=qk,Lk(a,0),Dk(a,c),Ek(a,B$2()),o;if(e===6)Dk(a,c);else{if(h=a.current.alternate,!(c&30)&&!Pk(h)&&(e=Jk(a,c),e===2&&(g=xc$1(a),g!==0&&(c=g,e=Ok(a,g))),e===1))throw o=qk,Lk(a,0),Dk(a,c),Ek(a,B$2()),o;switch(a.finishedWork=h,a.finishedLanes=c,e){case 0:case 1:throw Error(p$2(345));case 2:Qk(a,uk,vk);break;case 3:if(Dk(a,c),(c&130023424)===c&&(e=gk+500-B$2(),10<e)){if(uc$1(a,0)!==0)break;if(h=a.suspendedLanes,(h&c)!==c){L$2(),a.pingedLanes|=a.suspendedLanes&h;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),e);break}Qk(a,uk,vk);break;case 4:if(Dk(a,c),(c&4194240)===c)break;for(e=a.eventTimes,h=-1;0<c;){var b=31-oc$1(c);g=1<<b,b=e[b],b>h&&(h=b),c&=~g}if(c=h,c=B$2()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*mk(c/1960))-c,10<c){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),c);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(a,B$2()),a.callbackNode===o?Hk.bind(null,a):null}function Ok(a,e){var o=tk;return a.current.memoizedState.isDehydrated&&(Lk(a,e).flags|=256),a=Jk(a,e),a!==2&&(e=uk,uk=o,e!==null&&Gj(e)),a}function Gj(a){uk===null?uk=a:uk.push.apply(uk,a)}function Pk(a){for(var e=a;;){if(e.flags&16384){var o=e.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!He$1(g(),h))return!1}catch{return!1}}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(a,e){for(e&=~sk,e&=~rk,a.suspendedLanes|=e,a.pingedLanes&=~e,a=a.expirationTimes;0<e;){var o=31-oc$1(e),c=1<<o;a[o]=-1,e&=~c}}function Fk(a){if(K$2&6)throw Error(p$2(327));Ik();var e=uc$1(a,0);if(!(e&1))return Ek(a,B$2()),null;var o=Jk(a,e);if(a.tag!==0&&o===2){var c=xc$1(a);c!==0&&(e=c,o=Ok(a,c))}if(o===1)throw o=qk,Lk(a,0),Dk(a,e),Ek(a,B$2()),o;if(o===6)throw Error(p$2(345));return a.finishedWork=a.current.alternate,a.finishedLanes=e,Qk(a,uk,vk),Ek(a,B$2()),null}function Rk(a,e){var o=K$2;K$2|=1;try{return a(e)}finally{K$2=o,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(a){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var e=K$2;K$2|=1;var o=pk.transition,c=C$1;try{if(pk.transition=null,C$1=1,a)return a()}finally{C$1=c,pk.transition=o,K$2=e,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(a,e){a.finishedWork=null,a.finishedLanes=0;var o=a.timeoutHandle;if(o!==-1&&(a.timeoutHandle=-1,Gf(o)),Y$2!==null)for(o=Y$2.return;o!==null;){var c=o;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(c);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(c.type._context);break;case 22:case 23:Ij()}o=o.return}if(R$2=a,Y$2=a=wh(a.current,null),Z$2=gj=e,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(o=Wg[e],c=o.interleaved,c!==null){o.interleaved=null;var h=c.next,g=o.pending;if(g!==null){var b=g.next;g.next=h,c.next=b}o.pending=c}Wg=null}return a}function Nk(a,e){do{var o=Y$2;try{if(Qg(),Ph.current=ai$1,Sh){for(var c=N$3.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Sh=!1}if(Rh=0,P$2=O$2=N$3=null,Th=!1,Uh=0,ok.current=null,o===null||o.return===null){T$2=1,qk=e,Y$2=null;break}e:{var g=a,b=o.return,$=o,j=e;if(e=Z$2,$.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var rt=j,nt=$,ot=nt.tag;if(!(nt.mode&1)&&(ot===0||ot===11||ot===15)){var _t=nt.alternate;_t?(nt.updateQueue=_t.updateQueue,nt.memoizedState=_t.memoizedState,nt.lanes=_t.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var Et=Vi$1(b);if(Et!==null){Et.flags&=-257,Wi$1(Et,b,$,g,e),Et.mode&1&&Ti$2(g,rt,e),e=Et,j=rt;var It=e.updateQueue;if(It===null){var it=new Set;it.add(j),e.updateQueue=it}else It.add(j);break e}else{if(!(e&1)){Ti$2(g,rt,e),uj();break e}j=Error(p$2(426))}}else if(I$2&&$.mode&1){var st=Vi$1(b);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Wi$1(st,b,$,g,e),Jg(Ki$1(j,$));break e}}g=j=Ki$1(j,$),T$2!==4&&(T$2=2),tk===null?tk=[g]:tk.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,e&=-e,g.lanes|=e;var Mt=Oi$1(g,j,e);fh(g,Mt);break e;case 1:$=j;var bt=g.type,Lt=g.stateNode;if(!(g.flags&128)&&(typeof bt.getDerivedStateFromError=="function"||Lt!==null&&typeof Lt.componentDidCatch=="function"&&(Si$2===null||!Si$2.has(Lt)))){g.flags|=65536,e&=-e,g.lanes|=e;var pt=Ri$2(g,$,e);fh(g,pt);break e}}g=g.return}while(g!==null)}Tk(o)}catch(Dt){e=Dt,Y$2===o&&o!==null&&(Y$2=o=o.return);continue}break}while(!0)}function Kk(){var a=nk.current;return nk.current=ai$1,a===null?ai$1:a}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$2)}function Jk(a,e){var o=K$2;K$2|=2;var c=Kk();(R$2!==a||Z$2!==e)&&(vk=null,Lk(a,e));do try{Uk();break}catch(h){Nk(a,h)}while(!0);if(Qg(),K$2=o,nk.current=c,Y$2!==null)throw Error(p$2(261));return R$2=null,Z$2=0,T$2}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$1();)Vk(Y$2)}function Vk(a){var e=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps,e===null?Tk(a):Y$2=e,ok.current=null}function Tk(a){var e=a;do{var o=e.alternate;if(a=e.return,e.flags&32768){if(o=Jj(o,e),o!==null){o.flags&=32767,Y$2=o;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T$2=6,Y$2=null;return}}else if(o=Fj(o,e,gj),o!==null){Y$2=o;return}if(e=e.sibling,e!==null){Y$2=e;return}Y$2=e=a}while(e!==null);T$2===0&&(T$2=5)}function Qk(a,e,o){var c=C$1,h=pk.transition;try{pk.transition=null,C$1=1,Xk(a,e,o,c)}finally{pk.transition=h,C$1=c}return null}function Xk(a,e,o,c){do Ik();while(xk!==null);if(K$2&6)throw Error(p$2(327));o=a.finishedWork;var h=a.finishedLanes;if(o===null)return null;if(a.finishedWork=null,a.finishedLanes=0,o===a.current)throw Error(p$2(177));a.callbackNode=null,a.callbackPriority=0;var g=o.lanes|o.childLanes;if(Bc$1(a,g),a===R$2&&(Y$2=R$2=null,Z$2=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),g=(o.flags&15990)!==0,o.subtreeFlags&15990||g){g=pk.transition,pk.transition=null;var b=C$1;C$1=1;var $=K$2;K$2|=4,ok.current=null,Pj(a,o),ek(o,a),Oe(Df),dd$1=!!Cf,Df=Cf=null,a.current=o,ik(o),dc$1(),K$2=$,C$1=b,pk.transition=g}else a.current=o;if(wk&&(wk=!1,xk=a,yk=h),g=a.pendingLanes,g===0&&(Si$2=null),mc$1(o.stateNode),Ek(a,B$2()),e!==null)for(c=a.onRecoverableError,o=0;o<e.length;o++)h=e[o],c(h.value,{componentStack:h.stack,digest:h.digest});if(Pi$2)throw Pi$2=!1,a=Qi$1,Qi$1=null,a;return yk&1&&a.tag!==0&&Ik(),g=a.pendingLanes,g&1?a===Ak?zk++:(zk=0,Ak=a):zk=0,jg(),null}function Ik(){if(xk!==null){var a=Dc$1(yk),e=pk.transition,o=C$1;try{if(pk.transition=null,C$1=16>a?16:a,xk===null)var c=!1;else{if(a=xk,xk=null,yk=0,K$2&6)throw Error(p$2(331));var h=K$2;for(K$2|=4,V$2=a.current;V$2!==null;){var g=V$2,b=g.child;if(V$2.flags&16){var $=g.deletions;if($!==null){for(var j=0;j<$.length;j++){var rt=$[j];for(V$2=rt;V$2!==null;){var nt=V$2;switch(nt.tag){case 0:case 11:case 15:Qj(8,nt,g)}var ot=nt.child;if(ot!==null)ot.return=nt,V$2=ot;else for(;V$2!==null;){nt=V$2;var _t=nt.sibling,Et=nt.return;if(Tj(nt),nt===rt){V$2=null;break}if(_t!==null){_t.return=Et,V$2=_t;break}V$2=Et}}}var It=g.alternate;if(It!==null){var it=It.child;if(it!==null){It.child=null;do{var st=it.sibling;it.sibling=null,it=st}while(it!==null)}}V$2=g}}if(g.subtreeFlags&2064&&b!==null)b.return=g,V$2=b;else e:for(;V$2!==null;){if(g=V$2,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Qj(9,g,g.return)}var Mt=g.sibling;if(Mt!==null){Mt.return=g.return,V$2=Mt;break e}V$2=g.return}}var bt=a.current;for(V$2=bt;V$2!==null;){b=V$2;var Lt=b.child;if(b.subtreeFlags&2064&&Lt!==null)Lt.return=b,V$2=Lt;else e:for(b=bt;V$2!==null;){if($=V$2,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Rj(9,$)}}catch(Dt){W$2($,$.return,Dt)}if($===b){V$2=null;break e}var pt=$.sibling;if(pt!==null){pt.return=$.return,V$2=pt;break e}V$2=$.return}}if(K$2=h,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,a)}catch{}c=!0}return c}finally{C$1=o,pk.transition=e}}return!1}function Yk(a,e,o){e=Ki$1(o,e),e=Oi$1(a,e,1),a=dh(a,e,1),e=L$2(),a!==null&&(Ac$1(a,1,e),Ek(a,e))}function W$2(a,e,o){if(a.tag===3)Yk(a,a,o);else for(;e!==null;){if(e.tag===3){Yk(e,a,o);break}else if(e.tag===1){var c=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Si$2===null||!Si$2.has(c))){a=Ki$1(o,a),a=Ri$2(e,a,1),e=dh(e,a,1),a=L$2(),e!==null&&(Ac$1(e,1,a),Ek(e,a));break}}e=e.return}}function Ui$1(a,e,o){var c=a.pingCache;c!==null&&c.delete(e),e=L$2(),a.pingedLanes|=a.suspendedLanes&o,R$2===a&&(Z$2&o)===o&&(T$2===4||T$2===3&&(Z$2&130023424)===Z$2&&500>B$2()-gk?Lk(a,0):sk|=o),Ek(a,e)}function Zk(a,e){e===0&&(a.mode&1?(e=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):e=1);var o=L$2();a=Zg(a,e),a!==null&&(Ac$1(a,e,o),Ek(a,o))}function vj(a){var e=a.memoizedState,o=0;e!==null&&(o=e.retryLane),Zk(a,o)}function ck(a,e){var o=0;switch(a.tag){case 13:var c=a.stateNode,h=a.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=a.stateNode;break;default:throw Error(p$2(314))}c!==null&&c.delete(e),Zk(a,o)}var Wk;Wk=function(a,e,o){if(a!==null)if(a.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if(!(a.lanes&o)&&!(e.flags&128))return Ug=!1,zj(a,e,o);Ug=!!(a.flags&131072)}else Ug=!1,I$2&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var c=e.type;jj(a,e),a=e.pendingProps;var h=Yf(e,H$2.current);Tg(e,o),h=Xh(null,e,c,a,h,o);var g=bi$1();return e.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(c)?(g=!0,cg(e)):g=!1,e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ah(e),h.updater=nh,e.stateNode=h,h._reactInternals=e,rh(e,c,a,o),e=kj(null,e,c,!0,g,o)):(e.tag=0,I$2&&g&&vg(e),Yi$1(null,e,h,o),e=e.child),e;case 16:c=e.elementType;e:{switch(jj(a,e),a=e.pendingProps,h=c._init,c=h(c._payload),e.type=c,h=e.tag=$k(c),a=Lg(c,a),h){case 0:e=dj(null,e,c,a,o);break e;case 1:e=ij(null,e,c,a,o);break e;case 11:e=Zi$1(null,e,c,a,o);break e;case 14:e=aj(null,e,c,Lg(c.type,a),o);break e}throw Error(p$2(306,c,""))}return e;case 0:return c=e.type,h=e.pendingProps,h=e.elementType===c?h:Lg(c,h),dj(a,e,c,h,o);case 1:return c=e.type,h=e.pendingProps,h=e.elementType===c?h:Lg(c,h),ij(a,e,c,h,o);case 3:e:{if(lj(e),a===null)throw Error(p$2(387));c=e.pendingProps,g=e.memoizedState,h=g.element,bh(a,e),gh(e,c,null,o);var b=e.memoizedState;if(c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){h=Ki$1(Error(p$2(423)),e),e=mj(a,e,c,o,h);break e}else if(c!==h){h=Ki$1(Error(p$2(424)),e),e=mj(a,e,c,o,h);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$2=!0,zg=null,o=Ch(e,null,c,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),c===h){e=$i$1(a,e,o);break e}Yi$1(a,e,c,o)}e=e.child}return e;case 5:return Kh(e),a===null&&Eg(e),c=e.type,h=e.pendingProps,g=a!==null?a.memoizedProps:null,b=h.children,Ef(c,h)?b=null:g!==null&&Ef(c,g)&&(e.flags|=32),hj(a,e),Yi$1(a,e,b,o),e.child;case 6:return a===null&&Eg(e),null;case 13:return pj(a,e,o);case 4:return Ih(e,e.stateNode.containerInfo),c=e.pendingProps,a===null?e.child=Bh(e,null,c,o):Yi$1(a,e,c,o),e.child;case 11:return c=e.type,h=e.pendingProps,h=e.elementType===c?h:Lg(c,h),Zi$1(a,e,c,h,o);case 7:return Yi$1(a,e,e.pendingProps,o),e.child;case 8:return Yi$1(a,e,e.pendingProps.children,o),e.child;case 12:return Yi$1(a,e,e.pendingProps.children,o),e.child;case 10:e:{if(c=e.type._context,h=e.pendingProps,g=e.memoizedProps,b=h.value,G$1(Mg,c._currentValue),c._currentValue=b,g!==null)if(He$1(g.value,b)){if(g.children===h.children&&!Wf.current){e=$i$1(a,e,o);break e}}else for(g=e.child,g!==null&&(g.return=e);g!==null;){var $=g.dependencies;if($!==null){b=g.child;for(var j=$.firstContext;j!==null;){if(j.context===c){if(g.tag===1){j=ch(-1,o&-o),j.tag=2;var rt=g.updateQueue;if(rt!==null){rt=rt.shared;var nt=rt.pending;nt===null?j.next=j:(j.next=nt.next,nt.next=j),rt.pending=j}}g.lanes|=o,j=g.alternate,j!==null&&(j.lanes|=o),Sg(g.return,o,e),$.lanes|=o;break}j=j.next}}else if(g.tag===10)b=g.type===e.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(p$2(341));b.lanes|=o,$=b.alternate,$!==null&&($.lanes|=o),Sg(b,o,e),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===e){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}Yi$1(a,e,h.children,o),e=e.child}return e;case 9:return h=e.type,c=e.pendingProps.children,Tg(e,o),h=Vg(h),c=c(h),e.flags|=1,Yi$1(a,e,c,o),e.child;case 14:return c=e.type,h=Lg(c,e.pendingProps),h=Lg(c.type,h),aj(a,e,c,h,o);case 15:return cj(a,e,e.type,e.pendingProps,o);case 17:return c=e.type,h=e.pendingProps,h=e.elementType===c?h:Lg(c,h),jj(a,e),e.tag=1,Zf(c)?(a=!0,cg(e)):a=!1,Tg(e,o),ph(e,c,h),rh(e,c,h,o),kj(null,e,c,!0,a,o);case 19:return yj(a,e,o);case 22:return ej(a,e,o)}throw Error(p$2(156,e.tag))};function Gk(a,e){return ac$1(a,e)}function al(a,e,o,c){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,e,o,c){return new al(a,e,o,c)}function bj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $k(a){if(typeof a=="function")return bj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da$3)return 11;if(a===Ga$2)return 14}return 2}function wh(a,e){var o=a.alternate;return o===null?(o=Bg(a.tag,e,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=e,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&14680064,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o}function yh(a,e,o,c,h,g){var b=2;if(c=a,typeof a=="function")bj(a)&&(b=1);else if(typeof a=="string")b=5;else e:switch(a){case ya$3:return Ah(o.children,h,g,e);case za$3:b=8,h|=8;break;case Aa$3:return a=Bg(12,o,e,h|2),a.elementType=Aa$3,a.lanes=g,a;case Ea$3:return a=Bg(13,o,e,h),a.elementType=Ea$3,a.lanes=g,a;case Fa$3:return a=Bg(19,o,e,h),a.elementType=Fa$3,a.lanes=g,a;case Ia$3:return qj(o,h,g,e);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba$3:b=10;break e;case Ca$3:b=9;break e;case Da$3:b=11;break e;case Ga$2:b=14;break e;case Ha$3:b=16,c=null;break e}throw Error(p$2(130,a==null?a:typeof a,""))}return e=Bg(b,o,e,h),e.elementType=a,e.type=c,e.lanes=g,e}function Ah(a,e,o,c){return a=Bg(7,a,c,e),a.lanes=o,a}function qj(a,e,o,c){return a=Bg(22,a,c,e),a.elementType=Ia$3,a.lanes=o,a.stateNode={isHidden:!1},a}function xh(a,e,o){return a=Bg(6,a,null,e),a.lanes=o,a}function zh(a,e,o){return e=Bg(4,a.children!==null?a.children:[],a.key,e),e.lanes=o,e.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},e}function bl(a,e,o,c,h){this.tag=e,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function cl(a,e,o,c,h,g,b,$,j){return a=new bl(a,e,o,$,j),e===1?(e=1,g===!0&&(e|=8)):e=0,g=Bg(3,null,null,e),a.current=g,g.stateNode=a,g.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(g),a}function dl(a,e,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$3,key:c==null?null:""+c,children:a,containerInfo:e,implementation:o}}function el(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb$1(a)!==a||a.tag!==1)throw Error(p$2(170));var e=a;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$2(171))}if(a.tag===1){var o=a.type;if(Zf(o))return bg(a,o,e)}return e}function fl(a,e,o,c,h,g,b,$,j){return a=cl(o,c,!0,a,h,g,b,$,j),a.context=el(null),o=a.current,c=L$2(),h=lh(o),g=ch(c,h),g.callback=e??null,dh(o,g,h),a.current.lanes=h,Ac$1(a,h,c),Ek(a,c),a}function gl(a,e,o,c){var h=e.current,g=L$2(),b=lh(h);return o=el(o),e.context===null?e.context=o:e.pendingContext=o,e=ch(g,b),e.payload={element:a},c=c===void 0?null:c,c!==null&&(e.callback=c),a=dh(h,e,b),a!==null&&(mh(a,h,b,g),eh(a,h,b)),b}function hl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,e){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<e?o:e}}function jl(a,e){il(a,e),(a=a.alternate)&&il(a,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}nl.prototype.render=ml.prototype.render=function(a){var e=this._internalRoot;if(e===null)throw Error(p$2(409));gl(a,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var e=a.containerInfo;Sk(function(){gl(null,a,null,null)}),e[uf]=null}};function nl(a){this._internalRoot=a}nl.prototype.unstable_scheduleHydration=function(a){if(a){var e=Hc$1();a={blockedOn:null,target:a,priority:e};for(var o=0;o<Qc$1.length&&e!==0&&e<Qc$1[o].priority;o++);Qc$1.splice(o,0,a),o===0&&Vc$1(a)}};function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(a,e,o,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var rt=hl(b);g.call(rt)}}var b=fl(e,c,a,0,null,!1,!1,"",ql);return a._reactRootContainer=b,a[uf]=b.current,sf(a.nodeType===8?a.parentNode:a),Sk(),b}for(;h=a.lastChild;)a.removeChild(h);if(typeof c=="function"){var $=c;c=function(){var rt=hl(j);$.call(rt)}}var j=cl(a,0,!1,null,null,!1,!1,"",ql);return a._reactRootContainer=j,a[uf]=j.current,sf(a.nodeType===8?a.parentNode:a),Sk(function(){gl(e,j,o,c)}),j}function sl(a,e,o,c,h){var g=o._reactRootContainer;if(g){var b=g;if(typeof h=="function"){var $=h;h=function(){var j=hl(b);$.call(j)}}gl(e,b,a,h)}else b=rl(o,e,a,h,c);return hl(b)}Ec$1=function(a){switch(a.tag){case 3:var e=a.stateNode;if(e.current.memoizedState.isDehydrated){var o=tc$1(e.pendingLanes);o!==0&&(Cc$1(e,o|1),Ek(e,B$2()),!(K$2&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var c=Zg(a,1);if(c!==null){var h=L$2();mh(c,a,1,h)}}),jl(a,1)}};Fc$1=function(a){if(a.tag===13){var e=Zg(a,134217728);if(e!==null){var o=L$2();mh(e,a,134217728,o)}jl(a,134217728)}};Gc$1=function(a){if(a.tag===13){var e=lh(a),o=Zg(a,e);if(o!==null){var c=L$2();mh(o,a,e,c)}jl(a,e)}};Hc$1=function(){return C$1};Ic$1=function(a,e){var o=C$1;try{return C$1=a,e()}finally{C$1=o}};yb$2=function(a,e,o){switch(e){case"input":if(bb$2(a,o),e=o.name,o.type==="radio"&&e!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<o.length;e++){var c=o[e];if(c!==a&&c.form===a.form){var h=Db$2(c);if(!h)throw Error(p$2(90));Wa$2(c),bb$2(c,h)}}}break;case"textarea":ib$2(a,o);break;case"select":e=o.value,e!=null&&fb$2(a,!!o.multiple,e,!1)}};Gb$2=Rk;Hb$2=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$2,ue,Db$2,Eb$2,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$3.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb$1(a),a===null?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(a,e){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p$2(200));return dl(a,e,null,o)};reactDom_production_min.createRoot=function(a,e){if(!ol(a))throw Error(p$2(299));var o=!1,c="",h=ll;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(c=e.identifierPrefix),e.onRecoverableError!==void 0&&(h=e.onRecoverableError)),e=cl(a,1,!1,null,null,o,!1,c,h),a[uf]=e.current,sf(a.nodeType===8?a.parentNode:a),new ml(e)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var e=a._reactInternals;if(e===void 0)throw typeof a.render=="function"?Error(p$2(188)):(a=Object.keys(a).join(","),Error(p$2(268,a)));return a=Zb$1(e),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Sk(a)};reactDom_production_min.hydrate=function(a,e,o){if(!pl(e))throw Error(p$2(200));return sl(null,a,e,!0,o)};reactDom_production_min.hydrateRoot=function(a,e,o){if(!ol(a))throw Error(p$2(405));var c=o!=null&&o.hydratedSources||null,h=!1,g="",b=ll;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),e=fl(e,null,a,1,o??null,h,!1,g,b),a[uf]=e.current,sf(a),c)for(a=0;a<c.length;a++)o=c[a],h=o._getVersion,h=h(o._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[o,h]:e.mutableSourceEagerHydrationData.push(o,h);return new nl(e)};reactDom_production_min.render=function(a,e,o){if(!pl(e))throw Error(p$2(200));return sl(null,a,e,!1,o)};reactDom_production_min.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p$2(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,e,o,c){if(!pl(o))throw Error(p$2(200));if(a==null||a._reactInternals===void 0)throw Error(p$2(38));return sl(a,e,o,!1,c)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$3.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(a){a===void 0&&(a={});function e(h,g){let{pathname:b="/",search:$="",hash:j=""}=parsePath(h.location.hash.substr(1));return!b.startsWith("/")&&!b.startsWith(".")&&(b="/"+b),createLocation("",{pathname:b,search:$,hash:j},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function o(h,g){let b=h.document.querySelector("base"),$="";if(b&&b.getAttribute("href")){let j=h.location.href,rt=j.indexOf("#");$=rt===-1?j:j.slice(0,rt)}return $+"#"+(typeof g=="string"?g:createPath(g))}function c(h,g){warning$2(h.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(g)+")")}return getUrlBasedHistory(e,o,c,a)}function invariant(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function warning$2(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,e){return{usr:a.state,key:a.key,idx:e}}function createLocation(a,e,o,c){return o===void 0&&(o=null),_extends$3({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:o,key:e&&e.key||c||createKey()})}function createPath(a){let{pathname:e="/",search:o="",hash:c=""}=a;return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(e+=c.charAt(0)==="#"?c:"#"+c),e}function parsePath(a){let e={};if(a){let o=a.indexOf("#");o>=0&&(e.hash=a.substr(o),a=a.substr(0,o));let c=a.indexOf("?");c>=0&&(e.search=a.substr(c),a=a.substr(0,c)),a&&(e.pathname=a)}return e}function getUrlBasedHistory(a,e,o,c){c===void 0&&(c={});let{window:h=document.defaultView,v5Compat:g=!1}=c,b=h.history,$=Action.Pop,j=null,rt=nt();rt==null&&(rt=0,b.replaceState(_extends$3({},b.state,{idx:rt}),""));function nt(){return(b.state||{idx:null}).idx}function ot(){$=Action.Pop;let st=nt(),Mt=st==null?null:st-rt;rt=st,j&&j({action:$,location:it.location,delta:Mt})}function _t(st,Mt){$=Action.Push;let bt=createLocation(it.location,st,Mt);o&&o(bt,st),rt=nt()+1;let Lt=getHistoryState(bt,rt),pt=it.createHref(bt);try{b.pushState(Lt,"",pt)}catch(Dt){if(Dt instanceof DOMException&&Dt.name==="DataCloneError")throw Dt;h.location.assign(pt)}g&&j&&j({action:$,location:it.location,delta:1})}function Et(st,Mt){$=Action.Replace;let bt=createLocation(it.location,st,Mt);o&&o(bt,st),rt=nt();let Lt=getHistoryState(bt,rt),pt=it.createHref(bt);b.replaceState(Lt,"",pt),g&&j&&j({action:$,location:it.location,delta:0})}function It(st){let Mt=h.location.origin!=="null"?h.location.origin:h.location.href,bt=typeof st=="string"?st:createPath(st);return bt=bt.replace(/ $/,"%20"),invariant(Mt,"No window.location.(origin|href) available to create URL for href: "+bt),new URL(bt,Mt)}let it={get action(){return $},get location(){return a(h,b)},listen(st){if(j)throw new Error("A history only accepts one active listener");return h.addEventListener(PopStateEventType,ot),j=st,()=>{h.removeEventListener(PopStateEventType,ot),j=null}},createHref(st){return e(h,st)},createURL:It,encodeLocation(st){let Mt=It(st);return{pathname:Mt.pathname,search:Mt.search,hash:Mt.hash}},push:_t,replace:Et,go(st){return b.go(st)}};return it}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));function matchRoutes(a,e,o){o===void 0&&(o="/");let c=typeof e=="string"?parsePath(e):e,h=stripBasename(c.pathname||"/",o);if(h==null)return null;let g=flattenRoutes(a);rankRouteBranches(g);let b=null;for(let $=0;b==null&&$<g.length;++$){let j=decodePath(h);b=matchRouteBranch(g[$],j)}return b}function flattenRoutes(a,e,o,c){e===void 0&&(e=[]),o===void 0&&(o=[]),c===void 0&&(c="");let h=(g,b,$)=>{let j={relativePath:$===void 0?g.path||"":$,caseSensitive:g.caseSensitive===!0,childrenIndex:b,route:g};j.relativePath.startsWith("/")&&(invariant(j.relativePath.startsWith(c),'Absolute route path "'+j.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),j.relativePath=j.relativePath.slice(c.length));let rt=joinPaths([c,j.relativePath]),nt=o.concat(j);g.children&&g.children.length>0&&(invariant(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+rt+'".')),flattenRoutes(g.children,e,nt,rt)),!(g.path==null&&!g.index)&&e.push({path:rt,score:computeScore(rt,g.index),routesMeta:nt})};return a.forEach((g,b)=>{var $;if(g.path===""||!(($=g.path)!=null&&$.includes("?")))h(g,b);else for(let j of explodeOptionalSegments(g.path))h(g,b,j)}),e}function explodeOptionalSegments(a){let e=a.split("/");if(e.length===0)return[];let[o,...c]=e,h=o.endsWith("?"),g=o.replace(/\?$/,"");if(c.length===0)return h?[g,""]:[g];let b=explodeOptionalSegments(c.join("/")),$=[];return $.push(...b.map(j=>j===""?g:[g,j].join("/"))),h&&$.push(...b),$.map(j=>a.startsWith("/")&&j===""?"/":j)}function rankRouteBranches(a){a.sort((e,o)=>e.score!==o.score?o.score-e.score:compareIndexes(e.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,e){let o=a.split("/"),c=o.length;return o.some(isSplat)&&(c+=splatPenalty),e&&(c+=indexRouteValue),o.filter(h=>!isSplat(h)).reduce((h,g)=>h+(paramRe.test(g)?dynamicSegmentValue:g===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(a,e){return a.length===e.length&&a.slice(0,-1).every((c,h)=>c===e[h])?a[a.length-1]-e[e.length-1]:0}function matchRouteBranch(a,e){let{routesMeta:o}=a,c={},h="/",g=[];for(let b=0;b<o.length;++b){let $=o[b],j=b===o.length-1,rt=h==="/"?e:e.slice(h.length)||"/",nt=matchPath({path:$.relativePath,caseSensitive:$.caseSensitive,end:j},rt);if(!nt)return null;Object.assign(c,nt.params);let ot=$.route;g.push({params:c,pathname:joinPaths([h,nt.pathname]),pathnameBase:normalizePathname(joinPaths([h,nt.pathnameBase])),route:ot}),nt.pathnameBase!=="/"&&(h=joinPaths([h,nt.pathnameBase]))}return g}function matchPath(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,c]=compilePath(a.path,a.caseSensitive,a.end),h=e.match(o);if(!h)return null;let g=h[0],b=g.replace(/(.)\/+$/,"$1"),$=h.slice(1);return{params:c.reduce((rt,nt,ot)=>{let{paramName:_t,isOptional:Et}=nt;if(_t==="*"){let it=$[ot]||"";b=g.slice(0,g.length-it.length).replace(/(.)\/+$/,"$1")}const It=$[ot];return Et&&!It?rt[_t]=void 0:rt[_t]=(It||"").replace(/%2F/g,"/"),rt},{}),pathname:g,pathnameBase:b,pattern:a}}function compilePath(a,e,o){e===void 0&&(e=!1),o===void 0&&(o=!0),warning$2(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let c=[],h="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,$,j)=>(c.push({paramName:$,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(c.push({paramName:"*"}),h+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?h+="\\/*$":a!==""&&a!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,e?void 0:"i"),c]}function decodePath(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$2(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),a}}function stripBasename(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let o=e.endsWith("/")?e.length-1:e.length,c=a.charAt(o);return c&&c!=="/"?null:a.slice(o)||"/"}function resolvePath(a,e){e===void 0&&(e="/");let{pathname:o,search:c="",hash:h=""}=typeof a=="string"?parsePath(a):a;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,e):e,search:normalizeSearch(c),hash:normalizeHash(h)}}function resolvePathname(a,e){let o=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(h=>{h===".."?o.length>1&&o.pop():h!=="."&&o.push(h)}),o.length>1?o.join("/"):"/"}function getInvalidPathError(a,e,o,c){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((e,o)=>o===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(a,e){let o=getPathContributingMatches(a);return e?o.map((c,h)=>h===a.length-1?c.pathname:c.pathnameBase):o.map(c=>c.pathnameBase)}function resolveTo(a,e,o,c){c===void 0&&(c=!1);let h;typeof a=="string"?h=parsePath(a):(h=_extends$3({},a),invariant(!h.pathname||!h.pathname.includes("?"),getInvalidPathError("?","pathname","search",h)),invariant(!h.pathname||!h.pathname.includes("#"),getInvalidPathError("#","pathname","hash",h)),invariant(!h.search||!h.search.includes("#"),getInvalidPathError("#","search","hash",h)));let g=a===""||h.pathname==="",b=g?"/":h.pathname,$;if(b==null)$=o;else{let ot=e.length-1;if(!c&&b.startsWith("..")){let _t=b.split("/");for(;_t[0]==="..";)_t.shift(),ot-=1;h.pathname=_t.join("/")}$=ot>=0?e[ot]:"/"}let j=resolvePath(h,$),rt=b&&b!=="/"&&b.endsWith("/"),nt=(g||b===".")&&o.endsWith("/");return!j.pathname.endsWith("/")&&(rt||nt)&&(j.pathname+="/"),j}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,e){let{relative:o}=e===void 0?{}:e;useInRouterContext()||invariant(!1);let{basename:c,navigator:h}=reactExports.useContext(NavigationContext),{hash:g,pathname:b,search:$}=useResolvedPath(a,{relative:o}),j=b;return c!=="/"&&(j=b==="/"?c:joinPaths([c,b])),h.createHref({pathname:j,search:$,hash:g})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let a=reactExports.useContext(DataRouterContext),{basename:e,future:o,navigator:c}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(h,o.v7_relativeSplatPath)),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(function(rt,nt){if(nt===void 0&&(nt={}),!$.current)return;if(typeof rt=="number"){c.go(rt);return}let ot=resolveTo(rt,JSON.parse(b),g,nt.relative==="path");a==null&&e!=="/"&&(ot.pathname=ot.pathname==="/"?e:joinPaths([e,ot.pathname])),(nt.replace?c.replace:c.push)(ot,nt.state,nt)},[e,c,b,g,a])}function useParams(){let{matches:a}=reactExports.useContext(RouteContext),e=a[a.length-1];return e?e.params:{}}function useResolvedPath(a,e){let{relative:o}=e===void 0?{}:e,{future:c}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(h,c.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(b),g,o==="path"),[a,b,g,o])}function useRoutes(a,e){return useRoutesImpl(a,e)}function useRoutesImpl(a,e,o,c){useInRouterContext()||invariant(!1);let{navigator:h}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),b=g[g.length-1],$=b?b.params:{};b&&b.pathname;let j=b?b.pathnameBase:"/";b&&b.route;let rt=useLocation(),nt;if(e){var ot;let st=typeof e=="string"?parsePath(e):e;j==="/"||(ot=st.pathname)!=null&&ot.startsWith(j)||invariant(!1),nt=st}else nt=rt;let _t=nt.pathname||"/",Et=_t;if(j!=="/"){let st=j.replace(/^\//,"").split("/");Et="/"+_t.replace(/^\//,"").split("/").slice(st.length).join("/")}let It=matchRoutes(a,{pathname:Et}),it=_renderMatches(It&&It.map(st=>Object.assign({},st,{params:Object.assign({},$,st.params),pathname:joinPaths([j,h.encodeLocation?h.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?j:joinPaths([j,h.encodeLocation?h.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),g,o,c);return e&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},nt),navigationType:Action.Pop}},it):it}function DefaultErrorComponent(){let a=useRouteError(),e=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),o?reactExports.createElement("pre",{style:h},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,o){return o.location!==e.location||o.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:o.error,location:o.location,revalidation:e.revalidation||o.revalidation}}componentDidCatch(e,o){console.error("React Router caught the following error during render",e,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:e,match:o,children:c}=a,h=reactExports.useContext(DataRouterContext);return h&&h.static&&h.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:e},c)}function _renderMatches(a,e,o,c){var h;if(e===void 0&&(e=[]),o===void 0&&(o=null),c===void 0&&(c=null),a==null){var g;if((g=o)!=null&&g.errors)a=o.matches;else return null}let b=a,$=(h=o)==null?void 0:h.errors;if($!=null){let nt=b.findIndex(ot=>ot.route.id&&($==null?void 0:$[ot.route.id]));nt>=0||invariant(!1),b=b.slice(0,Math.min(b.length,nt+1))}let j=!1,rt=-1;if(o&&c&&c.v7_partialHydration)for(let nt=0;nt<b.length;nt++){let ot=b[nt];if((ot.route.HydrateFallback||ot.route.hydrateFallbackElement)&&(rt=nt),ot.route.id){let{loaderData:_t,errors:Et}=o,It=ot.route.loader&&_t[ot.route.id]===void 0&&(!Et||Et[ot.route.id]===void 0);if(ot.route.lazy||It){j=!0,rt>=0?b=b.slice(0,rt+1):b=[b[0]];break}}}return b.reduceRight((nt,ot,_t)=>{let Et,It=!1,it=null,st=null;o&&(Et=$&&ot.route.id?$[ot.route.id]:void 0,it=ot.route.errorElement||defaultErrorElement,j&&(rt<0&&_t===0?(warningOnce("route-fallback",!1),It=!0,st=null):rt===_t&&(It=!0,st=ot.route.hydrateFallbackElement||null)));let Mt=e.concat(b.slice(0,_t+1)),bt=()=>{let Lt;return Et?Lt=it:It?Lt=st:ot.route.Component?Lt=reactExports.createElement(ot.route.Component,null):ot.route.element?Lt=ot.route.element:Lt=nt,reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:nt,matches:Mt,isDataRoute:o!=null},children:Lt})};return o&&(ot.route.ErrorBoundary||ot.route.errorElement||_t===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:it,error:Et,children:bt(),routeContext:{outlet:null,matches:Mt,isDataRoute:!0}}):bt()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext$1(a){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(a){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(a){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(a){let e=useRouteContext(),o=e.matches[e.matches.length-1];return o.route.id||invariant(!1),o.route.id}function useRouteError(){var a;let e=reactExports.useContext(RouteErrorContext),o=useDataRouterState(DataRouterStateHook$1.UseRouteError),c=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(a=o.errors)==null?void 0:a[c]}function useNavigateStable(){let{router:a}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{o.current=!0}),reactExports.useCallback(function(h,g){g===void 0&&(g={}),o.current&&(typeof h=="number"?a.navigate(h):a.navigate(h,_extends$2({fromRouteId:e},g)))},[a,e])}const alreadyWarned={};function warningOnce(a,e,o){!e&&!alreadyWarned[a]&&(alreadyWarned[a]=!0)}function Route(a){invariant(!1)}function Router(a){let{basename:e="/",children:o=null,location:c,navigationType:h=Action.Pop,navigator:g,static:b=!1,future:$}=a;useInRouterContext()&&invariant(!1);let j=e.replace(/^\/*/,"/"),rt=reactExports.useMemo(()=>({basename:j,navigator:g,static:b,future:_extends$2({v7_relativeSplatPath:!1},$)}),[j,$,g,b]);typeof c=="string"&&(c=parsePath(c));let{pathname:nt="/",search:ot="",hash:_t="",state:Et=null,key:It="default"}=c,it=reactExports.useMemo(()=>{let st=stripBasename(nt,j);return st==null?null:{location:{pathname:st,search:ot,hash:_t,state:Et,key:It},navigationType:h}},[j,nt,ot,_t,Et,It,h]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:rt},reactExports.createElement(LocationContext.Provider,{children:o,value:it}))}function Routes(a){let{children:e,location:o}=a;return useRoutes(createRoutesFromChildren(e),o)}new Promise(()=>{});function createRoutesFromChildren(a,e){e===void 0&&(e=[]);let o=[];return reactExports.Children.forEach(a,(c,h)=>{if(!reactExports.isValidElement(c))return;let g=[...e,h];if(c.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(c.props.children,g));return}c.type!==Route&&invariant(!1),!c.props.index||!c.props.children||invariant(!1);let b={id:c.props.id||g.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(b.children=createRoutesFromChildren(c.props.children,g)),o.push(b)}),o}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$7(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function isModifiedEvent$1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,e){return a.button===0&&(!e||e==="_self")&&!isModifiedEvent$1(a)}const _excluded$6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_excluded2$1=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(a){let{basename:e,children:o,future:c,window:h}=a,g=reactExports.useRef();g.current==null&&(g.current=createHashHistory({window:h,v5Compat:!0}));let b=g.current,[$,j]=reactExports.useState({action:b.action,location:b.location}),{v7_startTransition:rt}=c||{},nt=reactExports.useCallback(ot=>{rt&&startTransitionImpl?startTransitionImpl(()=>j(ot)):j(ot)},[j,rt]);return reactExports.useLayoutEffect(()=>b.listen(nt),[b,nt]),reactExports.createElement(Router,{basename:e,children:o,location:$.location,navigationType:$.action,navigator:b,future:c})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,o){let{onClick:c,relative:h,reloadDocument:g,replace:b,state:$,target:j,to:rt,preventScrollReset:nt,unstable_viewTransition:ot}=e,_t=_objectWithoutPropertiesLoose$7(e,_excluded$6),{basename:Et}=reactExports.useContext(NavigationContext),It,it=!1;if(typeof rt=="string"&&ABSOLUTE_URL_REGEX.test(rt)&&(It=rt,isBrowser))try{let Lt=new URL(window.location.href),pt=rt.startsWith("//")?new URL(Lt.protocol+rt):new URL(rt),Dt=stripBasename(pt.pathname,Et);pt.origin===Lt.origin&&Dt!=null?rt=Dt+pt.search+pt.hash:it=!0}catch{}let st=useHref(rt,{relative:h}),Mt=useLinkClickHandler(rt,{replace:b,state:$,target:j,preventScrollReset:nt,relative:h,unstable_viewTransition:ot});function bt(Lt){c&&c(Lt),Lt.defaultPrevented||Mt(Lt)}return reactExports.createElement("a",_extends$1({},_t,{href:It||st,onClick:it||g?c:bt,ref:o,target:j}))}),NavLink$2=reactExports.forwardRef(function(e,o){let{"aria-current":c="page",caseSensitive:h=!1,className:g="",end:b=!1,style:$,to:j,unstable_viewTransition:rt,children:nt}=e,ot=_objectWithoutPropertiesLoose$7(e,_excluded2$1),_t=useResolvedPath(j,{relative:ot.relative}),Et=useLocation(),It=reactExports.useContext(DataRouterStateContext),{navigator:it,basename:st}=reactExports.useContext(NavigationContext),Mt=It!=null&&useViewTransitionState(_t)&&rt===!0,bt=it.encodeLocation?it.encodeLocation(_t).pathname:_t.pathname,Lt=Et.pathname,pt=It&&It.navigation&&It.navigation.location?It.navigation.location.pathname:null;h||(Lt=Lt.toLowerCase(),pt=pt?pt.toLowerCase():null,bt=bt.toLowerCase()),pt&&st&&(pt=stripBasename(pt,st)||pt);const Dt=bt!=="/"&&bt.endsWith("/")?bt.length-1:bt.length;let wt=Lt===bt||!b&&Lt.startsWith(bt)&&Lt.charAt(Dt)==="/",Bt=pt!=null&&(pt===bt||!b&&pt.startsWith(bt)&&pt.charAt(bt.length)==="/"),jt={isActive:wt,isPending:Bt,isTransitioning:Mt},hr=wt?c:void 0,gr;typeof g=="function"?gr=g(jt):gr=[g,wt?"active":null,Bt?"pending":null,Mt?"transitioning":null].filter(Boolean).join(" ");let Cr=typeof $=="function"?$(jt):$;return reactExports.createElement(Link,_extends$1({},ot,{"aria-current":hr,className:gr,ref:o,style:Cr,to:j,unstable_viewTransition:rt}),typeof nt=="function"?nt(jt):nt)});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(a){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useLinkClickHandler(a,e){let{target:o,replace:c,state:h,preventScrollReset:g,relative:b,unstable_viewTransition:$}=e===void 0?{}:e,j=useNavigate(),rt=useLocation(),nt=useResolvedPath(a,{relative:b});return reactExports.useCallback(ot=>{if(shouldProcessLinkClick(ot,o)){ot.preventDefault();let _t=c!==void 0?c:createPath(rt)===createPath(nt);j(a,{replace:_t,state:h,preventScrollReset:g,relative:b,unstable_viewTransition:$})}},[rt,j,nt,c,h,o,a,g,b,$])}function useViewTransitionState(a,e){e===void 0&&(e={});let o=reactExports.useContext(ViewTransitionContext);o==null&&invariant(!1);let{basename:c}=useDataRouterContext(DataRouterHook.useViewTransitionState),h=useResolvedPath(a,{relative:e.relative});if(!o.isTransitioning)return!1;let g=stripBasename(o.currentLocation.pathname,c)||o.currentLocation.pathname,b=stripBasename(o.nextLocation.pathname,c)||o.nextLocation.pathname;return matchPath(h.pathname,b)!=null||matchPath(h.pathname,g)!=null}var dist$1={},Navbar$1={};const mcloud_logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABPCAYAAAAQlxDmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QgeDQk2h9q0aQAADmpJREFUeNrtXXuYU9W1/61zkgzDc2ByMuM45GR4fDyGZHiM16uFXm2V6idWKWpLa6Gg9oHaa1Xwtra0Kn0/KKKoxVKxLVKq9T7Ui9ZPvNZXZQAzmaBYYJLMMDBJEMSBYSY5Z90/Mthz9jxIhuRMBrP+y87JPnvt317PvfYOUKACFahABSpQz0SDefDbAFupe9SIU5/ldkeiOhZrKwCRQwpWw5FsK50tMc1hovMATAagArAJjx4mpn0gfQcTvZXU+IWZTfGWAhBnSIGxzlqWaBmAawCM6EcXDEIdM/8mkXBsqm1pOVEAIu2ZAwVU50IQ3QbGeVns+igYj9mIfzY1HD9YAKIP8o8tm0ayvg6MOWmy0Anw8S4Vla7EfECM770Tia27DtAKQBiobhbsjphyLwh3ALD38ti7BLykE79qk7TX2k8Wx42qhgFpd+XIkiQVVUPCJwmYDeAiAEN66W8HSbTU2xitLwABoK6iwumwJ/7cNWkitRGwWSfp0ZpQ698zNvKVI8foUtH1TLgJwLQeHjlOoEXecPQvH2sgGsaWnqdL0tMAzhW+0pjwoI7E92eEjh7NitpzO68kojUAqrrZJcL9vlDsWwToHzsggu4xUzWSXwUwWvhqD4GWesPR17P9zncnOUd0nqQfAri1+2Twz73h+IqPFRDBcaPdmmZ7A0CF8NWT8gksyXVgFnA75zHRHwCMEmTjDl84/quPBRBBRRmuDcXLAGYJDv8vfeHoCqvUw9uqMkMCngegmFQi8/yaSPx/rJwTaSCA0IrxQE8g1ISjd1qpo6eHY7tYlz4F0PuGZpmIngiMdY0/q4EIVLnmgrBIkMstvnB0QHRzTVNrA0j/HIAOQ/MwlviBsxaIf0yYUMQ6PySoxD2dnfYlA+WtAIAvFP8/ZtwlNF/mdyvXnJVAnEgeWwpgnFFLEWhpPuR/fJHYWjBeMQkqYdUWQD6rgKibBTtYv0vw3R/MhYvaT69Fl3XcACBpaJ40xWONVFgGhD2mXEUg1dDULhH9CHlE1c2xvQQ8ZlosjNvOLtVEWGxmkDd6G6OtyDPSZP45zInA8+s9pZPPCiACqms+AfNMQMj8O+QhTd8ffw/gOnPATWuD1XAMWiCCHqXcr7p+wcDmbi/WZTkfgWCAQDRUEOdLtDblLb9HuWzQRdZ+1XkjgdaitxQ0owng+b5IfEe+gFA3C3ZHXHkEwJI+HnvWnnQsnnLgwOG8lwi/R1lMoPXofR8AIIwF0StvV5X+S74A4Tis/PE0IADAFQlb5zN1s3rdM8kPIOrdo0YTo6eo9CSAhNA2VNKlhzkP0vEB1TUfjGt7+OrDHtr+1R53ZdWbouwDodwFwk8MTUdZ58V7muLPVldD1tqUmwCsgSFQIuYfMOTXBgwFCcOYtTVG95qB1ySdFnubovuCHqVcY34IoKsNv2odQcM8VaHQybwDom7c6FEOzbYbxtQ289d8kfhvTGCpyloAtyB/6YRMGF8dih36iLeKiqEOW+JdEMYaY4yaSGxN3qimf0yYUFSvKrc4NNvbEPYXNMn2Qjf0mZ9HflO9EQQAqG1pOQEiMQWyut6j/Cmglk4ZUCC2AHK9qtzcnvhgH4C1ADziMzLr54htOqE8z4HobXzndNMojOsYUkO96tp0JqnzfqumYKUyQZOxEcCFp3HMX+hUYvNqd6QM9S5PSYnM9u0AJghPHgawB2ArE4CUmnSa2m0umL/qi8TXf2TMq1xzWeetp5mz40y03BeKPkwA5xwIv8e5kJjWAxiWrqgD+G8QO8D0RQCVwjBWy8Oj/1EdROeA6CG3cxaIngVQZo7t8BQDbxNjIghfQvfyzt5oa7Fd+/zEve8fyxkQ9W7nTSB6uAe19iEBaxm8G6DbANSm2eV+bzg2cSD3IwwB6Po0H08Q8w9ZojAxbuBU/ZRIO9kmXV6zrzWadRvhV13LQPRI99/RE0mdJ3vDsbt94fgfNUpcCkIgzZTC7oEGIbUipWDaIIA+743E7/GFYo95w7E5BFoAoFl4biYl9Vd2TihXsgpEwO26lMD3C1LUDsJSXzj6RWPF9YzQ0aPFNm02A7/tIYgTRXIaD9DeuWB1p6ajEHRJn+0NR582NnrD0b+QRLXixhKASXJC+9O2NFQapaeOysaBeDvAY8wRJ33GF46+0acUjS9zIaF/koDxXW/8NwCXC2JxnS8S+/NAgcCAVK8qOwiYbmhuIcIDrEMHiEH42+l4TeWqnFuEwO+jwogzB0J1/hWgS0ySIOEyX2PslX4y/SIBF/+zjcOJhGPqQG2ZBjyurzPzQ8ZhSkxzpkWiGUf7wWo4tDblP4XFxkzSBX2VjJ5WJfhV1wIBBBBwS39A6PqtbtPw1a7cU1cbqUX2zh8MBAg7xzormPmn5kHS+v6AAADVQXTKJ3BdyhU39Mj6Q32pYOl0AZvE/GPBv/4vbzi24UyYr26O7QVhjSC+3/RXOSdZDYRNovsAjDQ0HWGZvndG/MVibUzSV2B2QmY09FEV0icQU9zOy5kw0dDUYZPt/56NCWhLFt0DYL+hqYiY1luZiW1QnRcDWGpeELwiXZezL6oJtb4JYKOpb+p9/7tPIHSiJWZh4N9NbTwYzsYkXNjc3E6g5YIBmROwqJZoG2DTQauF5h17wvGsbeEypPtgrgq5oLf9716B2OUpKSHgSlPeSJYezuZkdJ1J2CoYkV8FFWV4roFwupVlAGqM606X9GXZPEFUE25tZIE/1qVFGQFhY9snYD6545/WGPVne0JkDbcaDTeASn0or8wlCEGPUs6EewUD/ej0xsNv5cA33mh+TY+HcXoHgonmCB3+by4mpbo5thfgHwmG+/agR5meKyC01MaUsRz/YLEtuTwX7yoq5udhlrLauoqKoenbCOZaM5K0PVcT06YN+YVguGWNsToXhjvgcV4kbokyeGUmCbpMaPKe+IcA3jM02e0OzZeBsaYy0yqS9YZcAXFhc3M7MYve2EUB1bkwm++pmwU7p/bTjQC/6QvHNyCXRGgQYqmyTLymUpOIdRQdzuVYvZH4MwQ8JXCwut49anS23mGPK8sBqjYm8HSWb8x10pEYMfNn3ZkJECUmkT5w4ChyTEmS7wRgTHO4AEdWDLf/3DGVBHxbaH5keuRQELknYe64JBMgjAc3UFlZ6cj1aGeEDoXAdI8g1t/MRu0T2aS1AIxu8QHHEP6OFTGLDioSnJGODIy1uZ5nCJ0cbcWgix0j1wjGTZJ16ZdnYrgDVa653TKiTN/pMqQ5JzJnrcFMx9IHQkLI5O9LPNmKQU/cu7eDddwIw54vA7MDbueN/emv0eMZwjqvE6bmpZpI9HELU1qTBI+0Mf04gk2rEhLkmVaNuqYp9jeIhptoVX8M9zE+fgdO7YV0mSJodJtVvHSVZprcVclG76UNhAS8ISBziYUrCJzUvgXAeNbaReRYlUkfuzzlHgIEO0Brfc2tAav4cLyvXCDYpsaezoX0IRHSNnOkjU8HqlxllknFgfebGXSv2Wzha37VmbZkytDXADBGsS2OIfr3rVxQpPMXBB5eyijF4Yu07gewy5h+0nW+wUomEs7orwHabZxbAtals8cdcDvngfmz5sXEd1hloIHUdRMMWigEc09lBETXwB8XOrm1pzxJrqh2BxJE+s0wFWvR+QG3s88F8XplZTGnLj8xG+hQfLOVC6mzXfqGEI8dOhyO/TVjIIba9A0Ajhiayh2OTktF2xuKvwzQJsFw/9g/vszV229GyB3fhekYMXUSNEuLnv3njqkE8d1CSPDri837E+kBkUqE8WpBTG5vcLs+YSVTNujLARh971Ipqa/rcQI8ZeczsELIMaz2hg+/Y5mjAUhklzfAvAUbldvxYB/OUd/UlRltNNkKwqadY50VVjE2NRw/yIyVArML/KpydzcvifUnYawjYjRxu3SflQun3uNaCcalQlR3V1837qQVrQbcrkuZeKsJOEIgaZM/PXPvoZgVzG0DbKUeZScYXoGFTSRhI2u6B6lz26VCOuGamnD0KctAUJWbAfHEFL/oDcfn9lWYnHbaIKAqqxi4W2jeq8t8RepIrAV6V3UtIPCTmcRTvnDsPKvUUYOq3NvDHB0kiWac7kx52qWO08KxldT9mO4ESaPtfo/zC5bYCu3ktsyceH7JinEFPUp5QFWe6QGEYwyel87B/rSBIECXhscWA3ha+GokMT1RryrP1ruds3LJsE5DMkxxSCU5BUBRhterzts1xjsQy0iBDyDhyppwfGea85sZbQHkKapyPwPLeunwVZ3wqGaTn8um/Xi9srJ4mNyxRbzBAKlc/+tInbkQtyBPSExz+1u11xv/kzxltcT6lwB8WYgTTlGzJNG8TIot+p9adruuZ+J16P3SWwbwLoAgg0NE1P8yFcYwMK4yHiTsopc7E/Zra1ta4inX1bmQmP4gSHqSga0S+B0m0s9AHEtAPAnATMEtFem5zoR98akx5RwIoOuCxKR8P4iuwgCQRnLVjNChkNmgOx8n0JcHYDgxZrrTF4n+PtNjWxnZiJ6oev+RiC8Sv1pims3AM7D2wMkxEYQUQ5LVtxq3MGiFYwiPr4lEH+8PCGcsESLtrjpHTeqJRQCuAKgWOb79qyeJqFedvwfo+hxPfitALxLrm+OR+Nbe0hYDBoTJgR83elRRQp7IRFUskZN0HtlvE0GkADyJgMtgPn3zcqecvLp2/5EPAKDerVwLwmZB0g8y8ByBw2Dq32FJiTsBOgpdaiLmxmlN0f39XfmWA5Gb1IGyBIwN3VYn85sgUgBcYOKJsJ3bpYtrWluP5ztvg+6vbQKq8iQDC9J4tE3WMCNV0pn/JA02IDoS9kXEON0VEkfA0vzBAsKglIhTeZ2AqixDKqg03oPRAcYTxLTK2xTdN5h4GtT/unUqzwOgPEncnuhwNOXrfwgVqEAFKlCBCtRf+n97Y2CaOfCNbwAAAABJRU5ErkJggg==",mcloud_logo$1=Object.freeze(Object.defineProperty({__proto__:null,default:mcloud_logo},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(mcloud_logo$1);function _typeof$6(a){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(a)}Object.defineProperty(Navbar$1,"__esModule",{value:!0});Navbar$1.default=void 0;var _mcloud_logo=_interopRequireDefault$8(require$$1$2),_react$8=_interopRequireDefault$8(reactExports);function _interopRequireDefault$8(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck$6(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey$2(c.key),c)}}function _createClass$6(a,e,o){return e&&_defineProperties$6(a.prototype,e),o&&_defineProperties$6(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey$2(a){var e=_toPrimitive$2(a,"string");return _typeof$6(e)==="symbol"?e:String(e)}function _toPrimitive$2(a,e){if(_typeof$6(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(_typeof$6(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function _inherits$6(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_setPrototypeOf$7(a,e)}function _setPrototypeOf$7(a,e){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$7(a,e)}function _createSuper$6(a){var e=_isNativeReflectConstruct$6();return function(){var c=_getPrototypeOf$6(a),h;if(e){var g=_getPrototypeOf$6(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$6(this,h)}}function _possibleConstructorReturn$6(a,e){if(e&&(_typeof$6(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(a)}function _assertThisInitialized$6(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$6(a){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf$6(a)}var mainSections={learn:{name:"LEARN",link:"https://www.materialscloud.org/learn"},work:{name:"WORK",link:"https://www.materialscloud.org/work"},discover:{name:"DISCOVER",link:"https://www.materialscloud.org/discover"},explore:{name:"EXPLORE",link:"https://www.materialscloud.org/explore"},archive:{name:"ARCHIVE",link:"https://www.materialscloud.org/archive"}},dropdownSections={policies:{name:"Policies",link:"https://www.materialscloud.org/policies"},dmp:{name:"Data Management Plan",link:"https://www.materialscloud.org/dmp"},terms:{name:"Terms of Use",link:"https://www.materialscloud.org/termssummary"},infrastructure:{name:"Infrastructure",link:"https://www.materialscloud.org/infrastructure"},team:{name:"Team & Contact",link:"https://www.materialscloud.org/team"},partners:{name:"Partners",link:"https://www.materialscloud.org/home#partners"},restapi:{name:"Connect your REST API",link:"https://www.materialscloud.org/explore/connect"}},DropdownMenu=function(a){_inherits$6(o,a);var e=_createSuper$6(o);function o(c){var h;return _classCallCheck$6(this,o),h=e.call(this,c),h.state={dropdownOpen:!1},h.toggleDropdown=h.toggleDropdown.bind(_assertThisInitialized$6(h)),h.setWrapperRef=h.setWrapperRef.bind(_assertThisInitialized$6(h)),h.handleClickOutside=h.handleClickOutside.bind(_assertThisInitialized$6(h)),h}return _createClass$6(o,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(h){this.wrapperRef=h}},{key:"handleClickOutside",value:function(h){this.wrapperRef&&!this.wrapperRef.contains(h.target)&&this.state.dropdownOpen&&this.setState({dropdownOpen:!1})}},{key:"toggleDropdown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var h=this,g="dropdown-content";return this.state.dropdownOpen&&(g+=" dropdown-open"),_react$8.default.createElement("div",{ref:this.setWrapperRef,className:"more-dropdown"},_react$8.default.createElement("a",{className:"more-btn",onClick:this.toggleDropdown},"More ",_react$8.default.createElement("i",{className:"fa fa-caret-down"})),_react$8.default.createElement("div",{className:g},Object.keys(dropdownSections).map(function(b,$){var j="";return b==h.props.activeSection&&(j="active"),_react$8.default.createElement("a",{key:$,className:j,href:dropdownSections[b].link},dropdownSections[b].name)})))}}]),o}(_react$8.default.Component),Navbar=function(a){_inherits$6(o,a);var e=_createSuper$6(o);function o(){return _classCallCheck$6(this,o),e.apply(this,arguments)}return _createClass$6(o,[{key:"render",value:function(){var h=this;return _react$8.default.createElement("div",{className:"mc-navbar"},_react$8.default.createElement("a",{className:"mc-navbrand",href:"https://www.materialscloud.org/home"},_react$8.default.createElement("img",{src:_mcloud_logo.default,height:"50",alt:"MC logo"})),Object.keys(mainSections).map(function(g,b){var $="mc-navlink";return g==h.props.activeSection&&($+=" active"),_react$8.default.createElement("a",{key:b,className:$,href:mainSections[g].link},mainSections[g].name)}),_react$8.default.createElement(DropdownMenu,{activeSection:this.props.activeSection}))}}]),o}(_react$8.default.Component),_default$7=Navbar;Navbar$1.default=_default$7;var Breadcrumbs$1={};Object.defineProperty(Breadcrumbs$1,"__esModule",{value:!0});Breadcrumbs$1.default=void 0;var _react$7=_interopRequireDefault$7(reactExports);function _interopRequireDefault$7(a){return a&&a.__esModule?a:{default:a}}function Breadcrumbs(a){return _react$7.default.createElement("ul",{className:"mc-breadcrumb"},a.breadcrumbsPath.map(function(e,o){return _react$7.default.createElement("li",{key:o},_react$7.default.createElement("a",{href:e.link},e.name))}))}var _default$6=Breadcrumbs;Breadcrumbs$1.default=_default$6;function _typeof$5(a){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(a)}Object.defineProperty(dist$1,"__esModule",{value:!0});var default_1$1=dist$1.default=void 0,_react$6=_interopRequireDefault$6(reactExports),_Navbar=_interopRequireDefault$6(Navbar$1),_Breadcrumbs=_interopRequireDefault$6(Breadcrumbs$1);function _interopRequireDefault$6(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck$5(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey$1(c.key),c)}}function _createClass$5(a,e,o){return e&&_defineProperties$5(a.prototype,e),o&&_defineProperties$5(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey$1(a){var e=_toPrimitive$1(a,"string");return _typeof$5(e)==="symbol"?e:String(e)}function _toPrimitive$1(a,e){if(_typeof$5(a)!=="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(_typeof$5(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function _inherits$5(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_setPrototypeOf$6(a,e)}function _setPrototypeOf$6(a,e){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$6(a,e)}function _createSuper$5(a){var e=_isNativeReflectConstruct$5();return function(){var c=_getPrototypeOf$5(a),h;if(e){var g=_getPrototypeOf$5(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$5(this,h)}}function _possibleConstructorReturn$5(a,e){if(e&&(_typeof$5(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(a)}function _assertThisInitialized$5(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$5(a){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf$5(a)}var MaterialsCloudHeader=function(a){_inherits$5(o,a);var e=_createSuper$5(o);function o(c){return _classCallCheck$5(this,o),e.call(this,c)}return _createClass$5(o,[{key:"render",value:function(){return _react$6.default.createElement("div",{className:"main-container"},_react$6.default.createElement(_Navbar.default,{activeSection:this.props.activeSection}),_react$6.default.createElement("div",{className:"content-container"},_react$6.default.createElement(_Breadcrumbs.default,{breadcrumbsPath:this.props.breadcrumbsPath}),this.props.children))}}]),o}(_react$6.default.Component),_default$5=MaterialsCloudHeader;default_1$1=dist$1.default=_default$5;var dist={},PTable$1={},classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(a){(function(){var e={}.hasOwnProperty;function o(){for(var g="",b=0;b<arguments.length;b++){var $=arguments[b];$&&(g=h(g,c($)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return o.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var $ in g)e.call(g,$)&&g[$]&&(b=h(b,$));return b}function h(g,b){return b?g?g+" "+b:g+b:g}a.exports?(o.default=o,a.exports=o):window.classNames=o})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports),DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(a,e){const{prefixes:o}=reactExports.useContext(ThemeContext);return a||o[e]||e}function useBootstrapBreakpoints(){const{breakpoints:a}=reactExports.useContext(ThemeContext);return a}function useBootstrapMinBreakpoint(){const{minBreakpoint:a}=reactExports.useContext(ThemeContext);return a}function useIsRTL(){const{dir:a}=reactExports.useContext(ThemeContext);return a==="rtl"}const PopoverHeader=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},h)=>(e=useBootstrapPrefix(e,"popover-header"),jsxRuntimeExports$1.jsx(o,{ref:h,className:classNames(a,e),...c})));PopoverHeader.displayName="PopoverHeader";const PopoverHeader$1=PopoverHeader,PopoverBody=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},h)=>(e=useBootstrapPrefix(e,"popover-body"),jsxRuntimeExports$1.jsx(o,{ref:h,className:classNames(a,e),...c})));PopoverBody.displayName="PopoverBody";const PopoverBody$1=PopoverBody;function getOverlayDirection(a,e){let o=a;return a==="left"?o=e?"end":"start":a==="right"&&(o=e?"start":"end"),o}function getInitialPopperStyles(a="absolute"){return{position:a,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Popover=reactExports.forwardRef(({bsPrefix:a,placement:e="right",className:o,style:c,children:h,body:g,arrowProps:b,hasDoneInitialMeasure:$,popper:j,show:rt,...nt},ot)=>{const _t=useBootstrapPrefix(a,"popover"),Et=useIsRTL(),[It]=(e==null?void 0:e.split("-"))||[],it=getOverlayDirection(It,Et);let st=c;return rt&&!$&&(st={...c,...getInitialPopperStyles(j==null?void 0:j.strategy)}),jsxRuntimeExports$1.jsxs("div",{ref:ot,role:"tooltip",style:st,"x-placement":It,className:classNames(o,_t,It&&`bs-popover-${it}`),...nt,children:[jsxRuntimeExports$1.jsx("div",{className:"popover-arrow",...b}),g?jsxRuntimeExports$1.jsx(PopoverBody$1,{children:h}):h]})}),Popover$1=Object.assign(Popover,{Header:PopoverHeader$1,Body:PopoverBody$1,POPPER_OFFSET:[0,8]}),Popover$2=Object.freeze(Object.defineProperty({__proto__:null,default:Popover$1},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(Popover$2);var HelpButton$1={};function contains$1(a,e){if(a.contains)return a.contains(e);if(a.compareDocumentPosition)return a===e||!!(a.compareDocumentPosition(e)&16)}var propTypes$3={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(c,h,g,b,$,j){if(j!==ReactPropTypesSecret){var rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw rt.name="Invariant Violation",rt}}a.isRequired=a;function e(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:e,element:a,elementType:a,instanceOf:e,node:a,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes$3.exports=factoryWithThrowingShims();var propTypesExports=propTypes$3.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function useMounted(){const a=reactExports.useRef(!0),e=reactExports.useRef(()=>a.current);return reactExports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),e.current}function useUpdatedRef(a){const e=reactExports.useRef(a);return e.current=a,e}function useWillUnmount(a){const e=useUpdatedRef(a);reactExports.useEffect(()=>()=>e.current(),[])}const MAX_DELAY_MS=2**31-1;function setChainedTimeout(a,e,o){const c=o-Date.now();a.current=c<=MAX_DELAY_MS?setTimeout(e,c):setTimeout(()=>setChainedTimeout(a,e,o),MAX_DELAY_MS)}function useTimeout(){const a=useMounted(),e=reactExports.useRef();return useWillUnmount(()=>clearTimeout(e.current)),reactExports.useMemo(()=>{const o=()=>clearTimeout(e.current);function c(h,g=0){a()&&(o(),g<=MAX_DELAY_MS?e.current=setTimeout(h,g):setChainedTimeout(e,h,Date.now()+g))}return{set:c,clear:o,handleRef:e}},[])}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$6(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function defaultKey(a){return"default"+a.charAt(0).toUpperCase()+a.substr(1)}function _toPropertyKey(a){var e=_toPrimitive(a,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive(a,e){if(typeof a!="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function useUncontrolledProp$1(a,e,o){var c=reactExports.useRef(a!==void 0),h=reactExports.useState(e),g=h[0],b=h[1],$=a!==void 0,j=c.current;return c.current=$,!$&&j&&g!==e&&b(e),[$?a:g,reactExports.useCallback(function(rt){for(var nt=arguments.length,ot=new Array(nt>1?nt-1:0),_t=1;_t<nt;_t++)ot[_t-1]=arguments[_t];o&&o.apply(void 0,[rt].concat(ot)),b(rt)},[o])]}function useUncontrolled(a,e){return Object.keys(e).reduce(function(o,c){var h,g=o,b=g[defaultKey(c)],$=g[c],j=_objectWithoutPropertiesLoose$6(g,[defaultKey(c),c].map(_toPropertyKey)),rt=e[c],nt=useUncontrolledProp$1($,b,a[rt]),ot=nt[0],_t=nt[1];return _extends({},j,(h={},h[c]=ot,h[rt]=_t,h))},a)}function _setPrototypeOf$5(a,e){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$5(a,e)}function _inheritsLoose(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,_setPrototypeOf$5(a,e)}const toFnRef=a=>!a||typeof a=="function"?a:e=>{a.current=e};function mergeRefs(a,e){const o=toFnRef(a),c=toFnRef(e);return h=>{o&&o(h),c&&c(h)}}function useMergedRefs(a,e){return reactExports.useMemo(()=>mergeRefs(a,e),[a,e])}function useCallbackRef(){return reactExports.useState(null)}var has=Object.prototype.hasOwnProperty;function find(a,e,o){for(o of a.keys())if(dequal(o,e))return o}function dequal(a,e){var o,c,h;if(a===e)return!0;if(a&&e&&(o=a.constructor)===e.constructor){if(o===Date)return a.getTime()===e.getTime();if(o===RegExp)return a.toString()===e.toString();if(o===Array){if((c=a.length)===e.length)for(;c--&&dequal(a[c],e[c]););return c===-1}if(o===Set){if(a.size!==e.size)return!1;for(c of a)if(h=c,h&&typeof h=="object"&&(h=find(e,h),!h)||!e.has(h))return!1;return!0}if(o===Map){if(a.size!==e.size)return!1;for(c of a)if(h=c[0],h&&typeof h=="object"&&(h=find(e,h),!h)||!dequal(c[1],e.get(h)))return!1;return!0}if(o===ArrayBuffer)a=new Uint8Array(a),e=new Uint8Array(e);else if(o===DataView){if((c=a.byteLength)===e.byteLength)for(;c--&&a.getInt8(c)===e.getInt8(c););return c===-1}if(ArrayBuffer.isView(a)){if((c=a.byteLength)===e.byteLength)for(;c--&&a[c]===e[c];);return c===-1}if(!o||typeof a=="object"){c=0;for(o in a)if(has.call(a,o)&&++c&&!has.call(e,o)||!(o in e)||!dequal(a[o],e[o]))return!1;return Object.keys(e).length===c}}return a!==a&&e!==e}function useSafeState(a){const e=useMounted();return[a[0],reactExports.useCallback(o=>{if(e())return a[1](o)},[e,a[1]])]}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(a,e){return a.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(a,e){return a.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$1="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$1,afterMain,beforeWrite,write,afterWrite];function getBasePlacement(a){return a.split("-")[0]}function getWindow(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var e=a.ownerDocument;return e&&e.defaultView||window}return a}function isElement$1(a){var e=getWindow(a).Element;return a instanceof e||a instanceof Element}function isHTMLElement(a){var e=getWindow(a).HTMLElement;return a instanceof e||a instanceof HTMLElement}function isShadowRoot(a){if(typeof ShadowRoot>"u")return!1;var e=getWindow(a).ShadowRoot;return a instanceof e||a instanceof ShadowRoot}var max=Math.max,min=Math.min,round$1=Math.round;function getUAString(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(a,e,o){e===void 0&&(e=!1),o===void 0&&(o=!1);var c=a.getBoundingClientRect(),h=1,g=1;e&&isHTMLElement(a)&&(h=a.offsetWidth>0&&round$1(c.width)/a.offsetWidth||1,g=a.offsetHeight>0&&round$1(c.height)/a.offsetHeight||1);var b=isElement$1(a)?getWindow(a):window,$=b.visualViewport,j=!isLayoutViewport()&&o,rt=(c.left+(j&&$?$.offsetLeft:0))/h,nt=(c.top+(j&&$?$.offsetTop:0))/g,ot=c.width/h,_t=c.height/g;return{width:ot,height:_t,top:nt,right:rt+ot,bottom:nt+_t,left:rt,x:rt,y:nt}}function getLayoutRect(a){var e=getBoundingClientRect(a),o=a.offsetWidth,c=a.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-c)<=1&&(c=e.height),{x:a.offsetLeft,y:a.offsetTop,width:o,height:c}}function contains(a,e){var o=e.getRootNode&&e.getRootNode();if(a.contains(e))return!0;if(o&&isShadowRoot(o)){var c=e;do{if(c&&a.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function getNodeName(a){return a?(a.nodeName||"").toLowerCase():null}function getComputedStyle$3(a){return getWindow(a).getComputedStyle(a)}function isTableElement(a){return["table","td","th"].indexOf(getNodeName(a))>=0}function getDocumentElement(a){return((isElement$1(a)?a.ownerDocument:a.document)||window.document).documentElement}function getParentNode(a){return getNodeName(a)==="html"?a:a.assignedSlot||a.parentNode||(isShadowRoot(a)?a.host:null)||getDocumentElement(a)}function getTrueOffsetParent(a){return!isHTMLElement(a)||getComputedStyle$3(a).position==="fixed"?null:a.offsetParent}function getContainingBlock(a){var e=/firefox/i.test(getUAString()),o=/Trident/i.test(getUAString());if(o&&isHTMLElement(a)){var c=getComputedStyle$3(a);if(c.position==="fixed")return null}var h=getParentNode(a);for(isShadowRoot(h)&&(h=h.host);isHTMLElement(h)&&["html","body"].indexOf(getNodeName(h))<0;){var g=getComputedStyle$3(h);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||e&&g.willChange==="filter"||e&&g.filter&&g.filter!=="none")return h;h=h.parentNode}return null}function getOffsetParent(a){for(var e=getWindow(a),o=getTrueOffsetParent(a);o&&isTableElement(o)&&getComputedStyle$3(o).position==="static";)o=getTrueOffsetParent(o);return o&&(getNodeName(o)==="html"||getNodeName(o)==="body"&&getComputedStyle$3(o).position==="static")?e:o||getContainingBlock(a)||e}function getMainAxisFromPlacement(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function within(a,e,o){return max(a,min(e,o))}function withinMaxClamp(a,e,o){var c=within(a,e,o);return c>o?o:c}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(a){return Object.assign({},getFreshSideObject(),a)}function expandToHashMap(a,e){return e.reduce(function(o,c){return o[c]=a,o},{})}var toPaddingObject=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(a){var e,o=a.state,c=a.name,h=a.options,g=o.elements.arrow,b=o.modifiersData.popperOffsets,$=getBasePlacement(o.placement),j=getMainAxisFromPlacement($),rt=[left,right].indexOf($)>=0,nt=rt?"height":"width";if(!(!g||!b)){var ot=toPaddingObject(h.padding,o),_t=getLayoutRect(g),Et=j==="y"?top:left,It=j==="y"?bottom:right,it=o.rects.reference[nt]+o.rects.reference[j]-b[j]-o.rects.popper[nt],st=b[j]-o.rects.reference[j],Mt=getOffsetParent(g),bt=Mt?j==="y"?Mt.clientHeight||0:Mt.clientWidth||0:0,Lt=it/2-st/2,pt=ot[Et],Dt=bt-_t[nt]-ot[It],wt=bt/2-_t[nt]/2+Lt,Bt=within(pt,wt,Dt),jt=j;o.modifiersData[c]=(e={},e[jt]=Bt,e.centerOffset=Bt-wt,e)}}function effect$1(a){var e=a.state,o=a.options,c=o.element,h=c===void 0?"[data-popper-arrow]":c;h!=null&&(typeof h=="string"&&(h=e.elements.popper.querySelector(h),!h)||contains(e.elements.popper,h)&&(e.elements.arrow=h))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(a){return a.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(a,e){var o=a.x,c=a.y,h=e.devicePixelRatio||1;return{x:round$1(o*h)/h||0,y:round$1(c*h)/h||0}}function mapToStyles(a){var e,o=a.popper,c=a.popperRect,h=a.placement,g=a.variation,b=a.offsets,$=a.position,j=a.gpuAcceleration,rt=a.adaptive,nt=a.roundOffsets,ot=a.isFixed,_t=b.x,Et=_t===void 0?0:_t,It=b.y,it=It===void 0?0:It,st=typeof nt=="function"?nt({x:Et,y:it}):{x:Et,y:it};Et=st.x,it=st.y;var Mt=b.hasOwnProperty("x"),bt=b.hasOwnProperty("y"),Lt=left,pt=top,Dt=window;if(rt){var wt=getOffsetParent(o),Bt="clientHeight",jt="clientWidth";if(wt===getWindow(o)&&(wt=getDocumentElement(o),getComputedStyle$3(wt).position!=="static"&&$==="absolute"&&(Bt="scrollHeight",jt="scrollWidth")),wt=wt,h===top||(h===left||h===right)&&g===end){pt=bottom;var hr=ot&&wt===Dt&&Dt.visualViewport?Dt.visualViewport.height:wt[Bt];it-=hr-c.height,it*=j?1:-1}if(h===left||(h===top||h===bottom)&&g===end){Lt=right;var gr=ot&&wt===Dt&&Dt.visualViewport?Dt.visualViewport.width:wt[jt];Et-=gr-c.width,Et*=j?1:-1}}var Cr=Object.assign({position:$},rt&&unsetSides),wr=nt===!0?roundOffsetsByDPR({x:Et,y:it},getWindow(o)):{x:Et,y:it};if(Et=wr.x,it=wr.y,j){var yr;return Object.assign({},Cr,(yr={},yr[pt]=bt?"0":"",yr[Lt]=Mt?"0":"",yr.transform=(Dt.devicePixelRatio||1)<=1?"translate("+Et+"px, "+it+"px)":"translate3d("+Et+"px, "+it+"px, 0)",yr))}return Object.assign({},Cr,(e={},e[pt]=bt?it+"px":"",e[Lt]=Mt?Et+"px":"",e.transform="",e))}function computeStyles(a){var e=a.state,o=a.options,c=o.gpuAcceleration,h=c===void 0?!0:c,g=o.adaptive,b=g===void 0?!0:g,$=o.roundOffsets,j=$===void 0?!0:$,rt={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:h,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},rt,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:b,roundOffsets:j})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},rt,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(a){var e=a.state,o=a.instance,c=a.options,h=c.scroll,g=h===void 0?!0:h,b=c.resize,$=b===void 0?!0:b,j=getWindow(e.elements.popper),rt=[].concat(e.scrollParents.reference,e.scrollParents.popper);return g&&rt.forEach(function(nt){nt.addEventListener("scroll",o.update,passive)}),$&&j.addEventListener("resize",o.update,passive),function(){g&&rt.forEach(function(nt){nt.removeEventListener("scroll",o.update,passive)}),$&&j.removeEventListener("resize",o.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(a){return a.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(a){var e=getWindow(a),o=e.pageXOffset,c=e.pageYOffset;return{scrollLeft:o,scrollTop:c}}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getWindowScroll(a).scrollLeft}function getViewportRect(a,e){var o=getWindow(a),c=getDocumentElement(a),h=o.visualViewport,g=c.clientWidth,b=c.clientHeight,$=0,j=0;if(h){g=h.width,b=h.height;var rt=isLayoutViewport();(rt||!rt&&e==="fixed")&&($=h.offsetLeft,j=h.offsetTop)}return{width:g,height:b,x:$+getWindowScrollBarX(a),y:j}}function getDocumentRect(a){var e,o=getDocumentElement(a),c=getWindowScroll(a),h=(e=a.ownerDocument)==null?void 0:e.body,g=max(o.scrollWidth,o.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),b=max(o.scrollHeight,o.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),$=-c.scrollLeft+getWindowScrollBarX(a),j=-c.scrollTop;return getComputedStyle$3(h||o).direction==="rtl"&&($+=max(o.clientWidth,h?h.clientWidth:0)-g),{width:g,height:b,x:$,y:j}}function isScrollParent(a){var e=getComputedStyle$3(a),o=e.overflow,c=e.overflowX,h=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+h+c)}function getScrollParent(a){return["html","body","#document"].indexOf(getNodeName(a))>=0?a.ownerDocument.body:isHTMLElement(a)&&isScrollParent(a)?a:getScrollParent(getParentNode(a))}function listScrollParents(a,e){var o;e===void 0&&(e=[]);var c=getScrollParent(a),h=c===((o=a.ownerDocument)==null?void 0:o.body),g=getWindow(c),b=h?[g].concat(g.visualViewport||[],isScrollParent(c)?c:[]):c,$=e.concat(b);return h?$:$.concat(listScrollParents(getParentNode(b)))}function rectToClientRect(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function getInnerBoundingClientRect(a,e){var o=getBoundingClientRect(a,!1,e==="fixed");return o.top=o.top+a.clientTop,o.left=o.left+a.clientLeft,o.bottom=o.top+a.clientHeight,o.right=o.left+a.clientWidth,o.width=a.clientWidth,o.height=a.clientHeight,o.x=o.left,o.y=o.top,o}function getClientRectFromMixedType(a,e,o){return e===viewport?rectToClientRect(getViewportRect(a,o)):isElement$1(e)?getInnerBoundingClientRect(e,o):rectToClientRect(getDocumentRect(getDocumentElement(a)))}function getClippingParents(a){var e=listScrollParents(getParentNode(a)),o=["absolute","fixed"].indexOf(getComputedStyle$3(a).position)>=0,c=o&&isHTMLElement(a)?getOffsetParent(a):a;return isElement$1(c)?e.filter(function(h){return isElement$1(h)&&contains(h,c)&&getNodeName(h)!=="body"}):[]}function getClippingRect(a,e,o,c){var h=e==="clippingParents"?getClippingParents(a):[].concat(e),g=[].concat(h,[o]),b=g[0],$=g.reduce(function(j,rt){var nt=getClientRectFromMixedType(a,rt,c);return j.top=max(nt.top,j.top),j.right=min(nt.right,j.right),j.bottom=min(nt.bottom,j.bottom),j.left=max(nt.left,j.left),j},getClientRectFromMixedType(a,b,c));return $.width=$.right-$.left,$.height=$.bottom-$.top,$.x=$.left,$.y=$.top,$}function computeOffsets(a){var e=a.reference,o=a.element,c=a.placement,h=c?getBasePlacement(c):null,g=c?getVariation(c):null,b=e.x+e.width/2-o.width/2,$=e.y+e.height/2-o.height/2,j;switch(h){case top:j={x:b,y:e.y-o.height};break;case bottom:j={x:b,y:e.y+e.height};break;case right:j={x:e.x+e.width,y:$};break;case left:j={x:e.x-o.width,y:$};break;default:j={x:e.x,y:e.y}}var rt=h?getMainAxisFromPlacement(h):null;if(rt!=null){var nt=rt==="y"?"height":"width";switch(g){case start:j[rt]=j[rt]-(e[nt]/2-o[nt]/2);break;case end:j[rt]=j[rt]+(e[nt]/2-o[nt]/2);break}}return j}function detectOverflow(a,e){e===void 0&&(e={});var o=e,c=o.placement,h=c===void 0?a.placement:c,g=o.strategy,b=g===void 0?a.strategy:g,$=o.boundary,j=$===void 0?clippingParents:$,rt=o.rootBoundary,nt=rt===void 0?viewport:rt,ot=o.elementContext,_t=ot===void 0?popper:ot,Et=o.altBoundary,It=Et===void 0?!1:Et,it=o.padding,st=it===void 0?0:it,Mt=mergePaddingObject(typeof st!="number"?st:expandToHashMap(st,basePlacements)),bt=_t===popper?reference:popper,Lt=a.rects.popper,pt=a.elements[It?bt:_t],Dt=getClippingRect(isElement$1(pt)?pt:pt.contextElement||getDocumentElement(a.elements.popper),j,nt,b),wt=getBoundingClientRect(a.elements.reference),Bt=computeOffsets({reference:wt,element:Lt,strategy:"absolute",placement:h}),jt=rectToClientRect(Object.assign({},Lt,Bt)),hr=_t===popper?jt:wt,gr={top:Dt.top-hr.top+Mt.top,bottom:hr.bottom-Dt.bottom+Mt.bottom,left:Dt.left-hr.left+Mt.left,right:hr.right-Dt.right+Mt.right},Cr=a.modifiersData.offset;if(_t===popper&&Cr){var wr=Cr[h];Object.keys(gr).forEach(function(yr){var xr=[right,bottom].indexOf(yr)>=0?1:-1,In=[top,bottom].indexOf(yr)>=0?"y":"x";gr[yr]+=wr[In]*xr})}return gr}function computeAutoPlacement(a,e){e===void 0&&(e={});var o=e,c=o.placement,h=o.boundary,g=o.rootBoundary,b=o.padding,$=o.flipVariations,j=o.allowedAutoPlacements,rt=j===void 0?placements:j,nt=getVariation(c),ot=nt?$?variationPlacements:variationPlacements.filter(function(It){return getVariation(It)===nt}):basePlacements,_t=ot.filter(function(It){return rt.indexOf(It)>=0});_t.length===0&&(_t=ot);var Et=_t.reduce(function(It,it){return It[it]=detectOverflow(a,{placement:it,boundary:h,rootBoundary:g,padding:b})[getBasePlacement(it)],It},{});return Object.keys(Et).sort(function(It,it){return Et[It]-Et[it]})}function getExpandedFallbackPlacements(a){if(getBasePlacement(a)===auto)return[];var e=getOppositePlacement(a);return[getOppositeVariationPlacement(a),e,getOppositeVariationPlacement(e)]}function flip(a){var e=a.state,o=a.options,c=a.name;if(!e.modifiersData[c]._skip){for(var h=o.mainAxis,g=h===void 0?!0:h,b=o.altAxis,$=b===void 0?!0:b,j=o.fallbackPlacements,rt=o.padding,nt=o.boundary,ot=o.rootBoundary,_t=o.altBoundary,Et=o.flipVariations,It=Et===void 0?!0:Et,it=o.allowedAutoPlacements,st=e.options.placement,Mt=getBasePlacement(st),bt=Mt===st,Lt=j||(bt||!It?[getOppositePlacement(st)]:getExpandedFallbackPlacements(st)),pt=[st].concat(Lt).reduce(function(uo,wo){return uo.concat(getBasePlacement(wo)===auto?computeAutoPlacement(e,{placement:wo,boundary:nt,rootBoundary:ot,padding:rt,flipVariations:It,allowedAutoPlacements:it}):wo)},[]),Dt=e.rects.reference,wt=e.rects.popper,Bt=new Map,jt=!0,hr=pt[0],gr=0;gr<pt.length;gr++){var Cr=pt[gr],wr=getBasePlacement(Cr),yr=getVariation(Cr)===start,xr=[top,bottom].indexOf(wr)>=0,In=xr?"width":"height",rn=detectOverflow(e,{placement:Cr,boundary:nt,rootBoundary:ot,altBoundary:_t,padding:rt}),Sr=xr?yr?right:left:yr?bottom:top;Dt[In]>wt[In]&&(Sr=getOppositePlacement(Sr));var Tr=getOppositePlacement(Sr),Ln=[];if(g&&Ln.push(rn[wr]<=0),$&&Ln.push(rn[Sr]<=0,rn[Tr]<=0),Ln.every(function(uo){return uo})){hr=Cr,jt=!1;break}Bt.set(Cr,Ln)}if(jt)for(var Fn=It?3:1,Or=function(wo){var bo=pt.find(function(es){var rs=Bt.get(es);if(rs)return rs.slice(0,wo).every(function(vo){return vo})});if(bo)return hr=bo,"break"},Nn=Fn;Nn>0;Nn--){var eo=Or(Nn);if(eo==="break")break}e.placement!==hr&&(e.modifiersData[c]._skip=!0,e.placement=hr,e.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(a,e,o){return o===void 0&&(o={x:0,y:0}),{top:a.top-e.height-o.y,right:a.right-e.width+o.x,bottom:a.bottom-e.height+o.y,left:a.left-e.width-o.x}}function isAnySideFullyClipped(a){return[top,right,bottom,left].some(function(e){return a[e]>=0})}function hide(a){var e=a.state,o=a.name,c=e.rects.reference,h=e.rects.popper,g=e.modifiersData.preventOverflow,b=detectOverflow(e,{elementContext:"reference"}),$=detectOverflow(e,{altBoundary:!0}),j=getSideOffsets(b,c),rt=getSideOffsets($,h,g),nt=isAnySideFullyClipped(j),ot=isAnySideFullyClipped(rt);e.modifiersData[o]={referenceClippingOffsets:j,popperEscapeOffsets:rt,isReferenceHidden:nt,hasPopperEscaped:ot},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":nt,"data-popper-escaped":ot})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(a,e,o){var c=getBasePlacement(a),h=[left,top].indexOf(c)>=0?-1:1,g=typeof o=="function"?o(Object.assign({},e,{placement:a})):o,b=g[0],$=g[1];return b=b||0,$=($||0)*h,[left,right].indexOf(c)>=0?{x:$,y:b}:{x:b,y:$}}function offset(a){var e=a.state,o=a.options,c=a.name,h=o.offset,g=h===void 0?[0,0]:h,b=placements.reduce(function(nt,ot){return nt[ot]=distanceAndSkiddingToXY(ot,e.rects,g),nt},{}),$=b[e.placement],j=$.x,rt=$.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=j,e.modifiersData.popperOffsets.y+=rt),e.modifiersData[c]=b}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(a){var e=a.state,o=a.name;e.modifiersData[o]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(a){return a==="x"?"y":"x"}function preventOverflow(a){var e=a.state,o=a.options,c=a.name,h=o.mainAxis,g=h===void 0?!0:h,b=o.altAxis,$=b===void 0?!1:b,j=o.boundary,rt=o.rootBoundary,nt=o.altBoundary,ot=o.padding,_t=o.tether,Et=_t===void 0?!0:_t,It=o.tetherOffset,it=It===void 0?0:It,st=detectOverflow(e,{boundary:j,rootBoundary:rt,padding:ot,altBoundary:nt}),Mt=getBasePlacement(e.placement),bt=getVariation(e.placement),Lt=!bt,pt=getMainAxisFromPlacement(Mt),Dt=getAltAxis(pt),wt=e.modifiersData.popperOffsets,Bt=e.rects.reference,jt=e.rects.popper,hr=typeof it=="function"?it(Object.assign({},e.rects,{placement:e.placement})):it,gr=typeof hr=="number"?{mainAxis:hr,altAxis:hr}:Object.assign({mainAxis:0,altAxis:0},hr),Cr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,wr={x:0,y:0};if(wt){if(g){var yr,xr=pt==="y"?top:left,In=pt==="y"?bottom:right,rn=pt==="y"?"height":"width",Sr=wt[pt],Tr=Sr+st[xr],Ln=Sr-st[In],Fn=Et?-jt[rn]/2:0,Or=bt===start?Bt[rn]:jt[rn],Nn=bt===start?-jt[rn]:-Bt[rn],eo=e.elements.arrow,uo=Et&&eo?getLayoutRect(eo):{width:0,height:0},wo=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),bo=wo[xr],es=wo[In],rs=within(0,Bt[rn],uo[rn]),vo=Lt?Bt[rn]/2-Fn-rs-bo-gr.mainAxis:Or-rs-bo-gr.mainAxis,gs=Lt?-Bt[rn]/2+Fn+rs+es+gr.mainAxis:Nn+rs+es+gr.mainAxis,cs=e.elements.arrow&&getOffsetParent(e.elements.arrow),Gs=cs?pt==="y"?cs.clientTop||0:cs.clientLeft||0:0,$n=(yr=Cr==null?void 0:Cr[pt])!=null?yr:0,Kn=Sr+vo-$n-Gs,Bn=Sr+gs-$n,co=within(Et?min(Tr,Kn):Tr,Sr,Et?max(Ln,Bn):Ln);wt[pt]=co,wr[pt]=co-Sr}if($){var vs,Ts=pt==="x"?top:left,Fs=pt==="x"?bottom:right,Os=wt[Dt],Ns=Dt==="y"?"height":"width",Ps=Os+st[Ts],Ks=Os-st[Fs],Bs=[top,left].indexOf(Mt)!==-1,_l=(vs=Cr==null?void 0:Cr[Dt])!=null?vs:0,Cl=Bs?Ps:Os-Bt[Ns]-jt[Ns]-_l+gr.altAxis,Zn=Bs?Os+Bt[Ns]+jt[Ns]-_l-gr.altAxis:Ks,Vn=Et&&Bs?withinMaxClamp(Cl,Os,Zn):within(Et?Cl:Ps,Os,Et?Zn:Ks);wt[Dt]=Vn,wr[Dt]=Vn-Os}e.modifiersData[c]=wr}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function getNodeScroll(a){return a===getWindow(a)||!isHTMLElement(a)?getWindowScroll(a):getHTMLElementScroll(a)}function isElementScaled(a){var e=a.getBoundingClientRect(),o=round$1(e.width)/a.offsetWidth||1,c=round$1(e.height)/a.offsetHeight||1;return o!==1||c!==1}function getCompositeRect(a,e,o){o===void 0&&(o=!1);var c=isHTMLElement(e),h=isHTMLElement(e)&&isElementScaled(e),g=getDocumentElement(e),b=getBoundingClientRect(a,h,o),$={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(c||!c&&!o)&&((getNodeName(e)!=="body"||isScrollParent(g))&&($=getNodeScroll(e)),isHTMLElement(e)?(j=getBoundingClientRect(e,!0),j.x+=e.clientLeft,j.y+=e.clientTop):g&&(j.x=getWindowScrollBarX(g))),{x:b.left+$.scrollLeft-j.x,y:b.top+$.scrollTop-j.y,width:b.width,height:b.height}}function order(a){var e=new Map,o=new Set,c=[];a.forEach(function(g){e.set(g.name,g)});function h(g){o.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function($){if(!o.has($)){var j=e.get($);j&&h(j)}}),c.push(g)}return a.forEach(function(g){o.has(g.name)||h(g)}),c}function orderModifiers(a){var e=order(a);return modifierPhases.reduce(function(o,c){return o.concat(e.filter(function(h){return h.phase===c}))},[])}function debounce$3(a){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(a())})})),e}}function mergeByName(a){var e=a.reduce(function(o,c){var h=o[c.name];return o[c.name]=h?Object.assign({},h,c,{options:Object.assign({},h.options,c.options),data:Object.assign({},h.data,c.data)}):c,o},{});return Object.keys(e).map(function(o){return e[o]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return!e.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function popperGenerator(a){a===void 0&&(a={});var e=a,o=e.defaultModifiers,c=o===void 0?[]:o,h=e.defaultOptions,g=h===void 0?DEFAULT_OPTIONS:h;return function($,j,rt){rt===void 0&&(rt=g);var nt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,g),modifiersData:{},elements:{reference:$,popper:j},attributes:{},styles:{}},ot=[],_t=!1,Et={state:nt,setOptions:function(Mt){var bt=typeof Mt=="function"?Mt(nt.options):Mt;it(),nt.options=Object.assign({},g,nt.options,bt),nt.scrollParents={reference:isElement$1($)?listScrollParents($):$.contextElement?listScrollParents($.contextElement):[],popper:listScrollParents(j)};var Lt=orderModifiers(mergeByName([].concat(c,nt.options.modifiers)));return nt.orderedModifiers=Lt.filter(function(pt){return pt.enabled}),It(),Et.update()},forceUpdate:function(){if(!_t){var Mt=nt.elements,bt=Mt.reference,Lt=Mt.popper;if(areValidElements(bt,Lt)){nt.rects={reference:getCompositeRect(bt,getOffsetParent(Lt),nt.options.strategy==="fixed"),popper:getLayoutRect(Lt)},nt.reset=!1,nt.placement=nt.options.placement,nt.orderedModifiers.forEach(function(gr){return nt.modifiersData[gr.name]=Object.assign({},gr.data)});for(var pt=0;pt<nt.orderedModifiers.length;pt++){if(nt.reset===!0){nt.reset=!1,pt=-1;continue}var Dt=nt.orderedModifiers[pt],wt=Dt.fn,Bt=Dt.options,jt=Bt===void 0?{}:Bt,hr=Dt.name;typeof wt=="function"&&(nt=wt({state:nt,options:jt,name:hr,instance:Et})||nt)}}}},update:debounce$3(function(){return new Promise(function(st){Et.forceUpdate(),st(nt)})}),destroy:function(){it(),_t=!0}};if(!areValidElements($,j))return Et;Et.setOptions(rt).then(function(st){!_t&&rt.onFirstUpdate&&rt.onFirstUpdate(st)});function It(){nt.orderedModifiers.forEach(function(st){var Mt=st.name,bt=st.options,Lt=bt===void 0?{}:bt,pt=st.effect;if(typeof pt=="function"){var Dt=pt({state:nt,name:Mt,instance:Et,options:Lt}),wt=function(){};ot.push(Dt||wt)}})}function it(){ot.forEach(function(st){return st()}),ot=[]}return Et}}const createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$1,flip$1,preventOverflow$1,arrow$1]}),_excluded$5=["enabled","placement","strategy","modifiers"];function _objectWithoutPropertiesLoose$5(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}const disabledApplyStylesModifier={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:a})=>()=>{const{reference:e,popper:o}=a.elements;if("removeAttribute"in e){const c=(e.getAttribute("aria-describedby")||"").split(",").filter(h=>h.trim()!==o.id);c.length?e.setAttribute("aria-describedby",c.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:a})=>{var e;const{popper:o,reference:c}=a.elements,h=(e=o.getAttribute("role"))==null?void 0:e.toLowerCase();if(o.id&&h==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(o.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${o.id}`:o.id)}}},EMPTY_MODIFIERS=[];function usePopper(a,e,o={}){let{enabled:c=!0,placement:h="bottom",strategy:g="absolute",modifiers:b=EMPTY_MODIFIERS}=o,$=_objectWithoutPropertiesLoose$5(o,_excluded$5);const j=reactExports.useRef(b),rt=reactExports.useRef(),nt=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.update()},[]),ot=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.forceUpdate()},[]),[_t,Et]=useSafeState(reactExports.useState({placement:h,update:nt,forceUpdate:ot,attributes:{},styles:{popper:{},arrow:{}}})),It=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:st})=>{const Mt={},bt={};Object.keys(st.elements).forEach(Lt=>{Mt[Lt]=st.styles[Lt],bt[Lt]=st.attributes[Lt]}),Et({state:st,styles:Mt,attributes:bt,update:nt,forceUpdate:ot,placement:st.placement})}}),[nt,ot,Et]),it=reactExports.useMemo(()=>(dequal(j.current,b)||(j.current=b),j.current),[b]);return reactExports.useEffect(()=>{!rt.current||!c||rt.current.setOptions({placement:h,strategy:g,modifiers:[...it,It,disabledApplyStylesModifier]})},[g,h,It,c,it]),reactExports.useEffect(()=>{if(!(!c||a==null||e==null))return rt.current=createPopper(a,e,Object.assign({},$,{placement:h,strategy:g,modifiers:[...it,ariaDescribedByModifier,It]})),()=>{rt.current!=null&&(rt.current.destroy(),rt.current=void 0,Et(st=>Object.assign({},st,{attributes:{},styles:{popper:{}}})))}},[c,a,e]),_t}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(a,e,o,c){if(c&&typeof c!="boolean"&&!onceSupported){var h=c.once,g=c.capture,b=o;!onceSupported&&h&&(b=o.__once||function $(j){this.removeEventListener(e,$,g),o.call(this,j)},o.__once=b),a.addEventListener(e,b,optionsSupported?c:g)}a.addEventListener(e,o,c)}function removeEventListener(a,e,o,c){var h=c&&typeof c!="boolean"?c.capture:c;a.removeEventListener(e,o,h),o.__once&&a.removeEventListener(e,o.__once,h)}function listen(a,e,o,c){return addEventListener(a,e,o,c),function(){removeEventListener(a,e,o,c)}}function ownerDocument(a){return a&&a.ownerDocument||document}function useCommittedRef(a){const e=reactExports.useRef(a);return reactExports.useEffect(()=>{e.current=a},[a]),e}function useEventCallback(a){const e=useCommittedRef(a);return reactExports.useCallback(function(...o){return e.current&&e.current(...o)},[e])}const noop$5=()=>{};function isLeftClickEvent(a){return a.button===0}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}const getRefTarget=a=>a&&("current"in a?a.current:a),InitialTriggerEvents={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function useClickOutside(a,e=noop$5,{disabled:o,clickTrigger:c="click"}={}){const h=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(rt=>{const nt=getRefTarget(a);warning$1(!!nt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),h.current=!nt||isModifiedEvent(rt)||!isLeftClickEvent(rt)||!!contains$1(nt,rt.target)||g.current,g.current=!1},[a]),$=useEventCallback(rt=>{const nt=getRefTarget(a);nt&&contains$1(nt,rt.target)&&(g.current=!0)}),j=useEventCallback(rt=>{h.current||e(rt)});reactExports.useEffect(()=>{var rt,nt;if(o||a==null)return;const ot=ownerDocument(getRefTarget(a)),_t=ot.defaultView||window;let Et=(rt=_t.event)!=null?rt:(nt=_t.parent)==null?void 0:nt.event,It=null;InitialTriggerEvents[c]&&(It=listen(ot,InitialTriggerEvents[c],$,!0));const it=listen(ot,c,b,!0),st=listen(ot,c,bt=>{if(bt===Et){Et=void 0;return}j(bt)});let Mt=[];return"ontouchstart"in ot.documentElement&&(Mt=[].slice.call(ot.body.children).map(bt=>listen(bt,"mousemove",noop$5))),()=>{It==null||It(),it(),st(),Mt.forEach(bt=>bt())}},[a,o,c,b,$,j])}function isEscKey(a){return a.code==="Escape"||a.keyCode===27}const noop$4=()=>{};function useRootClose(a,e,{disabled:o,clickTrigger:c}={}){const h=e||noop$4;useClickOutside(a,h,{disabled:o,clickTrigger:c});const g=useEventCallback(b=>{isEscKey(b)&&h(b)});reactExports.useEffect(()=>{if(o||a==null)return;const b=ownerDocument(getRefTarget(a));let $=(b.defaultView||window).event;const j=listen(b,"keyup",rt=>{if(rt===$){$=void 0;return}g(rt)});return()=>{j()}},[a,o,g])}const Context$1=reactExports.createContext(canUseDOM?window:void 0);Context$1.Provider;function useWindow(){return reactExports.useContext(Context$1)}const resolveContainerRef=(a,e)=>canUseDOM?a==null?(e||ownerDocument()).body:(typeof a=="function"&&(a=a()),a&&"current"in a&&(a=a.current),a&&("nodeType"in a||a.getBoundingClientRect)?a:null):null;function useWaitForDOMRef(a,e){const o=useWindow(),[c,h]=reactExports.useState(()=>resolveContainerRef(a,o==null?void 0:o.document));if(!c){const g=resolveContainerRef(a);g&&h(g)}return reactExports.useEffect(()=>{e&&c&&e(c)},[e,c]),reactExports.useEffect(()=>{const g=resolveContainerRef(a);g!==c&&h(g)},[a,c]),c}function toModifierMap(a){const e={};return Array.isArray(a)?(a==null||a.forEach(o=>{e[o.name]=o}),e):a||e}function toModifierArray(a={}){return Array.isArray(a)?a:Object.keys(a).map(e=>(a[e].name=e,a[e]))}function mergeOptionsWithPopperConfig({enabled:a,enableEvents:e,placement:o,flip:c,offset:h,fixed:g,containerPadding:b,arrowElement:$,popperConfig:j={}}){var rt,nt,ot,_t,Et;const It=toModifierMap(j.modifiers);return Object.assign({},j,{placement:o,enabled:a,strategy:g?"fixed":j.strategy,modifiers:toModifierArray(Object.assign({},It,{eventListeners:{enabled:e,options:(rt=It.eventListeners)==null?void 0:rt.options},preventOverflow:Object.assign({},It.preventOverflow,{options:b?Object.assign({padding:b},(nt=It.preventOverflow)==null?void 0:nt.options):(ot=It.preventOverflow)==null?void 0:ot.options}),offset:{options:Object.assign({offset:h},(_t=It.offset)==null?void 0:_t.options)},arrow:Object.assign({},It.arrow,{enabled:!!$,options:Object.assign({},(Et=It.arrow)==null?void 0:Et.options,{element:$})}),flip:Object.assign({enabled:!!c},It.flip)}))})}const isReactNative=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u",useEffect=isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect;function NoopTransition({children:a,in:e,onExited:o,mountOnEnter:c,unmountOnExit:h}){const g=reactExports.useRef(null),b=reactExports.useRef(e),$=useEventCallback(o);reactExports.useEffect(()=>{e?b.current=!0:$(g.current)},[e,$]);const j=useMergedRefs(g,a.ref),rt=reactExports.cloneElement(a,{ref:j});return e?rt:h||!b.current&&c?null:rt}function useTransition({in:a,onTransition:e}){const o=reactExports.useRef(null),c=reactExports.useRef(!0),h=useEventCallback(e);return useEffect(()=>{if(!o.current)return;let g=!1;return h({in:a,element:o.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[a,h]),useEffect(()=>(c.current=!1,()=>{c.current=!0}),[]),o}function ImperativeTransition({children:a,in:e,onExited:o,onEntered:c,transition:h}){const[g,b]=reactExports.useState(!e);e&&g&&b(!1);const $=useTransition({in:!!e,onTransition:rt=>{const nt=()=>{rt.isStale()||(rt.in?c==null||c(rt.element,rt.initial):(b(!0),o==null||o(rt.element)))};Promise.resolve(h(rt)).then(nt,ot=>{throw rt.in||b(!0),ot})}}),j=useMergedRefs($,a.ref);return g&&!e?null:reactExports.cloneElement(a,{ref:j})}function renderTransition(a,e,o){return a?jsxRuntimeExports$1.jsx(a,Object.assign({},o)):e?jsxRuntimeExports$1.jsx(ImperativeTransition,Object.assign({},o,{transition:e})):jsxRuntimeExports$1.jsx(NoopTransition,Object.assign({},o))}const Overlay$2=reactExports.forwardRef((a,e)=>{const{flip:o,offset:c,placement:h,containerPadding:g,popperConfig:b={},transition:$,runTransition:j}=a,[rt,nt]=useCallbackRef(),[ot,_t]=useCallbackRef(),Et=useMergedRefs(nt,e),It=useWaitForDOMRef(a.container),it=useWaitForDOMRef(a.target),[st,Mt]=reactExports.useState(!a.show),bt=usePopper(it,rt,mergeOptionsWithPopperConfig({placement:h,enableEvents:!!a.show,containerPadding:g||5,flip:o,offset:c,arrowElement:ot,popperConfig:b}));a.show&&st&&Mt(!1);const Lt=(...Cr)=>{Mt(!0),a.onExited&&a.onExited(...Cr)},pt=a.show||!st;if(useRootClose(rt,a.onHide,{disabled:!a.rootClose||a.rootCloseDisabled,clickTrigger:a.rootCloseEvent}),!pt)return null;const{onExit:Dt,onExiting:wt,onEnter:Bt,onEntering:jt,onEntered:hr}=a;let gr=a.children(Object.assign({},bt.attributes.popper,{style:bt.styles.popper,ref:Et}),{popper:bt,placement:h,show:!!a.show,arrowProps:Object.assign({},bt.attributes.arrow,{style:bt.styles.arrow,ref:_t})});return gr=renderTransition($,j,{in:!!a.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:gr,onExit:Dt,onExiting:wt,onExited:Lt,onEnter:Bt,onEntering:jt,onEntered:hr}),It?ReactDOM.createPortal(gr,It):null});Overlay$2.displayName="Overlay";const BaseOverlay=Overlay$2;function hasClass(a,e){return a.classList?!!e&&a.classList.contains(e):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+e+" ")!==-1}const Tooltip$1=reactExports.forwardRef(({bsPrefix:a,placement:e="right",className:o,style:c,children:h,arrowProps:g,hasDoneInitialMeasure:b,popper:$,show:j,...rt},nt)=>{a=useBootstrapPrefix(a,"tooltip");const ot=useIsRTL(),[_t]=(e==null?void 0:e.split("-"))||[],Et=getOverlayDirection(_t,ot);let It=c;return j&&!b&&(It={...c,...getInitialPopperStyles($==null?void 0:$.strategy)}),jsxRuntimeExports$1.jsxs("div",{ref:nt,style:It,role:"tooltip","x-placement":_t,className:classNames(o,a,`bs-tooltip-${Et}`),...rt,children:[jsxRuntimeExports$1.jsx("div",{className:"tooltip-arrow",...g}),jsxRuntimeExports$1.jsx("div",{className:`${a}-inner`,children:h})]})});Tooltip$1.displayName="Tooltip";const Tooltip$2=Object.assign(Tooltip$1,{TOOLTIP_OFFSET:[0,6]});function useOverlayOffset(a){const e=reactExports.useRef(null),o=useBootstrapPrefix(void 0,"popover"),c=useBootstrapPrefix(void 0,"tooltip"),h=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(a)return a;if(e.current){if(hasClass(e.current,o))return Popover$1.POPPER_OFFSET;if(hasClass(e.current,c))return Tooltip$2.TOOLTIP_OFFSET}return[0,0]}}}),[a,o,c]);return[e,[h]]}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(e){return e.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(a){_inheritsLoose(e,a);function e(c,h){var g;g=a.call(this,c,h)||this;var b=h,$=b&&!b.isMounting?c.enter:c.appear,j;return g.appearStatus=null,c.in?$?(j=EXITED,g.appearStatus=ENTERING):j=ENTERED:c.unmountOnExit||c.mountOnEnter?j=UNMOUNTED:j=EXITED,g.state={status:j},g.nextCallback=null,g}e.getDerivedStateFromProps=function(h,g){var b=h.in;return b&&g.status===UNMOUNTED?{status:EXITED}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(h){var g=null;if(h!==this.props){var b=this.state.status;this.props.in?b!==ENTERING&&b!==ENTERED&&(g=ENTERING):(b===ENTERING||b===ENTERED)&&(g=EXITING)}this.updateStatus(!1,g)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var h=this.props.timeout,g,b,$;return g=b=$=h,h!=null&&typeof h!="number"&&(g=h.exit,b=h.enter,$=h.appear!==void 0?h.appear:b),{exit:g,enter:b,appear:$}},o.updateStatus=function(h,g){if(h===void 0&&(h=!1),g!==null)if(this.cancelNextCallback(),g===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var b=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);b&&forceReflow(b)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},o.performEnter=function(h){var g=this,b=this.props.enter,$=this.context?this.context.isMounting:h,j=this.props.nodeRef?[$]:[ReactDOM.findDOMNode(this),$],rt=j[0],nt=j[1],ot=this.getTimeouts(),_t=$?ot.appear:ot.enter;if(!h&&!b||config.disabled){this.safeSetState({status:ENTERED},function(){g.props.onEntered(rt)});return}this.props.onEnter(rt,nt),this.safeSetState({status:ENTERING},function(){g.props.onEntering(rt,nt),g.onTransitionEnd(_t,function(){g.safeSetState({status:ENTERED},function(){g.props.onEntered(rt,nt)})})})},o.performExit=function(){var h=this,g=this.props.exit,b=this.getTimeouts(),$=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!g||config.disabled){this.safeSetState({status:EXITED},function(){h.props.onExited($)});return}this.props.onExit($),this.safeSetState({status:EXITING},function(){h.props.onExiting($),h.onTransitionEnd(b.exit,function(){h.safeSetState({status:EXITED},function(){h.props.onExited($)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(h,g){g=this.setNextCallback(g),this.setState(h,g)},o.setNextCallback=function(h){var g=this,b=!0;return this.nextCallback=function($){b&&(b=!1,g.nextCallback=null,h($))},this.nextCallback.cancel=function(){b=!1},this.nextCallback},o.onTransitionEnd=function(h,g){this.setNextCallback(g);var b=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),$=h==null&&!this.props.addEndListener;if(!b||$){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var j=this.props.nodeRef?[this.nextCallback]:[b,this.nextCallback],rt=j[0],nt=j[1];this.props.addEndListener(rt,nt)}h!=null&&setTimeout(this.nextCallback,h)},o.render=function(){var h=this.state.status;if(h===UNMOUNTED)return null;var g=this.props,b=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var $=_objectWithoutPropertiesLoose$6(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof b=="function"?b(h,$):React.cloneElement(React.Children.only(b),$))},e}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$3(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$3,onEntering:noop$3,onEntered:noop$3,onExit:noop$3,onExiting:noop$3,onExited:noop$3};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function ownerWindow(a){var e=ownerDocument(a);return e&&e.defaultView||window}function getComputedStyle$2(a,e){return ownerWindow(a).getComputedStyle(a,e)}var rUpper=/([A-Z])/g;function hyphenate(a){return a.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(a){return hyphenate(a).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(a){return!!(a&&supportedTransforms.test(a))}function style(a,e){var o="",c="";if(typeof e=="string")return a.style.getPropertyValue(hyphenateStyleName(e))||getComputedStyle$2(a).getPropertyValue(hyphenateStyleName(e));Object.keys(e).forEach(function(h){var g=e[h];!g&&g!==0?a.style.removeProperty(hyphenateStyleName(h)):isTransform(h)?c+=h+"("+g+") ":o+=hyphenateStyleName(h)+": "+g+";"}),c&&(o+="transform: "+c+";"),a.style.cssText+=";"+o}function triggerEvent(a,e,o,c){if(o===void 0&&(o=!1),c===void 0&&(c=!0),a){var h=document.createEvent("HTMLEvents");h.initEvent(e,o,c),a.dispatchEvent(h)}}function parseDuration$1(a){var e=style(a,"transitionDuration")||"",o=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*o}function emulateTransitionEnd(a,e,o){o===void 0&&(o=5);var c=!1,h=setTimeout(function(){c||triggerEvent(a,"transitionend",!0)},e+o),g=listen(a,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(h),g()}}function transitionEnd(a,e,o,c){o==null&&(o=parseDuration$1(a)||0);var h=emulateTransitionEnd(a,o,c),g=listen(a,"transitionend",e);return function(){h(),g()}}function parseDuration(a,e){const o=style(a,e)||"",c=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*c}function transitionEndListener(a,e){const o=parseDuration(a,"transitionDuration"),c=parseDuration(a,"transitionDelay"),h=transitionEnd(a,g=>{g.target===a&&(h(),e(g))},o+c)}function triggerBrowserReflow(a){a.offsetHeight}function safeFindDOMNode(a){return a&&"setState"in a?ReactDOM.findDOMNode(a):a??null}const TransitionWrapper=React.forwardRef(({onEnter:a,onEntering:e,onEntered:o,onExit:c,onExiting:h,onExited:g,addEndListener:b,children:$,childRef:j,...rt},nt)=>{const ot=reactExports.useRef(null),_t=useMergedRefs(ot,j),Et=wt=>{_t(safeFindDOMNode(wt))},It=wt=>Bt=>{wt&&ot.current&&wt(ot.current,Bt)},it=reactExports.useCallback(It(a),[a]),st=reactExports.useCallback(It(e),[e]),Mt=reactExports.useCallback(It(o),[o]),bt=reactExports.useCallback(It(c),[c]),Lt=reactExports.useCallback(It(h),[h]),pt=reactExports.useCallback(It(g),[g]),Dt=reactExports.useCallback(It(b),[b]);return jsxRuntimeExports$1.jsx(Transition$1,{ref:nt,...rt,onEnter:it,onEntered:Mt,onEntering:st,onExit:bt,onExited:pt,onExiting:Lt,addEndListener:Dt,nodeRef:ot,children:typeof $=="function"?(wt,Bt)=>$(wt,{...Bt,ref:Et}):React.cloneElement($,{ref:Et})})}),TransitionWrapper$1=TransitionWrapper,fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:a,children:e,transitionClasses:o={},onEnter:c,...h},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...h},$=reactExports.useCallback((j,rt)=>{triggerBrowserReflow(j),c==null||c(j,rt)},[c]);return jsxRuntimeExports$1.jsx(TransitionWrapper$1,{ref:g,addEndListener:transitionEndListener,...b,onEnter:$,childRef:e.ref,children:(j,rt)=>reactExports.cloneElement(e,{...rt,className:classNames("fade",a,e.props.className,fadeStyles[j],o[j])})})});Fade.displayName="Fade";const Fade$1=Fade;function wrapRefs(a,e){const{ref:o}=a,{ref:c}=e;a.ref=o.__wrapped||(o.__wrapped=h=>o(safeFindDOMNode(h))),e.ref=c.__wrapped||(c.__wrapped=h=>c(safeFindDOMNode(h)))}const Overlay=reactExports.forwardRef(({children:a,transition:e=Fade$1,popperConfig:o={},rootClose:c=!1,placement:h="top",show:g=!1,...b},$)=>{const j=reactExports.useRef({}),[rt,nt]=reactExports.useState(null),[ot,_t]=useOverlayOffset(b.offset),Et=useMergedRefs($,ot),It=e===!0?Fade$1:e||void 0,it=useEventCallback(st=>{nt(st),o==null||o.onFirstUpdate==null||o.onFirstUpdate(st)});return useEffect(()=>{rt&&b.target&&(j.current.scheduleUpdate==null||j.current.scheduleUpdate())},[rt,b.target]),reactExports.useEffect(()=>{g||nt(null)},[g]),jsxRuntimeExports$1.jsx(BaseOverlay,{...b,ref:Et,popperConfig:{...o,modifiers:_t.concat(o.modifiers||[]),onFirstUpdate:it},transition:It,rootClose:c,placement:h,show:g,children:(st,{arrowProps:Mt,popper:bt,show:Lt})=>{var pt,Dt;wrapRefs(st,Mt);const wt=bt==null?void 0:bt.placement,Bt=Object.assign(j.current,{state:bt==null?void 0:bt.state,scheduleUpdate:bt==null?void 0:bt.update,placement:wt,outOfBoundaries:(bt==null||(pt=bt.state)==null||(Dt=pt.modifiersData.hide)==null?void 0:Dt.isReferenceHidden)||!1,strategy:o.strategy}),jt=!!rt;return typeof a=="function"?a({...st,placement:wt,show:Lt,...!e&&Lt&&{className:"show"},popper:Bt,arrowProps:Mt,hasDoneInitialMeasure:jt}):reactExports.cloneElement(a,{...st,placement:wt,arrowProps:Mt,popper:Bt,hasDoneInitialMeasure:jt,className:classNames(a.props.className,!e&&Lt&&"show"),style:{...a.props.style,...st.style}})}})});Overlay.displayName="Overlay";const Overlay$1=Overlay;function normalizeDelay(a){return a&&typeof a=="object"?a:{show:a,hide:a}}function handleMouseOverOut(a,e,o){const[c]=e,h=c.currentTarget,g=c.relatedTarget||c.nativeEvent[o];(!g||g!==h)&&!contains$1(h,g)&&a(...e)}PropTypes.oneOf(["click","hover","focus"]);const OverlayTrigger=({trigger:a=["hover","focus"],overlay:e,children:o,popperConfig:c={},show:h,defaultShow:g=!1,onToggle:b,delay:$,placement:j,flip:rt=j&&j.indexOf("auto")!==-1,...nt})=>{const ot=reactExports.useRef(null),_t=useMergedRefs(ot,o.ref),Et=useTimeout(),It=reactExports.useRef(""),[it,st]=useUncontrolledProp$1(h,g,b),Mt=normalizeDelay($),{onFocus:bt,onBlur:Lt,onClick:pt}=typeof o!="function"?reactExports.Children.only(o).props:{},Dt=In=>{_t(safeFindDOMNode(In))},wt=reactExports.useCallback(()=>{if(Et.clear(),It.current="show",!Mt.show){st(!0);return}Et.set(()=>{It.current==="show"&&st(!0)},Mt.show)},[Mt.show,st,Et]),Bt=reactExports.useCallback(()=>{if(Et.clear(),It.current="hide",!Mt.hide){st(!1);return}Et.set(()=>{It.current==="hide"&&st(!1)},Mt.hide)},[Mt.hide,st,Et]),jt=reactExports.useCallback((...In)=>{wt(),bt==null||bt(...In)},[wt,bt]),hr=reactExports.useCallback((...In)=>{Bt(),Lt==null||Lt(...In)},[Bt,Lt]),gr=reactExports.useCallback((...In)=>{st(!it),pt==null||pt(...In)},[pt,st,it]),Cr=reactExports.useCallback((...In)=>{handleMouseOverOut(wt,In,"fromElement")},[wt]),wr=reactExports.useCallback((...In)=>{handleMouseOverOut(Bt,In,"toElement")},[Bt]),yr=a==null?[]:[].concat(a),xr={ref:Dt};return yr.indexOf("click")!==-1&&(xr.onClick=gr),yr.indexOf("focus")!==-1&&(xr.onFocus=jt,xr.onBlur=hr),yr.indexOf("hover")!==-1&&(xr.onMouseOver=Cr,xr.onMouseOut=wr),jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[typeof o=="function"?o(xr):reactExports.cloneElement(o,xr),jsxRuntimeExports$1.jsx(Overlay$1,{...nt,show:it,onHide:Bt,flip:rt,placement:j,popperConfig:c,target:ot.current,children:e})]})},OverlayTrigger$1=Object.freeze(Object.defineProperty({__proto__:null,default:OverlayTrigger},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(OverlayTrigger$1);Object.defineProperty(HelpButton$1,"__esModule",{value:!0});HelpButton$1.default=void 0;var _react$5=_interopRequireDefault$5(reactExports),_OverlayTrigger=_interopRequireDefault$5(require$$1);function _interopRequireDefault$5(a){return a&&a.__esModule?a:{default:a}}function HelpButton(a){return _react$5.default.createElement(_OverlayTrigger.default,{trigger:"click",rootClose:!0,placement:a.placement,overlay:a.popover},_react$5.default.createElement("div",{className:"help-button"},"?"))}var _default$4=HelpButton;HelpButton$1.default=_default$4;var ptable_data={};Object.defineProperty(ptable_data,"__esModule",{value:!0});ptable_data.elementsInfo=ptable_data.elementClassColors=void 0;var elementsInfo=[{sym:"X",class:"X"},{sym:"H",class:"H"},{sym:"He",class:"noble"},{sym:"Li",class:"alkali"},{sym:"Be",class:"alkaline_earth"},{sym:"B",class:"semimetal"},{sym:"C",class:"nonmetal"},{sym:"N",class:"nonmetal"},{sym:"O",class:"nonmetal"},{sym:"F",class:"halogen"},{sym:"Ne",class:"noble"},{sym:"Na",class:"alkali"},{sym:"Mg",class:"alkaline_earth"},{sym:"Al",class:"post_transition"},{sym:"Si",class:"semimetal"},{sym:"P",class:"nonmetal"},{sym:"S",class:"nonmetal"},{sym:"Cl",class:"halogen"},{sym:"Ar",class:"noble"},{sym:"K",class:"alkali"},{sym:"Ca",class:"alkaline_earth"},{sym:"Sc",class:"transition"},{sym:"Ti",class:"transition"},{sym:"V",class:"transition"},{sym:"Cr",class:"transition"},{sym:"Mn",class:"transition"},{sym:"Fe",class:"transition"},{sym:"Co",class:"transition"},{sym:"Ni",class:"transition"},{sym:"Cu",class:"transition"},{sym:"Zn",class:"transition"},{sym:"Ga",class:"post_transition"},{sym:"Ge",class:"semimetal"},{sym:"As",class:"semimetal"},{sym:"Se",class:"nonmetal"},{sym:"Br",class:"halogen"},{sym:"Kr",class:"noble"},{sym:"Rb",class:"alkali"},{sym:"Sr",class:"alkaline_earth"},{sym:"Y",class:"transition"},{sym:"Zr",class:"transition"},{sym:"Nb",class:"transition"},{sym:"Mo",class:"transition"},{sym:"Tc",class:"transition"},{sym:"Ru",class:"transition"},{sym:"Rh",class:"transition"},{sym:"Pd",class:"transition"},{sym:"Ag",class:"transition"},{sym:"Cd",class:"transition"},{sym:"In",class:"post_transition"},{sym:"Sn",class:"post_transition"},{sym:"Sb",class:"semimetal"},{sym:"Te",class:"semimetal"},{sym:"I",class:"halogen"},{sym:"Xe",class:"noble"},{sym:"Cs",class:"alkali"},{sym:"Ba",class:"alkaline_earth"},{sym:"La",class:"lanthanoid"},{sym:"Ce",class:"lanthanoid"},{sym:"Pr",class:"lanthanoid"},{sym:"Nd",class:"lanthanoid"},{sym:"Pm",class:"lanthanoid"},{sym:"Sm",class:"lanthanoid"},{sym:"Eu",class:"lanthanoid"},{sym:"Gd",class:"lanthanoid"},{sym:"Tb",class:"lanthanoid"},{sym:"Dy",class:"lanthanoid"},{sym:"Ho",class:"lanthanoid"},{sym:"Er",class:"lanthanoid"},{sym:"Tm",class:"lanthanoid"},{sym:"Yb",class:"lanthanoid"},{sym:"Lu",class:"lanthanoid"},{sym:"Hf",class:"transition"},{sym:"Ta",class:"transition"},{sym:"W",class:"transition"},{sym:"Re",class:"transition"},{sym:"Os",class:"transition"},{sym:"Ir",class:"transition"},{sym:"Pt",class:"transition"},{sym:"Au",class:"transition"},{sym:"Hg",class:"transition"},{sym:"Tl",class:"post_transition"},{sym:"Pb",class:"post_transition"},{sym:"Bi",class:"post_transition"},{sym:"Po",class:"post_transition"},{sym:"At",class:"halogen"},{sym:"Rn",class:"noble"},{sym:"Fr",class:"alkali"},{sym:"Ra",class:"alkaline_earth"},{sym:"Ac",class:"actinoid"},{sym:"Th",class:"actinoid"},{sym:"Pa",class:"actinoid"},{sym:"U",class:"actinoid"},{sym:"Np",class:"actinoid"},{sym:"Pu",class:"actinoid"},{sym:"Am",class:"actinoid"},{sym:"Cm",class:"actinoid"},{sym:"Bk",class:"actinoid"},{sym:"Cf",class:"actinoid"},{sym:"Es",class:"actinoid"},{sym:"Fm",class:"actinoid"},{sym:"Md",class:"actinoid"},{sym:"No",class:"actinoid"},{sym:"Lr",class:"actinoid"},{sym:"Rf",class:"transition"},{sym:"Db",class:"transition"},{sym:"Sg",class:"transition"},{sym:"Bh",class:"transition"},{sym:"Hs",class:"transition"},{sym:"Mt",class:"X"},{sym:"Ds",class:"X"},{sym:"Rg",class:"X"},{sym:"Cn",class:"X"},{sym:"Nh",class:"X"},{sym:"Fl",class:"X"},{sym:"Mc",class:"X"},{sym:"Lv",class:"X"},{sym:"Ts",class:"X"},{sym:"Og",class:"X"}];ptable_data.elementsInfo=elementsInfo;var elementClassColors={X:"rgb(220, 220, 220)",H:"rgb(220, 105, 105)",noble:"rgb(196, 205, 255)",alkali:"rgb(209, 146, 146)",alkaline_earth:"rgb(209, 189, 146)",semimetal:"rgb(189, 214, 163)",nonmetal:"rgb(214, 163, 190)",halogen:"rgb(210, 214, 163)",post_transition:"rgb(163, 178, 214)",transition:"rgb(169, 196, 212)",lanthanoid:"rgb(237, 184, 255)",actinoid:"rgb(191, 150, 255)"};ptable_data.elementClassColors=elementClassColors;var utils$2={};Object.defineProperty(utils$2,"__esModule",{value:!0});utils$2.RGB_Log_Blend=void 0;function _slicedToArray$3(a,e){return _arrayWithHoles$3(a)||_iterableToArrayLimit$3(a,e)||_unsupportedIterableToArray$3(a,e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(a,e){if(a){if(typeof a=="string")return _arrayLikeToArray$3(a,e);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$3(a,e)}}function _arrayLikeToArray$3(a,e){(e==null||e>a.length)&&(e=a.length);for(var o=0,c=new Array(e);o<e;o++)c[o]=a[o];return c}function _iterableToArrayLimit$3(a,e){var o=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(o!=null){var c=[],h=!0,g=!1,b,$;try{for(o=o.call(a);!(h=(b=o.next()).done)&&(c.push(b.value),!(e&&c.length===e));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&o.return!=null&&o.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles$3(a){if(Array.isArray(a))return a}var RGB_Log_Blend=function(e,o,c){var h=parseInt,g=Math.round,b=1-e,$=o.split(","),j=_slicedToArray$3($,4),rt=j[0],nt=j[1],ot=j[2],_t=j[3],Et=c.split(","),It=_slicedToArray$3(Et,4),it=It[0],st=It[1],Mt=It[2],bt=It[3],Lt=_t||bt,pt=Lt?","+(_t?bt?g((parseFloat(_t)*b+parseFloat(bt)*e)*1e3)/1e3+")":_t:bt):")";return"rgb"+(Lt?"a(":"(")+g(Math.pow(b*Math.pow(h(rt[3]=="a"?rt.slice(5):rt.slice(4)),2)+e*Math.pow(h(it[3]=="a"?it.slice(5):it.slice(4)),2),.5))+","+g(Math.pow(b*Math.pow(h(nt),2)+e*Math.pow(h(st),2),.5))+","+g(Math.pow(b*Math.pow(h(ot),2)+e*Math.pow(h(Mt),2),.5))+pt};utils$2.RGB_Log_Blend=RGB_Log_Blend;function _typeof$4(a){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(a)}Object.defineProperty(PTable$1,"__esModule",{value:!0});PTable$1.default=PTable$1.Element=void 0;var _react$4=_interopRequireDefault$4(reactExports),_Popover$1=_interopRequireDefault$4(require$$1$1),_HelpButton$1=_interopRequireDefault$4(HelpButton$1),_ptable_data=ptable_data,_utils=utils$2;function _interopRequireDefault$4(a){return a&&a.__esModule?a:{default:a}}function _defineProperty$2(a,e,o){return e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray$2(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray$2(a)}function _slicedToArray$2(a,e){return _arrayWithHoles$2(a)||_iterableToArrayLimit$2(a,e)||_unsupportedIterableToArray$2(a,e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(a,e){if(a){if(typeof a=="string")return _arrayLikeToArray$2(a,e);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$2(a,e)}}function _arrayLikeToArray$2(a,e){(e==null||e>a.length)&&(e=a.length);for(var o=0,c=new Array(e);o<e;o++)c[o]=a[o];return c}function _iterableToArrayLimit$2(a,e){var o=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(o!=null){var c=[],h=!0,g=!1,b,$;try{for(o=o.call(a);!(h=(b=o.next()).done)&&(c.push(b.value),!(e&&c.length===e));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&o.return!=null&&o.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles$2(a){if(Array.isArray(a))return a}function _classCallCheck$4(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$4(a,e,o){return e&&_defineProperties$4(a.prototype,e),o&&_defineProperties$4(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$4(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_setPrototypeOf$4(a,e)}function _setPrototypeOf$4(a,e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$4(a,e)}function _createSuper$4(a){var e=_isNativeReflectConstruct$4();return function(){var c=_getPrototypeOf$4(a),h;if(e){var g=_getPrototypeOf$4(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$4(this,h)}}function _possibleConstructorReturn$4(a,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(a)}function _assertThisInitialized$4(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$4(a){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf$4(a)}var Element$2=function(a){_inherits$4(o,a);var e=_createSuper$4(o);function o(c){var h;_classCallCheck$4(this,o),h=e.call(this,c),h.handleOnClick=h.handleOnClick.bind(_assertThisInitialized$4(h)),h.symbol=_ptable_data.elementsInfo[h.props.num].sym;var g=_ptable_data.elementsInfo[h.props.num].class;return h.color=_ptable_data.elementClassColors[g],h}return _createClass$4(o,[{key:"handleOnClick",value:function(){this.props.disabled&&this.props.selection==0||this.props.onSelectionChange!=null&&this.props.onSelectionChange({element:this.symbol})}},{key:"render",value:function(){var h="pt_element pt_element-".concat(this.props.num);return this.props.disabled&&this.props.selection==0?h+=" pt_element-disabled":h+=" pt_element-state".concat(this.props.selection),this.props.doc||(h+=" nondoc"),this.props.num>=57&&this.props.num<=71&&(h+=" lanthanide"),_react$4.default.createElement("div",{className:h,style:{backgroundColor:(0,_utils.RGB_Log_Blend)(.5,this.color,"rgb(220, 220, 220)")},onClick:this.handleOnClick},_react$4.default.createElement("div",{className:"elem_num"},this.props.num),_react$4.default.createElement("div",{className:"elem_sym"},this.symbol))}}]),o}(_react$4.default.Component);PTable$1.Element=Element$2;var helpPopover$1=_react$4.default.createElement(_Popover$1.default,{id:"popover-basic"},_react$4.default.createElement(_Popover$1.default.Header,{as:"h3"},"Filtering mode help"),_react$4.default.createElement(_Popover$1.default.Body,{style:{textAlign:"justify"}},_react$4.default.createElement("b",null,"Include/exclude elements"),_react$4.default.createElement("br",null),"The green selected elements must be included, while the red elements must not be included in the formula. For example",_react$4.default.createElement("div",{className:"doc-elements"},_react$4.default.createElement(Element$2,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$4.default.createElement(Element$2,{num:8,disabled:!1,onSelectionChange:null,selection:2,doc:!0})),"filters for materials that contain Si and any other elements except O.",_react$4.default.createElement("br",null),_react$4.default.createElement("b",null,"Only selected elements"),_react$4.default.createElement("br",null),"Only the selected elements are allowed in the resulting chemical formula. For example",_react$4.default.createElement("div",{className:"doc-elements"},_react$4.default.createElement(Element$2,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$4.default.createElement(Element$2,{num:8,disabled:!1,onSelectionChange:null,selection:1,doc:!0})),"only allows for formulas in the form of Si",_react$4.default.createElement("sub",null,"x"),"O",_react$4.default.createElement("sub",null,"y"),".")),SelectionMode=function(a){_inherits$4(o,a);var e=_createSuper$4(o);function o(c){return _classCallCheck$4(this,o),e.call(this,c)}return _createClass$4(o,[{key:"render",value:function(){var h=this;return _react$4.default.createElement("div",{className:"selection_mode_outer"},_react$4.default.createElement("div",{className:"selection_mode_inner",onChange:function(b){return h.props.onSelectionChange({mode:b.target.value})}},_react$4.default.createElement("div",{style:{marginBottom:"2px"}},"Elements filtering mode:"),_react$4.default.createElement("label",{className:"selection_mode_control"},_react$4.default.createElement("input",{type:"radio",name:"sel_mode",value:"include",defaultChecked:!0}),"Include/exclude"),_react$4.default.createElement("label",{className:"selection_mode_control"},_react$4.default.createElement("input",{type:"radio",name:"sel_mode",value:"exact"}),"Only selected")),_react$4.default.createElement("div",{className:"help-button-container"},_react$4.default.createElement(_HelpButton$1.default,{popover:helpPopover$1,placement:"right"})))}}]),o}(_react$4.default.Component);function fitsFilter(a,e,o){var c=e.every(function(g){return a.includes(g)}),h=!0;return o.length!=0&&(h=a.every(function(g){return!o.has(g)})),c&&h}function enabledElements(a,e){for(var o=new Set,c=[],h=new Set,g=0,b=Object.entries(e.elements);g<b.length;g++){var $=_slicedToArray$2(b[g],2),j=$[0],rt=$[1];rt==1&&c.push(j),rt==2&&h.add(j)}return a.forEach(function(nt){fitsFilter(nt.elem_array,c,h)&&(o=new Set([].concat(_toConsumableArray(o),_toConsumableArray(nt.elem_array))))}),o}var PTable=function(a){_inherits$4(o,a);var e=_createSuper$4(o);function o(c){var h;return _classCallCheck$4(this,o),h=e.call(this,c),_defineProperty$2(_assertThisInitialized$4(h),"makeElements",function(g,b){for(var $=[],j=g;j<=b;j++){var rt=_ptable_data.elementsInfo[j].sym,nt=0;rt in h.props.filter.elements&&(nt=h.props.filter.elements[rt]),$.push(_react$4.default.createElement(Element$2,{key:j,num:j,disabled:!h.enabledElems.has(rt),onSelectionChange:h.props.onSelectionChange,selection:nt,doc:!1}))}return $}),h}return _createClass$4(o,[{key:"render",value:function(){return this.enabledElems=enabledElements(this.props.rows,this.props.filter),_react$4.default.createElement("div",{className:"ptable_outer"},_react$4.default.createElement("div",{className:"ptable"},_react$4.default.createElement(SelectionMode,{onSelectionChange:this.props.onSelectionChange,filter:this.props.filter}),this.makeElements(1,56),this.makeElements(72,88),this.makeElements(104,118),this.makeElements(57,71),this.makeElements(89,103)))}}]),o}(_react$4.default.Component),_default$3=PTable;PTable$1.default=_default$3;var MaterialDataGrid$1={},main={},agGridReact={},agGridReactLegacy={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v28.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          *//**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function makeNull(a){return a==null||a===""?null:a}function exists(a,e){return e===void 0&&(e=!1),a!=null&&(a!==""||e)}function missing(a){return!exists(a)}function missingOrEmpty(a){return a==null||a.length===0}function toStringOrNull(a){return a!=null&&typeof a.toString=="function"?a.toString():null}function attrToNumber(a){if(a!==void 0){if(a===null||a==="")return null;if(typeof a=="number")return isNaN(a)?void 0:a;var e=parseInt(a,10);return isNaN(e)?void 0:e}}function attrToBoolean(a){if(a!==void 0)return a===null||a===""?!1:typeof a=="boolean"?a:/true/i.test(a)}function attrToString(a){if(!(a==null||a===""))return a}function referenceCompare(a,e){return a==null&&e==null?!0:a==null&&e!=null||a!=null&&e==null?!1:a===e}function jsonEquals(a,e){var o=a?JSON.stringify(a):null,c=e?JSON.stringify(e):null;return o===c}function defaultComparator(a,e,o){o===void 0&&(o=!1);var c=a==null,h=e==null;if(a&&a.toNumber&&(a=a.toNumber()),e&&e.toNumber&&(e=e.toNumber()),c&&h)return 0;if(c)return-1;if(h)return 1;function g(b,$){return b>$?1:b<$?-1:0}if(typeof a!="string"||!o)return g(a,e);try{return a.localeCompare(e)}catch{return g(a,e)}}function values(a){if(a instanceof Set||a instanceof Map){var e=[];return a.forEach(function(o){return e.push(o)}),e}return Object.values(a)}var GenericUtils=Object.freeze({__proto__:null,makeNull,exists,missing,missingOrEmpty,toStringOrNull,attrToNumber,attrToBoolean,attrToString,referenceCompare,jsonEquals,defaultComparator,values});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ColumnKeyCreator=function(){function a(){this.existingKeys={}}return a.prototype.addExistingKeys=function(e){for(var o=0;o<e.length;o++)this.existingKeys[e[o]]=!0},a.prototype.getUniqueKey=function(e,o){e=toStringOrNull(e);for(var c=0;;){var h=void 0;if(e?(h=e,c!==0&&(h+="_"+c)):o?(h=o,c!==0&&(h+="_"+c)):h=""+c,!this.existingKeys[h])return this.existingKeys[h]=!0,h;c++}},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function iterateObject(a,e){a!=null&&(Array.isArray(a)?a.forEach(function(o,c){return e(""+c,o)}):Object.keys(a).forEach(function(o){return e(o,a[o])}))}function cloneObject(a){for(var e={},o=Object.keys(a),c=0;c<o.length;c++){var h=o[c],g=a[h];e[h]=g}return e}function deepCloneObject(a){return JSON.parse(JSON.stringify(a))}function deepCloneDefinition(a,e){if(a){var o=a,c={};return Object.keys(o).forEach(function(h){if(!(e&&e.indexOf(h)>=0)){var g=o[h],b=isNonNullObject(g)&&g.constructor===Object;b?c[h]=deepCloneDefinition(g):c[h]=g}}),c}}function getProperty(a,e){return a[e]}function setProperty(a,e,o){a[e]=o}function copyPropertiesIfPresent(a,e){for(var o=[],c=2;c<arguments.length;c++)o[c-2]=arguments[c];o.forEach(function(h){return copyPropertyIfPresent(a,e,h)})}function copyPropertyIfPresent(a,e,o,c){var h=getProperty(a,o);h!==void 0&&setProperty(e,o,c?c(h):h)}function getAllKeysInObjects(a){var e={};return a.filter(function(o){return o!=null}).forEach(function(o){Object.keys(o).forEach(function(c){return e[c]=null})}),Object.keys(e)}function getAllValuesInObject(a){if(!a)return[];var e=Object;if(typeof e.values=="function")return e.values(a);var o=[];for(var c in a)a.hasOwnProperty(c)&&a.propertyIsEnumerable(c)&&o.push(a[c]);return o}function mergeDeep(a,e,o,c){o===void 0&&(o=!0),c===void 0&&(c=!1),exists(e)&&iterateObject(e,function(h,g){var b=a[h];if(b!==g){if(c){var $=b==null&&g!=null;if($){var j=typeof g=="object"&&g.constructor===Object,rt=j;rt&&(b={},a[h]=b)}}isNonNullObject(g)&&isNonNullObject(b)&&!Array.isArray(b)?mergeDeep(b,g,o,c):(o||g!==void 0)&&(a[h]=g)}})}function missingOrEmptyObject(a){return missing(a)||Object.keys(a).length===0}function get(a,e,o){if(a==null)return o;for(var c=e.split("."),h=a;c.length>1;)if(h=h[c.shift()],h==null)return o;var g=h[c[0]];return g??o}function set$1(a,e,o){if(a!=null){for(var c=e.split("."),h=a;c.length>1;)if(h=h[c.shift()],h==null)return;h[c[0]]=o}}function deepFreeze(a){return Object.freeze(a),values(a).forEach(function(e){(isNonNullObject(e)||typeof e=="function")&&deepFreeze(e)}),a}function getValueUsingField(a,e,o){if(!(!e||!a)){if(!o)return a[e];for(var c=e.split("."),h=a,g=0;g<c.length;g++){if(h==null)return;h=h[c[g]]}return h}}function removeAllReferences(a,e){Object.keys(a).forEach(function(h){var g=a[h];typeof g=="object"&&(a[h]=void 0)});var o=Object.getPrototypeOf(a),c={};Object.keys(o).forEach(function(h){var g=o[h];if(typeof g=="function"){var b=function(){console.warn("AG Grid: "+e+" function "+h+`() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};c[h]={value:b,writable:!0}}}),Object.defineProperties(a,c)}function isNonNullObject(a){return typeof a=="object"&&a!==null}var ObjectUtils=Object.freeze({__proto__:null,iterateObject,cloneObject,deepCloneObject,deepCloneDefinition,getProperty,setProperty,copyPropertiesIfPresent,copyPropertyIfPresent,getAllKeysInObjects,getAllValuesInObject,mergeDeep,missingOrEmptyObject,get,set:set$1,deepFreeze,getValueUsingField,removeAllReferences,isNonNullObject});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var doOnceFlags={};function doOnce(a,e){doOnceFlags[e]||(a(),doOnceFlags[e]=!0)}function getFunctionName(a){if(a.name)return a.name;var e=/function\s+([^\(]+)/.exec(a.toString());return e&&e.length===2?e[1].trim():null}function isFunction$1(a){return!!(a&&a.constructor&&a.call&&a.apply)}function executeInAWhile(a){executeAfter(a,400)}var executeNextVMTurnFuncs=[],executeNextVMTurnPending=!1;function executeNextVMTurn(a){executeNextVMTurnFuncs.push(a),!executeNextVMTurnPending&&(executeNextVMTurnPending=!0,window.setTimeout(function(){var e=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,e.forEach(function(o){return o()})},0))}function executeAfter(a,e){e===void 0&&(e=0),a.length>0&&window.setTimeout(function(){return a.forEach(function(o){return o()})},e)}function debounce$2(a,e,o){o===void 0&&(o=!1);var c;return function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var b=this,$=o&&!c;window.clearTimeout(c),c=window.setTimeout(function(){c=null,o||a.apply(b,h)},e),$&&a.apply(b,h)}}function throttle(a,e){var o=0;return function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var g=this,b=new Date().getTime();b-o<e||(o=b,a.apply(g,c))}}function waitUntil(a,e,o,c){o===void 0&&(o=100);var h=new Date().getTime(),g=null,b=!1,$=function(){var j=new Date().getTime()-h>o;(a()||j)&&(e(),b=!0,g!=null&&(window.clearInterval(g),g=null),j&&c&&console.warn(c))};$(),b||(g=window.setInterval($,10))}function compose(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return function(o){return a.reduce(function(c,h){return h(c)},o)}}function callIfPresent(a){a&&a()}var noop$2=function(){},FunctionUtils=Object.freeze({__proto__:null,doOnce,getFunctionName,isFunction:isFunction$1,executeInAWhile,executeNextVMTurn,executeAfter,debounce:debounce$2,throttle,waitUntil,compose,callIfPresent,noop:noop$2});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Context=function(){function a(e,o){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=o,this.logger.log(">> creating ag-Application Context"),this.createBeans();var c=this.getBeanInstances();this.wireBeans(c),this.logger.log(">> ag-Application Context ready - component is alive")}}return a.prototype.getBeanInstances=function(){return values(this.beanWrappers).map(function(e){return e.beanInstance})},a.prototype.createBean=function(e,o){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],o),e},a.prototype.wireBeans=function(e,o){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),exists(o)&&e.forEach(o),this.callLifeCycleMethods(e,"postConstructMethods")},a.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),iterateObject(this.beanWrappers,function(c,h){var g;h.bean.__agBeanMetaData&&h.bean.__agBeanMetaData.autowireMethods&&h.bean.__agBeanMetaData.autowireMethods.agConstructor&&(g=h.bean.__agBeanMetaData.autowireMethods.agConstructor);var b=e.getBeansForParameters(g,h.bean.name),$=applyToConstructor(h.bean,b);h.beanInstance=$});var o=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+o)},a.prototype.createBeanWrapper=function(e){var o=e.__agBeanMetaData;if(!o){var c=void 0;e.prototype.constructor?c=getFunctionName(e.prototype.constructor):c=""+e,console.error("Context item "+c+" is not a bean");return}var h={bean:e,beanInstance:null,beanName:o.beanName};this.beanWrappers[o.beanName]=h},a.prototype.autoWireBeans=function(e){var o=this;e.forEach(function(c){o.forEachMetaDataInHierarchy(c,function(h,g){var b=h.agClassAttributes;b&&b.forEach(function($){var j=o.lookupBeanInstance(g,$.beanName,$.optional);c[$.attributeName]=j})})})},a.prototype.methodWireBeans=function(e){var o=this;e.forEach(function(c){o.forEachMetaDataInHierarchy(c,function(h,g){iterateObject(h.autowireMethods,function(b,$){if(b!=="agConstructor"){var j=o.getBeansForParameters($,g);c[b].apply(c,j)}})})})},a.prototype.forEachMetaDataInHierarchy=function(e,o){for(var c=Object.getPrototypeOf(e);c!=null;){var h=c.constructor;if(h.hasOwnProperty("__agBeanMetaData")){var g=h.__agBeanMetaData,b=this.getBeanName(h);o(g,b)}c=Object.getPrototypeOf(c)}},a.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var o=e.toString(),c=o.substring(9,o.indexOf("("));return c},a.prototype.getBeansForParameters=function(e,o){var c=this,h=[];return e&&iterateObject(e,function(g,b){var $=c.lookupBeanInstance(o,b);h[Number(g)]=$}),h},a.prototype.lookupBeanInstance=function(e,o,c){if(c===void 0&&(c=!1),o==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(o))return this.contextParams.providedBeanInstances[o];var h=this.beanWrappers[o];return h?h.beanInstance:(c||console.error("AG Grid: unable to find bean reference "+o+" while initialising "+e),null)},a.prototype.callLifeCycleMethods=function(e,o){var c=this;e.forEach(function(h){return c.callLifeCycleMethodsOnBean(h,o)})},a.prototype.callLifeCycleMethodsOnBean=function(e,o,c){var h={};this.forEachMetaDataInHierarchy(e,function(b){var $=b[o];$&&$.forEach(function(j){j!=c&&(h[j]=!0)})});var g=Object.keys(h);g.forEach(function(b){return e[b]()})},a.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},a.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},a.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},a.prototype.destroyBeans=function(e){var o=this;return e?(e.forEach(function(c){o.callLifeCycleMethodsOnBean(c,"preDestroyMethods","destroy");var h=c;typeof h.destroy=="function"&&h.destroy()}),[]):[]},a}();function applyToConstructor(a,e){var o=[null].concat(e),c=a.bind.apply(a,o);return new c}function PreConstruct(a,e,o){var c=getOrCreateProps$1(a.constructor);c.preConstructMethods||(c.preConstructMethods=[]),c.preConstructMethods.push(e)}function PostConstruct(a,e,o){var c=getOrCreateProps$1(a.constructor);c.postConstructMethods||(c.postConstructMethods=[]),c.postConstructMethods.push(e)}function PreDestroy(a,e,o){var c=getOrCreateProps$1(a.constructor);c.preDestroyMethods||(c.preDestroyMethods=[]),c.preDestroyMethods.push(e)}function Bean(a){return function(e){var o=getOrCreateProps$1(e);o.beanName=a}}function Autowired(a){return function(e,o,c){autowiredFunc(e,a,!1,e,o,null)}}function Optional(a){return function(e,o,c){autowiredFunc(e,a,!0,e,o,null)}}function autowiredFunc(a,e,o,c,h,g){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof g=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var b=getOrCreateProps$1(a.constructor);b.agClassAttributes||(b.agClassAttributes=[]),b.agClassAttributes.push({attributeName:h,beanName:e,optional:o})}function Qualifier(a){return function(e,o,c){var h=typeof e=="function"?e:e.constructor,g;if(typeof c=="number"){var b=void 0;o?(g=getOrCreateProps$1(h),b=o):(g=getOrCreateProps$1(h),b="agConstructor"),g.autowireMethods||(g.autowireMethods={}),g.autowireMethods[b]||(g.autowireMethods[b]={}),g.autowireMethods[b][c]=a}}}function getOrCreateProps$1(a){return a.hasOwnProperty("__agBeanMetaData")||(a.__agBeanMetaData={}),a.__agBeanMetaData}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$i=function(){return __assign$i=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$i.apply(this,arguments)},__decorate$2A=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$a=function(a,e){return function(o,c){e(o,c,a)}},EventService=function(){function a(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return a.prototype.setBeans=function(e,o,c,h){if(h===void 0&&(h=null),this.frameworkOverrides=c,this.gridOptionsWrapper=o,h){var g=o.useAsyncEvents();this.addGlobalListener(h,g)}},a.prototype.getListeners=function(e,o,c){var h=o?this.allAsyncListeners:this.allSyncListeners,g=h.get(e);return!g&&c&&(g=new Set,h.set(e,g)),g},a.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},a.prototype.addEventListener=function(e,o,c){c===void 0&&(c=!1),this.getListeners(e,c,!0).add(o)},a.prototype.removeEventListener=function(e,o,c){c===void 0&&(c=!1);var h=this.getListeners(e,c,!1);if(h&&(h.delete(o),h.size===0)){var g=c?this.allAsyncListeners:this.allSyncListeners;g.delete(e)}},a.prototype.addGlobalListener=function(e,o){o===void 0&&(o=!1),(o?this.globalAsyncListeners:this.globalSyncListeners).add(e)},a.prototype.removeGlobalListener=function(e,o){o===void 0&&(o=!1),(o?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},a.prototype.dispatchEvent=function(e){var o=e;this.gridOptionsWrapper&&(o=__assign$i(__assign$i({},e),{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0},a.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},a.prototype.dispatchToListeners=function(e,o){var c=this,h=e.type,g=function(j){return j.forEach(function(rt){o?c.dispatchAsync(function(){return rt(e)}):rt(e)})},b=this.getListeners(h,o,!1);b&&g(b);var $=o?this.globalAsyncListeners:this.globalSyncListeners;$.forEach(function(j){o?c.dispatchAsync(function(){return c.frameworkOverrides.dispatchEvent(h,function(){return j(h,e)},!0)}):c.frameworkOverrides.dispatchEvent(h,function(){return j(h,e)},!0)})},a.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},a.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(o){return o()})},__decorate$2A([__param$a(0,Qualifier("loggerFactory")),__param$a(1,Qualifier("gridOptionsWrapper")),__param$a(2,Qualifier("frameworkOverrides")),__param$a(3,Qualifier("globalEventListener"))],a.prototype,"setBeans",null),a=__decorate$2A([Bean("eventService")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Constants=function(){function a(){}return a.ROW_BUFFER_SIZE=10,a.LAYOUT_INTERVAL=500,a.BATCH_WAIT_MILLIS=50,a.EXPORT_TYPE_DRAG_COPY="dragCopy",a.EXPORT_TYPE_CLIPBOARD="clipboard",a.EXPORT_TYPE_EXCEL="excel",a.EXPORT_TYPE_CSV="csv",a.ROW_MODEL_TYPE_INFINITE="infinite",a.ROW_MODEL_TYPE_VIEWPORT="viewport",a.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",a.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",a.ALWAYS="always",a.ONLY_WHEN_GROUPING="onlyWhenGrouping",a.PINNED_TOP="top",a.PINNED_BOTTOM="bottom",a.DOM_LAYOUT_NORMAL="normal",a.DOM_LAYOUT_PRINT="print",a.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",a.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",a.SOURCE_PASTE="paste",a.PINNED_RIGHT="right",a.PINNED_LEFT="left",a.SORT_ASC="asc",a.SORT_DESC="desc",a.INPUT_SELECTOR="input, select, button, textarea",a.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",a.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ModuleNames;(function(a){a.CommunityCoreModule="@ag-grid-community/core",a.CommunityAllModules="@ag-grid-community/all",a.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",a.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",a.CsvExportModule="@ag-grid-community/csv-export",a.EnterpriseCoreModule="@ag-grid-enterprise/core",a.EnterpriseAllModules="@ag-grid-enterprise/all",a.RowGroupingModule="@ag-grid-enterprise/row-grouping",a.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",a.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",a.MenuModule="@ag-grid-enterprise/menu",a.SetFilterModule="@ag-grid-enterprise/set-filter",a.MultiFilterModule="@ag-grid-enterprise/multi-filter",a.StatusBarModule="@ag-grid-enterprise/status-bar",a.SideBarModule="@ag-grid-enterprise/side-bar",a.RangeSelectionModule="@ag-grid-enterprise/range-selection",a.MasterDetailModule="@ag-grid-enterprise/master-detail",a.RichSelectModule="@ag-grid-enterprise/rich-select",a.GridChartsModule="@ag-grid-enterprise/charts",a.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",a.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",a.ExcelExportModule="@ag-grid-enterprise/excel-export",a.ClipboardModule="@ag-grid-enterprise/clipboard",a.SparklinesModule="@ag-grid-enterprise/sparklines",a.AngularModule="@ag-grid-community/angular",a.ReactModule="@ag-grid-community/react",a.VueModule="@ag-grid-community/vue",a.PolymerModule="@ag-grid-community/polymer"})(ModuleNames||(ModuleNames={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ModuleRegistry=function(){function a(){}return a.register=function(e,o){o===void 0&&(o=!0),a.modulesMap[e.moduleName]=e,a.moduleBased===void 0?a.moduleBased=o:a.moduleBased!==o&&doOnce(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},a.registerModules=function(e,o){o===void 0&&(o=!0),e&&e.forEach(function(c){return a.register(c,o)})},a.assertRegistered=function(e,o){if(this.isRegistered(e))return!0;var c=o+e,h;return a.moduleBased?h="AG Grid: unable to use "+o+" as module "+e+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":h="AG Grid: unable to use "+o+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",doOnce(function(){console.warn(h)},c),!1},a.isRegistered=function(e){return!!a.modulesMap[e]},a.getRegisteredModules=function(){return values(a.modulesMap)},a.isPackageBased=function(){return!a.moduleBased},a.modulesMap={},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$2z=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},instanceIdSequence$4=0,Column=function(){function a(e,o,c,h){this.instanceId=instanceIdSequence$4++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new EventService,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=o,this.colId=c,this.primary=h,this.setState(e)}return a.prototype.getInstanceId=function(){return this.instanceId},a.prototype.setState=function(e){e.sort!==void 0?(e.sort===Constants.SORT_ASC||e.sort===Constants.SORT_DESC)&&(this.sort=e.sort):(e.initialSort===Constants.SORT_ASC||e.initialSort===Constants.SORT_DESC)&&(this.sort=e.initialSort);var o=attrToNumber(e.sortIndex),c=attrToNumber(e.initialSortIndex);o!==void 0?o!==null&&(this.sortIndex=o):c!==null&&(this.sortIndex=c);var h=attrToBoolean(e.hide),g=attrToBoolean(e.initialHide);h!==void 0?this.visible=!h:this.visible=!g,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var b=attrToNumber(e.flex),$=attrToNumber(e.initialFlex);b!==void 0?this.flex=b:$!==void 0&&(this.flex=$)},a.prototype.setColDef=function(e,o){this.colDef=e,this.userProvidedColDef=o,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_COL_DEF_CHANGED,"api"))},a.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},a.prototype.setParent=function(e){this.parent=e},a.prototype.getParent=function(){return this.parent},a.prototype.setOriginalParent=function(e){this.originalParent=e},a.prototype.getOriginalParent=function(){return this.originalParent},a.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},a.prototype.initDotNotation=function(){var e=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},a.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},a.prototype.resetActualWidth=function(e){e===void 0&&(e="api");var o=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(o,e,!0)},a.prototype.isEmptyGroup=function(){return!1},a.prototype.isRowGroupDisplayed=function(e){if(missing(this.colDef)||missing(this.colDef.showRowGroup))return!1;var o=this.colDef.showRowGroup===!0,c=this.colDef.showRowGroup===e;return o||c},a.prototype.isPrimary=function(){return this.primary},a.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter||!!this.colDef.filterFramework;return e},a.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},a.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},a.prototype.validate=function(){var e=this.colDef;function o(b,$,j){doOnce(function(){j?console.warn(b,j):doOnce(function(){return console.warn(b)},$)},$)}var c=this.gridOptionsWrapper.isRowModelDefault();if(c&&!ModuleRegistry.isRegistered(ModuleNames.RowGroupingModule)){var h=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"];h.forEach(function(b){exists(e[b])&&(ModuleRegistry.isPackageBased()?o("AG Grid: "+b+" is only valid in ag-grid-enterprise, your column definition should not have "+b,"ColumnRowGroupingMissing"+b):o("AG Grid: "+b+" is only valid with AG Grid Enterprise Module "+ModuleNames.RowGroupingModule+" - your column definition should not have "+b,"ColumnRowGroupingMissing"+b))})}if(ModuleRegistry.isRegistered(ModuleNames.RichSelectModule)||(this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&(ModuleRegistry.isPackageBased()?o("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):o("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()){var g=["rowGroup","rowGroupIndex","pivot","pivotIndex"];g.forEach(function(b){exists(e[b])&&o("AG Grid: "+b+" is not possible when doing tree data, your column definition should not have "+b,"TreeDataCannotRowGroup")})}exists(this.colDef.width)&&typeof this.colDef.width!="number"&&o("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),e.pinnedRowCellRenderer&&o("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererParams&&o("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererFramework&&o("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowValueGetter&&o("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},a.prototype.addEventListener=function(e,o){this.eventService.addEventListener(e,o)},a.prototype.removeEventListener=function(e,o){this.eventService.removeEventListener(e,o)},a.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},a.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var o=this.createColumnFunctionCallbackParams(e),c=this.colDef.suppressNavigable;return c(o)}return!1},a.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsWrapper.isEnableGroupEdit()?!1:this.isColumnFunc(e,this.colDef.editable)},a.prototype.isSuppressFillHandle=function(){return!!attrToBoolean(this.colDef.suppressFillHandle)},a.prototype.isAutoHeight=function(){return!!attrToBoolean(this.colDef.autoHeight)},a.prototype.isAutoHeaderHeight=function(){return!!attrToBoolean(this.colDef.autoHeaderHeight)},a.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},a.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},a.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},a.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},a.prototype.isResizable=function(){return!!attrToBoolean(this.colDef.resizable)},a.prototype.isColumnFunc=function(e,o){if(typeof o=="boolean")return o;if(typeof o=="function"){var c=this.createColumnFunctionCallbackParams(e),h=o;return h(c)}return!1},a.prototype.setMoving=function(e,o){o===void 0&&(o="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_MOVING_CHANGED,o))},a.prototype.createColumnEvent=function(e,o){return{type:e,column:this,columns:[this],source:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},a.prototype.isMoving=function(){return this.moving},a.prototype.getSort=function(){return this.sort},a.prototype.setSort=function(e,o){o===void 0&&(o="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_SORT_CHANGED,o)))},a.prototype.setMenuVisible=function(e,o){o===void 0&&(o="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_MENU_VISIBLE_CHANGED,o)))},a.prototype.isMenuVisible=function(){return this.menuVisible},a.prototype.isSortAscending=function(){return this.sort===Constants.SORT_ASC},a.prototype.isSortDescending=function(){return this.sort===Constants.SORT_DESC},a.prototype.isSortNone=function(){return missing(this.sort)},a.prototype.isSorting=function(){return exists(this.sort)},a.prototype.getSortIndex=function(){return this.sortIndex},a.prototype.setSortIndex=function(e){this.sortIndex=e},a.prototype.setAggFunc=function(e){this.aggFunc=e},a.prototype.getAggFunc=function(){return this.aggFunc},a.prototype.getLeft=function(){return this.left},a.prototype.getOldLeft=function(){return this.oldLeft},a.prototype.getRight=function(){return this.left+this.actualWidth},a.prototype.setLeft=function(e,o){o===void 0&&(o="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_LEFT_CHANGED,o)))},a.prototype.isFilterActive=function(){return this.filterActive},a.prototype.setFilterActive=function(e,o,c){o===void 0&&(o="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_FILTER_ACTIVE_CHANGED,o)));var h=this.createColumnEvent(a.EVENT_FILTER_CHANGED,o);c&&mergeDeep(h,c),this.eventService.dispatchEvent(h)},a.prototype.setPinned=function(e){e===!0||e===Constants.PINNED_LEFT?this.pinned=Constants.PINNED_LEFT:e===Constants.PINNED_RIGHT?this.pinned=Constants.PINNED_RIGHT:this.pinned=null},a.prototype.setFirstRightPinned=function(e,o){o===void 0&&(o="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_FIRST_RIGHT_PINNED_CHANGED,o)))},a.prototype.setLastLeftPinned=function(e,o){o===void 0&&(o="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_LAST_LEFT_PINNED_CHANGED,o)))},a.prototype.isFirstRightPinned=function(){return this.firstRightPinned},a.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},a.prototype.isPinned=function(){return this.pinned===Constants.PINNED_LEFT||this.pinned===Constants.PINNED_RIGHT},a.prototype.isPinnedLeft=function(){return this.pinned===Constants.PINNED_LEFT},a.prototype.isPinnedRight=function(){return this.pinned===Constants.PINNED_RIGHT},a.prototype.getPinned=function(){return this.pinned},a.prototype.setVisible=function(e,o){o===void 0&&(o="api");var c=e===!0;this.visible!==c&&(this.visible=c,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_VISIBLE_CHANGED,o)))},a.prototype.isVisible=function(){return this.visible},a.prototype.getColDef=function(){return this.colDef},a.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},a.prototype.getColId=function(){return this.colId},a.prototype.getId=function(){return this.getColId()},a.prototype.getUniqueId=function(){return this.getId()},a.prototype.getDefinition=function(){return this.colDef},a.prototype.getActualWidth=function(){return this.actualWidth},a.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},a.prototype.setAutoHeaderHeight=function(e){var o=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,o},a.prototype.createBaseColDefParams=function(e){var o={node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return o},a.prototype.getColSpan=function(e){if(missing(this.colDef.colSpan))return 1;var o=this.createBaseColDefParams(e),c=this.colDef.colSpan(o);return Math.max(c,1)},a.prototype.getRowSpan=function(e){if(missing(this.colDef.rowSpan))return 1;var o=this.createBaseColDefParams(e),c=this.colDef.rowSpan(o);return Math.max(c,1)},a.prototype.setActualWidth=function(e,o,c){o===void 0&&(o="api"),c===void 0&&(c=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&o!=="flex"&&o!=="gridInitializing"&&(this.flex=null),c||this.fireColumnWidthChangedEvent(o))},a.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_WIDTH_CHANGED,e))},a.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},a.prototype.getMinWidth=function(){return this.minWidth},a.prototype.getMaxWidth=function(){return this.maxWidth},a.prototype.getFlex=function(){return this.flex||0},a.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},a.prototype.setMinimum=function(e){e===void 0&&(e="api"),exists(this.minWidth)&&this.setActualWidth(this.minWidth,e)},a.prototype.setRowGroupActive=function(e,o){o===void 0&&(o="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_ROW_GROUP_CHANGED,o)))},a.prototype.isRowGroupActive=function(){return this.rowGroupActive},a.prototype.setPivotActive=function(e,o){o===void 0&&(o="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_PIVOT_CHANGED,o)))},a.prototype.isPivotActive=function(){return this.pivotActive},a.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},a.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},a.prototype.setValueActive=function(e,o){o===void 0&&(o="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_VALUE_CHANGED,o)))},a.prototype.isValueActive=function(){return this.aggregationActive},a.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},a.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},a.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},a.prototype.getMenuTabs=function(e){var o=this.getColDef().menuTabs;return o==null&&(o=e),o},a.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),this.colDef?!!this.colDef.lockPosition:!1},a.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),this.colDef?!!this.colDef.lockVisible:!1},a.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),this.colDef?!!this.colDef.lockPinned:!1},a.EVENT_MOVING_CHANGED="movingChanged",a.EVENT_LEFT_CHANGED="leftChanged",a.EVENT_WIDTH_CHANGED="widthChanged",a.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",a.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",a.EVENT_VISIBLE_CHANGED="visibleChanged",a.EVENT_FILTER_CHANGED="filterChanged",a.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",a.EVENT_SORT_CHANGED="sortChanged",a.EVENT_COL_DEF_CHANGED="colDefChanged",a.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",a.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",a.EVENT_PIVOT_CHANGED="columnPivotChanged",a.EVENT_VALUE_CHANGED="columnValueChanged",__decorate$2z([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$2z([Autowired("columnUtils")],a.prototype,"columnUtils",void 0),__decorate$2z([PostConstruct],a.prototype,"initialise",null),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function firstExistingValue(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];for(var o=0;o<a.length;o++){var c=a[o];if(exists(c))return c}return null}function existsAndNotEmpty(a){return a!=null&&a.length>0}function last(a){if(!(!a||!a.length))return a[a.length-1]}function areEqual(a,e,o){return a==null&&e==null?!0:a!=null&&e!=null&&a.length===e.length&&a.every(function(c,h){return o?o(c,e[h]):e[h]===c})}function compareArrays(a,e){return areEqual(a,e)}function shallowCompare(a,e){return areEqual(a,e)}function sortNumerically(a){return a.sort(function(e,o){return e-o})}function removeRepeatsFromArray(a,e){if(a)for(var o=a.length-2;o>=0;o--){var c=a[o]===e,h=a[o+1]===e;c&&h&&a.splice(o+1,1)}}function removeFromArray(a,e){var o=a.indexOf(e);o>=0&&a.splice(o,1)}function removeAllFromArray(a,e){e.forEach(function(o){return removeFromArray(a,o)})}function insertIntoArray(a,e,o){a.splice(o,0,e)}function insertArrayIntoArray(a,e,o){if(!(a==null||e==null))for(var c=e.length-1;c>=0;c--){var h=e[c];insertIntoArray(a,h,o)}}function moveInArray(a,e,o){removeAllFromArray(a,e),e.slice().reverse().forEach(function(c){return insertIntoArray(a,c,o)})}function includes(a,e){return a.indexOf(e)>-1}function flatten(a){return[].concat.apply([],a)}function pushAll(a,e){e==null||a==null||e.forEach(function(o){return a.push(o)})}function toStrings(a){return a.map(toStringOrNull)}function forEachReverse(a,e){if(a!=null)for(var o=a.length-1;o>=0;o--)e(a[o],o)}var ArrayUtils=Object.freeze({__proto__:null,firstExistingValue,existsAndNotEmpty,last,areEqual,compareArrays,shallowCompare,sortNumerically,removeRepeatsFromArray,removeFromArray,removeAllFromArray,insertIntoArray,insertArrayIntoArray,moveInArray,includes,flatten,pushAll,toStrings,forEachReverse});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$2y=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ColumnGroup=function(){function a(e,o,c,h){this.displayedChildren=[],this.localEventService=new EventService,this.groupId=o,this.instanceId=c,this.providedColumnGroup=e,this.pinned=h}return a.createUniqueId=function(e,o){return e+"_"+o},a.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},a.prototype.getParent=function(){return this.parent},a.prototype.setParent=function(e){this.parent=e},a.prototype.getUniqueId=function(){return a.createUniqueId(this.groupId,this.instanceId)},a.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},a.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(o){return o.isMoving()})},a.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(h){h instanceof a&&h.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=last(this.displayedChildren),o=e.getLeft();this.setLeft(o)}else{var c=this.displayedChildren[0].getLeft();this.setLeft(c)}else this.setLeft(null)},a.prototype.getLeft=function(){return this.left},a.prototype.getOldLeft=function(){return this.oldLeft},a.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_LEFT_CHANGED)))},a.prototype.getPinned=function(){return this.pinned},a.prototype.createAgEvent=function(e){return{type:e}},a.prototype.addEventListener=function(e,o){this.localEventService.addEventListener(e,o)},a.prototype.removeEventListener=function(e,o){this.localEventService.removeEventListener(e,o)},a.prototype.getGroupId=function(){return this.groupId},a.prototype.getInstanceId=function(){return this.instanceId},a.prototype.isChildInThisGroupDeepSearch=function(e){var o=!1;return this.children.forEach(function(c){e===c&&(o=!0),c instanceof a&&c.isChildInThisGroupDeepSearch(e)&&(o=!0)}),o},a.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(o){e+=o.getActualWidth()}),e},a.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(o){o.isResizable()&&(e=!0)}),e},a.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(o){e+=o.getMinWidth()||0}),e},a.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},a.prototype.getDisplayedChildren=function(){return this.displayedChildren},a.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},a.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},a.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},a.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},a.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},a.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},a.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},a.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},a.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(o){o instanceof Column?e.push(o):o instanceof a&&o.addDisplayedLeafColumns(e)})},a.prototype.addLeafColumns=function(e){this.children.forEach(function(o){o instanceof Column?e.push(o):o instanceof a&&o.addLeafColumns(e)})},a.prototype.getChildren=function(){return this.children},a.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},a.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},a.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},a.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},a.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var o=this;o!=null&&o.isPadding();)o=o.getParent();var c=o?o.providedColumnGroup.isExpandable():!1;if(!c){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(h){var g=h instanceof a&&(!h.displayedChildren||!h.displayedChildren.length);if(!g){var b=h.getColumnGroupShow();switch(b){case a.HEADER_GROUP_SHOW_OPEN:o.providedColumnGroup.isExpanded()&&e.displayedChildren.push(h);break;case a.HEADER_GROUP_SHOW_CLOSED:o.providedColumnGroup.isExpanded()||e.displayedChildren.push(h);break;default:e.displayedChildren.push(h);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_DISPLAYED_CHILDREN_CHANGED))},a.HEADER_GROUP_SHOW_OPEN="open",a.HEADER_GROUP_SHOW_CLOSED="closed",a.EVENT_LEFT_CHANGED="leftChanged",a.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",__decorate$2y([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ProvidedColumnGroup=function(){function a(e,o,c,h){this.localEventService=new EventService,this.expandable=!1,this.colGroupDef=e,this.groupId=o,this.expanded=!!e&&!!e.openByDefault,this.padding=c,this.level=h}return a.prototype.reset=function(e,o){this.colGroupDef=e,this.level=o,this.originalParent=null,this.children=void 0,this.expandable=void 0},a.prototype.setOriginalParent=function(e){this.originalParent=e},a.prototype.getOriginalParent=function(){return this.originalParent},a.prototype.getLevel=function(){return this.level},a.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},a.prototype.isPadding=function(){return this.padding},a.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var o={type:a.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(o)},a.prototype.isExpandable=function(){return this.expandable},a.prototype.isExpanded=function(){return this.expanded},a.prototype.getGroupId=function(){return this.groupId},a.prototype.getId=function(){return this.getGroupId()},a.prototype.setChildren=function(e){this.children=e},a.prototype.getChildren=function(){return this.children},a.prototype.getColGroupDef=function(){return this.colGroupDef},a.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},a.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(o){o instanceof Column?e.push(o):o instanceof a&&o.addLeafColumns(e)})},a.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},a.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach(function(o){return o.addEventListener(Column.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))})},a.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,o=!1,c=!1,h=this.findChildrenRemovingPadding(),g=0,b=h.length;g<b;g++){var $=h[g];if($.isVisible()){var j=$.getColumnGroupShow();j===ColumnGroup.HEADER_GROUP_SHOW_OPEN?(e=!0,c=!0):j===ColumnGroup.HEADER_GROUP_SHOW_CLOSED?(o=!0,c=!0):(e=!0,o=!0)}}var rt=e&&o&&c;if(this.expandable!==rt){this.expandable=rt;var nt={type:a.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(nt)}}},a.prototype.findChildrenRemovingPadding=function(){var e=[],o=function(c){c.forEach(function(h){var g=h instanceof a&&h.isPadding();g?o(h.children):e.push(h)})};return o(this.children),e},a.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},a.prototype.addEventListener=function(e,o){this.localEventService.addEventListener(e,o)},a.prototype.removeEventListener=function(e,o){this.localEventService.removeEventListener(e,o)},a.EVENT_EXPANDED_CHANGED="expandedChanged",a.EVENT_EXPANDABLE_CHANGED="expandableChanged",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AG_GRID_STOP_PROPAGATION="__ag_Grid_Stop_Propagation",PASSIVE_EVENTS$1=["touchstart","touchend","touchmove","touchcancel"],supports={};function stopPropagationForAgGrid(a){a[AG_GRID_STOP_PROPAGATION]=!0}function isStopPropagationForAgGrid(a){return a[AG_GRID_STOP_PROPAGATION]===!0}var isEventSupported=function(){var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(o){if(typeof supports[o]=="boolean")return supports[o];var c=document.createElement(a[o]||"div");return o="on"+o,supports[o]=o in c};return e}();function getCtrlForEvent(a,e,o){for(var c=e.target;c;){var h=a.getDomData(c,o);if(h)return h;c=c.parentElement}return null}function addChangeListener(a,e){a.addEventListener("changed",e),a.addEventListener("paste",e),a.addEventListener("input",e)}function isElementInEventPath(a,e){return!e||!a?!1:getEventPath(e).indexOf(a)>=0}function createEventPath(a){for(var e=[],o=a.target;o;)e.push(o),o=o.parentElement;return e}function addAgGridEventPath(a){a.__agGridEventPath=getEventPath(a)}function getEventPath(a){var e=a;return e.path?e.path:e.composedPath?e.composedPath():e.__agGridEventPath?e.__agGridEventPath:createEventPath(a)}function addSafePassiveEventListener(a,e,o,c){var h=includes(PASSIVE_EVENTS$1,o),g=h?{passive:!0}:void 0;a&&a.addEventListener&&a.addEventListener(e,o,c,g)}var EventUtils=Object.freeze({__proto__:null,stopPropagationForAgGrid,isStopPropagationForAgGrid,isEventSupported,getCtrlForEvent,addChangeListener,isElementInEventPath,createEventPath,addAgGridEventPath,getEventPath,addSafePassiveEventListener});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$2x=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},BeanStub=function(){function a(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!e.destroyed}}return a.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},a.prototype.getContext=function(){return this.context},a.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:a.EVENT_DESTROYED})},a.prototype.addEventListener=function(e,o){this.localEventService||(this.localEventService=new EventService),this.localEventService.addEventListener(e,o)},a.prototype.removeEventListener=function(e,o){this.localEventService&&this.localEventService.removeEventListener(e,o)},a.prototype.dispatchEventAsync=function(e){var o=this;window.setTimeout(function(){return o.dispatchEvent(e)},0)},a.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},a.prototype.addManagedListener=function(e,o,c){var h=this;if(!this.destroyed){e instanceof HTMLElement?addSafePassiveEventListener(this.getFrameworkOverrides(),e,o,c):e.addEventListener(o,c);var g=function(){return e.removeEventListener(o,c),h.destroyFunctions=h.destroyFunctions.filter(function(b){return b!==g}),null};return this.destroyFunctions.push(g),g}},a.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},a.prototype.createManagedBean=function(e,o){var c=this.createBean(e,o);return this.addDestroyFunc(this.destroyBean.bind(this,e,o)),c},a.prototype.createBean=function(e,o,c){return(o||this.getContext()).createBean(e,c)},a.prototype.destroyBean=function(e,o){return(o||this.getContext()).destroyBean(e)},a.prototype.destroyBeans=function(e,o){var c=this;return e&&e.forEach(function(h){return c.destroyBean(h,o)}),[]},a.EVENT_DESTROYED="destroyed",__decorate$2x([Autowired("frameworkOverrides")],a.prototype,"frameworkOverrides",void 0),__decorate$2x([Autowired("context")],a.prototype,"context",void 0),__decorate$2x([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$2x([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$2x([PreDestroy],a.prototype,"destroy",null),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2U=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2w=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$9=function(a,e){return function(o,c){e(o,c,a)}},ColumnFactory=function(a){__extends$2U(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setBeans=function(o){this.logger=o.create("ColumnFactory")},e.prototype.createColumnTree=function(o,c,h){var g=new ColumnKeyCreator,b=this.extractExistingTreeData(h),$=b.existingCols,j=b.existingGroups,rt=b.existingColKeys;g.addExistingKeys(rt);var nt=this.recursivelyCreateColumns(o,0,c,$,g,j),ot=this.findMaxDept(nt,0);this.logger.log("Number of levels for grouped columns is "+ot);var _t=this.balanceColumnTree(nt,0,ot,g),Et=function(It,it){It instanceof ProvidedColumnGroup&&It.setupExpandable(),It.setOriginalParent(it)};return this.columnUtils.depthFirstOriginalTreeSearch(null,_t,Et),{columnTree:_t,treeDept:ot}},e.prototype.extractExistingTreeData=function(o){var c=[],h=[],g=[];return o&&this.columnUtils.depthFirstOriginalTreeSearch(null,o,function(b){if(b instanceof ProvidedColumnGroup){var $=b;h.push($)}else{var j=b;g.push(j.getId()),c.push(j)}}),{existingCols:c,existingGroups:h,existingColKeys:g}},e.prototype.createForAutoGroups=function(o,c){var h=this;return o.map(function(g){return h.createAutoGroupTreeItem(c,g)})},e.prototype.createAutoGroupTreeItem=function(o,c){for(var h=this.findDepth(o),g=c,b=h-1;b>=0;b--){var $=new ProvidedColumnGroup(null,"FAKE_PATH_"+c.getId()+"}_"+b,!0,b);this.context.createBean($),$.setChildren([g]),g.setOriginalParent($),g=$}return g},e.prototype.findDepth=function(o){for(var c=0,h=o;h&&h[0]&&h[0]instanceof ProvidedColumnGroup;)c++,h=h[0].getChildren();return c},e.prototype.balanceColumnTree=function(o,c,h,g){for(var b=[],$=0;$<o.length;$++){var j=o[$];if(j instanceof ProvidedColumnGroup){var rt=j,nt=this.balanceColumnTree(rt.getChildren(),c+1,h,g);rt.setChildren(nt),b.push(rt)}else{for(var ot=void 0,_t=void 0,Et=h-1;Et>=c;Et--){var It=g.getUniqueKey(null,null),it=this.createMergedColGroupDef(null),st=new ProvidedColumnGroup(it,It,!0,c);this.context.createBean(st),_t&&_t.setChildren([st]),_t=st,ot||(ot=_t)}if(ot&&_t){b.push(ot);var Mt=o.some(function(bt){return bt instanceof ProvidedColumnGroup});if(Mt){_t.setChildren([j]);continue}else{_t.setChildren(o);break}}b.push(j)}}return b},e.prototype.findMaxDept=function(o,c){for(var h=c,g=0;g<o.length;g++){var b=o[g];if(b instanceof ProvidedColumnGroup){var $=b,j=this.findMaxDept($.getChildren(),c+1);h<j&&(h=j)}}return h},e.prototype.recursivelyCreateColumns=function(o,c,h,g,b,$){var j=this;return(o||[]).map(function(rt){return j.isColumnGroup(rt)?j.createColumnGroup(h,rt,c,g,b,$):j.createColumn(h,rt,g,b)})},e.prototype.createColumnGroup=function(o,c,h,g,b,$){var j=this.createMergedColGroupDef(c),rt=b.getUniqueKey(j.groupId||null,null),nt=this.findExistingGroup(c,$),ot;nt?(ot=nt,ot.reset(j,h),removeFromArray($,nt)):(ot=new ProvidedColumnGroup(j,rt,!1,h),this.context.createBean(ot));var _t=this.recursivelyCreateColumns(j.children,h+1,o,g,b,$);return ot.setChildren(_t),ot},e.prototype.createMergedColGroupDef=function(o){var c={};return Object.assign(c,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(c,o),this.checkForDeprecatedItems(c),c},e.prototype.createColumn=function(o,c,h,g){var b=this.mergeColDefs(c);this.checkForDeprecatedItems(b);var $=this.findExistingColumn(c,h);if(h&&$&&removeFromArray(h,$),$)$.setColDef(b,c),this.applyColumnState($,b);else{var j=g.getUniqueKey(b.colId,b.field);$=new Column(b,c,j,o),this.context.createBean($)}return $},e.prototype.applyColumnState=function(o,c){var h=attrToNumber(c.flex);h!==void 0&&o.setFlex(h);var g=o.getFlex()<=0;if(g){var b=attrToNumber(c.width);if(b!=null)o.setActualWidth(b);else{var $=o.getActualWidth();o.setActualWidth($)}}c.sort!==void 0&&(c.sort==Constants.SORT_ASC||c.sort==Constants.SORT_DESC?o.setSort(c.sort):o.setSort(void 0));var j=attrToNumber(c.sortIndex);j!==void 0&&o.setSortIndex(j);var rt=attrToBoolean(c.hide);rt!==void 0&&o.setVisible(!rt),c.pinned!==void 0&&o.setPinned(c.pinned)},e.prototype.findExistingColumn=function(o,c){return(c||[]).find(function(h){var g=h.getUserProvidedColDef();if(!g)return!1;var b=o.colId!=null,$=o.field!=null;return b?h.getId()===o.colId:$?g.field===o.field:g===o})},e.prototype.findExistingGroup=function(o,c){return c.find(function(h){var g=h.getColGroupDef();if(!g)return!1;var b=o.groupId!=null;return b?h.getId()===o.groupId:!1})},e.prototype.mergeColDefs=function(o){var c={},h=this.gridOptionsWrapper.getDefaultColDef();mergeDeep(c,h,!1,!0);var g=o.type;g||(g=h&&h.type),g&&this.assignColumnTypes(g,c),mergeDeep(c,o,!1,!0);var b=this.gridOptionsWrapper.getAutoGroupColumnDef(),$=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();return o.rowGroup&&b&&$&&mergeDeep(c,{sort:b.sort,initialSort:b.initialSort},!1,!0),c},e.prototype.assignColumnTypes=function(o,c){var h=[];if(o instanceof Array){var g=o.some(function(j){return typeof j!="string"});g?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):h=o}else if(typeof o=="string")h=o.split(",");else{console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return}var b=Object.assign({},DefaultColumnTypes),$=this.gridOptionsWrapper.getColumnTypes()||{};iterateObject($,function(j,rt){j in b?console.warn("AG Grid: the column type '"+j+"' is a default column type and cannot be overridden."):b[j]=rt}),h.forEach(function(j){var rt=b[j.trim()];rt?mergeDeep(c,rt,!1,!0):console.warn("AG Grid: colDef.type '"+j+"' does not correspond to defined gridOptions.columnTypes")})},e.prototype.checkForDeprecatedItems=function(o){if(o){var c=o;c.group!==void 0&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),c.headerGroup!==void 0&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),c.headerGroupShow!==void 0&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),c.suppressRowGroup!==void 0&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),c.suppressAggregation!==void 0&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(c.suppressRowGroup||c.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),c.displayName&&(console.warn("AG Grid: Found displayName "+c.displayName+", please use headerName instead, displayName is deprecated."),c.headerName=c.displayName)}},e.prototype.isColumnGroup=function(o){return o.children!==void 0},__decorate$2w([Autowired("columnUtils")],e.prototype,"columnUtils",void 0),__decorate$2w([__param$9(0,Qualifier("loggerFactory"))],e.prototype,"setBeans",null),e=__decorate$2w([Bean("columnFactory")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Events=function(){function a(){}return a.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",a.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",a.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",a.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",a.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",a.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",a.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",a.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",a.EVENT_COLUMN_MOVED="columnMoved",a.EVENT_COLUMN_VISIBLE="columnVisible",a.EVENT_COLUMN_PINNED="columnPinned",a.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",a.EVENT_COLUMN_RESIZED="columnResized",a.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",a.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",a.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",a.EVENT_ROW_GROUP_OPENED="rowGroupOpened",a.EVENT_ROW_DATA_CHANGED="rowDataChanged",a.EVENT_ROW_DATA_UPDATED="rowDataUpdated",a.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",a.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",a.EVENT_CHART_CREATED="chartCreated",a.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",a.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",a.EVENT_CHART_DESTROYED="chartDestroyed",a.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",a.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",a.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",a.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",a.EVENT_MODEL_UPDATED="modelUpdated",a.EVENT_PASTE_START="pasteStart",a.EVENT_PASTE_END="pasteEnd",a.EVENT_FILL_START="fillStart",a.EVENT_FILL_END="fillEnd",a.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",a.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",a.EVENT_CELL_CLICKED="cellClicked",a.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",a.EVENT_CELL_MOUSE_DOWN="cellMouseDown",a.EVENT_CELL_CONTEXT_MENU="cellContextMenu",a.EVENT_CELL_VALUE_CHANGED="cellValueChanged",a.EVENT_CELL_EDIT_REQUEST="cellEditRequest",a.EVENT_ROW_VALUE_CHANGED="rowValueChanged",a.EVENT_CELL_FOCUSED="cellFocused",a.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",a.EVENT_ROW_SELECTED="rowSelected",a.EVENT_SELECTION_CHANGED="selectionChanged",a.EVENT_CELL_KEY_DOWN="cellKeyDown",a.EVENT_CELL_KEY_PRESS="cellKeyPress",a.EVENT_CELL_MOUSE_OVER="cellMouseOver",a.EVENT_CELL_MOUSE_OUT="cellMouseOut",a.EVENT_FILTER_CHANGED="filterChanged",a.EVENT_FILTER_MODIFIED="filterModified",a.EVENT_FILTER_OPENED="filterOpened",a.EVENT_SORT_CHANGED="sortChanged",a.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",a.EVENT_ROW_CLICKED="rowClicked",a.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",a.EVENT_GRID_READY="gridReady",a.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",a.EVENT_VIEWPORT_CHANGED="viewportChanged",a.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",a.EVENT_FIRST_DATA_RENDERED="firstDataRendered",a.EVENT_DRAG_STARTED="dragStarted",a.EVENT_DRAG_STOPPED="dragStopped",a.EVENT_CHECKBOX_CHANGED="checkboxChanged",a.EVENT_ROW_EDITING_STARTED="rowEditingStarted",a.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",a.EVENT_CELL_EDITING_STARTED="cellEditingStarted",a.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",a.EVENT_BODY_SCROLL="bodyScroll",a.EVENT_BODY_SCROLL_END="bodyScrollEnd",a.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",a.EVENT_PAGINATION_CHANGED="paginationChanged",a.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",a.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",a.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",a.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",a.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",a.EVENT_FLASH_CELLS="flashCells",a.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",a.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",a.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",a.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",a.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",a.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",a.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",a.EVENT_ROW_DRAG_ENTER="rowDragEnter",a.EVENT_ROW_DRAG_MOVE="rowDragMove",a.EVENT_ROW_DRAG_LEAVE="rowDragLeave",a.EVENT_ROW_DRAG_END="rowDragEnd",a.EVENT_POPUP_TO_FRONT="popupToFront",a.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",a.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",a.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",a.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",a.EVENT_KEYBOARD_FOCUS="keyboardFocus",a.EVENT_MOUSE_FOCUS="mouseFocus",a.EVENT_STORE_UPDATED="storeUpdated",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var GroupInstanceIdCreator=function(){function a(){this.existingIds={}}return a.prototype.getInstanceIdForKey=function(e){var o=this.existingIds[e],c;return typeof o!="number"?c=0:c=o+1,this.existingIds[e]=c,c},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function utf8_encode(a){var e=String.fromCharCode;function o(ot){var _t=[];if(!ot)return[];for(var Et=ot.length,It=0,it,st;It<Et;)it=ot.charCodeAt(It++),it>=55296&&it<=56319&&It<Et?(st=ot.charCodeAt(It++),(st&64512)==56320?_t.push(((it&1023)<<10)+(st&1023)+65536):(_t.push(it),It--)):_t.push(it);return _t}function c(ot){if(ot>=55296&&ot<=57343)throw Error("Lone surrogate U+"+ot.toString(16).toUpperCase()+" is not a scalar value")}function h(ot,_t){return e(ot>>_t&63|128)}function g(ot){if(ot>=0&&ot<=31&&ot!==10){var _t=ot.toString(16).toUpperCase(),Et=_t.padStart(4,"0");return"_x"+Et+"_"}if(!(ot&4294967168))return e(ot);var It="";return ot&4294965248?ot&4294901760?ot&4292870144||(It=e(ot>>18&7|240),It+=h(ot,12),It+=h(ot,6)):(c(ot),It=e(ot>>12&15|224),It+=h(ot,6)):It=e(ot>>6&31|192),It+=e(ot&63|128),It}for(var b=o(a),$=b.length,j=-1,rt,nt="";++j<$;)rt=b[j],nt+=g(rt);return nt}function camelCaseToHyphen(a){return a==null?null:a.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})}function hyphenToCamelCase(a){return a==null?null:a.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function capitalise(a){return a[0].toUpperCase()+a.substr(1).toLowerCase()}function escapeString(a,e){if(a==null)return null;var o=a.toString().toString();return e?o:o.replace(reUnescapedHtml,function(c){return HTML_ESCAPES[c]})}function camelCaseToHumanText(a){if(!a||a==null)return null;var e=/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,o=a.replace(e,"$1$4 $2$3$5").replace("."," ").split(" ");return o.map(function(c){return c.substring(0,1).toUpperCase()+(c.length>1?c.substring(1,c.length):"")}).join(" ")}var StringUtils=Object.freeze({__proto__:null,utf8_encode,camelCaseToHyphen,hyphenToCamelCase,capitalise,escapeString,camelCaseToHumanText});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function convertToMap(a){var e=new Map;return a.forEach(function(o){return e.set(o[0],o[1])}),e}function mapById(a,e){var o=new Map;return a.forEach(function(c){return o.set(e(c),c)}),o}function keys(a){var e=[];return a.forEach(function(o,c){return e.push(c)}),e}var MapUtils=Object.freeze({__proto__:null,convertToMap,mapById,keys});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$p=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$j=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$p(arguments[e]));return a},ColDefUtil=function(){function a(){}return a.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],a.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],a.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],a.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],a.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","showDisabledCheckboxes","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight"],a.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],a.ALL_PROPERTIES=__spread$j(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.NUMBER_PROPERTIES,a.FUNCTION_PROPERTIES,a.BOOLEAN_PROPERTIES),a.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$o=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$i=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$o(arguments[e]));return a},PropertyKeys=function(){function a(){}return a.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],a.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],a.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],a.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],a.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","enableChartToolPanelsButton","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","serverSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter"],a.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupSortComparator","defaultGroupOrderComparator","rowDragText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],a.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],a.FUNCTION_PROPERTIES=__spread$i(a.FUNCTIONAL_PROPERTIES,a.CALLBACK_PROPERTIES),a.ALL_PROPERTIES=__spread$i(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.NUMBER_PROPERTIES,a.FUNCTION_PROPERTIES,a.BOOLEAN_PROPERTIES),a.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$h=function(){return __assign$h=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$h.apply(this,arguments)},__read$n=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$h=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$n(arguments[e]));return a},ComponentUtil=function(){function a(){}return a.getEventCallbacks=function(){return a.EVENT_CALLBACKS||(a.EVENT_CALLBACKS=a.EVENTS.map(function(e){return a.getCallbackForEvent(e)})),a.EVENT_CALLBACKS},a.copyAttributesToGridOptions=function(e,o,c){typeof e!="object"&&(e={});var h=e,g=function(b){return typeof o[b]<"u"};return g("groupAggFiltering")&&typeof o.groupAggFiltering!="function"&&(h.groupAggFiltering=a.toBoolean(o.groupAggFiltering),delete o.groupAggFiltering),__spread$h(a.ARRAY_PROPERTIES,a.STRING_PROPERTIES,a.OBJECT_PROPERTIES,a.FUNCTION_PROPERTIES,a.getEventCallbacks()).filter(g).forEach(function(b){return h[b]=o[b]}),a.BOOLEAN_PROPERTIES.filter(g).forEach(function(b){return h[b]=a.toBoolean(o[b])}),a.NUMBER_PROPERTIES.filter(g).forEach(function(b){return h[b]=a.toNumber(o[b])}),e},a.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},a.processOnChange=function(e,o,c,h){if(e){var g=__assign$h({},e),b=o,$=function(nt){return g[nt]};$("groupAggFiltering")&&(typeof g.groupAggFiltering=="function"?b.groupAggFiltering=g.groupAggFiltering:b.groupAggFiltering=a.toBoolean(g.groupAggFiltering),delete g.groupAggFiltering),$("groupDisplayType")&&typeof g.groupDisplayType.currentValue=="string"&&(c.setGroupDisplayType(g.groupDisplayType.currentValue),delete g.groupDisplayType),g.domLayout&&(c.setDomLayout(g.domLayout.currentValue),delete g.domLayout),g.rowClass&&(c.setRowClass(g.rowClass.currentValue),delete g.rowClass),g.paginationPageSize&&(c.paginationSetPageSize(a.toNumber(g.paginationPageSize.currentValue)),delete g.paginationPageSize),g.rowGroupPanelShow&&(c.setRowGroupPanelShow(g.rowGroupPanelShow.currentValue),delete g.rowGroupPanelShow),g.groupRemoveSingleChildren&&(c.setGroupRemoveSingleChildren(a.toBoolean(g.groupRemoveSingleChildren.currentValue)),delete g.groupRemoveSingleChildren),g.groupRemoveLowestSingleChildren&&(c.setGroupRemoveLowestSingleChildren(a.toBoolean(g.groupRemoveLowestSingleChildren.currentValue)),delete g.groupRemoveLowestSingleChildren),g.suppressRowDrag&&(c.setSuppressRowDrag(a.toBoolean(g.suppressRowDrag.currentValue)),delete g.suppressRowDrag),g.suppressMoveWhenRowDragging&&(c.setSuppressMoveWhenRowDragging(a.toBoolean(g.suppressMoveWhenRowDragging.currentValue)),delete g.suppressMoveWhenRowDragging),g.suppressRowClickSelection&&(c.setSuppressRowClickSelection(a.toBoolean(g.suppressRowClickSelection.currentValue)),delete g.suppressRowClickSelection),g.suppressClipboardPaste&&(c.setSuppressClipboardPaste(a.toBoolean(g.suppressClipboardPaste.currentValue)),delete g.suppressClipboardPaste),g.headerHeight&&(c.setHeaderHeight(a.toNumber(g.headerHeight.currentValue)),delete g.headerHeight),g.pivotHeaderHeight&&(c.setPivotHeaderHeight(a.toNumber(g.pivotHeaderHeight.currentValue)),delete g.pivotHeaderHeight),g.groupHeaderHeight&&(c.setGroupHeaderHeight(a.toNumber(g.groupHeaderHeight.currentValue)),delete g.groupHeaderHeight),g.pivotGroupHeaderHeight&&(c.setPivotGroupHeaderHeight(a.toNumber(g.pivotGroupHeaderHeight.currentValue)),delete g.pivotGroupHeaderHeight),g.floatingFiltersHeight&&(c.setFloatingFiltersHeight(a.toNumber(g.floatingFiltersHeight.currentValue)),delete g.floatingFiltersHeight),g.functionsReadOnly&&(c.setFunctionsReadOnly(a.toBoolean(g.functionsReadOnly.currentValue)),delete g.functionsReadOnly),__spread$h(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.getEventCallbacks()).filter($).forEach(function(nt){return b[nt]=g[nt].currentValue}),a.BOOLEAN_PROPERTIES.filter($).forEach(function(nt){return b[nt]=a.toBoolean(g[nt].currentValue)}),a.NUMBER_PROPERTIES.filter($).forEach(function(nt){return b[nt]=a.toNumber(g[nt].currentValue)}),g.enableCellTextSelection&&(c.setEnableCellTextSelection(a.toBoolean(g.enableCellTextSelection.currentValue)),delete g.enableCellTextSelection),g.quickFilterText&&(c.setQuickFilter(g.quickFilterText.currentValue),delete g.quickFilterText),g.autoGroupColumnDef&&(c.setAutoGroupColumnDef(g.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete g.autoGroupColumnDef),g.columnDefs&&(c.setColumnDefs(g.columnDefs.currentValue,"gridOptionsChanged"),delete g.columnDefs),g.defaultColDef&&(c.setDefaultColDef(g.defaultColDef.currentValue,"gridOptionsChanged"),delete g.defaultColDef),g.pivotMode&&(h.setPivotMode(a.toBoolean(g.pivotMode.currentValue)),delete g.pivotMode);var j=c;Object.keys(g).forEach(function(nt){var ot="set"+nt.charAt(0).toUpperCase()+nt.substring(1);j[ot]&&j[ot](e[nt].currentValue)});var rt={type:Events.EVENT_COMPONENT_STATE_CHANGED};iterateObject(e,function(nt,ot){rt[nt]=ot}),c.dispatchEvent(rt)}},a.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},a.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)},a.EVENTS=[],a.PUBLIC_EVENTS=[],a.EXCLUDED_INTERNAL_EVENTS=[],a.STRING_PROPERTIES=PropertyKeys.STRING_PROPERTIES,a.OBJECT_PROPERTIES=PropertyKeys.OBJECT_PROPERTIES,a.ARRAY_PROPERTIES=PropertyKeys.ARRAY_PROPERTIES,a.NUMBER_PROPERTIES=PropertyKeys.NUMBER_PROPERTIES,a.BOOLEAN_PROPERTIES=PropertyKeys.BOOLEAN_PROPERTIES,a.FUNCTION_PROPERTIES=PropertyKeys.FUNCTION_PROPERTIES,a.ALL_PROPERTIES=PropertyKeys.ALL_PROPERTIES,a}();ComponentUtil.EVENTS=values(Events);ComponentUtil.EXCLUDED_INTERNAL_EVENTS=[Events.EVENT_SCROLLBAR_WIDTH_CHANGED,Events.EVENT_CHECKBOX_CHANGED,Events.EVENT_HEIGHT_SCALE_CHANGED,Events.EVENT_BODY_HEIGHT_CHANGED,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Events.EVENT_SCROLL_VISIBILITY_CHANGED,Events.EVENT_COLUMN_HOVER_CHANGED,Events.EVENT_FLASH_CELLS,Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Events.EVENT_DISPLAYED_ROWS_CHANGED,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Events.EVENT_POPUP_TO_FRONT,Events.EVENT_KEYBOARD_FOCUS,Events.EVENT_MOUSE_FOCUS,Events.EVENT_STORE_UPDATED,Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Events.EVENT_FILL_START,Events.EVENT_FILL_END,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,Events.EVENT_FULL_WIDTH_ROW_FOCUSED,Events.EVENT_HEADER_HEIGHT_CHANGED,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED];ComponentUtil.PUBLIC_EVENTS=ComponentUtil.EVENTS.filter(function(a){return!includes(ComponentUtil.EXCLUDED_INTERNAL_EVENTS,a)});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SideBarDefParser=function(){function a(){}return a.parse=function(e){if(!e)return null;if(e===!0)return{toolPanels:[a.DEFAULT_COLUMN_COMP,a.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof e=="string")return a.parse([e]);if(Array.isArray(e)){var o=[];return e.forEach(function(h){var g=a.DEFAULT_BY_KEY[h];if(!g){console.warn("AG Grid: the key "+h+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(a.DEFAULT_BY_KEY).join(","));return}o.push(g)}),o.length===0?null:{toolPanels:o,defaultToolPanel:o[0].id}}var c={toolPanels:a.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position};return c},a.parseComponents=function(e){var o=[];return e&&e.forEach(function(c){var h=null;if(typeof c=="string"){var g=a.DEFAULT_BY_KEY[c];if(!g){console.warn("AG Grid: the key "+c+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(a.DEFAULT_BY_KEY).join(","));return}h=g}else h=c;o.push(h)}),o},a.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},a.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},a.DEFAULT_BY_KEY={columns:a.DEFAULT_COLUMN_COMP,filters:a.DEFAULT_FILTER_COMP},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __values$5=function(a){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&a[e],c=0;if(o)return o.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},isSafari,isIE,isEdge,isChrome,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,browserInfo;function getBrowserInfo(){if(browserInfo)return browserInfo;var a=navigator.userAgent,e=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],o,c;if(/trident/i.test(e[1]))return o=/\brv[ :]+(\d+)/g.exec(a)||[],c=o[1]!=null?parseFloat(o[1]):0,{name:"IE",version:c};if(e[1]==="Chrome"&&(o=a.match(/\bOPR|Edge\/(\d+)/),o!=null))return c=o[1]!=null?parseFloat(o[1]):0,{name:"Opera",version:c};e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],o=a.match(/version\/(\d+)/i),o!=null&&e.splice(1,1,o[1]);var h=e[0];return c=e[1]!=null?parseFloat(e[1]):0,browserInfo={name:h,version:c},browserInfo}function isBrowserIE(){return isIE===void 0&&(isIE=!!document.documentMode),isIE}function isBrowserEdge(){return isEdge===void 0&&(isEdge=!isBrowserIE()&&!!window.StyleMedia),isEdge}function isBrowserSafari(){return isSafari===void 0&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function isBrowserChrome(){if(isChrome===void 0){var a=window;isChrome=!!a.chrome&&(!!a.chrome.webstore||!!a.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function isBrowserFirefox(){if(isFirefox===void 0){var a=window;isFirefox=typeof a.InstallTrigger<"u"}return isFirefox}function isMacOsUserAgent(){return isMacOs===void 0&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function isIOSUserAgent(){return isIOS===void 0&&(isIOS=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream),isIOS}function browserSupportsPreventScroll(){return!isBrowserSafari()||getBrowserInfo().version>=15}function getTabIndex(a){if(!a)return null;var e=a.tabIndex,o=a.getAttribute("tabIndex");return e===-1&&(o===null||o===""&&!isBrowserFirefox())?null:e.toString()}function getMaxDivHeight(){if(!document.body)return-1;var a=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=document.createElement("div");for(document.body.appendChild(o);;){var c=a*2;if(o.style.height=c+"px",c>e||o.clientHeight!==c)break;a=c}return document.body.removeChild(o),a}function getScrollbarWidth(){return browserScrollbarWidth==null&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}function initScrollbarWidthAndVisibility(){var a=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",a.appendChild(e);var o=e.offsetWidth-e.clientWidth;o===0&&e.clientWidth===0&&(o=null),e.parentNode&&e.parentNode.removeChild(e),o!=null&&(browserScrollbarWidth=o,invisibleScrollbar=o===0)}function isInvisibleScrollbar(){return invisibleScrollbar==null&&initScrollbarWidthAndVisibility(),invisibleScrollbar}function hasOverflowScrolling(){var a,e,o=["webkit","moz","o","ms"],c=document.createElement("div"),h=document.getElementsByTagName("body")[0],g=!1,b;h.appendChild(c),c.setAttribute("style",o.map(function(nt){return"-"+nt+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var $=window.getComputedStyle(c);if($.overflowScrolling==="touch"&&(g=!0),!g)try{for(var j=__values$5(o),rt=j.next();!rt.done;rt=j.next())if(b=rt.value,$[b+"OverflowScrolling"]==="touch"){g=!0;break}}catch(nt){a={error:nt}}finally{try{rt&&!rt.done&&(e=j.return)&&e.call(j)}finally{if(a)throw a.error}}return c.parentNode&&c.parentNode.removeChild(c),g}function getBodyWidth(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function getBodyHeight(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var BrowserUtils=Object.freeze({__proto__:null,getBrowserInfo,isBrowserEdge,isBrowserSafari,isBrowserChrome,isBrowserFirefox,isMacOsUserAgent,isIOSUserAgent,browserSupportsPreventScroll,getTabIndex,getMaxDivHeight,getScrollbarWidth,isInvisibleScrollbar,hasOverflowScrolling,getBodyWidth,getBodyHeight});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function fuzzyCheckStrings(a,e,o){var c={},h=a.filter(function(g){return!e.some(function(b){return b===g})});return h.length>0&&h.forEach(function(g){return c[g]=fuzzySuggestions(g,o)}),c}function fuzzySuggestions(a,e,o,c){var h=c?string_weighted_distances:string_distances,g=e.map(function(b){return{value:b,relevance:h(a.toLowerCase(),b.toLocaleLowerCase())}});return g.sort(function(b,$){return $.relevance-b.relevance}),o&&(g=g.filter(function(b){return b.relevance!==0})),g.map(function(b){return b.value})}function get_bigrams(a){var e=a.toLowerCase(),o=new Array(e.length-1),c,h,g;for(c=h=0,g=o.length;h<=g;c=h+=1)o[c]=e.slice(c,c+2);return o}function string_distances(a,e){if(a.length===0&&e.length===0)return 0;var o=get_bigrams(a),c=get_bigrams(e),h=o.length+c.length,g=0,b,$;for(b=0,$=o.length;b<$;b++){var j=o[b],rt=void 0,nt=void 0;for(rt=0,nt=c.length;rt<nt;rt++){var ot=c[rt];j===ot&&g++}}return g>0?2*g/h:0}function string_weighted_distances(a,e){for(var o=a.replace(/\s/g,""),c=e.replace(/\s/g,""),h=0,g=0,b=0;b<o.length;b++){var $=c.indexOf(o[b],g);$!==-1&&(g=$,h+=100-g*100/1e4*100)}return h}var FuzzyMatchUtils=Object.freeze({__proto__:null,fuzzyCheckStrings,fuzzySuggestions,get_bigrams,string_distances,string_weighted_distances});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function padStartWidthZeros(a,e){return a.toString().padStart(e,"0")}function createArrayOfNumbers(a,e){for(var o=[],c=a;c<=e;c++)o.push(c);return o}function isNumeric(a){return a!==""&&!isNaN(parseFloat(a))&&isFinite(a)}function cleanNumber(a){return typeof a=="string"&&(a=parseInt(a,10)),typeof a=="number"?Math.floor(a):null}function decToHex(a,e){for(var o="",c=0;c<e;c++)o+=String.fromCharCode(a&255),a>>>=8;return o}function formatNumberTwoDecimalPlacesAndCommas(a,e,o){return typeof a!="number"?"":formatNumberCommas(Math.round(a*100)/100,e,o)}function formatNumberCommas(a,e,o){return typeof a!="number"?"":a.toString().replace(".",o).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}function sum(a){return a==null?null:a.reduce(function(e,o){return e+o},0)}var NumberUtils=Object.freeze({__proto__:null,padStartWidthZeros,createArrayOfNumbers,isNumeric,cleanNumber,decToHex,formatNumberTwoDecimalPlacesAndCommas,formatNumberCommas,sum});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$g=function(){return __assign$g=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$g.apply(this,arguments)},__decorate$2v=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$8=function(a,e){return function(o,c){e(o,c,a)}},__read$m=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$g=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$m(arguments[e]));return a},DEFAULT_ROW_HEIGHT=25,DEFAULT_DETAIL_ROW_HEIGHT=300,DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,DEFAULT_KEEP_DETAIL_ROW_COUNT=10;function isTrue(a){return a===!0||a==="true"}function toNumber(a){if(typeof a=="number")return a;if(typeof a=="string")return parseInt(a,10)}function zeroOrGreater(a,e){return a>=0?a:e}function oneOrGreater(a,e){var o=parseInt(a,10);return isNumeric(o)&&o>0?o:e}var GridOptionsWrapper=function(){function a(){this.propertyEventService=new EventService,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}e=a,a.prototype.agWire=function(o,c){this.gridOptions.api=o,this.gridOptions.columnApi=c,this.checkForDeprecated(),this.checkForViolations()},a.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},a.prototype.init=function(){var o=this;this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.gridOptions.sideBar!=null&&(this.gridOptions.sideBar=SideBarDefParser.parse(this.gridOptions.sideBar));var c=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),c),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to use these together on our support forum either, you will get the same answer!"),this.isRowModelServerSide()){var h=function(b){return"AG Grid: '"+b+"' is not supported on the Server-Side Row Model"};exists(this.gridOptions.groupDefaultExpanded)&&console.warn(h("groupDefaultExpanded")),exists(this.gridOptions.groupDefaultExpanded)&&console.warn(h("groupIncludeFooter")),exists(this.gridOptions.groupDefaultExpanded)&&console.warn(h("groupIncludeTotalFooter"))}isTrue(this.gridOptions.enableRangeSelection)?ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"enableRangeSelection"):(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.isGroupRowsSticky()&&(this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRowsSticky and groupHideOpenParents do not work with each other, you need to pick one."),this.isMasterDetail()&&console.warn("AG Grid: groupRowsSticky and masterDetail do not work with each other, you need to pick one."),this.isPagination()&&console.warn("AG Grid: groupRowsSticky and pagination do not work with each other, you need to pick one."));var g=function(b){o.gridOptions.icons&&o.gridOptions.icons[b]&&console.warn("gridOptions.icons."+b+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};g("radioButtonOff"),g("radioButtonOn"),g("checkboxChecked"),g("checkboxUnchecked"),g("checkboxIndeterminate"),this.getScrollbarWidth()},a.prototype.checkColumnDefProperties=function(){var o=this;this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(function(c){var h=Object.getOwnPropertyNames(c),g=__spread$g(ColDefUtil.ALL_PROPERTIES,ColDefUtil.FRAMEWORK_PROPERTIES);o.checkProperties(h,g,g,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},a.prototype.checkGridOptionsProperties=function(){var o=Object.getOwnPropertyNames(this.gridOptions),c=__spread$g(PropertyKeys.ALL_PROPERTIES,PropertyKeys.FRAMEWORK_PROPERTIES,values(Events).map(function(g){return ComponentUtil.getCallbackForEvent(g)})),h=__spread$g(c,["api","columnApi"]);this.checkProperties(o,h,c,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},a.prototype.checkProperties=function(o,c,h,g,b){var $=fuzzyCheckStrings(o,c,h);iterateObject($,function(j,rt){console.warn("ag-grid: invalid "+g+" property '"+j+"' did you mean any of these: "+rt.slice(0,8).join(", "))}),Object.keys($).length>0&&console.warn("ag-grid: to see all the valid "+g+" properties please check: "+b)},a.prototype.mergeGridCommonParams=function(o){var c=this;if(o){var h=function(g){var b=__assign$g(__assign$g({},g),{api:c.getApi(),columnApi:c.getColumnApi(),context:c.getContext()});return o(b)};return h}return o},a.prototype.getDomDataKey=function(){return this.domDataKey},a.prototype.getDomData=function(o,c){var h=o[this.getDomDataKey()];return h?h[c]:void 0},a.prototype.setDomData=function(o,c,h){var g=this.getDomDataKey(),b=o[g];missing(b)&&(b={},o[g]=b),b[c]=h},a.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},a.prototype.isSuppressRowDeselection=function(){return isTrue(this.gridOptions.suppressRowDeselection)},a.prototype.isRowSelectionMulti=function(){return this.gridOptions.rowSelection==="multiple"},a.prototype.isRowMultiSelectWithClick=function(){return isTrue(this.gridOptions.rowMultiSelectWithClick)},a.prototype.getContext=function(){return this.gridOptions.context},a.prototype.isPivotMode=function(){return isTrue(this.gridOptions.pivotMode)},a.prototype.isSuppressExpandablePivotGroups=function(){return isTrue(this.gridOptions.suppressExpandablePivotGroups)},a.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},a.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},a.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_INFINITE},a.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_VIEWPORT},a.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_SERVER_SIDE},a.prototype.isRowModelDefault=function(){return missing(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_CLIENT_SIDE},a.prototype.isFullRowEdit=function(){return this.gridOptions.editType==="fullRow"},a.prototype.isSuppressFocusAfterRefresh=function(){return isTrue(this.gridOptions.suppressFocusAfterRefresh)},a.prototype.isSuppressBrowserResizeObserver=function(){return isTrue(this.gridOptions.suppressBrowserResizeObserver)},a.prototype.isSuppressMaintainUnsortedOrder=function(){return isTrue(this.gridOptions.suppressMaintainUnsortedOrder)},a.prototype.isSuppressClearOnFillReduction=function(){return isTrue(this.gridOptions.suppressClearOnFillReduction)},a.prototype.isShowToolPanel=function(){return isTrue(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},a.prototype.getSideBar=function(){return this.gridOptions.sideBar},a.prototype.isSuppressTouch=function(){return isTrue(this.gridOptions.suppressTouch)},a.prototype.isMaintainColumnOrder=function(){return isTrue(this.gridOptions.maintainColumnOrder)},a.prototype.isSuppressRowTransform=function(){return isTrue(this.gridOptions.suppressRowTransform)},a.prototype.isSuppressColumnStateEvents=function(){return isTrue(this.gridOptions.suppressColumnStateEvents)},a.prototype.isAllowDragFromColumnsToolPanel=function(){return isTrue(this.gridOptions.allowDragFromColumnsToolPanel)},a.prototype.useAsyncEvents=function(){return!isTrue(this.gridOptions.suppressAsyncEvents)},a.prototype.isEnableCellChangeFlash=function(){return isTrue(this.gridOptions.enableCellChangeFlash)},a.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},a.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},a.prototype.isGroupSelectsChildren=function(){return isTrue(this.gridOptions.groupSelectsChildren)},a.prototype.isSuppressRowHoverHighlight=function(){return isTrue(this.gridOptions.suppressRowHoverHighlight)},a.prototype.isColumnHoverHighlight=function(){return isTrue(this.gridOptions.columnHoverHighlight)},a.prototype.isGroupSelectsFiltered=function(){return isTrue(this.gridOptions.groupSelectsFiltered)},a.prototype.isGroupHideOpenParents=function(){return isTrue(this.gridOptions.groupHideOpenParents)},a.prototype.isGroupMaintainOrder=function(){return isTrue(this.gridOptions.groupMaintainOrder)},a.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},a.prototype.isColumnsSortingCoupledToGroup=function(){var o,c=this.getAutoGroupColumnDef(),h=this.isRowModelDefault();return h&&!(!((o=c)===null||o===void 0)&&o.comparator)},a.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):isTrue(this.gridOptions.groupHideOpenParents)},a.prototype.isGroupUseEntireRow=function(o){return o?!1:this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType):!1},a.prototype.isRowGroupPanelSuppressSort=function(){return isTrue(this.gridOptions.rowGroupPanelSuppressSort)},a.prototype.isGroupRowsSticky=function(){return isTrue(this.gridOptions.groupRowsSticky)},a.prototype.isGroupSuppressAutoColumn=function(){var o=this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType):!1;return o?!0:this.gridOptions.treeDataDisplayType?this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType):!1},a.prototype.isGroupRemoveSingleChildren=function(){return isTrue(this.gridOptions.groupRemoveSingleChildren)},a.prototype.isGroupRemoveLowestSingleChildren=function(){return isTrue(this.gridOptions.groupRemoveLowestSingleChildren)},a.prototype.isGroupIncludeFooter=function(){return isTrue(this.gridOptions.groupIncludeFooter)},a.prototype.isGroupIncludeTotalFooter=function(){return isTrue(this.gridOptions.groupIncludeTotalFooter)},a.prototype.isGroupSuppressBlankHeader=function(){return isTrue(this.gridOptions.groupSuppressBlankHeader)},a.prototype.isSuppressRowClickSelection=function(){return isTrue(this.gridOptions.suppressRowClickSelection)},a.prototype.isSuppressCellFocus=function(){return isTrue(this.gridOptions.suppressCellFocus)},a.prototype.isSuppressMultiSort=function(){return isTrue(this.gridOptions.suppressMultiSort)},a.prototype.isAlwaysMultiSort=function(){return isTrue(this.gridOptions.alwaysMultiSort)},a.prototype.isMultiSortKeyCtrl=function(){return this.gridOptions.multiSortKey==="ctrl"},a.prototype.isPivotSuppressAutoColumn=function(){return isTrue(this.gridOptions.pivotSuppressAutoColumn)},a.prototype.isSuppressDragLeaveHidesColumns=function(){return isTrue(this.gridOptions.suppressDragLeaveHidesColumns)},a.prototype.isSuppressRowGroupHidesColumns=function(){return isTrue(this.gridOptions.suppressRowGroupHidesColumns)},a.prototype.isSuppressScrollOnNewData=function(){return isTrue(this.gridOptions.suppressScrollOnNewData)},a.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return isTrue(this.gridOptions.suppressScrollWhenPopupsAreOpen)},a.prototype.isRowDragEntireRow=function(){return isTrue(this.gridOptions.rowDragEntireRow)},a.prototype.getRowDragText=function(o){if(o){var c=o.getColDef();if(c.rowDragText)return c.rowDragText}return this.gridOptions.rowDragText},a.prototype.isSuppressRowDrag=function(){return isTrue(this.gridOptions.suppressRowDrag)},a.prototype.isRowDragManaged=function(){return isTrue(this.gridOptions.rowDragManaged)},a.prototype.isSuppressMoveWhenRowDragging=function(){return isTrue(this.gridOptions.suppressMoveWhenRowDragging)},a.prototype.isRowDragMultiRow=function(){return isTrue(this.gridOptions.rowDragMultiRow)},a.prototype.getDomLayout=function(){var o=this.gridOptions.domLayout||Constants.DOM_LAYOUT_NORMAL,c=[Constants.DOM_LAYOUT_PRINT,Constants.DOM_LAYOUT_AUTO_HEIGHT,Constants.DOM_LAYOUT_NORMAL];return c.indexOf(o)===-1?(doOnce(function(){return console.warn("AG Grid: "+o+" is not valid for DOM Layout, valid values are "+Constants.DOM_LAYOUT_NORMAL+", "+Constants.DOM_LAYOUT_AUTO_HEIGHT+" and "+Constants.DOM_LAYOUT_PRINT)},"warn about dom layout values"),Constants.DOM_LAYOUT_NORMAL):o},a.prototype.isSuppressHorizontalScroll=function(){return isTrue(this.gridOptions.suppressHorizontalScroll)},a.prototype.isSuppressMaxRenderedRowRestriction=function(){return isTrue(this.gridOptions.suppressMaxRenderedRowRestriction)},a.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return isTrue(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},a.prototype.isAlwaysShowHorizontalScroll=function(){return isTrue(this.gridOptions.alwaysShowHorizontalScroll)},a.prototype.isAlwaysShowVerticalScroll=function(){return isTrue(this.gridOptions.alwaysShowVerticalScroll)},a.prototype.isDebounceVerticalScrollbar=function(){return isTrue(this.gridOptions.debounceVerticalScrollbar)},a.prototype.isSuppressLoadingOverlay=function(){return isTrue(this.gridOptions.suppressLoadingOverlay)},a.prototype.isSuppressNoRowsOverlay=function(){return isTrue(this.gridOptions.suppressNoRowsOverlay)},a.prototype.isSuppressFieldDotNotation=function(){return isTrue(this.gridOptions.suppressFieldDotNotation)},a.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},a.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},a.prototype.isFunctionsPassive=function(){return isTrue(this.gridOptions.functionsPassive)},a.prototype.isSuppressChangeDetection=function(){return isTrue(this.gridOptions.suppressChangeDetection)},a.prototype.isSuppressAnimationFrame=function(){return isTrue(this.gridOptions.suppressAnimationFrame)},a.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},a.prototype.isCacheQuickFilter=function(){return isTrue(this.gridOptions.cacheQuickFilter)},a.prototype.isUnSortIcon=function(){return isTrue(this.gridOptions.unSortIcon)},a.prototype.isSuppressMenuHide=function(){return isTrue(this.gridOptions.suppressMenuHide)},a.prototype.isEnterMovesDownAfterEdit=function(){return isTrue(this.gridOptions.enterMovesDownAfterEdit)},a.prototype.isEnterMovesDown=function(){return isTrue(this.gridOptions.enterMovesDown)},a.prototype.isUndoRedoCellEditing=function(){return isTrue(this.gridOptions.undoRedoCellEditing)},a.prototype.getUndoRedoCellEditingLimit=function(){return toNumber(this.gridOptions.undoRedoCellEditingLimit)},a.prototype.isEnableCellEditingOnBackspace=function(){return isTrue(this.gridOptions.enableCellEditingOnBackspace)},a.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},a.prototype.getRowClass=function(){return this.gridOptions.rowClass},a.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},a.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},a.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},a.prototype.isServerSideInfiniteScroll=function(){return isTrue(this.gridOptions.serverSideInfiniteScroll)},a.prototype.getServerSideGroupLevelParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideGroupLevelParams)},a.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},a.prototype.getPopupParent=function(){return this.gridOptions.popupParent},a.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},a.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},a.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},a.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},a.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},a.prototype.getInitialGroupOrderComparator=function(){var o=this.gridOptions,c=o.initialGroupOrderComparator,h=o.defaultGroupOrderComparator;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.nodeA,g.nodeB)}},a.prototype.getIsFullWidthCellFunc=function(){var o=this.gridOptions,c=o.isFullWidthRow,h=o.isFullWidthCell;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.rowNode)}},a.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},a.prototype.isEmbedFullWidthRows=function(){return isTrue(this.gridOptions.embedFullWidthRows)||isTrue(this.gridOptions.deprecatedEmbedFullWidthRows)},a.prototype.isDetailRowAutoHeight=function(){return isTrue(this.gridOptions.detailRowAutoHeight)},a.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},a.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},a.prototype.getApi=function(){return this.gridOptions.api},a.prototype.getColumnApi=function(){return this.gridOptions.columnApi},a.prototype.isReadOnlyEdit=function(){return isTrue(this.gridOptions.readOnlyEdit)},a.prototype.isImmutableData=function(){var o=this.gridOptions.getRowId!=null,c=isTrue(this.gridOptions.immutableData),h=isTrue(this.gridOptions.resetRowDataOnUpdate);return h?!1:o||c},a.prototype.isEnsureDomOrder=function(){return isTrue(this.gridOptions.ensureDomOrder)},a.prototype.isEnableCharts=function(){return isTrue(this.gridOptions.enableCharts)?ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"enableCharts"):!1},a.prototype.isEnableChartToolPanelsButton=function(){return isTrue(this.gridOptions.enableChartToolPanelsButton)},a.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},a.prototype.isSingleClickEdit=function(){return isTrue(this.gridOptions.singleClickEdit)},a.prototype.isSuppressClickEdit=function(){return isTrue(this.gridOptions.suppressClickEdit)},a.prototype.isStopEditingWhenCellsLoseFocus=function(){return isTrue(this.gridOptions.stopEditingWhenCellsLoseFocus)},a.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},a.prototype.getMaxConcurrentDatasourceRequests=function(){var o=toNumber(this.gridOptions.maxConcurrentDatasourceRequests);if(o==null)return 2;if(!(o<=0))return o},a.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},a.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},a.prototype.getPaginationPageSize=function(){return toNumber(this.gridOptions.paginationPageSize)},a.prototype.isPaginateChildRows=function(){var o=this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren();return o?!0:isTrue(this.gridOptions.paginateChildRows)},a.prototype.getCacheBlockSize=function(){return oneOrGreater(this.gridOptions.cacheBlockSize)},a.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},a.prototype.getServerSideInitialRowCount=function(){var o=this.gridOptions.serverSideInitialRowCount;return typeof o=="number"&&o>0?o:1},a.prototype.isPurgeClosedRowNodes=function(){return isTrue(this.gridOptions.purgeClosedRowNodes)},a.prototype.isSuppressPaginationPanel=function(){return isTrue(this.gridOptions.suppressPaginationPanel)},a.prototype.getRowData=function(){return this.gridOptions.rowData},a.prototype.isEnableRtl=function(){return isTrue(this.gridOptions.enableRtl)},a.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},a.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},a.prototype.isAngularCompileRows=function(){return isTrue(this.gridOptions.angularCompileRows)},a.prototype.isAngularCompileFilters=function(){return isTrue(this.gridOptions.angularCompileFilters)},a.prototype.isDebug=function(){return isTrue(this.gridOptions.debug)},a.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},a.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},a.prototype.getDatasource=function(){return this.gridOptions.datasource},a.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},a.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},a.prototype.isAccentedSort=function(){return isTrue(this.gridOptions.accentedSort)},a.prototype.isEnableBrowserTooltips=function(){return isTrue(this.gridOptions.enableBrowserTooltips)},a.prototype.isEnableCellExpressions=function(){return isTrue(this.gridOptions.enableCellExpressions)},a.prototype.isEnableGroupEdit=function(){return isTrue(this.gridOptions.enableGroupEdit)},a.prototype.isSuppressMiddleClickScrolls=function(){return isTrue(this.gridOptions.suppressMiddleClickScrolls)},a.prototype.isPreventDefaultOnContextMenu=function(){return isTrue(this.gridOptions.preventDefaultOnContextMenu)},a.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return isTrue(this.gridOptions.suppressPreventDefaultOnMouseWheel)},a.prototype.isSuppressColumnVirtualisation=function(){return isTrue(this.gridOptions.suppressColumnVirtualisation)},a.prototype.isSuppressRowVirtualisation=function(){return isTrue(this.gridOptions.suppressRowVirtualisation)},a.prototype.isSuppressContextMenu=function(){return isTrue(this.gridOptions.suppressContextMenu)},a.prototype.isAllowContextMenuWithControlKey=function(){return isTrue(this.gridOptions.allowContextMenuWithControlKey)},a.prototype.isSuppressCopyRowsToClipboard=function(){return isTrue(this.gridOptions.suppressCopyRowsToClipboard)},a.prototype.isSuppressCopySingleCellRanges=function(){return isTrue(this.gridOptions.suppressCopySingleCellRanges)},a.prototype.isCopyHeadersToClipboard=function(){return isTrue(this.gridOptions.copyHeadersToClipboard)},a.prototype.isCopyGroupHeadersToClipboard=function(){return isTrue(this.gridOptions.copyGroupHeadersToClipboard)},a.prototype.isSuppressClipboardPaste=function(){return isTrue(this.gridOptions.suppressClipboardPaste)},a.prototype.isSuppressLastEmptyLineOnPaste=function(){return isTrue(this.gridOptions.suppressLastEmptyLineOnPaste)},a.prototype.isPagination=function(){return isTrue(this.gridOptions.pagination)},a.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return isTrue(this.gridOptions.suppressEnterpriseResetOnNewColumns)},a.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},a.prototype.getAsyncTransactionWaitMillis=function(){return exists(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Constants.BATCH_WAIT_MILLIS},a.prototype.isSuppressMovableColumns=function(){return isTrue(this.gridOptions.suppressMovableColumns)},a.prototype.isAnimateRows=function(){return this.isEnsureDomOrder()?!1:isTrue(this.gridOptions.animateRows)},a.prototype.isSuppressColumnMoveAnimation=function(){return isTrue(this.gridOptions.suppressColumnMoveAnimation)},a.prototype.isSuppressAggFuncInHeader=function(){return isTrue(this.gridOptions.suppressAggFuncInHeader)},a.prototype.isSuppressAggAtRootLevel=function(){return isTrue(this.gridOptions.suppressAggAtRootLevel)},a.prototype.isSuppressAggFilteredOnly=function(){var o=this.getGroupAggFiltering()!==void 0;return o||isTrue(this.gridOptions.suppressAggFilteredOnly)},a.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return isTrue(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},a.prototype.isShowOpenedGroup=function(){return isTrue(this.gridOptions.showOpenedGroup)},a.prototype.isReactUi=function(){return isTrue(this.gridOptions.reactUi)},a.prototype.isSuppressReactUi=function(){return isTrue(this.gridOptions.suppressReactUi)},a.prototype.isEnableRangeSelection=function(){return ModuleRegistry.isRegistered(ModuleNames.RangeSelectionModule)&&isTrue(this.gridOptions.enableRangeSelection)},a.prototype.isEnableRangeHandle=function(){return isTrue(this.gridOptions.enableRangeHandle)},a.prototype.isEnableFillHandle=function(){return isTrue(this.gridOptions.enableFillHandle)},a.prototype.getFillHandleDirection=function(){var o=this.gridOptions.fillHandleDirection;return o?o!=="x"&&o!=="y"&&o!=="xy"?(doOnce(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):o:"xy"},a.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},a.prototype.isSuppressMultiRangeSelection=function(){return isTrue(this.gridOptions.suppressMultiRangeSelection)},a.prototype.isPaginationAutoPageSize=function(){return isTrue(this.gridOptions.paginationAutoPageSize)},a.prototype.isRememberGroupStateWhenNewData=function(){return isTrue(this.gridOptions.rememberGroupStateWhenNewData)},a.prototype.getIcons=function(){return this.gridOptions.icons},a.prototype.getGroupAggFiltering=function(){var o=this.gridOptions.groupAggFiltering;if(typeof o=="function")return this.mergeGridCommonParams(o);if(isTrue(o))return function(){return!0}},a.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},a.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},a.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},a.prototype.isMasterDetail=function(){var o=isTrue(this.gridOptions.masterDetail);return o?ModuleRegistry.assertRegistered(ModuleNames.MasterDetailModule,"masterDetail"):!1},a.prototype.isKeepDetailRows=function(){return isTrue(this.gridOptions.keepDetailRows)},a.prototype.getKeepDetailRowsCount=function(){var o=this.gridOptions.keepDetailRowsCount;return exists(o)&&o>0?this.gridOptions.keepDetailRowsCount:DEFAULT_KEEP_DETAIL_ROW_COUNT},a.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},a.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},a.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},a.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},a.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},a.prototype.isSuppressAutoSize=function(){return isTrue(this.gridOptions.suppressAutoSize)},a.prototype.isEnableCellTextSelection=function(){return isTrue(this.gridOptions.enableCellTextSelection)},a.prototype.isSuppressParentsInRowNodes=function(){return isTrue(this.gridOptions.suppressParentsInRowNodes)},a.prototype.isSuppressClipboardApi=function(){return isTrue(this.gridOptions.suppressClipboardApi)},a.prototype.isFunctionsReadOnly=function(){return isTrue(this.gridOptions.functionsReadOnly)},a.prototype.isEnableCellTextSelect=function(){return isTrue(this.gridOptions.enableCellTextSelection)},a.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},a.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},a.prototype.getDefaultExportParams=function(o){if(this.gridOptions.defaultExportParams)return console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+capitalise(o)+"ExportParams`'"),o==="csv"?this.gridOptions.defaultExportParams:this.gridOptions.defaultExportParams;if(o==="csv"&&this.gridOptions.defaultCsvExportParams)return this.gridOptions.defaultCsvExportParams;if(o==="excel"&&this.gridOptions.defaultExcelExportParams)return this.gridOptions.defaultExcelExportParams},a.prototype.isSuppressCsvExport=function(){return isTrue(this.gridOptions.suppressCsvExport)},a.prototype.isAllowShowChangeAfterFilter=function(){return isTrue(this.gridOptions.allowShowChangeAfterFilter)},a.prototype.isSuppressExcelExport=function(){return isTrue(this.gridOptions.suppressExcelExport)},a.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return isTrue(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},a.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},a.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},a.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},a.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},a.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},a.prototype.getGroupRowAggFunc=function(){var o=this.gridOptions,c=o.getGroupRowAgg,h=o.groupRowAggNodes;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.nodes)}},a.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},a.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},a.prototype.getRowIdFunc=function(){var o=this.gridOptions,c=o.getRowId,h=o.getRowNodeId;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.data)}},a.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},a.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},a.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},a.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},a.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},a.prototype.isTreeData=function(){var o=isTrue(this.gridOptions.treeData);return o?ModuleRegistry.assertRegistered(ModuleNames.RowGroupingModule,"Tree Data"):!1},a.prototype.isValueCache=function(){return isTrue(this.gridOptions.valueCache)},a.prototype.isValueCacheNeverExpires=function(){return isTrue(this.gridOptions.valueCacheNeverExpires)},a.prototype.isDeltaSort=function(){return isTrue(this.gridOptions.deltaSort)},a.prototype.isAggregateOnlyChangedColumns=function(){return isTrue(this.gridOptions.aggregateOnlyChangedColumns)},a.prototype.getProcessPivotResultColDefFunc=function(){return this.gridOptions.processPivotResultColDef||this.gridOptions.processSecondaryColDef},a.prototype.getProcessPivotResultColGroupDefFunc=function(){return this.gridOptions.processPivotResultColGroupDef||this.gridOptions.processSecondaryColGroupDef},a.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},a.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},a.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},a.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},a.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},a.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},a.prototype.getViewportRowModelPageSize=function(){return oneOrGreater(this.gridOptions.viewportRowModelPageSize,DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},a.prototype.getViewportRowModelBufferSize=function(){return zeroOrGreater(this.gridOptions.viewportRowModelBufferSize,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},a.prototype.isServerSideSortAllLevels=function(){var o=isTrue(this.gridOptions.serverSideSortAllLevels);return!this.isRowModelServerSide()&&o?(doOnce(function(){return console.warn("AG Grid: The `serverSideSortAllLevels` property can only be used with the server side row model.")},"serverSideSortAllLevels"),!1):o},a.prototype.isServerSideFilterAllLevels=function(){var o=isTrue(this.gridOptions.serverSideFilterAllLevels);return!this.isRowModelServerSide()&&o?(doOnce(function(){return console.warn("AG Grid: The `serverSideFilterAllLevels` property can only be used with the server side row model.")},"serverSideFilterAllLevels"),!1):o},a.prototype.isServerSideSortOnServer=function(){var o=isTrue(this.gridOptions.serverSideSortOnServer);return!this.isRowModelServerSide()&&o?(doOnce(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property can only be used with the server side row model.")},"serverSideSortOnServerRowModel"),!1):this.isTreeData()&&o?(doOnce(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property cannot be used while using tree data.")},"serverSideSortOnServerTreeData"),!1):o},a.prototype.isServerSideFilterOnServer=function(){var o=isTrue(this.gridOptions.serverSideFilterOnServer);return!this.isRowModelServerSide()&&o?(doOnce(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property can only be used with the server side row model.")},"serverSideFilterOnServerRowModel"),!1):this.isTreeData()&&o?(doOnce(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property cannot be used while using tree data.")},"serverSideFilterOnServerTreeData"),!1):o},a.prototype.getPostSortFunc=function(){var o=this.gridOptions,c=o.postSortRows,h=o.postSort;if(c)return this.mergeGridCommonParams(c);if(h)return function(g){return h(g.nodes)}},a.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},a.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},a.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},a.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},a.prototype.getChartToolPanelsDef=function(){return this.gridOptions.chartToolPanelsDef},a.prototype.getClipboardDelimiter=function(){return exists(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"	"},a.prototype.setProperty=function(o,c,h){h===void 0&&(h=!1);var g=this.gridOptions[o];if(h||g!==c){this.gridOptions[o]=c;var b={type:o,currentValue:c,previousValue:g};this.propertyEventService.dispatchEvent(b)}},a.prototype.addEventListener=function(o,c){this.propertyEventService.addEventListener(o,c)},a.prototype.removeEventListener=function(o,c){this.propertyEventService.removeEventListener(o,c)},a.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},a.prototype.getAutoSizePadding=function(){var o=this.gridOptions.autoSizePadding;return o!=null&&o>=0?o:20},a.prototype.getHeaderHeight=function(){return typeof this.gridOptions.headerHeight=="number"?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},a.prototype.getFloatingFiltersHeight=function(){return typeof this.gridOptions.floatingFiltersHeight=="number"?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},a.prototype.getGroupHeaderHeight=function(){return typeof this.gridOptions.groupHeaderHeight=="number"?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},a.prototype.getPivotHeaderHeight=function(){return typeof this.gridOptions.pivotHeaderHeight=="number"?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},a.prototype.getPivotGroupHeaderHeight=function(){return typeof this.gridOptions.pivotGroupHeaderHeight=="number"?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},a.prototype.isExternalFilterPresent=function(){return typeof this.gridOptions.isExternalFilterPresent=="function"?this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()}):!1},a.prototype.doesExternalFilterPass=function(o){return typeof this.gridOptions.doesExternalFilterPass=="function"?this.gridOptions.doesExternalFilterPass(o):!1},a.prototype.getTooltipDelay=function(o){var c=this.gridOptions,h=c.tooltipShowDelay,g=c.tooltipHideDelay,b=o==="show"?h:g,$=capitalise(o);return exists(b)?(b<0&&doOnce(function(){return console.warn("ag-grid: tooltip"+$+"Delay should not be lower than 0")},"tooltip"+$+"DelayWarn"),Math.max(200,b)):null},a.prototype.isTooltipMouseTrack=function(){return isTrue(this.gridOptions.tooltipMouseTrack)},a.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return isTrue(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},a.prototype.getDocument=function(){var o=null;return this.gridOptions.getDocument&&exists(this.gridOptions.getDocument)?o=this.gridOptions.getDocument():this.eGridDiv&&(o=this.eGridDiv.ownerDocument),o&&exists(o)?o:document},a.prototype.getMinColWidth=function(){var o=this.gridOptions.minColWidth;if(exists(o)&&o>e.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var c=this.getFromTheme(null,"headerCellMinWidth");return exists(c)?Math.max(c,e.MIN_COL_WIDTH):e.MIN_COL_WIDTH},a.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>e.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},a.prototype.getColWidth=function(){return typeof this.gridOptions.colWidth!="number"||this.gridOptions.colWidth<e.MIN_COL_WIDTH?200:this.gridOptions.colWidth},a.prototype.getRowBuffer=function(){var o=this.gridOptions.rowBuffer;return typeof o=="number"?o<0&&(doOnce(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=o=0):o=Constants.ROW_BUFFER_SIZE,o},a.prototype.getRowBufferInPixels=function(){var o=this.getRowBuffer(),c=this.getRowHeightAsNumber();return o*c},a.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var o=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,c=o?this.gridOptions.scrollbarWidth:getScrollbarWidth();c!=null&&(this.scrollbarWidth=c,this.eventService.dispatchEvent({type:Events.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},a.prototype.checkForDeprecated=function(){var o=this.gridOptions;o.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),o.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),o.enableMultiRowDragging&&(o.rowDragMultiRow=!0,delete o.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var c=function(b,$,j){o[b]!=null&&(console.warn("AG Grid: since version "+j+", '"+b+"' is deprecated / renamed, please use the new property name '"+$+"' instead."),o[$]==null&&(o[$]=o[b]))};if(c("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),c("deltaRowDataMode","immutableData","23.1.x"),c("serverSideFilteringAlwaysResets","serverSideFilterAllLevels","28.0.0"),c("serverSideSortingAlwaysResets","serverSideSortAllLevels","28.0.0"),(o.immutableColumns||o.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),c("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),o.groupRowInnerRenderer||o.groupRowInnerRendererParams||o.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),o.groupRowRendererParams||(o.groupRowRendererParams={});var h=o.groupRowRendererParams;o.groupRowInnerRenderer&&(h.innerRenderer=o.groupRowInnerRenderer),o.groupRowInnerRendererParams&&(h.innerRendererParams=o.groupRowInnerRendererParams),o.groupRowInnerRendererFramework&&(h.innerRendererFramework=o.groupRowInnerRendererFramework)}if(o.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),o.detailCellRendererParams&&o.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),o.detailRowAutoHeight=!0),o.suppressKeyboardEvent&&console.warn(`AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in
                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property.`),o.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),o.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),o.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),o.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),o.stopEditingWhenCellsLoseFocus=!0),o.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),o.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),o.groupDisplayType="multipleColumns"),o.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),o.groupDisplayType="groupRows"),o.groupSuppressAutoColumn){var g=o.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+g+" = 'custom'`"),o.groupDisplayType="custom"}o.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),o.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),o.defaultGroupOrderComparator=o.defaultGroupSortComparator),o.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),o.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),o.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),o.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),o.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),o.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),o.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),o.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),o.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),o.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),o.suppressCellFocus=o.suppressCellSelection),o.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),o.immutableData&&(o.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),o.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),o.clipboardDelimiter=o.clipboardDeliminator),c("processSecondaryColDef","processPivotResultColDef","28.0.x"),c("processSecondaryColGroupDef","processPivotResultColGroupDef","28.0.x"),o.serverSideStoreType&&(console.warn("AG Grid: since v28.0, `serverSideStoreType` has been replaced by `serverSideInfiniteScroll`. Set to true to use Partial Store, and false to use Full Store."),o.serverSideInfiniteScroll=o.serverSideStoreType==="partial"),c("getServerSideStoreParams","getServerSideGroupLevelParams","28.0.x")},a.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},a.prototype.treeDataViolations=function(){this.isRowModelDefault()&&missing(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(missing(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),missing(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},a.prototype.getLocaleTextFunc=function(){var o=this,c=this.gridOptions,h=c.localeText,g=c.getLocaleText,b=c.localeTextFunc;return g?function($,j,rt){var nt={key:$,defaultValue:j,variableValues:rt,api:o.getApi(),columnApi:o.getColumnApi(),context:o.getContext()};return g(nt)}:b||function($,j,rt){var nt=h&&h[$];if(nt&&rt&&rt.length)for(var ot=0;!(ot>=rt.length);){var _t=nt.indexOf("${variable}");if(_t===-1)break;nt=nt.replace("${variable}",rt[ot++])}return nt??j}},a.prototype.globalEventHandler=function(o,c){if(!this.destroyed){var h=ComponentUtil.getCallbackForEvent(o);typeof this.gridOptions[h]=="function"&&this.gridOptions[h](c)}},a.prototype.setRowHeightVariable=function(o){var c=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),h=o+"px";c!=h&&this.eGridDiv.style.setProperty("--ag-line-height",h)},a.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||missing(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var o=this.gridOptions.rowHeight;return o&&this.isNumeric(o)?(this.setRowHeightVariable(o),o):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},a.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},a.prototype.getRowHeightForNode=function(o,c,h){if(c===void 0&&(c=!1),h==null&&(h=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(c)return{height:h,estimated:!0};var g={node:o,data:o.data},b=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(g);if(this.isNumeric(b))return b===0&&doOnce(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,b),estimated:!1}}if(o.detail&&this.isMasterDetail())return this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:DEFAULT_DETAIL_ROW_HEIGHT,estimated:!1};var $=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:h;return{height:$,estimated:!1}},a.prototype.isDynamicRowHeight=function(){return typeof this.gridOptions.getRowHeight=="function"},a.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},a.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},a.prototype.isNumeric=function(o){return!isNaN(o)&&typeof o=="number"&&isFinite(o)},a.prototype.getFromTheme=function(o,c){var h=this.environment.getTheme().theme;return h&&h.indexOf("ag-theme")===0?this.environment.getSassVariable(h,c):o},a.prototype.getDefaultRowHeight=function(){return this.getFromTheme(DEFAULT_ROW_HEIGHT,"rowHeight")},a.prototype.matchesGroupDisplayType=function(o,c){var h=["groupRows","multipleColumns","custom","singleColumn"];return h.indexOf(c)<0?(console.warn("AG Grid: '"+c+"' is not a valid groupDisplayType value - possible values are: '"+h.join("', '")+"'"),!1):c===o},a.prototype.matchesTreeDataDisplayType=function(o,c){var h=["auto","custom"];return h.indexOf(c)<0?(console.warn("AG Grid: '"+c+"' is not a valid treeDataDisplayType value - possible values are: '"+h.join("', '")+"'"),!1):c===o};var e;return a.MIN_COL_WIDTH=10,a.PROP_HEADER_HEIGHT="headerHeight",a.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",a.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",a.PROP_GROUP_DISPLAY_TYPE="groupDisplayType",a.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",a.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",a.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",a.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",a.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",a.PROP_TAB_TO_NEXT_CELL="tabToNextCell",a.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",a.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",a.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",a.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",a.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",a.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",a.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",a.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",a.PROP_GET_ROW_CLASS="getRowClass",a.PROP_GET_ROW_STYLE="getRowStyle",a.PROP_GET_ROW_HEIGHT="getRowHeight",a.PROP_POPUP_PARENT="popupParent",a.PROP_DOM_LAYOUT="domLayout",a.PROP_ROW_CLASS="rowClass",a.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",a.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",a.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",a.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",a.PROP_GET_CHILD_COUNT="getChildCount",a.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",a.PROP_GET_ROW_NODE_ID="getRowNodeId",a.PROP_GET_ROW_ID="getRowId",a.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",a.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",a.PROP_IS_ROW_SELECTABLE="isRowSelectable",a.PROP_IS_ROW_MASTER="isRowMaster",a.PROP_POST_SORT="postSort",a.PROP_POST_SORT_ROWS="postSortRows",a.PROP_GET_DOCUMENT="getDocument",a.PROP_POST_PROCESS_POPUP="postProcessPopup",a.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",a.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",a.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",a.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",a.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",a.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",a.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",a.PROP_SEND_TO_CLIPBOARD="sendToClipboard",a.PROP_PROCESS_PIVOT_RESULT_COL_DEF="processPivotResultColDef",a.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF="processPivotResultColGroupDef",a.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",a.PROP_GET_SERVER_SIDE_GROUP_PARAMS="getServerSideGroupLevelParams",a.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",a.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",a.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",a.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",a.PROP_AUTO_GROUP_COLUMN_DEF="autoGroupColumnDef",a.PROP_DEFAULT_COL_DEF="defaultColDef",__decorate$2v([Autowired("gridOptions")],a.prototype,"gridOptions",void 0),__decorate$2v([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$2v([Autowired("environment")],a.prototype,"environment",void 0),__decorate$2v([Autowired("eGridDiv")],a.prototype,"eGridDiv",void 0),__decorate$2v([__param$8(0,Qualifier("gridApi")),__param$8(1,Qualifier("columnApi"))],a.prototype,"agWire",null),__decorate$2v([PreDestroy],a.prototype,"destroy",null),__decorate$2v([PostConstruct],a.prototype,"init",null),a=e=__decorate$2v([Bean("gridOptionsWrapper")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2T=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2u=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$7=function(a,e){return function(o,c){e(o,c,a)}},__rest$2=function(a,e){var o={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&e.indexOf(c)<0&&(o[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(a);h<c.length;h++)e.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(a,c[h])&&(o[c[h]]=a[c[h]]);return o},__values$4=function(a){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&a[e],c=0;if(o)return o.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$l=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$f=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$l(arguments[e]));return a},ColumnModel=function(a){__extends$2T(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.primaryHeaderRowCount=0,o.secondaryHeaderRowCount=0,o.gridHeaderRowCount=0,o.displayedColumnsLeft=[],o.displayedColumnsRight=[],o.displayedColumnsCenter=[],o.displayedColumns=[],o.displayedColumnsAndGroupsMap={},o.viewportColumns=[],o.viewportColumnsHash="",o.headerViewportColumns=[],o.viewportColumnsCenter=[],o.headerViewportColumnsCenter=[],o.autoHeightActiveAtLeastOnce=!1,o.rowGroupColumns=[],o.valueColumns=[],o.pivotColumns=[],o.ready=!1,o.autoGroupsNeedBuilding=!1,o.forceRecreateAutoGroups=!1,o.pivotMode=!1,o.bodyWidth=0,o.leftWidth=0,o.rightWidth=0,o.bodyWidthDirty=!0,o.flexColsCalculatedAtLestOnce=!1,o}return e.prototype.init=function(){var o=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var c=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(c)&&(this.pivotMode=c),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_DISPLAY_TYPE,function(){return o.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_AUTO_GROUP_COLUMN_DEF,function(){return o.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DEFAULT_COL_DEF,function(){return o.onDefaultColDefChanged()})},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.onDefaultColDefChanged=function(){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},e.prototype.setColumnDefs=function(o,c){c===void 0&&(c="api");var h=!!this.columnDefs;this.columnDefs=o,this.createColumnsFromColumnDefs(h,c)},e.prototype.createColumnsFromColumnDefs=function(o,c){var h=this;c===void 0&&(c="api");var g=o?this.compareColumnStatesAndRaiseEvents(c):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var b=this.primaryColumns,$=this.primaryColumnTree,j=this.columnFactory.createColumnTree(this.columnDefs,!0,$);this.primaryColumnTree=j.columnTree,this.primaryHeaderRowCount=j.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(ot){return h.primaryColumnsMap[ot.getId()]=ot}),this.extractRowGroupColumns(c,b),this.extractPivotColumns(c,b),this.extractValueColumns(c,b),this.ready=!0;var rt=this.gridColsArePrimary===void 0,nt=this.gridColsArePrimary||rt;nt&&(this.updateGridColumns(),o&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(c),this.checkViewportColumns()),this.dispatchEverythingChanged(c),g&&g(),this.dispatchNewColumnsLoaded()},e.prototype.dispatchNewColumnsLoaded=function(){var o={type:Events.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(o)},e.prototype.dispatchEverythingChanged=function(o){o===void 0&&(o="api");var c={type:Events.EVENT_COLUMN_EVERYTHING_CHANGED,source:o};this.eventService.dispatchEvent(c)},e.prototype.orderGridColumnsLikePrimary=function(){var o=this,c=this.primaryColumns;c&&(this.gridColumns.sort(function(h,g){var b=c.indexOf(h),$=c.indexOf(g),j=b>=0,rt=$>=0;if(j&&rt)return b-$;if(j)return 1;if(rt)return-1;var nt=o.gridColumns.indexOf(h),ot=o.gridColumns.indexOf(g);return nt-ot}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(o){for(var c=o,h=[];c!=null;)h.push(c),c=this.getDisplayedColAfter(c);return h},e.prototype.checkViewportColumns=function(){if(this.displayedColumnsCenter!=null){var o=this.extractViewport();if(o){var c={type:Events.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(c)}}},e.prototype.setViewportPosition=function(o,c){(o!==this.scrollWidth||c!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=o,this.scrollPosition=c,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(o){return o&&this.gridOptionsWrapper.isTreeData()?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(o,c){if(c===void 0&&(c="api"),!(o===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))){this.pivotMode=o,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(c);var h={type:Events.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(h)}},e.prototype.getSecondaryPivotColumn=function(o,c){if(missing(this.secondaryColumns))return null;var h=this.getPrimaryColumn(c),g=null;return this.secondaryColumns.forEach(function(b){var $=b.getColDef().pivotKeys,j=b.getColDef().pivotValueColumn,rt=areEqual($,o),nt=j===h;rt&&nt&&(g=b)}),g},e.prototype.setBeans=function(o){this.logger=o.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(o){var c,h;this.gridOptionsWrapper.isEnableRtl()?(c=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,h=this.displayedColumnsRight?last(this.displayedColumnsRight):null):(c=this.displayedColumnsLeft?last(this.displayedColumnsLeft):null,h=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(g){g.setLastLeftPinned(g===c,o),g.setFirstRightPinned(g===h,o)})},e.prototype.autoSizeColumns=function(o){var c=this,h=o.columns,g=o.skipHeader,b=o.skipHeaderGroups,$=o.stopAtGroup,j=o.source,rt=j===void 0?"api":j;this.animationFrameService.flushAllFrames();for(var nt=[],ot=-1,_t=g??this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),Et=b??_t;ot!==0;)ot=0,this.actionOnGridColumns(h,function(It){if(nt.indexOf(It)>=0)return!1;var it=c.autoWidthCalculator.getPreferredWidthForColumn(It,_t);if(it>0){var st=c.normaliseColumnWidth(It,it);It.setActualWidth(st,rt),nt.push(It),ot++}return!0},rt);Et||this.autoSizeColumnGroupsByColumns(h,$),this.fireColumnResizedEvent(nt,!0,"autosizeColumns")},e.prototype.fireColumnResizedEvent=function(o,c,h,g){if(g===void 0&&(g=null),o&&o.length){var b={type:Events.EVENT_COLUMN_RESIZED,columns:o,column:o.length===1?o[0]:null,flexColumns:g,finished:c,source:h};this.eventService.dispatchEvent(b)}},e.prototype.autoSizeColumn=function(o,c,h){h===void 0&&(h="api"),o&&this.autoSizeColumns({columns:[o],skipHeader:c,skipHeaderGroups:!0,source:h})},e.prototype.autoSizeColumnGroupsByColumns=function(o,c){var h,g,b,$,j=new Set,rt=this.getGridColumns(o);rt.forEach(function(bt){for(var Lt=bt.getParent();Lt&&Lt!=c;)Lt.isPadding()||j.add(Lt),Lt=Lt.getParent()});var nt,ot=[];try{for(var _t=__values$4(j),Et=_t.next();!Et.done;Et=_t.next()){var It=Et.value;try{for(var it=(b=void 0,__values$4(this.ctrlsService.getHeaderRowContainerCtrls())),st=it.next();!st.done;st=it.next()){var Mt=st.value;if(nt=Mt.getHeaderCtrlForColumn(It),nt)break}}catch(bt){b={error:bt}}finally{try{st&&!st.done&&($=it.return)&&$.call(it)}finally{if(b)throw b.error}}nt&&nt.resizeLeafColumnsToFit()}}catch(bt){h={error:bt}}finally{try{Et&&!Et.done&&(g=_t.return)&&g.call(_t)}finally{if(h)throw h.error}}return ot},e.prototype.autoSizeAllColumns=function(o,c){c===void 0&&(c="api");var h=this.getAllDisplayedColumns();this.autoSizeColumns({columns:h,skipHeader:o,source:c})},e.prototype.getColumnsFromTree=function(o){var c=[],h=function(g){for(var b=0;b<g.length;b++){var $=g[b];$ instanceof Column?c.push($):$ instanceof ProvidedColumnGroup&&h($.getChildren())}};return h(o),c},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(o){return this.getAllDisplayedColumns().indexOf(o)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(o){return this.colSpanActive?this.getDisplayedColumnsForRow(o,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(o){return this.colSpanActive?this.getDisplayedColumnsForRow(o,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.getDisplayedColumnsForRow=function(o,c,h,g){for(var b=[],$=null,j=function(ot){var _t=c[ot],Et=c.length-ot,It=Math.min(_t.getColSpan(o),Et),it=[_t];if(It>1){for(var st=It-1,Mt=1;Mt<=st;Mt++)it.push(c[ot+Mt]);ot+=st}var bt;if(h?(bt=!1,it.forEach(function(pt){h(pt)&&(bt=!0)})):bt=!0,bt){if(b.length===0&&$){var Lt=g?g(_t):!1;Lt&&b.push($)}b.push(_t)}$=_t,rt=ot},rt,nt=0;nt<c.length;nt++)j(nt),nt=rt;return b},e.prototype.getViewportCenterColumnsForRow=function(o){var c=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var h=function(b){var $=b.getLeft();return exists($)&&$>c.viewportLeft},g=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(o,this.displayedColumnsCenter,g,h)},e.prototype.getAriaColumnIndex=function(o){return this.getAllGridColumns().indexOf(o)+1},e.prototype.isColumnInHeaderViewport=function(o){return o.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(o)},e.prototype.isColumnInRowViewport=function(o){if(o.isAutoHeight())return!0;var c=o.getLeft()||0,h=c+o.getActualWidth(),g=this.viewportLeft-200,b=this.viewportRight+200,$=c<g&&h<g,j=c>b&&h>b;return!$&&!j},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(o,c,h,g,b,$){var j=this;if($===void 0&&($="api"),!(!o||missingOrEmpty(o))){var rt=!1;if(o.forEach(function(ot){var _t=j.getPrimaryColumn(ot);if(_t){if(h){if(c.indexOf(_t)>=0)return;c.push(_t)}else{if(c.indexOf(_t)<0)return;removeFromArray(c,_t)}g(_t),rt=!0}}),!!rt){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns($);var nt={type:b,columns:c,column:c.length===1?c[0]:null,source:$};this.eventService.dispatchEvent(nt)}}},e.prototype.setRowGroupColumns=function(o,c){c===void 0&&(c="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(o,this.rowGroupColumns,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),c)},e.prototype.setRowGroupActive=function(o,c,h){o!==c.isRowGroupActive()&&(c.setRowGroupActive(o,h),o&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&this.setColumnVisible(c,!1,h),!o&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&this.setColumnVisible(c,!0,h))},e.prototype.addRowGroupColumn=function(o,c){c===void 0&&(c="api"),o&&this.addRowGroupColumns([o],c)},e.prototype.addRowGroupColumns=function(o,c){c===void 0&&(c="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(o,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,c)},e.prototype.removeRowGroupColumns=function(o,c){c===void 0&&(c="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(o,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,c)},e.prototype.removeRowGroupColumn=function(o,c){c===void 0&&(c="api"),o&&this.removeRowGroupColumns([o],c)},e.prototype.addPivotColumns=function(o,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(o,this.pivotColumns,!0,function(h){return h.setPivotActive(!0,c)},Events.EVENT_COLUMN_PIVOT_CHANGED,c)},e.prototype.setPivotColumns=function(o,c){c===void 0&&(c="api"),this.setPrimaryColumnList(o,this.pivotColumns,Events.EVENT_COLUMN_PIVOT_CHANGED,function(h,g){g.setPivotActive(h,c)},c)},e.prototype.addPivotColumn=function(o,c){c===void 0&&(c="api"),this.addPivotColumns([o],c)},e.prototype.removePivotColumns=function(o,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(o,this.pivotColumns,!1,function(h){return h.setPivotActive(!1,c)},Events.EVENT_COLUMN_PIVOT_CHANGED,c)},e.prototype.removePivotColumn=function(o,c){c===void 0&&(c="api"),this.removePivotColumns([o],c)},e.prototype.setPrimaryColumnList=function(o,c,h,g,b){var $=this;c.length=0,exists(o)&&o.forEach(function(j){var rt=$.getPrimaryColumn(j);rt&&c.push(rt)}),(this.primaryColumns||[]).forEach(function(j){var rt=c.indexOf(j)>=0;g(rt,j)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(b),this.fireColumnEvent(h,c,b)},e.prototype.setValueColumns=function(o,c){c===void 0&&(c="api"),this.setPrimaryColumnList(o,this.valueColumns,Events.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),c)},e.prototype.setValueActive=function(o,c,h){if(o!==c.isValueActive()&&(c.setValueActive(o,h),o&&!c.getAggFunc())){var g=this.aggFuncService.getDefaultAggFunc(c);c.setAggFunc(g)}},e.prototype.addValueColumns=function(o,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(o,this.valueColumns,!0,this.setValueActive.bind(this,!0),Events.EVENT_COLUMN_VALUE_CHANGED,c)},e.prototype.addValueColumn=function(o,c){c===void 0&&(c="api"),o&&this.addValueColumns([o],c)},e.prototype.removeValueColumn=function(o,c){c===void 0&&(c="api"),this.removeValueColumns([o],c)},e.prototype.removeValueColumns=function(o,c){c===void 0&&(c="api"),this.updatePrimaryColumnList(o,this.valueColumns,!1,this.setValueActive.bind(this,!1),Events.EVENT_COLUMN_VALUE_CHANGED,c)},e.prototype.normaliseColumnWidth=function(o,c){var h=o.getMinWidth();exists(h)&&c<h&&(c=h);var g=o.getMaxWidth();return exists(g)&&o.isGreaterThanMax(c)&&(c=g),c},e.prototype.getPrimaryOrGridColumn=function(o){var c=this.getPrimaryColumn(o);return c||this.getGridColumn(o)},e.prototype.setColumnWidths=function(o,c,h,g){var b=this;g===void 0&&(g="api");var $=[];o.forEach(function(j){var rt=b.getPrimaryOrGridColumn(j.key);if(rt){$.push({width:j.newWidth,ratios:[1],columns:[rt]});var nt=b.gridOptionsWrapper.getColResizeDefault()==="shift";if(nt&&(c=!c),c){var ot=b.getDisplayedColAfter(rt);if(!ot)return;var _t=rt.getActualWidth()-j.newWidth,Et=ot.getActualWidth()+_t;$.push({width:Et,ratios:[1],columns:[ot]})}}}),$.length!==0&&this.resizeColumnSets({resizeSets:$,finished:h,source:g})},e.prototype.checkMinAndMaxWidthsForSet=function(o){var c=o.columns,h=o.width,g=0,b=0,$=!0;c.forEach(function(nt){var ot=nt.getMinWidth();g+=ot||0;var _t=nt.getMaxWidth();exists(_t)&&_t>0?b+=_t:$=!1});var j=h>=g,rt=!$||h<=b;return j&&rt},e.prototype.resizeColumnSets=function(o){var c=this,h=o.resizeSets,g=o.finished,b=o.source,$=!h||h.every(function(It){return c.checkMinAndMaxWidthsForSet(It)});if(!$){if(g){var j=h&&h.length>0?h[0].columns:null;this.fireColumnResizedEvent(j,g,b)}return}var rt=[],nt=[];h.forEach(function(It){var it=It.width,st=It.columns,Mt=It.ratios,bt={},Lt={};st.forEach(function(jt){return nt.push(jt)});for(var pt=!0,Dt=0,wt=function(){if(Dt++,Dt>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";pt=!1;var jt=[],hr=0,gr=it;st.forEach(function(wr,yr){var xr=Lt[wr.getId()];if(xr)gr-=bt[wr.getId()];else{jt.push(wr);var In=Mt[yr];hr+=In}});var Cr=1/hr;jt.forEach(function(wr,yr){var xr=yr===jt.length-1,In;xr?In=gr:(In=Math.round(Mt[yr]*it*Cr),gr-=In);var rn=wr.getMinWidth(),Sr=wr.getMaxWidth();exists(rn)&&In<rn?(In=rn,Lt[wr.getId()]=!0,pt=!0):exists(Sr)&&Sr>0&&In>Sr&&(In=Sr,Lt[wr.getId()]=!0,pt=!0),bt[wr.getId()]=In})};pt;){var Bt=wt();if(Bt==="break")break}st.forEach(function(jt){var hr=bt[jt.getId()],gr=jt.getActualWidth();gr!==hr&&(jt.setActualWidth(hr,b),rt.push(jt))})});var ot=rt.length>0,_t=[];ot&&(_t=this.refreshFlexedColumns({resizingCols:nt,skipSetLeft:!0}),this.setLeftValues(b),this.updateBodyWidths(),this.checkViewportColumns());var Et=nt.concat(_t);(ot||g)&&this.fireColumnResizedEvent(Et,g,b,_t)},e.prototype.setColumnAggFunc=function(o,c,h){if(h===void 0&&(h="api"),!!o){var g=this.getPrimaryColumn(o);g&&(g.setAggFunc(c),this.fireColumnEvent(Events.EVENT_COLUMN_VALUE_CHANGED,[g],h))}},e.prototype.fireColumnEvent=function(o,c,h){var g={type:o,columns:c,column:c&&c.length==1?c[0]:null,source:h};this.eventService.dispatchEvent(g)},e.prototype.moveRowGroupColumn=function(o,c,h){h===void 0&&(h="api");var g=this.rowGroupColumns[o];this.rowGroupColumns.splice(o,1),this.rowGroupColumns.splice(c,0,g);var b={type:Events.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:this.rowGroupColumns.length===1?this.rowGroupColumns[0]:null,source:h};this.eventService.dispatchEvent(b)},e.prototype.moveColumns=function(o,c,h){if(h===void 0&&(h="api"),this.columnAnimationService.start(),c>this.gridColumns.length-o.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+c),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var g=this.getGridColumns(o),b=!this.doesMovePassRules(g,c);if(!b){moveInArray(this.gridColumns,g,c),this.updateDisplayedColumns(h);var $={type:Events.EVENT_COLUMN_MOVED,columns:g,column:g.length===1?g[0]:null,toIndex:c,source:h};this.eventService.dispatchEvent($),this.columnAnimationService.finish()}},e.prototype.doesMovePassRules=function(o,c){var h=this.getProposedColumnOrder(o,c);return this.doesOrderPassRules(h)},e.prototype.doesOrderPassRules=function(o){return!(!this.doesMovePassMarryChildren(o)||!this.doesMovePassLockedPositions(o))},e.prototype.getProposedColumnOrder=function(o,c){var h=this.gridColumns.slice();return moveInArray(h,o,c),h},e.prototype.sortColumnsLikeGridColumns=function(o){var c=this;if(!(!o||o.length<=1)){var h=o.filter(function(g){return c.gridColumns.indexOf(g)<0}).length>0;h||o.sort(function(g,b){var $=c.gridColumns.indexOf(g),j=c.gridColumns.indexOf(b);return $-j})}},e.prototype.doesMovePassLockedPositions=function(o){var c=0,h=!0,g=function(b){return b?b===!0||b==="left"?0:2:1};return o.forEach(function(b){var $=g(b.getColDef().lockPosition);$<c&&(h=!1),c=$}),h},e.prototype.doesMovePassMarryChildren=function(o){var c=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(h){if(h instanceof ProvidedColumnGroup){var g=h,b=g.getColGroupDef(),$=b&&b.marryChildren;if($){var j=[];g.getLeafColumns().forEach(function(Et){var It=o.indexOf(Et);j.push(It)});var rt=Math.max.apply(Math,j),nt=Math.min.apply(Math,j),ot=rt-nt,_t=g.getLeafColumns().length-1;ot>_t&&(c=!1)}}}),c},e.prototype.moveColumn=function(o,c,h){h===void 0&&(h="api"),this.moveColumns([o],c,h)},e.prototype.moveColumnByIndex=function(o,c,h){h===void 0&&(h="api");var g=this.gridColumns[o];this.moveColumn(g,c,h)},e.prototype.getColumnDefs=function(){var o=this;if(this.primaryColumns){var c=this.primaryColumns.slice();return this.gridColsArePrimary?c.sort(function(h,g){return o.gridColumns.indexOf(h)-o.gridColumns.indexOf(g)}):this.lastPrimaryOrder&&c.sort(function(h,g){return o.lastPrimaryOrder.indexOf(h)-o.lastPrimaryOrder.indexOf(g)}),this.columnDefFactory.buildColumnDefs(c,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(o){switch(o){case Constants.PINNED_LEFT:return this.leftWidth;case Constants.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var o=this.getWidthOfColsInList(this.displayedColumnsCenter),c=this.getWidthOfColsInList(this.displayedColumnsLeft),h=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==o;var g=this.bodyWidth!==o||this.leftWidth!==c||this.rightWidth!==h;if(g){this.bodyWidth=o,this.leftWidth=c,this.rightWidth=h;var b={type:Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(b)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(o){switch(o){case Constants.PINNED_LEFT:return this.getDisplayedLeftColumns();case Constants.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return missingOrEmpty(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return missingOrEmpty(this.rowGroupColumns)},e.prototype.setColumnVisible=function(o,c,h){h===void 0&&(h="api"),this.setColumnsVisible([o],c,h)},e.prototype.setColumnsVisible=function(o,c,h){c===void 0&&(c=!1),h===void 0&&(h="api"),this.applyColumnState({state:o.map(function(g){return{colId:typeof g=="string"?g:g.getColId(),hide:!c}})},h)},e.prototype.setColumnPinned=function(o,c,h){h===void 0&&(h="api"),o&&this.setColumnsPinned([o],c,h)},e.prototype.setColumnsPinned=function(o,c,h){if(h===void 0&&(h="api"),this.gridOptionsWrapper.getDomLayout()==="print"){console.warn("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var g;c===!0||c===Constants.PINNED_LEFT?g=Constants.PINNED_LEFT:c===Constants.PINNED_RIGHT?g=Constants.PINNED_RIGHT:g=null,this.actionOnGridColumns(o,function(b){return b.getPinned()!==g?(b.setPinned(g),!0):!1},h,function(){var b={type:Events.EVENT_COLUMN_PINNED,pinned:g,column:null,columns:null,source:h};return b}),this.columnAnimationService.finish()},e.prototype.actionOnGridColumns=function(o,c,h,g){var b=this;if(!missingOrEmpty(o)){var $=[];if(o.forEach(function(rt){var nt=b.getGridColumn(rt);if(nt){var ot=c(nt);ot!==!1&&$.push(nt)}}),!!$.length&&(this.updateDisplayedColumns(h),exists(g)&&g)){var j=g();j.columns=$,j.column=$.length===1?$[0]:null,this.eventService.dispatchEvent(j)}}},e.prototype.getDisplayedColBefore=function(o){var c=this.getAllDisplayedColumns(),h=c.indexOf(o);return h>0?c[h-1]:null},e.prototype.getDisplayedColAfter=function(o){var c=this.getAllDisplayedColumns(),h=c.indexOf(o);return h<c.length-1?c[h+1]:null},e.prototype.getDisplayedGroupAfter=function(o){return this.getDisplayedGroupAtDirection(o,"After")},e.prototype.getDisplayedGroupBefore=function(o){return this.getDisplayedGroupAtDirection(o,"Before")},e.prototype.getDisplayedGroupAtDirection=function(o,c){for(var h=o.getProvidedColumnGroup().getLevel()+o.getPaddingLevel(),g=o.getDisplayedLeafColumns(),b=c==="After"?last(g):g[0],$="getDisplayedCol"+c;;){var j=this[$](b);if(!j)return null;var rt=this.getColumnGroupAtLevel(j,h);if(rt!==o)return rt}},e.prototype.getColumnGroupAtLevel=function(o,c){for(var h=o.getParent(),g,b;;){var $=h.getProvidedColumnGroup();if(g=$.getLevel(),b=h.getPaddingLevel(),g+b<=c)break;h=h.getParent()}return h},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var o;return(o=[]).concat.apply(o,__spread$f([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},e.prototype.getPrimaryAndAutoGroupCols=function(){var o;return(o=[]).concat.apply(o,__spread$f([this.primaryColumns||[],this.groupAutoColumns||[]]))},e.prototype.getPrimaryAndSecondaryColumns=function(){var o;return(o=[]).concat.apply(o,__spread$f([this.primaryColumns||[],this.secondaryColumns||[]]))},e.prototype.createStateItemFromColumn=function(o){var c=o.isRowGroupActive()?this.rowGroupColumns.indexOf(o):null,h=o.isPivotActive()?this.pivotColumns.indexOf(o):null,g=o.isValueActive()?o.getAggFunc():null,b=o.getSort()!=null?o.getSort():null,$=o.getSortIndex()!=null?o.getSortIndex():null,j=o.getFlex()!=null&&o.getFlex()>0?o.getFlex():null,rt={colId:o.getColId(),width:o.getActualWidth(),hide:!o.isVisible(),pinned:o.getPinned(),sort:b,sortIndex:$,aggFunc:g,rowGroup:o.isRowGroupActive(),rowGroupIndex:c,pivot:o.isPivotActive(),pivotIndex:h,flex:j};return rt},e.prototype.getColumnState=function(){if(missing(this.primaryColumns)||!this.isAlive())return[];var o=this.getPrimaryAndSecondaryAndAutoColumns(),c=o.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(c),c},e.prototype.orderColumnStateList=function(o){var c=convertToMap(this.gridColumns.map(function(h,g){return[h.getColId(),g]}));o.sort(function(h,g){var b=c.has(h.colId)?c.get(h.colId):-1,$=c.has(g.colId)?c.get(g.colId):-1;return b-$})},e.prototype.resetColumnState=function(o){o===void 0&&(o="api");var c=this.getColumnsFromTree(this.primaryColumnTree),h=[],g=1e3,b=1e3,$=[];this.groupAutoColumns&&($=$.concat(this.groupAutoColumns)),c&&($=$.concat(c)),$.forEach(function(j){var rt=function(Bt,jt){return Bt??jt??null},nt=j.getColDef(),ot=rt(nt.sort,nt.initialSort),_t=rt(nt.sortIndex,nt.initialSortIndex),Et=rt(nt.hide,nt.initialHide),It=rt(nt.pinned,nt.initialPinned),it=rt(nt.width,nt.initialWidth),st=rt(nt.flex,nt.initialFlex),Mt=rt(nt.rowGroupIndex,nt.initialRowGroupIndex),bt=rt(nt.rowGroup,nt.initialRowGroup);Mt==null&&(bt==null||bt==!1)&&(Mt=null,bt=null);var Lt=rt(nt.pivotIndex,nt.initialPivotIndex),pt=rt(nt.pivot,nt.initialPivot);Lt==null&&(pt==null||pt==!1)&&(Lt=null,pt=null);var Dt=rt(nt.aggFunc,nt.initialAggFunc),wt={colId:j.getColId(),sort:ot,sortIndex:_t,hide:Et,pinned:It,width:it,flex:st,rowGroup:bt,rowGroupIndex:Mt,pivot:pt,pivotIndex:Lt,aggFunc:Dt};missing(Mt)&&bt&&(wt.rowGroupIndex=g++),missing(Lt)&&pt&&(wt.pivotIndex=b++),h.push(wt)}),this.applyColumnState({state:h,applyOrder:!0},o)},e.prototype.applyColumnState=function(o,c){var h=this;if(missingOrEmpty(this.primaryColumns))return!1;if(o&&o.state&&!o.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var g=function(rt,nt,ot){var _t=h.compareColumnStatesAndRaiseEvents(c);h.autoGroupsNeedBuilding=!0;var Et=nt.slice(),It={},it={},st=[],Mt=[],bt=0,Lt=h.rowGroupColumns.slice(),pt=h.pivotColumns.slice();rt.forEach(function(jt){var hr=jt.colId||"",gr=hr.startsWith(Constants.GROUP_AUTO_COLUMN_ID);if(gr){st.push(jt),Mt.push(jt);return}var Cr=ot(hr);Cr?(h.syncColumnWithStateItem(Cr,jt,o.defaultState,It,it,!1,c),removeFromArray(Et,Cr)):(Mt.push(jt),bt+=1)});var Dt=function(jt){return h.syncColumnWithStateItem(jt,null,o.defaultState,It,it,!1,c)};Et.forEach(Dt);var wt=function(jt,hr,gr,Cr){var wr=jt[gr.getId()],yr=jt[Cr.getId()],xr=wr!=null,In=yr!=null;if(xr&&In)return wr-yr;if(xr)return-1;if(In)return 1;var rn=hr.indexOf(gr),Sr=hr.indexOf(Cr),Tr=rn>=0,Ln=Sr>=0;return Tr&&Ln?rn-Sr:Tr?-1:1};h.rowGroupColumns.sort(wt.bind(h,It,Lt)),h.pivotColumns.sort(wt.bind(h,it,pt)),h.updateGridColumns();var Bt=h.groupAutoColumns?h.groupAutoColumns.slice():[];return st.forEach(function(jt){var hr=h.getAutoColumn(jt.colId);removeFromArray(Bt,hr),h.syncColumnWithStateItem(hr,jt,o.defaultState,null,null,!0,c)}),Bt.forEach(Dt),h.applyOrderAfterApplyState(o),h.updateDisplayedColumns(c),h.dispatchEverythingChanged(c),_t(),{unmatchedAndAutoStates:Mt,unmatchedCount:bt}};this.columnAnimationService.start();var b=g(o.state||[],this.primaryColumns||[],function(rt){return h.getPrimaryColumn(rt)}),$=b.unmatchedAndAutoStates,j=b.unmatchedCount;return($.length>0||exists(o.defaultState))&&(j=g($,this.secondaryColumns||[],function(rt){return h.getSecondaryColumn(rt)}).unmatchedCount),this.columnAnimationService.finish(),j===0},e.prototype.applyOrderAfterApplyState=function(o){var c=this;if(!(!o.applyOrder||!o.state)){var h=[],g={};o.state.forEach(function($){if(!(!$.colId||g[$.colId])){var j=c.gridColumnsMap[$.colId];j&&(h.push(j),g[$.colId]=!0)}});var b=0;if(this.gridColumns.forEach(function($){var j=$.getColId(),rt=g[j]!=null;if(!rt){var nt=j.startsWith(Constants.GROUP_AUTO_COLUMN_ID);nt?insertIntoArray(h,$,b++):h.push($)}}),h=this.placeLockedColumns(h),!this.doesMovePassMarryChildren(h)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=h}},e.prototype.compareColumnStatesAndRaiseEvents=function(o){var c=this,h={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},g=this.getColumnState(),b={};return g.forEach(function($){b[$.colId]=$}),function(){if(!c.gridOptionsWrapper.isSuppressColumnStateEvents()){var $=c.getPrimaryAndSecondaryAndAutoColumns(),j=function(Mt,bt,Lt,pt){var Dt=bt.map(pt),wt=Lt.map(pt),Bt=areEqual(Dt,wt);if(!Bt){var jt={type:Mt,columns:Lt,column:Lt.length===1?Lt[0]:null,source:o};c.eventService.dispatchEvent(jt)}},rt=function(Mt){var bt=[];return $.forEach(function(Lt){var pt=b[Lt.getColId()];pt&&Mt(pt,Lt)&&bt.push(Lt)}),bt},nt=function(Mt){return Mt.getColId()};j(Events.EVENT_COLUMN_ROW_GROUP_CHANGED,h.rowGroupColumns,c.rowGroupColumns,nt),j(Events.EVENT_COLUMN_PIVOT_CHANGED,h.pivotColumns,c.pivotColumns,nt);var ot=function(Mt,bt){var Lt=Mt.aggFunc!=null,pt=Lt!=bt.isValueActive(),Dt=Lt&&Mt.aggFunc!=bt.getAggFunc();return pt||Dt},_t=rt(ot);_t.length>0&&c.fireColumnEvent(Events.EVENT_COLUMN_VALUE_CHANGED,c.valueColumns,o);var Et=function(Mt,bt){return Mt.width!=bt.getActualWidth()};c.fireColumnResizedEvent(rt(Et),!0,o);var It=function(Mt,bt){return Mt.pinned!=bt.getPinned()};c.raiseColumnPinnedEvent(rt(It),o);var it=function(Mt,bt){return Mt.hide==bt.isVisible()};c.raiseColumnVisibleEvent(rt(it),o);var st=function(Mt,bt){return Mt.sort!=bt.getSort()||Mt.sortIndex!=bt.getSortIndex()};rt(st).length>0&&c.sortController.dispatchSortChangedEvents(o),c.raiseColumnMovedEvent(g,o)}}},e.prototype.raiseColumnPinnedEvent=function(o,c){if(o.length){var h=o.length===1?o[0]:null,g=this.getCommonValue(o,function($){return $.getPinned()}),b={type:Events.EVENT_COLUMN_PINNED,pinned:g??null,columns:o,column:h,source:c};this.eventService.dispatchEvent(b)}},e.prototype.getCommonValue=function(o,c){if(!(!o||o.length==0)){for(var h=c(o[0]),g=1;g<o.length;g++)if(h!==c(o[g]))return;return h}},e.prototype.raiseColumnVisibleEvent=function(o,c){if(o.length){var h=o.length===1?o[0]:null,g=this.getCommonValue(o,function($){return $.isVisible()}),b={type:Events.EVENT_COLUMN_VISIBLE,visible:g,columns:o,column:h,source:c};this.eventService.dispatchEvent(b)}},e.prototype.raiseColumnMovedEvent=function(o,c){var h=this,g=this.getColumnState(),b={};g.forEach(function(_t){return b[_t.colId]=_t});var $={};o.forEach(function(_t){b[_t.colId]&&($[_t.colId]=!0)});var j=o.filter(function(_t){return $[_t.colId]}),rt=g.filter(function(_t){return $[_t.colId]}),nt=[];if(rt.forEach(function(_t,Et){var It=j&&j[Et];if(It&&It.colId!==_t.colId){var it=h.getGridColumn(It.colId);it&&nt.push(it)}}),!!nt.length){var ot={type:Events.EVENT_COLUMN_MOVED,columns:nt,column:null,source:c};this.eventService.dispatchEvent(ot)}},e.prototype.syncColumnWithStateItem=function(o,c,h,g,b,$,j){if(o){var rt=function(hr,gr){var Cr={value1:void 0,value2:void 0},wr=!1;return c&&(c[hr]!==void 0&&(Cr.value1=c[hr],wr=!0),exists(gr)&&c[gr]!==void 0&&(Cr.value2=c[gr],wr=!0)),!wr&&h&&(h[hr]!==void 0&&(Cr.value1=h[hr]),exists(gr)&&h[gr]!==void 0&&(Cr.value2=h[gr])),Cr},nt=rt("hide").value1;nt!==void 0&&o.setVisible(!nt,j);var ot=rt("pinned").value1;ot!==void 0&&o.setPinned(ot);var _t=this.columnUtils.calculateColMinWidth(o.getColDef()),Et=rt("flex").value1;Et!==void 0&&o.setFlex(Et);var It=o.getFlex()<=0;if(It){var it=rt("width").value1;it!=null&&_t!=null&&it>=_t&&o.setActualWidth(it,j)}var st=rt("sort").value1;st!==void 0&&(st===Constants.SORT_DESC||st===Constants.SORT_ASC?o.setSort(st,j):o.setSort(void 0,j));var Mt=rt("sortIndex").value1;if(Mt!==void 0&&o.setSortIndex(Mt),!($||!o.isPrimary())){var bt=rt("aggFunc").value1;bt!==void 0&&(typeof bt=="string"?(o.setAggFunc(bt),o.isValueActive()||(o.setValueActive(!0,j),this.valueColumns.push(o))):(exists(bt)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),o.isValueActive()&&(o.setValueActive(!1,j),removeFromArray(this.valueColumns,o))));var Lt=rt("rowGroup","rowGroupIndex"),pt=Lt.value1,Dt=Lt.value2;(pt!==void 0||Dt!==void 0)&&(typeof Dt=="number"||pt?(o.isRowGroupActive()||(o.setRowGroupActive(!0,j),this.rowGroupColumns.push(o)),g&&typeof Dt=="number"&&(g[o.getId()]=Dt)):o.isRowGroupActive()&&(o.setRowGroupActive(!1,j),removeFromArray(this.rowGroupColumns,o)));var wt=rt("pivot","pivotIndex"),Bt=wt.value1,jt=wt.value2;(Bt!==void 0||jt!==void 0)&&(typeof jt=="number"||Bt?(o.isPivotActive()||(o.setPivotActive(!0,j),this.pivotColumns.push(o)),b&&typeof jt=="number"&&(b[o.getId()]=jt)):o.isPivotActive()&&(o.setPivotActive(!1,j),removeFromArray(this.pivotColumns,o)))}}},e.prototype.getGridColumns=function(o){return this.getColumns(o,this.getGridColumn.bind(this))},e.prototype.getColumns=function(o,c){var h=[];return o&&o.forEach(function(g){var b=c(g);b&&h.push(b)}),h},e.prototype.getColumnWithValidation=function(o){if(o==null)return null;var c=this.getGridColumn(o);return c||console.warn("AG Grid: could not find column "+o),c},e.prototype.getPrimaryColumn=function(o){return this.primaryColumns?this.getColumn(o,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(o){return this.getColumn(o,this.gridColumns,this.gridColumnsMap)},e.prototype.getSecondaryColumn=function(o){return this.secondaryColumns?this.getColumn(o,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(o,c,h){if(!o)return null;if(typeof o=="string"&&h[o])return h[o];for(var g=0;g<c.length;g++)if(this.columnsMatch(c[g],o))return c[g];return this.getAutoColumn(o)},e.prototype.getSourceColumnsForGroupColumn=function(o){var c=o.getColDef().showRowGroup;if(!c)return null;if(c===!0)return this.rowGroupColumns.slice(0);var h=this.getPrimaryColumn(c);return h?[h]:null},e.prototype.getAutoColumn=function(o){var c=this;return!this.groupAutoColumns||!exists(this.groupAutoColumns)||missing(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(h){return c.columnsMatch(h,o)})||null},e.prototype.columnsMatch=function(o,c){var h=o===c,g=o.getColDef()===c,b=o.getColId()==c;return h||g||b},e.prototype.getDisplayNameForColumn=function(o,c,h){if(h===void 0&&(h=!1),!o)return null;var g=this.getHeaderName(o.getColDef(),o,null,null,c);return h?this.wrapHeaderNameWithAggFunc(o,g):g},e.prototype.getDisplayNameForProvidedColumnGroup=function(o,c,h){var g=c?c.getColGroupDef():null;return g?this.getHeaderName(g,null,o,c,h):null},e.prototype.getDisplayNameForColumnGroup=function(o,c){return this.getDisplayNameForProvidedColumnGroup(o,o.getProvidedColumnGroup(),c)},e.prototype.getHeaderName=function(o,c,h,g,b){var $=o.headerValueGetter;if($){var j={colDef:o,column:c,columnGroup:h,providedColumnGroup:g,location:b,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return typeof $=="function"?$(j):typeof $=="string"?this.expressionService.evaluate($,j):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}else{if(o.headerName!=null)return o.headerName;if(o.field)return camelCaseToHumanText(o.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(o,c){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return c;var h=o.getColDef().pivotValueColumn,g=exists(h),b=null,$;if(g){var j=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&this.valueColumns.length===1,rt=o.getColDef().pivotTotalColumnIds!==void 0;if(j&&!rt)return c;b=h?h.getAggFunc():null,$=!0}else{var nt=o.isValueActive(),ot=this.pivotMode||!this.isRowGroupEmpty();nt&&ot?(b=o.getAggFunc(),$=!0):$=!1}if($){var _t=typeof b=="string"?b:"func",Et=this.gridOptionsWrapper.getLocaleTextFunc(),It=Et(_t,_t);return It+"("+c+")"}return c},e.prototype.getColumnGroup=function(o,c){if(!o)return null;if(o instanceof ColumnGroup)return o;var h=this.getAllDisplayedTrees(),g=typeof c=="number",b=null;return this.columnUtils.depthFirstAllColumnTreeSearch(h,function($){if($ instanceof ColumnGroup){var j=$,rt=void 0;g?rt=o===j.getGroupId()&&c===j.getInstanceId():rt=o===j.getGroupId(),rt&&(b=j)}}),b},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(o,c){this.valueColumns=this.extractColumns(c,this.valueColumns,function(h,g){return h.setValueActive(g,o)},function(){},function(){},function(h){var g=h.aggFunc;if(g===null||g==="")return null;if(g!==void 0)return!!g},function(h){return h.initialAggFunc!=null&&h.initialAggFunc!=""}),this.valueColumns.forEach(function(h){var g=h.getColDef();g.aggFunc!=null&&g.aggFunc!=""?h.setAggFunc(g.aggFunc):h.getAggFunc()||h.setAggFunc(g.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(o,c){this.rowGroupColumns=this.extractColumns(c,this.rowGroupColumns,function(h,g){return h.setRowGroupActive(g,o)},function(h){return h.rowGroupIndex},function(h){return h.initialRowGroupIndex},function(h){return h.rowGroup},function(h){return h.initialRowGroup})},e.prototype.extractColumns=function(o,c,h,g,b,$,j){o===void 0&&(o=[]),c===void 0&&(c=[]);var rt=[],nt=[];(this.primaryColumns||[]).forEach(function(Et){var It=o.indexOf(Et)<0,it=Et.getColDef(),st=attrToBoolean($(it)),Mt=attrToBoolean(j(it)),bt=attrToNumber(g(it)),Lt=attrToNumber(b(it)),pt,Dt=st!==void 0,wt=bt!==void 0,Bt=Mt!==void 0,jt=Lt!==void 0;if(Dt?pt=st:wt?bt===null?pt=!1:pt=bt>=0:It?Bt?pt=Mt:jt?pt=Lt!=null&&Lt>=0:pt=!1:pt=c.indexOf(Et)>=0,pt){var hr=It?bt!=null||Lt!=null:bt!=null;hr?rt.push(Et):nt.push(Et)}});var ot=function(Et){var It=g(Et.getColDef()),it=b(Et.getColDef());return It??it};rt.sort(function(Et,It){var it=ot(Et),st=ot(It);return it===st?0:it<st?-1:1});var _t=[].concat(rt);return c.forEach(function(Et){nt.indexOf(Et)>=0&&_t.push(Et)}),nt.forEach(function(Et){_t.indexOf(Et)<0&&_t.push(Et)}),c.forEach(function(Et){_t.indexOf(Et)<0&&h(Et,!1)}),_t.forEach(function(Et){c.indexOf(Et)<0&&h(Et,!0)}),_t},e.prototype.extractPivotColumns=function(o,c){this.pivotColumns=this.extractColumns(c,this.pivotColumns,function(h,g){return h.setPivotActive(g,o)},function(h){return h.pivotIndex},function(h){return h.initialPivotIndex},function(h){return h.pivot},function(h){return h.initialPivot})},e.prototype.resetColumnGroupState=function(o){o===void 0&&(o="api");var c=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(h){if(h instanceof ProvidedColumnGroup){var g=h.getColGroupDef(),b={groupId:h.getGroupId(),open:g?g.openByDefault:void 0};c.push(b)}}),this.setColumnGroupState(c,o)},e.prototype.getColumnGroupState=function(){var o=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){c instanceof ProvidedColumnGroup&&o.push({groupId:c.getGroupId(),open:c.isExpanded()})}),o},e.prototype.setColumnGroupState=function(o,c){var h=this;c===void 0&&(c="api"),this.columnAnimationService.start();var g=[];o.forEach(function(b){var $=b.groupId,j=b.open,rt=h.getProvidedColumnGroup($);rt&&rt.isExpanded()!==j&&(h.logger.log("columnGroupOpened("+rt.getGroupId()+","+j+")"),rt.setExpanded(j),g.push(rt))}),this.updateGroupsAndDisplayedColumns(c),this.setFirstRightAndLastLeftPinned(c),g.forEach(function(b){var $={type:Events.EVENT_COLUMN_GROUP_OPENED,columnGroup:b};h.eventService.dispatchEvent($)}),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(o,c,h){h===void 0&&(h="api");var g;o instanceof ProvidedColumnGroup?g=o.getId():g=o||"",this.setColumnGroupState([{groupId:g,open:c}],h)},e.prototype.getProvidedColumnGroup=function(o){typeof o!="string"&&console.error("AG Grid: group key must be a string");var c=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(h){h instanceof ProvidedColumnGroup&&h.getId()===o&&(c=h)}),c},e.prototype.calculateColumnsForDisplay=function(){var o=this,c;return this.pivotMode&&missing(this.secondaryColumns)?c=this.gridColumns.filter(function(h){var g=o.groupAutoColumns&&includes(o.groupAutoColumns,h),b=o.valueColumns&&includes(o.valueColumns,h);return g||b}):c=this.gridColumns.filter(function(h){var g=o.groupAutoColumns&&includes(o.groupAutoColumns,h);return g||h.isVisible()}),c},e.prototype.checkColSpanActiveInCols=function(o){var c=!1;return o.forEach(function(h){exists(h.getColDef().colSpan)&&(c=!0)}),c},e.prototype.calculateColumnsForGroupDisplay=function(){var o=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var c=function(h){var g=h.getColDef(),b=g.showRowGroup;g&&exists(b)&&(o.groupDisplayColumns.push(h),typeof b=="string"?o.groupDisplayColumnsMap[b]=h:b===!0&&o.getRowGroupColumns().forEach(function($){o.groupDisplayColumnsMap[$.getId()]=h}))};this.gridColumns.forEach(c),this.groupAutoColumns&&this.groupAutoColumns.forEach(c)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(o){return this.groupDisplayColumnsMap[o]},e.prototype.updateDisplayedColumns=function(o){var c=this.calculateColumnsForDisplay();this.buildDisplayedTrees(c),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(o),this.setFirstRightAndLastLeftPinned(o)},e.prototype.isSecondaryColumnsPresent=function(){return exists(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(o,c){var h=this;c===void 0&&(c="api");var g=o&&o.length>0;if(!(!g&&missing(this.secondaryColumns))){if(g){this.processSecondaryColumnDefinitions(o);var b=this.columnFactory.createColumnTree(o,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=b.columnTree,this.secondaryHeaderRowCount=b.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function($){return h.secondaryColumnsMap[$.getId()]=$}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(c)}},e.prototype.processSecondaryColumnDefinitions=function(o){var c=this.gridOptionsWrapper.getProcessPivotResultColDefFunc(),h=this.gridOptionsWrapper.getProcessPivotResultColGroupDefFunc();if(!(!c&&!h)){var g=function(b){b.forEach(function($){var j=exists($.children);if(j){var rt=$;h&&h(rt),g(rt.children)}else{var nt=$;c&&c(nt)}})};o&&g(o)}},e.prototype.updateGridColumns=function(){var o=this,c=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var h=void 0;if(this.secondaryColumns&&this.secondaryBalancedTree){var g=this.secondaryColumns.every(function(rt){return o.gridColumnsMap[rt.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,g&&(h=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,h=this.lastPrimaryOrder);var b=this.createGroupAutoColumnsIfNeeded();if(b&&h){var $=convertToMap(this.groupAutoColumns.map(function(rt){return[rt,!0]}));h=h.filter(function(rt){return!$.has(rt)}),h=__spread$f(this.groupAutoColumns,h)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(h),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(rt){return o.gridColumnsMap[rt.getId()]=rt}),this.setAutoHeightActive(),!areEqual(c,this.gridBalancedTree)){var j={type:Events.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(j)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(g){return g.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var o=this.rowModel.getType(),c=o===Constants.ROW_MODEL_TYPE_CLIENT_SIDE||o===Constants.ROW_MODEL_TYPE_SERVER_SIDE;if(!c){var h="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";doOnce(function(){return console.warn(h)},"autoHeightActive.wrongRowModel")}}},e.prototype.orderGridColsLike=function(o){if(!missing(o)){var c=convertToMap(o.map(function(nt,ot){return[nt,ot]})),h=!0;if(this.gridColumns.forEach(function(nt){c.has(nt)&&(h=!1)}),!h){var g=convertToMap(this.gridColumns.map(function(nt){return[nt,!0]})),b=o.filter(function(nt){return g.has(nt)}),$=convertToMap(b.map(function(nt){return[nt,!0]})),j=this.gridColumns.filter(function(nt){return!$.has(nt)}),rt=b.slice();j.forEach(function(nt){var ot=nt.getOriginalParent();if(!ot){rt.push(nt);return}for(var _t=[];!_t.length&&ot;){var Et=ot.getLeafColumns();Et.forEach(function(st){var Mt=rt.indexOf(st)>=0,bt=_t.indexOf(st)<0;Mt&&bt&&_t.push(st)}),ot=ot.getOriginalParent()}if(!_t.length){rt.push(nt);return}var It=_t.map(function(st){return rt.indexOf(st)}),it=Math.max.apply(Math,__spread$f(It));insertIntoArray(rt,nt,it+1)}),this.gridColumns=rt}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},e.prototype.placeLockedColumns=function(o){var c=[],h=[],g=[];return o.forEach(function(b){var $=b.getColDef().lockPosition;$==="right"?g.push(b):$==="left"||$===!0?c.push(b):h.push(b)}),__spread$f(c,h,g)},e.prototype.addAutoGroupToGridColumns=function(){if(!missing(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var o=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=o.concat(this.gridBalancedTree)}},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(o){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(o),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var c={type:Events.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(c)},e.prototype.deriveDisplayedColumns=function(o){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(o),this.displayedAutoHeightCols=this.displayedColumns.filter(function(c){return c.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(o){this.setLeftValuesOfColumns(o),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(o){var c=this;if(this.primaryColumns){var h=this.primaryColumns.slice(0),g=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(b){if(g){var $=c.getWidthOfColsInList(b);b.forEach(function(rt){$-=rt.getActualWidth(),rt.setLeft($,o)})}else{var j=0;b.forEach(function(rt){rt.setLeft(j,o),j+=rt.getActualWidth()})}removeAllFromArray(h,b)}),h.forEach(function(b){b.setLeft(null,o)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(o){o.forEach(function(c){if(c instanceof ColumnGroup){var h=c;h.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(o,c){c.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(o,function(h){h instanceof Column&&c.push(h)})},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(o,c){var h;switch(o){case Constants.PINNED_LEFT:h=this.viewportRowLeft[c];break;case Constants.PINNED_RIGHT:h=this.viewportRowRight[c];break;default:h=this.viewportRowCenter[c];break}return missing(h)&&(h=[]),h},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var o={};this.headerViewportColumns.forEach(function(h){return o[h.getId()]=!0});var c=function(h,g,b){for(var $=!1,j=0;j<h.length;j++){var rt=h[j],nt=!1;if(rt instanceof Column)nt=o[rt.getId()]===!0;else{var ot=rt,_t=ot.getDisplayedChildren();_t&&(nt=c(_t,g,b+1))}nt&&($=!0,g[b]||(g[b]=[]),g[b].push(rt))}return $};c(this.displayedTreeLeft,this.viewportRowLeft,0),c(this.displayedTreeRight,this.viewportRowRight,0),c(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var o=function(g){return g.getId()+"-"+(g.getPinned()||"normal")};this.extractViewportColumns();var c=this.viewportColumns.map(o).join("#"),h=this.viewportColumnsHash!==c;return h&&(this.viewportColumnsHash=c,this.calculateHeaderRows()),h},e.prototype.refreshFlexedColumns=function(o){var c=this;o===void 0&&(o={});var h=o.source?o.source:"flex";if(o.viewportWidth!=null&&(this.flexViewportWidth=o.viewportWidth),!this.flexViewportWidth)return[];var g=-1;o.resizingCols&&o.resizingCols.forEach(function(pt){var Dt=c.displayedColumnsCenter.indexOf(pt);g<Dt&&(g=Dt)});var b=function(pt){var Dt=c.displayedColumnsCenter.indexOf(pt)>g;return pt.getFlex()&&Dt},$=this.displayedColumnsCenter.filter(function(pt){return!b(pt)}),j=this.displayedColumnsCenter.filter(function(pt){return b(pt)}),rt=[];if(!j.length)return[];var nt=[],ot;e:for(;;){var _t=j.reduce(function(pt,Dt){return pt+Dt.getFlex()},0);ot=this.flexViewportWidth-this.getWidthOfColsInList($);for(var Et=0;Et<j.length;Et++){var It=j[Et],it=ot*It.getFlex()/_t,st=0,Mt=It.getMinWidth(),bt=It.getMaxWidth();if(exists(Mt)&&it<Mt?st=Mt:exists(bt)&&it>bt&&(st=bt),st){It.setActualWidth(st,h),removeFromArray(j,It),rt.push(It),$.push(It);continue e}nt[Et]=Math.round(it)}break}var Lt=ot;return j.forEach(function(pt,Dt){pt.setActualWidth(Math.min(nt[Dt],Lt),h),rt.push(pt),Lt-=nt[Dt]}),o.skipSetLeft||this.setLeftValues(h),o.updateBodyWidths&&this.updateBodyWidths(),o.fireResizedEvent&&this.fireColumnResizedEvent(rt,!0,h,j),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),j},e.prototype.sizeColumnsToFit=function(o,c,h,g){c===void 0&&(c="sizeColumnsToFit");var b,$,j,rt,nt,ot,_t,Et,It,it,st,Mt={};g&&(($=(b=g)===null||b===void 0?void 0:b.columnLimits)===null||$===void 0||$.forEach(function(Nn){var eo=Nn.key,uo=__rest$2(Nn,["key"]);Mt[typeof eo=="string"?eo:eo.getColId()]=uo}));var bt=this.getAllDisplayedColumns(),Lt=o===this.getWidthOfColsInList(bt);if(!(o<=0||!bt.length||Lt)){var pt=[],Dt=[];bt.forEach(function(Nn){Nn.getColDef().suppressSizeToFit===!0?Dt.push(Nn):pt.push(Nn)});var wt=pt.slice(0),Bt=!1,jt=function(Nn){removeFromArray(pt,Nn),Dt.push(Nn)};for(pt.forEach(function(Nn){return Nn.resetActualWidth(c)});!Bt;){Bt=!0;var hr=o-this.getWidthOfColsInList(Dt);if(hr<=0)pt.forEach(function(Nn){var eo,uo,wo,bo,es=(wo=(uo=(eo=Mt)===null||eo===void 0?void 0:eo[Nn.getId()])===null||uo===void 0?void 0:uo.minWidth,wo??((bo=g)===null||bo===void 0?void 0:bo.defaultMinWidth));if(typeof es=="number"){Nn.setActualWidth(es);return}Nn.setMinimum(c)});else for(var gr=hr/this.getWidthOfColsInList(pt),Cr=hr,wr=pt.length-1;wr>=0;wr--){var yr=pt[wr],xr=(j=Mt)===null||j===void 0?void 0:j[yr.getId()],In=(nt=(rt=xr)===null||rt===void 0?void 0:rt.minWidth,nt??((ot=g)===null||ot===void 0?void 0:ot.defaultMinWidth)),rn=(Et=(_t=xr)===null||_t===void 0?void 0:_t.maxWidth,Et??((It=g)===null||It===void 0?void 0:It.defaultMaxWidth)),Sr=(it=yr.getMinWidth(),it??0),Tr=(st=yr.getMaxWidth(),st??Number.MAX_VALUE),Ln=typeof In=="number"&&In>Sr?In:yr.getMinWidth(),Fn=typeof rn=="number"&&rn<Tr?rn:yr.getMaxWidth(),Or=Math.round(yr.getActualWidth()*gr);exists(Ln)&&Or<Ln?(Or=Ln,jt(yr),Bt=!1):exists(Fn)&&Or>Fn?(Or=Fn,jt(yr),Bt=!1):wr===0&&(Or=Cr),yr.setActualWidth(Or,c,!0),Cr-=Or}}wt.forEach(function(Nn){Nn.fireColumnWidthChangedEvent(c)}),this.setLeftValues(c),this.updateBodyWidths(),!h&&this.fireColumnResizedEvent(wt,!0,c)}},e.prototype.buildDisplayedTrees=function(o){var c=[],h=[],g=[];o.forEach(function($){switch($.getPinned()){case"left":c.push($);break;case"right":h.push($);break;default:g.push($);break}});var b=new GroupInstanceIdCreator;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,b,Constants.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(h,this.gridBalancedTree,b,Constants.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(g,this.gridBalancedTree,b,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var o=this;this.displayedColumnsAndGroupsMap={};var c=function(h){o.displayedColumnsAndGroupsMap[h.getUniqueId()]=h};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,c),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,c),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,c)},e.prototype.isDisplayed=function(o){var c=this.displayedColumnsAndGroupsMap[o.getUniqueId()];return c===o},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var o=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(o,function(c){if(c instanceof ColumnGroup){var h=c;h.calculateDisplayedColumns()}})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var o=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),c=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn(),h=this.rowGroupColumns.length>0||this.usingTreeData,g=h&&!c&&!o;if(g){var b=this.groupAutoColumns||[],$=this.autoGroupColService.createAutoGroupColumns(b,this.rowGroupColumns),j=!this.autoColsEqual($,this.groupAutoColumns);if(j||this.forceRecreateAutoGroups)return this.groupAutoColumns=$,!0}else this.groupAutoColumns=null;return!1},e.prototype.autoColsEqual=function(o,c){return areEqual(o,c,function(h,g){return h.getColId()===g.getColId()})},e.prototype.getWidthOfColsInList=function(o){return o.reduce(function(c,h){return c+h.getActualWidth()},0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){if(!this.gridColumns)return!1;var o=this.gridColumns.some(function(c){return c.getColDef().floatingFilter});return o},e.prototype.getFirstDisplayedColumn=function(){var o=this.gridOptionsWrapper.isEnableRtl(),c=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];o&&c.reverse();for(var h=0;h<c.length;h++){var g=this[c[h]]();if(g.length)return o?last(g):g[0]}return null},e.prototype.setColumnHeaderHeight=function(o,c){var h=o.setAutoHeaderHeight(c);if(h){var g={type:Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:o,columns:[o],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(g)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.gridOptionsWrapper.getPivotGroupHeaderHeight():this.gridOptionsWrapper.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var o=this.isPivotMode()?this.gridOptionsWrapper.getPivotHeaderHeight():this.gridOptionsWrapper.getHeaderHeight(),c=this.getAllDisplayedColumns().filter(function(h){return h.isAutoHeaderHeight()}).map(function(h){return h.getAutoHeaderHeight()||0});return Math.max.apply(Math,__spread$f([o],c))},__decorate$2u([Autowired("expressionService")],e.prototype,"expressionService",void 0),__decorate$2u([Autowired("columnFactory")],e.prototype,"columnFactory",void 0),__decorate$2u([Autowired("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),__decorate$2u([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$2u([Autowired("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),__decorate$2u([Autowired("columnUtils")],e.prototype,"columnUtils",void 0),__decorate$2u([Autowired("columnAnimationService")],e.prototype,"columnAnimationService",void 0),__decorate$2u([Autowired("autoGroupColService")],e.prototype,"autoGroupColService",void 0),__decorate$2u([Optional("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$2u([Optional("valueCache")],e.prototype,"valueCache",void 0),__decorate$2u([Optional("animationFrameService")],e.prototype,"animationFrameService",void 0),__decorate$2u([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$2u([Autowired("sortController")],e.prototype,"sortController",void 0),__decorate$2u([Autowired("columnDefFactory")],e.prototype,"columnDefFactory",void 0),__decorate$2u([PostConstruct],e.prototype,"init",null),__decorate$2u([__param$7(0,Qualifier("loggerFactory"))],e.prototype,"setBeans",null),e=__decorate$2u([Bean("columnModel")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2S=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2t=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ColumnUtils=function(a){__extends$2S(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(o){return o.minWidth!=null?o.minWidth:this.gridOptionsWrapper.getMinColWidth()},e.prototype.calculateColMaxWidth=function(o){return o.maxWidth!=null?o.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(o){var c=this.calculateColMinWidth(o),h=this.calculateColMaxWidth(o),g,b=attrToNumber(o.width),$=attrToNumber(o.initialWidth);return b!=null?g=b:$!=null?g=$:g=this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(g,h),c)},e.prototype.getOriginalPathForColumn=function(o,c){var h=[],g=!1,b=function($,j){for(var rt=0;rt<$.length;rt++){if(g)return;var nt=$[rt];if(nt instanceof ProvidedColumnGroup){var ot=nt;b(ot.getChildren(),j+1),h[j]=nt}else nt===o&&(g=!0)}};return b(c,0),g?h:null},e.prototype.depthFirstOriginalTreeSearch=function(o,c,h){var g=this;c&&c.forEach(function(b){b instanceof ProvidedColumnGroup&&g.depthFirstOriginalTreeSearch(b,b.getChildren(),h),h(b,o)})},e.prototype.depthFirstAllColumnTreeSearch=function(o,c){var h=this;o&&o.forEach(function(g){g instanceof ColumnGroup&&h.depthFirstAllColumnTreeSearch(g.getChildren(),c),c(g)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(o,c){var h=this;o&&o.forEach(function(g){g instanceof ColumnGroup&&h.depthFirstDisplayedColumnTreeSearch(g.getDisplayedChildren(),c),c(g)})},e=__decorate$2t([Bean("columnUtils")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2R=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2s=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DisplayedGroupCreator=function(a){__extends$2R(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(o,c,h,g,b){var $=this,j=[],rt,nt,ot=this.mapOldGroupsById(b);return o.forEach(function(_t){for(var Et=$.getOriginalPathForColumn(c,_t),It=[],it=!nt,st=0;st<Et.length;st++)if(it||Et[st]!==nt[st]){var Mt=$.createColumnGroup(Et[st],h,ot,g);It[st]=Mt,st==0?j.push(Mt):It[st-1].addChild(Mt)}else It[st]=rt[st];var bt=It.length===0;if(bt)j.push(_t);else{var Lt=last(It);Lt.addChild(_t)}rt=It,nt=Et}),this.setupParentsIntoColumns(j,null),j},e.prototype.createColumnGroup=function(o,c,h,g){var b=o.getGroupId(),$=c.getInstanceIdForKey(b),j=ColumnGroup.createUniqueId(b,$),rt=h[j];return rt&&rt.getProvidedColumnGroup()!==o&&(rt=null),exists(rt)?rt.reset():(rt=new ColumnGroup(o,b,$,g),this.context.createBean(rt)),rt},e.prototype.mapOldGroupsById=function(o){var c={},h=function(g){g.forEach(function(b){if(b instanceof ColumnGroup){var $=b;c[b.getUniqueId()]=$,h($.getChildren())}})};return o&&h(o),c},e.prototype.setupParentsIntoColumns=function(o,c){var h=this;o.forEach(function(g){if(g.setParent(c),g instanceof ColumnGroup){var b=g;h.setupParentsIntoColumns(b.getChildren(),b)}})},e.prototype.getOriginalPathForColumn=function(o,c){var h=[],g=!1,b=function($,j){for(var rt=0;rt<$.length;rt++){if(g)return;var nt=$[rt];nt instanceof ProvidedColumnGroup?(b(nt.getChildren(),j+1),h[j]=nt):nt===c&&(g=!0)}};return b(o,0),g?h:(console.warn("AG Grid: could not get path"),null)},e=__decorate$2s([Bean("displayedGroupCreator")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2Q=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2r=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgStackComponentsRegistry=function(a){__extends$2Q(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.componentsMappedByName={},o}return e.prototype.setupComponents=function(o){var c=this;o&&o.forEach(function(h){return c.addComponent(h)})},e.prototype.addComponent=function(o){var c=o.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),h=c.toUpperCase();this.componentsMappedByName[h]=o.componentClass},e.prototype.getComponentClass=function(o){return this.componentsMappedByName[o]},e=__decorate$2r([Bean("agStackComponentsRegistry")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$k=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},Color$1=function(){function a(e,o,c,h){h===void 0&&(h=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,o||0)),this.b=Math.min(1,Math.max(0,c||0)),this.a=Math.min(1,Math.max(0,h||0))}return a.fromString=function(e){if(e.indexOf("#")>=0)return a.fromHexString(e);var o=a.nameToHex[e];if(o)return a.fromHexString(o);if(e.indexOf("rgb")>=0)return a.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},a.parseHex=function(e){e=e.replace(/ /g,"").slice(1);var o;switch(e.length){case 6:case 8:o=[];for(var c=0;c<e.length;c+=2)o.push(parseInt(""+e[c]+e[c+1],16));break;case 3:case 4:o=e.split("").map(function(h){return parseInt(h,16)}).map(function(h){return h+h*16});break}if(o.length>=3&&o.every(function(h){return h>=0}))return o.length===3&&o.push(255),o},a.fromHexString=function(e){var o=a.parseHex(e);if(o){var c=__read$k(o,4),h=c[0],g=c[1],b=c[2],$=c[3];return new a(h/255,g/255,b/255,$/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},a.stringToRgba=function(e){for(var o=__read$k([NaN,NaN],2),c=o[0],h=o[1],g=0;g<e.length;g++){var b=e[g];if(!c&&b==="(")c=g;else if(b===")"){h=g;break}}var $=c&&h&&e.substring(c+1,h);if($){for(var j=$.split(","),rt=[],g=0;g<j.length;g++){var nt=j[g],ot=parseFloat(nt);if(isNaN(ot))return;nt.indexOf("%")>=0?(ot=Math.max(0,Math.min(100,ot)),ot/=100):g===3?ot=Math.max(0,Math.min(1,ot)):(ot=Math.max(0,Math.min(255,ot)),ot/=255),rt.push(ot)}return rt}},a.fromRgbaString=function(e){var o=a.stringToRgba(e);if(o){if(o.length===3)return new a(o[0],o[1],o[2]);if(o.length===4)return new a(o[0],o[1],o[2],o[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},a.fromArray=function(e){if(e.length===4)return new a(e[0],e[1],e[2],e[3]);if(e.length===3)return new a(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},a.fromHSB=function(e,o,c,h){h===void 0&&(h=1);var g=a.HSBtoRGB(e,o,c);return new a(g[0],g[1],g[2],h)},a.padHex=function(e){return e.length===1?"0"+e:e},a.prototype.toHexString=function(){var e="#"+a.padHex(Math.round(this.r*255).toString(16))+a.padHex(Math.round(this.g*255).toString(16))+a.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=a.padHex(Math.round(this.a*255).toString(16))),e},a.prototype.toRgbaString=function(e){e===void 0&&(e=3);var o=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],c=Math.pow(10,e);return this.a!==1?(o.push(Math.round(this.a*c)/c),"rgba("+o.join(", ")+")"):"rgb("+o.join(", ")+")"},a.prototype.toString=function(){return this.a===1?this.toHexString():this.toRgbaString()},a.prototype.toHSB=function(){return a.RGBtoHSB(this.r,this.g,this.b)},a.RGBtoHSB=function(e,o,c){var h=Math.min(e,o,c),g=Math.max(e,o,c),b=g!==0?(g-h)/g:0,$=NaN;if(h!==g){var j=g-h,rt=(g-e)/j,nt=(g-o)/j,ot=(g-c)/j;e===g?$=ot-nt:o===g?$=2+rt-ot:$=4+nt-rt,$/=6,$<0&&($=$+1)}return[$*360,b,g]},a.HSBtoRGB=function(e,o,c){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var h=0,g=0,b=0;if(o===0)h=g=b=c;else{var $=(e-Math.floor(e))*6,j=$-Math.floor($),rt=c*(1-o),nt=c*(1-o*j),ot=c*(1-o*(1-j));switch($>>0){case 0:h=c,g=ot,b=rt;break;case 1:h=nt,g=c,b=rt;break;case 2:h=rt,g=c,b=ot;break;case 3:h=rt,g=nt,b=c;break;case 4:h=ot,g=rt,b=c;break;case 5:h=c,g=rt,b=nt;break}}return[h,g,b]},a.prototype.derive=function(e,o,c,h){var g=a.RGBtoHSB(this.r,this.g,this.b),b=g[2];b==0&&c>1&&(b=.05);var $=((g[0]+e)%360+360)%360,j=Math.max(Math.min(g[1]*o,1),0);b=Math.max(Math.min(b*c,1),0);var rt=Math.max(Math.min(this.a*h,1),0),nt=a.HSBtoRGB($,j,b);return nt.push(rt),a.fromArray(nt)},a.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},a.prototype.darker=function(){return this.derive(0,1,.7,1)},a.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function stringToArray(a,e){e===void 0&&(e=",");var o=[],c=function(_t){return _t==="\r"||_t===`
`},h=!1;if(a==="")return[[""]];for(var g=function(_t,Et,It){var it=a[It-1],st=a[It],Mt=a[It+1],bt=function(){o[_t]||(o[_t]=[]),o[_t][Et]||(o[_t][Et]="")};if(bt(),st==='"'){if(h)return Mt==='"'?(o[_t][Et]+='"',It++):h=!1,b=_t,$=Et,j=It,"continue";if(it===void 0||it===e||c(it))return h=!0,b=_t,$=Et,j=It,"continue"}if(!h){if(st===e)return Et++,bt(),b=_t,$=Et,j=It,"continue";if(c(st))return Et=0,_t++,bt(),st==="\r"&&Mt===`
`&&It++,b=_t,$=Et,j=It,"continue"}o[_t][Et]+=st,b=_t,$=Et,j=It},b,$,j,rt=0,nt=0,ot=0;ot<a.length;ot++)g(rt,nt,ot),rt=b,nt=$,ot=j;return o}var CsvUtils=Object.freeze({__proto__:null,stringToArray});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var rtlNegativeScroll;function radioCssClass(a,e,o){for(var c=a.parentElement,h=c&&c.firstChild;h;)e&&h.classList.toggle(e,h===a),o&&h.classList.toggle(o,h!==a),h=h.nextSibling}function isFocusableFormField(a){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,o=e.call(a,Constants.INPUT_SELECTOR),c=e.call(a,Constants.FOCUSABLE_EXCLUDE),h=isVisible(a),g=o&&!c&&h;return g}function setDisplayed(a,e){a.classList.toggle("ag-hidden",!e)}function setVisible(a,e){a.classList.toggle("ag-invisible",!e)}function setDisabled(a,e){var o="disabled",c=e?function(h){return h.setAttribute(o,"")}:function(h){return h.removeAttribute(o)};c(a),nodeListForEach(a.querySelectorAll("input"),function(h){return c(h)})}function isElementChildOfClass(a,e,o){for(var c=0;a;){if(a.classList.contains(e))return!0;if(a=a.parentElement,typeof o=="number"){if(++c>o)break}else if(a===o)break}return!1}function getElementSize(a){var e=window.getComputedStyle(a),o=e.height,c=e.width,h=e.paddingTop,g=e.paddingRight,b=e.paddingBottom,$=e.paddingLeft,j=e.marginTop,rt=e.marginRight,nt=e.marginBottom,ot=e.marginLeft,_t=e.boxSizing;return{height:parseFloat(o),width:parseFloat(c),paddingTop:parseFloat(h),paddingRight:parseFloat(g),paddingBottom:parseFloat(b),paddingLeft:parseFloat($),marginTop:parseFloat(j),marginRight:parseFloat(rt),marginBottom:parseFloat(nt),marginLeft:parseFloat(ot),boxSizing:_t}}function getInnerHeight(a){var e=getElementSize(a);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function getInnerWidth(a){var e=getElementSize(a);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function getAbsoluteHeight(a){var e=getElementSize(a),o=e.marginBottom+e.marginTop;return Math.ceil(a.offsetHeight+o)}function getAbsoluteWidth(a){var e=getElementSize(a),o=e.marginLeft+e.marginRight;return Math.ceil(a.offsetWidth+o)}function isRtlNegativeScroll(){if(typeof rtlNegativeScroll=="boolean")return rtlNegativeScroll;var a=document.createElement("div");return a.style.direction="rtl",a.style.width="1px",a.style.height="1px",a.style.position="fixed",a.style.top="0px",a.style.overflow="hidden",a.dir="rtl",a.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(a),a.scrollLeft=1,rtlNegativeScroll=Math.floor(a.scrollLeft)===0,document.body.removeChild(a),rtlNegativeScroll}function getScrollLeft(a,e){var o=a.scrollLeft;return e&&(o=Math.abs(o),isBrowserChrome()&&!isRtlNegativeScroll()&&(o=a.scrollWidth-a.clientWidth-o)),o}function setScrollLeft(a,e,o){o&&(isRtlNegativeScroll()?e*=-1:(isBrowserSafari()||isBrowserChrome())&&(e=a.scrollWidth-a.clientWidth-e)),a.scrollLeft=e}function clearElement(a){for(;a&&a.firstChild;)a.removeChild(a.firstChild)}function removeElement(a,e){removeFromParent(a.querySelector(e))}function removeFromParent(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function isVisible(a){return a.offsetParent!==null}function loadTemplate(a){var e=document.createElement("div");return e.innerHTML=(a||"").trim(),e.firstChild}function appendHtml(a,e){a.lastChild?a.insertAdjacentHTML("afterbegin",e):a.innerHTML=e}function getElementAttribute(a,e){if(a.attributes&&a.attributes[e]){var o=a.attributes[e];return o.value}return null}function offsetHeight(a){return a&&a.clientHeight?a.clientHeight:0}function offsetWidth(a){return a&&a.clientWidth?a.clientWidth:0}function ensureDomOrder(a,e,o){if(!(o&&o.nextSibling===e)){var c=document.activeElement,h=e.contains(c);o?o.nextSibling?a.insertBefore(e,o.nextSibling):a.appendChild(e):a.firstChild&&a.firstChild!==e&&a.insertAdjacentElement("afterbegin",e),h&&c&&browserSupportsPreventScroll()&&c.focus({preventScroll:!0})}}function setDomChildOrder(a,e){for(var o=0;o<e.length;o++){var c=e[o],h=a.children[o];h!==c&&a.insertBefore(c,h)}}function insertWithDomOrder(a,e,o){o?o.insertAdjacentElement("afterend",e):a.firstChild?a.insertAdjacentElement("afterbegin",e):a.appendChild(e)}function prependDC(a,e){exists(a.firstChild)?a.insertBefore(e,a.firstChild):a.appendChild(e)}function addStylesToElement(a,e){e&&Object.keys(e).forEach(function(o){var c=hyphenToCamelCase(o);c&&(a.style[c]=e[o])})}function isHorizontalScrollShowing(a){return a.clientWidth<a.scrollWidth}function isVerticalScrollShowing(a){return a.clientHeight<a.scrollHeight}function setElementWidth(a,e){e==="flex"?(a.style.removeProperty("width"),a.style.removeProperty("minWidth"),a.style.removeProperty("maxWidth"),a.style.flex="1 1 auto"):setFixedWidth(a,e)}function setFixedWidth(a,e){e=formatSize(e),a.style.width=e.toString(),a.style.maxWidth=e.toString(),a.style.minWidth=e.toString()}function setElementHeight(a,e){e==="flex"?(a.style.removeProperty("height"),a.style.removeProperty("minHeight"),a.style.removeProperty("maxHeight"),a.style.flex="1 1 auto"):setFixedHeight(a,e)}function setFixedHeight(a,e){e=formatSize(e),a.style.height=e.toString(),a.style.maxHeight=e.toString(),a.style.minHeight=e.toString()}function formatSize(a){return typeof a=="number"?a+"px":a}function isNode(a){return typeof Node=="function"?a instanceof Node:a&&typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.nodeName=="string"}function isElement(a){return typeof HTMLElement=="function"?a instanceof HTMLElement:a&&isNonNullObject(a)&&a.nodeType===1&&typeof a.nodeName=="string"}function isNodeOrElement(a){return isNode(a)||isElement(a)}function copyNodeList(a){if(a==null)return[];var e=[];return nodeListForEach(a,function(o){return e.push(o)}),e}function iterateNamedNodeMap(a,e){if(a)for(var o=0;o<a.length;o++){var c=a[o];e(c.name,c.value)}}function setCheckboxState(a,e){typeof e=="boolean"?(a.checked=e,a.indeterminate=!1):a.indeterminate=!0}function addOrRemoveAttribute(a,e,o){o==null?a.removeAttribute(e):a.setAttribute(e,o.toString())}function nodeListForEach(a,e){if(a!=null)for(var o=0;o<a.length;o++)e(a[o])}var DomUtils=Object.freeze({__proto__:null,radioCssClass,isFocusableFormField,setDisplayed,setVisible,setDisabled,isElementChildOfClass,getElementSize,getInnerHeight,getInnerWidth,getAbsoluteHeight,getAbsoluteWidth,isRtlNegativeScroll,getScrollLeft,setScrollLeft,clearElement,removeElement,removeFromParent,isVisible,loadTemplate,appendHtml,getElementAttribute,offsetHeight,offsetWidth,ensureDomOrder,setDomChildOrder,insertWithDomOrder,prependDC,addStylesToElement,isHorizontalScrollShowing,isVerticalScrollShowing,setElementWidth,setFixedWidth,setElementHeight,setFixedHeight,formatSize,isNode,isElement,isNodeOrElement,copyNodeList,iterateNamedNodeMap,setCheckboxState,addOrRemoveAttribute,nodeListForEach});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function getNameOfClass(a){var e=/function (.{1,})\(/,o=a.toString(),c=e.exec(o);return c&&c.length>1?c[1]:""}function findLineByLeastSquares(a){var e=a.length,o=0;if(e<=1)return a;for(var c=0;c<a.length;c++){var h=a[c],g=h.toString().split("e-");if(g.length>1){o=Math.max(o,parseInt(g[1],10));continue}Math.floor(h)!==h&&(o=Math.max(o,h.toString().split(".")[1].length))}for(var b=0,$=0,j=0,rt=0,nt=0,ot=0;ot<e;ot++)nt=a[ot],b+=ot,$+=nt,rt+=ot*ot,j+=ot*nt;for(var _t=(e*j-b*$)/(e*rt-b*b),Et=$/e-_t*b/e,It=[],ot=0;ot<=e;ot++)It.push(parseFloat((ot*_t+Et).toFixed(o)));return It}function cssStyleObjectToMarkup(a){if(!a)return"";var e=[];return iterateObject(a,function(o,c){var h=camelCaseToHyphen(o);e.push(h+": "+c+";")}),e.join(" ")}function message(a){var e=document.createElement("div"),o=document.querySelector("#__ag__message");if(e.innerHTML=a,!o){var c='<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>';o=loadTemplate(c),document.body&&document.body.appendChild(o)}o.insertBefore(e,o.children[0])}function bindCellRendererToHtmlElement(a,e){a.then(function(o){var c=o.getGui();c!=null&&(typeof c=="object"?e.appendChild(c):e.innerHTML=c)})}var GeneralUtils=Object.freeze({__proto__:null,getNameOfClass,findLineByLeastSquares,cssStyleObjectToMarkup,message,bindCellRendererToHtmlElement});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function setAriaAttribute(a,e,o){a.setAttribute(ariaAttributeName(e),o.toString())}function removeAriaAttribute(a,e){a.removeAttribute(ariaAttributeName(e))}function ariaAttributeName(a){return"aria-"+a}function setAriaRole(a,e){e?a.setAttribute("role",e):a.removeAttribute("role")}function getAriaSortState(a){var e;return a.isSortAscending()?e="ascending":a.isSortDescending()?e="descending":e="none",e}function getAriaLevel(a){return parseInt(a.getAttribute("aria-level"),10)}function getAriaPosInSet(a){return parseInt(a.getAttribute("aria-posinset"),10)}function getAriaDescribedBy(a){return a.getAttribute("aria-describedby")||""}function setAriaLabel(a,e){var o="label";e!=null&&e!==""?setAriaAttribute(a,o,e):removeAriaAttribute(a,o)}function setAriaLabelledBy(a,e){var o="labelledby";e?setAriaAttribute(a,o,e):removeAriaAttribute(a,o)}function setAriaDescription(a,e){var o="description";e?setAriaAttribute(a,o,e):removeAriaAttribute(a,o)}function setAriaDescribedBy(a,e){var o="describedby";e?setAriaAttribute(a,o,e):removeAriaAttribute(a,o)}function setAriaLevel(a,e){setAriaAttribute(a,"level",e)}function setAriaDisabled(a,e){setAriaAttribute(a,"disabled",e)}function setAriaHidden(a,e){e?setAriaAttribute(a,"hidden",!0):removeAriaAttribute(a,"hidden")}function setAriaExpanded(a,e){setAriaAttribute(a,"expanded",e)}function removeAriaExpanded(a){removeAriaAttribute(a,"expanded")}function setAriaSetSize(a,e){setAriaAttribute(a,"setsize",e)}function setAriaPosInSet(a,e){setAriaAttribute(a,"posinset",e)}function setAriaMultiSelectable(a,e){setAriaAttribute(a,"multiselectable",e)}function setAriaRowCount(a,e){setAriaAttribute(a,"rowcount",e)}function setAriaRowIndex(a,e){setAriaAttribute(a,"rowindex",e)}function setAriaColCount(a,e){setAriaAttribute(a,"colcount",e)}function setAriaColIndex(a,e){setAriaAttribute(a,"colindex",e)}function setAriaColSpan(a,e){setAriaAttribute(a,"colspan",e)}function setAriaSort(a,e){setAriaAttribute(a,"sort",e)}function removeAriaSort(a){removeAriaAttribute(a,"sort")}function setAriaSelected(a,e){var o="selected";e?setAriaAttribute(a,o,e):removeAriaAttribute(a,o)}function setAriaChecked(a,e){setAriaAttribute(a,"checked",e===void 0?"mixed":e)}var AriaUtils=Object.freeze({__proto__:null,setAriaRole,getAriaSortState,getAriaLevel,getAriaPosInSet,getAriaDescribedBy,setAriaLabel,setAriaLabelledBy,setAriaDescription,setAriaDescribedBy,setAriaLevel,setAriaDisabled,setAriaHidden,setAriaExpanded,removeAriaExpanded,setAriaSetSize,setAriaPosInSet,setAriaMultiSelectable,setAriaRowCount,setAriaRowIndex,setAriaColCount,setAriaColIndex,setAriaColSpan,setAriaSort,removeAriaSort,setAriaSelected,setAriaChecked});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$j=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g};function serialiseDate(a,e,o){if(e===void 0&&(e=!0),o===void 0&&(o="-"),!a)return null;var c=[a.getFullYear(),a.getMonth()+1,a.getDate()].map(function(h){return padStartWidthZeros(h,2)}).join(o);return e&&(c+=" "+[a.getHours(),a.getMinutes(),a.getSeconds()].map(function(h){return padStartWidthZeros(h,2)}).join(":")),c}var calculateOrdinal=function(a){if(a>3&&a<21)return"th";var e=a%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function dateToFormattedString(a,e){e===void 0&&(e="YYYY-MM-DD");var o=padStartWidthZeros(a.getFullYear(),4),c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g={YYYY:function(){return o.slice(o.length-4,o.length)},YY:function(){return o.slice(o.length-2,o.length)},Y:function(){return""+a.getFullYear()},MMMM:function(){return c[a.getMonth()]},MMM:function(){return c[a.getMonth()].slice(0,3)},MM:function(){return padStartWidthZeros(a.getMonth()+1,2)},Mo:function(){return""+(a.getMonth()+1)+calculateOrdinal(a.getMonth()+1)},M:function(){return""+(a.getMonth()+1)},Do:function(){return""+a.getDate()+calculateOrdinal(a.getDate())},DD:function(){return padStartWidthZeros(a.getDate(),2)},D:function(){return""+a.getDate()},dddd:function(){return h[a.getDay()]},ddd:function(){return h[a.getDay()].slice(0,3)},dd:function(){return h[a.getDay()].slice(0,2)},do:function(){return""+a.getDay()+calculateOrdinal(a.getDay())},d:function(){return""+a.getDay()}},b=new RegExp(Object.keys(g).join("|"),"g");return e.replace(b,function($){return $ in g?g[$]():$})}function parseDateTimeFromString(a){if(!a)return null;var e=__read$j(a.split(" "),2),o=e[0],c=e[1];if(!o)return null;var h=o.split("-").map(function(It){return parseInt(It,10)});if(h.filter(function(It){return!isNaN(It)}).length!==3)return null;var g=__read$j(h,3),b=g[0],$=g[1],j=g[2],rt=new Date(b,$-1,j);if(rt.getFullYear()!==b||rt.getMonth()!==$-1||rt.getDate()!==j)return null;if(!c||c==="00:00:00")return rt;var nt=__read$j(c.split(":").map(function(It){return parseInt(It,10)}),3),ot=nt[0],_t=nt[1],Et=nt[2];return ot>=0&&ot<24&&rt.setHours(ot),_t>=0&&_t<60&&rt.setMinutes(_t),Et>=0&&Et<60&&rt.setSeconds(Et),rt}var DateUtils=Object.freeze({__proto__:null,serialiseDate,dateToFormattedString,parseDateTimeFromString});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function createIcon(a,e,o){var c=createIconNoSpan(a,e,o);if(c&&c.className.indexOf("ag-icon")>-1)return c;var h=document.createElement("span");return h.appendChild(c),h}function createIconNoSpan(a,e,o,c){var h=null,g=o&&o.getColDef().icons;if(g&&(h=g[a]),e&&!h){var b=e.getIcons();b&&(h=b[a])}if(h){var $=void 0;if(typeof h=="function")$=h();else if(typeof h=="string")$=h;else throw new Error("icon from grid options needs to be a string or a function");if(typeof $=="string")return loadTemplate($);if(isNodeOrElement($))return $;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var j=document.createElement("span"),rt=iconNameClassMap[a];return rt||(c?rt=a:(console.warn("AG Grid: Did not find icon "+a),rt="")),j.setAttribute("class","ag-icon ag-icon-"+rt),j.setAttribute("unselectable","on"),setAriaRole(j,"presentation"),j}}var IconUtils=Object.freeze({__proto__:null,iconNameClassMap,createIcon,createIconNoSpan});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var KeyCode=function(){function a(){}return a.BACKSPACE="Backspace",a.TAB="Tab",a.ENTER="Enter",a.ESCAPE="Escape",a.SPACE=" ",a.LEFT="ArrowLeft",a.UP="ArrowUp",a.RIGHT="ArrowRight",a.DOWN="ArrowDown",a.DELETE="Delete",a.F2="F2",a.PAGE_UP="PageUp",a.PAGE_DOWN="PageDown",a.PAGE_HOME="Home",a.PAGE_END="End",a.A="KeyA",a.C="KeyC",a.V="KeyV",a.D="KeyD",a.Z="KeyZ",a.Y="KeyY",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var NUMPAD_DEL_NUMLOCK_ON_KEY="Del",NUMPAD_DEL_NUMLOCK_ON_KEYCODE=46,A_KEYCODE=65,C_KEYCODE=67,V_KEYCODE=86,D_KEYCODE=68,Z_KEYCODE=90,Y_KEYCODE=89;function isEventFromPrintableCharacter(a){if(a.altKey||a.ctrlKey||a.metaKey)return!1;var e=a.key.length===1,o=isNumpadDelWithNumLockOnForEdge(a);return e||o}function isUserSuppressingKeyboardEvent(a,e,o,c,h){var g=a.getSuppressKeyboardEventFunc(),b=c?c.getColDef().suppressKeyboardEvent:void 0;if(!g&&!b)return!1;var $={event:e,editing:h,column:c,api:a.getApi(),node:o,data:o.data,colDef:c.getColDef(),context:a.getContext(),columnApi:a.getColumnApi()};if(b){var j=b($);if(j)return!0}return g?g($):!1}function isUserSuppressingHeaderKeyboardEvent(a,e,o,c){var h=c.getDefinition(),g=h&&h.suppressHeaderKeyboardEvent;if(!exists(g))return!1;var b={api:a.getApi(),columnApi:a.getColumnApi(),context:a.getContext(),colDef:h,column:c,headerRowIndex:o,event:e};return!!g(b)}function isNumpadDelWithNumLockOnForEdge(a){return isBrowserEdge()&&a.key===NUMPAD_DEL_NUMLOCK_ON_KEY&&a.charCode===NUMPAD_DEL_NUMLOCK_ON_KEYCODE}function normaliseQwertyAzerty(a){var e=a.keyCode,o;switch(e){case A_KEYCODE:o=KeyCode.A;break;case C_KEYCODE:o=KeyCode.C;break;case V_KEYCODE:o=KeyCode.V;break;case D_KEYCODE:o=KeyCode.D;break;case Z_KEYCODE:o=KeyCode.Z;break;case Y_KEYCODE:o=KeyCode.Y;break;default:o=a.code}return o}function isDeleteKey(a,e){return e===void 0&&(e=!1),a===KeyCode.DELETE?!0:!e&&a===KeyCode.BACKSPACE?isMacOsUserAgent():!1}var KeyboardUtils=Object.freeze({__proto__:null,isEventFromPrintableCharacter,isUserSuppressingKeyboardEvent,isUserSuppressingHeaderKeyboardEvent,normaliseQwertyAzerty,isDeleteKey});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function areEventsNear(a,e,o){if(o===0)return!1;var c=Math.abs(a.clientX-e.clientX),h=Math.abs(a.clientY-e.clientY);return Math.max(c,h)<=o}var MouseUtils=Object.freeze({__proto__:null,areEventsNear});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function sortRowNodesByOrder(a,e){if(!a)return!1;for(var o=function($,j){var rt=e[$.id],nt=e[j.id],ot=rt!==void 0,_t=nt!==void 0,Et=ot&&_t,It=!ot&&!_t;return Et?rt-nt:It?$.__objectId-j.__objectId:ot?1:-1},c,h,g=!1,b=0;b<a.length-1;b++)if(c=a[b],h=a[b+1],o(c,h)>0){g=!0;break}return g?(a.sort(o),!0):!1}function traverseNodesWithKey(a,e){var o=[];c(a);function c(h){h&&h.forEach(function(g){if(g.group||g.hasChildren()){o.push(g.key);var b=o.join("|");e(g,b),c(g.childrenAfterGroup),o.pop()}})}}var RowNodeUtils=Object.freeze({__proto__:null,sortRowNodesByOrder,traverseNodesWithKey});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function convertToSet(a){var e=new Set;return a.forEach(function(o){return e.add(o)}),e}var SetUtils=Object.freeze({__proto__:null,convertToSet});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$f=function(){return __assign$f=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$f.apply(this,arguments)},utils$1=__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f(__assign$f({},GeneralUtils),AriaUtils),ArrayUtils),BrowserUtils),CsvUtils),DateUtils),DomUtils),EventUtils),FunctionUtils),FuzzyMatchUtils),GenericUtils),IconUtils),KeyboardUtils),MapUtils),MouseUtils),NumberUtils),ObjectUtils),RowNodeUtils),SetUtils),StringUtils),_=utils$1;/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var NumberSequence=function(){function a(e,o){e===void 0&&(e=0),o===void 0&&(o=1),this.nextValue=e,this.step=o}return a.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},a.prototype.peek=function(){return this.nextValue},a.prototype.skip=function(e){this.nextValue+=e},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AgPromiseStatus;(function(a){a[a.IN_PROGRESS=0]="IN_PROGRESS",a[a.RESOLVED=1]="RESOLVED"})(AgPromiseStatus||(AgPromiseStatus={}));var AgPromise=function(){function a(e){var o=this;this.status=AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(c){return o.onDone(c)},function(c){return o.onReject(c)})}return a.all=function(e){return new a(function(o){var c=e.length,h=new Array(c);e.forEach(function(g,b){g.then(function($){h[b]=$,c--,c===0&&o(h)})})})},a.resolve=function(e){return e===void 0&&(e=null),new a(function(o){return o(e)})},a.prototype.then=function(e){var o=this;return new a(function(c){o.status===AgPromiseStatus.RESOLVED?c(e(o.resolution)):o.waiters.push(function(h){return c(e(h))})})},a.prototype.resolveNow=function(e,o){return this.status===AgPromiseStatus.RESOLVED?o(this.resolution):e},a.prototype.onDone=function(e){this.status=AgPromiseStatus.RESOLVED,this.resolution=e,this.waiters.forEach(function(o){return o(e)})},a.prototype.onReject=function(e){console.warn("TBI")},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Timer=function(){function a(){this.timestamp=new Date().getTime()}return a.prototype.print=function(e){var o=new Date().getTime()-this.timestamp;console.info(e+" = "+o),this.timestamp=new Date().getTime()},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2P=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$e=function(){return __assign$e=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$e.apply(this,arguments)},__decorate$2q=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},TooltipStates;(function(a){a[a.NOTHING=0]="NOTHING",a[a.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",a[a.SHOWING=2]="SHOWING"})(TooltipStates||(TooltipStates={}));var CustomTooltipFeature=function(a){__extends$2P(e,a);function e(o){var c=a.call(this)||this;return c.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,c.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,c.SHOW_QUICK_TOOLTIP_DIFF=1e3,c.FADE_OUT_TOOLTIP_TIMEOUT=1e3,c.state=TooltipStates.NOTHING,c.tooltipInstanceCount=0,c.tooltipMouseTrack=!1,c.parentComp=o,c}return e.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var o=this.parentComp.getGui();this.addManagedListener(o,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(o,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(o,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),a.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(o){if(!isIOSUserAgent()&&this.state==TooltipStates.NOTHING){var c=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),c),this.lastMouseEvent=o,this.state=TooltipStates.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===TooltipStates.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=TooltipStates.NOTHING},e.prototype.onMouseMove=function(o){this.lastMouseEvent=o,this.tooltipMouseTrack&&this.state===TooltipStates.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime()),this.state=TooltipStates.NOTHING},e.prototype.destroyTooltipComp=function(){var o=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var c=this.tooltipPopupDestroyFunc,h=this.tooltipComp;window.setTimeout(function(){c(),o.getContext().destroyBean(h)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){var o=new Date().getTime(),c=e.lastTooltipHideTime;return o-c<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var o=__assign$e({},this.parentComp.getTooltipParams());if(!exists(o.value)){this.setToDoNothing();return}this.state=TooltipStates.SHOWING,this.tooltipInstanceCount++;var c=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),h=this.userComponentFactory.getTooltipCompDetails(o);h.newAgStackInstance().then(c)},e.prototype.newTooltipComponentCallback=function(o,c){var h=this.state!==TooltipStates.SHOWING||this.tooltipInstanceCount!==o;if(h){this.getContext().destroyBean(c);return}var g=c.getGui();this.tooltipComp=c,g.classList.contains("ag-tooltip")||g.classList.add("ag-tooltip-custom");var b=this.gridOptionsWrapper.getLocaleTextFunc(),$=this.popupService.addPopup({eChild:g,ariaLabel:b("ariaLabelTooltip","Tooltip")});$&&(this.tooltipPopupDestroyFunc=$.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},__decorate$2q([Autowired("popupService")],e.prototype,"popupService",void 0),__decorate$2q([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$2q([Autowired("columnApi")],e.prototype,"columnApi",void 0),__decorate$2q([Autowired("gridApi")],e.prototype,"gridApi",void 0),__decorate$2q([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CssClassManager=function(){function a(e){this.cssClassStates={},this.getGui=e}return a.prototype.addCssClass=function(e){var o=this,c=(e||"").split(" ");if(c.length>1){c.forEach(function(b){return o.addCssClass(b)});return}var h=this.cssClassStates[e]!==!0;if(h&&e.length){var g=this.getGui();g&&g.classList.add(e),this.cssClassStates[e]=!0}},a.prototype.removeCssClass=function(e){var o=this,c=(e||"").split(" ");if(c.length>1){c.forEach(function(b){return o.removeCssClass(b)});return}var h=this.cssClassStates[e]!==!1;if(h&&e.length){var g=this.getGui();g&&g.classList.remove(e),this.cssClassStates[e]=!1}},a.prototype.containsCssClass=function(e){var o=this.getGui();return o?o.classList.contains(e):!1},a.prototype.addOrRemoveCssClass=function(e,o){var c=this;if(e){if(e.indexOf(" ")>=0){var h=(e||"").split(" ");if(h.length>1){h.forEach(function($){return c.addOrRemoveCssClass($,o)});return}}var g=this.cssClassStates[e]!==o;if(g&&e.length){var b=this.getGui();b&&b.classList.toggle(e,o),this.cssClassStates[e]=o}}},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2O=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2p=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},compIdSequence=new NumberSequence,Component=function(a){__extends$2O(e,a);function e(o){var c=a.call(this)||this;return c.displayed=!0,c.visible=!0,c.compId=compIdSequence.next(),c.cssClassManager=new CssClassManager(function(){return c.eGui}),o&&c.setTemplate(o),c}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(o){var c=this,h=function(){c.usingBrowserTooltips?c.getGui().removeAttribute("title"):c.tooltipFeature=c.destroyBean(c.tooltipFeature)},g=function(){c.usingBrowserTooltips?c.getGui().setAttribute("title",c.tooltipText):c.tooltipFeature=c.createBean(new CustomTooltipFeature(c))};this.tooltipText!=o&&(this.tooltipText&&h(),o!=null&&(this.tooltipText=o,this.tooltipText&&g()))},e.prototype.createChildComponentsFromTags=function(o,c){var h=this,g=copyNodeList(o.childNodes);g.forEach(function(b){if(b instanceof HTMLElement){var $=h.createComponentFromElement(b,function(rt){var nt=rt.getGui();nt&&h.copyAttributesFromNode(b,rt.getGui())},c);if($){if($.addItems&&b.children.length){h.createChildComponentsFromTags(b,c);var j=Array.prototype.slice.call(b.children);$.addItems(j)}h.swapComponentForNode($,o,b)}else b.childNodes&&h.createChildComponentsFromTags(b,c)}})},e.prototype.createComponentFromElement=function(o,c,h){var g=o.nodeName,b=h?h[o.getAttribute("ref")]:void 0,$=this.agStackComponentsRegistry.getComponentClass(g);if($){e.elementGettingCreated=o;var j=new $(b);return j.setParentComponent(this),this.createBean(j,null,c),j}return null},e.prototype.copyAttributesFromNode=function(o,c){iterateNamedNodeMap(o.attributes,function(h,g){return c.setAttribute(h,g)})},e.prototype.swapComponentForNode=function(o,c,h){var g=o.getGui();c.replaceChild(g,h),c.insertBefore(document.createComment(h.nodeName),g),this.addDestroyFunc(this.destroyBean.bind(this,o)),this.swapInComponentForQuerySelectors(o,h)},e.prototype.swapInComponentForQuerySelectors=function(o,c){var h=this;this.iterateOverQuerySelectors(function(g){h[g.attributeName]===c&&(h[g.attributeName]=o)})},e.prototype.iterateOverQuerySelectors=function(o){for(var c=Object.getPrototypeOf(this);c!=null;){var h=c.__agComponentMetaData,g=getFunctionName(c.constructor);h&&h[g]&&h[g].querySelectors&&h[g].querySelectors.forEach(function(b){return o(b)}),c=Object.getPrototypeOf(c)}},e.prototype.setTemplate=function(o,c){var h=loadTemplate(o);this.setTemplateFromElement(h,c)},e.prototype.setTemplateFromElement=function(o,c){this.eGui=o,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),c)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var o=this;if(this.eGui){var c=this;this.iterateOverQuerySelectors(function(h){var g=function(j){return c[h.attributeName]=j},b=h.refSelector&&o.eGui.getAttribute("ref")===h.refSelector;if(b)g(o.eGui);else{var $=o.eGui.querySelector(h.querySelector);$&&g($.__agComponent||$)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(o){this.parentComponent=o},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(o){this.eGui=o},e.prototype.queryForHtmlElement=function(o){return this.eGui.querySelector(o)},e.prototype.queryForHtmlInputElement=function(o){return this.eGui.querySelector(o)},e.prototype.appendChild=function(o,c){if(o!=null)if(c||(c=this.eGui),isNodeOrElement(o))c.appendChild(o);else{var h=o;c.appendChild(h.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(o){o!==this.visible&&(this.visible=o,setVisible(this.eGui,o))},e.prototype.setDisplayed=function(o){if(o!==this.displayed){this.displayed=o,setDisplayed(this.eGui,o);var c={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(c)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),a.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(o,c){var h=this;this.eGui.addEventListener(o,c),this.addDestroyFunc(function(){return h.eGui.removeEventListener(o,c)})},e.prototype.addCssClass=function(o){this.cssClassManager.addCssClass(o)},e.prototype.removeCssClass=function(o){this.cssClassManager.removeCssClass(o)},e.prototype.containsCssClass=function(o){return this.cssClassManager.containsCssClass(o)},e.prototype.addOrRemoveCssClass=function(o,c){this.cssClassManager.addOrRemoveCssClass(o,c)},e.prototype.getAttribute=function(o){var c=this.eGui;return c?c.getAttribute(o):null},e.prototype.getRefElement=function(o){return this.queryForHtmlElement('[ref="'+o+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",__decorate$2p([Autowired("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),__decorate$2p([PreConstruct],e.prototype,"preConstructOnComponent",null),__decorate$2p([PreConstruct],e.prototype,"createChildComponentsPreConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function QuerySelector(a){return querySelectorFunc.bind(this,a,void 0)}function RefSelector(a){return querySelectorFunc.bind(this,"[ref="+a+"]",a)}function querySelectorFunc(a,e,o,c,h){if(a===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof h=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}addToObjectProps(o,"querySelectors",{attributeName:c,querySelector:a,refSelector:e})}function addToObjectProps(a,e,o){var c=getOrCreateProps(a,getFunctionName(a.constructor));c[e]||(c[e]=[]),c[e].push(o)}function getOrCreateProps(a,e){return a.__agComponentMetaData||(a.__agComponentMetaData={}),a.__agComponentMetaData[e]||(a.__agComponentMetaData[e]={}),a.__agComponentMetaData[e]}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2N=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2o=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ReadOnlyFloatingFilter=function(a){__extends$2N(e,a);function e(){return a.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.prototype.init=function(o){this.params=o;var c=this.columnModel.getDisplayNameForColumn(o.column,"header",!0),h=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(c+" "+h("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(o){var c=this;if(!o){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(h){if(h.getModelAsString){var g=h.getModelAsString(o);c.eFloatingFilterText.setValue(g)}})},__decorate$2o([RefSelector("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),__decorate$2o([Autowired("columnModel")],e.prototype,"columnModel",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DateCompWrapper=function(){function a(e,o,c,h){var g=this;this.alive=!0,this.context=e,this.eParent=h;var b=o.getDateCompDetails(c),$=b.newAgStackInstance();$.then(function(j){if(!g.alive){e.destroyBean(j);return}g.dateComp=j,j&&(h.appendChild(j.getGui()),j.afterGuiAttached&&j.afterGuiAttached(),g.tempValue&&j.setDate(g.tempValue),g.disabled!=null&&g.setDateCompDisabled(g.disabled))})}return a.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},a.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},a.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},a.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},a.prototype.setDisplayed=function(e){setDisplayed(this.eParent,e)},a.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},a.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},a.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},a.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __assign$d=function(){return __assign$d=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$d.apply(this,arguments)},OptionsFactory=function(){function a(){this.customFilterOptions={}}return a.prototype.init=function(e,o){this.filterOptions=e.filterOptions||o,this.mapCustomOptions(),this.selectDefaultItem(e),this.checkForDeprecatedParams()},a.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(e){return typeof e!="string"&&e.test!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(e){return typeof e!="string"&&e.hideFilterInput!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},a.prototype.getFilterOptions=function(){return this.filterOptions},a.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(o){if(typeof o!="string"){var c=[["displayKey"],["displayName"],["predicate","test"]],h=function($){return $.some(function(j){return o[j]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+$+"'"),!1)};if(!c.every(h)){e.filterOptions=e.filterOptions.filter(function($){return $===o})||[];return}var g=o.test,b=__assign$d({},o);g!=null&&o.predicate==null&&(b.predicate=function($,j){return g($[0],j)},delete b.test),b.hideFilterInput&&b.numberOfInputs==null&&(b.numberOfInputs=0,delete b.hideFilterInput),e.customFilterOptions[o.displayKey]=b}})},a.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var o=this.filterOptions[0];typeof o=="string"?this.defaultOption=o:o.displayKey?this.defaultOption=o.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},a.prototype.getDefaultOption=function(){return this.defaultOption},a.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DEFAULT_FILTER_LOCALE_TEXT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2M=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$c=function(){return __assign$c=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$c.apply(this,arguments)},__decorate$2n=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ManagedFocusFeature=function(a){__extends$2M(e,a);function e(o,c){c===void 0&&(c={});var h=a.call(this)||this;return h.eFocusableElement=o,h.callbacks=c,h.callbacks=__assign$c({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(g){if(!g.defaultPrevented){var b=h.focusService.findNextFocusableElement(h.eFocusableElement,!1,g.shiftKey);b&&(b.focus(),g.preventDefault())}}},c),h}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(o){var c=this;this.addManagedListener(o,"keydown",function(h){if(!(h.defaultPrevented||isStopPropagationForAgGrid(h))){if(c.callbacks.shouldStopEventPropagation(h)){stopPropagationForAgGrid(h);return}h.key===KeyCode.TAB?c.callbacks.onTabKeyDown(h):c.callbacks.handleKeyDown&&c.callbacks.handleKeyDown(h)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",__decorate$2n([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$2n([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2L=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2m=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ProvidedFilter=function(a){__extends$2L(e,a);function e(o){var c=a.call(this)||this;return c.filterNameKey=o,c.applyActive=!1,c.hidePopup=null,c.appliedModel=null,c}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},e.prototype.handleKeyDown=function(o){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(o){var c=this.getGui();c&&c.removeEventListener("submit",this.onFormSubmit);var h=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`+this.getCssIdentifier()+`-body-wrapper">
                    `+this.createBodyTemplate()+`
                </div>
            </form>`;this.setTemplate(h,o),c=this.getGui(),c&&c.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(o){var c=this;this.setParams(o),this.resetUiToDefaults(!0).then(function(){c.updateUiVisibility(),c.setupOnBtApplyDebounce()})},e.prototype.setParams=function(o){this.providedFilterParams=o,this.applyActive=e.isUseApplyButton(o),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var o=this,c=this.providedFilterParams.buttons;if(!(!c||c.length<1||this.isReadOnly())){var h=document.createElement("div");h.classList.add("ag-filter-apply-panel");var g=function(b){var $,j;switch(b){case"apply":$=o.translate("applyFilter"),j=function(ot){return o.onBtApply(!1,!1,ot)};break;case"clear":$=o.translate("clearFilter"),j=function(){return o.onBtClear()};break;case"reset":$=o.translate("resetFilter"),j=function(){return o.onBtReset()};break;case"cancel":$=o.translate("cancelFilter"),j=function(ot){o.onBtCancel(ot)};break;default:console.warn("AG Grid: Unknown button type specified");return}var rt=b==="apply"?"submit":"button",nt=loadTemplate(`<button
                    type="`+rt+`"
                    ref="`+b+`FilterButton"
                    class="ag-standard-button ag-filter-apply-panel-button"
                >`+$+`
                </button>`);h.appendChild(nt),o.addManagedListener(nt,"click",j)};convertToSet(c).forEach(function(b){return g(b)}),this.getGui().appendChild(h)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var o=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=debounce$2(this.onBtApply.bind(this),o)},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(o){var c=this,h=o!=null?this.setModelIntoUi(o):this.resetUiToDefaults();return h.then(function(){c.updateUiVisibility(),c.applyModel()})},e.prototype.onBtCancel=function(o){var c=this,h=this.getModel(),g=function(){c.onUiChanged(!1,"prevent"),c.providedFilterParams.closeOnApply&&c.close(o)};h!=null?this.setModelIntoUi(h).then(g):this.resetUiToDefaults().then(g)},e.prototype.onBtClear=function(){var o=this;this.resetUiToDefaults().then(function(){return o.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(){var o=this.getModelFromUi();if(!this.isModelValid(o))return!1;var c=this.appliedModel;return this.appliedModel=o,!this.areModelsEqual(c,o)},e.prototype.isModelValid=function(o){return!0},e.prototype.onFormSubmit=function(o){o.preventDefault()},e.prototype.onBtApply=function(o,c,h){o===void 0&&(o=!1),c===void 0&&(c=!1),h&&h.preventDefault(),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:o,afterDataChange:c});var g=this.providedFilterParams.closeOnApply;g&&this.applyActive&&!o&&!c&&this.close(h)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(o){if(this.hidePopup){var c=o,h=c&&c.key,g;(h==="Enter"||h==="Space")&&(g={keyboardEvent:c}),this.hidePopup(g),this.hidePopup=null}},e.prototype.onUiChanged=function(o,c){if(o===void 0&&(o=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var h=this.isModelValid(this.getModelFromUi());setDisabled(this.getRefElement("applyFilterButton"),!h)}o&&!c||c==="immediately"?this.onBtApply(o):(!this.applyActive&&!c||c==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(o){o!=null&&(this.hidePopup=o.hidePopup)},e.getDebounceMs=function(o,c){return e.isUseApplyButton(o)?(o.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):o.debounceMs!=null?o.debounceMs:c},e.isUseApplyButton=function(o){return!!o.buttons&&o.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var o=this.getGui();o&&o.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,a.prototype.destroy.call(this)},e.prototype.translate=function(o){var c=this.gridOptionsWrapper.getLocaleTextFunc();return c(o,DEFAULT_FILTER_LOCALE_TEXT[o])},e.prototype.getCellValue=function(o){var c=this.providedFilterParams,h=c.api,g=c.colDef,b=c.column,$=c.columnApi,j=c.context;return this.providedFilterParams.valueGetter({api:h,colDef:g,column:b,columnApi:$,context:j,data:o.data,getValue:function(rt){return o.data[rt]},node:o})},__decorate$2m([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$2m([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2K=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2l=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgAbstractLabel=function(a){__extends$2K(e,a);function e(o,c){var h=a.call(this,c)||this;return h.labelSeparator="",h.labelAlignment="left",h.disabled=!1,h.label="",h.config=o||{},h}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var o=this.config,c=o.labelSeparator,h=o.label,g=o.labelWidth,b=o.labelAlignment;c!=null&&this.setLabelSeparator(c),h!=null&&this.setLabel(h),g!=null&&this.setLabelWidth(g),this.setLabelAlignment(b||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){clearElement(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(this.eLabel.classList.add("ag-hidden"),setAriaRole(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),setAriaRole(this.eLabel,null))},e.prototype.setLabelSeparator=function(o){return this.labelSeparator===o?this:(this.labelSeparator=o,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(o){return this.label===o?this:(this.label=o,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(o){var c=this.getGui(),h=c.classList;return h.toggle("ag-label-align-left",o==="left"),h.toggle("ag-label-align-right",o==="right"),h.toggle("ag-label-align-top",o==="top"),this},e.prototype.setLabelWidth=function(o){return this.label==null?this:(setElementWidth(this.eLabel,o),this)},e.prototype.setDisabled=function(o){o=!!o;var c=this.getGui();return setDisabled(c,o),c.classList.toggle("ag-disabled",o),this.disabled=o,this},e.prototype.isDisabled=function(){return!!this.disabled},__decorate$2l([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2J=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgAbstractField=function(a){__extends$2J(e,a);function e(o,c,h){var g=a.call(this,o,c)||this;return g.className=h,g}return e.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(o){var c=this;return this.addManagedListener(this,e.EVENT_CHANGED,function(){return o(c.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(o){return setFixedWidth(this.getGui(),o),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(o,c){return this.value===o?this:(this.previousValue=this.value,this.value=o,c||this.dispatchEvent({type:e.EVENT_CHANGED}),this)},e.EVENT_CHANGED="valueChange",e}(AgAbstractLabel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2I=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2k=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgPickerField=function(a){__extends$2I(e,a);function e(o,c,h,g){var b=a.call(this,o,`<div class="ag-picker-field" role="presentation">
                <div ref="eLabel"></div>
                <div ref="eWrapper"
                    class="ag-wrapper ag-picker-field-wrapper"
                    tabIndex="-1"
                    aria-expanded="false"
                    `+(g?'role="'+g+'"':"")+`
                >
                    <div ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,c)||this;return b.pickerIcon=h,b.isPickerDisplayed=!1,b.isDestroyingPicker=!1,b.skipClick=!1,b}return e.prototype.postConstruct=function(){var o=this;a.prototype.postConstruct.call(this);var c=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",c),setAriaDescribedBy(this.eWrapper,c);var h=function(){if(o.skipClick){o.skipClick=!1;return}o.isDisabled()||(o.pickerComponent=o.showPicker())},g=this.getGui();if(this.addManagedListener(g,"mousedown",function($){!o.skipClick&&o.pickerComponent&&o.pickerComponent.isAlive()&&isVisible(o.pickerComponent.getGui())&&g.contains($.target)&&(o.skipClick=!0)}),this.addManagedListener(g,"keydown",function($){switch($.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:h();case KeyCode.ESCAPE:o.isPickerDisplayed&&$.preventDefault();break}}),this.addManagedListener(this.eWrapper,"click",h),this.addManagedListener(this.eLabel,"click",h),this.pickerIcon){var b=createIconNoSpan(this.pickerIcon,this.gridOptionsWrapper);b&&this.eIcon.appendChild(b)}},e.prototype.refreshLabel=function(){exists(this.getLabel())?setAriaLabelledBy(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),a.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(o){return setAriaLabel(this.eWrapper,o),this},e.prototype.setInputWidth=function(o){return setElementWidth(this.eWrapper,o),this},e.prototype.getFocusableElement=function(){return this.eWrapper},__decorate$2k([RefSelector("eLabel")],e.prototype,"eLabel",void 0),__decorate$2k([RefSelector("eWrapper")],e.prototype,"eWrapper",void 0),__decorate$2k([RefSelector("eDisplayField")],e.prototype,"eDisplayField",void 0),__decorate$2k([RefSelector("eIcon")],e.prototype,"eIcon",void 0),e}(AgAbstractField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2H=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2j=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgList=function(a){__extends$2H(e,a);function e(o){o===void 0&&(o="default");var c=a.call(this,'<div class="ag-list ag-'+o+'-list" role="listbox"></div>')||this;return c.cssIdentifier=o,c.options=[],c.itemEls=[],c}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(o){var c=o.key;switch(c){case KeyCode.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var h=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(h)}break;case KeyCode.DOWN:case KeyCode.UP:var g=c===KeyCode.DOWN,b=void 0;if(o.preventDefault(),!this.highlightedEl)b=this.itemEls[g?0:this.itemEls.length-1];else{var $=this.itemEls.indexOf(this.highlightedEl),j=$+(g?1:-1);j=Math.min(Math.max(j,0),this.itemEls.length-1),b=this.itemEls[j]}this.highlightItem(b);break}},e.prototype.addOptions=function(o){var c=this;return o.forEach(function(h){return c.addOption(h)}),this},e.prototype.addOption=function(o){var c=o.value,h=o.text,g=escapeString(h||c);return this.options.push({value:c,text:g}),this.renderOption(c,g),this.updateIndices(),this},e.prototype.updateIndices=function(){var o=this.getGui().querySelectorAll(".ag-list-item");o.forEach(function(c,h){setAriaPosInSet(c,h+1),setAriaSetSize(c,o.length)})},e.prototype.renderOption=function(o,c){var h=this,g=document.createElement("div");setAriaRole(g,"option"),g.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),g.innerHTML="<span>"+c+"</span>",g.tabIndex=-1,this.itemEls.push(g),this.addManagedListener(g,"mouseover",function(){return h.highlightItem(g)}),this.addManagedListener(g,"mouseleave",function(){return h.clearHighlighted()}),this.addManagedListener(g,"click",function(){return h.setValue(o)}),this.getGui().appendChild(g)},e.prototype.setValue=function(o,c){if(this.value===o)return this.fireItemSelected(),this;if(o==null)return this.reset(),this;var h=this.options.findIndex(function(b){return b.value===o});if(h!==-1){var g=this.options[h];this.value=g.value,this.displayValue=g.text!=null?g.text:g.value,this.highlightItem(this.itemEls[h]),c||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(o){return this.setValue(this.options[o].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var o=this;this.clearHighlighted();var c=this.options.findIndex(function(h){return h.value===o.value});c!==-1&&this.highlightItem(this.itemEls[c])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(o){o.offsetParent&&(this.clearHighlighted(),this.highlightedEl=o,this.highlightedEl.classList.add(e.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",__decorate$2j([PostConstruct],e.prototype,"init",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2G=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2i=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgSelect=function(a){__extends$2G(e,a);function e(o){return a.call(this,o,"ag-select","smallDown","listbox")||this}return e.prototype.init=function(){var o=this;this.listComponent=this.createBean(new AgList("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,AgList.EVENT_ITEM_SELECTED,function(){o.hideList&&o.hideList()}),this.listComponent.addManagedListener(this.listComponent,AgAbstractField.EVENT_CHANGED,function(){o.setValue(o.listComponent.getValue(),!1,!0),o.hideList&&o.hideList()})},e.prototype.showPicker=function(){var o=this,c=this.listComponent.getGui(),h=this.gridOptionsWrapper.getDocument(),g=this.addManagedListener(h.body,"wheel",function(rt){!c.contains(rt.target)&&o.hideList&&o.hideList()}),b=this.addManagedListener(c,"focusout",function(rt){!c.contains(rt.relatedTarget)&&o.hideList&&o.hideList()}),$=this.gridOptionsWrapper.getLocaleTextFunc(),j=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){o.hideList=null,o.isPickerDisplayed=!1,b(),g(),o.isAlive()&&(setAriaExpanded(o.eWrapper,!1),o.getFocusableElement().focus())},ariaLabel:$("ariaLabelSelectField","Select Field")});return j&&(this.hideList=j.hideFunc),this.isPickerDisplayed=!0,setElementWidth(c,getAbsoluteWidth(this.eWrapper)),setAriaExpanded(this.eWrapper,!0),c.style.maxHeight=getInnerHeight(this.popupService.getPopupParent())+"px",c.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:c,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(o){var c=this;return o.forEach(function(h){return c.addOption(h)}),this},e.prototype.addOption=function(o){return this.listComponent.addOption(o),this},e.prototype.setValue=function(o,c,h){if(this.value===o)return this;h||this.listComponent.setValue(o,!0);var g=this.listComponent.getValue();return g===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),a.prototype.setValue.call(this,o,c))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),a.prototype.destroy.call(this)},__decorate$2i([Autowired("popupService")],e.prototype,"popupService",void 0),__decorate$2i([PostConstruct],e.prototype,"init",null),e}(AgPickerField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2F=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2h=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgAbstractInputField=function(a){__extends$2F(e,a);function e(o,c,h,g){h===void 0&&(h="text"),g===void 0&&(g="input");var b=a.call(this,o,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`+g+' ref="eInput" class="ag-input-field-input"></'+g+`>
                </div>
            </div>`,c)||this;return b.inputType=h,b.displayFieldTag=g,b}return e.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var o=this.config,c=o.width,h=o.value;c!=null&&this.setWidth(c),h!=null&&this.setValue(h),this.addInputListeners()},e.prototype.refreshLabel=function(){exists(this.getLabel())?setAriaLabelledBy(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),a.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var o=this;this.addManagedListener(this.eInput,"input",function(c){return o.setValue(c.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(o){return setElementWidth(this.eWrapper,o),this},e.prototype.setInputName=function(o){return this.getInputElement().setAttribute("name",o),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(o){var c=this.eInput;return c.maxLength=o,this},e.prototype.setInputPlaceholder=function(o){return addOrRemoveAttribute(this.eInput,"placeholder",o),this},e.prototype.setInputAriaLabel=function(o){return setAriaLabel(this.eInput,o),this},e.prototype.setDisabled=function(o){return setDisabled(this.eInput,o),a.prototype.setDisabled.call(this,o)},__decorate$2h([RefSelector("eLabel")],e.prototype,"eLabel",void 0),__decorate$2h([RefSelector("eWrapper")],e.prototype,"eWrapper",void 0),__decorate$2h([RefSelector("eInput")],e.prototype,"eInput",void 0),e}(AgAbstractField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2E=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2g=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ConditionPosition;(function(a){a[a.One=0]="One",a[a.Two=1]="Two"})(ConditionPosition||(ConditionPosition={}));var SimpleFilter=function(a){__extends$2E(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getNumberOfInputs=function(o){var c=this.optionsFactory.getCustomOption(o);if(c){var h=c.numberOfInputs;return h??1}var g=[e.EMPTY,e.NOT_BLANK,e.BLANK];return o&&g.indexOf(o)>=0?0:o===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(o,c){this.setTypeFromFloatingFilter(o),this.setValueFromFloatingFilter(c),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(o){this.eType1.setValue(o),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},e.prototype.getModelFromUi=function(){return this.isConditionUiComplete(ConditionPosition.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(ConditionPosition.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(ConditionPosition.One),condition2:this.createCondition(ConditionPosition.Two)}:this.createCondition(ConditionPosition.One):null},e.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},e.prototype.getJoinOperator=function(){return this.eJoinOperatorOr.getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(o,c){if(!o&&!c)return!0;if(!o&&c||o&&!c)return!1;var h=!o.operator,g=!c.operator,b=!h&&g||h&&!g;if(b)return!1;var $;if(h){var j=o,rt=c;$=this.areSimpleModelsEqual(j,rt)}else{var nt=o,ot=c;$=nt.operator===ot.operator&&this.areSimpleModelsEqual(nt.condition1,ot.condition1)&&this.areSimpleModelsEqual(nt.condition2,ot.condition2)}return $},e.prototype.setModelIntoUi=function(o){var c=o.operator;if(c){var h=o,g=h.operator==="OR";this.eJoinOperatorAnd.setValue(!g),this.eJoinOperatorOr.setValue(g),this.eType1.setValue(h.condition1.type),this.eType2.setValue(h.condition2.type),this.setConditionIntoUi(h.condition1,ConditionPosition.One),this.setConditionIntoUi(h.condition2,ConditionPosition.Two)}else{var b=o;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(b.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(b,ConditionPosition.One),this.setConditionIntoUi(null,ConditionPosition.Two)}return AgPromise.resolve()},e.prototype.doesFilterPass=function(o){var c=this,h=this.getModel();if(h==null)return!0;var g=h.operator,b=[];if(g){var $=h;b.push($.condition1,$.condition2)}else b.push(h);var j=g&&g==="OR"?"some":"every";return b[j](function(rt){return c.individualConditionPasses(o,rt)})},e.prototype.setParams=function(o){a.prototype.setParams.call(this,o),this.optionsFactory=new OptionsFactory,this.optionsFactory.init(o,this.getDefaultFilterOptions()),this.allowTwoConditions=!o.suppressAndOrCondition,this.alwaysShowBothConditions=!!o.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(o.defaultJoinOperator),this.filterPlaceholder=o.filterPlaceholder,this.putOptionsIntoDropdown(),this.addChangedListeners()},e.prototype.getDefaultJoinOperator=function(o){return includes(["AND","OR"],o)?o:"AND"},e.prototype.putOptionsIntoDropdown=function(){var o=this,c=this.optionsFactory.getFilterOptions(),h=[this.eType1,this.eType2];c.forEach(function(g){var b=typeof g=="string"?o.createBoilerplateListOption(g):o.createCustomListOption(g);h.forEach(function($){return $.addOption(b)})}),h.forEach(function(g){return g.setDisabled(c.length<=1)})},e.prototype.createBoilerplateListOption=function(o){return{value:o,text:this.translate(o)}},e.prototype.createCustomListOption=function(o){var c=o.displayKey,h=this.optionsFactory.getCustomOption(o.displayKey);return{value:c,text:h?this.gridOptionsWrapper.getLocaleTextFunc()(h.displayKey,h.displayName):this.translate(c)}},e.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},e.prototype.createBodyTemplate=function(){return`
            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>
            `+this.createValueTemplate(ConditionPosition.One)+`
            <div class="ag-filter-condition" ref="eJoinOperatorPanel">
               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>
               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>
            </div>
            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>
            `+this.createValueTemplate(ConditionPosition.Two)},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var o=this,c=[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],h=[this.eCondition1Body,this.eCondition2Body];c.forEach(function(g,b){var $=o.isConditionVisible(b),j=o.isConditionDisabled(b);g.forEach(function(rt){rt instanceof AgAbstractInputField||rt instanceof AgSelect?(rt.setDisabled(j),rt.setDisplayed($)):(setDisabled(rt,j),setDisplayed(rt,$))})}),h.forEach(function(g,b){setDisplayed(g,o.isConditionBodyVisible(b))}),this.forEachInput(function(g,b,$,j){o.setElementDisplayed(g,b<j),o.setElementDisabled(g,o.isConditionDisabled($))}),this.resetPlaceholder()},e.prototype.afterGuiAttached=function(o){if(a.prototype.afterGuiAttached.call(this,o),this.resetPlaceholder(),!o||!o.suppressFocus&&!this.isReadOnly()){var c=this.getInputs()[0][0];if(!c)return;c instanceof AgAbstractInputField&&c.getInputElement().focus()}},e.prototype.getPlaceholderText=function(o,c){var h=this.translate(o);if(isFunction$1(this.filterPlaceholder)){var g=this.filterPlaceholder,b=c===0?this.eType1.getValue():this.eType2.getValue(),$=this.translate(b);h=g({filterOptionKey:b,filterOption:$,placeholder:h})}else typeof this.filterPlaceholder=="string"&&(h=this.filterPlaceholder);return h},e.prototype.resetPlaceholder=function(){var o=this,c=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(h,g,b,$){if(h instanceof AgAbstractInputField){var j=g===0&&$>1?"inRangeStart":g===0?"filterOoo":"inRangeEnd",rt=g===0&&$>1?c("ariaFilterFromValue","Filter from value"):g===0?c("ariaFilterValue","Filter Value"):c("ariaFilterToValue","Filter to Value");h.setInputPlaceholder(o.getPlaceholderText(j,b)),h.setInputAriaLabel(rt)}})},e.prototype.setElementValue=function(o,c,h){o instanceof AgAbstractInputField&&o.setValue(c!=null?String(c):null,h)},e.prototype.setElementDisplayed=function(o,c){o instanceof Component&&setDisplayed(o.getGui(),c)},e.prototype.setElementDisabled=function(o,c){o instanceof Component&&setDisabled(o.getGui(),c)},e.prototype.attachElementOnChange=function(o,c){o instanceof AgAbstractInputField&&o.onValueChange(c)},e.prototype.forEachInput=function(o){var c=this,h=this.getInputs();this.getConditionTypes().forEach(function(g,b){for(var $=c.getNumberOfInputs(g),j=0;j<h[b].length;j++){var rt=h[b][j];rt!=null&&o(rt,j,b,$)}})},e.prototype.isConditionVisible=function(o){return o===0?!0:this.allowTwoConditions?this.isReadOnly()?this.isConditionUiComplete(o):this.alwaysShowBothConditions?!0:this.isConditionUiComplete(o-1):!1},e.prototype.isConditionDisabled=function(o){return this.isReadOnly()||!this.isConditionVisible(o)?!0:o===0?!1:!this.isConditionUiComplete(o-1)},e.prototype.isConditionBodyVisible=function(o){if(!this.isConditionVisible(o))return!1;var c=this.getConditionTypes()[o],h=this.getNumberOfInputs(c);return h>0},e.prototype.isConditionUiComplete=function(o){var c=this.getConditionTypes()[o];return!(c===e.EMPTY||this.getValues(o).some(function(h){return h==null}))},e.prototype.resetUiToDefaults=function(o){var c=this,h=this.gridOptionsWrapper.getLocaleTextFunc(),g=h("ariaFilteringOperator","Filtering operator"),b="ag-simple-filter-and-or-"+this.getCompId(),$=this.optionsFactory.getDefaultOption();return this.eType1.setValue($,o).setAriaLabel(g).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),o).setAriaLabel(g).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),o).setName(b).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),o).setName(b).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(j){c.setElementValue(j,null,o),c.setElementDisabled(j,c.isReadOnly())}),this.resetPlaceholder(),AgPromise.resolve()},e.prototype.setConditionIntoUi=function(o,c){var h=this,g=this.mapValuesFromModel(o);this.forEachInput(function(b,$,j,rt){j===c&&h.setElementValue(b,g[$]!=null?g[$]:null)})},e.prototype.setValueFromFloatingFilter=function(o){var c=this;this.forEachInput(function(h,g,b,$){c.setElementValue(h,g===0&&b===0?o:null)})},e.prototype.isDefaultOperator=function(o){return o===this.defaultJoinOperator},e.prototype.addChangedListeners=function(){var o=this;if(!this.isReadOnly()){var c=function(){return o.onUiChanged()};this.eType1.onValueChange(c),this.eType2.onValueChange(c),this.eJoinOperatorOr.onValueChange(c),this.eJoinOperatorAnd.onValueChange(c),this.forEachInput(function(h){o.attachElementOnChange(h,c)})}},e.prototype.individualConditionPasses=function(o,c){var h=this.getCellValue(o.node),g=this.mapValuesFromModel(c),b=this.optionsFactory.getCustomOption(c.type),$=this.evaluateCustomFilter(b,g,h);return $??(h==null?this.evaluateNullValue(c.type):this.evaluateNonNullValue(g,h,c,o))},e.prototype.evaluateCustomFilter=function(o,c,h){if(o!=null){var g=o.predicate;if(g!=null&&!c.some(function(b){return b==null}))return g(c,h)}},e.prototype.isBlank=function(o){return o==null||typeof o=="string"&&o.trim().length===0},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",__decorate$2g([RefSelector("eOptions1")],e.prototype,"eType1",void 0),__decorate$2g([RefSelector("eOptions2")],e.prototype,"eType2",void 0),__decorate$2g([RefSelector("eJoinOperatorPanel")],e.prototype,"eJoinOperatorPanel",void 0),__decorate$2g([RefSelector("eJoinOperatorAnd")],e.prototype,"eJoinOperatorAnd",void 0),__decorate$2g([RefSelector("eJoinOperatorOr")],e.prototype,"eJoinOperatorOr",void 0),__decorate$2g([RefSelector("eCondition1Body")],e.prototype,"eCondition1Body",void 0),__decorate$2g([RefSelector("eCondition2Body")],e.prototype,"eCondition2Body",void 0),e}(ProvidedFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2D=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),ScalarFilter=function(a){__extends$2D(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setParams=function(o){a.prototype.setParams.call(this,o),this.scalarFilterParams=o},e.prototype.evaluateNullValue=function(o){switch(o){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(o,c,h){var g=this.comparator(),b=o[0]!=null?g(o[0],c):0;switch(h.type){case e.EQUALS:return b===0;case e.NOT_EQUAL:return b!==0;case e.GREATER_THAN:return b>0;case e.GREATER_THAN_OR_EQUAL:return b>=0;case e.LESS_THAN:return b<0;case e.LESS_THAN_OR_EQUAL:return b<=0;case e.IN_RANGE:{var $=g(o[1],c);return this.scalarFilterParams.inRangeInclusive?b>=0&&$<=0:b>0&&$<0}case e.BLANK:return this.isBlank(c);case e.NOT_BLANK:return!this.isBlank(c);default:return console.warn('AG Grid: Unexpected type of filter "'+h.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(SimpleFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2C=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$b=function(){return __assign$b=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$b.apply(this,arguments)},__decorate$2f=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DEFAULT_MIN_YEAR=1e3,DEFAULT_MAX_YEAR=1/0,DateFilter=function(a){__extends$2C(e,a);function e(){var o=a.call(this,"dateFilter")||this;return o.minValidYear=DEFAULT_MIN_YEAR,o.maxValidYear=DEFAULT_MAX_YEAR,o}return e.prototype.afterGuiAttached=function(o){a.prototype.afterGuiAttached.call(this,o),this.dateCondition1FromComp.afterGuiAttached(o)},e.prototype.mapValuesFromModel=function(o){var c=o||{},h=c.dateFrom,g=c.dateTo,b=c.type;return[h&&parseDateTimeFromString(h)||null,g&&parseDateTimeFromString(g)||null].slice(0,this.getNumberOfInputs(b))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(o,c){var h=c;return c==null||h<o?-1:h>o?1:0},e.prototype.setParams=function(o){a.prototype.setParams.call(this,o),this.dateFilterParams=o;var c=function(h,g){if(o[h]!=null)if(isNaN(o[h]))console.warn("AG Grid: DateFilter "+h+" is not a number");else return o[h]==null?g:Number(o[h]);return g};this.minValidYear=c("minValidYear",DEFAULT_MIN_YEAR),this.maxValidYear=c("maxValidYear",DEFAULT_MAX_YEAR),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},e.prototype.createDateComponents=function(){var o=this,c=function(h){return new DateCompWrapper(o.getContext(),o.userComponentFactory,{onDateChanged:function(){return o.onUiChanged()},filterParams:o.dateFilterParams},h)};this.dateCondition1FromComp=c(this.eCondition1PanelFrom),this.dateCondition1ToComp=c(this.eCondition1PanelTo),this.dateCondition2FromComp=c(this.eCondition2PanelFrom),this.dateCondition2ToComp=c(this.eCondition2PanelTo),this.addDestroyFunc(function(){o.forEachInput(function(h){return h.destroy()})})},e.prototype.setElementValue=function(o,c,h){o.setDate(c)},e.prototype.setElementDisplayed=function(o,c){o.setDisplayed(c)},e.prototype.setElementDisabled=function(o,c){o.setDisabled(c)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(o){var c=o===ConditionPosition.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+c+`Body">
                <div class="ag-filter-from ag-filter-date-from" ref="eCondition`+c+`PanelFrom"></div>
                <div class="ag-filter-to ag-filter-date-to" ref="eCondition`+c+`PanelTo"></div>
            </div>`},e.prototype.isConditionUiComplete=function(o){var c=this;if(!a.prototype.isConditionUiComplete.call(this,o))return!1;var h=function(b){return b!=null&&b.getUTCFullYear()>=c.minValidYear&&b.getUTCFullYear()<=c.maxValidYear},g=!0;return this.forEachInput(function(b,$,j,rt){j!==o||!g||$>=rt||(g=g&&h(b.getDate()))}),g},e.prototype.areSimpleModelsEqual=function(o,c){return o.dateFrom===c.dateFrom&&o.dateTo===c.dateTo&&o.type===c.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(o){var c=this.getConditionTypes()[o],h={},g=this.getValues(o);return g.length>0&&(h.dateFrom=serialiseDate(g[0])),g.length>1&&(h.dateTo=serialiseDate(g[1])),__assign$b({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:c},h)},e.prototype.resetPlaceholder=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.translate("dateFormatOoo"),h=o("ariaFilterValue","Filter Value");this.forEachInput(function(g){g.setInputPlaceholder(c),g.setInputAriaLabel(h)})},e.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},e.prototype.getValues=function(o){var c=[];return this.forEachInput(function(h,g,b,$){o===b&&g<$&&c.push(h.getDate())}),c},e.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.GREATER_THAN,ScalarFilter.LESS_THAN,ScalarFilter.NOT_EQUAL,ScalarFilter.IN_RANGE,ScalarFilter.BLANK,ScalarFilter.NOT_BLANK],__decorate$2f([RefSelector("eCondition1PanelFrom")],e.prototype,"eCondition1PanelFrom",void 0),__decorate$2f([RefSelector("eCondition1PanelTo")],e.prototype,"eCondition1PanelTo",void 0),__decorate$2f([RefSelector("eCondition2PanelFrom")],e.prototype,"eCondition2PanelFrom",void 0),__decorate$2f([RefSelector("eCondition2PanelTo")],e.prototype,"eCondition2PanelTo",void 0),__decorate$2f([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ScalarFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2B=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),SimpleFloatingFilter=function(a){__extends$2B(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.prototype.getTextFromModel=function(o){if(!o)return null;var c=o.operator!=null;if(c){var h=o,g=h||{},b=g.condition1,$=g.condition2,j=this.getTextFromModel(b),rt=this.getTextFromModel($);return[j,h.operator,rt].join(" ")}else if(o.type===SimpleFilter.BLANK||o.type===SimpleFilter.NOT_BLANK){var nt=this.gridOptionsWrapper.getLocaleTextFunc();return nt(o.type,o.type)}else{var ot=o,_t=this.optionsFactory.getCustomOption(ot.type),Et=_t||{},It=Et.displayKey,it=Et.displayName,st=Et.numberOfInputs;return It&&it&&st===0?(this.gridOptionsWrapper.getLocaleTextFunc()(It,it),it):this.conditionToString(ot,_t)}},e.prototype.isEventFromFloatingFilter=function(o){return o&&o.afterFloatingFilter},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(o){if(!o){this.lastType=this.optionsFactory.getDefaultOption();return}var c=o.operator,h;if(c){var g=o;h=g.condition1}else h=o;this.lastType=h.type},e.prototype.canWeEditAfterModelFromParentFilter=function(o){if(!o)return this.isTypeEditable(this.lastType);var c=o.operator;if(c)return!1;var h=o;return this.isTypeEditable(h.type)},e.prototype.init=function(o){this.optionsFactory=new OptionsFactory,this.optionsFactory.init(o.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!o.filterParams.readOnly;var c=this.isTypeEditable(this.lastType);this.setEditable(c)},e.prototype.doesFilterHaveSingleInput=function(o){var c=this.optionsFactory.getCustomOption(o),h=(c||{}).numberOfInputs;return h==null||h==1},e.prototype.isTypeEditable=function(o){var c=[SimpleFilter.IN_RANGE,SimpleFilter.EMPTY,SimpleFilter.BLANK,SimpleFilter.NOT_BLANK];return!!o&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(o)&&c.indexOf(o)<0},e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2A=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2e=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DateFloatingFilter=function(a){__extends$2A(e,a);function e(){return a.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return DateFilter.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(o,c){var h=o.type,g=(c||{}).numberOfInputs,b=h==SimpleFilter.IN_RANGE||g===2,$=parseDateTimeFromString(o.dateFrom),j=parseDateTimeFromString(o.dateTo),rt=this.filterParams.inRangeFloatingFilterDateFormat;if(b){var nt=$!==null?dateToFormattedString($,rt):"null",ot=j!==null?dateToFormattedString(j,rt):"null";return nt+"-"+ot}return $!=null?dateToFormattedString($,rt):""+h},e.prototype.init=function(o){a.prototype.init.call(this,o),this.params=o,this.filterParams=o.filterParams,this.createDateComponent();var c=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(c("ariaDateFilterInput","Date Filter Input"))},e.prototype.setEditable=function(o){setDisplayed(this.eDateWrapper,o),setDisplayed(this.eReadOnlyText.getGui(),!o)},e.prototype.onParentModelChanged=function(o,c){if(!this.isEventFromFloatingFilter(c)){a.prototype.setLastTypeFromModel.call(this,o);var h=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(o);if(this.setEditable(h),h){if(o){var g=o;this.dateComp.setDate(parseDateTimeFromString(g.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(o)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var o=this,c=this.dateComp.getDate(),h=serialiseDate(c);this.params.parentFilterInstance(function(g){if(g){var b=parseDateTimeFromString(h);g.onFloatingFilterChanged(o.getLastType()||null,b)}})},e.prototype.createDateComponent=function(){var o=this,c=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),h={onDateChanged:debounce$2(this.onDateChanged.bind(this),c),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new DateCompWrapper(this.getContext(),this.userComponentFactory,h,this.eDateWrapper),this.addDestroyFunc(function(){return o.dateComp.destroy()})},__decorate$2e([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$2e([RefSelector("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),__decorate$2e([RefSelector("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(SimpleFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2z=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2d=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DefaultDateComponent=function(a){__extends$2z(e,a);function e(){return a.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.prototype.init=function(o){var c=this,h=this.gridOptionsWrapper.getDocument(),g=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(o)&&(g.type="date"),this.addManagedListener(g,"mousedown",function(){c.eDateInput.isDisabled()||g.focus()}),this.addManagedListener(g,"input",function(rt){rt.target===h.activeElement&&(c.eDateInput.isDisabled()||o.onDateChanged())});var b=o.filterParams||{},$=b.minValidYear,j=b.maxValidYear;$&&(g.min=$+"-01-01"),j&&(g.max=j+"-12-31")},e.prototype.getDate=function(){return parseDateTimeFromString(this.eDateInput.getValue())},e.prototype.setDate=function(o){this.eDateInput.setValue(serialiseDate(o,!1))},e.prototype.setInputPlaceholder=function(o){this.eDateInput.setInputPlaceholder(o)},e.prototype.setDisabled=function(o){this.eDateInput.setDisabled(o)},e.prototype.afterGuiAttached=function(o){(!o||!o.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(o){return o.filterParams&&o.filterParams.browserDatePicker!=null?o.filterParams.browserDatePicker:isBrowserChrome()||isBrowserFirefox()},__decorate$2d([RefSelector("eDateInput")],e.prototype,"eDateInput",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2y=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2c=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},NumberFilter=function(a){__extends$2y(e,a);function e(){return a.call(this,"numberFilter")||this}return e.prototype.mapValuesFromModel=function(o){var c=o||{},h=c.filter,g=c.filterTo,b=c.type;return[h??null,g??null].slice(0,this.getNumberOfInputs(b))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(o,c){return o===c?0:o<c?1:-1}},e.prototype.setParams=function(o){this.numberFilterParams=o;var c=this.getAllowedCharPattern();if(c){var h={allowedCharPattern:c};this.resetTemplate({"eValue-index0-1":h,"eValue-index1-1":h,"eValue-index0-2":h,"eValue-index1-2":h})}a.prototype.setParams.call(this,o)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(o){var c=o===ConditionPosition.One?"1":"2",h=this.getAllowedCharPattern(),g=h?"ag-input-text-field":"ag-input-number-field";return`
            <div class="ag-filter-body" ref="eCondition`+c+`Body" role="presentation">
                <`+g+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+c+'"></'+g+`>
                <`+g+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+c+'"></'+g+`>
            </div>`},e.prototype.getValues=function(o){var c=this,h=[];return this.forEachInput(function(g,b,$,j){o===$&&b<j&&h.push(c.stringToFloat(g.getValue()))}),h},e.prototype.areSimpleModelsEqual=function(o,c){return o.filter===c.filter&&o.filterTo===c.filterTo&&o.type===c.type},e.prototype.getFilterType=function(){return"number"},e.prototype.stringToFloat=function(o){if(typeof o=="number")return o;var c=makeNull(o);return c!=null&&c.trim()===""&&(c=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(c):c==null||c.trim()==="-"?null:parseFloat(c)},e.prototype.createCondition=function(o){var c=this.getConditionTypes()[o],h={filterType:this.getFilterType(),type:c},g=this.getValues(o);return g.length>0&&(h.filter=g[0]),g.length>1&&(h.filterTo=g[1]),h},e.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},e.prototype.getAllowedCharPattern=function(){var o=(this.numberFilterParams||{}).allowedCharPattern;return o||(!isBrowserChrome()&&!isBrowserEdge()?"\\d\\-\\.":null)},e.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.NOT_EQUAL,ScalarFilter.LESS_THAN,ScalarFilter.LESS_THAN_OR_EQUAL,ScalarFilter.GREATER_THAN,ScalarFilter.GREATER_THAN_OR_EQUAL,ScalarFilter.IN_RANGE,ScalarFilter.BLANK,ScalarFilter.NOT_BLANK],__decorate$2c([RefSelector("eValue-index0-1")],e.prototype,"eValueFrom1",void 0),__decorate$2c([RefSelector("eValue-index1-1")],e.prototype,"eValueTo1",void 0),__decorate$2c([RefSelector("eValue-index0-2")],e.prototype,"eValueFrom2",void 0),__decorate$2c([RefSelector("eValue-index1-2")],e.prototype,"eValueTo2",void 0),e}(ScalarFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2x=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$a=function(){return __assign$a=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$a.apply(this,arguments)},__decorate$2b=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},TextFilter=function(a){__extends$2x(e,a);function e(){return a.call(this,"textFilter")||this}return e.trimInput=function(o){var c=o&&o.trim();return c===""?o:c},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(o){a.prototype.setParams.call(this,o),this.textFilterParams=o,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER)},e.prototype.getTextMatcher=function(){var o=this.textFilterParams.textCustomComparator;return o?(_.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(c){var h=c.filterOption,g=c.value,b=c.filterText;return o(h,g,b)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(o){var c=this.getConditionTypes()[o],h={filterType:this.getFilterType(),type:c},g=this.getValues(o);return g.length>0&&(h.filter=g[0]),g.length>1&&(h.filterTo=g[1]),h},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(o,c){return o.filter===c.filter&&o.filterTo===c.filterTo&&o.type===c.type},e.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},e.prototype.getValues=function(o){var c=this,h=[];return this.forEachInput(function(g,b,$,j){if(o===$&&b<j){var rt=makeNull(g.getValue()),nt=(c.textFilterParams.trimInput?e.trimInput(rt):rt)||null;h.push(nt),g.setValue(nt,!0)}}),h},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(o){var c=o===ConditionPosition.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+c+`Body" role="presentation">
                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-`+c+`"></ag-input-text-field>
                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-`+c+`"></ag-input-text-field>
            </div>`},e.prototype.mapValuesFromModel=function(o){var c=o||{},h=c.filter,g=c.filterTo,b=c.type;return[h||null,g||null].slice(0,this.getNumberOfInputs(b))},e.prototype.evaluateNullValue=function(o){var c=[SimpleFilter.NOT_EQUAL,SimpleFilter.NOT_CONTAINS,SimpleFilter.BLANK];return o?c.indexOf(o)>=0:!1},e.prototype.evaluateNonNullValue=function(o,c,h,g){var b=this,$=o.map(function(Mt){return b.formatter(Mt)})||[],j=this.formatter(c),rt=this.textFilterParams,nt=rt.api,ot=rt.colDef,_t=rt.column,Et=rt.columnApi,It=rt.context,it=rt.textFormatter;if(h.type===SimpleFilter.BLANK)return this.isBlank(c);if(h.type===SimpleFilter.NOT_BLANK)return!this.isBlank(c);var st={api:nt,colDef:ot,column:_t,columnApi:Et,context:It,node:g.node,data:g.data,filterOption:h.type,value:j,textFormatter:it};return $.some(function(Mt){return b.matcher(__assign$a(__assign$a({},st),{filterText:Mt}))})},e.DEFAULT_FILTER_OPTIONS=[SimpleFilter.CONTAINS,SimpleFilter.NOT_CONTAINS,SimpleFilter.EQUALS,SimpleFilter.NOT_EQUAL,SimpleFilter.STARTS_WITH,SimpleFilter.ENDS_WITH,SimpleFilter.BLANK,SimpleFilter.NOT_BLANK],e.DEFAULT_FORMATTER=function(o){return o},e.DEFAULT_LOWERCASE_FORMATTER=function(o){return o==null?null:o.toString().toLowerCase()},e.DEFAULT_MATCHER=function(o){var c=o.filterOption,h=o.value,g=o.filterText;if(g==null)return!1;switch(c){case e.CONTAINS:return h.indexOf(g)>=0;case e.NOT_CONTAINS:return h.indexOf(g)<0;case e.EQUALS:return h===g;case e.NOT_EQUAL:return h!=g;case e.STARTS_WITH:return h.indexOf(g)===0;case e.ENDS_WITH:var b=h.lastIndexOf(g);return b>=0&&b===h.length-g.length;default:return!1}},__decorate$2b([RefSelector("eValue-index0-1")],e.prototype,"eValueFrom1",void 0),__decorate$2b([RefSelector("eValue-index1-1")],e.prototype,"eValueTo1",void 0),__decorate$2b([RefSelector("eValue-index0-2")],e.prototype,"eValueFrom2",void 0),__decorate$2b([RefSelector("eValue-index1-2")],e.prototype,"eValueTo2",void 0),e}(SimpleFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2w=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2a=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},TextInputFloatingFilter=function(a){__extends$2w(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.resetTemplate()},e.prototype.resetTemplate=function(o){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>
            </div>
        `,o)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(o,c){this.isEventFromFloatingFilter(c)||(this.setLastTypeFromModel(o),this.eFloatingFilterInput.setValue(this.getTextFromModel(o)),this.setEditable(this.canWeEditAfterModelFromParentFilter(o)))},e.prototype.init=function(o){a.prototype.init.call(this,o),this.params=o,this.applyActive=ProvidedFilter.isUseApplyButton(this.params.filterParams);var c=this.params.filterParams.allowedCharPattern;if(c!=null&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:c}}),!this.isReadOnly()){var h=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),g=debounce$2(this.syncUpWithParentFilter.bind(this),h),b=this.eFloatingFilterInput.getGui();this.addManagedListener(b,"input",g),this.addManagedListener(b,"keypress",g),this.addManagedListener(b,"keydown",g)}var $=o.column.getDefinition();(this.isReadOnly()||$.filterParams&&$.filterParams.filterOptions&&$.filterParams.filterOptions.length===1&&$.filterParams.filterOptions[0]==="inRange")&&this.eFloatingFilterInput.setDisabled(!0);var j=this.columnModel.getDisplayNameForColumn(o.column,"header",!0),rt=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(j+" "+rt("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(o){var c=this,h=o.key===KeyCode.ENTER;if(!(this.applyActive&&!h)){var g=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(g=TextFilter.trimInput(g),this.eFloatingFilterInput.setValue(g,!0)),this.params.parentFilterInstance(function(b){b&&b.onFloatingFilterChanged(c.getLastType()||null,g||null)})}},e.prototype.conditionToString=function(o,c){var h=(c||{}).numberOfInputs,g=o.type==SimpleFilter.IN_RANGE||h===2;return g?o.filter+"-"+o.filterTo:o.filter!=null?""+o.filter:""+o.type},e.prototype.setEditable=function(o){this.eFloatingFilterInput.setDisabled(!o)},__decorate$2a([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$2a([RefSelector("eFloatingFilterInput")],e.prototype,"eFloatingFilterInput",void 0),__decorate$2a([PostConstruct],e.prototype,"postConstruct",null),e}(SimpleFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2v=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),NumberFloatingFilter=function(a){__extends$2v(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultFilterOptions=function(){return NumberFilter.DEFAULT_FILTER_OPTIONS},e}(TextInputFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2u=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),TextFloatingFilter=function(a){__extends$2u(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultFilterOptions=function(){return TextFilter.DEFAULT_FILTER_OPTIONS},e}(TextInputFloatingFilter);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var TouchListener=function(){function a(e,o){var c=this;o===void 0&&(o=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new EventService,this.eElement=e,this.preventMouseClick=o;var h=this.onTouchStart.bind(this),g=this.onTouchMove.bind(this),b=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",h,{passive:!0}),this.eElement.addEventListener("touchmove",g,{passive:!0}),this.eElement.addEventListener("touchend",b,{passive:!1}),this.destroyFuncs.push(function(){c.eElement.removeEventListener("touchstart",h,{passive:!0}),c.eElement.removeEventListener("touchmove",g,{passive:!0}),c.eElement.removeEventListener("touchend",b,{passive:!1})})}return a.prototype.getActiveTouch=function(e){for(var o=0;o<e.length;o++){var c=e[o].identifier===this.touchStart.identifier;if(c)return e[o]}return null},a.prototype.addEventListener=function(e,o){this.eventService.addEventListener(e,o)},a.prototype.removeEventListener=function(e,o){this.eventService.removeEventListener(e,o)},a.prototype.onTouchStart=function(e){var o=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var c=this.touchStart;window.setTimeout(function(){var h=o.touchStart===c;if(o.touching&&h&&!o.moved){o.moved=!0;var g={type:a.EVENT_LONG_TAP,touchStart:o.touchStart,touchEvent:e};o.eventService.dispatchEvent(g)}},500)}},a.prototype.onTouchMove=function(e){if(this.touching){var o=this.getActiveTouch(e.touches);if(o){var c=!areEventsNear(o,this.touchStart,4);c&&(this.moved=!0)}}},a.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var o={type:a.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(o),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},a.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var o=e-this.lastTapTime;if(o>a.DOUBLE_TAP_MILLIS){var c={type:a.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(c),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},a.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},a.EVENT_TAP="tap",a.EVENT_DOUBLE_TAP="doubleTap",a.EVENT_LONG_TAP="longTap",a.DOUBLE_TAP_MILLIS=500,a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2t=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$29=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SortIndicatorComp=function(a){__extends$2t(e,a);function e(o){var c=a.call(this)||this;return o||c.setTemplate(e.TEMPLATE),c}return e.prototype.attachCustomElements=function(o,c,h,g,b){this.eSortOrder=o,this.eSortAsc=c,this.eSortDesc=h,this.eSortMixed=g,this.eSortNone=b},e.prototype.setupSort=function(o,c){var h=this;c===void 0&&(c=!1),this.column=o,this.suppressOrder=c,this.setupMultiSortIndicator();var g=!!this.column.getColDef().sortable;g&&(this.addInIcon("sortAscending",this.eSortAsc,o),this.addInIcon("sortDescending",this.eSortDesc,o),this.addInIcon("sortUnSort",this.eSortNone,o),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,function(){return h.onSortChanged()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return h.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(o,c,h){if(c!=null){var g=createIconNoSpan(o,this.gridOptionsWrapper,h);g&&c.appendChild(g)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var o=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var c=o==="asc";this.eSortAsc.classList.toggle("ag-hidden",!c)}if(this.eSortDesc){var h=o==="desc";this.eSortDesc.classList.toggle("ag-hidden",!h)}if(this.eSortNone){var g=!this.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon(),b=o==null;this.eSortNone.classList.toggle("ag-hidden",g||!b)}},e.prototype.setupMultiSortIndicator=function(){var o=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var c=this.column.getColDef().showRowGroup,h=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();h&&c&&(this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,function(){return o.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return o.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var o=this.sortController.getDisplaySortForColumn(this.column)==="mixed";this.eSortMixed.classList.toggle("ag-hidden",!o)}},e.prototype.updateSortOrder=function(){var o=this,c;if(this.eSortOrder){var h=this.sortController.getColumnsWithSortingOrdered(),g=(c=this.sortController.getDisplaySortIndexForColumn(this.column),c??-1),b=h.some(function(j){var rt;return rt=o.sortController.getDisplaySortIndexForColumn(j),rt??-1>=1}),$=g>=0&&b;setDisplayed(this.eSortOrder,$),g>=0?this.eSortOrder.innerHTML=(g+1).toString():clearElement(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,__decorate$29([RefSelector("eSortOrder")],e.prototype,"eSortOrder",void 0),__decorate$29([RefSelector("eSortAsc")],e.prototype,"eSortAsc",void 0),__decorate$29([RefSelector("eSortDesc")],e.prototype,"eSortDesc",void 0),__decorate$29([RefSelector("eSortMixed")],e.prototype,"eSortMixed",void 0),__decorate$29([RefSelector("eSortNone")],e.prototype,"eSortNone",void 0),__decorate$29([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$29([Autowired("sortController")],e.prototype,"sortController",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2s=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$28=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderComp=function(a){__extends$2s(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.lastMovingChanged=0,o}return e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.prototype.refresh=function(o){return this.params=o,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(o),!0)},e.prototype.workOutTemplate=function(){var o=firstExistingValue(this.params.template,e.TEMPLATE);return o=o&&o.trim?o.trim():o,o},e.prototype.init=function(o){this.params=o,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(o.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(o)},e.prototype.setDisplayName=function(o){if(this.currentDisplayName!=o.displayName){this.currentDisplayName=o.displayName;var c=escapeString(this.currentDisplayName);this.eText&&(this.eText.innerHTML=c)}},e.prototype.setupIcons=function(o){this.addInIcon("menu",this.eMenu,o),this.addInIcon("filter",this.eFilter,o)},e.prototype.addInIcon=function(o,c,h){if(c!=null){var g=createIconNoSpan(o,this.gridOptionsWrapper,h);g&&c.appendChild(g)}},e.prototype.setupTap=function(){var o=this,c=this.gridOptionsWrapper;if(!c.isSuppressTouch()){var h=new TouchListener(this.getGui(),!0),g=c.isSuppressMenuHide(),b=g&&exists(this.eMenu),$=b?new TouchListener(this.eMenu,!0):h;if(this.params.enableMenu){var j=b?"EVENT_TAP":"EVENT_LONG_TAP",rt=function(ot){c.getApi().showColumnMenuAfterMouseClick(o.params.column,ot.touchStart)};this.addManagedListener($,TouchListener[j],rt)}if(this.params.enableSorting){var nt=function(ot){var _t=ot.touchStart.target;g&&o.eMenu.contains(_t)||o.sortController.progressSort(o.params.column,!1,"uiColumnSorted")};this.addManagedListener(h,TouchListener.EVENT_TAP,nt)}this.addDestroyFunc(function(){return h.destroy()}),b&&this.addDestroyFunc(function(){return $.destroy()})}},e.prototype.workOutShowMenu=function(){var o=!this.gridOptionsWrapper.isSuppressMenuHide(),c=isIOSUserAgent()&&o,h=this.params.enableMenu&&!c;return h},e.prototype.setMenu=function(){var o=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){removeFromParent(this.eMenu);return}var c=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return o.showMenu(o.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",c)}},e.prototype.showMenu=function(o){o||(o=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,o,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var o=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new SortIndicatorComp(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){var c=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Column.EVENT_MOVING_CHANGED,function(){o.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(g){var b=o.params.column.isMoving(),$=new Date().getTime(),j=$-o.lastMovingChanged<50,rt=b||j;if(!rt){var nt=c?g.ctrlKey||g.metaKey:g.shiftKey;o.params.progressSort(nt)}});var h=function(){var g;if(o.addOrRemoveCssClass("ag-header-cell-sorted-asc",o.params.column.isSortAscending()),o.addOrRemoveCssClass("ag-header-cell-sorted-desc",o.params.column.isSortDescending()),o.addOrRemoveCssClass("ag-header-cell-sorted-none",o.params.column.isSortNone()),o.params.column.getColDef().showRowGroup){var b=o.columnModel.getSourceColumnsForGroupColumn(o.params.column),$=(g=b)===null||g===void 0?void 0:g.every(function(rt){return o.params.column.getSort()==rt.getSort()}),j=!$;o.addOrRemoveCssClass("ag-header-cell-sorted-mixed",j)}};this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,h),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,h)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var o=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!o)},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,__decorate$28([Autowired("sortController")],e.prototype,"sortController",void 0),__decorate$28([Autowired("menuFactory")],e.prototype,"menuFactory",void 0),__decorate$28([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$28([RefSelector("eFilter")],e.prototype,"eFilter",void 0),__decorate$28([RefSelector("eSortIndicator")],e.prototype,"eSortIndicator",void 0),__decorate$28([RefSelector("eMenu")],e.prototype,"eMenu",void 0),__decorate$28([RefSelector("eLabel")],e.prototype,"eLabel",void 0),__decorate$28([RefSelector("eText")],e.prototype,"eText",void 0),__decorate$28([RefSelector("eSortOrder")],e.prototype,"eSortOrder",void 0),__decorate$28([RefSelector("eSortAsc")],e.prototype,"eSortAsc",void 0),__decorate$28([RefSelector("eSortDesc")],e.prototype,"eSortDesc",void 0),__decorate$28([RefSelector("eSortMixed")],e.prototype,"eSortMixed",void 0),__decorate$28([RefSelector("eSortNone")],e.prototype,"eSortNone",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2r=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$27=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderGroupComp=function(a){__extends$2r(e,a);function e(){return a.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.prototype.init=function(o){this.params=o,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var o=this.params;if(o.template){var c="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";doOnce(function(){return console.warn(c)},"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var o=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var c=function(b){if(!isStopPropagationForAgGrid(b)){var $=!o.params.columnGroup.isExpanded();o.columnModel.setColumnGroupOpened(o.params.columnGroup.getProvidedColumnGroup(),$,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,c),this.addTouchAndClickListeners(this.eOpenIcon,c);var h=function(b){stopPropagationForAgGrid(b)};this.addManagedListener(this.eCloseIcon,"dblclick",h),this.addManagedListener(this.eOpenIcon,"dblclick",h),this.addManagedListener(this.getGui(),"dblclick",c),this.updateIconVisibility();var g=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(g,ProvidedColumnGroup.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(g,ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(o,c){var h=new TouchListener(o,!0);this.addManagedListener(h,TouchListener.EVENT_TAP,c),this.addDestroyFunc(function(){return h.destroy()}),this.addManagedListener(o,"click",c)},e.prototype.updateIconVisibility=function(){var o=this.params.columnGroup;if(o.isExpandable()){var c=this.params.columnGroup.isExpanded();setDisplayed(this.eOpenIcon,c),setDisplayed(this.eCloseIcon,!c)}else setDisplayed(this.eOpenIcon,!1),setDisplayed(this.eCloseIcon,!1)},e.prototype.addInIcon=function(o,c){var h=createIconNoSpan(o,this.gridOptionsWrapper,null);h&&this.getRefElement(c).appendChild(h)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){setDisplayed(this.eOpenIcon,!1),setDisplayed(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var o=this.params.displayName;if(exists(o)){var c=escapeString(o);this.getRefElement("agLabel").innerHTML=c}},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,__decorate$27([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$27([RefSelector("agOpened")],e.prototype,"eOpenIcon",void 0),__decorate$27([RefSelector("agClosed")],e.prototype,"eCloseIcon",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2q=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),PopupComponent=function(a){__extends$2q(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(o){o.addCssClass("ag-has-popup"),a.prototype.setParentComponent.call(this,o)},e.prototype.destroy=function(){var o=this.parentComponent,c=o&&o.isAlive();c&&o.getGui().classList.remove("ag-has-popup"),a.prototype.destroy.call(this)},e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2p=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$26=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},LargeTextCellEditor=function(a){__extends$2p(e,a);function e(){return a.call(this,e.TEMPLATE)||this}return e.prototype.init=function(o){this.params=o,this.focusAfterAttached=o.cellStartedEdit,this.eTextArea.setMaxLength(o.maxLength||200).setCols(o.cols||60).setRows(o.rows||10),exists(o.value)&&this.eTextArea.setValue(o.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(o){var c=o.key;(c===KeyCode.LEFT||c===KeyCode.UP||c===KeyCode.RIGHT||c===KeyCode.DOWN||o.shiftKey&&c===KeyCode.ENTER)&&o.stopPropagation()},e.prototype.afterGuiAttached=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(o("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE=`<div class="ag-large-text" tabindex="0">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,__decorate$26([RefSelector("eTextArea")],e.prototype,"eTextArea",void 0),e}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2o=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$25=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SelectCellEditor=function(a){__extends$2o(e,a);function e(){var o=a.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return o.startedByEnter=!1,o}return e.prototype.init=function(o){var c=this;if(this.focusAfterAttached=o.cellStartedEdit,missing(o.values)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=o.eventKey!=null?o.eventKey===KeyCode.ENTER:!1;var h=!1;o.values.forEach(function(g){var b={value:g},$=c.valueFormatterService.formatValue(o.column,null,g),j=$!=null;b.text=j?$:g,c.eSelect.addOption(b),h=h||o.value===g}),h?this.eSelect.setValue(o.value,!0):o.values.length&&this.eSelect.setValue(o.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return o.stopEditing()})},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},__decorate$25([Autowired("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$25([RefSelector("eSelect")],e.prototype,"eSelect",void 0),e}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2n=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),PopupSelectCellEditor=function(a){__extends$2n(e,a);function e(){var o=a.call(this)||this;return doOnce(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),o}return e.prototype.isPopup=function(){return!0},e}(SelectCellEditor);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2m=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$24=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},TextCellEditor=function(a){__extends$2m(e,a);function e(){return a.call(this,e.TEMPLATE)||this}return e.prototype.init=function(o){this.params=o;var c=this.eInput,h;o.cellStartedEdit?(this.focusAfterAttached=!0,o.eventKey===KeyCode.BACKSPACE||o.eventKey===KeyCode.DELETE?h="":o.charPress?h=o.charPress:(h=this.getStartValue(o),o.eventKey!==KeyCode.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,h=this.getStartValue(o)),h!=null&&c.setValue(h,!0),o.maxLength!=null&&c.setMaxLength(o.maxLength),this.addManagedListener(c.getGui(),"keydown",function(g){var b=g.key;(b===KeyCode.PAGE_UP||b===KeyCode.PAGE_DOWN)&&g.preventDefault()})},e.prototype.afterGuiAttached=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.eInput;if(c.setInputAriaLabel(o("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){isBrowserSafari()||c.getFocusableElement().focus();var h=c.getInputElement();if(this.highlightAllOnFocus)h.select();else{var g=c.getValue(),b=exists(g)&&g.length||0;b&&h.setSelectionRange(b,b)}}},e.prototype.focusIn=function(){var o=this.eInput,c=o.getFocusableElement(),h=o.getInputElement();c.focus(),h.select()},e.prototype.getValue=function(){var o=this.eInput;return this.params.parseValue(o.getValue())},e.prototype.getStartValue=function(o){var c=o.useFormatter||o.column.getColDef().refData;return c?o.formatValue(o.value):o.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE=`<div class="ag-cell-edit-wrapper">
            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>
        </div>`,__decorate$24([RefSelector("eInput")],e.prototype,"eInput",void 0),e}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2l=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),PopupTextCellEditor=function(a){__extends$2l(e,a);function e(){var o=a.call(this)||this;return doOnce(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),o}return e.prototype.isPopup=function(){return!0},e}(TextCellEditor);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2k=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$23=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ARROW_UP="↑",ARROW_DOWN="↓",AnimateShowChangeCellRenderer=function(a){__extends$2k(e,a);function e(){var o=a.call(this,e.TEMPLATE)||this;return o.refreshCount=0,o}return e.prototype.init=function(o){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(o)},e.prototype.showDelta=function(o,c){var h=Math.abs(c),g=o.formatValue(h),b=exists(g)?g:h,$=c>=0;$?this.eDelta.innerHTML=ARROW_UP+b:this.eDelta.innerHTML=ARROW_DOWN+b,this.eDelta.classList.toggle("ag-value-change-delta-up",$),this.eDelta.classList.toggle("ag-value-change-delta-down",!$)},e.prototype.setTimerToRemoveDelta=function(){var o=this;this.refreshCount++;var c=this.refreshCount;window.setTimeout(function(){c===o.refreshCount&&o.hideDeltaValue()},2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),clearElement(this.eDelta)},e.prototype.refresh=function(o){var c=o.value;if(c===this.lastValue||(exists(o.valueFormatted)?this.eValue.innerHTML=o.valueFormatted:exists(o.value)?this.eValue.innerHTML=c:clearElement(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof c=="number"&&typeof this.lastValue=="number"){var h=c-this.lastValue;this.showDelta(o,h)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=c,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',__decorate$23([Autowired("filterManager")],e.prototype,"filterManager",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2j=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$22=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AnimateSlideCellRenderer=function(a){__extends$2j(e,a);function e(){var o=a.call(this,e.TEMPLATE)||this;return o.refreshCount=0,o.eCurrent=o.queryForHtmlElement(".ag-value-slide-current"),o}return e.prototype.init=function(o){this.refresh(o)},e.prototype.addSlideAnimation=function(){var o=this;this.refreshCount++;var c=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){c===o.refreshCount&&o.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){c===o.refreshCount&&(o.getGui().removeChild(o.ePrevious),o.ePrevious=null)},3e3)},e.prototype.refresh=function(o){var c=o.value;return missing(c)&&(c=""),c===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=c,exists(o.valueFormatted)?this.eCurrent.innerHTML=o.valueFormatted:exists(o.value)?this.eCurrent.innerHTML=c:clearElement(this.eCurrent),!0)},e.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,__decorate$22([Autowired("filterManager")],e.prototype,"filterManager",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var RowHighlightPosition;(function(a){a[a.Above=0]="Above",a[a.Below=1]="Below"})(RowHighlightPosition||(RowHighlightPosition={}));var RowNode=function(){function a(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=a.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=e}return a.prototype.setData=function(e){this.setDataCommon(e,!1)},a.prototype.updateData=function(e){this.setDataCommon(e,!0)},a.prototype.setDataCommon=function(e,o){var c=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var h=this.createDataChangedEvent(e,c,o);this.dispatchLocalEvent(h)},a.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},a.prototype.createDataChangedEvent=function(e,o,c){return{type:a.EVENT_DATA_CHANGED,node:this,oldData:o,newData:e,update:c}},a.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},a.prototype.getRowIndexString=function(){return this.rowPinned===Constants.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===Constants.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},a.prototype.createDaemonNode=function(){var e=new a(this.beans);return e.id=this.id,e.data=this.data,e.daemon=!0,e.selected=this.selected,e.level=this.level,e},a.prototype.setDataAndId=function(e,o){var c=exists(this.id)?this.createDaemonNode():null,h=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(o),this.beans.selectionService.syncInRowNode(this,c),this.checkRowSelectable();var g=this.createDataChangedEvent(e,h,!1);this.dispatchLocalEvent(g)},a.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(e?e(this):!0)},a.prototype.setRowSelectable=function(e){if(this.selectable!==e){this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_SELECTABLE_CHANGED));var o=this.beans.gridOptionsWrapper.isGroupSelectsChildren();if(o){var c=this.calculateSelectedFromChildren();this.setSelected(c??!1)}}},a.prototype.setId=function(e){var o=this.beans.gridOptionsWrapper.getRowIdFunc();if(o)if(this.data){var c=this.getGroupKeys(!0);this.id=o({data:this.data,parentKeys:c.length>0?c:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(a.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+a.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},a.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var o=[],c=this;for(e&&(c=c.parent);c&&c.level>=0;)o.push(c.key),c=c.parent;return o.reverse(),o},a.prototype.isPixelInRange=function(e){return!exists(this.rowTop)||!exists(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},a.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_FIRST_CHILD_CHANGED)))},a.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_LAST_CHILD_CHANGED)))},a.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_CHILD_INDEX_CHANGED)))},a.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},a.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},a.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_DISPLAYED_CHANGED)))},a.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_DRAGGING_CHANGED)))},a.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HIGHLIGHT_CHANGED)))},a.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},a.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_MASTER_CHANGED)))},a.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_GROUP_CHANGED)))},a.prototype.setRowHeight=function(e,o){o===void 0&&(o=!1),this.rowHeight=e,this.rowHeightEstimated=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HEIGHT_CHANGED))},a.prototype.setRowAutoHeight=function(e,o){this.__autoHeights||(this.__autoHeights={});var c=this.__autoHeights;c[o.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=debounce$2(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},a.prototype.checkAutoHeights=function(){var e=!1,o=!0,c=0,h=this.__autoHeights;if(h!=null){var g=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(g.forEach(function($){var j=h[$.getId()];if(j==null){e=!0;return}o=!1,j>c&&(c=j)}),!e&&((o||c<10)&&(c=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),c!=this.rowHeight)){this.setRowHeight(c);var b=this.beans.rowModel;b.onRowHeightChangedDebounced&&b.onRowHeightChangedDebounced()}}},a.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_ROW_INDEX_CHANGED)))},a.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_UI_LEVEL_CHANGED)))},a.prototype.setExpanded=function(e,o){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_EXPANDED_CHANGED));var c=Object.assign({},this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED),{expanded:e,event:o||null});this.beans.rowNodeEventThrottle.dispatchExpanded(c),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},a.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},a.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},a.prototype.setDataValue=function(e,o,c){var h=this.beans.columnModel.getPrimaryColumn(e),g=this.beans.valueService.getValue(h,this),b=this.beans.valueService.setValue(this,h,o,c);return this.dispatchCellChangedEvent(h,o,g),this.checkRowSelectable(),b},a.prototype.setGroupValue=function(e,o){var c=this.beans.columnModel.getGridColumn(e);missing(this.groupData)&&(this.groupData={});var h=c.getColId(),g=this.groupData[h];g!==o&&(this.groupData[h]=o,this.dispatchCellChangedEvent(c,o,g))},a.prototype.setAggData=function(e){var o=this,c=getAllKeysInObjects([this.aggData,e]),h=this.aggData;this.aggData=e,this.eventService&&c.forEach(function(g){var b=o.beans.columnModel.getGridColumn(g),$=o.aggData?o.aggData[g]:void 0,j=h?h[g]:void 0;o.dispatchCellChangedEvent(b,$,j)})},a.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HAS_CHILDREN_CHANGED)))},a.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},a.prototype.isEmptyRowGroupNode=function(){return this.group&&missingOrEmpty(this.childrenAfterGroup)},a.prototype.dispatchCellChangedEvent=function(e,o,c){var h={type:a.EVENT_CELL_CHANGED,node:this,column:e,newValue:o,oldValue:c};this.dispatchLocalEvent(h)},a.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},a.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},a.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},a.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(o){return o.depthFirstSearch(e)}),e(this)},a.prototype.calculateSelectedFromChildren=function(){var e,o=!1,c=!1,h=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var g=0;g<this.childrenAfterGroup.length;g++){var b=this.childrenAfterGroup[g],$=b.isSelected();if(!b.selectable){var j=b.calculateSelectedFromChildren();if(j===null)continue;$=j}switch($){case!0:o=!0;break;case!1:c=!0;break;default:h=!0;break}}if(!(h||o&&c))return o?!0:c?!1:this.selectable?this.selected:null},a.prototype.setSelectedInitialValue=function(e){this.selected=e},a.prototype.setSelected=function(e,o,c){o===void 0&&(o=!1),c===void 0&&(c=!1),this.setSelectedParams({newValue:e,clearSelection:o,suppressFinishActions:c,rangeSelect:!1})},a.prototype.isRowPinned=function(){return this.rowPinned===Constants.PINNED_TOP||this.rowPinned===Constants.PINNED_BOTTOM},a.prototype.setSelectedParams=function(e){var o,c=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),h=e.newValue===!0,g=e.clearSelection===!0,b=e.suppressFinishActions===!0,$=e.rangeSelect===!0,j=c&&e.groupSelectsFiltered===!0;if(this.id===void 0)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if($&&this.beans.selectionService.getLastSelectedNode()){var rt=this.beans.selectionService.getLastSelectedNode()!==this,nt=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(rt&&nt){var ot=this.doRowRangeSelection(e.newValue);return this.beans.selectionService.setLastSelectedNode(this),ot}}var _t=0,Et=j&&this.group;if(!Et){var It=this.selectThisNode(h,e.event);It&&_t++}if(c&&(!((o=this.childrenAfterGroup)===null||o===void 0)&&o.length)&&(_t+=this.selectChildNodes(h,j)),!b){var it=h&&(g||!this.beans.gridOptionsWrapper.isRowSelectionMulti());if(it&&(_t+=this.beans.selectionService.clearOtherNodes(this)),_t>0){this.beans.selectionService.updateGroupsFromChildrenSelections();var st={type:Events.EVENT_SELECTION_CHANGED};this.beans.eventService.dispatchEvent(st)}h&&this.beans.selectionService.setLastSelectedNode(this)}return _t},a.prototype.doRowRangeSelection=function(e){var o=this;e===void 0&&(e=!0);var c=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),h=this.beans.selectionService.getLastSelectedNode(),g=this.beans.rowModel.getNodesInRangeForSelection(this,h),b=0;g.forEach(function(j){if(!(j.group&&c||e===!1&&o===j)){var rt=j.selectThisNode(e);rt&&b++}}),this.beans.selectionService.updateGroupsFromChildrenSelections();var $={type:Events.EVENT_SELECTION_CHANGED};return this.beans.eventService.dispatchEvent($),b},a.prototype.isParentOfNode=function(e){for(var o=this.parent;o;){if(o===e)return!0;o=o.parent}return!1},a.prototype.selectThisNode=function(e,o){var c=!this.selectable&&e,h=this.selected===e;if(c||h)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_ROW_SELECTED));var g=Object.assign({},this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED),{event:o||null});return this.beans.eventService.dispatchEvent(g),!0},a.prototype.selectChildNodes=function(e,o){var c=o?this.childrenAfterAggFilter:this.childrenAfterGroup;if(missing(c))return 0;for(var h=0,g=0;g<c.length;g++)h+=c[g].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:o});return h},a.prototype.addEventListener=function(e,o){this.eventService||(this.eventService=new EventService),this.eventService.addEventListener(e,o)},a.prototype.removeEventListener=function(e,o){this.eventService&&(this.eventService.removeEventListener(e,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},a.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_MOUSE_ENTER))},a.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_MOUSE_LEAVE))},a.prototype.getFirstChildOfFirstChild=function(e){for(var o=this,c=!0,h=!1,g=null;c&&!h;){var b=o.parent,$=exists(b)&&o.firstChild;$?b.rowGroupColumn===e&&(h=!0,g=b):c=!1,o=b}return h?g:null},a.prototype.isFullWidthCell=function(){var e=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return e?e({rowNode:this}):!1},a.prototype.getRoute=function(){if(this.key!=null){for(var e=[],o=this;o.key!=null;)e.push(o.key),o=o.parent;return e.reverse()}},a.ID_PREFIX_ROW_GROUP="row-group-",a.ID_PREFIX_TOP_PINNED="t-",a.ID_PREFIX_BOTTOM_PINNED="b-",a.OBJECT_ID_SEQUENCE=0,a.EVENT_ROW_SELECTED="rowSelected",a.EVENT_DATA_CHANGED="dataChanged",a.EVENT_CELL_CHANGED="cellChanged",a.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",a.EVENT_MASTER_CHANGED="masterChanged",a.EVENT_GROUP_CHANGED="groupChanged",a.EVENT_MOUSE_ENTER="mouseEnter",a.EVENT_MOUSE_LEAVE="mouseLeave",a.EVENT_HEIGHT_CHANGED="heightChanged",a.EVENT_TOP_CHANGED="topChanged",a.EVENT_DISPLAYED_CHANGED="displayedChanged",a.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",a.EVENT_LAST_CHILD_CHANGED="lastChildChanged",a.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",a.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",a.EVENT_EXPANDED_CHANGED="expandedChanged",a.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",a.EVENT_SELECTABLE_CHANGED="selectableChanged",a.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",a.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",a.EVENT_DRAGGING_CHANGED="draggingChanged",a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2i=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$9$1=function(){return __assign$9$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$9$1.apply(this,arguments)},__decorate$21=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},CheckboxSelectionComponent=function(a){__extends$2i(e,a);function e(){return a.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.rowNode.isSelected(),h=c===void 0?o("ariaIndeterminate","indeterminate"):c===!0?o("ariaChecked","checked"):o("ariaUnchecked","unchecked"),g=o("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(c,!0),this.eCheckbox.setInputAriaLabel(g+" ("+h+")")},e.prototype.onCheckedClicked=function(o){var c=this.gridOptionsWrapper.isGroupSelectsFiltered(),h=this.rowNode.setSelectedParams({newValue:!1,rangeSelect:o.shiftKey,groupSelectsFiltered:c});return h},e.prototype.onUncheckedClicked=function(o){var c=this.gridOptionsWrapper.isGroupSelectsFiltered(),h=this.rowNode.setSelectedParams({newValue:!0,rangeSelect:o.shiftKey,groupSelectsFiltered:c});return h},e.prototype.init=function(o){var c=this;this.rowNode=o.rowNode,this.column=o.column,this.overrides=o.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function($){stopPropagationForAgGrid($)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function($){stopPropagationForAgGrid($);var j=c.eCheckbox.getValue(),rt=c.eCheckbox.getPreviousValue();if(rt===void 0||j===void 0){var nt=c.onUncheckedClicked($||{});nt===0&&c.onCheckedClicked($)}else j?c.onCheckedClicked($):c.onUncheckedClicked($||{})}),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var h=this.gridOptionsWrapper.getIsRowSelectableFunc(),g=h||typeof this.getIsVisible()=="function";if(g){var b=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,b),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,b),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,b),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var o,c,h,g,b=this.rowNode.selectable,$=this.getIsVisible();if(b)if(typeof $=="function"){var j=(o=this.overrides)===null||o===void 0?void 0:o.callbackParams,rt=(c=this.column)===null||c===void 0?void 0:c.createColumnFunctionCallbackParams(this.rowNode);b=rt?$(__assign$9$1(__assign$9$1({},j),rt)):!1}else b=$??!1;var nt=(h=this.column)===null||h===void 0?void 0:h.getColDef().showDisabledCheckboxes;if(nt){this.eCheckbox.setDisabled(!b),this.setVisible(!0),this.setDisplayed(!0);return}if(!((g=this.overrides)===null||g===void 0)&&g.removeHidden){this.setDisplayed(b);return}this.setVisible(b)},e.prototype.getIsVisible=function(){var o,c;return this.overrides?this.overrides.isVisible:(c=(o=this.column)===null||o===void 0?void 0:o.getColDef())===null||c===void 0?void 0:c.checkboxSelection},__decorate$21([RefSelector("eCheckbox")],e.prototype,"eCheckbox",void 0),__decorate$21([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2h=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$20=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__values$3=function(a){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&a[e],c=0;if(o)return o.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DragSourceType;(function(a){a[a.ToolPanel=0]="ToolPanel",a[a.HeaderCell=1]="HeaderCell",a[a.RowDrag=2]="RowDrag",a[a.ChartPanel=3]="ChartPanel"})(DragSourceType||(DragSourceType={}));var VerticalDirection;(function(a){a[a.Up=0]="Up",a[a.Down=1]="Down"})(VerticalDirection||(VerticalDirection={}));var HorizontalDirection;(function(a){a[a.Left=0]="Left",a[a.Right=1]="Right"})(HorizontalDirection||(HorizontalDirection={}));var DragAndDropService=function(a){__extends$2h(e,a);function e(){var c=a!==null&&a.apply(this,arguments)||this;return c.dragSourceAndParamsList=[],c.dropTargets=[],c}o=e,e.prototype.init=function(){this.ePinnedIcon=createIcon("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=createIcon("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=createIcon("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=createIcon("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=createIcon("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=createIcon("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=createIcon("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=createIcon("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=createIcon("dropNotAllowed",this.gridOptionsWrapper,null)},e.prototype.addDragSource=function(c,h){h===void 0&&(h=!1);var g={eElement:c.eElement,dragStartPixels:c.dragStartPixels,onDragStart:this.onDragStart.bind(this,c),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:g,dragSource:c}),this.dragService.addDragSource(g,h)},e.prototype.removeDragSource=function(c){var h=this.dragSourceAndParamsList.find(function(g){return g.dragSource===c});h&&(this.dragService.removeDragSource(h.params),removeFromArray(this.dragSourceAndParamsList,h))},e.prototype.clearDragSourceParamsList=function(){var c=this;this.dragSourceAndParamsList.forEach(function(h){return c.dragService.removeDragSource(h.params)}),this.dragSourceAndParamsList.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(c,h){this.dragging=!0,this.dragSource=c,this.eventLastTime=h,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(c){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var h=this.createDropTargetEvent(this.lastDropTarget,c,null,null,!1);this.lastDropTarget.onDragStop(h)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(c,h){var g=this,b,$,j,rt,nt=this.getHorizontalDirection(c),ot=this.getVerticalDirection(c);this.eventLastTime=c,this.positionGhost(c);var _t=this.dropTargets.filter(function(it){return g.isMouseOnDropTarget(c,it)}),Et=this.findCurrentDropTarget(c,_t);if(Et!==this.lastDropTarget)this.leaveLastTargetIfExists(c,nt,ot,h),this.lastDropTarget!==null&&Et===null&&(($=(b=this.dragSource).onGridExit)===null||$===void 0||$.call(b,this.dragItem)),this.lastDropTarget===null&&Et!==null&&((rt=(j=this.dragSource).onGridEnter)===null||rt===void 0||rt.call(j,this.dragItem)),this.enterDragTargetIfExists(Et,c,nt,ot,h),this.lastDropTarget=Et;else if(Et&&Et.onDragging){var It=this.createDropTargetEvent(Et,c,nt,ot,h);Et.onDragging(It)}},e.prototype.getAllContainersFromDropTarget=function(c){var h=c.getSecondaryContainers?c.getSecondaryContainers():null,g=[[c.getContainer()]];return h?g.concat(h):g},e.prototype.allContainersIntersect=function(c,h){var g,b;try{for(var $=__values$3(h),j=$.next();!j.done;j=$.next()){var rt=j.value,nt=rt.getBoundingClientRect();if(nt.width===0||nt.height===0)return!1;var ot=c.clientX>=nt.left&&c.clientX<nt.right,_t=c.clientY>=nt.top&&c.clientY<nt.bottom;if(!ot||!_t)return!1}}catch(Et){g={error:Et}}finally{try{j&&!j.done&&(b=$.return)&&b.call($)}finally{if(g)throw g.error}}return!0},e.prototype.isMouseOnDropTarget=function(c,h){var g,b,$=this.getAllContainersFromDropTarget(h),j=!1;try{for(var rt=__values$3($),nt=rt.next();!nt.done;nt=rt.next()){var ot=nt.value;if(this.allContainersIntersect(c,ot)){j=!0;break}}}catch(_t){g={error:_t}}finally{try{nt&&!nt.done&&(b=rt.return)&&b.call(rt)}finally{if(g)throw g.error}}return h.targetContainsSource&&!h.getContainer().contains(this.dragSource.eElement)?!1:j&&h.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(c,h){var g,b,$,j,rt=h.length;if(rt===0)return null;if(rt===1)return h[0];var nt=this.gridOptionsWrapper.getDocument(),ot=nt.elementsFromPoint(c.clientX,c.clientY);try{for(var _t=__values$3(ot),Et=_t.next();!Et.done;Et=_t.next()){var It=Et.value;try{for(var it=($=void 0,__values$3(h)),st=it.next();!st.done;st=it.next()){var Mt=st.value,bt=flatten(this.getAllContainersFromDropTarget(Mt));if(bt.indexOf(It)!==-1)return Mt}}catch(Lt){$={error:Lt}}finally{try{st&&!st.done&&(j=it.return)&&j.call(it)}finally{if($)throw $.error}}}}catch(Lt){g={error:Lt}}finally{try{Et&&!Et.done&&(b=_t.return)&&b.call(_t)}finally{if(g)throw g.error}}return null},e.prototype.enterDragTargetIfExists=function(c,h,g,b,$){if(c){if(c.onDragEnter){var j=this.createDropTargetEvent(c,h,g,b,$);c.onDragEnter(j)}this.setGhostIcon(c.getIconName?c.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(c,h,g,b){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var $=this.createDropTargetEvent(this.lastDropTarget,c,h,g,b);this.lastDropTarget.onDragLeave($)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(c){this.dropTargets.push(c)},e.prototype.removeDropTarget=function(c){this.dropTargets=this.dropTargets.filter(function(h){return h.getContainer()!==c.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(c){return c.external})},e.prototype.findExternalZone=function(c){var h=this.dropTargets.filter(function(g){return g.external});return h.find(function(g){return g.getContainer()===c.getContainer()})||null},e.prototype.getHorizontalDirection=function(c){var h=this.eventLastTime&&this.eventLastTime.clientX,g=c.clientX;return h===g?null:h>g?HorizontalDirection.Left:HorizontalDirection.Right},e.prototype.getVerticalDirection=function(c){var h=this.eventLastTime&&this.eventLastTime.clientY,g=c.clientY;return h===g?null:h>g?VerticalDirection.Up:VerticalDirection.Down},e.prototype.createDropTargetEvent=function(c,h,g,b,$){var j=c.getContainer(),rt=j.getBoundingClientRect(),nt=this,ot=nt.gridApi,_t=nt.columnApi,Et=nt.dragItem,It=nt.dragSource,it=h.clientX-rt.left,st=h.clientY-rt.top;return{event:h,x:it,y:st,vDirection:b,hDirection:g,dragSource:It,fromNudge:$,dragItem:Et,api:ot,columnApi:_t,dropZoneTarget:j}},e.prototype.positionGhost=function(c){var h=this.eGhost;if(h){var g=h.getBoundingClientRect(),b=g.height,$=getBodyWidth()-2,j=getBodyHeight()-2,rt=c.pageY-b/2,nt=c.pageX-10,ot=this.gridOptionsWrapper.getDocument(),_t=ot.defaultView||window,Et=_t.pageYOffset||ot.documentElement.scrollTop,It=_t.pageXOffset||ot.documentElement.scrollLeft;$>0&&nt+h.clientWidth>$+It&&(nt=$+It-h.clientWidth),nt<0&&(nt=0),j>0&&rt+h.clientHeight>j+Et&&(rt=j+Et-h.clientHeight),rt<0&&(rt=0),h.style.left=nt+"px",h.style.top=rt+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=loadTemplate(o.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var c=this.environment.getTheme().theme;c&&this.eGhost.classList.add(c),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var h=this.eGhost.querySelector(".ag-dnd-ghost-label"),g=this.dragSource.dragItemName;isFunction$1(g)&&(g=g()),h.innerHTML=escapeString(g)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var b=this.gridOptionsWrapper.getDocument(),$=null;try{$=b.fullscreenElement}catch{}finally{$||($=b.querySelector("body"))}this.eGhostParent=$,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(c,h){h===void 0&&(h=!1),clearElement(this.eGhostIcon);var g=null;switch(c||(c=this.dragSource.defaultIconName||o.ICON_NOT_ALLOWED),c){case o.ICON_PINNED:g=this.ePinnedIcon;break;case o.ICON_MOVE:g=this.eMoveIcon;break;case o.ICON_LEFT:g=this.eLeftIcon;break;case o.ICON_RIGHT:g=this.eRightIcon;break;case o.ICON_GROUP:g=this.eGroupIcon;break;case o.ICON_AGGREGATE:g=this.eAggregateIcon;break;case o.ICON_PIVOT:g=this.ePivotIcon;break;case o.ICON_NOT_ALLOWED:g=this.eDropNotAllowedIcon;break;case o.ICON_HIDE:g=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",h),!(g===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&g&&this.eGhostIcon.appendChild(g)};var o;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,__decorate$20([Autowired("dragService")],e.prototype,"dragService",void 0),__decorate$20([Autowired("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$20([Autowired("environment")],e.prototype,"environment",void 0),__decorate$20([Autowired("columnApi")],e.prototype,"columnApi",void 0),__decorate$20([Autowired("gridApi")],e.prototype,"gridApi",void 0),__decorate$20([PostConstruct],e.prototype,"init",null),__decorate$20([PreDestroy],e.prototype,"clearDragSourceParamsList",null),e=o=__decorate$20([Bean("dragAndDropService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2g=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1$=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RowDragComp=function(a){__extends$2g(e,a);function e(o,c,h,g,b,$){var j=a.call(this)||this;return j.cellValueFn=o,j.rowNode=c,j.column=h,j.customGui=g,j.dragStartPixels=b,j.suppressVisibilityChange=$,j.dragSource=null,j}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var o=this.beans.gridOptionsWrapper.isRowDragManaged()?new ManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column):new NonManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column);this.createManagedBean(o,this.beans.context)}},e.prototype.setDragElement=function(o,c){this.setTemplateFromElement(o),this.addDragSource(c)},e.prototype.getSelectedNodes=function(){var o=this.beans.gridOptionsWrapper.isRowDragMultiRow();if(!o)return[this.rowNode];var c=this.beans.selectionService.getSelectedNodes();return c.indexOf(this.rowNode)!==-1?c:[this.rowNode]},e.prototype.checkCompatibility=function(){var o=this.beans.gridOptionsWrapper.isRowDragManaged(),c=this.beans.gridOptionsWrapper.isTreeData();c&&o&&doOnce(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.addDragSource=function(o){var c=this;o===void 0&&(o=4),this.dragSource&&this.removeDragSource();var h=this.gridOptionsWrapper.getRowDragText(this.column),g=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var b,$=c.getDragItem(),j=((b=$.rowNodes)===null||b===void 0?void 0:b.length)||1;return h?h($,j):j===1?c.cellValueFn():j+" "+g("rowDragRows","rows")},getDragItem:function(){return c.getDragItem()},dragStartPixels:o,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},__decorate$1$([Autowired("beans")],e.prototype,"beans",void 0),__decorate$1$([PostConstruct],e.prototype,"postConstruct",null),__decorate$1$([PreDestroy],e.prototype,"removeDragSource",null),e}(Component),VisibilityStrategy=function(a){__extends$2g(e,a);function e(o,c,h){var g=a.call(this)||this;return g.parent=o,g.rowNode=c,g.column=h,g}return e.prototype.setDisplayedOrVisible=function(o){if(o)this.parent.setDisplayed(!1);else{var c=!0,h=!1;this.column&&(c=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),h=isFunction$1(this.column.getColDef().rowDrag)),h?(this.parent.setDisplayed(!0),this.parent.setVisible(c)):(this.parent.setDisplayed(c),this.parent.setVisible(!0))}},e}(BeanStub),NonManagedVisibilityStrategy=function(a){__extends$2g(e,a);function e(o,c,h,g){var b=a.call(this,o,h,g)||this;return b.beans=c,b}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var o=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(o)},__decorate$1$([PostConstruct],e.prototype,"postConstruct",null),e}(VisibilityStrategy),ManagedVisibilityStrategy=function(a){__extends$2g(e,a);function e(o,c,h,g){var b=a.call(this,o,h,g)||this;return b.beans=c,b}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Events.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var o=this.beans.ctrlsService.getGridBodyCtrl(),c=o.getRowDragFeature(),h=c&&c.shouldPreventRowMove(),g=this.beans.gridOptionsWrapper.isSuppressRowDrag(),b=this.beans.dragAndDropService.hasExternalDropZones(),$=h&&!b||g;this.setDisplayedOrVisible($)},__decorate$1$([PostConstruct],e.prototype,"postConstruct",null),e}(VisibilityStrategy);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2f=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$8$1=function(){return __assign$8$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$8$1.apply(this,arguments)},__decorate$1_=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GroupCellRendererCtrl=function(a){__extends$2f(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(o,c,h,g,b,$,j){this.params=j,this.eGui=c,this.eCheckbox=h,this.eExpanded=g,this.eContracted=b,this.comp=o,this.compClass=$;var rt=this.isTopLevelFooter(),nt=this.isEmbeddedRowMismatch(),ot=j.value==null,_t=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var Et=j.node;if(Et.footer){var It=j.colDef&&j.colDef.showRowGroup,it=Et.rowGroupColumn&&Et.rowGroupColumn.getColId();_t=It!==it}}this.cellIsBlank=rt?!1:nt||ot||_t,!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var o=this.params,c=o.node,h=o.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){removeAriaExpanded(h);return}var g=function(){setAriaExpanded(h,!!c.expanded)};this.expandListener=this.addManagedListener(c,RowNode.EVENT_EXPANDED_CHANGED,g)||null,g()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||this.params.value!=null||this.params.node.level!=-1)return!1;var o=this.params.colDef,c=o==null;if(c||o.showRowGroup===!0)return!0;var h=this.columnModel.getRowGroupColumns();if(!h||h.length===0)return!0;var g=h[0];return g.getId()===o.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var o=this.params.pinned===Constants.PINNED_LEFT,c=this.params.pinned===Constants.PINNED_RIGHT,h=!o&&!c;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!c:!h:this.columnModel.isPinningLeft()?!o:!h},e.prototype.findDisplayedGroupNode=function(){var o=this.params.column,c=this.params.node;if(this.showingValueForOpenedParent)for(var h=c.parent;h!=null;){if(h.rowGroupColumn&&o.isRowGroupDisplayed(h.rowGroupColumn.getId())){this.displayedGroupNode=h;break}h=h.parent}missing(this.displayedGroupNode)&&(this.displayedGroupNode=c)},e.prototype.setupShowingValueForOpenedParent=function(){var o=this.params.node,c=this.params.column;if(!this.gridOptionsWrapper.isGroupHideOpenParents()){this.showingValueForOpenedParent=!1;return}if(!o.groupData){this.showingValueForOpenedParent=!1;return}var h=o.rowGroupColumn!=null;if(h){var g=o.rowGroupColumn.getId(),b=c.isRowGroupDisplayed(g);if(b){this.showingValueForOpenedParent=!1;return}}var $=o.groupData[c.getId()]!=null;this.showingValueForOpenedParent=$},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var o=this.adjustParamsWithDetailsFromRelatedColumn(),c=this.getInnerCompDetails(o),h=o.valueFormatted,g=o.value,b=h??g;this.comp.setInnerRenderer(c,b)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var o=this.displayedGroupNode.rowGroupColumn,c=this.params.column;if(!o)return this.params;var h=c!=null;if(h){var g=c.isRowGroupDisplayed(o.getId());if(!g)return this.params}var b=this.params,$=this.params,j=$.value,rt=$.node,nt=this.valueFormatterService.formatValue(o,rt,j),ot=__assign$8$1(__assign$8$1({},b),{valueFormatted:nt});return ot},e.prototype.addFooterValue=function(){var o=this.params.footerValueGetter,c="";if(o){var h=cloneObject(this.params);h.value=this.params.value,typeof o=="function"?c=o(h):typeof o=="string"?c=this.expressionService.evaluate(o,h):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else c="Total "+(this.params.value!=null?this.params.value:"");var g=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(g,c)},e.prototype.getInnerCompDetails=function(o){var c=this;if(o.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,o);var h=this.userComponentFactory.getInnerRendererDetails(o,o),g=function(nt){return nt&&nt.componentClass==c.compClass};if(h&&!g(h))return h;var b=this.displayedGroupNode.rowGroupColumn,$=b?b.getColDef():void 0;if($){var j=this.userComponentFactory.getCellRendererDetails($,o);if(j&&!g(j))return j;if(g(j)&&$.cellRendererParams&&$.cellRendererParams.innerRenderer){var rt=this.userComponentFactory.getInnerRendererDetails($.cellRendererParams,o);return rt}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var o=this.displayedGroupNode.allChildrenCount,c=this.isShowRowGroupForThisRow(),h=c&&o!=null&&o>=0,g=h?"("+o+")":"";this.comp.setChildCount(g)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var o=this.displayedGroupNode.rowGroupColumn;if(!o)return!1;var c=this.params.column,h=c==null||c.isRowGroupDisplayed(o.getId());return h},e.prototype.addExpandAndContract=function(){var o=this.params,c=createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null),h=createIconNoSpan("groupContracted",this.gridOptionsWrapper,null);c&&this.eExpanded.appendChild(c),h&&this.eContracted.appendChild(h);var g=o.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!o.suppressDoubleClickExpand&&this.addManagedListener(g,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(g,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(o.node,RowNode.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var b=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,b),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_MASTER_CHANGED,b),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_GROUP_CHANGED,b),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_HAS_CHILDREN_CHANGED,b)},e.prototype.onExpandClicked=function(o){isStopPropagationForAgGrid(o)||(stopPropagationForAgGrid(o),this.onExpandOrContract(o))},e.prototype.onExpandOrContract=function(o){var c=this.displayedGroupNode,h=!c.expanded;!h&&c.sticky&&this.scrollToStickyNode(c),c.setExpanded(h,o)},e.prototype.scrollToStickyNode=function(o){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature();h.setVerticalScrollPosition(o.rowTop-o.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var o=this.displayedGroupNode,c=this.columnModel.isPivotMode()&&o.leafGroup,h=o.isExpandable()&&!o.footer&&!c;if(!h)return!1;var g=this.params.column,b=g!=null&&typeof g.getColDef().showRowGroup=="string";if(b){var $=this.isShowRowGroupForThisRow();return $}return!0},e.prototype.showExpandAndContractIcons=function(){var o=this,c=o.params,h=o.displayedGroupNode,g=o.columnModel,b=c.node,$=this.isExpandable();if($){var j=this.showingValueForOpenedParent?!0:b.expanded;this.comp.setExpandedDisplayed(j),this.comp.setContractedDisplayed(!j)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var rt=g.isPivotMode(),nt=rt&&h.leafGroup,ot=$&&!nt,_t=b.footer&&b.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",ot),this.comp.addOrRemoveCssClass("ag-row-group",ot),rt?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",nt):_t||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!ot)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var o=this.params.node,c=this.params.suppressPadding;c||(this.addManagedListener(o,RowNode.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var o=this.params,c=o.node,h=!!o.colDef,g=this.gridOptionsWrapper.isTreeData(),b=!h||g||o.colDef.showRowGroup===!0,$=b?c.uiLevel:0,j=o.padding>=0;j&&doOnce(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+$,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var o=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var c=new RowDragComp(function(){return o.params.value},this.params.node);this.createManagedBean(c,this.context),this.eGui.insertAdjacentElement("afterbegin",c.getGui())}},e.prototype.isUserWantsSelected=function(){var o=this.params.checkbox;return typeof o=="function"||o===!0},e.prototype.addCheckboxIfNeeded=function(){var o=this,c=this.displayedGroupNode,h=this.isUserWantsSelected()&&!c.footer&&!c.rowPinned&&!c.detail;if(h){var g=new CheckboxSelectionComponent;this.getContext().createBean(g),g.init({rowNode:c,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(g.getGui()),this.addDestroyFunc(function(){return o.getContext().destroyBean(g)})}this.comp.setCheckboxVisible(h)},e.prototype.onKeyDown=function(o){var c=o.key===KeyCode.ENTER;if(!(!c||this.params.suppressEnterExpand)){var h=this.params.column&&this.params.column.isCellEditable(this.params.node);h||this.onExpandOrContract(o)}},e.prototype.onCellDblClicked=function(o){if(!isStopPropagationForAgGrid(o)){var c=isElementInEventPath(this.eExpanded,o)||isElementInEventPath(this.eContracted,o);c||this.onExpandOrContract(o)}},__decorate$1_([Autowired("expressionService")],e.prototype,"expressionService",void 0),__decorate$1_([Autowired("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$1_([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1_([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$1_([Autowired("gridOptions")],e.prototype,"gridOptions",void 0),__decorate$1_([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2e=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1Z=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GroupCellRenderer$1=function(a){__extends$2e(e,a);function e(){return a.call(this,e.TEMPLATE)||this}return e.prototype.init=function(o){var c=this,h={setInnerRenderer:function(j,rt){return c.setRenderDetails(j,rt)},setChildCount:function(j){return c.eChildCount.innerHTML=j},addOrRemoveCssClass:function(j,rt){return c.addOrRemoveCssClass(j,rt)},setContractedDisplayed:function(j){return setDisplayed(c.eContracted,j)},setExpandedDisplayed:function(j){return setDisplayed(c.eExpanded,j)},setCheckboxVisible:function(j){return c.eCheckbox.classList.toggle("ag-invisible",!j)}},g=this.createManagedBean(new GroupCellRendererCtrl),b=!o.colDef,$=this.getGui();g.init(h,$,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,o),b&&setAriaRole($,"gridcell")},e.prototype.setRenderDetails=function(o,c){var h=this;if(o){var g=o.newAgStackInstance();if(!g)return;g.then(function(b){if(b){var $=function(){return h.context.destroyBean(b)};h.isAlive()?(h.eValue.appendChild(b.getGui()),h.addDestroyFunc($)):$()}})}else this.eValue.innerText=c},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),a.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,__decorate$1Z([RefSelector("eExpanded")],e.prototype,"eExpanded",void 0),__decorate$1Z([RefSelector("eContracted")],e.prototype,"eContracted",void 0),__decorate$1Z([RefSelector("eCheckbox")],e.prototype,"eCheckbox",void 0),__decorate$1Z([RefSelector("eValue")],e.prototype,"eValue",void 0),__decorate$1Z([RefSelector("eChildCount")],e.prototype,"eChildCount",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2d=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1Y=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},LoadingCellRenderer=function(a){__extends$2d(e,a);function e(){return a.call(this,e.TEMPLATE)||this}return e.prototype.init=function(o){o.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingError","ERR")},e.prototype.setupLoading=function(){var o=createIconNoSpan("groupLoading",this.gridOptionsWrapper,null);o&&this.eLoadingIcon.appendChild(o);var c=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=c("loadingOoo","Loading")},e.prototype.refresh=function(o){return!1},e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,__decorate$1Y([RefSelector("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),__decorate$1Y([RefSelector("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2c=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),LoadingOverlayComponent$1=function(a){__extends$2c(e,a);function e(){return a.call(this)||this}return e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.prototype.init=function(o){var c=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():e.DEFAULT_LOADING_OVERLAY_TEMPLATE,h=this.gridOptionsWrapper.getLocaleTextFunc(),g=c.replace("[LOADING...]",h("loadingOoo","Loading..."));this.setTemplate(g)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2b=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),NoRowsOverlayComponent$1=function(a){__extends$2b(e,a);function e(){return a.call(this)||this}return e.prototype.destroy=function(){a.prototype.destroy.call(this)},e.prototype.init=function(o){var c=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():e.DEFAULT_NO_ROWS_TEMPLATE,h=this.gridOptionsWrapper.getLocaleTextFunc(),g=c.replace("[NO_ROWS_TO_SHOW]",h("noRowsToShow","No Rows To Show"));this.setTemplate(g)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$2a=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),TooltipComponent$1=function(a){__extends$2a(e,a);function e(){return a.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(o){var c=o.value;this.getGui().innerHTML=escapeString(c)},e}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$29=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1X=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},UserComponentRegistry=function(a){__extends$29(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.agGridDefaults={agDateInput:DefaultDateComponent,agColumnHeader:HeaderComp,agColumnGroupHeader:HeaderGroupComp,agSortIndicator:SortIndicatorComp,agTextColumnFloatingFilter:TextFloatingFilter,agNumberColumnFloatingFilter:NumberFloatingFilter,agDateColumnFloatingFilter:DateFloatingFilter,agReadOnlyFloatingFilter:ReadOnlyFloatingFilter,agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer,agGroupCellRenderer:GroupCellRenderer$1,agGroupRowRenderer:GroupCellRenderer$1,agLoadingCellRenderer:LoadingCellRenderer,agCellEditor:TextCellEditor,agTextCellEditor:TextCellEditor,agSelectCellEditor:SelectCellEditor,agPopupTextCellEditor:PopupTextCellEditor,agPopupSelectCellEditor:PopupSelectCellEditor,agLargeTextCellEditor:LargeTextCellEditor,agTextColumnFilter:TextFilter,agNumberColumnFilter:NumberFilter,agDateColumnFilter:DateFilter,agLoadingOverlay:LoadingOverlayComponent$1,agNoRowsOverlay:NoRowsOverlayComponent$1,agTooltipComponent:TooltipComponent$1},o.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},o.jsComps={},o.fwComps={},o}return e.prototype.init=function(){var o=this;this.gridOptions.components!=null&&iterateObject(this.gridOptions.components,function(c,h){return o.registerJsComponent(c,h)}),this.gridOptions.frameworkComponents!=null&&iterateObject(this.gridOptions.frameworkComponents,function(c,h){return o.registerFwComponent(c,h)})},e.prototype.registerDefaultComponent=function(o,c){var h=this.translateIfDeprecated(o);if(this.agGridDefaults[h]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[h]=c},e.prototype.registerJsComponent=function(o,c){var h=this.translateIfDeprecated(o);if(this.fwComps[h]){console.error("Trying to register a component that you have already registered for frameworks: "+h);return}this.jsComps[h]=c},e.prototype.registerFwComponent=function(o,c){var h="AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.";doOnce(function(){return console.warn(h)},"UserComponentRegistry.frameworkComponentsDeprecated");var g=this.translateIfDeprecated(o);this.fwComps[g]=c},e.prototype.retrieve=function(o){var c=this.translateIfDeprecated(o),h=function(nt,ot){return{componentFromFramework:ot,component:nt}},g=this.getFrameworkOverrides().frameworkComponent(c,this.gridOptions.components);if(g!=null)return h(g,!0);var b=this.fwComps[c];if(b)return h(b,!0);var $=this.jsComps[c];if($){var j=this.getFrameworkOverrides().isFrameworkComponent($);return h($,j)}var rt=this.agGridDefaults[c];return rt?h(rt,!1):(Object.keys(this.agGridDefaults).indexOf(c)<0&&console.warn("AG Grid: Looking for component ["+c+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(o){var c=this.agDeprecatedNames[o];return c!=null?(doOnce(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+c.propertyHolder+":"+o+" to "+c.propertyHolder+":"+c.newComponentName)},"DEPRECATE_COMPONENT_"+o),c.newComponentName):o},__decorate$1X([Autowired("gridOptions")],e.prototype,"gridOptions",void 0),__decorate$1X([Autowired("agComponentUtils")],e.prototype,"agComponentUtils",void 0),__decorate$1X([PostConstruct],e.prototype,"init",null),e=__decorate$1X([Bean("userComponentRegistry")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DateComponent={propertyName:"dateComponent",cellRenderer:!1},HeaderComponent={propertyName:"headerComponent",cellRenderer:!1},HeaderGroupComponent={propertyName:"headerGroupComponent",cellRenderer:!1},CellRendererComponent={propertyName:"cellRenderer",cellRenderer:!0},CellEditorComponent={propertyName:"cellEditor",cellRenderer:!1},InnerRendererComponent={propertyName:"innerRenderer",cellRenderer:!0},LoadingOverlayComponent={propertyName:"loadingOverlayComponent",cellRenderer:!1},NoRowsOverlayComponent={propertyName:"noRowsOverlayComponent",cellRenderer:!1},TooltipComponent={propertyName:"tooltipComponent",cellRenderer:!1},FilterComponent={propertyName:"filter",cellRenderer:!1},FloatingFilterComponent={propertyName:"floatingFilterComponent",cellRenderer:!1},ToolPanelComponent={propertyName:"toolPanel",cellRenderer:!1},StatusPanelComponent={propertyName:"statusPanel",cellRenderer:!1},FullWidth={propertyName:"fullWidthCellRenderer",cellRenderer:!0},FullWidthLoading={propertyName:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={propertyName:"groupRowRenderer",cellRenderer:!0},FullWidthDetail={propertyName:"detailCellRenderer",cellRenderer:!0};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FloatingFilterMapper=function(){function a(){}return a.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},a.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$28=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1W=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},UserComponentFactory=function(a){__extends$28(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(o,c){return this.getCompDetails(o,HeaderComponent,"agColumnHeader",c)},e.prototype.getHeaderGroupCompDetails=function(o){var c=o.columnGroup.getColGroupDef();return this.getCompDetails(c,HeaderGroupComponent,"agColumnGroupHeader",o)},e.prototype.getFullWidthCellRendererDetails=function(o){return this.getCompDetails(this.gridOptions,FullWidth,null,o,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(o){return this.getCompDetails(this.gridOptions,FullWidthLoading,"agLoadingCellRenderer",o,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(o){return this.getCompDetails(this.gridOptions,FullWidthGroup,"agGroupRowRenderer",o,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(o){return this.getCompDetails(this.gridOptions,FullWidthDetail,"agDetailCellRenderer",o,!0)},e.prototype.getInnerRendererDetails=function(o,c){return this.getCompDetails(o,InnerRendererComponent,null,c)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(o,c){return this.getCompDetails(o,InnerRendererComponent,null,c)},e.prototype.getCellRendererDetails=function(o,c){return this.getCompDetails(o,CellRendererComponent,null,c)},e.prototype.getCellEditorDetails=function(o,c){return this.getCompDetails(o,CellEditorComponent,"agCellEditor",c,!0)},e.prototype.getFilterDetails=function(o,c,h){return this.getCompDetails(o,FilterComponent,h,c,!0)},e.prototype.getDateCompDetails=function(o){return this.getCompDetails(this.gridOptions,DateComponent,"agDateInput",o,!0)},e.prototype.getLoadingOverlayCompDetails=function(o){return this.getCompDetails(this.gridOptions,LoadingOverlayComponent,"agLoadingOverlay",o,!0)},e.prototype.getNoRowsOverlayCompDetails=function(o){return this.getCompDetails(this.gridOptions,NoRowsOverlayComponent,"agNoRowsOverlay",o,!0)},e.prototype.getTooltipCompDetails=function(o){return this.getCompDetails(o.colDef,TooltipComponent,"agTooltipComponent",o,!0)},e.prototype.getSetFilterCellRendererDetails=function(o,c){return this.getCompDetails(o,CellRendererComponent,null,c)},e.prototype.getFloatingFilterCompDetails=function(o,c,h){return this.getCompDetails(o,FloatingFilterComponent,h,c)},e.prototype.getToolPanelCompDetails=function(o,c){return this.getCompDetails(o,ToolPanelComponent,null,c,!0)},e.prototype.getStatusPanelCompDetails=function(o,c){return this.getCompDetails(o,StatusPanelComponent,null,c,!0)},e.prototype.getCompDetails=function(o,c,h,g,b){var $=this;b===void 0&&(b=!1);var j=c.propertyName,rt=c.cellRenderer,nt=this.getCompKeys(o,c,g),ot=nt.compName,_t=nt.jsComp,Et=nt.fwComp,It=nt.paramsFromSelector,it=nt.popupFromSelector,st=nt.popupPositionFromSelector,Mt=function(Dt){var wt=$.userComponentRegistry.retrieve(Dt);wt&&(_t=wt.componentFromFramework?void 0:wt.component,Et=wt.componentFromFramework?wt.component:void 0)};if(ot!=null&&Mt(ot),_t==null&&Et==null&&h!=null&&Mt(h),_t&&rt&&!this.agComponentUtils.doesImplementIComponent(_t)&&(_t=this.agComponentUtils.adaptFunction(j,_t)),!_t&&!Et){b&&console.error("Could not find component "+ot+", did you forget to configure this component?");return}var bt=this.mergeParamsWithApplicationProvidedParams(o,c,g,It),Lt=_t==null,pt=_t||Et;return{componentFromFramework:Lt,componentClass:pt,params:bt,type:c,popupFromSelector:it,popupPositionFromSelector:st,newAgStackInstance:function(){return $.newAgStackInstance(pt,Lt,bt,c)}}},e.prototype.getCompKeys=function(o,c,h){var g=this,b=c.propertyName,$,j,rt,nt,ot,_t;if(o){var Et=o,It=Et[b+"Selector"],it=It?It(h):null,st=function(bt,Lt){var pt=function(){var wt="AG Grid: As of v27, the property "+b+"Framework is deprecated. The property "+b+" can now be used for JavaScript AND Framework Components.";doOnce(function(){return console.warn(wt)},"UserComponentFactory."+b+"FrameworkDeprecated")};if(typeof bt=="string")$=bt;else if(typeof Lt=="string")pt(),$=Lt;else if(bt!=null&&bt!==!0){var Dt=g.getFrameworkOverrides().isFrameworkComponent(bt);Dt?rt=bt:j=bt}else Lt!=null&&(pt(),rt=Lt)};if(it){if(it.frameworkComponent!=null){var Mt="AG Grid: As of v27, the return for "+b+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";doOnce(function(){return console.warn(Mt)},"UserComponentFactory."+b+"FrameworkSelectorDeprecated"),st(it.frameworkComponent,void 0)}else st(it.component,void 0);nt=it.params,ot=it.popup,_t=it.popupPosition}else st(Et[b],Et[b+"Framework"])}return{compName:$,jsComp:j,fwComp:rt,paramsFromSelector:nt,popupFromSelector:ot,popupPositionFromSelector:_t}},e.prototype.newAgStackInstance=function(o,c,h,g){var b=g.propertyName,$=!c,j;if($)j=new o;else{var rt=this.componentMetadataProvider.retrieve(b);j=this.frameworkComponentWrapper.wrap(o,rt.mandatoryMethodList,rt.optionalMethodList,g)}var nt=this.initComponent(j,h);return nt==null?AgPromise.resolve(j):nt.then(function(){return j})},e.prototype.mergeParamsWithApplicationProvidedParams=function(o,c,h,g){g===void 0&&(g=null);var b={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};mergeDeep(b,h);var $=o,j=$&&$[c.propertyName+"Params"];if(typeof j=="function"){var rt=j(h);mergeDeep(b,rt)}else typeof j=="object"&&mergeDeep(b,j);return mergeDeep(b,g),b},e.prototype.initComponent=function(o,c){if(this.context.createBean(o),o.init!=null)return o.init(c)},e.prototype.getDefaultFloatingFilterType=function(o){if(o==null)return null;var c=null,h=this.getCompKeys(o,FilterComponent),g=h.compName,b=h.jsComp,$=h.fwComp;if(g)c=FloatingFilterMapper.getFloatingFilterType(g);else{var j=b==null&&$==null&&o.filter===!0;if(j){var rt=ModuleRegistry.isRegistered(ModuleNames.SetFilterModule);c=rt?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}}return c},__decorate$1W([Autowired("gridOptions")],e.prototype,"gridOptions",void 0),__decorate$1W([Autowired("agComponentUtils")],e.prototype,"agComponentUtils",void 0),__decorate$1W([Autowired("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),__decorate$1W([Autowired("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),__decorate$1W([Optional("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=__decorate$1W([Bean("userComponentFactory")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ExcelFactoryMode;(function(a){a[a.SINGLE_SHEET=0]="SINGLE_SHEET",a[a.MULTI_SHEET=1]="MULTI_SHEET"})(ExcelFactoryMode||(ExcelFactoryMode={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$27=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1V=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DragService=function(a){__extends$27(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.dragEndFunctions=[],o.dragSources=[],o}return e.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(o){var c=o.dragSource.eElement,h=o.mouseDownListener;if(c.removeEventListener("mousedown",h),o.touchEnabled){var g=o.touchStartListener;c.removeEventListener("touchstart",g,{passive:!0})}},e.prototype.removeDragSource=function(o){var c=this.dragSources.find(function(h){return h.dragSource===o});c&&(this.removeListener(c),removeFromArray(this.dragSources,c))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(o,c){var h=this;c===void 0&&(c=!1);var g=this.onMouseDown.bind(this,o);o.eElement.addEventListener("mousedown",g);var b=null,$=this.gridOptionsWrapper.isSuppressTouch();c&&!$&&(b=function(j){isFocusableFormField(j.target)||(j.cancelable&&j.preventDefault(),h.onTouchStart(o,j))},o.eElement.addEventListener("touchstart",b,{passive:!1})),this.dragSources.push({dragSource:o,mouseDownListener:g,touchStartListener:b,touchEnabled:c})},e.prototype.onTouchStart=function(o,c){var h=this;this.currentDragParams=o,this.dragging=!1;var g=c.touches[0];this.touchLastTime=g,this.touchStart=g;var b=function(ot){return h.onTouchMove(ot,o.eElement)},$=function(ot){return h.onTouchUp(ot,o.eElement)},j=function(ot){ot.cancelable&&ot.preventDefault()},rt=c.target,nt=[{target:document,type:"touchmove",listener:j,options:{passive:!1}},{target:rt,type:"touchmove",listener:b,options:{passive:!0}},{target:rt,type:"touchend",listener:$,options:{passive:!0}},{target:rt,type:"touchcancel",listener:$,options:{passive:!0}}];this.addTemporaryEvents(nt),o.dragStartPixels===0&&this.onCommonMove(g,this.touchStart,o.eElement)},e.prototype.onMouseDown=function(o,c){var h=this,g=c;if(!(o.skipMouseEvent&&o.skipMouseEvent(c))&&!g._alreadyProcessedByDragService&&(g._alreadyProcessedByDragService=!0,c.button===0)){this.currentDragParams=o,this.dragging=!1,this.mouseStartEvent=c;var b=this.gridOptionsWrapper.getDocument(),$=function(_t){return h.onMouseMove(_t,o.eElement)},j=function(_t){return h.onMouseUp(_t,o.eElement)},rt=function(_t){return _t.preventDefault()},nt=b,ot=[{target:nt,type:"mousemove",listener:$},{target:nt,type:"mouseup",listener:j},{target:nt,type:"contextmenu",listener:rt}];this.addTemporaryEvents(ot),o.dragStartPixels===0&&this.onMouseMove(c,o.eElement)}},e.prototype.addTemporaryEvents=function(o){o.forEach(function(c){var h=c.target,g=c.type,b=c.listener,$=c.options;h.addEventListener(g,b,$)}),this.dragEndFunctions.push(function(){o.forEach(function(c){var h=c.target,g=c.type,b=c.listener,$=c.options;h.removeEventListener(g,b,$)})})},e.prototype.isEventNearStartEvent=function(o,c){var h=this.currentDragParams.dragStartPixels,g=exists(h)?h:4;return areEventsNear(o,c,g)},e.prototype.getFirstActiveTouch=function(o){for(var c=0;c<o.length;c++)if(o[c].identifier===this.touchStart.identifier)return o[c];return null},e.prototype.onCommonMove=function(o,c,h){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(o,c))return;this.dragging=!0;var g={type:Events.EVENT_DRAG_STARTED,target:h};this.eventService.dispatchEvent(g),this.currentDragParams.onDragStart(c),this.currentDragParams.onDragging(c)}this.currentDragParams.onDragging(o)},e.prototype.onTouchMove=function(o,c){var h=this.getFirstActiveTouch(o.touches);h&&this.onCommonMove(h,this.touchStart,c)},e.prototype.onMouseMove=function(o,c){(this.gridOptionsWrapper.isEnableCellTextSelect()||isBrowserSafari())&&o.type==="mousemove"&&o.cancelable&&this.mouseEventService.isEventFromThisGrid(o)&&!this.isOverFormFieldElement(o)&&o.preventDefault(),this.onCommonMove(o,this.mouseStartEvent,c)},e.prototype.isOverFormFieldElement=function(o){var c,h,g=o.target,b=(c=g)===null||c===void 0?void 0:c.tagName.toLocaleLowerCase();return!!(!((h=b)===null||h===void 0)&&h.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(o,c){var h=this.getFirstActiveTouch(o.changedTouches);h||(h=this.touchLastTime),this.onUpCommon(h,c)},e.prototype.onMouseUp=function(o,c){this.onUpCommon(o,c)},e.prototype.onUpCommon=function(o,c){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(o);var h={type:Events.EVENT_DRAG_STOPPED,target:c};this.eventService.dispatchEvent(h)}this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(g){return g()}),this.dragEndFunctions.length=0},__decorate$1V([Autowired("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$1V([Autowired("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$1V([PostConstruct],e.prototype,"init",null),__decorate$1V([PreDestroy],e.prototype,"removeAllListeners",null),e=__decorate$1V([Bean("dragService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$26=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$7$1=function(){return __assign$7$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$7$1.apply(this,arguments)},__decorate$1U=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},FilterManager=function(a){__extends$26(e,a);function e(){var c=a!==null&&a.apply(this,arguments)||this;return c.allColumnFilters=new Map,c.activeAggregateFilters=[],c.activeColumnFilters=[],c.quickFilter=null,c.quickFilterParts=null,c.processingFilterChange=!1,c}o=e,e.prototype.init=function(){var c=this;this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,function(){return c.onColumnsChanged()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,function(){return c.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,function(){return c.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return c.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(c){var h=this,g=[],b=this.getFilterModel();if(c){var $=convertToSet(Object.keys(c));this.allColumnFilters.forEach(function(j,rt){var nt=c[rt];g.push(h.setModelOnFilterWrapper(j.filterPromise,nt)),$.delete(rt)}),$.forEach(function(j){var rt=h.columnModel.getPrimaryColumn(j)||h.columnModel.getGridColumn(j);if(!rt){console.warn("AG Grid: setFilterModel() - no column found for colId: "+j);return}if(!rt.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+j);return}var nt=h.getOrCreateFilterWrapper(rt,"NO_UI");if(!nt){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+j);return}g.push(h.setModelOnFilterWrapper(nt.filterPromise,c[j]))})}else this.allColumnFilters.forEach(function(j){g.push(h.setModelOnFilterWrapper(j.filterPromise,null))});AgPromise.all(g).then(function(){var j=h.getFilterModel(),rt=[];h.allColumnFilters.forEach(function(nt,ot){var _t=b?b[ot]:null,Et=j?j[ot]:null;_.jsonEquals(_t,Et)||rt.push(nt.column)}),rt.length>0&&h.onFilterChanged({columns:rt})})},e.prototype.setModelOnFilterWrapper=function(c,h){return new AgPromise(function(g){c.then(function(b){typeof b.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),g()),(b.setModel(h)||AgPromise.resolve()).then(function(){return g()})})})},e.prototype.getFilterModel=function(){var c={};return this.allColumnFilters.forEach(function(h,g){var b=h.filterPromise,$=b.resolveNow(null,function(rt){return rt});if($==null)return null;if(typeof $.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var j=$.getModel();exists(j)&&(c[g]=j)}),c},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.doAggregateFiltersPass=function(c,h){return this.doColumnFiltersPass(c,h,!0)},e.prototype.updateActiveFilters=function(){var c=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var h=function($){return $?$.isFilterActive?$.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},g=!!this.gridOptionsWrapper.getGroupAggFiltering(),b=function($){var j=!$.isPrimary();if(j)return!0;var rt=!c.columnModel.isPivotActive(),nt=$.isValueActive();return!nt||!rt?!1:c.columnModel.isPivotMode()?!0:g};this.allColumnFilters.forEach(function($){if($.filterPromise.resolveNow(!1,h)){var j=$.filterPromise.resolveNow(null,function(rt){return rt});b($.column)?c.activeAggregateFilters.push(j):c.activeColumnFilters.push(j)}})},e.prototype.updateFilterFlagInColumns=function(c,h){this.allColumnFilters.forEach(function(g){var b=g.filterPromise.resolveNow(!1,function($){return $.isFilterActive()});g.column.setFilterActive(b,c,h)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(c,h,g){for(var b=c.data,$=c.aggData,j=g?this.activeAggregateFilters:this.activeColumnFilters,rt=g?$:b,nt=0;nt<j.length;nt++){var ot=j[nt];if(!(ot==null||ot===h)){if(typeof ot.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!ot.doesFilterPass({node:c,data:rt}))return!1}}return!0},e.prototype.parseQuickFilter=function(c){return exists(c)?this.gridOptionsWrapper.isRowModelDefault()?c.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(c){if(c!=null&&typeof c!="string"){console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof c);return}var h=this.parseQuickFilter(c);this.quickFilter!==h&&(this.quickFilter=h,this.setQuickFilterParts(),this.onFilterChanged())},e.prototype.refreshFiltersForAggregations=function(){var c=this.gridOptionsWrapper.getGroupAggFiltering();c&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(c){var h=this;c===void 0&&(c={});var g=function(){return h.onFilterChanged(c)};this.rowRenderer.isRefreshInProgress()?setTimeout(g,0):g()},e.prototype.onFilterChanged=function(c){c===void 0&&(c={});var h=c.filterInstance,g=c.additionalEventAttributes,b=c.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",g),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),this.allColumnFilters.forEach(function(j){j.filterPromise&&j.filterPromise.then(function(rt){rt&&rt!==h&&rt.onAnyFilterChanged&&rt.onAnyFilterChanged()})});var $={type:Events.EVENT_FILTER_CHANGED,columns:b||[]};g&&mergeDeep($,g),this.processingFilterChange=!0,this.eventService.dispatchEvent($),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassOtherFilters=function(c,h){return this.doesRowPassFilter({rowNode:h,filterInstanceToSkip:c})},e.prototype.doesRowPassQuickFilterNoCache=function(c,h){var g=this,b=this.columnModel.getAllColumnsForQuickFilter();return b.some(function($){var j=g.getQuickFilterTextForColumn($,c);return exists(j)&&j.indexOf(h)>=0})},e.prototype.doesRowPassQuickFilterCache=function(c,h){return c.quickFilterAggregateText||this.aggregateRowForQuickFilter(c),c.quickFilterAggregateText.indexOf(h)>=0},e.prototype.doesRowPassQuickFilter=function(c){var h=this,g=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(b){return g?h.doesRowPassQuickFilterCache(c,b):h.doesRowPassQuickFilterNoCache(c,b)})},e.prototype.doesRowPassAggregateFilters=function(c){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(c.rowNode,c.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(c){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(c.rowNode)||this.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(c.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(c.rowNode,c.filterInstanceToSkip))},e.prototype.getQuickFilterTextForColumn=function(c,h){var g=this.valueService.getValue(c,h,!0),b=c.getColDef();if(b.getQuickFilterText){var $={value:g,node:h,data:h.data,column:c,colDef:b,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};g=b.getQuickFilterText($)}return exists(g)?g.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(c){var h=this,g=[],b=this.columnModel.getAllColumnsForQuickFilter();b.forEach(function($){var j=h.getQuickFilterTextForColumn($,c);exists(j)&&g.push(j)}),c.quickFilterAggregateText=g.join(o.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(c){this.allColumnFilters.forEach(function(h){h.filterPromise.then(function(g){g.onNewRowsLoaded&&g.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(c),this.updateActiveFilters()},e.prototype.createValueGetter=function(c){var h=this;return function(g){var b=g.node;return h.valueService.getValue(c,b,!0)}},e.prototype.getFilterComponent=function(c,h,g){g===void 0&&(g=!0);var b;if(g)return((b=this.getOrCreateFilterWrapper(c,h))===null||b===void 0?void 0:b.filterPromise)||null;var $=this.cachedFilter(c);return $?$.filterPromise:null},e.prototype.isFilterActive=function(c){var h=this.cachedFilter(c);return!!h&&h.filterPromise.resolveNow(!1,function(g){return g.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(c,h){if(!c.isFilterAllowed())return null;var g=this.cachedFilter(c);return g?h!=="NO_UI"&&this.putIntoGui(g,h):(g=this.createFilterWrapper(c,h),this.allColumnFilters.set(c.getColId(),g)),g},e.prototype.cachedFilter=function(c){return this.allColumnFilters.get(c.getColId())},e.prototype.createFilterInstance=function(c){var h=this,g=ModuleRegistry.isRegistered(ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",b=c.getColDef(),$,j=__assign$7$1(__assign$7$1({},this.createFilterParams(c,b)),{filterModifiedCallback:function(){var ot={type:Events.EVENT_FILTER_MODIFIED,column:c,filterInstance:$};h.eventService.dispatchEvent(ot)},filterChangedCallback:function(ot){var _t={filterInstance:$,additionalEventAttributes:ot,columns:[c]};h.callOnFilterChangedOutsideRenderCycle(_t)},doesRowPassOtherFilter:function(ot){return h.doesRowPassOtherFilters($,ot)}}),rt=this.userComponentFactory.getFilterDetails(b,j,g);if(!rt)return null;var nt=rt.newAgStackInstance();return nt&&nt.then(function(ot){return $=ot}),nt},e.prototype.createFilterParams=function(c,h){var g={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:c,colDef:cloneObject(h),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(c),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return g},e.prototype.createFilterWrapper=function(c,h){var g={column:c,filterPromise:null,compiledElement:null,guiPromise:AgPromise.resolve(null)};return g.filterPromise=this.createFilterInstance(c),g.filterPromise&&this.putIntoGui(g,h),g},e.prototype.putIntoGui=function(c,h){var g=this,b=document.createElement("div");b.className="ag-filter",c.guiPromise=new AgPromise(function($){c.filterPromise.then(function(j){var rt=j.getGui();exists(rt)||console.warn("AG Grid: getGui method from filter returned "+rt+", it should be a DOM element or an HTML template string."),typeof rt=="string"&&(rt=loadTemplate(rt)),b.appendChild(rt),$(b);var nt={type:Events.EVENT_FILTER_OPENED,column:c.column,source:h,eGui:b};g.eventService.dispatchEvent(nt)})})},e.prototype.onColumnsChanged=function(){var c=this,h=[];this.allColumnFilters.forEach(function(g,b){var $;g.column.isPrimary()?$=c.columnModel.getPrimaryColumn(b):$=c.columnModel.getGridColumn(b),!$&&(h.push(g.column),c.disposeFilterWrapper(g,"filterDestroyed"))}),h.length>0&&this.onFilterChanged({columns:h})},e.prototype.destroyFilter=function(c,h){h===void 0&&(h="api");var g=this.allColumnFilters.get(c.getColId());g&&(this.disposeFilterWrapper(g,h),this.onFilterChanged({columns:[c]}))},e.prototype.disposeFilterWrapper=function(c,h){var g=this;c.filterPromise.then(function(b){(b.setModel(null)||AgPromise.resolve()).then(function(){g.getContext().destroyBean(b),c.column.setFilterActive(!1,h),g.allColumnFilters.delete(c.column.getColId())})})},e.prototype.destroy=function(){var c=this;a.prototype.destroy.call(this),this.allColumnFilters.forEach(function(h){return c.disposeFilterWrapper(h,"filterDestroyed")})};var o;return e.QUICK_FILTER_SEPARATOR=`
`,__decorate$1U([Autowired("valueService")],e.prototype,"valueService",void 0),__decorate$1U([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1U([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$1U([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$1U([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1U([PostConstruct],e.prototype,"init",null),__decorate$1U([PreDestroy],e.prototype,"destroy",null),e=o=__decorate$1U([Bean("filterManager")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$25=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AbstractHeaderCellComp=function(a){__extends$25(e,a);function e(o,c){var h=a.call(this,o)||this;return h.ctrl=c,h}return e.prototype.getCtrl=function(){return this.ctrl},e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$24=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1T=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderFilterCellComp$1=function(a){__extends$24(e,a);function e(o){return a.call(this,e.TEMPLATE,o)||this}return e.prototype.postConstruct=function(){var o=this,c=this.getGui(),h={addOrRemoveCssClass:function(g,b){return o.addOrRemoveCssClass(g,b)},addOrRemoveBodyCssClass:function(g,b){return o.eFloatingFilterBody.classList.toggle(g,b)},addOrRemoveButtonWrapperCssClass:function(g,b){return o.eButtonWrapper.classList.toggle(g,b)},setCompDetails:function(g){return o.setCompDetails(g)},getFloatingFilterComp:function(){return o.compPromise},setWidth:function(g){return c.style.width=g},setMenuIcon:function(g){return o.eButtonShowMainFilter.appendChild(g)}};this.ctrl.setComp(h,c,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(o){var c=this;this.compPromise=o.newAgStackInstance(),this.compPromise.then(function(h){return c.afterCompCreated(h)})},e.prototype.afterCompCreated=function(o){var c=this;o&&(this.addDestroyFunc(function(){return c.context.destroyBean(o)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached()))},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,__decorate$1T([RefSelector("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),__decorate$1T([RefSelector("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),__decorate$1T([RefSelector("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),__decorate$1T([PostConstruct],e.prototype,"postConstruct",null),e}(AbstractHeaderCellComp);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$23=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1S=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},LayoutCssClasses;(function(a){a.AUTO_HEIGHT="ag-layout-auto-height",a.NORMAL="ag-layout-normal",a.PRINT="ag-layout-print"})(LayoutCssClasses||(LayoutCssClasses={}));var LayoutFeature=function(a){__extends$23(e,a);function e(o){var c=a.call(this)||this;return c.view=o,c}return e.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var o=this.gridOptionsWrapper.getDomLayout(),c={autoHeight:o===Constants.DOM_LAYOUT_AUTO_HEIGHT,normal:o===Constants.DOM_LAYOUT_NORMAL,print:o===Constants.DOM_LAYOUT_PRINT},h=c.autoHeight?LayoutCssClasses.AUTO_HEIGHT:c.print?LayoutCssClasses.PRINT:LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(h,c)},__decorate$1S([Autowired("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),__decorate$1S([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$22=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1R=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GridBodyScrollFeature=function(a){__extends$22(e,a);function e(o){var c=a.call(this)||this;return c.scrollLeft=-1,c.nextScrollTop=-1,c.scrollTop=-1,c.eBodyViewport=o,c.resetLastHorizontalScrollElementDebounced=debounce$2(c.resetLastHorizontalScrollElement.bind(c),500),c}return e.prototype.postConstruct=function(){var o=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(c){o.centerRowContainerCtrl=c.centerRowContainerCtrl,o.onDisplayedColumnsWidthChanged(),o.addScrollListener()})},e.prototype.addScrollListener=function(){var o=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(o.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var c=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?debounce$2(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",c)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(o){var c=this.centerRowContainerCtrl==null;if(!c){o===void 0&&(o=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var h=this.enableRtl?o:-o,g=this.ctrlsService.getTopCenterRowContainerCtrl(),b=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),$=this.ctrlsService.getBottomCenterRowContainerCtrl(),j=this.ctrlsService.getFakeHScrollCtrl(),rt=this.ctrlsService.getHeaderRowContainerCtrl();rt.setHorizontalScroll(h),$.setContainerTranslateX(h),g.setContainerTranslateX(h),b.setContainerTranslateX(h);var nt=this.centerRowContainerCtrl.getViewportElement(),ot=this.lastHorizontalScrollElement===nt,_t=ot?j.getViewport():this.centerRowContainerCtrl.getViewportElement();setScrollLeft(_t,Math.abs(o),this.enableRtl)}},e.prototype.isControllingScroll=function(o){return this.lastHorizontalScrollElement?o===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=o,!0)},e.prototype.onFakeHorizontalScroll=function(){var o=this.ctrlsService.getFakeHScrollCtrl().getViewport();this.isControllingScroll(o)&&this.onBodyHorizontalScroll(o)},e.prototype.onCenterViewportScroll=function(){var o=this.centerRowContainerCtrl.getViewportElement();this.isControllingScroll(o)&&this.onBodyHorizontalScroll(o)},e.prototype.onBodyHorizontalScroll=function(o){var c=this.centerRowContainerCtrl.getViewportElement(),h=c.scrollLeft;this.shouldBlockScrollUpdate("horizontal",h,!0)||(this.doHorizontalScroll(Math.round(getScrollLeft(o,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},e.prototype.onVerticalScroll=function(){var o=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",o,!0)||(this.animationFrameService.setScrollTop(o),this.nextScrollTop=o,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},e.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},e.prototype.doHorizontalScroll=function(o){var c=this.ctrlsService.getFakeHScrollCtrl().getViewport(),h=getScrollLeft(c,this.enableRtl);this.scrollLeft===o&&o===h||(this.scrollLeft=o,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(o),this.onHorizontalViewportChanged())},e.prototype.fireScrollEvent=function(o){var c=this,h={type:Events.EVENT_BODY_SCROLL,direction:o,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(h),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var g=Object.assign({},h,{type:Events.EVENT_BODY_SCROLL_END});c.eventService.dispatchEvent(g)},100)},e.prototype.shouldBlockScrollUpdate=function(o,c,h){if(h===void 0&&(h=!1),h&&!isIOSUserAgent())return!1;if(o==="vertical"){var g=getInnerHeight(this.eBodyViewport),b=this.eBodyViewport.scrollHeight;if(c<0||c+g>b)return!0}if(o==="horizontal"){var $=this.centerRowContainerCtrl.getCenterWidth(),j=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&isRtlNegativeScroll()){if(c>0)return!0}else if(c<0)return!0;if(Math.abs(c)+$>j)return!0}return!1},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},e.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},e.prototype.executeAnimationFrameScroll=function(){var o=this.scrollTop!=this.nextScrollTop;return o&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),o},e.prototype.setHorizontalScrollPosition=function(o){var c=0,h=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",o)&&(this.enableRtl&&isRtlNegativeScroll()?o=o>0?0:h:o=Math.min(Math.max(o,c),h)),setScrollLeft(this.centerRowContainerCtrl.getViewportElement(),Math.abs(o),this.enableRtl),this.doHorizontalScroll(o)},e.prototype.setVerticalScrollPosition=function(o){this.eBodyViewport.scrollTop=o},e.prototype.getVScrollPosition=function(){var o={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return o},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(o){var c=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(c+o),this.centerRowContainerCtrl.getViewportElement().scrollLeft-c},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(o,c){c===void 0&&(c=null);for(var h=this.rowModel.getRowCount(),g=-1,b=0;b<h;b++){var $=this.rowModel.getRow(b);if(typeof o=="function"){var j=o;if($&&j($)){g=b;break}}else if(o===$||o===$.data){g=b;break}}g>=0&&this.ensureIndexVisible(g,c)},e.prototype.ensureIndexVisible=function(o,c){if(this.gridOptionsWrapper.getDomLayout()!==Constants.DOM_LAYOUT_PRINT){var h=this.paginationProxy.getRowCount();if(typeof o!="number"||o<0||o>=h){console.warn("invalid row index for ensureIndexVisible: "+o);return}var g=this.gridOptionsWrapper.isPagination(),b=g&&!this.gridOptionsWrapper.isSuppressPaginationPanel();b||this.paginationProxy.goToPageWithIndex(o);var $=this.ctrlsService.getGridBodyCtrl(),j=$.getStickyTopHeight(),rt=this.paginationProxy.getRow(o),nt;do{var ot=rt.rowTop,_t=rt.rowHeight,Et=this.paginationProxy.getPixelOffset(),It=rt.rowTop-Et,it=It+rt.rowHeight,st=this.getVScrollPosition(),Mt=this.heightScaler.getDivStretchOffset(),bt=st.top+Mt,Lt=st.bottom+Mt,pt=Lt-bt,Dt=this.heightScaler.getScrollPositionForPixel(It),wt=this.heightScaler.getScrollPositionForPixel(it-pt),Bt=Math.min((Dt+wt)/2,It),jt=bt+j>It,hr=Lt<it,gr=null;c==="top"?gr=Dt:c==="bottom"?gr=wt:c==="middle"?gr=Bt:jt?gr=Dt-j:hr&&(gr=wt),gr!==null&&(this.eBodyViewport.scrollTop=gr,this.rowRenderer.redrawAfterScroll()),nt=ot!==rt.rowTop||_t!==rt.rowHeight}while(nt);this.animationFrameService.flushAllFrames()}},e.prototype.ensureColumnVisible=function(o,c){c===void 0&&(c="auto");var h=this.columnModel.getGridColumn(o);if(h&&!h.isPinned()&&this.columnModel.isColumnDisplayed(h)){var g=this.getPositionedHorizontalScroll(h,c);g!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(g),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(o,c){var h=this.isColumnOutsideViewport(o),g=h.columnBeforeStart,b=h.columnAfterEnd,$=this.centerRowContainerCtrl.getCenterWidth()<o.getActualWidth(),j=this.centerRowContainerCtrl.getCenterWidth(),rt=this.enableRtl,nt=(rt?g:b)||$,ot=rt?b:g;c!=="auto"&&(nt=c==="start",ot=c==="end");var _t=c==="middle";if(nt||ot||_t){var Et=this.getColumnBounds(o),It=Et.colLeft,it=Et.colMiddle,st=Et.colRight;return _t?it-j/2:nt?rt?st:It:rt?It-j:st-j}return null},e.prototype.isColumnOutsideViewport=function(o){var c=this.getViewportBounds(),h=c.start,g=c.end,b=this.getColumnBounds(o),$=b.colLeft,j=b.colRight,rt=this.enableRtl,nt=rt?h>j:g<j,ot=rt?g<$:h>$;return{columnBeforeStart:nt,columnAfterEnd:ot}},e.prototype.getColumnBounds=function(o){var c=this.enableRtl,h=this.columnModel.getBodyContainerWidth(),g=o.getActualWidth(),b=o.getLeft(),$=c?-1:1,j=c?h-b:b,rt=j+g*$,nt=j+g/2*$;return{colLeft:j,colMiddle:nt,colRight:rt}},e.prototype.getViewportBounds=function(){var o=this.centerRowContainerCtrl.getCenterWidth(),c=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),h=c,g=o+c;return{start:h,end:g,width:o}},__decorate$1R([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1R([Autowired("animationFrameService")],e.prototype,"animationFrameService",void 0),__decorate$1R([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),__decorate$1R([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$1R([Autowired("rowContainerHeightService")],e.prototype,"heightScaler",void 0),__decorate$1R([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1R([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1R([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AutoScrollService=function(){function a(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return a.prototype.check=function(e,o){o===void 0&&(o=!1);var c=o||this.shouldSkipVerticalScroll();if(!(c&&this.shouldSkipHorizontalScroll())){var h=this.scrollContainer.getBoundingClientRect(),g=this.scrollByTick;this.tickLeft=e.clientX<h.left+g,this.tickRight=e.clientX>h.right-g,this.tickUp=e.clientY<h.top+g&&!c,this.tickDown=e.clientY>h.bottom-g&&!c,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},a.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},a.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var o=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(o-e),this.tickDown&&this.setVerticalPosition(o+e)}if(this.scrollHorizontally){var c=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(c-e),this.tickRight&&this.setHorizontalPosition(c+e)}this.onScrollCallback&&this.onScrollCallback()},a.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$21=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$6$1=function(){return __assign$6$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$6$1.apply(this,arguments)},__decorate$1Q=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$i=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$e=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$i(arguments[e]));return a},RowDragFeature=function(a){__extends$21(e,a);function e(o){var c=a.call(this)||this;return c.isMultiRowDrag=!1,c.isGridSorted=!1,c.isGridFiltered=!1,c.isRowGroupActive=!1,c.eContainer=o,c}return e.prototype.postConstruct=function(){var o=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var c=function(){o.onSortChanged(),o.onFilterChanged(),o.onRowGroupChanged()};this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,function(){c()}),c(),this.ctrlsService.whenReady(function(){var h=o.ctrlsService.getGridBodyCtrl();o.autoScrollService=new AutoScrollService({scrollContainer:h.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return h.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(g){return h.getScrollFeature().setVerticalScrollPosition(g)},onScrollCallback:function(){o.onDragging(o.lastDraggingEvent)}})})},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var o=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!missingOrEmpty(o)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(o){return o===DragSourceType.RowDrag},e.prototype.getIconName=function(){var o=this.gridOptionsWrapper.isRowDragManaged();return o&&this.shouldPreventRowMove()?DragAndDropService.ICON_NOT_ALLOWED:DragAndDropService.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(o){var c=this;if(!this.isFromThisGrid(o))return o.dragItem.rowNodes||[];var h=this.gridOptionsWrapper.isRowDragMultiRow(),g=__spread$e(this.selectionService.getSelectedNodes()).sort(function($,j){return $.rowIndex==null||j.rowIndex==null?0:c.getRowIndexNumber($)-c.getRowIndexNumber(j)}),b=o.dragItem.rowNode;return h&&g.indexOf(b)!==-1?(this.isMultiRowDrag=!0,g):(this.isMultiRowDrag=!1,[b])},e.prototype.onDragEnter=function(o){o.dragItem.rowNodes=this.getRowNodes(o),this.dispatchGridEvent(Events.EVENT_ROW_DRAG_ENTER,o),this.getRowNodes(o).forEach(function(c){c.setDragging(!0)}),this.onEnterOrDragging(o)},e.prototype.onDragging=function(o){this.onEnterOrDragging(o)},e.prototype.isFromThisGrid=function(o){var c=o.dragSource.dragSourceDomDataKey;return c===this.gridOptionsWrapper.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(o){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getGui(),g=o.dropZoneTarget;return!h.contains(g)},e.prototype.onEnterOrDragging=function(o){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_MOVE,o),this.lastDraggingEvent=o;var c=this.mouseEventService.getNormalisedPosition(o).y,h=this.gridOptionsWrapper.isRowDragManaged();h&&this.doManagedDrag(o,c),this.autoScrollService.check(o.event)},e.prototype.doManagedDrag=function(o,c){var h=this.isFromThisGrid(o),g=this.gridOptionsWrapper.isRowDragManaged(),b=o.dragItem.rowNodes;g&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!h?this.isDropZoneWithinThisGrid(o)||this.clientSideRowModel.highlightRowAtPixel(b[0],c):this.moveRows(b,c))},e.prototype.getRowIndexNumber=function(o){return parseInt(last(o.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(o){var c=this,h=this.clientSideRowModel.getLastHighlightedRowNode(),g=h&&h.highlighted===RowHighlightPosition.Below,b=this.mouseEventService.getNormalisedPosition(o).y,$=o.dragItem.rowNodes,j=g?1:0;if(this.isFromThisGrid(o))$.forEach(function(ot){ot.rowTop<b&&(j-=1)}),this.moveRows($,b,j);else{var rt=this.gridOptionsWrapper.getRowIdFunc(),nt=this.clientSideRowModel.getRowIndexAtPixel(b)+1;this.clientSideRowModel.getHighlightPosition(b)===RowHighlightPosition.Above&&nt--,this.clientSideRowModel.updateRowData({add:$.map(function(ot){return ot.data}).filter(function(ot){return!c.clientSideRowModel.getRowNode(rt?rt({data:ot,level:0}):ot.id)}),addIndex:nt})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(o,c,h){h===void 0&&(h=0);var g=this.clientSideRowModel.ensureRowsAtPixel(o,c,h);g&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(o){var c=this;if(!o.getContainer()){doOnce(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(o)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var h={getContainer:o.getContainer};o.fromGrid?(o.fromGrid=void 0,h=o):(o.onDragEnter&&(h.onDragEnter=function(g){o.onDragEnter(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,g))}),o.onDragLeave&&(h.onDragLeave=function(g){o.onDragLeave(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,g))}),o.onDragging&&(h.onDragging=function(g){o.onDragging(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,g))}),o.onDragStop&&(h.onDragStop=function(g){o.onDragStop(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,g))})),this.dragAndDropService.addDropTarget(__assign$6$1({isInterestedIn:function(g){return g===DragSourceType.RowDrag},getIconName:function(){return DragAndDropService.ICON_MOVE},external:!0},h))},e.prototype.getRowDropZone=function(o){var c=this,h=this.getContainer.bind(this),g=this.onDragEnter.bind(this),b=this.onDragLeave.bind(this),$=this.onDragging.bind(this),j=this.onDragStop.bind(this);return o?{getContainer:h,onDragEnter:o.onDragEnter?function(rt){g(rt),o.onDragEnter(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,rt))}:g,onDragLeave:o.onDragLeave?function(rt){b(rt),o.onDragLeave(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,rt))}:b,onDragging:o.onDragging?function(rt){$(rt),o.onDragging(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,rt))}:$,onDragStop:o.onDragStop?function(rt){j(rt),o.onDragStop(c.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,rt))}:j,fromGrid:!0}:{getContainer:h,onDragEnter:g,onDragLeave:b,onDragging:$,onDragStop:j,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(o,c){var h=this.mouseEventService.getNormalisedPosition(c).y,g=h>this.paginationProxy.getCurrentPageHeight(),b=-1,$;g||(b=this.rowModel.getRowIndexAtPixel(h),$=this.rowModel.getRow(b));var j;switch(c.vDirection){case VerticalDirection.Down:j="down";break;case VerticalDirection.Up:j="up";break;default:j=null;break}var rt={type:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),event:c.event,node:c.dragItem.rowNode,nodes:c.dragItem.rowNodes,overIndex:b,overNode:$,y:h,vDirection:j};return rt},e.prototype.dispatchGridEvent=function(o,c){var h=this.draggingToRowDragEvent(o,c);this.eventService.dispatchEvent(h)},e.prototype.onDragLeave=function(o){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_LEAVE,o),this.stopDragging(o),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(o)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(o){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_END,o),this.stopDragging(o),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(o))&&!this.isDropZoneWithinThisGrid(o)&&this.moveRowAndClearHighlight(o)},e.prototype.stopDragging=function(o){this.autoScrollService.ensureCleared(),this.getRowNodes(o).forEach(function(c){c.setDragging(!1)})},__decorate$1Q([Autowired("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1Q([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$1Q([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),__decorate$1Q([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Q([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1Q([Autowired("sortController")],e.prototype,"sortController",void 0),__decorate$1Q([Autowired("filterManager")],e.prototype,"filterManager",void 0),__decorate$1Q([Autowired("selectionService")],e.prototype,"selectionService",void 0),__decorate$1Q([Autowired("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$1Q([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1Q([Optional("rangeService")],e.prototype,"rangeService",void 0),__decorate$1Q([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$20=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1P=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RowAnimationCssClasses;(function(a){a.ANIMATION_ON="ag-row-animation",a.ANIMATION_OFF="ag-row-no-animation"})(RowAnimationCssClasses||(RowAnimationCssClasses={}));var CSS_CLASS_CELL_SELECTABLE="ag-selectable",CSS_CLASS_FORCE_VERTICAL_SCROLL="ag-force-vertical-scroll",CSS_CLASS_COLUMN_MOVING="ag-column-moving",GridBodyCtrl=function(a){__extends$20(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.stickyTopHeight=0,o}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(o,c,h,g,b,$){this.comp=o,this.eGridBody=c,this.eBodyViewport=h,this.eTop=g,this.eBottom=b,this.eStickyTop=$,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new LayoutFeature(this.comp)),this.bodyScrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([g,h,b,$]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(o){var c=this;o.forEach(function(h){c.addManagedListener(h,"focusin",function(g){var b=g.target,$=isElementChildOfClass(b,"ag-root",h);h.classList.toggle("ag-has-focus",!$)}),c.addManagedListener(h,"focusout",function(g){var b=g.target,$=g.relatedTarget,j=h.contains($),rt=isElementChildOfClass($,"ag-root",h),nt=isElementChildOfClass(b,"ag-root",h);nt||(!j||rt)&&h.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(o){this.comp.setColumnMovingCss(o?CSS_CLASS_COLUMN_MOVING:null,o)},e.prototype.setCellTextSelection=function(o){o===void 0&&(o=!1);var c=o?CSS_CLASS_CELL_SELECTABLE:null;this.comp.setCellSelectableCss(c,o)},e.prototype.onScrollVisibilityChanged=function(){var o=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(o),this.setStickyTopWidth(o)},e.prototype.onGridColumnsChanged=function(){var o=this.columnModel.getAllGridColumns();this.comp.setColumnCount(o?o.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(o){if(o.target instanceof HTMLImageElement)return o.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var o=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var c=function(g){var b=g.relatedTarget;if(getTabIndex(b)===null){o.rowRenderer.stopEditing();return}var $=h.some(function(rt){return rt.contains(b)})&&o.mouseEventService.isElementInThisGrid(b);if(!$){var j=o.popupService;$=j.getActivePopups().some(function(rt){return rt.contains(b)})||j.isElementWithinCustomPopup(b)}$||o.rowRenderer.stopEditing()},h=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];h.forEach(function(g){return o.addManagedListener(g,"focusout",c)})}},e.prototype.updateRowCount=function(){var o=this.headerNavigationService.getHeaderRowCount(),c=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,h=c===-1?-1:o+c;this.comp.setRowCount(h)},e.prototype.registerBodyViewportResizeListener=function(o){this.comp.registerBodyViewportResizeListener(o)},e.prototype.setVerticalScrollPaddingVisible=function(o){var c=o?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(c)},e.prototype.isVerticalScrollShowing=function(){var o=this.gridOptionsWrapper.isAlwaysShowVerticalScroll(),c=o?CSS_CLASS_FORCE_VERTICAL_SCROLL:null,h=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL;return this.comp.setAlwaysVerticalScrollClass(c,o),o||h&&isVerticalScrollShowing(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var o=this,c=function(){var h=o.gridOptionsWrapper.isAnimateRows()&&!o.rowContainerHeightService.isStretching(),g=h?RowAnimationCssClasses.ANIMATION_ON:RowAnimationCssClasses.ANIMATION_OFF;o.comp.setRowAnimationCssOnBodyViewport(g,h)};c(),this.addManagedListener(this.eventService,Events.EVENT_HEIGHT_SCALE_CHANGED,c)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var o=this,c=function(h,g,b){if(!(!h&&!b)){if(o.gridOptionsWrapper.isPreventDefaultOnContextMenu()){var $=h||b;$.preventDefault()}var j=(h||g).target;(j===o.eBodyViewport||j===o.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&o.contextMenuFactory&&(h?o.contextMenuFactory.onContextMenu(h,null,null,null,null,o.eGridBody):b&&o.contextMenuFactory.onContextMenu(null,b,null,null,null,o.eGridBody))}};this.addManagedListener(this.eBodyViewport,"contextmenu",c),this.mockContextMenuForIPad(c),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},e.prototype.mockContextMenuForIPad=function(o){if(isIOSUserAgent()){var c=new TouchListener(this.eBodyViewport),h=function(g){o(void 0,g.touchStart,g.touchEvent)};this.addManagedListener(c,TouchListener.EVENT_LONG_TAP,h),this.addDestroyFunc(function(){return c.destroy()})}},e.prototype.onBodyViewportWheel=function(o){this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()&&this.popupService.hasAnchoredPopup()&&o.preventDefault()},e.prototype.onStickyTopWheel=function(o){o.preventDefault(),o.offsetY&&this.scrollVertically(o.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(o){var c=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(c+o),this.eBodyViewport.scrollTop-c},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new RowDragFeature(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var o=this.pinnedRowModel,c=o.getPinnedTopTotalHeight();c&&(c+=1);var h=o.getPinnedBottomTotalHeight();h&&(h+=1),this.comp.setTopHeight(c),this.comp.setBottomHeight(h),this.comp.setTopDisplay(c?"inherit":"none"),this.comp.setBottomDisplay(h?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(o){o===void 0&&(o=0),this.comp.setStickyTopHeight(o+"px"),this.stickyTopHeight=o},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(o){if(!o)this.comp.setStickyTopWidth("100%");else{var c=this.gridOptionsWrapper.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+c+"px)")}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var o=this.ctrlsService.getGridHeaderCtrl(),c=o.getHeaderHeight(),h=this.pinnedRowModel.getPinnedTopTotalHeight(),g=0;c>0&&(g+=c+1),h>0&&(g+=h+1),this.comp.setStickyTopTop(g+"px")},e.prototype.sizeColumnsToFit=function(o,c){var h=this,g=this.isVerticalScrollShowing(),b=g?this.gridOptionsWrapper.getScrollbarWidth():0,$=getInnerWidth(this.eBodyViewport),j=$-b;if(j>0){this.columnModel.sizeColumnsToFit(j,"sizeColumnsToFit",!1,o);return}c===void 0?window.setTimeout(function(){h.sizeColumnsToFit(o,100)},0):c===100?window.setTimeout(function(){h.sizeColumnsToFit(o,500)},100):c===500?window.setTimeout(function(){h.sizeColumnsToFit(o,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(o){this.eBodyViewport.addEventListener("scroll",o)},e.prototype.removeScrollEventListener=function(o){this.eBodyViewport.removeEventListener("scroll",o)},__decorate$1P([Autowired("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),__decorate$1P([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1P([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1P([Autowired("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),__decorate$1P([Optional("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),__decorate$1P([Autowired("headerNavigationService")],e.prototype,"headerNavigationService",void 0),__decorate$1P([Autowired("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1P([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$1P([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1P([Autowired("popupService")],e.prototype,"popupService",void 0),__decorate$1P([Autowired("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$1P([Autowired("rowModel")],e.prototype,"rowModel",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SelectionHandleType;(function(a){a[a.FILL=0]="FILL",a[a.RANGE=1]="RANGE"})(SelectionHandleType||(SelectionHandleType={}));var CellRangeType;(function(a){a[a.VALUE=0]="VALUE",a[a.DIMENSION=1]="DIMENSION"})(CellRangeType||(CellRangeType={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CSS_CELL_RANGE_SELECTED="ag-cell-range-selected",CSS_CELL_RANGE_CHART="ag-cell-range-chart",CSS_CELL_RANGE_SINGLE_CELL="ag-cell-range-single-cell",CSS_CELL_RANGE_CHART_CATEGORY="ag-cell-range-chart-category",CSS_CELL_RANGE_HANDLE="ag-cell-range-handle",CSS_CELL_RANGE_TOP="ag-cell-range-top",CSS_CELL_RANGE_RIGHT="ag-cell-range-right",CSS_CELL_RANGE_BOTTOM="ag-cell-range-bottom",CSS_CELL_RANGE_LEFT="ag-cell-range-left",CellRangeFeature=function(){function a(e,o){this.beans=e,this.cellCtrl=o}return a.prototype.setComp=function(e,o){this.cellComp=e,this.eGui=o,this.onRangeSelectionChanged()},a.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-1",this.rangeCount===1),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-2",this.rangeCount===2),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-3",this.rangeCount===3),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART,this.hasChartRange),setAriaSelected(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SINGLE_CELL,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},a.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),o=this.isSingleCell(),c=!o&&e.top,h=!o&&e.right,g=!o&&e.bottom,b=!o&&e.left;this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_TOP,c),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_RIGHT,h),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_BOTTOM,g),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_LEFT,b)},a.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},a.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var o=e.getCellRanges();return o.length>0&&o.every(function(c){return includes([CellRangeType.DIMENSION,CellRangeType.VALUE],c.type)})},a.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},a.prototype.getRangeBorders=function(){var e=this,o=this.beans.gridOptionsWrapper.isEnableRtl(),c=!1,h=!1,g=!1,b=!1,$=this.cellCtrl.getCellPosition().column,j=this.beans,rt=j.rangeService,nt=j.columnModel,ot,_t;o?(ot=nt.getDisplayedColAfter($),_t=nt.getDisplayedColBefore($)):(ot=nt.getDisplayedColBefore($),_t=nt.getDisplayedColAfter($));var Et=rt.getCellRanges().filter(function(bt){return rt.isCellInSpecificRange(e.cellCtrl.getCellPosition(),bt)});ot||(b=!0),_t||(h=!0);for(var It=0;It<Et.length&&!(c&&h&&g&&b);It++){var it=Et[It],st=rt.getRangeStartRow(it),Mt=rt.getRangeEndRow(it);!c&&this.beans.rowPositionUtils.sameRow(st,this.cellCtrl.getCellPosition())&&(c=!0),!g&&this.beans.rowPositionUtils.sameRow(Mt,this.cellCtrl.getCellPosition())&&(g=!0),!b&&ot&&it.columns.indexOf(ot)<0&&(b=!0),!h&&_t&&it.columns.indexOf(_t)<0&&(h=!0)}return{top:c,right:h,bottom:g,left:b}},a.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_HANDLE,!!this.selectionHandle)}},a.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,o=e.gridOptionsWrapper,c=e.rangeService,h=c.getCellRanges(),g=h.length;if(this.rangeCount<1||g<1)return!1;var b=last(h),$=this.cellCtrl.getCellPosition(),j=o.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),rt=o.isEnableRangeHandle(),nt=g===1&&!this.cellCtrl.isEditing()&&(j||rt);if(this.hasChartRange){var ot=h[0].type===CellRangeType.DIMENSION,_t=ot&&c.isCellInSpecificRange($,h[0]);this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART_CATEGORY,_t),nt=b.type===CellRangeType.VALUE}return nt&&b.endRow!=null&&c.isContiguousRange(b)&&c.isBottomRightCell(b,$)},a.prototype.addSelectionHandle=function(){var e=this.beans,o=e.gridOptionsWrapper,c=e.rangeService,h=last(c.getCellRanges()).type,g=o.isEnableFillHandle()&&missing(h),b=g?SelectionHandleType.FILL:SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==b&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(b)),this.selectionHandle.refresh(this.cellCtrl)},a.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1$=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),CellPositionFeature=function(a){__extends$1$(e,a);function e(o,c){var h=a.call(this)||this;return h.cellCtrl=o,h.beans=c,h.column=o.getColumn(),h.rowNode=o.getRowNode(),h.setupColSpan(),h.setupRowSpan(),h}return e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(o){this.eGui=o,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var o=this.getColSpanningList();areEqual(this.colsSpanning,o)||(this.colsSpanning=o,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var o=this.getCellWidth();this.eGui.style.width=o+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(o,c){return o+c.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var o=this.column.getColSpan(this.rowNode),c=[];if(o===1)c.push(this.column);else for(var h=this.column,g=this.column.getPinned(),b=0;h&&b<o&&(c.push(h),h=this.beans.columnModel.getDisplayedColAfter(h),!(!h||missing(h)||g!==h.getPinned()));b++);return c},e.prototype.onLeftChanged=function(){if(this.eGui){var o=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=o+"px"}},e.prototype.getCellLeft=function(){var o;return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?o=last(this.colsSpanning):o=this.column,o.getLeft()},e.prototype.modifyLeftForPrintLayout=function(o){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===Constants.PINNED_LEFT)return o;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()===Constants.PINNED_RIGHT){var h=this.beans.columnModel.getBodyContainerWidth();return c+h+(o||0)}return c+(o||0)},e.prototype.applyRowSpan=function(){if(this.rowSpan!==1){var o=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),c=o*this.rowSpan;this.eGui.style.height=c+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){a.prototype.destroy.call(this)},e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1_=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),CellCustomStyleFeature=function(a){__extends$1_(e,a);function e(o,c){var h=a.call(this)||this;return h.staticClasses=[],h.cellCtrl=o,h.beans=c,h.column=o.getColumn(),h.rowNode=o.getRowNode(),h}return e.prototype.setComp=function(o){this.cellComp=o,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var o=this,c=this.column.getColDef(),h={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:c,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(c.cellClassRules,h,function(g){return o.cellComp.addOrRemoveCssClass(g,!0)},function(g){return o.cellComp.addOrRemoveCssClass(g,!1)})},e.prototype.applyUserStyles=function(){var o=this.column.getColDef();if(o.cellStyle){var c;if(typeof o.cellStyle=="function"){var h={column:this.column,value:this.cellCtrl.getValue(),colDef:o,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},g=o.cellStyle;c=g(h)}else c=o.cellStyle;this.cellComp.setUserStyles(c)}},e.prototype.applyClassesFromColDef=function(){var o=this,c=this.column.getColDef(),h={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:c,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(g){return o.cellComp.addOrRemoveCssClass(g,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(c,h),this.staticClasses.length&&this.staticClasses.forEach(function(g){return o.cellComp.addOrRemoveCssClass(g,!0)})},e.prototype.destroy=function(){a.prototype.destroy.call(this)},e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1Z=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),TooltipFeature=function(a){__extends$1Z(e,a);function e(o,c){var h=a.call(this)||this;return h.ctrl=o,h.beans=c,h}return e.prototype.setComp=function(o){this.comp=o,this.setupTooltip()},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var o=this;if(this.genericTooltipFeature==null){var c={getTooltipParams:function(){return o.getTooltipParams()},getGui:function(){return o.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new CustomTooltipFeature(c),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0)},e.prototype.getTooltipParams=function(){var o=this.ctrl,c=o.getColumn?o.getColumn():void 0,h=o.getColDef?o.getColDef():void 0,g=o.getRowNode?o.getRowNode():void 0;return{location:o.getLocation(),colDef:h,column:c,rowIndex:o.getRowIndex?o.getRowIndex():void 0,node:g,data:g?g.data:void 0,value:this.getTooltipText(),valueFormatted:o.getValueFormatted?o.getValueFormatted():void 0}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){a.prototype.destroy.call(this)},e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1O=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},Beans=function(){function a(){}return a.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},__decorate$1O([Autowired("resizeObserverService")],a.prototype,"resizeObserverService",void 0),__decorate$1O([Autowired("paginationProxy")],a.prototype,"paginationProxy",void 0),__decorate$1O([Autowired("context")],a.prototype,"context",void 0),__decorate$1O([Autowired("columnApi")],a.prototype,"columnApi",void 0),__decorate$1O([Autowired("gridApi")],a.prototype,"gridApi",void 0),__decorate$1O([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$1O([Autowired("expressionService")],a.prototype,"expressionService",void 0),__decorate$1O([Autowired("rowRenderer")],a.prototype,"rowRenderer",void 0),__decorate$1O([Autowired("templateService")],a.prototype,"templateService",void 0),__decorate$1O([Autowired("valueService")],a.prototype,"valueService",void 0),__decorate$1O([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$1O([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1O([Autowired("headerNavigationService")],a.prototype,"headerNavigationService",void 0),__decorate$1O([Autowired("navigationService")],a.prototype,"navigationService",void 0),__decorate$1O([Autowired("columnAnimationService")],a.prototype,"columnAnimationService",void 0),__decorate$1O([Optional("rangeService")],a.prototype,"rangeService",void 0),__decorate$1O([Autowired("focusService")],a.prototype,"focusService",void 0),__decorate$1O([Optional("contextMenuFactory")],a.prototype,"contextMenuFactory",void 0),__decorate$1O([Autowired("popupService")],a.prototype,"popupService",void 0),__decorate$1O([Autowired("valueFormatterService")],a.prototype,"valueFormatterService",void 0),__decorate$1O([Autowired("stylingService")],a.prototype,"stylingService",void 0),__decorate$1O([Autowired("columnHoverService")],a.prototype,"columnHoverService",void 0),__decorate$1O([Autowired("userComponentFactory")],a.prototype,"userComponentFactory",void 0),__decorate$1O([Autowired("userComponentRegistry")],a.prototype,"userComponentRegistry",void 0),__decorate$1O([Autowired("animationFrameService")],a.prototype,"animationFrameService",void 0),__decorate$1O([Autowired("dragAndDropService")],a.prototype,"dragAndDropService",void 0),__decorate$1O([Autowired("sortController")],a.prototype,"sortController",void 0),__decorate$1O([Autowired("filterManager")],a.prototype,"filterManager",void 0),__decorate$1O([Autowired("rowContainerHeightService")],a.prototype,"rowContainerHeightService",void 0),__decorate$1O([Autowired("frameworkOverrides")],a.prototype,"frameworkOverrides",void 0),__decorate$1O([Autowired("cellPositionUtils")],a.prototype,"cellPositionUtils",void 0),__decorate$1O([Autowired("rowPositionUtils")],a.prototype,"rowPositionUtils",void 0),__decorate$1O([Autowired("selectionService")],a.prototype,"selectionService",void 0),__decorate$1O([Optional("selectionHandleFactory")],a.prototype,"selectionHandleFactory",void 0),__decorate$1O([Autowired("rowCssClassCalculator")],a.prototype,"rowCssClassCalculator",void 0),__decorate$1O([Autowired("rowModel")],a.prototype,"rowModel",void 0),__decorate$1O([Autowired("ctrlsService")],a.prototype,"ctrlsService",void 0),__decorate$1O([Autowired("ctrlsFactory")],a.prototype,"ctrlsFactory",void 0),__decorate$1O([Autowired("agStackComponentsRegistry")],a.prototype,"agStackComponentsRegistry",void 0),__decorate$1O([Autowired("valueCache")],a.prototype,"valueCache",void 0),__decorate$1O([Autowired("rowNodeEventThrottle")],a.prototype,"rowNodeEventThrottle",void 0),__decorate$1O([PostConstruct],a.prototype,"postConstruct",null),a=__decorate$1O([Bean("beans")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1Y=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),CellMouseListenerFeature=function(a){__extends$1Y(e,a);function e(o,c,h){var g=a.call(this)||this;return g.cellCtrl=o,g.beans=c,g.column=h,g}return e.prototype.onMouseEvent=function(o,c){if(!isStopPropagationForAgGrid(c))switch(o){case"click":this.onCellClicked(c);break;case"mousedown":case"touchstart":this.onMouseDown(c);break;case"dblclick":this.onCellDoubleClicked(c);break;case"mouseout":this.onMouseOut(c);break;case"mouseover":this.onMouseOver(c);break}},e.prototype.onCellClicked=function(o){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(o),o.preventDefault();return}var c=this.beans,h=c.eventService,g=c.rangeService,b=c.gridOptionsWrapper,$=o.ctrlKey||o.metaKey;g&&$&&g.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&g.intersectLastRange(!0);var j=this.cellCtrl.createEvent(o,Events.EVENT_CELL_CLICKED);h.dispatchEvent(j);var rt=this.column.getColDef();rt.onCellClicked&&window.setTimeout(function(){return rt.onCellClicked(j)},0);var nt=(b.isSingleClickEdit()||rt.singleClickEdit)&&!b.isSuppressClickEdit();nt&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!isIOSUserAgent()||isEventSupported("dblclick"))return!1;var o=new Date().getTime(),c=o-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=o,c},e.prototype.onCellDoubleClicked=function(o){var c=this.column.getColDef(),h=this.cellCtrl.createEvent(o,Events.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(h),typeof c.onCellDoubleClicked=="function"&&window.setTimeout(function(){return c.onCellDoubleClicked(h)},0);var g=!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit();g&&this.cellCtrl.startRowOrCellEdit(null,null,o)},e.prototype.onMouseDown=function(o){var c=o.ctrlKey,h=o.metaKey,g=o.shiftKey,b=o.target,$=this.beans,j=$.eventService,rt=$.rangeService;if(!this.isRightClickInExistingRange(o)){var nt=rt&&rt.getCellRanges().length!=0;if(!g||!nt){var ot=(isBrowserEdge()||isBrowserSafari())&&!this.cellCtrl.isEditing()&&!isFocusableFormField(b);this.cellCtrl.focusCell(ot)}if(g&&nt&&o.preventDefault(),!this.containsWidget(b)){if(rt){var _t=this.cellCtrl.getCellPosition();if(g)rt.extendLatestRangeToCell(_t);else{var Et=c||h;rt.setRangeToCell(_t,Et)}}j.dispatchEvent(this.cellCtrl.createEvent(o,Events.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(o){var c=this.beans.rangeService;if(c){var h=c.isCellInAnyRange(this.cellCtrl.getCellPosition());if(h&&o.button===2)return!0}return!1},e.prototype.containsWidget=function(o){return isElementChildOfClass(o,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(o){if(!this.mouseStayingInsideCell(o)){var c=this.cellCtrl.createEvent(o,Events.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(c),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(o){if(!this.mouseStayingInsideCell(o)){var c=this.cellCtrl.createEvent(o,Events.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(c),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(o){if(!o.target||!o.relatedTarget)return!1;var c=this.cellCtrl.getGui(),h=c.contains(o.target),g=c.contains(o.relatedTarget);return h&&g},e.prototype.destroy=function(){},e}(Beans);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1X=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),CellKeyboardListenerFeature=function(a){__extends$1X(e,a);function e(o,c,h,g,b){var $=a.call(this)||this;return $.cellCtrl=o,$.beans=c,$.rowNode=g,$.rowCtrl=b,$}return e.prototype.setComp=function(o){this.eGui=o},e.prototype.onKeyDown=function(o){var c=o.key;switch(c){case KeyCode.ENTER:this.onEnterKeyDown(o);break;case KeyCode.F2:this.onF2KeyDown(o);break;case KeyCode.ESCAPE:this.onEscapeKeyDown(o);break;case KeyCode.TAB:this.onTabKeyDown(o);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyPressed(c,o);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyPressed(o,c);break}},e.prototype.onNavigationKeyPressed=function(o,c){this.cellCtrl.isEditing()||(o.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(o):this.beans.navigationService.navigateToNextCell(o,c,this.cellCtrl.getCellPosition(),!0),o.preventDefault())},e.prototype.onShiftRangeSelect=function(o){if(this.beans.rangeService){var c=this.beans.rangeService.extendLatestRangeInDirection(o);c&&this.beans.navigationService.ensureCellVisible(c)}},e.prototype.onTabKeyDown=function(o){this.beans.navigationService.onTabKeyDown(this.cellCtrl,o)},e.prototype.onBackspaceOrDeleteKeyPressed=function(o,c){var h=this,g=h.cellCtrl,b=h.beans,$=h.rowNode,j=b.gridOptionsWrapper,rt=b.rangeService,nt=b.eventService;g.isEditing()||(nt.dispatchEvent({type:Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),isDeleteKey(o,j.isEnableCellEditingOnBackspace())?rt&&j.isEnableRangeSelection()?rt.clearCellRangeCellValues():g.isCellEditable()&&$.setDataValue(g.getColumn(),null,"cellKeyboardListenerFeature"):g.startRowOrCellEdit(o,void 0,c),nt.dispatchEvent({type:Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(o){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,KeyCode.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(KeyCode.ENTER,void 0,o),this.cellCtrl.isEditing()&&o.preventDefault())},e.prototype.onF2KeyDown=function(o){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(KeyCode.F2,void 0,o)},e.prototype.onEscapeKeyDown=function(o){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.onKeyPress=function(o){var c=o.target,h=c!==this.eGui;if(!(h||this.cellCtrl.isEditing())){var g=String.fromCharCode(o.charCode);g===" "?this.onSpaceKeyPressed(o):isEventFromPrintableCharacter(o)&&(this.cellCtrl.startRowOrCellEdit(null,g,o),o.preventDefault())}},e.prototype.onSpaceKeyPressed=function(o){var c=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&c.isRowSelection()){var h=this.rowNode.isSelected(),g=!h;if(g||!c.isSuppressRowDeselection()){var b=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),$=this.rowNode.setSelectedParams({newValue:g,rangeSelect:o.shiftKey,groupSelectsFiltered:b});h===void 0&&$===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:o.shiftKey,groupSelectsFiltered:b})}}o.preventDefault()},e.prototype.destroy=function(){a.prototype.destroy.call(this)},e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1W=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1N=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DndSourceComp=function(a){__extends$1W(e,a);function e(o,c,h,g){var b=a.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return b.rowNode=o,b.column=c,b.beans=h,b.eCell=g,b}return e.prototype.postConstruct=function(){var o=this.getGui();o.appendChild(createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(c){c.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(o){var c=this,h=this.column.getColDef().dndSourceOnRowDrag;o.dataTransfer.setDragImage(this.eCell,0,0);var g=function(){try{var $=JSON.stringify(c.rowNode.data);o.dataTransfer.setData("application/json",$),o.dataTransfer.setData("text/plain",$)}catch{}};if(h){var b={rowNode:this.rowNode,dragEvent:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};h(b)}else g()},e.prototype.checkVisibility=function(){var o=this.column.isDndSource(this.rowNode);this.setDisplayed(o)},__decorate$1N([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1V=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$5$1=function(){return __assign$5$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$5$1.apply(this,arguments)},CSS_CELL="ag-cell",CSS_AUTO_HEIGHT="ag-cell-auto-height",CSS_NORMAL_HEIGHT="ag-cell-normal-height",CSS_CELL_FOCUS="ag-cell-focus",CSS_CELL_FIRST_RIGHT_PINNED="ag-cell-first-right-pinned",CSS_CELL_LAST_LEFT_PINNED="ag-cell-last-left-pinned",CSS_CELL_NOT_INLINE_EDITING="ag-cell-not-inline-editing",CSS_CELL_INLINE_EDITING="ag-cell-inline-editing",CSS_CELL_POPUP_EDITING="ag-cell-popup-editing",CSS_COLUMN_HOVER="ag-column-hover",CSS_CELL_WRAP_TEXT="ag-cell-wrap-text",instanceIdSequence$3=0,CellCtrl=function(a){__extends$1V(e,a);function e(o,c,h,g){var b=a.call(this)||this;return b.suppressRefreshCell=!1,b.onCellCompAttachedFuncs=[],b.column=o,b.rowNode=c,b.beans=h,b.rowCtrl=g,b.instanceId=o.getId()+"-"+instanceIdSequence$3++,b.createCellPosition(),b.addFeatures(),b}return e.prototype.addFeatures=function(){var o=this;this.cellPositionFeature=new CellPositionFeature(this,this.beans),this.addDestroyFunc(function(){return o.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new CellCustomStyleFeature(this,this.beans),this.addDestroyFunc(function(){return o.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new CellMouseListenerFeature(this,this.beans,this.column),this.addDestroyFunc(function(){return o.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new CellKeyboardListenerFeature(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return o.cellKeyboardListenerFeature.destroy()});var c=this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection();c&&(this.cellRangeFeature=new CellRangeFeature(this.beans,this),this.addDestroyFunc(function(){return o.cellRangeFeature.destroy()})),this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var o=this,c=function(){var g=o.column.getColDef(),b=o.rowNode.data;if(g.tooltipField&&exists(b))return getValueUsingField(b,g.tooltipField,o.column.isTooltipFieldContainsDots());var $=g.tooltipValueGetter;return $?$({location:"cell",api:o.beans.gridOptionsWrapper.getApi(),columnApi:o.beans.gridOptionsWrapper.getColumnApi(),context:o.beans.gridOptionsWrapper.getContext(),colDef:o.column.getColDef(),column:o.column,rowIndex:o.cellPosition.rowIndex,node:o.rowNode,data:o.rowNode.data,value:o.value,valueFormatted:o.valueFormatted}):null},h={getColumn:function(){return o.column},getColDef:function(){return o.column.getColDef()},getRowIndex:function(){return o.cellPosition.rowIndex},getRowNode:function(){return o.rowNode},getGui:function(){return o.getGui()},getLocation:function(){return"cell"},getTooltipValue:c,getValueFormatted:function(){return o.valueFormatted}};this.tooltipFeature=new TooltipFeature(h,this.beans),this.addDestroyFunc(function(){return o.tooltipFeature.destroy()})},e.prototype.setComp=function(o,c,h,g,b){this.cellComp=o,this.gow=this.beans.gridOptionsWrapper,this.eGui=c,this.printLayout=g,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),h&&this.setupAutoHeight(h),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var $=escapeString(this.column.getId());this.cellComp.setColId($),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(c),this.cellCustomStyleFeature.setComp(o),this.tooltipFeature.setComp(o),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(o,c),b&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(j){return j()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(o){var c=this;if(this.column.isAutoHeight()){var h=o.parentElement,g=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,b=function(rt){if(!c.editing&&c.isAlive()){var nt=getElementSize(h),ot=nt.paddingTop,_t=nt.paddingBottom,Et=o.offsetHeight,It=Et+ot+_t;if(rt<5){var it=c.beans.gridOptionsWrapper.getDocument(),st=!it||!it.contains(o),Mt=It==0;if(st||Mt){c.beans.frameworkOverrides.setTimeout(function(){return b(rt+1)},0);return}}var bt=Math.max(It,g);c.rowNode.setRowAutoHeight(bt,c.column)}},$=function(){return b(0)};$();var j=this.beans.resizeObserverService.observeResize(o,$);this.addDestroyFunc(function(){j(),c.rowNode.setRowAutoHeight(void 0,c.column)})}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.showValue=function(o){o===void 0&&(o=!1);var c=this.valueFormatted!=null?this.valueFormatted:this.value,h=this.createCellRendererParams(),g=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),h);this.cellComp.setRenderDetails(g,c,o),this.refreshHandle()},e.prototype.setupControlComps=function(){var o=this.column.getColDef();this.includeSelection=this.isIncludeControl(o.checkboxSelection),this.includeRowDrag=this.isIncludeControl(o.rowDrag),this.includeDndSource=this.isIncludeControl(o.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var o=this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight();return o},e.prototype.isIncludeControl=function(o){var c=this.rowNode.rowPinned!=null,h=typeof o=="function",g=c?!1:h||o===!0;return g},e.prototype.refreshShouldDestroy=function(){var o=this.column.getColDef(),c=this.includeSelection!=this.isIncludeControl(o.checkboxSelection),h=this.includeRowDrag!=this.isIncludeControl(o.rowDrag),g=this.includeDndSource!=this.isIncludeControl(o.dndSource);return c||h||g},e.prototype.startEditing=function(o,c,h,g){var b=this;o===void 0&&(o=null),c===void 0&&(c=null),h===void 0&&(h=!1),g===void 0&&(g=null);var $,j;if(!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){b.startEditing(o,c,h,g)});return}var rt=this.createCellEditorParams(o,c,h),nt=this.column.getColDef(),ot=this.beans.userComponentFactory.getCellEditorDetails(nt,rt),_t=(($=ot)===null||$===void 0?void 0:$.popupFromSelector)!=null?ot.popupFromSelector:!!nt.cellEditorPopup,Et=((j=ot)===null||j===void 0?void 0:j.popupPositionFromSelector)!=null?ot.popupPositionFromSelector:nt.cellEditorPopupPosition;this.setEditing(!0,_t),this.cellComp.setEditDetails(ot,_t,Et);var It=this.createEvent(g,Events.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(It)}},e.prototype.setEditing=function(o,c){c===void 0&&(c=!1),this.editing!==o&&(this.editing=o,this.editingInPopup=c,this.setInlineEditingClass(),this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(o){o===void 0&&(o=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(o):this.stopEditing(o)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(o){var c={newValueExists:!1};if(o)return c;var h=this.cellComp.getCellEditor();if(!h)return c;var g=h.isCancelAfterEnd&&h.isCancelAfterEnd();if(g)return c;var b=h.getValue();return{newValue:b,newValueExists:!0}},e.prototype.saveNewValue=function(o,c){if(c===o)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(o,c),!1;this.suppressRefreshCell=!0;var h=this.rowNode.setDataValue(this.column,c);return this.suppressRefreshCell=!1,h},e.prototype.dispatchEventForSaveValueReadOnly=function(o,c){var h=this.rowNode,g={type:Events.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:h.data,node:h,oldValue:o,newValue:c,value:c,source:void 0};this.beans.eventService.dispatchEvent(g)},e.prototype.stopEditing=function(o){if(o===void 0&&(o=!1),!this.editing)return!1;var c=this.takeValueFromCellEditor(o),h=c.newValue,g=c.newValueExists,b=this.getValueFromValueService(),$=!1;return g&&($=this.saveNewValue(b,h)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(b,h,!o&&!!$),$},e.prototype.dispatchEditingStoppedEvent=function(o,c,h){var g=__assign$5$1(__assign$5$1({},this.createEvent(null,Events.EVENT_CELL_EDITING_STOPPED)),{oldValue:o,newValue:c,valueChanged:h});this.beans.eventService.dispatchEvent(g)},e.prototype.setInlineEditingClass=function(){var o=this;if(this.isAlive()){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.setInlineEditingClass()});return}var c=this.editing&&!this.editingInPopup,h=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass(CSS_CELL_INLINE_EDITING,c),this.cellComp.addOrRemoveCssClass(CSS_CELL_NOT_INLINE_EDITING,!c),this.cellComp.addOrRemoveCssClass(CSS_CELL_POPUP_EDITING,h),this.rowCtrl.setInlineEditingCss(this.editing)}},e.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},e.prototype.createCellEditorParams=function(o,c,h){var g={value:this.getValueFromValueService(),key:o,eventKey:o,charPress:c,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:h,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return g},e.prototype.createCellRendererParams=function(){var o=this,c=function(g,b){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),o.rowCtrl.addEventListener(g,b)},h={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(g){return o.beans.valueService.setValue(o.rowNode,o.column,g)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(g,b,$,j){return o.registerRowDragger(g,b,j)},addRowCompListener:c};return h},e.prototype.parseValue=function(o){var c=this.column.getColDef(),h={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:o,colDef:c,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},g=c.valueParser;return exists(g)?this.beans.expressionService.evaluate(g,h):o},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var o=this.cellComp.getCellEditor();o&&o.focusOut&&o.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var o=this.cellComp.getCellEditor();o&&o.focusIn?o.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(o){if(this.cellComp){var c=o.column===this.column;c&&this.refreshCell({})}},e.prototype.refreshCell=function(o){if(!(this.suppressRefreshCell||this.editing)&&this.cellComp){var c=this.column.getColDef(),h=o!=null&&!!o.newData,g=o!=null&&!!o.suppressFlash||!!c.suppressCellFlash,b=c.field==null&&c.valueGetter==null&&c.showRowGroup==null,$=o&&o.forceRefresh||b||h,j=this.updateAndFormatValue(),rt=$||j;if(rt){this.showValue(h);var nt=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),ot=!g&&!nt&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||c.enableCellChangeFlash);ot&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(o){o===void 0&&(o=!1),this.stopRowOrCellEdit(),this.focusCell(!0),o||this.navigateAfterEdit()},e.prototype.navigateAfterEdit=function(){var o=this.beans.gridOptionsWrapper.isFullRowEdit();if(!o){var c=this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit();c&&this.beans.navigationService.navigateToNextCell(null,KeyCode.DOWN,this.getCellPosition(),!1)}},e.prototype.flashCell=function(o){var c=o&&o.flashDelay,h=o&&o.fadeDelay;this.animateCell("data-changed",c,h)},e.prototype.animateCell=function(o,c,h){var g=this,b="ag-cell-"+o,$="ag-cell-"+o+"-animation",j=this.beans.gridOptionsWrapper;c||(c=j.getCellFlashDelay()),exists(h)||(h=j.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(b,!0),this.cellComp.addOrRemoveCssClass($,!1),window.setTimeout(function(){g.isAlive()&&(g.cellComp.addOrRemoveCssClass(b,!1),g.cellComp.addOrRemoveCssClass($,!0),g.eGui.style.transition="background-color "+h+"ms",window.setTimeout(function(){g.isAlive()&&(g.cellComp.addOrRemoveCssClass($,!1),g.eGui.style.transition="")},h))},c)},e.prototype.onFlashCells=function(o){if(this.cellComp){var c=this.beans.cellPositionUtils.createId(this.getCellPosition()),h=o.cells[c];h&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(o){var c=this.callValueFormatter(o);return c??o},e.prototype.callValueFormatter=function(o){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,o)},e.prototype.updateAndFormatValue=function(o){o===void 0&&(o=!1);var c=this.value,h=this.valueFormatted;this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value);var g=o?!0:!this.valuesAreEqual(c,this.value)||this.valueFormatted!=h;return g},e.prototype.valuesAreEqual=function(o,c){var h=this.column.getColDef();return h.equals?h.equals(o,c):o===c},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValueFromValueService=function(){var o=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),c=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!o,h=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),g=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),b=c&&h&&!g,$=this.beans.valueService.getValue(this.column,this.rowNode,!1,b);return $},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var o=this,c=this.getGui();this.beans.gridOptionsWrapper.setDomData(c,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return o.beans.gridOptionsWrapper.setDomData(c,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(o,c){var h={type:c,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:o,rowIndex:this.rowNode.rowIndex};return h},e.prototype.onKeyPress=function(o){this.cellKeyboardListenerFeature.onKeyPress(o)},e.prototype.onKeyDown=function(o){this.cellKeyboardListenerFeature.onKeyDown(o)},e.prototype.onMouseEvent=function(o,c){this.cellMouseListenerFeature.onMouseEvent(o,c)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){this.cellComp&&this.cellPositionFeature.onLeftChanged()},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var o=this.beans.columnModel.getAriaColumnIndex(this.column);setAriaColIndex(this.getGui(),o)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(o){this.eGui.appendChild(o)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(o,c,h){h===void 0&&(h=null),this.cellComp&&(this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(o,c,this):this.startEditing(o,c,!0,h))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(o){o===void 0&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:o})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var o=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_FIRST_RIGHT_PINNED,o)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var o=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_LAST_LEFT_PINNED,o)}},e.prototype.onCellFocused=function(o){if(!(!this.cellComp||this.gow.isSuppressCellFocus())){var c=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass(CSS_CELL_FOCUS,c),c&&o&&o.forceBrowserFocus){var h=this.cellComp.getFocusableElement();h.focus({preventScroll:!!o.preventScrollOnBrowserFocus})}var g=this.beans.gridOptionsWrapper.isFullRowEdit();!c&&!g&&this.editing&&this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:makeNull(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(CSS_CELL,!0),this.cellComp.addOrRemoveCssClass(CSS_CELL_NOT_INLINE_EDITING,!0);var o=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(CSS_AUTO_HEIGHT,o),this.cellComp.addOrRemoveCssClass(CSS_NORMAL_HEIGHT,!o)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var o=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(CSS_COLUMN_HOVER,o)}},e.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var o=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(CSS_CELL_WRAP_TEXT,o)},e.prototype.dispatchCellContextMenuEvent=function(o){var c=this.column.getColDef(),h=this.createEvent(o,Events.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(h),c.onCellContextMenu&&window.setTimeout(function(){return c.onCellContextMenu(h)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],a.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var o=new CheckboxSelectionComponent;return this.beans.context.createBean(o),o.init({rowNode:this.rowNode,column:this.column}),o},e.prototype.createDndSource=function(){var o=new DndSourceComp(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(o),o},e.prototype.registerRowDragger=function(o,c,h){var g=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(o,c);return}var b=this.createRowDragComp(o,c,h);b&&(this.customRowDragComp=b,this.addDestroyFunc(function(){return g.beans.context.destroyBean(b)}))},e.prototype.createRowDragComp=function(o,c,h){var g=this,b=this.beans.gridOptionsWrapper.isPagination(),$=this.beans.gridOptionsWrapper.isRowDragManaged(),j=this.beans.gridOptionsWrapper.isRowModelDefault();if($){if(!j){doOnce(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");return}if(b){doOnce(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging");return}}var rt=new RowDragComp(function(){return g.value},this.rowNode,this.column,o,c,h);return this.beans.context.createBean(rt),rt},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1U=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__values$2=function(a){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&a[e],c=0;if(o)return o.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$h=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$d=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$h(arguments[e]));return a},RowType$1;(function(a){a.Normal="Normal",a.FullWidth="FullWidth",a.FullWidthLoading="FullWidthLoading",a.FullWidthGroup="FullWidthGroup",a.FullWidthDetail="FullWidthDetail"})(RowType$1||(RowType$1={}));var instanceIdSequence$2=0,RowCtrl=function(a){__extends$1U(e,a);function e(o,c,h,g,b){var $=a.call(this)||this;return $.allRowGuis=[],$.active=!0,$.centerCellCtrls={list:[],map:{}},$.leftCellCtrls={list:[],map:{}},$.rightCellCtrls={list:[],map:{}},$.lastMouseDownOnDragger=!1,$.updateColumnListsPending=!1,$.beans=c,$.rowNode=o,$.paginationPage=$.beans.paginationProxy.getCurrentPage(),$.useAnimationFrameForCreate=g,$.printLayout=b,$.instanceId=o.id+"-"+instanceIdSequence$2++,$.setAnimateFlags(h),$.rowFocused=$.beans.focusService.isRowFocused($.rowNode.rowIndex,$.rowNode.rowPinned),$.rowLevel=$.beans.rowCssClassCalculator.calculateRowLevel($.rowNode),$.setRowType(),$.addListeners(),$}return e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(o,c,h){var g={rowComp:o,element:c,containerType:h};this.allRowGuis.push(g),h===RowContainerType.LEFT?this.leftGui=g:h===RowContainerType.RIGHT?this.rightGui=g:h===RowContainerType.FULL_WIDTH?this.fullWidthGui=g:this.centerGui=g;var b=this.leftGui!=null&&this.rightGui!=null&&this.centerGui!=null,$=this.fullWidthGui!=null;(b||$)&&this.initialiseRowComps(),this.rowType!=="FullWidthLoading"&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.isCacheable=function(){return this.rowType===RowType$1.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},e.prototype.setCached=function(o){var c=o?"none":"";this.allRowGuis.forEach(function(h){return h.element.style.display=c})},e.prototype.initialiseRowComps=function(){var o=this,c=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),c.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&executeNextVMTurn(this.onTopChanged.bind(this)),this.fadeRowIn&&executeNextVMTurn(function(){o.allRowGuis.forEach(function($){return $.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var h=this.getRowBusinessKey(),g=escapeString(this.rowNode.id),b=escapeString(h);this.allRowGuis.forEach(function($){var j=$.rowComp;j.setRole("row");var rt=o.getInitialRowClasses($.containerType);rt.forEach(function(nt){return j.addOrRemoveCssClass(nt,!0)}),o.rowNode.group&&setAriaExpanded($.element,o.rowNode.expanded==!0),g!=null&&j.setRowId(g),b!=null&&j.setRowBusinessKey(b),o.isFullWidth()&&!o.beans.gridOptionsWrapper.isSuppressCellFocus()&&j.setTabIndex(-1),c.setDomData($.element,e.DOM_DATA_KEY_ROW_CTRL,o),o.addDestroyFunc(function(){return c.setDomData($.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),o.useAnimationFrameForCreate?o.beans.animationFrameService.createTask(o.addHoverFunctionality.bind(o,$.element),o.rowNode.rowIndex,"createTasksP2"):o.addHoverFunctionality($.element),o.isFullWidth()&&o.setupFullWidth($),c.isRowDragEntireRow()&&o.addRowDraggerToRow($),o.useAnimationFrameForCreate&&o.beans.animationFrameService.addDestroyTask(function(){o.isAlive()&&$.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},e.prototype.addRowDraggerToRow=function(o){var c=this.beans.gridOptionsWrapper;if(c.isEnableRangeSelection()){doOnce(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}var h=c.getLocaleTextFunc(),g=new RowDragComp(function(){return"1 "+h("rowDragRow","row")},this.rowNode,void 0,o.element,void 0,!0);this.createManagedBean(g,this.beans.context)},e.prototype.setupFullWidth=function(o){var c=this.getPinnedForContainer(o.containerType),h=this.createFullWidthParams(o.element,c),g=ModuleRegistry.isRegistered(ModuleNames.MasterDetailModule);if(this.rowType==RowType$1.FullWidthDetail&&!g){ModuleRegistry.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+ModuleNames.MasterDetailModule);return}var b;switch(this.rowType){case RowType$1.FullWidthDetail:b=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(h);break;case RowType$1.FullWidthGroup:b=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(h);break;case RowType$1.FullWidthLoading:b=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(h);break;default:b=this.beans.userComponentFactory.getFullWidthCellRendererDetails(h);break}o.rowComp.showFullWidth(b)},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getCellElement=function(o){var c=this.getCellCtrl(o);return c?c.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var o=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();if(o){var c={eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};o(c)}},e.prototype.setRowType=function(){var o=this.rowNode.stub,c=this.rowNode.isFullWidthCell(),h=this.beans.doingMasterDetail&&this.rowNode.detail,g=this.beans.columnModel.isPivotMode(),b=!!this.rowNode.group&&!this.rowNode.footer,$=b&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(g);o?this.rowType=RowType$1.FullWidthLoading:h?this.rowType=RowType$1.FullWidthDetail:c?this.rowType=RowType$1.FullWidth:$?this.rowType=RowType$1.FullWidthGroup:this.rowType=RowType$1.Normal},e.prototype.updateColumnLists=function(o){var c=this;if(o===void 0&&(o=!1),!this.isFullWidth()){var h=o||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout;if(h){this.updateColumnListsImpl();return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){c.active&&c.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(o,c,h){var g=this;h===void 0&&(h=null);var b={list:[],map:{}},$=function(j,rt){b.list.push(rt),b.map[j]=rt};return c.forEach(function(j){var rt=j.getInstanceId(),nt=o.map[rt];nt||(nt=new CellCtrl(j,g.rowNode,g.beans,g)),$(rt,nt)}),o.list.forEach(function(j){var rt=b.map[j.getColumn().getInstanceId()]!=null;if(!rt){var nt=!g.isCellEligibleToBeRemoved(j,h);if(nt){$(j.getColumn().getInstanceId(),j);return}j.destroy()}}),b},e.prototype.updateColumnListsImpl=function(){var o=this;this.updateColumnListsPending=!1;var c=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var h=c.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,h);var g=c.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,g,Constants.PINNED_LEFT);var b=c.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,b,Constants.PINNED_RIGHT)}this.allRowGuis.forEach(function($){var j=$.containerType===RowContainerType.LEFT?o.leftCellCtrls:$.containerType===RowContainerType.RIGHT?o.rightCellCtrls:o.centerCellCtrls;$.rowComp.setCellCtrls(j.list)})},e.prototype.isCellEligibleToBeRemoved=function(o,c){var h=!0,g=!1,b=o.getColumn();if(b.getPinned()!=c)return h;var $=o.isEditing(),j=this.beans.focusService.isCellFocused(o.getCellPosition()),rt=$||j;if(rt){var nt=o.getColumn(),ot=this.beans.columnModel.getAllDisplayedColumns(),_t=ot.indexOf(nt)>=0;return _t?g:h}return h},e.prototype.setAnimateFlags=function(o){if(!this.isSticky()&&o){var c=exists(this.rowNode.oldRowTop);this.slideRowIn=c,this.fadeRowIn=!c}else this.slideRowIn=!1,this.fadeRowIn=!1},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(o){this.stopEditing(o)},e.prototype.isFullWidth=function(){return this.rowType!==RowType$1.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var o=this,c=function(rt,nt){if(!rt)return!0;var ot=rt.rowComp.getFullWidthCellRenderer();if(!ot||!ot.refresh)return!1;var _t=o.createFullWidthParams(rt.element,nt),Et=ot.refresh(_t);return Et},h=c(this.fullWidthGui,null),g=c(this.centerGui,null),b=c(this.leftGui,Constants.PINNED_LEFT),$=c(this.rightGui,Constants.PINNED_RIGHT),j=h&&g&&b&&$;return j},e.prototype.addListeners=function(){this.addManagedListener(this.rowNode,RowNode.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var o=this.beans.eventService;this.addManagedListener(o,Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(o,Events.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(o,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(o,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(o,Events.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(o,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(o,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(o,Events.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var o=this;this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,function(){o.getAllCellCtrls().forEach(function(c){return c.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,function(c){o.getAllCellCtrls().forEach(function(h){return h.onCellChanged(c)})})},e.prototype.onRowNodeDataChanged=function(o){this.getAllCellCtrls().forEach(function(c){return c.refreshCell({suppressFlash:!o.update,newData:!o.update})}),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var o=this.rowNode.highlighted;this.allRowGuis.forEach(function(c){var h=o===RowHighlightPosition.Above,g=o===RowHighlightPosition.Below;c.rowComp.addOrRemoveCssClass("ag-row-highlight-above",h),c.rowComp.addOrRemoveCssClass("ag-row-highlight-below",g)})},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var o=this.rowNode.dragging;this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-dragging",o)})},e.prototype.updateExpandedCss=function(){var o=this.rowNode.isExpandable(),c=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(h){h.rowComp.addOrRemoveCssClass("ag-row-group",o),h.rowComp.addOrRemoveCssClass("ag-row-group-expanded",o&&c),h.rowComp.addOrRemoveCssClass("ag-row-group-contracted",o&&!c),setAriaExpanded(h.element,o&&c)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},e.prototype.getRowPosition=function(){return{rowPinned:makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(o){var c=this.allRowGuis.find(function(rt){return rt.element.contains(o.target)}),h=c?c.element:null,g=h===o.target;if(g){var b=this.rowNode,$=this.beans.focusService.getFocusedCell(),j={rowIndex:b.rowIndex,rowPinned:b.rowPinned,column:$&&$.column};this.beans.navigationService.navigateToNextCell(o,o.key,j,!0),o.preventDefault()}},e.prototype.onTabKeyDown=function(o){if(!(o.defaultPrevented||isStopPropagationForAgGrid(o))){var c=this.allRowGuis.find(function($){return $.element.contains(o.target)}),h=c?c.element:null,g=h===o.target,b=null;g||(b=this.beans.focusService.findNextFocusableElement(h,!1,o.shiftKey)),(this.isFullWidth()&&g||!b)&&this.beans.navigationService.onTabKeyDown(this,o)}},e.prototype.onFullWidthRowFocused=function(o){var c,h=this.rowNode,g=this.isFullWidth()&&o.rowIndex===h.rowIndex&&o.rowPinned==h.rowPinned,b=this.fullWidthGui?this.fullWidthGui.element:(c=this.centerGui)===null||c===void 0?void 0:c.element;b&&(b.classList.toggle("ag-full-width-focus",g),g&&b.focus({preventScroll:!0}))},e.prototype.refreshCell=function(o){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,o),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,o),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,o),this.updateColumnLists()},e.prototype.removeCellCtrl=function(o,c){var h={list:[],map:{}};return o.list.forEach(function(g){g!==c&&(h.list.push(g),h.map[g.getInstanceId()]=g)}),h},e.prototype.onMouseEvent=function(o,c){switch(o){case"dblclick":this.onRowDblClick(c);break;case"click":this.onRowClick(c);break;case"touchstart":case"mousedown":this.onRowMouseDown(c);break}},e.prototype.createRowEvent=function(o,c){return{type:o,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:c}},e.prototype.createRowEventWithSource=function(o,c){var h=this.createRowEvent(o,c);return h.source=this,h},e.prototype.onRowDblClick=function(o){if(!isStopPropagationForAgGrid(o)){var c=this.createRowEventWithSource(Events.EVENT_ROW_DOUBLE_CLICKED,o);this.beans.eventService.dispatchEvent(c)}},e.prototype.onRowMouseDown=function(o){if(this.lastMouseDownOnDragger=isElementChildOfClass(o.target,"ag-row-drag",3),!!this.isFullWidth()){var c=this.rowNode,h=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:c.rowIndex,column:h.getAllDisplayedColumns()[0],rowPinned:c.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(o){var c=isStopPropagationForAgGrid(o)||this.lastMouseDownOnDragger;if(!c){var h=this.createRowEventWithSource(Events.EVENT_ROW_CLICKED,o);this.beans.eventService.dispatchEvent(h);var g=o.ctrlKey||o.metaKey,b=o.shiftKey,$=this.beans.gridOptionsWrapper.isGroupSelectsChildren();if(!($&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var j=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),rt=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())j?this.rowNode.setSelectedParams({newValue:!1,event:o}):g?rt&&this.rowNode.setSelectedParams({newValue:!1,event:o}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!b,rangeSelect:b,event:o});else{var nt=j?!1:!g;this.rowNode.setSelectedParams({newValue:!0,clearSelection:nt,rangeSelect:b,event:o})}}}},e.prototype.setupDetailRowAutoHeight=function(o){var c=this;if(this.rowType===RowType$1.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var h=function(){var b=o.clientHeight;if(b!=null&&b>0){var $=function(){c.rowNode.setRowHeight(b),c.beans.clientSideRowModel?c.beans.clientSideRowModel.onRowHeightChanged():c.beans.serverSideRowModel&&c.beans.serverSideRowModel.onRowHeightChanged()};c.beans.frameworkOverrides.setTimeout($,0)}},g=this.beans.resizeObserverService.observeResize(o,h);this.addDestroyFunc(g),h()}},e.prototype.createFullWidthParams=function(o,c){var h=this,g={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:o,eParentOfValue:o,pinned:c,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(b,$,j,rt){return h.addFullWidthRowDragging(b,$,j,rt)}};return g},e.prototype.addFullWidthRowDragging=function(o,c,h,g){if(h===void 0&&(h=""),!!this.isFullWidth()){var b=new RowDragComp(function(){return h},this.rowNode,void 0,o,c,g);this.createManagedBean(b,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var o=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=o){var c="ag-row-level-"+o,h="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(g){g.rowComp.addOrRemoveCssClass(c,!0),g.rowComp.addOrRemoveCssClass(h,!1)})}this.rowLevel=o},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var o=this.isFirstRowOnPage(),c=this.isLastRowOnPage();this.firstRowOnPage!==o&&(this.firstRowOnPage=o,this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-row-first",o)})),this.lastRowOnPage!==c&&(this.lastRowOnPage=c,this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-row-last",c)}))},e.prototype.stopEditing=function(o){var c,h;if(o===void 0&&(o=!1),!this.stoppingRowEdit){var g=this.getAllCellCtrls(),b=this.editingRow;this.stoppingRowEdit=!0;var $=!1;try{for(var j=__values$2(g),rt=j.next();!rt.done;rt=j.next()){var nt=rt.value,ot=nt.stopEditing(o);b&&!o&&!$&&ot&&($=!0)}}catch(Et){c={error:Et}}finally{try{rt&&!rt.done&&(h=j.return)&&h.call(j)}finally{if(c)throw c.error}}if($){var _t=this.createRowEvent(Events.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(_t)}b&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(o){this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-inline-editing",o),c.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!o)})},e.prototype.setEditingRow=function(o){this.editingRow=o,this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-row-editing",o)});var c=o?this.createRowEvent(Events.EVENT_ROW_EDITING_STARTED):this.createRowEvent(Events.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(c)},e.prototype.startRowEditing=function(o,c,h,g){if(o===void 0&&(o=null),c===void 0&&(c=null),h===void 0&&(h=null),g===void 0&&(g=null),!this.editingRow){var b=this.getAllCellCtrls().reduce(function($,j){var rt=j===h;return rt?j.startEditing(o,c,rt,g):j.startEditing(null,null,rt,g),$?!0:j.isEditing()},!1);b&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){var o=__spread$d(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return o},e.prototype.postProcessClassesFromGridOptions=function(){var o=this,c=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!c||!c.length||c.forEach(function(h){o.allRowGuis.forEach(function(g){return g.rowComp.addOrRemoveCssClass(h,!0)})})},e.prototype.postProcessRowClassRules=function(){var o=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(c){o.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass(c,!0)})},function(c){o.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass(c,!1)})})},e.prototype.setStylesFromGridOptions=function(){var o=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(c){return c.rowComp.setUserStyles(o)})},e.prototype.getRowBusinessKey=function(){var o=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if(typeof o=="function")return o(this.rowNode)},e.prototype.getPinnedForContainer=function(o){var c=o===RowContainerType.LEFT?Constants.PINNED_LEFT:o===RowContainerType.RIGHT?Constants.PINNED_RIGHT:null;return c},e.prototype.getInitialRowClasses=function(o){var c=this.getPinnedForContainer(o),h={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:c};return this.beans.rowCssClassCalculator.getInitialRowClasses(h)},e.prototype.processStylesFromGridOptions=function(){var o=this.beans.gridOptionsWrapper.getRowStyle();if(o&&typeof o=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var c=this.beans.gridOptionsWrapper.getRowStyleFunc(),h;if(c){var g={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};h=c(g)}return Object.assign({},o,h)},e.prototype.onRowSelected=function(){var o=this,c=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(h){h.rowComp.addOrRemoveCssClass("ag-row-selected",c),setAriaSelected(h.element,c?!0:void 0);var g=o.createAriaLabel();setAriaLabel(h.element,g??"")})},e.prototype.createAriaLabel=function(){var o=this.rowNode.isSelected();if(!(o&&this.beans.gridOptionsWrapper.isSuppressRowDeselection())){var c=this.beans.gridOptionsWrapper.getLocaleTextFunc(),h=c(o?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(o?"deselect":"select")+" this row.");return h}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(o){var c=this;this.active&&(this.addManagedListener(o,"mouseenter",function(){return c.rowNode.onMouseEnter()}),this.addManagedListener(o,"mouseleave",function(){return c.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_ENTER,function(){c.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||o.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_LEAVE,function(){o.classList.remove("ag-row-hover")}))},e.prototype.roundRowTopToBounds=function(o){var c=this.beans.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature().getVScrollPosition(),g=this.applyPaginationOffset(h.top,!0)-100,b=this.applyPaginationOffset(h.bottom,!0)+100;return Math.min(Math.max(g,o),b)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.onRowHeightChanged=function(){if(this.rowNode.rowHeight!=null){var o=this.rowNode.rowHeight,c=this.beans.gridOptionsWrapper.getDefaultRowHeight(),h=this.beans.gridOptionsWrapper.isGetRowHeightFunction(),g=h?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,b=g?Math.min(c,g)-2+"px":void 0;this.allRowGuis.forEach(function($){$.element.style.height=o+"px",b&&$.element.style.setProperty("--ag-line-height",b)})}},e.prototype.addEventListener=function(o,c){(o==="renderedRowRemoved"||o==="rowRemoved")&&(o=Events.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+Events.EVENT_VIRTUAL_ROW_REMOVED)),a.prototype.addEventListener.call(this,o,c)},e.prototype.removeEventListener=function(o,c){(o==="renderedRowRemoved"||o==="rowRemoved")&&(o=Events.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Events.EVENT_VIRTUAL_ROW_REMOVED)),a.prototype.removeEventListener.call(this,o,c)},e.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var o=this.createRowEvent(Events.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),a.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var o=this.rowNode.rowTop!=null;if(o){var c=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(c)}else this.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var o=function(c){return c.list.forEach(function(h){return h.destroy()}),{list:[],map:{}}};this.centerCellCtrls=o(this.centerCellCtrls),this.leftCellCtrls=o(this.leftCellCtrls),this.rightCellCtrls=o(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(){var o=this;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-focus",o.rowFocused),c.rowComp.addOrRemoveCssClass("ag-row-no-focus",!o.rowFocused)})},e.prototype.onCellFocusChanged=function(){var o=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);o!==this.rowFocused&&(this.rowFocused=o,this.setFocusedClasses()),!o&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var o=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==o&&(this.paginationPage=o,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(o,c){if(c===void 0&&(c=!1),this.rowNode.isRowPinned())return o;var h=this.beans.paginationProxy.getPixelOffset(),g=c?1:-1;return o+h*g},e.prototype.setRowTop=function(o){if(!this.printLayout&&exists(o)){var c=this.applyPaginationOffset(o),h=this.rowNode.isRowPinned()?c:this.beans.rowContainerHeightService.getRealPixelPosition(c),g=h+"px";this.setRowTopStyle(g)}},e.prototype.getInitialRowTop=function(){var o=this.beans.gridOptionsWrapper.isSuppressRowTransform();return o?this.getInitialRowTopShared():void 0},e.prototype.getInitialTransform=function(){var o=this.beans.gridOptionsWrapper.isSuppressRowTransform();return o?void 0:"translateY("+this.getInitialRowTopShared()+")"},e.prototype.getInitialRowTopShared=function(){if(this.printLayout)return"";var o;if(this.isSticky())o=this.rowNode.stickyRowTop;else{var c=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,h=this.applyPaginationOffset(c);o=this.rowNode.isRowPinned()?h:this.beans.rowContainerHeightService.getRealPixelPosition(h)}return o+"px"},e.prototype.setRowTopStyle=function(o){var c=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(h){return c?h.rowComp.setTop(o):h.rowComp.setTransform("translateY("+o+")")})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(o){var c=null;return this.getAllCellCtrls().forEach(function(h){h.getColumn()==o&&(c=h)}),c!=null||this.getAllCellCtrls().forEach(function(h){h.getColSpanningList().indexOf(o)>=0&&(c=h)}),c},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.updateRowIndexes=function(){var o=this.rowNode.getRowIndexString(),c=this.beans.headerNavigationService.getHeaderRowCount(),h=this.rowNode.rowIndex%2===0,g=c+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(b){b.rowComp.setRowIndex(o),b.rowComp.addOrRemoveCssClass("ag-row-even",h),b.rowComp.addOrRemoveCssClass("ag-row-odd",!h),setAriaRowIndex(b.element,g)})},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1T=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1M=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$g=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},RowContainerEventsFeature=function(a){__extends$1T(e,a);function e(o){var c=a.call(this)||this;return c.element=o,c}return e.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},e.prototype.addKeyboardEvents=function(){var o=this,c=["keydown","keypress"];c.forEach(function(h){var g=o.processKeyboardEvent.bind(o,h);o.addManagedListener(o.element,h,g)})},e.prototype.addMouseListeners=function(){var o=this,c=isEventSupported("touchstart")?"touchstart":"mousedown",h=["dblclick","contextmenu","mouseover","mouseout","click",c];h.forEach(function(g){var b=o.processMouseEvent.bind(o,g);o.addManagedListener(o.element,g,b)})},e.prototype.processMouseEvent=function(o,c){if(!(!this.mouseEventService.isEventFromThisGrid(c)||isStopPropagationForAgGrid(c))){var h=this.getRowForEvent(c),g=this.mouseEventService.getRenderedCellForEvent(c);o==="contextmenu"?this.handleContextMenuMouseEvent(c,null,h,g):(g&&g.onMouseEvent(o,c),h&&h.onMouseEvent(o,c))}},e.prototype.mockContextMenuForIPad=function(){var o=this;if(isIOSUserAgent()){var c=new TouchListener(this.element),h=function(g){var b=o.getRowForEvent(g.touchEvent),$=o.mouseEventService.getRenderedCellForEvent(g.touchEvent);o.handleContextMenuMouseEvent(null,g.touchEvent,b,$)};this.addManagedListener(c,TouchListener.EVENT_LONG_TAP,h),this.addDestroyFunc(function(){return c.destroy()})}},e.prototype.getRowForEvent=function(o){for(var c=o.target;c;){var h=this.gridOptionsWrapper.getDomData(c,RowCtrl.DOM_DATA_KEY_ROW_CTRL);if(h)return h;c=c.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(o,c,h,g){var b=h?h.getRowNode():null,$=g?g.getColumn():null,j=null;if($){var rt=o||c;g.dispatchCellContextMenuEvent(rt),j=this.valueService.getValue($,b)}var nt=this.ctrlsService.getGridBodyCtrl(),ot=g?g.getGui():nt.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(o,c,b,$,j,ot)},e.prototype.processKeyboardEvent=function(o,c){var h=getCtrlForEvent(this.gridOptionsWrapper,c,CellCtrl.DOM_DATA_KEY_CELL_CTRL),g=getCtrlForEvent(this.gridOptionsWrapper,c,RowCtrl.DOM_DATA_KEY_ROW_CTRL);c.defaultPrevented||(h?this.processCellKeyboardEvent(h,o,c):g&&g.isFullWidth()&&this.processFullWidthRowKeyboardEvent(g,o,c))},e.prototype.processCellKeyboardEvent=function(o,c,h){var g=o.getRowNode(),b=o.getColumn(),$=o.isEditing(),j=!isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,h,g,b,$);if(j)switch(c){case"keydown":var rt=!$&&this.navigationService.handlePageScrollingKey(h);rt||o.onKeyDown(h),this.doGridOperations(h,o.isEditing());break;case"keypress":o.onKeyPress(h);break}if(c==="keydown"){var nt=o.createEvent(h,Events.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(nt)}if(c==="keypress"){var ot=o.createEvent(h,Events.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(ot)}},e.prototype.processFullWidthRowKeyboardEvent=function(o,c,h){var g=o.getRowNode(),b=this.focusService.getFocusedCell(),$=b&&b.column,j=!isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,h,g,$,!1);if(j){var rt=h.key;if(c==="keydown")switch(rt){case KeyCode.UP:case KeyCode.DOWN:o.onKeyboardNavigate(h);break;case KeyCode.TAB:o.onTabKeyDown(h)}}if(c==="keydown"){var nt=o.createRowEvent(Events.EVENT_CELL_KEY_DOWN,h);this.eventService.dispatchEvent(nt)}if(c==="keypress"){var ot=o.createRowEvent(Events.EVENT_CELL_KEY_PRESS,h);this.eventService.dispatchEvent(ot)}},e.prototype.doGridOperations=function(o,c){if(!(!o.ctrlKey&&!o.metaKey)&&!c&&this.mouseEventService.isEventFromThisGrid(o)){var h=normaliseQwertyAzerty(o);if(h===KeyCode.A)return this.onCtrlAndA(o);if(h===KeyCode.C)return this.onCtrlAndC(o);if(h===KeyCode.V)return this.onCtrlAndV();if(h===KeyCode.D)return this.onCtrlAndD(o);if(h===KeyCode.Z)return this.onCtrlAndZ(o);if(h===KeyCode.Y)return this.onCtrlAndY()}},e.prototype.onCtrlAndA=function(o){var c=this,h=c.pinnedRowModel,g=c.paginationProxy,b=c.rangeService,$=Constants.PINNED_BOTTOM,j=Constants.PINNED_TOP;if(b&&g.isRowsToRender()){var rt=__read$g([h.isEmpty(j),h.isEmpty($)],2),nt=rt[0],ot=rt[1],_t=nt?null:j,Et=void 0,It=void 0;ot?(Et=null,It=this.paginationProxy.getRowCount()-1):(Et=$,It=h.getPinnedBottomRowData().length-1);var it=this.columnModel.getAllDisplayedColumns();if(missingOrEmpty(it))return;b.setCellRange({rowStartIndex:0,rowStartPinned:_t,rowEndIndex:It,rowEndPinned:Et,columnStart:it[0],columnEnd:last(it)})}o.preventDefault()},e.prototype.onCtrlAndC=function(o){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),o.preventDefault())},e.prototype.onCtrlAndV=function(){ModuleRegistry.isRegistered(ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(o){ModuleRegistry.isRegistered(ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),o.preventDefault()},e.prototype.onCtrlAndZ=function(o){this.gridOptionsWrapper.isUndoRedoCellEditing()&&(o.preventDefault(),o.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo())},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo()},__decorate$1M([Autowired("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$1M([Autowired("valueService")],e.prototype,"valueService",void 0),__decorate$1M([Optional("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),__decorate$1M([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1M([Autowired("navigationService")],e.prototype,"navigationService",void 0),__decorate$1M([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1M([Autowired("undoRedoService")],e.prototype,"undoRedoService",void 0),__decorate$1M([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1M([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),__decorate$1M([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$1M([Optional("rangeService")],e.prototype,"rangeService",void 0),__decorate$1M([Optional("clipboardService")],e.prototype,"clipboardService",void 0),__decorate$1M([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1S=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1L=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ViewportSizeFeature=function(a){__extends$1S(e,a);function e(o){var c=a.call(this)||this;return c.centerContainerCtrl=o,c}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCtrl=o.ctrlsService.getGridBodyCtrl(),o.listenForResize()}),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var o=this,c=function(){return o.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(c),this.gridBodyCtrl.registerBodyViewportResizeListener(c)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var o=this.centerContainerCtrl.getCenterWidth();o!==this.centerWidth&&(this.centerWidth=o,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var o=this.gridBodyCtrl.getBodyViewportElement(),c=getInnerHeight(o);if(this.bodyHeight!==c){this.bodyHeight=c;var h={type:Events.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(h)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var o={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(o),this.gridBodyCtrl.setVerticalScrollPaddingVisible(o.verticalScrollShowing)},e.prototype.isHorizontalScrollShowing=function(){var o=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return o||this.centerContainerCtrl.isViewportHScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var o=this.centerContainerCtrl.getCenterWidth(),c=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(o,c)},__decorate$1L([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1L([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1L([Autowired("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),__decorate$1L([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1R=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1K=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SetPinnedLeftWidthFeature=function(a){__extends$1R(e,a);function e(o){var c=a.call(this)||this;return c.element=o,c}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var o=this.pinnedWidthService.getPinnedLeftWidth(),c=o>0;setDisplayed(this.element,c),c&&setFixedWidth(this.element,o)},__decorate$1K([Autowired("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),__decorate$1K([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1Q=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1J=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SetPinnedRightWidthFeature=function(a){__extends$1Q(e,a);function e(o){var c=a.call(this)||this;return c.element=o,c}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var o=this.pinnedWidthService.getPinnedRightWidth(),c=o>0;setDisplayed(this.element,c),c&&setFixedWidth(this.element,o)},__decorate$1J([Autowired("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),__decorate$1J([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1P=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1I=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SetHeightFeature=function(a){__extends$1P(e,a);function e(o,c){var h=a.call(this)||this;return h.eContainer=o,h.eWrapper=c,h}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var o=this.maxDivHeightScaler.getUiContainerHeight(),c=o!=null?o+"px":"";this.eContainer.style.height=c,this.eWrapper&&(this.eWrapper.style.height=c)},__decorate$1I([Autowired("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),__decorate$1I([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1O=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1H=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DragListenerFeature=function(a){__extends$1O(e,a);function e(o){var c=a.call(this)||this;return c.eContainer=o,c}return e.prototype.postConstruct=function(){var o=this;if(!(!this.gridOptionsWrapper.isEnableRangeSelection()||missing(this.rangeService))){var c={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(c),this.addDestroyFunc(function(){return o.dragService.removeDragSource(c)})}},__decorate$1H([Optional("rangeService")],e.prototype,"rangeService",void 0),__decorate$1H([Autowired("dragService")],e.prototype,"dragService",void 0),__decorate$1H([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1N=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1G=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},CenterWidthFeature=function(a){__extends$1N(e,a);function e(o){var c=a.call(this)||this;return c.callback=o,c}return e.prototype.postConstruct=function(){var o=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,o),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,o),this.setWidth()},e.prototype.setWidth=function(){var o=this.columnModel,c=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,h=o.getBodyContainerWidth(),g=o.getDisplayedColumnsLeftWidth(),b=o.getDisplayedColumnsRightWidth(),$=c?h+g+b:h;this.callback($)},__decorate$1G([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1G([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1M=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1F=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$f=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$c=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$f(arguments[e]));return a},RowContainerName;(function(a){a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.FULL_WIDTH="fullWidth",a.TOP_LEFT="topLeft",a.TOP_RIGHT="topRight",a.TOP_CENTER="topCenter",a.TOP_FULL_WIDTH="topFullWidth",a.STICKY_TOP_LEFT="stickyTopLeft",a.STICKY_TOP_RIGHT="stickyTopRight",a.STICKY_TOP_CENTER="stickyTopCenter",a.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",a.BOTTOM_LEFT="bottomLeft",a.BOTTOM_RIGHT="bottomRight",a.BOTTOM_CENTER="bottomCenter",a.BOTTOM_FULL_WIDTH="bottomFullWidth"})(RowContainerName||(RowContainerName={}));var RowContainerType;(function(a){a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.FULL_WIDTH="fullWidth"})(RowContainerType||(RowContainerType={}));function getRowContainerTypeForName(a){switch(a){case RowContainerName.CENTER:case RowContainerName.TOP_CENTER:case RowContainerName.STICKY_TOP_CENTER:case RowContainerName.BOTTOM_CENTER:return RowContainerType.CENTER;case RowContainerName.LEFT:case RowContainerName.TOP_LEFT:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.BOTTOM_LEFT:return RowContainerType.LEFT;case RowContainerName.RIGHT:case RowContainerName.TOP_RIGHT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.BOTTOM_RIGHT:return RowContainerType.RIGHT;case RowContainerName.FULL_WIDTH:case RowContainerName.TOP_FULL_WIDTH:case RowContainerName.STICKY_TOP_FULL_WIDTH:case RowContainerName.BOTTOM_FULL_WIDTH:return RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var ContainerCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-container"],[RowContainerName.LEFT,"ag-pinned-left-cols-container"],[RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[RowContainerName.FULL_WIDTH,"ag-full-width-container"],[RowContainerName.TOP_CENTER,"ag-floating-top-container"],[RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-container"],[RowContainerName.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[RowContainerName.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[RowContainerName.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),ViewportCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-viewport"],[RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),WrapperCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-clipper"]]),RowContainerCtrl=function(a){__extends$1M(e,a);function e(o){var c=a.call(this)||this;return c.name=o,c}return e.getRowContainerCssClasses=function(o){var c=ContainerCssClasses.get(o),h=ViewportCssClasses.get(o),g=WrapperCssClasses.get(o);return{container:c,viewport:h,wrapper:g}},e.getPinned=function(o){switch(o){case RowContainerName.BOTTOM_LEFT:case RowContainerName.TOP_LEFT:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.LEFT:return Constants.PINNED_LEFT;case RowContainerName.BOTTOM_RIGHT:case RowContainerName.TOP_RIGHT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.RIGHT:return Constants.PINNED_RIGHT;default:return null}},e.prototype.postConstruct=function(){var o=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([RowContainerName.CENTER],function(){return o.viewportSizeFeature=o.createManagedBean(new ViewportSizeFeature(o))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case RowContainerName.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case RowContainerName.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case RowContainerName.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(o,c){o.indexOf(this.name)>=0&&c()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(o,c,h,g){var b=this;this.comp=o,this.eContainer=c,this.eViewport=h,this.eWrapper=g,this.createManagedBean(new RowContainerEventsFeature(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var $=[RowContainerName.TOP_CENTER,RowContainerName.TOP_LEFT,RowContainerName.TOP_RIGHT],j=[RowContainerName.STICKY_TOP_CENTER,RowContainerName.STICKY_TOP_LEFT,RowContainerName.STICKY_TOP_RIGHT],rt=[RowContainerName.BOTTOM_CENTER,RowContainerName.BOTTOM_LEFT,RowContainerName.BOTTOM_RIGHT],nt=[RowContainerName.CENTER,RowContainerName.LEFT,RowContainerName.RIGHT],ot=__spread$c($,rt,nt,j),_t=[RowContainerName.CENTER,RowContainerName.LEFT,RowContainerName.RIGHT,RowContainerName.FULL_WIDTH],Et=[RowContainerName.CENTER,RowContainerName.TOP_CENTER,RowContainerName.STICKY_TOP_CENTER,RowContainerName.BOTTOM_CENTER],It=[RowContainerName.LEFT,RowContainerName.BOTTOM_LEFT,RowContainerName.TOP_LEFT,RowContainerName.STICKY_TOP_LEFT],it=[RowContainerName.RIGHT,RowContainerName.BOTTOM_RIGHT,RowContainerName.TOP_RIGHT,RowContainerName.STICKY_TOP_RIGHT];this.forContainers(It,function(){return b.createManagedBean(new SetPinnedLeftWidthFeature(b.eContainer))}),this.forContainers(it,function(){return b.createManagedBean(new SetPinnedRightWidthFeature(b.eContainer))}),this.forContainers(_t,function(){return b.createManagedBean(new SetHeightFeature(b.eContainer,b.eWrapper))}),this.forContainers(ot,function(){return b.createManagedBean(new DragListenerFeature(b.eContainer))}),this.forContainers(Et,function(){return b.createManagedBean(new CenterWidthFeature(function(st){return b.comp.setContainerWidth(st+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return o.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return o.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return o.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_ROWS_CHANGED,function(){return o.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var o=this,c=[RowContainerName.STICKY_TOP_CENTER,RowContainerName.STICKY_TOP_LEFT,RowContainerName.STICKY_TOP_RIGHT,RowContainerName.STICKY_TOP_FULL_WIDTH],h=c.indexOf(this.name)>=0;if(h){this.comp.setDomOrder(!0);return}var g=function(){return o.comp.setDomOrder(o.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,g),g()},e.prototype.stopHScrollOnPinnedRows=function(){var o=this;this.forContainers([RowContainerName.TOP_CENTER,RowContainerName.STICKY_TOP_CENTER,RowContainerName.BOTTOM_CENTER],function(){var c=function(){return o.eViewport.scrollLeft=0};o.addManagedListener(o.eViewport,"scroll",c)})},e.prototype.onDisplayedColumnsChanged=function(){var o=this;this.forContainers([RowContainerName.CENTER],function(){return o.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var o=this;this.forContainers([RowContainerName.CENTER],function(){return o.onHorizontalViewportChanged()})},e.prototype.onScrollVisibilityChanged=function(){if(this.name===RowContainerName.CENTER){var o=this.scrollVisibleService.isHorizontalScrollShowing(),c=o&&this.gridOptionsWrapper.getScrollbarWidth()||0,h=c==0?"100%":"calc(100% + "+c+"px)";this.comp.setViewportHeight(h)}},e.prototype.addPreventScrollWhileDragging=function(){var o=this,c=function(h){o.dragService.isDragging()&&h.cancelable&&h.preventDefault()};this.eContainer.addEventListener("touchmove",c,{passive:!1}),this.addDestroyFunc(function(){return o.eContainer.removeEventListener("touchmove",c)})},e.prototype.onHorizontalViewportChanged=function(){var o=this.getCenterWidth(),c=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(o,c)},e.prototype.getCenterWidth=function(){return getInnerWidth(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return getScrollLeft(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(o){var c=this.resizeObserverService.observeResize(this.eViewport,o);this.addDestroyFunc(function(){return c()})},e.prototype.isViewportVisible=function(){return isVisible(this.eViewport)},e.prototype.isViewportHScrollShowing=function(){return isHorizontalScrollShowing(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return getScrollLeft(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var o=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return o||isHorizontalScrollShowing(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(o){this.eContainer.style.transform="translateX("+o+"px)"},e.prototype.getHScrollPosition=function(){var o={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return o},e.prototype.setCenterViewportScrollLeft=function(o){setScrollLeft(this.eViewport,o,this.enableRtl)},e.prototype.onDisplayedRowsChanged=function(){var o=this,c=this.name===RowContainerName.TOP_FULL_WIDTH||this.name===RowContainerName.STICKY_TOP_FULL_WIDTH||this.name===RowContainerName.BOTTOM_FULL_WIDTH||this.name===RowContainerName.FULL_WIDTH,h=function($){var j=$.isFullWidth(),rt=o.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,nt=o.embedFullWidthRows||rt,ot=c?!nt&&j:nt||!j;return ot},g=this.getRowCtrls(),b=g.filter(h);this.comp.setRowCtrls(b)},e.prototype.getRowCtrls=function(){switch(this.name){case RowContainerName.TOP_CENTER:case RowContainerName.TOP_LEFT:case RowContainerName.TOP_RIGHT:case RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case RowContainerName.STICKY_TOP_CENTER:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case RowContainerName.BOTTOM_CENTER:case RowContainerName.BOTTOM_LEFT:case RowContainerName.BOTTOM_RIGHT:case RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},__decorate$1F([Autowired("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),__decorate$1F([Autowired("dragService")],e.prototype,"dragService",void 0),__decorate$1F([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1F([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1F([Autowired("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$1F([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1F([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1L=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1E=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GRID_BODY_TEMPLATE=`<div class="ag-root ag-unselectable" role="grid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`+RowContainerName.TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`+RowContainerName.TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`+RowContainerName.TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`+RowContainerName.TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
            <ag-row-container ref="leftContainer" name="`+RowContainerName.LEFT+`"></ag-row-container>
            <ag-row-container ref="centerContainer" name="`+RowContainerName.CENTER+`"></ag-row-container>
            <ag-row-container ref="rightContainer" name="`+RowContainerName.RIGHT+`"></ag-row-container>
            <ag-row-container ref="fullWidthContainer" name="`+RowContainerName.FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`+RowContainerName.STICKY_TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`+RowContainerName.STICKY_TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`+RowContainerName.STICKY_TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`+RowContainerName.STICKY_TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`+RowContainerName.BOTTOM_LEFT+`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`+RowContainerName.BOTTOM_CENTER+`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`+RowContainerName.BOTTOM_RIGHT+`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`+RowContainerName.BOTTOM_FULL_WIDTH+`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,GridBodyComp$1=function(a){__extends$1L(e,a);function e(){return a.call(this,GRID_BODY_TEMPLATE)||this}return e.prototype.init=function(){var o=this,c=function(g,b){var $=g+"px";b.style.minHeight=$,b.style.height=$},h={setRowAnimationCssOnBodyViewport:function(g,b){return o.setRowAnimationCssOnBodyViewport(g,b)},setColumnCount:function(g){return setAriaColCount(o.getGui(),g)},setRowCount:function(g){return setAriaRowCount(o.getGui(),g)},setTopHeight:function(g){return c(g,o.eTop)},setBottomHeight:function(g){return c(g,o.eBottom)},setTopDisplay:function(g){return o.eTop.style.display=g},setBottomDisplay:function(g){return o.eBottom.style.display=g},setStickyTopHeight:function(g){return o.eStickyTop.style.height=g},setStickyTopTop:function(g){return o.eStickyTop.style.top=g},setStickyTopWidth:function(g){return o.eStickyTop.style.width=g},setColumnMovingCss:function(g,b){return o.addOrRemoveCssClass(CSS_CLASS_COLUMN_MOVING,b)},updateLayoutClasses:function(g,b){var $=o.eBodyViewport.classList;$.toggle(LayoutCssClasses.AUTO_HEIGHT,b.autoHeight),$.toggle(LayoutCssClasses.NORMAL,b.normal),$.toggle(LayoutCssClasses.PRINT,b.print),o.addOrRemoveCssClass(LayoutCssClasses.AUTO_HEIGHT,b.autoHeight),o.addOrRemoveCssClass(LayoutCssClasses.NORMAL,b.normal),o.addOrRemoveCssClass(LayoutCssClasses.PRINT,b.print)},setAlwaysVerticalScrollClass:function(g,b){return o.eBodyViewport.classList.toggle(CSS_CLASS_FORCE_VERTICAL_SCROLL,b)},registerBodyViewportResizeListener:function(g){var b=o.resizeObserverService.observeResize(o.eBodyViewport,g);o.addDestroyFunc(function(){return b()})},setPinnedTopBottomOverflowY:function(g){return o.eTop.style.overflowY=o.eBottom.style.overflowY=g},setCellSelectableCss:function(g,b){[o.eTop,o.eBodyViewport,o.eBottom].forEach(function($){return $.classList.toggle(CSS_CLASS_CELL_SELECTABLE,b)})}};this.ctrl=this.createManagedBean(new GridBodyCtrl),this.ctrl.setComp(h,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&setAriaMultiSelectable(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(o,c){var h=this.eBodyViewport.classList;h.toggle(RowAnimationCssClasses.ANIMATION_ON,c),h.toggle(RowAnimationCssClasses.ANIMATION_OFF,!c)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},__decorate$1E([Autowired("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$1E([Optional("rangeService")],e.prototype,"rangeService",void 0),__decorate$1E([RefSelector("eBodyViewport")],e.prototype,"eBodyViewport",void 0),__decorate$1E([RefSelector("eStickyTop")],e.prototype,"eStickyTop",void 0),__decorate$1E([RefSelector("eTop")],e.prototype,"eTop",void 0),__decorate$1E([RefSelector("eBottom")],e.prototype,"eBottom",void 0),__decorate$1E([RefSelector("gridHeader")],e.prototype,"headerRootComp",void 0),__decorate$1E([PostConstruct],e.prototype,"init",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1K=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1D=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ScrollVisibleService=function(a){__extends$1K(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var o=this.ctrlsService.getCenterRowContainerCtrl();if(o){var c={horizontalScrollShowing:o.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(c)}},e.prototype.setScrollsVisible=function(o){var c=this.horizontalScrollShowing!==o.horizontalScrollShowing||this.verticalScrollShowing!==o.verticalScrollShowing;if(c){this.horizontalScrollShowing=o.horizontalScrollShowing,this.verticalScrollShowing=o.verticalScrollShowing;var h={type:Events.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(h)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},__decorate$1D([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1D([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$1D([Bean("scrollVisibleService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1J=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1C=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},MouseEventService=function(a){__extends$1J(e,a);function e(){var c=a!==null&&a.apply(this,arguments)||this;return c.gridInstanceId=o.gridInstanceSequence.next(),c}o=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(c){c[o.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(c){return getCtrlForEvent(this.gridOptionsWrapper,c,CellCtrl.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(c){var h=this.isElementInThisGrid(c.target);return h},e.prototype.isElementInThisGrid=function(c){for(var h=c;h;){var g=h[o.GRID_DOM_KEY];if(exists(g)){var b=g===this.gridInstanceId;return b}h=h.parentElement}return!1},e.prototype.getCellPositionForEvent=function(c){var h=this.getRenderedCellForEvent(c);return h?h.getCellPosition():null},e.prototype.getNormalisedPosition=function(c){var h=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,g=c,b,$;if(g.clientX!=null||g.clientY!=null?(b=g.clientX,$=g.clientY):(b=g.x,$=g.y),h){var j=this.ctrlsService.getGridBodyCtrl(),rt=j.getScrollFeature().getVScrollPosition(),nt=j.getScrollFeature().getHScrollPosition();b+=nt.left,$+=rt.top}return{x:b,y:$}};var o;return e.gridInstanceSequence=new NumberSequence,e.GRID_DOM_KEY="__ag_grid_instance",__decorate$1C([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),e=o=__decorate$1C([Bean("mouseEventService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1I=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$4$1=function(){return __assign$4$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$4$1.apply(this,arguments)},__decorate$1B=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},NavigationService=function(a){__extends$1I(e,a);function e(){var o=a.call(this)||this;return o.onPageDown=throttle(o.onPageDown,100),o.onPageUp=throttle(o.onPageUp,100),o}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(c){o.gridBodyCon=c.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(o){var c=o.key,h=o.altKey,g=o.ctrlKey||o.metaKey,b=!!this.rangeService&&o.shiftKey,$=this.mouseEventService.getCellPositionForEvent(o);if(!$)return!1;var j=!1;switch(c){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:!g&&!h&&(this.onHomeOrEndKey(c),j=!0);break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.UP:case KeyCode.DOWN:g&&!h&&!b&&(this.onCtrlUpDownLeftRight(c,$),j=!0);break;case KeyCode.PAGE_DOWN:!g&&!h&&(this.onPageDown($),j=!0);break;case KeyCode.PAGE_UP:!g&&!h&&(this.onPageUp($),j=!0);break}return j&&o.preventDefault(),j},e.prototype.navigateTo=function(o){var c=o.scrollIndex,h=o.scrollType,g=o.scrollColumn,b=o.focusIndex,$=o.focusColumn;if(exists(g)&&!g.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(g),exists(c)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(c,h),o.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(b),this.focusService.setFocusedCell({rowIndex:b,column:$,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var j={rowIndex:b,rowPinned:null,column:$};this.rangeService.setRangeToCell(j)}},e.prototype.onPageDown=function(o){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature().getVScrollPosition(),g=this.getViewportHeight(),b=this.paginationProxy.getPixelOffset(),$=h.top+g,j=this.paginationProxy.getRowIndexAtPixel($+b);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(o,j):this.navigateToNextPage(o,j)},e.prototype.onPageUp=function(o){var c=this.ctrlsService.getGridBodyCtrl(),h=c.getScrollFeature().getVScrollPosition(),g=this.paginationProxy.getPixelOffset(),b=h.top,$=this.paginationProxy.getRowIndexAtPixel(b+g);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(o,$,!0):this.navigateToNextPage(o,$,!0)},e.prototype.navigateToNextPage=function(o,c,h){h===void 0&&(h=!1);var g,b,$=this.getViewportHeight(),j=this.paginationProxy.getPageFirstRow(),rt=this.paginationProxy.getPageLastRow(),nt=this.paginationProxy.getPixelOffset(),ot=this.paginationProxy.getRow(o.rowIndex),_t=h?((g=ot)===null||g===void 0?void 0:g.rowHeight)-$-nt:$-nt,Et=((b=ot)===null||b===void 0?void 0:b.rowTop)+_t,It=this.paginationProxy.getRowIndexAtPixel(Et+nt);if(It===o.rowIndex){var it=h?-1:1;c=It=o.rowIndex+it}var st;h?(st="bottom",It<j&&(It=j),c<j&&(c=j)):(st="top",It>rt&&(It=rt),c>rt&&(c=rt)),this.isRowTallerThanView(It)&&(c=It,st="top"),this.navigateTo({scrollIndex:c,scrollType:st,scrollColumn:null,focusIndex:It,focusColumn:o.column})},e.prototype.navigateToNextPageWithAutoHeight=function(o,c,h){var g=this;h===void 0&&(h=!1),this.navigateTo({scrollIndex:c,scrollType:h?"bottom":"top",scrollColumn:null,focusIndex:c,focusColumn:o.column}),setTimeout(function(){var b=g.getNextFocusIndexForAutoHeight(o,h);g.navigateTo({scrollIndex:c,scrollType:h?"bottom":"top",scrollColumn:null,focusIndex:b,focusColumn:o.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(o,c){c===void 0&&(c=!1);for(var h,g=c?-1:1,b=this.getViewportHeight(),$=this.paginationProxy.getPageLastRow(),j=0,rt=o.rowIndex;rt>=0&&rt<=$;){var nt=this.paginationProxy.getRow(rt);if(nt){var ot=(h=nt.rowHeight,h??0);if(j+ot>b)break;j+=ot}rt+=g}return Math.max(0,Math.min(rt,$))},e.prototype.getViewportHeight=function(){var o=this.ctrlsService.getGridBodyCtrl(),c=o.getScrollFeature().getVScrollPosition(),h=this.gridOptionsWrapper.getScrollbarWidth(),g=c.bottom-c.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(g-=h),g},e.prototype.isRowTallerThanView=function(o){var c=this.paginationProxy.getRow(o);if(!c)return!1;var h=c.rowHeight;return typeof h!="number"?!1:h>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(o,c){var h=this.cellNavigationService.getNextCellToFocus(o,c,!0),g=h.rowIndex,b=h.column;this.navigateTo({scrollIndex:g,scrollType:null,scrollColumn:b,focusIndex:g,focusColumn:b})},e.prototype.onHomeOrEndKey=function(o){var c=o===KeyCode.PAGE_HOME,h=this.columnModel.getAllDisplayedColumns(),g=c?h[0]:last(h),b=c?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:b,scrollType:null,scrollColumn:g,focusIndex:b,focusColumn:g})},e.prototype.onTabKeyDown=function(o,c){var h=c.shiftKey,g=this.tabToNextCellCommon(o,h,c);if(g){c.preventDefault();return}if(h){var b=o.getRowPosition(),$=b.rowIndex,j=b.rowPinned,rt=j?$===0:$===this.paginationProxy.getPageFirstRow();rt&&(c.preventDefault(),this.focusService.focusLastHeader(c))}else o instanceof CellCtrl&&o.focusCell(!0),this.focusService.focusNextGridCoreContainer(h)&&c.preventDefault()},e.prototype.tabToNextCell=function(o,c){var h=this.focusService.getFocusedCell();if(!h)return!1;var g=this.getCellByPosition(h);return!g&&(g=this.rowRenderer.getRowByPosition(h),!g||!g.isFullWidth())?!1:this.tabToNextCellCommon(g,o,c)},e.prototype.tabToNextCellCommon=function(o,c,h){var g=o.isEditing();if(!g&&o instanceof CellCtrl){var b=o,$=b.getRowCtrl();$&&(g=$.isEditing())}var j;return g?this.gridOptionsWrapper.isFullRowEdit()?j=this.moveToNextEditingRow(o,c,h):j=this.moveToNextEditingCell(o,c,h):j=this.moveToNextCellNotEditing(o,c),j||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(o,c,h){h===void 0&&(h=null);var g=o.getCellPosition();o.getGui().focus(),o.stopEditing();var b=this.findNextCellToFocusOn(g,c,!0);return b==null?!1:(b.startEditing(null,null,!0,h),b.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(o,c,h){h===void 0&&(h=null);var g=o.getCellPosition(),b=this.findNextCellToFocusOn(g,c,!0);if(b==null)return!1;var $=b.getCellPosition(),j=this.isCellEditable(g),rt=this.isCellEditable($),nt=$&&g.rowIndex===$.rowIndex&&g.rowPinned===$.rowPinned;if(j&&o.setFocusOutOnEditor(),!nt){var ot=o.getRowCtrl();ot.stopEditing();var _t=b.getRowCtrl();_t.startRowEditing(void 0,void 0,void 0,h)}return rt?(b.setFocusInOnEditor(),b.focusCell()):b.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(o,c){var h=this.columnModel.getAllDisplayedColumns(),g;o instanceof RowCtrl?g=__assign$4$1(__assign$4$1({},o.getRowPosition()),{column:c?h[0]:last(h)}):g=o.getCellPosition();var b=this.findNextCellToFocusOn(g,c,!1);if(b instanceof CellCtrl)b.focusCell(!0);else if(b)return this.tryToFocusFullWidthRow(b.getRowPosition(),c);return exists(b)},e.prototype.findNextCellToFocusOn=function(o,c,h){for(var g=o;;){o!==g&&(o=g),c||(g=this.getLastCellOfColSpan(g)),g=this.cellNavigationService.getNextTabbedCell(g,c);var b=this.gridOptionsWrapper.getTabToNextCellFunc();if(exists(b)){var $={backwards:c,editing:h,previousCellPosition:o,nextCellPosition:g||null},j=b($);exists(j)?(j.floating&&(doOnce(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),j.rowPinned=j.floating),g={rowIndex:j.rowIndex,column:j.column,rowPinned:j.rowPinned}):g=null}if(!g)return null;if(g.rowIndex<0){var rt=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:rt+g.rowIndex,column:g.column}}),null}var nt=this.gridOptionsWrapper.isFullRowEdit();if(h&&!nt){var ot=this.isCellEditable(g);if(!ot)continue}this.ensureCellVisible(g);var _t=this.getCellByPosition(g);if(!_t){var Et=this.rowRenderer.getRowByPosition(g);if(!Et||!Et.isFullWidth())continue;return Et}if(!_t.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(g),_t}},e.prototype.isCellEditable=function(o){var c=this.lookupRowNodeForCell(o);return c?o.column.isCellEditable(c):!1},e.prototype.getCellByPosition=function(o){var c=this.rowRenderer.getRowByPosition(o);return c?c.getCellCtrl(o.column):null},e.prototype.lookupRowNodeForCell=function(o){return o.rowPinned===Constants.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(o.rowIndex):o.rowPinned===Constants.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(o.rowIndex):this.paginationProxy.getRow(o.rowIndex)},e.prototype.navigateToNextCell=function(o,c,h,g){for(var b=h,$=!1;b&&(b===h||!this.isValidNavigateCell(b));)this.gridOptionsWrapper.isEnableRtl()?c===KeyCode.LEFT&&(b=this.getLastCellOfColSpan(b)):c===KeyCode.RIGHT&&(b=this.getLastCellOfColSpan(b)),b=this.cellNavigationService.getNextCellToFocus(c,b),$=missing(b);if($&&o&&o.key===KeyCode.UP&&(b={rowIndex:-1,rowPinned:null,column:h.column}),g){var j=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(exists(j)){var rt={key:c,previousCellPosition:h,nextCellPosition:b||null,event:o},nt=j(rt);exists(nt)?(nt.floating&&(doOnce(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),nt.rowPinned=nt.floating),b={rowPinned:nt.rowPinned,rowIndex:nt.rowIndex,column:nt.column}):b=null}}if(b){if(b.rowIndex<0){var ot=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:ot+b.rowIndex,column:h.column},event:o||void 0});return}var _t=this.getNormalisedPosition(b);_t?this.focusPosition(_t):this.tryToFocusFullWidthRow(b)}},e.prototype.getNormalisedPosition=function(o){this.ensureCellVisible(o);var c=this.getCellByPosition(o);return c?(o=c.getCellPosition(),this.ensureCellVisible(o),o):null},e.prototype.tryToFocusFullWidthRow=function(o,c){c===void 0&&(c=!1);var h=this.columnModel.getAllDisplayedColumns(),g=this.rowRenderer.getRowByPosition(o);if(!g||!g.isFullWidth())return!1;var b=this.focusService.getFocusedCell(),$={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column||(c?last(h):h[0])};this.focusPosition($);var j=b!=null?this.rowPositionUtils.before($,b):!1,rt={type:Events.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:$.rowIndex,rowPinned:$.rowPinned,column:$.column,isFullWidthCell:!0,floating:$.rowPinned,fromBelow:j};return this.eventService.dispatchEvent(rt),!0},e.prototype.focusPosition=function(o){this.focusService.setFocusedCell({rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(o)},e.prototype.isValidNavigateCell=function(o){var c=this.rowPositionUtils.getRowNode(o);return!!c},e.prototype.getLastCellOfColSpan=function(o){var c=this.getCellByPosition(o);if(!c)return o;var h=c.getColSpanningList();return h.length===1?o:{rowIndex:o.rowIndex,column:last(h),rowPinned:o.rowPinned}},e.prototype.ensureCellVisible=function(o){var c,h=this.gridOptionsWrapper.isGroupRowsSticky(),g=this.rowModel.getRow(o.rowIndex),b=h&&((c=g)===null||c===void 0?void 0:c.sticky);!b&&missing(o.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o.rowIndex),o.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(o.column)},__decorate$1B([Autowired("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$1B([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),__decorate$1B([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1B([Optional("rangeService")],e.prototype,"rangeService",void 0),__decorate$1B([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1B([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$1B([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1B([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1B([Autowired("headerNavigationService")],e.prototype,"headerNavigationService",void 0),__decorate$1B([Autowired("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$1B([Autowired("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$1B([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$1B([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$1B([Bean("navigationService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1H=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1A=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},PopupEditorWrapper=function(a){__extends$1H(e,a);function e(o){var c=a.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return c.params=o,c}return e.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var o=this,c=this.getGui(),h=this.params,g=function(b){isUserSuppressingKeyboardEvent(o.gridOptionsWrapper,b,h.node,h.column,!0)||h.onKeyDown(b)};this.addManagedListener(c,"keydown",g)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",__decorate$1A([PostConstruct],e.prototype,"postConstruct",null),e}(PopupComponent);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1G=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),CellComp=function(a){__extends$1G(e,a);function e(o,c,h,g,b){var $=a.call(this)||this;$.rendererVersion=0,$.editorVersion=0,$.beans=o,$.column=c.getColumn(),$.rowNode=c.getRowNode(),$.rowCtrl=c.getRowCtrl(),$.eRow=g,$.setTemplate('<div comp-id="'+$.getCompId()+'"/>');var j=$.getGui();$.forceWrapper=c.isForceWrapper(),$.refreshWrapper(!1);var rt=function(ot,_t,Et){var It=Et||j;_t!=null&&_t!=""?It.setAttribute(ot,_t):It.removeAttribute(ot)},nt={addOrRemoveCssClass:function(ot,_t){return $.addOrRemoveCssClass(ot,_t)},setUserStyles:function(ot){return addStylesToElement(j,ot)},getFocusableElement:function(){return $.getFocusableElement()},setTabIndex:function(ot){return rt("tabindex",ot.toString())},setRole:function(ot){return setAriaRole(j,ot)},setColId:function(ot){return rt("col-id",ot)},setTitle:function(ot){return rt("title",ot)},setIncludeSelection:function(ot){return $.includeSelection=ot},setIncludeRowDrag:function(ot){return $.includeRowDrag=ot},setIncludeDndSource:function(ot){return $.includeDndSource=ot},setRenderDetails:function(ot,_t,Et){return $.setRenderDetails(ot,_t,Et)},setEditDetails:function(ot,_t,Et){return $.setEditDetails(ot,_t,Et)},getCellEditor:function(){return $.cellEditor||null},getCellRenderer:function(){return $.cellRenderer||null},getParentOfValue:function(){return $.getParentOfValue()}};return $.cellCtrl=c,c.setComp(nt,$.getGui(),$.eCellWrapper,h,b),$}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(o,c,h){var g=this.cellEditor&&!this.cellEditorPopupWrapper;if(!g){this.firstRender=this.firstRender==null;var b=this.refreshWrapper(!1);if(o){var $=h||b,j=$?!1:this.refreshCellRenderer(o);j||(this.destroyRenderer(),this.createCellRendererInstance(o))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(c)}},e.prototype.setEditDetails=function(o,c,h){o?this.createCellEditorInstance(o,c,h):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(o){var c=this.includeRowDrag||this.includeDndSource||this.includeSelection,h=c||this.forceWrapper,g=h&&this.eCellWrapper==null;g&&(this.eCellWrapper=loadTemplate('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var b=!h&&this.eCellWrapper!=null;b&&(removeFromParent(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!h);var $=!o&&h,j=$&&this.eCellValue==null;j&&(this.eCellValue=loadTemplate('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var rt=!$&&this.eCellValue!=null;rt&&(removeFromParent(this.eCellValue),this.eCellValue=void 0);var nt=g||b||j||rt;return nt&&this.removeControls(),!o&&c&&this.addControls(),nt},e.prototype.addControls=function(){var o=this.eCellValue.id="cell-"+this.getCompId(),c=[];setAriaHidden(this.eCellWrapper,!0),this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),c.push(this.checkboxSelectionComp.getCheckboxId())),c.push(o),setAriaDescribedBy(this.getGui(),c.join(" "))},e.prototype.createCellEditorInstance=function(o,c,h){var g=this,b=this.editorVersion,$=o.newAgStackInstance();if($){var j=o.params;$.then(function(nt){return g.afterCellEditorCreated(b,nt,j,c,h)});var rt=missing(this.cellEditor);rt&&j.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(o){var c=this.getParentOfValue();clearElement(c);var h=o!=null?escapeString(o):null;h!=null&&(c.innerHTML=h)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var o=this.beans.context;this.cellRenderer=o.destroyBean(this.cellRenderer),removeFromParent(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var o=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=o.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=o.destroyBean(this.cellEditorPopupWrapper),removeFromParent(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(o){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==o.componentClass)return!1;var c=this.cellRenderer.refresh(o.params);return c===!0||c===void 0},e.prototype.createCellRendererInstance=function(o){var c=this,h=this.beans.gridOptionsWrapper.isAngularCompileRows(),g=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),b=!h&&!g,$=this.rendererVersion,j=o.componentClass,rt=function(){var nt=c.rendererVersion!==$||!c.isAlive();if(!nt){var ot=o.newAgStackInstance(),_t=c.afterCellRendererCreated.bind(c,$,j);ot&&ot.then(_t)}};b&&this.firstRender?this.beans.animationFrameService.createTask(rt,this.rowNode.rowIndex,"createTasksP2"):rt()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(o,c,h){var g=!this.isAlive()||o!==this.rendererVersion;if(g){this.beans.context.destroyBean(h);return}if(this.cellRenderer=h,this.cellRendererClass=c,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var b=this.getParentOfValue();clearElement(b),b.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(o,c,h,g,b){var $=o!==this.editorVersion;if($){this.beans.context.destroyBean(c);return}var j=c.isCancelBeforeStart&&c.isCancelBeforeStart();if(j){this.beans.context.destroyBean(c),this.cellCtrl.stopEditing();return}if(!c.getGui){console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),this.beans.context.destroyBean(c);return}this.cellEditor=c,this.cellEditorGui=c.getGui();var rt=g||c.isPopup!==void 0&&c.isPopup();rt?(g||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(h,b)):this.addInCellEditor(),c.afterGuiAttached&&c.afterGuiAttached()},e.prototype.addInCellEditor=function(){var o=this.getGui(),c=this.beans.gridOptionsWrapper.getDocument();if(o.contains(c.activeElement)&&o.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var h=this.getParentOfValue();h.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(o,c){var h=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var g=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new PopupEditorWrapper(o));var b=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&b.appendChild(this.cellEditorGui);var $=this.beans.popupService,j=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),rt=c??(g.getPopupPosition?g.getPopupPosition():"over"),nt={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:b,keepWithinBounds:!0},ot=rt==="under"?$.positionPopupUnderComponent.bind($,nt):$.positionPopupOverComponent.bind($,nt),_t=this.beans.gridOptionsWrapper.getLocaleTextFunc(),Et=$.addPopup({modal:j,eChild:b,closeOnEsc:!0,closedCallback:function(){h.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:ot,ariaLabel:_t("ariaLabelCellEditor","Cell Editor")});Et&&(this.hideEditorPopup=Et.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),a.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var o=this.getGui(),c=this.beans.gridOptionsWrapper.getDocument();o.contains(c.activeElement)&&browserSupportsPreventScroll()&&o.focus({preventScroll:!0}),clearElement(this.getParentOfValue())},e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1F=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),RowComp$1=function(a){__extends$1F(e,a);function e(o,c,h){var g=a.call(this)||this;g.cellComps={},g.beans=c,g.rowCtrl=o,g.setTemplate('<div comp-id="'+g.getCompId()+'" style="'+g.getInitialStyle()+'"/>');var b=g.getGui(),$=b.style,j={setDomOrder:function(rt){return g.domOrder=rt},setCellCtrls:function(rt){return g.setCellCtrls(rt)},showFullWidth:function(rt){return g.showFullWidth(rt)},getFullWidthCellRenderer:function(){return g.getFullWidthCellRenderer()},addOrRemoveCssClass:function(rt,nt){return g.addOrRemoveCssClass(rt,nt)},setUserStyles:function(rt){return addStylesToElement(b,rt)},setTop:function(rt){return $.top=rt},setTransform:function(rt){return $.transform=rt},setRowIndex:function(rt){return b.setAttribute("row-index",rt)},setRole:function(rt){return setAriaRole(b,rt)},setRowId:function(rt){return b.setAttribute("row-id",rt)},setRowBusinessKey:function(rt){return b.setAttribute("row-business-key",rt)},setTabIndex:function(rt){return b.setAttribute("tabindex",rt.toString())}};return o.setComp(j,g.getGui(),h),g}return e.prototype.getInitialStyle=function(){var o=this.rowCtrl.getInitialTransform(),c=this.rowCtrl.getInitialRowTop();return o?"transform: "+o:"top: "+c},e.prototype.showFullWidth=function(o){var c=this,h=function(b){if(c.isAlive()){var $=b.getGui();c.getGui().appendChild($),c.rowCtrl.setupDetailRowAutoHeight($),c.setFullWidthRowComp(b)}else c.beans.context.destroyBean(b)},g=o.newAgStackInstance();g&&g.then(h)},e.prototype.setCellCtrls=function(o){var c=this,h=Object.assign({},this.cellComps);o.forEach(function(b){var $=b.getInstanceId(),j=c.cellComps[$];j==null?c.newCellComp(b):h[$]=null});var g=getAllValuesInObject(h).filter(function(b){return b!=null});this.destroyCells(g),this.ensureDomOrder(o)},e.prototype.ensureDomOrder=function(o){var c=this;if(this.domOrder){var h=[];o.forEach(function(g){var b=c.cellComps[g.getInstanceId()];b&&h.push(b.getGui())}),setDomChildOrder(this.getGui(),h)}},e.prototype.newCellComp=function(o){var c=new CellComp(this.beans,o,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[o.getInstanceId()]=c,this.getGui().appendChild(c.getGui())},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var o=getAllValuesInObject(this.cellComps).filter(function(c){return c!=null});this.destroyCells(o)},e.prototype.setFullWidthRowComp=function(o){var c=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=o,this.addDestroyFunc(function(){c.fullWidthCellRenderer=c.beans.context.destroyBean(c.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(o){var c=this;o.forEach(function(h){if(h){var g=h.getCtrl().getInstanceId();c.cellComps[g]===h&&(h.detach(),h.destroy(),c.cellComps[g]=null)}})},e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1E=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$3$1=function(){return __assign$3$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$3$1.apply(this,arguments)},__decorate$1z=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g};function templateFactory(){var a=Component.elementGettingCreated.getAttribute("name"),e=RowContainerCtrl.getRowContainerCssClasses(a),o,c=a===RowContainerName.CENTER,h=a===RowContainerName.TOP_CENTER||a===RowContainerName.STICKY_TOP_CENTER||a===RowContainerName.BOTTOM_CENTER;return c?o='<div class="'+e.wrapper+`" ref="eWrapper" role="presentation">
                <div class="`+e.viewport+`" ref="eViewport" role="presentation">
                    <div class="`+e.container+`" ref="eContainer"></div>
                </div>
            </div>`:h?o='<div class="'+e.viewport+`" ref="eViewport" role="presentation">
                <div class="`+e.container+`" ref="eContainer"></div>
            </div>`:o='<div class="'+e.container+'" ref="eContainer"></div>',o}var RowContainerComp$1=function(a){__extends$1E(e,a);function e(){var o=a.call(this,templateFactory())||this;return o.rowComps={},o.name=Component.elementGettingCreated.getAttribute("name"),o.type=getRowContainerTypeForName(o.name),o}return e.prototype.postConstruct=function(){var o=this,c={setViewportHeight:function(g){return o.eViewport.style.height=g},setRowCtrls:function(g){return o.setRowCtrls(g)},setDomOrder:function(g){o.domOrder=g},setContainerWidth:function(g){return o.eContainer.style.width=g}},h=this.createManagedBean(new RowContainerCtrl(this.name));h.setComp(c,this.eContainer,this.eViewport,this.eWrapper)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(o){var c=this,h=__assign$3$1({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var g=function(b){var $=b.getInstanceId(),j=h[$];if(j)c.rowComps[$]=j,delete h[$],c.ensureDomOrder(j.getGui());else{var rt=c.newRowComp(b);c.rowComps[$]=rt,c.appendRow(rt.getGui())}};o.forEach(g),getAllValuesInObject(h).forEach(function(b){c.eContainer.removeChild(b.getGui()),b.destroy()}),setAriaRole(this.eContainer,o.length?"rowgroup":"presentation")},e.prototype.appendRow=function(o){this.domOrder?insertWithDomOrder(this.eContainer,o,this.lastPlacedElement):this.eContainer.appendChild(o),this.lastPlacedElement=o},e.prototype.ensureDomOrder=function(o){this.domOrder&&(ensureDomOrder(this.eContainer,o,this.lastPlacedElement),this.lastPlacedElement=o)},e.prototype.newRowComp=function(o){RowContainerCtrl.getPinned(this.name);var c=new RowComp$1(o,this.beans,this.type);return c},__decorate$1z([Autowired("beans")],e.prototype,"beans",void 0),__decorate$1z([RefSelector("eViewport")],e.prototype,"eViewport",void 0),__decorate$1z([RefSelector("eContainer")],e.prototype,"eContainer",void 0),__decorate$1z([RefSelector("eWrapper")],e.prototype,"eWrapper",void 0),__decorate$1z([PostConstruct],e.prototype,"postConstruct",null),__decorate$1z([PreDestroy],e.prototype,"preDestroy",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1y=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},BodyDropPivotTarget=function(){function a(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return a.prototype.onDragEnter=function(e){var o=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var c=e.dragItem.columns;c&&c.forEach(function(h){h.isPrimary()&&(h.isAnyFunctionActive()||(h.isAllowValue()?o.columnsToAggregate.push(h):h.isAllowRowGroup()?o.columnsToGroup.push(h):h.isAllowPivot()&&o.columnsToPivot.push(h)))})}},a.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE:null},a.prototype.onDragLeave=function(e){this.clearColumnsList()},a.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},a.prototype.onDragging=function(e){},a.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},__decorate$1y([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1y([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1x=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$e=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},MoveColumnFeature=function(){function a(e,o){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=o,this.centerContainer=!exists(e)}return a.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},a.prototype.getIconName=function(){return this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE},a.prototype.onDragEnter=function(e){var o=e.dragItem.columns,c=e.dragSource.type===DragSourceType.ToolPanel;if(c)this.setColumnsVisible(o,!0,"uiColumnDragged");else{var h=e.dragItem.visibleState,g=(o||[]).filter(function(b){return h[b.getId()]});this.setColumnsVisible(g,!0,"uiColumnDragged")}this.setColumnsPinned(o,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},a.prototype.onDragLeave=function(e){this.ensureIntervalCleared()},a.prototype.setColumnsVisible=function(e,o,c){if(c===void 0&&(c="api"),e){var h=e.filter(function(g){return!g.getColDef().lockVisible});this.columnModel.setColumnsVisible(h,o,c)}},a.prototype.setColumnsPinned=function(e,o,c){if(c===void 0&&(c="api"),e){var h=e.filter(function(g){return!g.getColDef().lockPinned});this.columnModel.setColumnsPinned(h,o,c)}},a.prototype.onDragStop=function(){this.ensureIntervalCleared()},a.prototype.normaliseX=function(e){if(this.gridOptionsWrapper.isEnableRtl()){var o=this.eContainer.clientWidth;e=o-e}return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},a.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var o=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),c=o+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<o+50,this.needToMoveLeft=e>c-50):(this.needToMoveLeft=e<o+50,this.needToMoveRight=e>c-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},a.prototype.onDragging=function(e,o,c){var h=this;if(o===void 0&&(o=!1),c===void 0&&(c=!1),this.lastDraggingEvent=e,!missing(e.hDirection)){var g=this.normaliseX(e.x);o||this.checkCenterForScrolling(g);var b=this.normaliseDirection(e.hDirection),$=e.dragSource.type,j=e.dragSource.getDragItem().columns;j=j.filter(function(rt){return rt.getColDef().lockPinned?rt.getPinned()==h.pinned:!0}),this.attemptMoveColumns($,j,b,g,o,c)}},a.prototype.normaliseDirection=function(e){if(this.gridOptionsWrapper.isEnableRtl())switch(e){case HorizontalDirection.Left:return HorizontalDirection.Right;case HorizontalDirection.Right:return HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+e)}else return e},a.prototype.calculateOldIndex=function(e){var o=this.columnModel.getAllGridColumns(),c=sortNumerically(e.map(function(j){return o.indexOf(j)})),h=c[0],g=last(c),b=g-h,$=b!==c.length-1;return $?null:h},a.prototype.attemptMoveColumns=function(e,o,c,h,g,b){var $=c===HorizontalDirection.Left,j=c===HorizontalDirection.Right;if(e===DragSourceType.HeaderCell){var rt=[];o.forEach(function(jt){for(var hr=null,gr=jt.getParent();gr!=null&&gr.getDisplayedLeafColumns().length===1;)hr=gr,gr=gr.getParent();hr!=null?hr.getLeafColumns().forEach(function(Cr){rt.includes(Cr)||rt.push(Cr)}):rt.includes(jt)||rt.push(jt)}),o=rt}var nt=o.slice();this.columnModel.sortColumnsLikeGridColumns(nt);var ot=this.calculateValidMoves(nt,j,h),_t=this.calculateOldIndex(nt);if(ot.length!==0){var Et=ot[0],It=_t!==null&&!g;if(e==DragSourceType.HeaderCell&&(It=_t!==null),!(It&&!b&&($&&Et>=_t||j&&Et<=_t))){for(var it=this.columnModel.getAllDisplayedColumns(),st=[],Mt=null,bt=0;bt<ot.length;bt++){var Lt=ot[bt],pt=this.columnModel.getProposedColumnOrder(nt,Lt);if(this.columnModel.doesOrderPassRules(pt)){var Dt=pt.filter(function(jt){return it.includes(jt)});if(Mt===null)Mt=Dt;else if(!_.areEqual(Dt,Mt))break;var wt=this.groupFragCount(pt);st.push({move:Lt,fragCount:wt})}}if(st.length!==0){st.sort(function(jt,hr){return jt.fragCount-hr.fragCount});var Bt=st[0].move;this.columnModel.moveColumns(nt,Bt,"uiColumnDragged")}}}},a.prototype.groupFragCount=function(e){function o(b){for(var $=[],j=b.getOriginalParent();j!=null;)$.push(j),j=j.getOriginalParent();return $}for(var c=0,h=function(b){var $,j=o(e[b]),rt=o(e[b+1]);$=__read$e(j.length>rt.length?[j,rt]:[rt,j],2),j=$[0],rt=$[1],j.forEach(function(nt){rt.indexOf(nt)===-1&&c++})},g=0;g<e.length-1;g++)h(g);return c},a.prototype.calculateValidMoves=function(e,o,c){var h=this.gridOptionsWrapper.isSuppressMovableColumns()||e.some(function(Bt){return Bt.getColDef().suppressMovable});if(h)return[];var g=this.columnModel.getDisplayedColumns(this.pinned),b=this.columnModel.getAllGridColumns(),$=g.filter(function(Bt){return includes(e,Bt)}),j=g.filter(function(Bt){return!includes(e,Bt)}),rt=b.filter(function(Bt){return!includes(e,Bt)}),nt=0,ot=c;if(o){var _t=0;$.forEach(function(Bt){return _t+=Bt.getActualWidth()}),ot-=_t}if(ot>0){for(var Et=0;Et<j.length;Et++){var It=j[Et];if(ot-=It.getActualWidth(),ot<0)break;nt++}o&&nt++}var it;if(nt>0){var st=j[nt-1];it=rt.indexOf(st)+1}else it=rt.indexOf(j[0]),it===-1&&(it=0);var Mt=[it],bt=function(Bt,jt){return Bt-jt};if(o){for(var Lt=it+1,pt=b.length-1;Lt<=pt;)Mt.push(Lt),Lt++;Mt.sort(bt)}else{for(var Lt=it,pt=b.length-1,Dt=b[Lt];Lt<=pt&&this.isColumnHidden(g,Dt);)Lt++,Mt.push(Lt),Dt=b[Lt];Lt=it-1;for(var wt=0;Lt>=wt;)Mt.push(Lt),Lt--;Mt.sort(bt).reverse()}return Mt},a.prototype.isColumnHidden=function(e,o){return e.indexOf(o)<0},a.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_RIGHT,!0))},a.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_MOVE))},a.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var o=null,c=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?o=c.scrollHorizontally(-e):this.needToMoveRight&&(o=c.scrollHorizontally(e)),o!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var h=this.lastDraggingEvent.dragItem.columns,g=h.filter(function($){return!$.getColDef().lockPinned});if(g.length>0&&(this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_PINNED),this.failedMoveAttempts>7)){var b=this.needToMoveLeft?Constants.PINNED_LEFT:Constants.PINNED_RIGHT;this.setColumnsPinned(g,b,"uiColumnDragged"),this.dragAndDropService.nudge()}}},__decorate$1x([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1x([Autowired("dragAndDropService")],a.prototype,"dragAndDropService",void 0),__decorate$1x([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$1x([Autowired("ctrlsService")],a.prototype,"ctrlsService",void 0),__decorate$1x([PostConstruct],a.prototype,"init",null),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1D=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1w=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},BodyDropTarget=function(a){__extends$1D(e,a);function e(o,c){var h=a.call(this)||this;return h.pinned=o,h.eContainer=c,h}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(c){switch(o.pinned){case Constants.PINNED_LEFT:o.eSecondaryContainers=[[c.gridBodyCtrl.getBodyViewportElement(),c.leftRowContainerCtrl.getContainerElement()],[c.bottomLeftRowContainerCtrl.getContainerElement()],[c.topLeftRowContainerCtrl.getContainerElement()]];break;case Constants.PINNED_RIGHT:o.eSecondaryContainers=[[c.gridBodyCtrl.getBodyViewportElement(),c.rightRowContainerCtrl.getContainerElement()],[c.bottomRightRowContainerCtrl.getContainerElement()],[c.topRightRowContainerCtrl.getContainerElement()]];break;default:o.eSecondaryContainers=[[c.gridBodyCtrl.getBodyViewportElement(),c.centerRowContainerCtrl.getViewportElement()],[c.bottomCenterRowContainerCtrl.getViewportElement()],[c.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(o){return o===DragSourceType.HeaderCell||o===DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(o){return this.columnModel.isPivotMode()&&o.dragSource.type===DragSourceType.ToolPanel},e.prototype.onDragEnter=function(o){this.currentDropListener=this.isDropColumnInPivotMode(o)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(o)},e.prototype.onDragLeave=function(o){this.currentDropListener.onDragLeave(o)},e.prototype.onDragging=function(o){this.currentDropListener.onDragging(o)},e.prototype.onDragStop=function(o){this.currentDropListener.onDragStop(o)},__decorate$1w([Autowired("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1w([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1w([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1w([PostConstruct],e.prototype,"postConstruct",null),__decorate$1w([PostConstruct],e.prototype,"init",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$d=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$b=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$d(arguments[e]));return a},CssClassApplier=function(){function a(){}return a.getHeaderClassesFromColDef=function(e,o,c,h){return missing(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,o,c,h)},a.getToolPanelClassesFromColDef=function(e,o,c,h){return missing(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,o,c,h)},a.getClassParams=function(e,o,c,h){return{colDef:e,column:c,columnGroup:h,api:o.getApi(),columnApi:o.getColumnApi(),context:o.getContext()}},a.getColumnClassesFromCollDef=function(e,o,c,h,g){if(missing(e))return[];var b;if(typeof e=="function"){var $=this.getClassParams(o,c,h,g);b=e($)}else b=e;return typeof b=="string"?[b]:Array.isArray(b)?__spread$b(b):[]},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1C=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1v=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderCellComp$1=function(a){__extends$1C(e,a);function e(o){var c=a.call(this,e.TEMPLATE,o)||this;return c.headerCompVersion=0,c.column=o.getColumnGroupChild(),c.pinned=o.getPinned(),c}return e.prototype.postConstruct=function(){var o=this,c=this.getGui(),h=function($,j,rt){var nt=rt||c;j!=null&&j!=""?nt.setAttribute($,j):nt.removeAttribute($)},g={setWidth:function($){return c.style.width=$},addOrRemoveCssClass:function($,j){return o.addOrRemoveCssClass($,j)},setColId:function($){return h("col-id",$)},setTitle:function($){return h("title",$)},setAriaDescription:function($){return setAriaDescription(c,$)},setAriaSort:function($){return $?setAriaSort(c,$):removeAriaSort(c)},setUserCompDetails:function($){return o.setUserCompDetails($)},getUserCompInstance:function(){return o.headerComp}};this.ctrl.setComp(g,this.getGui(),this.eResize,this.eHeaderCompWrapper);var b=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",b)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(o){var c=this;this.headerCompVersion++;var h=this.headerCompVersion;o.newAgStackInstance().then(function(g){return c.afterCompCreated(h,g)})},e.prototype.afterCompCreated=function(o,c){if(o!=this.headerCompVersion||!this.isAlive()){this.destroyBean(c);return}this.destroyHeaderComp(),this.headerComp=c,this.headerCompGui=c.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,__decorate$1v([RefSelector("eResize")],e.prototype,"eResize",void 0),__decorate$1v([RefSelector("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),__decorate$1v([PostConstruct],e.prototype,"postConstruct",null),__decorate$1v([PreDestroy],e.prototype,"destroyHeaderComp",null),e}(AbstractHeaderCellComp);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1B=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1u=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderGroupCellComp$1=function(a){__extends$1B(e,a);function e(o){return a.call(this,e.TEMPLATE,o)||this}return e.prototype.postConstruct=function(){var o=this,c=this.getGui(),h=function(b,$){return $!=null?c.setAttribute(b,$):c.removeAttribute(b)},g={addOrRemoveCssClass:function(b,$){return o.addOrRemoveCssClass(b,$)},addOrRemoveResizableCssClass:function(b,$){return o.eResize.classList.toggle(b,$)},setWidth:function(b){return c.style.width=b},setColId:function(b){return c.setAttribute("col-id",b)},setAriaExpanded:function(b){return h("aria-expanded",b)},setTitle:function(b){return h("title",b)},setUserCompDetails:function(b){return o.setUserCompDetails(b)}};this.ctrl.setComp(g,c,this.eResize)},e.prototype.setUserCompDetails=function(o){var c=this;o.newAgStackInstance().then(function(h){return c.afterHeaderCompCreated(h)})},e.prototype.afterHeaderCompCreated=function(o){var c=this,h=function(){return c.destroyBean(o)};if(!this.isAlive()){h();return}this.getGui().appendChild(o.getGui()),this.addDestroyFunc(h),this.ctrl.setDragSource(o.getGui())},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,__decorate$1u([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$1u([RefSelector("eResize")],e.prototype,"eResize",void 0),__decorate$1u([PostConstruct],e.prototype,"postConstruct",null),e}(AbstractHeaderCellComp);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1A=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1t=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderRowType;(function(a){a.COLUMN_GROUP="group",a.COLUMN="column",a.FLOATING_FILTER="filter"})(HeaderRowType||(HeaderRowType={}));var HeaderRowComp$1=function(a){__extends$1A(e,a);function e(o){var c=a.call(this)||this;c.headerComps={};var h=o.getType()==HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":o.getType()==HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return c.setTemplate('<div class="ag-header-row '+h+'" role="row"></div>'),c.ctrl=o,c}return e.prototype.init=function(){var o=this,c={setTransform:function(h){return o.getGui().style.transform=h},setHeight:function(h){return o.getGui().style.height=h},setTop:function(h){return o.getGui().style.top=h},setHeaderCtrls:function(h){return o.setHeaderCtrls(h)},setWidth:function(h){return o.getGui().style.width=h},setAriaRowIndex:function(h){return setAriaRowIndex(o.getGui(),h)}};this.ctrl.setComp(c)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},e.prototype.setHeaderCtrls=function(o){var c=this;if(this.isAlive()){var h=this.headerComps;this.headerComps={},o.forEach(function(j){var rt=j.getInstanceId(),nt=h[rt];delete h[rt],nt==null&&(nt=c.createHeaderComp(j),c.getGui().appendChild(nt.getGui())),c.headerComps[rt]=nt}),iterateObject(h,function(j,rt){c.getGui().removeChild(rt.getGui()),c.destroyBean(rt)});var g=this.gridOptionsWrapper.isEnsureDomOrder();if(g){var b=getAllValuesInObject(this.headerComps);b.sort(function(j,rt){var nt=j.getCtrl().getColumnGroupChild().getLeft(),ot=rt.getCtrl().getColumnGroupChild().getLeft();return nt-ot});var $=b.map(function(j){return j.getGui()});setDomChildOrder(this.getGui(),$)}}},e.prototype.createHeaderComp=function(o){var c;switch(this.ctrl.getType()){case HeaderRowType.COLUMN_GROUP:c=new HeaderGroupCellComp$1(o);break;case HeaderRowType.FLOATING_FILTER:c=new HeaderFilterCellComp$1(o);break;default:c=new HeaderCellComp$1(o);break}return this.createBean(c),c.setParentComponent(this),c},__decorate$1t([PostConstruct],e.prototype,"init",null),__decorate$1t([PreDestroy],e.prototype,"destroyHeaderCtrls",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1z=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1s=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},instanceIdSequence$1=0,AbstractHeaderCellCtrl=function(a){__extends$1z(e,a);function e(o,c){var h=a.call(this)||this;return h.lastFocusEvent=null,h.columnGroupChild=o,h.parentRowCtrl=c,h.instanceId=o.getUniqueId()+"-"+instanceIdSequence$1++,h}return e.prototype.shouldStopEventPropagation=function(o){var c=this.focusService.getFocusedHeader(),h=c.headerRowIndex,g=c.column;return isUserSuppressingHeaderKeyboardEvent(this.gridOptionsWrapper,o,h,g)},e.prototype.getWrapperHasFocus=function(){var o=this.gridOptionsWrapper.getDocument(),c=o.activeElement;return c===this.eGui},e.prototype.setGui=function(o){this.eGui=o,this.addDomData()},e.prototype.handleKeyDown=function(o){var c=this.getWrapperHasFocus();switch(o.key){case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:c&&o.preventDefault()}},e.prototype.addDomData=function(){var o=this,c=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,c,this),this.addDestroyFunc(function(){return o.gridOptionsWrapper.setDomData(o.eGui,c,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(o){return this.eGui?(this.lastFocusEvent=o||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",__decorate$1s([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1s([Autowired("beans")],e.prototype,"beans",void 0),__decorate$1s([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ClientSideRowModelSteps;(function(a){a.EVERYTHING="group",a.FILTER="filter",a.SORT="sort",a.MAP="map",a.AGGREGATE="aggregate",a.FILTER_AGGREGATES="filter_aggregates",a.PIVOT="pivot",a.NOTHING="nothing"})(ClientSideRowModelSteps||(ClientSideRowModelSteps={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$1r=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g};function unwrapUserComp(a){var e=a,o=e!=null&&e.getFrameworkComponentInstance!=null;return o?e.getFrameworkComponentInstance():a}var GridApi=function(){function a(){this.detailGridInfoMap={},this.destroyCalled=!1}return a.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},a.prototype.registerSideBarComp=function(e){this.sideBarComp=e},a.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case Constants.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Constants.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Constants.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},a.prototype.__getAlignedGridService=function(){return this.alignedGridsService},a.prototype.__getContext=function(){return this.context},a.prototype.addDetailGridInfo=function(e,o){this.detailGridInfoMap[e]=o},a.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},a.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},a.prototype.forEachDetailGridInfo=function(e){var o=0;iterateObject(this.detailGridInfoMap,function(c,h){exists(h)&&(e(h,o),o++)})},a.prototype.getDataAsCsv=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},a.prototype.exportDataAsCsv=function(e){ModuleRegistry.assertRegistered(ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},a.prototype.getExcelExportMode=function(e){var o=this.gridOptionsWrapper.getDefaultExportParams("excel"),c=Object.assign({exportMode:"xlsx"},o,e);return c.exportMode},a.prototype.getDataAsExcel=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.getDataAsExcel")){var o=this.getExcelExportMode(e);if(this.excelCreator.getFactoryMode(o)===ExcelFactoryMode.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}return this.excelCreator.getDataAsExcel(e)}},a.prototype.exportDataAsExcel=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.exportDataAsExcel")){var o=this.getExcelExportMode(e);if(this.excelCreator.getFactoryMode(o)===ExcelFactoryMode.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}this.excelCreator.exportDataAsExcel(e)}},a.prototype.getSheetDataForExcel=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.getSheetDataForExcel")){var o=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(ExcelFactoryMode.MULTI_SHEET,o),this.excelCreator.getSheetDataForExcel(e)}},a.prototype.getMultipleSheetsAsExcel=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(e)},a.prototype.exportMultipleSheetsAsExcel=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(e)},a.prototype.setEnterpriseDatasource=function(e){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},a.prototype.setGridAriaProperty=function(e,o){if(e){var c=this.ctrlsService.getGridBodyCtrl().getGui(),h="aria-"+e;o===null?c.removeAttribute(h):c.setAttribute(h,o)}},a.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+Constants.ROW_MODEL_TYPE_SERVER_SIDE+"'")},a.prototype.setCacheBlockSize=function(e){if(!this.serverSideRowModel){console.warn("AG Grid: you can only set cacheBlockSize with gridOptions.rowModelType '"+Constants.ROW_MODEL_TYPE_SERVER_SIDE+"'");return}this.gridOptionsWrapper.setProperty("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()},a.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+Constants.ROW_MODEL_TYPE_INFINITE+"'")},a.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+Constants.ROW_MODEL_TYPE_VIEWPORT+"'")},a.prototype.setRowData=function(e){var o=this.immutableService==null;if(o){console.warn("AG Grid: you can only set rowData when using the Client Side Row Model");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},a.prototype.setFloatingTopRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},a.prototype.setFloatingBottomRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},a.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},a.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},a.prototype.getFloatingTopRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},a.prototype.getFloatingBottomRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},a.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},a.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},a.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},a.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},a.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},a.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},a.prototype.setColumnDefs=function(e,o){o===void 0&&(o="api"),this.columnModel.setColumnDefs(e,o)},a.prototype.setAutoGroupColumnDef=function(e,o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_AUTO_GROUP_COLUMN_DEF,e,!0)},a.prototype.setDefaultColDef=function(e,o){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DEFAULT_COL_DEF,e,!0)},a.prototype.expireValueCache=function(){this.valueCache.expire()},a.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},a.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},a.prototype.setAlwaysShowHorizontalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",e)},a.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},a.prototype.refreshToolPanel=function(){this.sideBarComp&&this.sideBarComp.refresh()},a.prototype.refreshCells=function(e){if(e===void 0&&(e={}),Array.isArray(e)){console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation.");return}this.rowRenderer.refreshCells(e)},a.prototype.flashCells=function(e){e===void 0&&(e={}),this.rowRenderer.flashCells(e)},a.prototype.redrawRows=function(e){e===void 0&&(e={});var o=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(o)},a.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},a.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})},a.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},a.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},a.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},a.prototype.getModel=function(){return this.rowModel},a.prototype.setRowNodeExpanded=function(e,o){e&&e.setExpanded(o)},a.prototype.onGroupExpandedOrCollapsed=function(e){missing(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),exists(e)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ClientSideRowModelSteps.MAP})},a.prototype.refreshInMemoryRowModel=function(e){console.warn("AG Grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},a.prototype.refreshClientSideRowModel=function(e){missing(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var o=ClientSideRowModelSteps.EVERYTHING,c={everything:ClientSideRowModelSteps.EVERYTHING,group:ClientSideRowModelSteps.EVERYTHING,filter:ClientSideRowModelSteps.FILTER,map:ClientSideRowModelSteps.MAP,aggregate:ClientSideRowModelSteps.AGGREGATE,sort:ClientSideRowModelSteps.SORT,pivot:ClientSideRowModelSteps.PIVOT};if(exists(e)&&(o=c[e]),missing(o)){console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(c).join(", "));return}var h=!this.gridOptionsWrapper.isSuppressAnimationFrame(),g={step:o,keepRenderedRows:!0,keepEditingRows:!0,animate:h};this.clientSideRowModel.refreshModel(g)},a.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},a.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},a.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},a.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},a.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},a.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},a.prototype.getToolPanelInstance=function(e){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}var o=this.sideBarComp.getToolPanelInstance(e);return unwrapUserComp(o)},a.prototype.addVirtualRowListener=function(e,o,c){typeof e!="string"&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,o,c)},a.prototype.addRenderedRowListener=function(e,o,c){e==="virtualRowSelected"&&console.warn(`AG Grid: event virtualRowSelected is deprecated, to register for individual row
                selection events, add a listener directly to the row node.`),this.rowRenderer.addRenderedRowListener(e,o,c)},a.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},a.prototype.selectIndex=function(e,o,c){console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),c&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(e,o)},a.prototype.deselectIndex=function(e,o){o===void 0&&(o=!1),console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(e)},a.prototype.selectNode=function(e,o,c){o===void 0&&(o=!1),c===void 0&&(c=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),c&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!o})},a.prototype.deselectNode=function(e,o){o===void 0&&(o=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},a.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},a.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},a.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},a.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},a.prototype.recomputeAggregates=function(){missing(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ClientSideRowModelSteps.AGGREGATE})},a.prototype.sizeColumnsToFit=function(e){this.gridBodyCtrl.sizeColumnsToFit(e)},a.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},a.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},a.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},a.prototype.isNodeSelected=function(e){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},a.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},a.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},a.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},a.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},a.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},a.prototype.ensureColIndexVisible=function(e){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},a.prototype.ensureColumnVisible=function(e,o){o===void 0&&(o="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,o)},a.prototype.ensureIndexVisible=function(e,o){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,o)},a.prototype.ensureNodeVisible=function(e,o){o===void 0&&(o=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,o)},a.prototype.forEachLeafNode=function(e){missing(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},a.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},a.prototype.forEachNodeAfterFilter=function(e){missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},a.prototype.forEachNodeAfterFilterAndSort=function(e){missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},a.prototype.getFilterInstance=function(e,o){var c=this.getFilterInstanceImpl(e,function(g){if(o){var b=unwrapUserComp(g);o(b)}}),h=unwrapUserComp(c);return h},a.prototype.getFilterInstanceImpl=function(e,o){var c=this.columnModel.getPrimaryColumn(e);if(c){var h=this.filterManager.getFilterComponent(c,"NO_UI"),g=h&&h.resolveNow(null,function(b){return b});return g?setTimeout(o,0,g):h&&h.then(function(b){o(b)}),g}},a.prototype.destroyFilter=function(e){var o=this.columnModel.getPrimaryColumn(e);if(o)return this.filterManager.destroyFilter(o,"filterDestroyed")},a.prototype.getStatusPanel=function(e){if(this.statusBarService){var o=this.statusBarService.getStatusPanel(e);return unwrapUserComp(o)}},a.prototype.getColumnDef=function(e){var o=this.columnModel.getPrimaryColumn(e);return o?o.getColDef():null},a.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},a.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},a.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},a.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},a.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},a.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},a.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},a.prototype.setFocusedCell=function(e,o,c){this.focusService.setFocusedCell({rowIndex:e,column:o,rowPinned:c,forceBrowserFocus:!0})},a.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG,e)},a.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},a.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},a.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},a.prototype.removeRowDropZone=function(e){var o=this.dragAndDropService.findExternalZone(e);o&&this.dragAndDropService.removeDropTarget(o)},a.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},a.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_HEADER_HEIGHT,e)},a.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOM_LAYOUT,e)},a.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},a.prototype.setFillHandleDirection=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FILL_HANDLE_DIRECTION,e)},a.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,e)},a.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,e)},a.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,e)},a.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,e)},a.prototype.setIsExternalFilterPresent=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_EXTERNAL_FILTER_PRESENT,e)},a.prototype.setDoesExternalFilterPass=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOES_EXTERNAL_FILTER_PASS,e)},a.prototype.setNavigateToNextCell=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_CELL,e)},a.prototype.setTabToNextCell=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_TAB_TO_NEXT_CELL,e)},a.prototype.setTabToNextHeader=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_TAB_TO_NEXT_HEADER,e)},a.prototype.setNavigateToNextHeader=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_HEADER,e)},a.prototype.setRowGroupPanelShow=function(e){this.gridOptionsWrapper.setProperty("rowGroupPanelShow",e)},a.prototype.setGroupRowAggNodes=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_ROW_AGG_NODES,e)},a.prototype.setGetGroupRowAgg=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_GROUP_ROW_AGG,e)},a.prototype.setGetBusinessKeyForNode=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_BUSINESS_KEY_FOR_NODE,e)},a.prototype.setGetChildCount=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CHILD_COUNT,e)},a.prototype.setProcessRowPostCreate=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_ROW_POST_CREATE,e)},a.prototype.setGetRowNodeId=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_NODE_ID,e)},a.prototype.setGetRowId=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_ID,e)},a.prototype.setGetRowClass=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_CLASS,e)},a.prototype.setIsFullWidthCell=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_FULL_WIDTH_CELL,e)},a.prototype.setIsFullWidthRow=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_FULL_WIDTH_ROW,e)},a.prototype.setIsRowSelectable=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_ROW_SELECTABLE,e)},a.prototype.setIsRowMaster=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_ROW_MASTER,e)},a.prototype.setPostSort=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_SORT,e)},a.prototype.setPostSortRows=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_SORT_ROWS,e)},a.prototype.setGetDocument=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_DOCUMENT,e)},a.prototype.setGetContextMenuItems=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CONTEXT_MENU_ITEMS,e)},a.prototype.setGetMainMenuItems=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_MAIN_MENU_ITEMS,e)},a.prototype.setProcessCellForClipboard=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_CELL_FOR_CLIPBOARD,e)},a.prototype.setSendToClipboard=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SEND_TO_CLIPBOARD,e)},a.prototype.setProcessCellFromClipboard=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_CELL_FROM_CLIPBOARD,e)},a.prototype.setProcessSecondaryColDef=function(e){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColDef has been renamed, please use setProcessPivotResultColDef instead"),this.setProcessPivotResultColDef(e)},a.prototype.setProcessSecondaryColGroupDef=function(e){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColGroupDef has been renamed, please use setProcessPivotResultColGroupDef instead"),this.setProcessPivotResultColGroupDef(e)},a.prototype.setProcessPivotResultColDef=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_PIVOT_RESULT_COL_DEF,e)},a.prototype.setProcessPivotResultColGroupDef=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF,e)},a.prototype.setPostProcessPopup=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_PROCESS_POPUP,e)},a.prototype.setDefaultGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,e)},a.prototype.setInitialGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_INITIAL_GROUP_ORDER_COMPARATOR,e)},a.prototype.setGetChartToolbarItems=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CHART_TOOLBAR_ITEMS,e)},a.prototype.setPaginationNumberFormatter=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PAGINATION_NUMBER_FORMATTER,e)},a.prototype.setGetServerSideStoreParams=function(e){this.setGetServerSideGroupLevelParams(e)},a.prototype.setGetServerSideGroupLevelParams=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_SERVER_SIDE_GROUP_PARAMS,e)},a.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,e)},a.prototype.setIsApplyServerSideTransaction=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,e)},a.prototype.setIsServerSideGroup=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUP,e)},a.prototype.setGetServerSideGroupKey=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_SERVER_SIDE_GROUP_KEY,e)},a.prototype.setGetRowStyle=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_STYLE,e)},a.prototype.setGetRowHeight=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_HEIGHT,e)},a.prototype.isSideBarVisible=function(){return this.sideBarComp?this.sideBarComp.isDisplayed():!1},a.prototype.setSideBarVisible=function(e){if(!this.sideBarComp){e&&console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setDisplayed(e)},a.prototype.setSideBarPosition=function(e){if(!this.sideBarComp){console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setSideBarPosition(e)},a.prototype.openToolPanel=function(e){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.openToolPanel(e)},a.prototype.closeToolPanel=function(){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.close()},a.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},a.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},a.prototype.setSideBar=function(e){this.gridOptionsWrapper.setProperty("sideBar",SideBarDefParser.parse(e))},a.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},a.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},a.prototype.doLayout=function(){var e="AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically";doOnce(function(){return console.warn(e)},"doLayoutDeprecated")},a.prototype.resetRowHeights=function(){if(exists(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},a.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},a.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},a.prototype.setGroupDisplayType=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_DISPLAY_TYPE,e)},a.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},a.prototype.getValue=function(e,o){var c=this.columnModel.getPrimaryColumn(e);return missing(c)&&(c=this.columnModel.getGridColumn(e)),missing(c)?null:this.valueService.getValue(c,o)},a.prototype.addEventListener=function(e,o){var c=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,o,c)},a.prototype.addGlobalListener=function(e){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,o)},a.prototype.removeEventListener=function(e,o){var c=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,o,c)},a.prototype.removeGlobalListener=function(e){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,o)},a.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},a.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},a.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(removeAllReferences.bind(window,this,"Grid API"),100)},a.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},a.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(e){return e.quickFilterAggregateText=null})},a.prototype.getRangeSelections=function(){return console.warn(`AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.
        We had to change how cell selections works a small bit to allow charting to integrate. The return type of
        getCellRanges() is a bit different, please check the AG Grid documentation.`),null},a.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},a.prototype.camelCaseToHumanReadable=function(e){return camelCaseToHumanText(e)},a.prototype.addRangeSelection=function(e){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},a.prototype.addCellRange=function(e){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(e)},a.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},a.prototype.undoCellEditing=function(){this.undoRedoService.undo()},a.prototype.redoCellEditing=function(){this.undoRedoService.redo()},a.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},a.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},a.prototype.getChartModels=function(){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.getChartModels")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},a.prototype.getChartRef=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.getChartRef")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(e)},a.prototype.getChartImageDataURL=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(e)},a.prototype.downloadChart=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(e)},a.prototype.openChartToolPanel=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(e)},a.prototype.closeChartToolPanel=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(e.chartId)},a.prototype.createRangeChart=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.createRangeChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},a.prototype.createCrossFilterChart=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(e)},a.prototype.restoreChart=function(e,o){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.restoreChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(e,o)},a.prototype.createPivotChart=function(e){if(ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule,"api.createPivotChart")&&ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},a.prototype.copyToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyToClipboard(e)},a.prototype.copySelectedRowsToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e)},a.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},a.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},a.prototype.showColumnMenuAfterButtonClick=function(e,o){var c=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(c,o,"columnMenu")},a.prototype.showColumnMenuAfterMouseClick=function(e,o){var c=this.columnModel.getGridColumn(e);if(c||(c=this.columnModel.getPrimaryColumn(e)),!c){console.error("AG Grid: column '"+e+"' not found");return}this.menuFactory.showMenuAfterMouseEvent(c,o)},a.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},a.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POPUP_PARENT,e)},a.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},a.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},a.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var o=this.rowRenderer.getCellRendererInstances(e),c=o.map(unwrapUserComp);return c},a.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var o=this.rowRenderer.getCellEditorInstances(e),c=o.map(unwrapUserComp);return c},a.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},a.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},a.prototype.startEditingCell=function(e){var o=this.columnModel.getGridColumn(e.colKey);if(!o){console.warn("AG Grid: no column found for "+e.colKey);return}var c={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:o},h=e.rowPinned==null;h&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var g=this.navigationService.getCellByPosition(c);g&&g.startRowOrCellEdit(e.key,e.charPress)},a.prototype.addAggFunc=function(e,o){this.aggFuncService&&this.aggFuncService.addAggFunc(e,o)},a.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},a.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},a.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransaction(e)},a.prototype.applyServerSideTransactionAsync=function(e,o){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransactionAsync(e,o)},a.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.");return}this.serverSideRowModel.retryLoads()},a.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.flushAsyncTransactions()},a.prototype.applyTransaction=function(e){if(!this.clientSideRowModel){console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1");return}var o=this.clientSideRowModel.updateRowData(e);return this.rowRenderer.refreshFullWidthRows(o.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),o},a.prototype.setDeltaSort=function(e){this.gridOptionsWrapper.setProperty("deltaSort",e)},a.prototype.updateRowData=function(e){var o="AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.";return doOnce(function(){return console.warn(o)},"updateRowData deprecated"),this.applyTransaction(e)},a.prototype.applyTransactionAsync=function(e,o){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.batchUpdateRowData(e,o)},a.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.flushAsyncTransactions()},a.prototype.batchUpdateRowData=function(e,o){var c="AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.";doOnce(function(){return console.warn(c)},"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,o)},a.prototype.insertItemsAtIndex=function(e,o,c){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:o,addIndex:e,update:null,remove:null})},a.prototype.removeItems=function(e,o){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var c=e.map(function(h){return h.data});this.updateRowData({add:null,addIndex:null,update:null,remove:c})},a.prototype.addItems=function(e,o){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},a.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},a.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},a.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},a.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},a.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},a.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},a.prototype.purgeEnterpriseCache=function(e){console.warn("AG Grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.refreshServerSide({purge: true})"),this.purgeServerSideCache(e)},a.prototype.purgeServerSideCache=function(e){e===void 0&&(e=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSide({purge: true}) instead."),this.refreshServerSide({route:e,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},a.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){console.warn("AG Grid: api.refreshServerSide is only available when rowModelType='serverSide'.");return}this.serverSideRowModel.refreshStore(e)},a.prototype.refreshServerSideStore=function(e){var o="AG Grid: Grid API refreshServerSideStore() was renamed to refreshServerSide() in v28.0";return doOnce(function(){return console.warn(o)},"refreshServerSideStore-renamed"),this.refreshServerSide(e)},a.prototype.getServerSideStoreState=function(){var e="AG Grid: Grid API getServerSideStoreState() was renamed to getServerSideGroupLevelState() in v28.0";return doOnce(function(){return console.warn(e)},"getServerSideStoreState-renamed"),this.getServerSideGroupLevelState()},a.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideGroupLevelState is only available when rowModelType='serverSide'."),[])},a.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},a.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},a.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isMaxRowFound is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},a.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},a.prototype.setVirtualRowCount=function(e,o){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(e,o)},a.prototype.setInfiniteRowCount=function(e,o){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(e,o)},a.prototype.setRowCount=function(e,o){this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,o):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},a.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},a.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},a.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},a.prototype.checkGridSize=function(){console.warn("In AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything useful.")},a.prototype.getFirstRenderedRow=function(){return console.warn("In AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},a.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},a.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},a.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},a.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},a.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},a.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},a.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},a.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},a.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},a.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},a.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},a.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},a.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},a.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},a.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},a.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},a.prototype.setRowClass=function(e){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_ROW_CLASS,e)},__decorate$1r([Optional("immutableService")],a.prototype,"immutableService",void 0),__decorate$1r([Optional("csvCreator")],a.prototype,"csvCreator",void 0),__decorate$1r([Optional("excelCreator")],a.prototype,"excelCreator",void 0),__decorate$1r([Autowired("rowRenderer")],a.prototype,"rowRenderer",void 0),__decorate$1r([Autowired("navigationService")],a.prototype,"navigationService",void 0),__decorate$1r([Autowired("filterManager")],a.prototype,"filterManager",void 0),__decorate$1r([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$1r([Autowired("selectionService")],a.prototype,"selectionService",void 0),__decorate$1r([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$1r([Autowired("valueService")],a.prototype,"valueService",void 0),__decorate$1r([Autowired("alignedGridsService")],a.prototype,"alignedGridsService",void 0),__decorate$1r([Autowired("eventService")],a.prototype,"eventService",void 0),__decorate$1r([Autowired("pinnedRowModel")],a.prototype,"pinnedRowModel",void 0),__decorate$1r([Autowired("context")],a.prototype,"context",void 0),__decorate$1r([Autowired("rowModel")],a.prototype,"rowModel",void 0),__decorate$1r([Autowired("sortController")],a.prototype,"sortController",void 0),__decorate$1r([Autowired("paginationProxy")],a.prototype,"paginationProxy",void 0),__decorate$1r([Autowired("focusService")],a.prototype,"focusService",void 0),__decorate$1r([Autowired("dragAndDropService")],a.prototype,"dragAndDropService",void 0),__decorate$1r([Optional("rangeService")],a.prototype,"rangeService",void 0),__decorate$1r([Optional("clipboardService")],a.prototype,"clipboardService",void 0),__decorate$1r([Optional("aggFuncService")],a.prototype,"aggFuncService",void 0),__decorate$1r([Autowired("menuFactory")],a.prototype,"menuFactory",void 0),__decorate$1r([Optional("contextMenuFactory")],a.prototype,"contextMenuFactory",void 0),__decorate$1r([Autowired("valueCache")],a.prototype,"valueCache",void 0),__decorate$1r([Autowired("animationFrameService")],a.prototype,"animationFrameService",void 0),__decorate$1r([Optional("statusBarService")],a.prototype,"statusBarService",void 0),__decorate$1r([Optional("chartService")],a.prototype,"chartService",void 0),__decorate$1r([Optional("undoRedoService")],a.prototype,"undoRedoService",void 0),__decorate$1r([Optional("rowNodeBlockLoader")],a.prototype,"rowNodeBlockLoader",void 0),__decorate$1r([Optional("ssrmTransactionManager")],a.prototype,"serverSideTransactionManager",void 0),__decorate$1r([Autowired("ctrlsService")],a.prototype,"ctrlsService",void 0),__decorate$1r([Optional("frameworkComponentWrapper")],a.prototype,"frameworkComponentWrapper",void 0),__decorate$1r([PostConstruct],a.prototype,"init",null),__decorate$1r([PreDestroy],a.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),a=__decorate$1r([Bean("gridApi")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1y=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1q=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SetLeftFeature=function(a){__extends$1y(e,a);function e(o,c,h,g){var b=a.call(this)||this;return b.columnOrGroup=o,b.eCell=c,b.ariaEl=b.eCell.querySelector("[role=columnheader]")||b.eCell,b.colsSpanning=g,b.beans=h,b}return e.prototype.setColsSpanning=function(o){this.colsSpanning=o,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?last(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Column.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var o=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),c=exists(this.columnOrGroup.getOldLeft()),h=this.beans.columnAnimationService.isActive()&&c&&!o;h?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var o=this,c=this.getColumnOrGroup(),h=c.getLeft(),g=c.getOldLeft(),b=this.modifyLeftForPrintLayout(c,g),$=this.modifyLeftForPrintLayout(c,h);this.setLeft(b),this.actualLeft=$,this.beans.columnAnimationService.executeNextVMTurn(function(){o.actualLeft===$&&o.setLeft($)})},e.prototype.onLeftChanged=function(){var o=this.getColumnOrGroup(),c=o.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(o,c),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(o,c){var h=this.beans.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT;if(!h||o.getPinned()===Constants.PINNED_LEFT)return c;var g=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(o.getPinned()===Constants.PINNED_RIGHT){var b=this.beans.columnModel.getBodyContainerWidth();return g+b+c}return g+c},e.prototype.setLeft=function(o){exists(o)&&(this.eCell.style.left=o+"px");var c;if(this.columnOrGroup instanceof Column)c=this.columnOrGroup;else{var h=this.columnOrGroup,g=h.getLeafColumns();if(!g.length)return;g.length>1&&setAriaColSpan(this.ariaEl,g.length),c=g[0]}var b=this.beans.columnModel.getAriaColumnIndex(c);setAriaColIndex(this.ariaEl,b)},__decorate$1q([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1x=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1p=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HoverFeature=function(a){__extends$1x(e,a);function e(o,c){var h=a.call(this)||this;return h.columns=o,h.element=c,h}return e.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},__decorate$1p([Autowired("columnHoverService")],e.prototype,"columnHoverService",void 0),__decorate$1p([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1w=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1o=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderFilterCellCtrl=function(a){__extends$1w(e,a);function e(o,c){var h=a.call(this,o,c)||this;return h.column=o,h}return e.prototype.setComp=function(o,c,h,g){a.prototype.setGui.call(this,c),this.comp=o,this.eButtonShowMainFilter=h,this.eFloatingFilterBody=g;var b=this.column.getColDef(),$=!!b.filter||!!b.filterFramework,j=!!b.floatingFilter;this.active=$&&j,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},e.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),!!this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var o=createIconNoSpan("filter",this.gridOptionsWrapper,this.column);o&&this.eButtonShowMainFilter.appendChild(o)}},e.prototype.setupFocus=function(){this.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.onTabKeyDown=function(o){var c=this.gridOptionsWrapper.getDocument(),h=c.activeElement,g=h===this.eGui;if(!g){var b=this.focusService.findNextFocusableElement(this.eGui,null,o.shiftKey);if(b){this.beans.headerNavigationService.scrollToColumn(this.column),o.preventDefault(),b.focus();return}var $=this.findNextColumnWithFloatingFilter(o.shiftKey);$&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:$},event:o})&&o.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(o){var c=this.beans.columnModel,h=this.column;do if(h=o?c.getDisplayedColBefore(h):c.getDisplayedColAfter(h),!h)break;while(!h.getColDef().filter||!h.getColDef().floatingFilter);return h},e.prototype.handleKeyDown=function(o){a.prototype.handleKeyDown.call(this,o);var c=this.getWrapperHasFocus();switch(o.key){case KeyCode.UP:case KeyCode.DOWN:c||o.preventDefault();case KeyCode.LEFT:case KeyCode.RIGHT:if(c)return;o.stopPropagation();case KeyCode.ENTER:c&&this.focusService.focusInto(this.eGui)&&o.preventDefault();break;case KeyCode.ESCAPE:c||this.eGui.focus()}},e.prototype.onFocusIn=function(o){var c=this.eGui.contains(o.relatedTarget);if(!c){var h=!!o.relatedTarget&&!o.relatedTarget.classList.contains("ag-floating-filter"),g=!!o.relatedTarget&&isElementChildOfClass(o.relatedTarget,"ag-floating-filter");if(h&&g&&o.target===this.eGui){var b=this.lastFocusEvent,$=!!(b&&b.key===KeyCode.TAB);if(b&&$){var j=b.shiftKey;this.focusService.focusInto(this.eGui,j)}}var rt=this.getRowIndex();this.beans.focusService.setFocusedHeader(rt,this.column)}},e.prototype.setupHover=function(){var o=this;this.createManagedBean(new HoverFeature([this.column],this.eGui));var c=function(){if(o.gridOptionsWrapper.isColumnHoverHighlight()){var h=o.columnHoverService.isHovered(o.column);o.comp.addOrRemoveCssClass("ag-column-hover",h)}};this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,c),c()},e.prototype.setupLeft=function(){var o=new SetLeftFeature(this.column,this.eGui,this.beans);this.createManagedBean(o)},e.prototype.setupUserComp=function(){var o=this;if(this.active){var c=this.column.getColDef(),h=this.filterManager.createFilterParams(this.column,c),g=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(c,FilterComponent,h),b=this.userComponentFactory.getDefaultFloatingFilterType(c);b==null&&(b="agReadOnlyFloatingFilter");var $={column:this.column,filterParams:g,currentParentModel:function(){return o.currentParentModel()},parentFilterInstance:function(rt){return o.parentFilterInstance(rt)},showParentFilter:function(){return o.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=c.floatingFilterComponentParams?!!c.floatingFilterComponentParams.suppressFilterButton:!1;var j=this.userComponentFactory.getFloatingFilterCompDetails(c,$,b);j&&this.comp.setCompDetails(j)}},e.prototype.currentParentModel=function(){var o=this.getFilterComponent(!1);return o?o.resolveNow(null,function(c){return c&&c.getModel()}):null},e.prototype.getFilterComponent=function(o){return o===void 0&&(o=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",o)},e.prototype.parentFilterInstance=function(o){var c=this.getFilterComponent();c!=null&&c.then(function(h){o(unwrapUserComp(h))})},e.prototype.showParentFilter=function(){var o=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,o,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var o=this;if(this.active){var c=function(h){var g=o.comp.getFloatingFilterComp();if(g){var b=o.currentParentModel();g.then(function($){$&&$.onParentModelChanged(b,h)})}};this.addManagedListener(this.column,Column.EVENT_FILTER_CHANGED,c),this.filterManager.isFilterActive(this.column)&&c(null)}},e.prototype.setupWidth=function(){var o=this,c=function(){var h=o.column.getActualWidth()+"px";o.comp.setWidth(h)};this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,c),c()},__decorate$1o([Autowired("filterManager")],e.prototype,"filterManager",void 0),__decorate$1o([Autowired("columnHoverService")],e.prototype,"columnHoverService",void 0),__decorate$1o([Autowired("menuFactory")],e.prototype,"menuFactory",void 0),e}(AbstractHeaderCellCtrl);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1v=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1n=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ResizeFeature=function(a){__extends$1v(e,a);function e(o,c,h,g,b){var $=a.call(this)||this;return $.pinned=o,$.column=c,$.eResize=h,$.comp=g,$.ctrl=b,$}return e.prototype.postConstruct=function(){var o=this,c=this.column.getColDef(),h=[],g,b,$=function(){if(setDisplayed(o.eResize,g),!!g){var nt=o.horizontalResizeService.addResizeBar({eResizeBar:o.eResize,onResizeStart:o.onResizeStart.bind(o),onResizing:o.onResizing.bind(o,!1),onResizeEnd:o.onResizing.bind(o,!0)});if(h.push(nt),b){var ot=o.gridOptionsWrapper.isSkipHeaderOnAutoSize(),_t=function(){o.columnModel.autoSizeColumn(o.column,ot,"uiColumnResized")};o.eResize.addEventListener("dblclick",_t);var Et=new TouchListener(o.eResize);Et.addEventListener(TouchListener.EVENT_DOUBLE_TAP,_t),o.addDestroyFunc(function(){o.eResize.removeEventListener("dblclick",_t),Et.removeEventListener(TouchListener.EVENT_DOUBLE_TAP,_t),Et.destroy()})}}},j=function(){h.forEach(function(nt){return nt()}),h.length=0},rt=function(){var nt=o.column.isResizable(),ot=!o.gridOptionsWrapper.isSuppressAutoSize()&&!c.suppressAutoSize,_t=nt!==g||ot!==b;_t&&(g=nt,b=ot,j(),$())};rt(),this.addDestroyFunc(j),this.ctrl.addRefreshFunction(rt)},e.prototype.onResizing=function(o,c){var h=this.normaliseResizeAmount(c),g=[{key:this.column,newWidth:this.resizeStartWidth+h}];this.columnModel.setColumnWidths(g,this.resizeWithShiftKey,o,"uiColumnDragged"),o&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(o){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=o,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(o){var c=o,h=this.pinned!==Constants.PINNED_LEFT,g=this.pinned===Constants.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?h&&(c*=-1):g&&(c*=-1),c},__decorate$1n([Autowired("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),__decorate$1n([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1n([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1u=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgCheckbox=function(a){__extends$1u(e,a);function e(o,c,h){c===void 0&&(c="ag-checkbox"),h===void 0&&(h="checkbox");var g=a.call(this,o,c,h)||this;return g.labelAlignment="right",g.selected=!1,g.readOnly=!1,g.passive=!1,g}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(o){this.passive=o},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(o){this.eWrapper.classList.toggle("ag-disabled",o),this.eInput.disabled=o,this.readOnly=o},e.prototype.setDisabled=function(o){return this.eWrapper.classList.toggle("ag-disabled",o),a.prototype.setDisabled.call(this,o)},e.prototype.toggle=function(){if(!this.eInput.disabled){var o=this.isSelected(),c=this.getNextValue();this.passive?this.dispatchChange(c,o):this.setValue(c)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(o,c){return this.refreshSelectedClass(o),this.setSelected(o,c),this},e.prototype.setName=function(o){var c=this.getInputElement();return c.name=o,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(o,c){this.isSelected()!==o&&(this.previousValue=this.isSelected(),o=this.selected=typeof o=="boolean"?o:void 0,this.eInput.checked=o,this.eInput.indeterminate=o===void 0,c||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(o,c,h){this.dispatchEvent({type:e.EVENT_CHANGED,selected:o,previousValue:c,event:h});var g=this.getInputElement(),b={type:Events.EVENT_CHECKBOX_CHANGED,id:g.id,name:g.name,selected:o,previousValue:c};this.eventService.dispatchEvent(b)},e.prototype.onCheckboxClick=function(o){if(!(this.passive||this.eInput.disabled)){var c=this.isSelected(),h=this.selected=o.target.checked;this.refreshSelectedClass(h),this.dispatchChange(h,c,o)}},e.prototype.refreshSelectedClass=function(o){this.eWrapper.classList.toggle("ag-checked",o===!0),this.eWrapper.classList.toggle("ag-indeterminate",o==null)},e}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1t=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1m=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SelectAllFeature=function(a){__extends$1t(e,a);function e(o){var c=a.call(this)||this;c.cbSelectAllVisible=!1,c.processingEventFromCheckbox=!1,c.column=o;var h=o.getColDef();return c.filteredOnly=h?!!h.headerCheckboxSelectionFilteredOnly:!1,c}return e.prototype.onSpaceKeyPressed=function(o){var c=this.cbSelectAll,h=this.gridOptionsWrapper.getDocument();c.isDisplayed()&&!c.getGui().contains(h.activeElement)&&(o.preventDefault(),c.setValue(!c.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(o){this.headerCellCtrl=o,this.cbSelectAll=this.createManagedBean(new AgCheckbox),this.cbSelectAll.addCssClass("ag-header-select-all"),setAriaRole(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,AgCheckbox.EVENT_CHANGED,this.onCbSelectAll.bind(this)),setAriaHidden(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.getNextCheckboxState=function(o){return o.selected===0&&o.notSelected===0?!1:o.selected>0&&o.notSelected>0?null:o.selected>0},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var o=this.getSelectionCount(),c=this.getNextCheckboxState(o);this.cbSelectAll.setValue(c),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){if(!this.cbSelectAllVisible)this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);else{var o=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.cbSelectAll.getValue(),h=c?o("ariaChecked","checked"):o("ariaUnchecked","unchecked"),g=o("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",g+" ("+h+")"),this.cbSelectAll.setInputAriaLabel(g+" ("+h+")")}this.headerCellCtrl.refreshAriaDescription()},e.prototype.getSelectionCount=function(){var o=this,c=0,h=0,g=function(b){o.gridOptionsWrapper.isGroupSelectsChildren()&&b.group||(b.isSelected()?c++:b.selectable&&h++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(g):this.gridApi.forEachNode(g),{notSelected:h,selected:c}},e.prototype.checkRightRowModelType=function(){var o=this.rowModel.getType(),c=o===Constants.ROW_MODEL_TYPE_CLIENT_SIDE;c||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+o)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var o=this.cbSelectAll.getValue();o?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly)}},e.prototype.isCheckboxSelection=function(){var o=this.column.getColDef().headerCheckboxSelection;if(typeof o=="function"){var c=o,h={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()};o=c(h)}return o?this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),!1):this.gridOptionsWrapper.isRowModelViewport()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),!1):!0:!1},__decorate$1m([Autowired("gridApi")],e.prototype,"gridApi",void 0),__decorate$1m([Autowired("columnApi")],e.prototype,"columnApi",void 0),__decorate$1m([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$1m([Autowired("selectionService")],e.prototype,"selectionService",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1s=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1l=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderCellCtrl=function(a){__extends$1s(e,a);function e(o,c){var h=a.call(this,o,c)||this;return h.refreshFunctions=[],h.userHeaderClasses=new Set,h.ariaDescriptionProperties=new Map,h.column=o,h}return e.prototype.setComp=function(o,c,h,g){var b=this;a.prototype.setGui.call(this,c),this.comp=o,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(g),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new ResizeFeature(this.getPinned(),this.column,h,o,this)),this.createManagedBean(new HoverFeature([this.column],c)),this.createManagedBean(new SetLeftFeature(this.column,c,this.beans)),this.createManagedBean(new ManagedFocusFeature(c,{shouldStopEventPropagation:function($){return b.shouldStopEventPropagation($)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,Column.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},e.prototype.setupUserComp=function(){var o=this.lookupUserCompDetails();this.setCompDetails(o)},e.prototype.setCompDetails=function(o){this.userCompDetails=o,this.comp.setUserCompDetails(o)},e.prototype.lookupUserCompDetails=function(){var o=this.createParams(),c=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(c,o)},e.prototype.createParams=function(){var o=this,c=this.column.getColDef(),h={column:this.column,displayName:this.displayName,enableSorting:c.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(g){o.gridApi.showColumnMenuAfterButtonClick(o.column,g)},progressSort:function(g){o.sortController.progressSort(o.column,!!g,"uiColumnSorted")},setSort:function(g,b){o.sortController.setSortForColumn(o.column,g,!!b,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()};return h},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new SelectAllFeature(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(o){a.prototype.handleKeyDown.call(this,o),o.key===KeyCode.SPACE&&this.selectAllFeature.onSpaceKeyPressed(o),o.key===KeyCode.ENTER&&this.onEnterKeyPressed(o)},e.prototype.onEnterKeyPressed=function(o){var c=this.comp.getUserCompInstance();if(c){if(o.ctrlKey||o.metaKey)this.menuEnabled&&c.showMenu&&(o.preventDefault(),c.showMenu());else if(this.sortable){var h=o.shiftKey;this.sortController.progressSort(this.column,h,"uiColumnSorted")}}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(o){if(!this.getGui().contains(o.relatedTarget)){var c=this.getRowIndex();this.focusService.setFocusedHeader(c,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(o){this.getGui().contains(o.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var o=this,c={getColumn:function(){return o.column},getColDef:function(){return o.column.getColDef()},getGui:function(){return o.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var g=o.column.getColDef().headerTooltip;return g}},h=this.createManagedBean(new TooltipFeature(c,this.beans));h.setComp(this.comp),this.refreshFunctions.push(function(){return h.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var o=this,c=function(){var h=o.column.getColDef(),g=o.gridOptionsWrapper,b=CssClassApplier.getHeaderClassesFromColDef(h,g,o.column,null),$=o.userHeaderClasses;o.userHeaderClasses=new Set(b),b.forEach(function(j){$.has(j)?$.delete(j):o.comp.addOrRemoveCssClass(j,!0)}),$.forEach(function(j){return o.comp.addOrRemoveCssClass(j,!1)})};this.refreshFunctions.push(c),c()},e.prototype.setDragSource=function(o){var c=this;if(this.dragSourceElement=o,this.removeDragSource(),!!o&&this.draggable){var h=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns();this.moveDragSource={type:DragSourceType.HeaderCell,eElement:o,defaultIconName:h?DragAndDropService.ICON_HIDE:DragAndDropService.ICON_NOT_ALLOWED,getDragItem:function(){return c.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return c.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return c.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(g){var b,$;if(h){var j=(($=(b=g)===null||b===void 0?void 0:b.columns)===null||$===void 0?void 0:$.filter(function(rt){return!rt.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(j,!0,"uiColumnMoved")}},onGridExit:function(g){var b,$;if(h){var j=(($=(b=g)===null||b===void 0?void 0:b.columns)===null||$===void 0?void 0:$.filter(function(rt){return!rt.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(j,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var o={};return o[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:o}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var o=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!o.suppressMenu,this.sortable=o.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(o){this.refreshFunctions.push(o)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(o){return o()})},e.prototype.refreshHeaderComp=function(){var o=this.lookupUserCompDetails(),c=this.comp.getUserCompInstance(),h=c!=null&&this.userCompDetails.componentClass==o.componentClass,g=h?this.attemptHeaderCompRefresh(o.params):!1;g?this.setDragSource(this.dragSourceElement):this.setCompDetails(o)},e.prototype.attemptHeaderCompRefresh=function(o){var c=this.comp.getUserCompInstance();if(!c||!c.refresh)return!1;var h=c.refresh(o);return h},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var o=this.column.getColDef(),c=this.gridOptionsWrapper.isSuppressMovableColumns(),h=!c&&!o.suppressMovable&&!o.lockPosition;return!!h||!!o.enableRowGroup||!!o.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var o=this,c=function(){o.comp.setWidth(o.column.getActualWidth()+"px")};this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,c),c()},e.prototype.setupMovingCss=function(){var o=this,c=function(){o.comp.addOrRemoveCssClass("ag-header-cell-moving",o.column.isMoving())};this.addManagedListener(this.column,Column.EVENT_MOVING_CHANGED,c),c()},e.prototype.setupMenuClass=function(){var o=this,c=function(){o.comp.addOrRemoveCssClass("ag-column-menu-visible",o.column.isMenuVisible())};this.addManagedListener(this.column,Column.EVENT_MENU_VISIBLE_CHANGED,c),c()},e.prototype.setupSortableClass=function(){var o=this,c=function(){o.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!o.sortable)};c(),this.addRefreshFunction(c),this.addManagedListener(this.column,Column.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var o=this,c=function(){var h=!!o.column.getColDef().wrapHeaderText;o.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",h)};c(),this.addRefreshFunction(c)},e.prototype.setupAutoHeight=function(o){var c=this,h=function(nt){if(c.isAlive()){var ot=getElementSize(c.getGui()),_t=ot.paddingTop,Et=ot.paddingBottom,It=o.offsetHeight,it=It+_t+Et;if(nt<5){var st=c.beans.gridOptionsWrapper.getDocument(),Mt=!st||!st.contains(o),bt=it==0;if(Mt||bt){c.beans.frameworkOverrides.setTimeout(function(){return h(nt+1)},0);return}}c.columnModel.setColumnHeaderHeight(c.column,it)}},g=!1,b,$=function(){var nt=c.column.isAutoHeaderHeight();nt&&!g&&j(),!nt&&g&&rt()},j=function(){g=!0,h(0),c.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),b=c.resizeObserverService.observeResize(o,function(){return h(0)})},rt=function(){g=!1,b&&b(),c.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),b=void 0};$(),this.addDestroyFunc(function(){return rt()}),this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,function(){return g&&h(0)}),this.addManagedListener(this.column,Column.EVENT_SORT_CHANGED,function(){g&&c.beans.frameworkOverrides.setTimeout(function(){return h(0)})}),this.addRefreshFunction($)},e.prototype.refreshAriaSort=function(){if(this.sortable){var o=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(getAriaSortState(this.column)),this.setAriaDescriptionProperty("sort",o("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var o=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",o("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(o,c){c!=null?this.ariaDescriptionProperties.set(o,c):this.ariaDescriptionProperties.delete(o)},e.prototype.refreshAriaDescription=function(){var o=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(o.length?o.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var o=this,c=function(){if(o.gridOptionsWrapper.isColumnHoverHighlight()){var h=o.columnHoverService.isHovered(o.column);o.comp.addOrRemoveCssClass("ag-column-hover",h)}};this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,c),c()},e.prototype.setupFilterCss=function(){var o=this,c=function(){o.comp.addOrRemoveCssClass("ag-header-cell-filtered",o.column.isFilterActive())};this.addManagedListener(this.column,Column.EVENT_FILTER_ACTIVE_CHANGED,c),c()},e.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},e.prototype.addActiveHeaderMouseListeners=function(){var o=this,c=function(h){return o.setActiveHeader(h.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",c),this.addManagedListener(this.getGui(),"mouseleave",c)},e.prototype.setActiveHeader=function(o){this.comp.addOrRemoveCssClass("ag-header-active",o)},__decorate$1l([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1l([Autowired("columnHoverService")],e.prototype,"columnHoverService",void 0),__decorate$1l([Autowired("sortController")],e.prototype,"sortController",void 0),__decorate$1l([Autowired("menuFactory")],e.prototype,"menuFactory",void 0),__decorate$1l([Autowired("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1l([Autowired("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$1l([Autowired("gridApi")],e.prototype,"gridApi",void 0),__decorate$1l([Autowired("columnApi")],e.prototype,"columnApi",void 0),__decorate$1l([PreDestroy],e.prototype,"removeDragSource",null),e}(AbstractHeaderCellCtrl);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1r=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1k=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GroupResizeFeature=function(a){__extends$1r(e,a);function e(o,c,h,g){var b=a.call(this)||this;return b.eResize=c,b.comp=o,b.pinned=h,b.columnGroup=g,b}return e.prototype.postConstruct=function(){var o=this;if(!this.columnGroup.isResizable()){this.comp.addOrRemoveResizableCssClass("ag-hidden",!0);return}var c=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(c),!this.gridOptionsWrapper.isSuppressAutoSize()){var h=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var g=[],b=o.columnGroup.getDisplayedLeafColumns();b.forEach(function($){$.getColDef().suppressAutoSize||g.push($.getColId())}),g.length>0&&o.columnModel.autoSizeColumns({columns:g,skipHeader:h,stopAtGroup:o.columnGroup,source:"uiColumnResized"}),o.resizeLeafColumnsToFit()})}},e.prototype.onResizeStart=function(o){var c=this;this.calculateInitialValues();var h=null;if(o&&(h=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),h){var g=h.getDisplayedLeafColumns();this.resizeTakeFromCols=g.filter(function(b){return b.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(b){return c.resizeTakeFromStartWidth+=b.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(b){return c.resizeTakeFromRatios.push(b.getActualWidth()/c.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(o,c){var h=this.normaliseDragChange(c),g=this.resizeStartWidth+h;this.resizeColumns(g,o)},e.prototype.resizeLeafColumnsToFit=function(){var o=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),o>this.resizeStartWidth&&this.resizeColumns(o,!0)},e.prototype.resizeColumns=function(o,c){c===void 0&&(c=!0);var h=[];if(h.push({columns:this.resizeCols,ratios:this.resizeRatios,width:o}),this.resizeTakeFromCols){var g=o-this.resizeStartWidth;h.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-g})}this.columnModel.resizeColumnSets({resizeSets:h,finished:c,source:"uiColumnDragged"}),c&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var o=this,c=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=c.filter(function(h){return h.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(h){return o.resizeStartWidth+=h.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(h){return o.resizeRatios.push(h.getActualWidth()/o.resizeStartWidth)})},e.prototype.normaliseDragChange=function(o){var c=o;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Constants.PINNED_LEFT&&(c*=-1):this.pinned===Constants.PINNED_RIGHT&&(c*=-1),c},__decorate$1k([Autowired("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),__decorate$1k([Autowired("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),__decorate$1k([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1k([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1q=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1j=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GroupWidthFeature=function(a){__extends$1q(e,a);function e(o,c){var h=a.call(this)||this;return h.removeChildListenersFuncs=[],h.columnGroup=c,h.comp=o,h}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var o=this;this.removeListenersOnChildrenColumns();var c=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(h){h.addEventListener(Column.EVENT_WIDTH_CHANGED,c),h.addEventListener(Column.EVENT_VISIBLE_CHANGED,c),o.removeChildListenersFuncs.push(function(){h.removeEventListener(Column.EVENT_WIDTH_CHANGED,c),h.removeEventListener(Column.EVENT_VISIBLE_CHANGED,c)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(o){return o()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},__decorate$1j([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1p=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1i=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderGroupCellCtrl=function(a){__extends$1p(e,a);function e(o,c){var h=a.call(this,o,c)||this;return h.columnGroup=o,h}return e.prototype.setComp=function(o,c,h){a.prototype.setGui.call(this,c),this.comp=o,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var g=this.getParentRowCtrl().getPinned(),b=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new HoverFeature(b,c)),this.createManagedBean(new SetLeftFeature(this.columnGroup,c,this.beans)),this.createManagedBean(new GroupWidthFeature(o,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new GroupResizeFeature(o,h,g,this.columnGroup)),this.createManagedBean(new ManagedFocusFeature(c,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},e.prototype.setupUserComp=function(){var o=this,c=this.displayName,h={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(rt){o.columnModel.setColumnGroupOpened(o.columnGroup.getProvidedColumnGroup(),rt,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!c){for(var g=this.columnGroup,b=g.getLeafColumns();g.getParent()&&g.getParent().getLeafColumns().length===b.length;)g=g.getParent();var $=g.getColGroupDef();$&&(c=$.headerName),c||(c=b?this.columnModel.getDisplayNameForColumn(b[0],"header",!0):"")}var j=this.userComponentFactory.getHeaderGroupCompDetails(h);this.comp.setUserCompDetails(j)},e.prototype.setupTooltip=function(){var o=this,c=this.columnGroup.getColGroupDef(),h={getColumn:function(){return o.columnGroup},getGui:function(){return o.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return c&&c.headerTooltip}};c&&(h.getColDef=function(){return c});var g=this.createManagedBean(new TooltipFeature(h,this.beans));g.setComp(this.comp)},e.prototype.setupExpandable=function(){var o=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(o,ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(o,ProvidedColumnGroup.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var o=this.columnGroup;this.expandable=o.isExpandable();var c=o.isExpanded();this.expandable?this.comp.setAriaExpanded(c?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},e.prototype.addClasses=function(){var o=this,c=this.columnGroup.getColGroupDef(),h=CssClassApplier.getHeaderClassesFromColDef(c,this.gridOptionsWrapper,null,this.columnGroup);h.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),h.forEach(function(g){return o.comp.addOrRemoveCssClass(g,!0)})},e.prototype.setupMovingCss=function(){var o=this,c=this.columnGroup.getProvidedColumnGroup(),h=c.getLeafColumns(),g=function(){return o.comp.addOrRemoveCssClass("ag-header-cell-moving",o.columnGroup.isMoving())};h.forEach(function(b){o.addManagedListener(b,Column.EVENT_MOVING_CHANGED,g)}),g()},e.prototype.onFocusIn=function(o){if(!this.eGui.contains(o.relatedTarget)){var c=this.getRowIndex();this.beans.focusService.setFocusedHeader(c,this.columnGroup)}},e.prototype.handleKeyDown=function(o){a.prototype.handleKeyDown.call(this,o);var c=this.getWrapperHasFocus();if(!(!this.expandable||!c)&&o.key===KeyCode.ENTER){var h=this.columnGroup,g=!h.isExpanded();this.columnModel.setColumnGroupOpened(h.getProvidedColumnGroup(),g,"uiColumnExpanded")}},e.prototype.setDragSource=function(o){var c=this;if(!this.isSuppressMoving()){var h=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),g=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),b={type:DragSourceType.HeaderCell,eElement:o,defaultIconName:g?DragAndDropService.ICON_HIDE:DragAndDropService.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return h.forEach(function($){return $.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return h.forEach(function($){return $.setMoving(!1,"uiColumnDragged")})},onGridEnter:function($){var j,rt;if(g){var nt=((rt=(j=$)===null||j===void 0?void 0:j.columns)===null||rt===void 0?void 0:rt.filter(function(ot){return!ot.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(nt,!0,"uiColumnMoved")}},onGridExit:function($){var j,rt;if(g){var nt=((rt=(j=$)===null||j===void 0?void 0:j.columns)===null||rt===void 0?void 0:rt.filter(function(ot){return!ot.getColDef().lockVisible}))||[];c.columnModel.setColumnsVisible(nt,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(b,!0),this.addDestroyFunc(function(){return c.dragAndDropService.removeDragSource(b)})}},e.prototype.getDragItemForGroup=function(){var o=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c={};o.forEach(function(g){return c[g.getId()]=g.isVisible()});var h=[];return this.columnModel.getAllDisplayedColumns().forEach(function(g){o.indexOf(g)>=0&&(h.push(g),removeFromArray(o,g))}),o.forEach(function(g){return h.push(g)}),{columns:h,visibleState:c}},e.prototype.isSuppressMoving=function(){var o=!1;this.columnGroup.getLeafColumns().forEach(function(h){(h.getColDef().suppressMovable||h.getColDef().lockPosition)&&(o=!0)});var c=o||this.gridOptionsWrapper.isSuppressMovableColumns();return c},__decorate$1i([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1i([Autowired("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1i([Autowired("gridApi")],e.prototype,"gridApi",void 0),__decorate$1i([Autowired("columnApi")],e.prototype,"columnApi",void 0),e}(AbstractHeaderCellCtrl);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1o=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1h=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},instanceIdSequence=0,HeaderRowCtrl=function(a){__extends$1o(e,a);function e(o,c,h){var g=a.call(this)||this;return g.instanceId=instanceIdSequence++,g.headerCellCtrls={},g.rowIndex=o,g.pinned=c,g.type=h,g}return e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(o){this.comp=o,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),isBrowserSafari()&&this.comp.setTransform("translateZ(0)"),o.setAriaRowIndex(this.rowIndex+1)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(o){return values(this.headerCellCtrls).find(function(c){return c.getColumnGroupChild()===o})},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var o=this.getWidthForRow();this.comp.setWidth(o+"px")},e.prototype.getWidthForRow=function(){var o=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT;if(o){var c=this.pinned!=null;return c?0:this.columnModel.getContainerWidth(Constants.PINNED_RIGHT)+this.columnModel.getContainerWidth(Constants.PINNED_LEFT)+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var o=this.columnModel.getHeaderRowCount(),c=[],h=0;this.columnModel.hasFloatingFilters()&&(o++,h=1);for(var g=this.columnModel.getColumnGroupHeaderRowHeight(),b=this.columnModel.getColumnHeaderRowHeight(),$=1+h,j=o-$,rt=0;rt<j;rt++)c.push(g);c.push(b);for(var rt=0;rt<h;rt++)c.push(this.gridOptionsWrapper.getFloatingFiltersHeight());for(var nt=0,rt=0;rt<this.rowIndex;rt++)nt+=c[rt];var ot=c[this.rowIndex]+"px";this.comp.setTop(nt+"px"),this.comp.setHeight(ot)},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(){var o=this,c=this.headerCellCtrls;this.headerCellCtrls={};var h=this.getColumnsInViewport();h.forEach(function($){if(!$.isEmptyGroup()){var j=$.getUniqueId(),rt=c[j];delete c[j];var nt=rt&&rt.getColumnGroupChild()!=$;if(nt&&(o.destroyBean(rt),rt=void 0),rt==null)switch(o.type){case HeaderRowType.FLOATING_FILTER:rt=o.createBean(new HeaderFilterCellCtrl($,o));break;case HeaderRowType.COLUMN_GROUP:rt=o.createBean(new HeaderGroupCellCtrl($,o));break;default:rt=o.createBean(new HeaderCellCtrl($,o));break}o.headerCellCtrls[j]=rt}});var g=function($){var j=o.focusService.isHeaderWrapperFocused($);if(!j)return!1;var rt=o.columnModel.isDisplayed($.getColumnGroupChild());return rt};iterateObject(c,function($,j){var rt=g(j);rt?o.headerCellCtrls[$]=j:o.destroyBean(j)});var b=getAllValuesInObject(this.headerCellCtrls);this.comp.setHeaderCtrls(b)},e.prototype.destroyCtrls=function(){var o=this;iterateObject(this.headerCellCtrls,function(c,h){o.destroyBean(h)}),this.headerCellCtrls={}},e.prototype.getColumnsInViewport=function(){var o=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT;return o?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var o=this;if(this.pinned!=null)return[];var c=[],h=this.getActualDepth();return[Constants.PINNED_LEFT,null,Constants.PINNED_RIGHT].forEach(function(g){var b=o.columnModel.getVirtualHeaderGroupRow(g,h);c=c.concat(b)}),c},e.prototype.getActualDepth=function(){return this.type==HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(o,c){var h=getAllValuesInObject(this.headerCellCtrls),g=h.find(function(b){return b.getColumnGroupChild()==o});return g?(g.focus(c),!0):!1},__decorate$1h([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1h([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1h([PreDestroy],e.prototype,"destroyCtrls",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1n=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1g=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$c=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$a=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$c(arguments[e]));return a},HeaderRowContainerCtrl=function(a){__extends$1n(e,a);function e(o){var c=a.call(this)||this;return c.groupsRowCtrls=[],c.pinned=o,c}return e.prototype.setComp=function(o,c){this.comp=o,this.eViewport=c,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(o){var c=new BodyDropTarget(this.pinned,o);this.createManagedBean(c)},e.prototype.refresh=function(o){var c=this;o===void 0&&(o=!1);var h=new NumberSequence,g=this.focusService.getFocusHeaderToUseAfterRefresh(),b=function(){var nt=c.columnModel.getHeaderRowCount()-1;c.groupsRowCtrls=c.destroyBeans(c.groupsRowCtrls);for(var ot=0;ot<nt;ot++){var _t=c.createBean(new HeaderRowCtrl(h.next(),c.pinned,HeaderRowType.COLUMN_GROUP));c.groupsRowCtrls.push(_t)}},$=function(){var nt=h.next(),ot=c.columnsRowCtrl==null||!o||c.columnsRowCtrl.getRowIndex()!==nt;ot&&(c.destroyBean(c.columnsRowCtrl),c.columnsRowCtrl=c.createBean(new HeaderRowCtrl(nt,c.pinned,HeaderRowType.COLUMN)))},j=function(){var nt=c.columnModel.hasFloatingFilters(),ot=function(){c.filtersRowCtrl=c.destroyBean(c.filtersRowCtrl)};if(!nt){ot();return}var _t=h.next();if(c.filtersRowCtrl){var Et=c.filtersRowCtrl.getRowIndex()!==_t;(!o||Et)&&ot()}c.filtersRowCtrl||(c.filtersRowCtrl=c.createBean(new HeaderRowCtrl(_t,c.pinned,HeaderRowType.FLOATING_FILTER)))};b(),$(),j();var rt=this.getAllCtrls();this.comp.setCtrls(rt),this.restoreFocusOnHeader(g)},e.prototype.restoreFocusOnHeader=function(o){o==null||o.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:o})},e.prototype.getAllCtrls=function(){var o=__spread$a(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&o.push(this.filtersRowCtrl),o},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.setupCenterWidth=function(){var o=this;this.pinned==null&&this.createManagedBean(new CenterWidthFeature(function(c){return o.comp.setCenterWidth(c+"px")}))},e.prototype.setHorizontalScroll=function(o){this.comp.setContainerTransform("translateX("+o+"px)")},e.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},e.prototype.setupPinnedWidth=function(){var o=this;if(this.pinned!=null){var c=this.pinned===Constants.PINNED_LEFT,h=this.pinned===Constants.PINNED_RIGHT,g=function(){var b=c?o.pinnedWidthService.getPinnedLeftWidth():o.pinnedWidthService.getPinnedRightWidth();if(b!=null){var $=b==0,j=o.gridOptionsWrapper.isEnableRtl(),rt=o.gridOptionsWrapper.getScrollbarWidth(),nt=o.scrollVisibleService.isVerticalScrollShowing()&&(j&&c||!j&&h),ot=nt?b+rt:b;o.comp.setPinnedContainerWidth(ot+"px"),o.comp.addOrRemoveCssClass("ag-hidden",$)}};this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,g),this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,g),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,g),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,g)}},e.prototype.getHeaderCtrlForColumn=function(o){if(o instanceof Column)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(o):void 0;if(this.groupsRowCtrls.length!==0)for(var c=0;c<this.groupsRowCtrls.length;c++){var h=this.groupsRowCtrls[c].getHeaderCellCtrl(o);if(h)return h}},e.prototype.getHtmlElementForColumnHeader=function(o){var c=this.getHeaderCtrlForColumn(o);return c?c.getGui():null},e.prototype.getRowType=function(o){var c=this.getAllCtrls(),h=c[o];return h?h.getType():void 0},e.prototype.focusHeader=function(o,c,h){var g=this.getAllCtrls(),b=g[o];return b?b.focusHeader(c,h):!1},e.prototype.getRowCount=function(){return this.getAllCtrls().length},__decorate$1g([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1g([Autowired("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),__decorate$1g([Autowired("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),__decorate$1g([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1g([Autowired("focusService")],e.prototype,"focusService",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1m=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1f=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderRowContainerComp$1=function(a){__extends$1m(e,a);function e(o){var c=a.call(this)||this;return c.headerRowComps={},c.rowCompsList=[],c.pinned=o,c}return e.prototype.init=function(){var o=this;this.selectAndSetTemplate();var c={addOrRemoveCssClass:function(g,b){return o.addOrRemoveCssClass(g,b)},setCtrls:function(g){return o.setCtrls(g)},setCenterWidth:function(g){return o.eCenterContainer.style.width=g},setContainerTransform:function(g){return o.eCenterContainer.style.transform=g},setPinnedContainerWidth:function(g){var b=o.getGui();b.style.width=g,b.style.maxWidth=g,b.style.minWidth=g}},h=this.createManagedBean(new HeaderRowContainerCtrl(this.pinned));h.setComp(c,this.getGui())},e.prototype.selectAndSetTemplate=function(){var o=this.pinned==Constants.PINNED_LEFT,c=this.pinned==Constants.PINNED_RIGHT,h=o?e.PINNED_LEFT_TEMPLATE:c?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(h),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(o){this.destroyBean(o),this.eRowContainer.removeChild(o.getGui())},e.prototype.setCtrls=function(o){var c=this,h=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var g,b=function($){var j=$.getGui(),rt=j.parentElement!=c.eRowContainer;rt&&c.eRowContainer.appendChild(j),g&&ensureDomOrder(c.eRowContainer,j,g),g=j};o.forEach(function($){var j=$.getInstanceId(),rt=h[j];delete h[j];var nt=rt||c.createBean(new HeaderRowComp$1($));c.headerRowComps[j]=nt,c.rowCompsList.push(nt),b(nt)}),getAllValuesInObject(h).forEach(function($){return c.destroyRowComp($)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,__decorate$1f([RefSelector("eCenterContainer")],e.prototype,"eCenterContainer",void 0),__decorate$1f([PostConstruct],e.prototype,"init",null),__decorate$1f([PreDestroy],e.prototype,"destroyRowComps",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1l=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1e=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderNavigationDirection;(function(a){a[a.UP=0]="UP",a[a.DOWN=1]="DOWN",a[a.LEFT=2]="LEFT",a[a.RIGHT=3]="RIGHT"})(HeaderNavigationDirection||(HeaderNavigationDirection={}));var HeaderNavigationService=function(a){__extends$1l(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(c){o.gridBodyCon=c.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var o=this.ctrlsService.getHeaderRowContainerCtrl();return o?o.getRowCount():0},e.prototype.getHeaderRowType=function(o){var c=this.ctrlsService.getHeaderRowContainerCtrl();if(c)return c.getRowType(o)},e.prototype.navigateVertically=function(o,c,h){if(c||(c=this.focusService.getFocusedHeader()),!c)return!1;var g=c.headerRowIndex,b=c.column,$=this.getHeaderRowCount(),j=o===HeaderNavigationDirection.UP,rt=j?g-1:g+1,nt=null,ot=!1;rt<0&&(rt=0,nt=b,ot=!0),rt>=$&&(rt=-1);var _t=this.getHeaderRowType(g);if(!ot){if(_t===HeaderRowType.COLUMN_GROUP){var Et=b;nt=j?b.getParent():Et.getDisplayedChildren()[0]}else if(_t===HeaderRowType.FLOATING_FILTER)nt=b;else{var Et=b;nt=j?Et.getParent():Et}if(!nt)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:rt,column:nt},allowUserOverride:!0,event:h})},e.prototype.navigateHorizontally=function(o,c,h){c===void 0&&(c=!1);var g=this.focusService.getFocusedHeader(),b=o===HeaderNavigationDirection.LEFT,$=this.gridOptionsWrapper.isEnableRtl(),j,rt;return b!==$?(rt="Before",j=this.headerPositionUtils.findHeader(g,rt)):(rt="After",j=this.headerPositionUtils.findHeader(g,rt)),j||!c?this.focusService.focusHeaderPosition({headerPosition:j,direction:rt,fromTab:c,allowUserOverride:!0,event:h}):this.focusNextHeaderRow(g,rt,h)},e.prototype.focusNextHeaderRow=function(o,c,h){var g=o.headerRowIndex,b=null,$;return c==="Before"?g>0&&($=g-1,b=this.headerPositionUtils.findColAtEdgeForHeaderRow($,"end")):($=g+1,b=this.headerPositionUtils.findColAtEdgeForHeaderRow($,"start")),this.focusService.focusHeaderPosition({headerPosition:b,direction:c,fromTab:!0,allowUserOverride:!0,event:h})},e.prototype.scrollToColumn=function(o,c){if(c===void 0&&(c="After"),!o.getPinned()){var h;if(o instanceof ColumnGroup){var g=o.getDisplayedLeafColumns();h=c==="Before"?last(g):g[0]}else h=o;this.gridBodyCon.getScrollFeature().ensureColumnVisible(h)}},__decorate$1e([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1e([Autowired("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),__decorate$1e([Autowired("animationFrameService")],e.prototype,"animationFrameService",void 0),__decorate$1e([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1e([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$1e([Bean("headerNavigationService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1k=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1d=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GridHeaderCtrl=function(a){__extends$1k(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setComp=function(o,c,h){this.comp=o,this.eGui=c,this.createManagedBean(new ManagedFocusFeature(h,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var o=this.setHeaderHeight.bind(this);o(),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_HEADER_HEIGHT,o),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,o),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,o),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,o),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,o),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,o)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var o=this,c=o.columnModel,h=o.gridOptionsWrapper,g=0,b=c.getHeaderRowCount(),$,j=c.hasFloatingFilters();j&&(b++,g=1);var rt=this.columnModel.getColumnGroupHeaderRowHeight(),nt=this.columnModel.getColumnHeaderRowHeight(),ot=1+g,_t=b-ot;if($=g*h.getFloatingFiltersHeight(),$+=_t*rt,$+=nt,this.headerHeight!==$){this.headerHeight=$;var Et=$+1+"px";this.comp.setHeightAndMinHeight(Et),this.eventService.dispatchEvent({type:Events.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var o=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",o),this.comp.addOrRemoveCssClass("ag-pivot-off",!o)},e.prototype.onTabKeyDown=function(o){var c=this.gridOptionsWrapper.isEnableRtl(),h=o.shiftKey!==c?HeaderNavigationDirection.LEFT:HeaderNavigationDirection.RIGHT;(this.headerNavigationService.navigateHorizontally(h,!0,o)||this.focusService.focusNextGridCoreContainer(o.shiftKey))&&o.preventDefault()},e.prototype.handleKeyDown=function(o){var c=null;switch(o.key){case KeyCode.LEFT:c=HeaderNavigationDirection.LEFT;case KeyCode.RIGHT:exists(c)||(c=HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(c,!1,o);break;case KeyCode.UP:c=HeaderNavigationDirection.UP;case KeyCode.DOWN:exists(c)||(c=HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(c,null,o)&&o.preventDefault();break;default:return}},e.prototype.onFocusOut=function(o){var c=this.gridOptionsWrapper.getDocument(),h=o.relatedTarget;!h&&this.eGui.contains(c.activeElement)||this.eGui.contains(h)||this.focusService.clearFocusedHeader()},__decorate$1d([Autowired("headerNavigationService")],e.prototype,"headerNavigationService",void 0),__decorate$1d([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1d([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1d([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1j=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1c=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GridHeaderComp$1=function(a){__extends$1j(e,a);function e(){return a.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var o=this,c={addOrRemoveCssClass:function(b,$){return o.addOrRemoveCssClass(b,$)},setHeightAndMinHeight:function(b){o.getGui().style.height=b,o.getGui().style.minHeight=b}},h=this.createManagedBean(new GridHeaderCtrl);h.setComp(c,this.getGui(),this.getFocusableElement());var g=function(b){o.createManagedBean(b),o.appendChild(b)};g(new HeaderRowContainerComp$1(Constants.PINNED_LEFT)),g(new HeaderRowContainerComp$1(null)),g(new HeaderRowContainerComp$1(Constants.PINNED_RIGHT))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',__decorate$1c([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1i=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1b=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HorizontalResizeService=function(a){__extends$1i(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.addResizeBar=function(o){var c=this,h={dragStartPixels:o.dragStartPixels||0,eElement:o.eResizeBar,onDragStart:this.onDragStart.bind(this,o),onDragStop:this.onDragStop.bind(this,o),onDragging:this.onDragging.bind(this,o)};this.dragService.addDragSource(h,!0);var g=function(){return c.dragService.removeDragSource(h)};return g},e.prototype.onDragStart=function(o,c){this.dragStartX=c.clientX,this.setResizeIcons();var h=c instanceof MouseEvent&&c.shiftKey===!0;o.onResizeStart(h)},e.prototype.setResizeIcons=function(){var o=this.ctrlsService.getGridCtrl();o.setResizeCursor(!0),o.disableUserSelect(!0)},e.prototype.onDragStop=function(o,c){o.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var o=this.ctrlsService.getGridCtrl();o.setResizeCursor(!1),o.disableUserSelect(!1)},e.prototype.onDragging=function(o,c){this.resizeAmount=c.clientX-this.dragStartX,o.onResizing(this.resizeAmount)},__decorate$1b([Autowired("dragService")],e.prototype,"dragService",void 0),__decorate$1b([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),e=__decorate$1b([Bean("horizontalResizeService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1h=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1a=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},StandardMenuFactory=function(a){__extends$1h(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(o,c){var h=this;this.showPopup(o,function(g){h.popupService.positionPopupUnderMouseEvent({column:o,type:"columnMenu",mouseEvent:c,ePopup:g})},c.target)},e.prototype.showMenuAfterButtonClick=function(o,c,h){var g=this;this.showPopup(o,function(b){g.popupService.positionPopupUnderComponent({type:h,eventSource:c,ePopup:b,keepWithinBounds:!0,column:o})},c)},e.prototype.showPopup=function(o,c,h){var g=this,b=this.filterManager.getOrCreateFilterWrapper(o,"COLUMN_MENU");if(!b)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var $=document.createElement("div");setAriaRole($,"presentation"),$.classList.add("ag-menu"),this.tabListener=this.addManagedListener($,"keydown",function(Et){return g.trapFocusWithin(Et,$)}),b.guiPromise.then(function(Et){return $.appendChild(Et)});var j,rt=h||this.ctrlsService.getGridBodyCtrl().getGui(),nt=function(Et){o.setMenuVisible(!1,"contextMenu");var It=Et instanceof KeyboardEvent;if(g.tabListener&&(g.tabListener=g.tabListener()),It&&h&&isVisible(h)){var it=g.focusService.findTabbableParent(h);it&&it.focus()}},ot=this.gridOptionsWrapper.getLocaleTextFunc(),_t=this.popupService.addPopup({modal:!0,eChild:$,closeOnEsc:!0,closedCallback:nt,positionCallback:function(){return c($)},anchorToElement:rt,ariaLabel:ot("ariaLabelColumnMenu","Column Menu")});_t&&(this.hidePopup=j=_t.hideFunc),b.filterPromise.then(function(Et){c($),Et.afterGuiAttached&&Et.afterGuiAttached({container:"columnMenu",hidePopup:j})}),o.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(o,c){o.key!==KeyCode.TAB||o.defaultPrevented||this.focusService.findNextFocusableElement(c,!1,o.shiftKey)||(o.preventDefault(),this.focusService.focusInto(c,o.shiftKey))},e.prototype.isMenuEnabled=function(o){return o.isFilterAllowed()},__decorate$1a([Autowired("filterManager")],e.prototype,"filterManager",void 0),__decorate$1a([Autowired("popupService")],e.prototype,"popupService",void 0),__decorate$1a([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$1a([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),e=__decorate$1a([Bean("menuFactory")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1g=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$19=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},TabbedLayout=function(a){__extends$1g(e,a);function e(o){var c=a.call(this,e.getTemplate(o.cssClass))||this;return c.items=[],c.tabbedItemScrollMap=new Map,c.params=o,o.items&&o.items.forEach(function(h){return c.addItem(h)}),c}return e.prototype.postConstruct=function(){this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},e.getTemplate=function(o){return'<div class="ag-tabs '+o+`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `+(o?o+"-header":"")+`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `+(o?o+"-body":"")+`"></div>
        </div>`},e.prototype.handleKeyDown=function(o){var c=this.gridOptionsWrapper.getDocument();switch(o.key){case KeyCode.RIGHT:case KeyCode.LEFT:if(!this.eHeader.contains(c.activeElement))return;var h=o.key===KeyCode.RIGHT,g=this.gridOptionsWrapper.isEnableRtl(),b=this.items.indexOf(this.activeItem),$=h!==g?Math.min(b+1,this.items.length-1):Math.max(b-1,0);if(b===$)return;o.preventDefault();var j=this.items[$];this.showItemWrapper(j),j.eHeaderButton.focus();break;case KeyCode.UP:case KeyCode.DOWN:o.stopPropagation();break}},e.prototype.onTabKeyDown=function(o){if(!o.defaultPrevented){var c=this,h=c.focusService,g=c.eHeader,b=c.eBody,$=c.activeItem,j=this.gridOptionsWrapper.getDocument(),rt=j.activeElement;if(o.preventDefault(),g.contains(rt))h.focusInto(b,o.shiftKey);else if(h.isFocusUnderManagedComponent(b))$.eHeaderButton.focus();else{var nt=h.findNextFocusableElement(b,!1,o.shiftKey);nt?nt.focus():$.eHeaderButton.focus()}}},e.prototype.setAfterAttachedParams=function(o){this.afterAttachedParams=o},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(o){var c=document.createElement("span");setAriaRole(c,"tab"),c.setAttribute("tabIndex","-1"),c.appendChild(o.title),c.classList.add("ag-tab"),this.eHeader.appendChild(c),setAriaLabel(c,o.titleLabel);var h={tabbedItem:o,eHeaderButton:c};this.items.push(h),c.addEventListener("click",this.showItemWrapper.bind(this,h))},e.prototype.showItem=function(o){var c=this.items.find(function(h){return h.tabbedItem===o});c&&this.showItemWrapper(c)},e.prototype.showItemWrapper=function(o){var c=this,h=o.tabbedItem,g=o.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:h}),this.activeItem===o){callIfPresent(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),clearElement(this.eBody),h.bodyPromise.then(function(b){c.eBody.appendChild(b);var $=!c.focusService.isKeyboardMode();if(c.focusService.focusInto(c.eBody,!1,$),h.afterAttachedCallback&&h.afterAttachedCallback(c.afterAttachedParams),c.params.keepScrollPosition){var j=h.getScrollableContainer&&h.getScrollableContainer()||b;c.lastScrollListener=c.addManagedListener(j,"scroll",function(){c.tabbedItemScrollMap.set(h.name,j.scrollTop)});var rt=c.tabbedItemScrollMap.get(h.name);rt!==void 0&&setTimeout(function(){j.scrollTop=rt},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),g.classList.add("ag-tab-selected"),this.activeItem=o},__decorate$19([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$19([RefSelector("eHeader")],e.prototype,"eHeader",void 0),__decorate$19([RefSelector("eBody")],e.prototype,"eBody",void 0),__decorate$19([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function simpleHttpRequest(a){return new AgPromise(function(e){var o=new XMLHttpRequest;o.open("GET",a.url),o.send(),o.onreadystatechange=function(){o.readyState===4&&o.status===200&&e(JSON.parse(o.responseText))}})}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1f=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$18=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},DEBOUNCE_DELAY=50,ResizeObserverService=function(a){__extends$1f(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.polyfillFunctions=[],o}return e.prototype.observeResize=function(o,c){var h=this,g=this.gridOptionsWrapper.getDocument(),b=g.defaultView||window,$=debounce$2(c,DEBOUNCE_DELAY),j=function(){var _t=new b.ResizeObserver($);return _t.observe(o),function(){return _t.disconnect()}},rt=function(){var _t=offsetWidth(o),Et=offsetHeight(o),It=!0,it=function(){if(It){var st=offsetWidth(o),Mt=offsetHeight(o),bt=st!==_t||Mt!==Et;bt&&(_t=st,Et=Mt,c()),h.doNextPolyfillTurn(it)}};return it(),function(){return It=!1}},nt=this.gridOptionsWrapper.isSuppressBrowserResizeObserver(),ot=!!b.ResizeObserver;return ot&&!nt?j():rt()},e.prototype.doNextPolyfillTurn=function(o){this.polyfillFunctions.push(o),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var o=this;if(!this.polyfillScheduled){var c=function(){var h=o.polyfillFunctions;o.polyfillScheduled=!1,o.polyfillFunctions=[],h.forEach(function(g){return g()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(c,DEBOUNCE_DELAY)}},e=__decorate$18([Bean("resizeObserverService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1e=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$17=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AnimationFrameService=function(a){__extends$1e(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.createTasksP1={list:[],sorted:!1},o.createTasksP2={list:[],sorted:!1},o.destroyTasks=[],o.ticking=!1,o.scrollGoingDown=!0,o.lastScrollTop=0,o.taskCount=0,o.cancelledTasks=new Set,o}return e.prototype.setScrollTop=function(o){this.scrollGoingDown=o>this.lastScrollTop,this.lastScrollTop=o},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(o){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService."+o+" called but animation frames are off")},e.prototype.createTask=function(o,c,h){this.verifyAnimationFrameOn(h);var g={task:o,index:c,createOrder:++this.taskCount};this.addTaskToList(this[h],g),this.schedule()},e.prototype.cancelTask=function(o){this.cancelledTasks.add(o)},e.prototype.addTaskToList=function(o,c){o.list.push(c),o.sorted=!1},e.prototype.sortTaskList=function(o){if(!o.sorted){var c=this.scrollGoingDown?1:-1;o.list.sort(function(h,g){return h.index!==g.index?c*(g.index-h.index):g.createOrder-h.createOrder}),o.sorted=!0}},e.prototype.addDestroyTask=function(o){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(o),this.schedule()},e.prototype.executeFrame=function(o){this.verifyAnimationFrameOn("executeFrame");for(var c=this.createTasksP1,h=c.list,g=this.createTasksP2,b=g.list,$=this.destroyTasks,j=new Date().getTime(),rt=new Date().getTime()-j,nt=o<=0,ot=this.ctrlsService.getGridBodyCtrl();nt||rt<o;){var _t=ot.getScrollFeature().executeAnimationFrameScroll();if(!_t){var Et=void 0;if(h.length)this.sortTaskList(c),Et=h.pop().task;else if(b.length)this.sortTaskList(g),Et=b.pop().task;else if($.length)Et=$.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(Et)||Et()}rt=new Date().getTime()-j}h.length||b.length||$.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var o=this.executeFrame.bind(this,60),c=this.gridOptionsWrapper.getDocument(),h=c.defaultView||window;h.requestAnimationFrame?h.requestAnimationFrame(o):h.webkitRequestAnimationFrame?h.webkitRequestAnimationFrame(o):h.setTimeout(o,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(o){var c=this,h=!1;return function(){if(!c.isOn()){c.getFrameworkOverrides().setTimeout(o,0);return}h||(h=!0,c.addDestroyTask(function(){h=!1,o()}))}},__decorate$17([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$17([PostConstruct],e.prototype,"init",null),e=__decorate$17([Bean("animationFrameService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1d=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$16=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RESIZE_CONTAINER_STYLE="ag-resizer-wrapper",RESIZE_TEMPLATE='<div class="'+RESIZE_CONTAINER_STYLE+`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,PositionableFeature=function(a){__extends$1d(e,a);function e(o,c){var h=a.call(this)||this;return h.element=o,h.dragStartPosition={x:0,y:0},h.position={x:0,y:0},h.lastSize={width:-1,height:-1},h.positioned=!1,h.resizersAdded=!1,h.resizeListeners=[],h.boundaryEl=null,h.isResizing=!1,h.isMoving=!1,h.resizable={},h.movable=!1,h.currentResizer=null,h.config=Object.assign({},{popup:!1},c),h}return e.prototype.center=function(){var o=this.offsetParent,c=o.clientHeight,h=o.clientWidth,g=h/2-this.getWidth()/2,b=c/2-this.getHeight()/2;this.offsetElement(g,b)},e.prototype.initialisePosition=function(){var o=this.config,c=o.centered,h=o.forcePopupParentAsOffsetParent,g=o.minWidth,b=o.width,$=o.minHeight,j=o.height,rt=o.x,nt=o.y;this.offsetParent||this.setOffsetParent();var ot=0,_t=0,Et=!!this.element.offsetParent;if(Et){var It=this.findBoundaryElement(),it=window.getComputedStyle(It);if(it.minWidth!=null){var st=It.offsetWidth-this.element.offsetWidth;_t=parseInt(it.minWidth,10)-st}if(it.minHeight!=null){var Mt=It.offsetHeight-this.element.offsetHeight;ot=parseInt(it.minHeight,10)-Mt}}if(this.minHeight=$||ot,this.minWidth=g||_t,b&&this.setWidth(b),j&&this.setHeight(j),(!b||!j)&&this.refreshSize(),c)this.center();else if(rt||nt)this.offsetElement(rt,nt);else if(Et&&h&&this.boundaryEl){var bt=parseFloat(this.boundaryEl.style.top),Lt=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Lt)?0:Lt,isNaN(bt)?0:bt)}this.positioned=!!this.offsetParent},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(o,c){if(!(!this.config.popup||o===this.movable)){this.movable=o;var h=this.moveElementDragListener||{eElement:c,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};o?(this.dragService.addDragSource(h),this.moveElementDragListener=h):(this.dragService.removeDragSource(h),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(o){var c=this;if(this.clearResizeListeners(),o?this.addResizers():this.removeResizers(),typeof o=="boolean"){if(o===!1)return;o={topLeft:o,top:o,topRight:o,right:o,bottomRight:o,bottom:o,bottomLeft:o,left:o}}Object.keys(o).forEach(function(h){var g=o,b=!!g[h],$=c.getResizerElement(h),j={dragStartPixels:0,eElement:$,onDragStart:function(rt){return c.onResizeStart(rt,h)},onDragging:c.onResize.bind(c),onDragStop:function(rt){return c.onResizeEnd(rt,h)}};(!!c.resizable[h]!==b||!c.isAlive()&&!b)&&(b?(c.dragService.addDragSource(j),c.resizeListeners.push(j),$.style.pointerEvents="all"):$.style.pointerEvents="none",c.resizable[h]=b)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var o=this.lastSize,c=o.height,h=o.width;h!==-1&&(this.element.style.width=h+"px"),c!==-1&&(this.element.style.height=c+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(o){var c=this.config.popup,h=this.element,g=!1;if(typeof o=="string"&&o.indexOf("%")!==-1)setFixedHeight(h,o),o=getAbsoluteHeight(h),g=!0;else if(this.positioned){var b=this.element.getBoundingClientRect(),$=this.offsetParent.getBoundingClientRect();o=Math.max(this.minHeight,o);var j=this.offsetParent.clientHeight,rt=c?this.position.y:b.top,nt=c?0:$.top;j&&o+rt>j+nt&&(o=j-rt)}this.getHeight()!==o&&(g?(h.style.maxHeight="unset",h.style.minHeight="unset"):c?setFixedHeight(h,o):(h.style.height=o+"px",h.style.flex="0 0 auto",this.lastSize.height=typeof o=="number"?o:parseFloat(o)))},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(o){var c=this.element,h=this.config.popup,g=!1;if(typeof o=="string"&&o.indexOf("%")!==-1)setFixedWidth(c,o),o=getAbsoluteWidth(c),g=!0;else if(this.positioned){o=Math.max(this.minWidth,o);var b=this.offsetParent.clientWidth,$=h?this.position.x:this.element.getBoundingClientRect().left;b&&o+$>b&&(o=b-$)}this.getWidth()!==o&&(g?(c.style.maxWidth="unset",c.style.minWidth="unset"):this.config.popup?setFixedWidth(c,o):(c.style.width=o+"px",c.style.flex=" unset",this.lastSize.width=typeof o=="number"?o:parseFloat(o)))},e.prototype.offsetElement=function(o,c){o===void 0&&(o=0),c===void 0&&(c=0);var h=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:h,x:o,y:c,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable()}),this.setPosition(parseFloat(h.style.left),parseFloat(h.style.top))},e.prototype.setPosition=function(o,c){this.position.x=o,this.position.y=c},e.prototype.updateDragStartPosition=function(o,c){this.dragStartPosition={x:o,y:c}},e.prototype.calculateMouseMovement=function(o){var c=o.e,h=o.isLeft,g=o.isTop,b=o.anywhereWithin,$=o.topBuffer,j=c.clientX-this.dragStartPosition.x,rt=c.clientY-this.dragStartPosition.y,nt=this.shouldSkipX(c,!!h,!!b,j)?0:j,ot=this.shouldSkipY(c,!!g,$,rt)?0:rt;return{movementX:nt,movementY:ot}},e.prototype.shouldSkipX=function(o,c,h,g){var b=this.element.getBoundingClientRect(),$=this.offsetParent.getBoundingClientRect(),j=this.boundaryEl.getBoundingClientRect(),rt=this.config.popup?this.position.x:b.left,nt=rt<=0&&$.left>=o.clientX||$.right<=o.clientX&&$.right<=j.right;return nt?!0:(c?nt=g<0&&o.clientX>rt+$.left||g>0&&o.clientX<rt+$.left:h?nt=g<0&&o.clientX>j.right||g>0&&o.clientX<rt+$.left:nt=g<0&&o.clientX>j.right||g>0&&o.clientX<j.right,nt)},e.prototype.shouldSkipY=function(o,c,h,g){h===void 0&&(h=0);var b=this.element.getBoundingClientRect(),$=this.offsetParent.getBoundingClientRect(),j=this.boundaryEl.getBoundingClientRect(),rt=this.config.popup?this.position.y:b.top,nt=rt<=0&&$.top>=o.clientY||$.bottom<=o.clientY&&$.bottom<=j.bottom;return nt?!0:(c?nt=g<0&&o.clientY>rt+$.top+h||g>0&&o.clientY<rt+$.top:nt=g<0&&o.clientY>j.bottom||g>0&&o.clientY<j.bottom,nt)},e.prototype.createResizeMap=function(){var o=this.element;this.resizerMap={topLeft:{element:o.querySelector("[ref=eTopLeftResizer]")},top:{element:o.querySelector("[ref=eTopResizer]")},topRight:{element:o.querySelector("[ref=eTopRightResizer]")},right:{element:o.querySelector("[ref=eRightResizer]")},bottomRight:{element:o.querySelector("[ref=eBottomRightResizer]")},bottom:{element:o.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:o.querySelector("[ref=eBottomLeftResizer]")},left:{element:o.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var o=this.element;if(o){var c=new DOMParser,h=c.parseFromString(RESIZE_TEMPLATE,"text/html").body;o.appendChild(h.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var o=this.element.querySelector("."+RESIZE_CONTAINER_STYLE);o&&this.element.removeChild(o),this.resizersAdded=!1},e.prototype.getResizerElement=function(o){return this.resizerMap[o].element},e.prototype.onResizeStart=function(o,c){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!c.match(/top/i),isRight:!!c.match(/right/i),isBottom:!!c.match(/bottom/i),isLeft:!!c.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[c].element.classList.add("ag-active");var h=this.config,g=h.popup,b=h.forcePopupParentAsOffsetParent;!g&&!b&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(o.clientX,o.clientY)},e.prototype.getSiblings=function(){var o=this.element,c=o.parentElement;return c?Array.prototype.slice.call(c.children).filter(function(h){return!h.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var o=this.getSiblings()||[],c=0,h=0,g=0;g<o.length;g++){var b=o[g],$=!!b.style.flex&&b.style.flex!=="0 0 auto";if(b!==this.element){var j=this.minHeight||0,rt=this.minWidth||0;if($){var nt=window.getComputedStyle(b);nt.minHeight&&(j=parseInt(nt.minHeight,10)),nt.minWidth&&(rt=parseInt(nt.minWidth,10))}else j=b.offsetHeight,rt=b.offsetWidth;c+=j,h+=rt}}return{height:c,width:h}},e.prototype.applySizeToSiblings=function(o){var c=null,h=this.getSiblings();if(h){for(var g=0;g<h.length;g++){var b=h[g];b!==c&&(o?b.style.height=b.offsetHeight+"px":b.style.width=b.offsetWidth+"px",b.style.flex="0 0 auto",b===this.element&&(c=h[g+1]))}c&&(c.style.removeProperty("height"),c.style.removeProperty("min-height"),c.style.removeProperty("max-height"),c.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(o){return o})},e.prototype.onResize=function(o){if(!(!this.isResizing||!this.currentResizer)){var c=this.config,h=c.popup,g=c.forcePopupParentAsOffsetParent,b=this.currentResizer,$=b.isTop,j=b.isRight,rt=b.isBottom,nt=b.isLeft,ot=j||nt,_t=rt||$,Et=this.calculateMouseMovement({e:o,isLeft:nt,isTop:$}),It=Et.movementX,it=Et.movementY,st=this.position.x,Mt=this.position.y,bt=0,Lt=0;if(ot&&It){var pt=nt?-1:1,Dt=this.getWidth(),wt=Dt+It*pt,Bt=!1;nt&&(bt=Dt-wt,(st+bt<=0||wt<=this.minWidth)&&(Bt=!0,bt=0)),Bt||this.setWidth(wt)}if(_t&&it){var pt=$?-1:1,jt=this.getHeight(),hr=jt+it*pt,gr=!1;$?(Lt=jt-hr,(Mt+Lt<=0||hr<=this.minHeight)&&(gr=!0,Lt=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&jt<hr&&this.getMinSizeOfSiblings().height+hr>this.element.parentElement.offsetHeight&&(gr=!0),gr||this.setHeight(hr)}this.updateDragStartPosition(o.clientX,o.clientY),((h||g)&&bt||Lt)&&this.offsetElement(st+bt,Mt+Lt)}},e.prototype.onResizeEnd=function(o,c){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var h={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[c].element.classList.remove("ag-active"),this.dispatchEvent(h)},e.prototype.refreshSize=function(){var o=this.element;this.config.popup&&(this.config.width||this.setWidth(o.offsetWidth),this.config.height||this.setHeight(o.offsetHeight))},e.prototype.onMoveStart=function(o){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(o.clientX,o.clientY)},e.prototype.onMove=function(o){if(this.isMoving){var c=this.position,h=c.x,g=c.y,b;this.config.calculateTopBuffer&&(b=this.config.calculateTopBuffer());var $=this.calculateMouseMovement({e:o,isTop:!0,anywhereWithin:!0,topBuffer:b}),j=$.movementX,rt=$.movementY;this.offsetElement(h+j,g+rt),this.updateDragStartPosition(o.clientX,o.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var o=this.element;o;){if(window.getComputedStyle(o).position!=="static")return o;o=o.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var o=this.resizeListeners.pop();this.dragService.removeDragSource(o)}},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},__decorate$16([Autowired("popupService")],e.prototype,"popupService",void 0),__decorate$16([Autowired("dragService")],e.prototype,"dragService",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1c=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$15=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AutoWidthCalculator=function(a){__extends$1c(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(c){o.centerRowContainerCtrl=c.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(o,c){var h=this.getHeaderCellForColumn(o);if(!h)return-1;var g=this.rowRenderer.getAllCellsForColumn(o);return c||g.push(h),this.addElementsToContainerAndGetWidth(g)},e.prototype.getPreferredWidthForColumnGroup=function(o){var c=this.getHeaderCellForColumn(o);return c?this.addElementsToContainerAndGetWidth([c]):-1},e.prototype.addElementsToContainerAndGetWidth=function(o){var c=this,h=document.createElement("form");h.style.position="fixed";var g=this.centerRowContainerCtrl.getContainerElement();g.appendChild(h),o.forEach(function(j){return c.cloneItemIntoDummy(j,h)});var b=h.offsetWidth;g.removeChild(h);var $=this.gridOptionsWrapper.getAutoSizePadding();return b+$},e.prototype.getHeaderCellForColumn=function(o){var c=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(h){var g=h.getHtmlElementForColumnHeader(o);g!=null&&(c=g)}),c},e.prototype.cloneItemIntoDummy=function(o,c){var h=o.cloneNode(!0);h.style.width="",h.style.position="static",h.style.left="";var g=document.createElement("div"),b=g.classList,$=["ag-header-cell","ag-header-group-cell"].some(function(_t){return h.classList.contains(_t)});$?(b.add("ag-header","ag-header-row"),g.style.position="static"):b.add("ag-row");for(var j=o.parentElement;j;){var rt=["ag-header-row","ag-row"].some(function(_t){return j.classList.contains(_t)});if(rt){for(var nt=0;nt<j.classList.length;nt++){var ot=j.classList[nt];ot!="ag-row-position-absolute"&&b.add(ot)}break}j=j.parentElement}g.appendChild(h),c.appendChild(g)},__decorate$15([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$15([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$15([Autowired("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),__decorate$15([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$15([Bean("autoWidthCalculator")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1b=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$14=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__values$1=function(a){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&a[e],c=0;if(o)return o.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$b=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$9=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$b(arguments[e]));return a},StickyRowFeature=function(a){__extends$1b(e,a);function e(o,c){var h=a.call(this)||this;return h.createRowCon=o,h.destroyRowCtrls=c,h.stickyRowCtrls=[],h.containerHeight=0,h}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(c){o.gridBodyCtrl=c.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var o=0;if(!this.gridOptionsWrapper.isGroupRowsSticky()){this.refreshNodesAndContainerHeight([],o);return}for(var c=[],h=this.rowRenderer.getFirstVisibleVerticalPixel(),g=function(_t){c.push(_t);for(var Et=_t;Et.expanded;)Et=last(Et.childrenAfterSort);var It=Et.rowTop+Et.rowHeight,it=h+o+_t.rowHeight;It<it?_t.stickyRowTop=o+(It-it):_t.stickyRowTop=o,o=0,c.forEach(function(st){var Mt=st.stickyRowTop+st.rowHeight;o<Mt&&(o=Mt)})};;){var b=h+o,$=this.rowModel.getRowIndexAtPixel(b),j=this.rowModel.getRow($);if(j==null||j.level<0)break;for(var rt=[],nt=j.parent;nt.level>=0;)rt.push(nt),nt=nt.parent;var ot=rt.reverse().find(function(_t){return c.indexOf(_t)<0&&_t.displayed});if(ot){g(ot);continue}if(j.group&&j.expanded&&!j.footer&&j.rowTop<b){g(j);continue}break}this.refreshNodesAndContainerHeight(c,o)},e.prototype.refreshNodesAndContainerHeight=function(o,c){var h,g,b,$=this,j=this.stickyRowCtrls.filter(function(it){return o.indexOf(it.getRowNode())===-1}),rt=o.filter(function(it){return $.stickyRowCtrls.findIndex(function(st){return st.getRowNode()===it})===-1}),nt={};j.forEach(function(it){nt[it.getRowNode().id]=it,$.stickyRowCtrls=$.stickyRowCtrls.filter(function(st){return st!==it})});try{for(var ot=__values$1(Object.values(nt)),_t=ot.next();!_t.done;_t=ot.next()){var Et=_t.value;Et.getRowNode().sticky=!1}}catch(it){h={error:it}}finally{try{_t&&!_t.done&&(g=ot.return)&&g.call(ot)}finally{if(h)throw h.error}}this.destroyRowCtrls(nt,!1);var It=rt.map(function(it){return it.sticky=!0,$.createRowCon(it,!1,!1)});(b=this.stickyRowCtrls).push.apply(b,__spread$9(It)),this.stickyRowCtrls.forEach(function(it){return it.setRowTop(it.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(it,st){return st.getRowNode().rowIndex-it.getRowNode().rowIndex}),this.containerHeight!==c&&(this.containerHeight=c,this.gridBodyCtrl.setStickyTopHeight(c))},__decorate$14([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$14([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$14([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$14([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$1a=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$13=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$a=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$8=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$a(arguments[e]));return a},RowRenderer=function(a){__extends$1a(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.destroyFuncsForColumnListeners=[],o.rowCtrlsByRowIndex={},o.zombieRowCtrls={},o.allRowCtrls=[],o.topRowCtrls=[],o.bottomRowCtrls=[],o.refreshInProgress=!1,o.dataFirstRenderedFired=!1,o}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCtrl=o.ctrlsService.getGridBodyCtrl(),o.initialise()})},e.prototype.initialise=function(){this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.gridOptionsWrapper.isGroupRowsSticky()&&(this.rowModel.getType()!=Constants.ROW_MODEL_TYPE_CLIENT_SIDE?doOnce(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsWrapper.isTreeData()?doOnce(function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")},"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new StickyRowFeature(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var o=this.gridOptionsWrapper.getKeepDetailRowsCount(),c=o??3;this.cachedRowCtrls=new RowCtrlCache(c)}},e.prototype.getRowCtrls=function(){return this.allRowCtrls},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var o=getAllValuesInObject(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&o.sort(function(g,b){return g.getRowNode().rowIndex-b.getRowNode.rowIndex});var c=getAllValuesInObject(this.zombieRowCtrls),h=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=__spread$8(o,c,h)},e.prototype.registerCellEventListeners=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_CELL_FOCUSED,function(h){o.getAllCellCtrls().forEach(function(g){return g.onCellFocused(h)}),o.getFullWidthRowCtrls().forEach(function(g){g.onFullWidthRowFocused(h)})}),this.addManagedListener(this.eventService,Events.EVENT_FLASH_CELLS,function(h){o.getAllCellCtrls().forEach(function(g){return g.onFlashCells(h)})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,function(){o.getAllCellCtrls().forEach(function(h){return h.onColumnHover()})}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){o.getAllCellCtrls().forEach(function(h){return h.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){o.printLayout&&o.getAllCellCtrls().forEach(function(h){return h.onLeftChanged()})});var c=this.gridOptionsWrapper.isEnableRangeSelection();c&&(this.addManagedListener(this.eventService,Events.EVENT_RANGE_SELECTION_CHANGED,function(){o.getAllCellCtrls().forEach(function(h){return h.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,function(){o.getAllCellCtrls().forEach(function(h){return h.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,function(){o.getAllCellCtrls().forEach(function(h){return h.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,function(){o.getAllCellCtrls().forEach(function(h){return h.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(o){return o()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var o=this;this.removeGridColumnListeners();var c=this.columnModel.getAllGridColumns();c&&c.forEach(function(h){var g=function(ot){o.getAllCellCtrls().forEach(function(_t){_t.getColumn()===h&&ot(_t)})},b=function(){g(function(ot){return ot.onLeftChanged()})},$=function(){g(function(ot){return ot.onWidthChanged()})},j=function(){g(function(ot){return ot.onFirstRightPinnedChanged()})},rt=function(){g(function(ot){return ot.onLastLeftPinnedChanged()})},nt=function(){g(function(ot){return ot.onColDefChanged()})};h.addEventListener(Column.EVENT_LEFT_CHANGED,b),h.addEventListener(Column.EVENT_WIDTH_CHANGED,$),h.addEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,j),h.addEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED,rt),h.addEventListener(Column.EVENT_COL_DEF_CHANGED,nt),o.destroyFuncsForColumnListeners.push(function(){h.removeEventListener(Column.EVENT_LEFT_CHANGED,b),h.removeEventListener(Column.EVENT_WIDTH_CHANGED,$),h.removeEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,j),h.removeEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED,rt),h.removeEventListener(Column.EVENT_COL_DEF_CHANGED,nt)})})},e.prototype.onDomLayoutChanged=function(){var o=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,c=o||this.gridOptionsWrapper.isEmbedFullWidthRows(),h=c!==this.embedFullWidthRows||this.printLayout!==o;this.printLayout=o,this.embedFullWidthRows=c,h&&this.redrawAfterModelUpdate()},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var o=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(o)},e.prototype.onPageLoaded=function(o){var c={recycleRows:o.keepRenderedRows,animate:o.animate,newData:o.newData,newPage:o.newPage,onlyBody:!0};this.redrawAfterModelUpdate(c)},e.prototype.getAllCellsForColumn=function(o){var c=[];return this.getAllRowCtrls().forEach(function(h){var g=h.getCellElement(o);g&&c.push(g)}),c},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(o,c){var h=this;o.forEach(function(g){g.destroyFirstPass(),g.destroySecondPass()}),o.length=0,c&&c.forEach(function(g){var b=new RowCtrl(g,h.beans,!1,!1,h.printLayout);o.push(b)})},e.prototype.onPinnedRowDataChanged=function(){var o={recycleRows:!0};this.redrawAfterModelUpdate(o)},e.prototype.getRenderedIndexesForRowNodes=function(o){var c=[];return missing(o)||iterateObject(this.rowCtrlsByRowIndex,function(h,g){var b=g.getRowNode();o.indexOf(b)>=0&&c.push(h)}),c},e.prototype.redrawRows=function(o){var c=o!=null&&o.length>0;if(c){var h=this.getRenderedIndexesForRowNodes(o);this.removeRowCtrls(h)}this.redrawAfterModelUpdate({recycleRows:c})},e.prototype.getCellToRestoreFocusToAfterRefresh=function(o){var c,h=!((c=o)===null||c===void 0)&&c.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(h==null)return null;var g=this.gridOptionsWrapper.getDocument(),b=g.activeElement,$=this.gridOptionsWrapper.getDomData(b,CellCtrl.DOM_DATA_KEY_CELL_CTRL),j=this.gridOptionsWrapper.getDomData(b,RowCtrl.DOM_DATA_KEY_ROW_CTRL),rt=$||j;return rt?h:null},e.prototype.redrawAfterModelUpdate=function(o){o===void 0&&(o={}),this.getLockOnRefresh();var c=this.getCellToRestoreFocusToAfterRefresh(o);this.updateContainerHeights(),this.scrollToTopIfNewData(o);var h=!this.printLayout&&!!o.recycleRows,g=o.animate&&this.gridOptionsWrapper.isAnimateRows(),b=h?this.recycleRows():null;h||this.removeAllRowComps();var $=function(){if(c==null||b==null)return!1;var rt=!1;return iterateObject(b,function(nt,ot){var _t=ot.getRowNode(),Et=_t.rowIndex==c.rowIndex,It=_t.rowPinned==c.rowPinned;Et&&It&&(rt=!0)}),rt},j=$();this.redraw(b,g),this.gridBodyCtrl.updateRowCount(),o.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),j||this.restoreFocusedCell(c),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(o){var c=o.newData||o.newPage,h=this.gridOptionsWrapper.isSuppressScrollOnNewData();c&&!h&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var o=this.paginationProxy.getCurrentPageHeight();o===0&&(o=1),this.rowContainerHeightService.setModelHeight(o)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(o){o&&this.focusService.setFocusedCell({rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},e.prototype.stopEditing=function(o){o===void 0&&(o=!1),this.getAllRowCtrls().forEach(function(c){c.stopEditing(o)})},e.prototype.getAllCellCtrls=function(){var o=[];return this.getAllRowCtrls().forEach(function(c){return o=o.concat(c.getAllCellCtrls())}),o},e.prototype.getAllRowCtrls=function(){var o=this,c=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],h=__spread$8(this.topRowCtrls,this.bottomRowCtrls,c);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(g){return h.push(o.rowCtrlsByRowIndex[g])}),h},e.prototype.addRenderedRowListener=function(o,c,h){var g=this.rowCtrlsByRowIndex[c];g&&g.addEventListener(o,h)},e.prototype.flashCells=function(o){o===void 0&&(o={});var c=o.flashDelay,h=o.fadeDelay;this.getCellCtrls(o.rowNodes,o.columns).forEach(function(g){return g.flashCell({flashDelay:c,fadeDelay:h})})},e.prototype.refreshCells=function(o){o===void 0&&(o={});var c={forceRefresh:o.force,newData:!1,suppressFlash:o.suppressFlash};this.getCellCtrls(o.rowNodes,o.columns).forEach(function(h){if(h.refreshShouldDestroy()){var g=h.getRowCtrl();g&&g.refreshCell(h)}else h.refreshCell(c)}),this.getFullWidthRowCtrls(o.rowNodes).forEach(function(h){h.refreshFullWidth()})},e.prototype.getCellRendererInstances=function(o){var c=this.getCellCtrls(o.rowNodes,o.columns).map(function(h){return h.getCellRenderer()}).filter(function(h){return h!=null});return c},e.prototype.getCellEditorInstances=function(o){var c=[];return this.getCellCtrls(o.rowNodes,o.columns).forEach(function(h){var g=h.getCellEditor();g&&c.push(g)}),c},e.prototype.getEditingCells=function(){var o=[];return this.getAllCellCtrls().forEach(function(c){if(c.isEditing()){var h=c.getCellPosition();o.push(h)}}),o},e.prototype.mapRowNodes=function(o){if(o){var c={top:{},bottom:{},normal:{}};return o.forEach(function(h){var g=h.id;h.rowPinned===Constants.PINNED_TOP?c.top[g]=h:h.rowPinned===Constants.PINNED_BOTTOM?c.bottom[g]=h:c.normal[g]=h}),c}},e.prototype.isRowInMap=function(o,c){var h=o.id,g=o.rowPinned;return g===Constants.PINNED_BOTTOM?c.bottom[h]!=null:g===Constants.PINNED_TOP?c.top[h]!=null:c.normal[h]!=null},e.prototype.getCellCtrls=function(o,c){var h=this,g=this.mapRowNodes(o),b=[],$;exists(c)&&($={},c.forEach(function(rt){var nt=h.columnModel.getGridColumn(rt);exists(nt)&&($[nt.getId()]=!0)}));var j=function(rt){var nt=rt.getRowNode();g!=null&&!h.isRowInMap(nt,g)||rt.getAllCellCtrls().forEach(function(ot){var _t=ot.getColumn().getId(),Et=$&&!$[_t];Et||b.push(ot)})};return iterateObject(this.rowCtrlsByRowIndex,function(rt,nt){j(nt)}),this.topRowCtrls&&this.topRowCtrls.forEach(j),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(j),b},e.prototype.destroy=function(){this.removeAllRowComps(),a.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var o=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(o)},e.prototype.recycleRows=function(){var o=[];iterateObject(this.rowCtrlsByRowIndex,function(h,g){var b=g.getRowNode().id==null;b&&o.push(h)}),this.removeRowCtrls(o);var c={};return iterateObject(this.rowCtrlsByRowIndex,function(h,g){var b=g.getRowNode();c[b.id]=g}),this.rowCtrlsByRowIndex={},c},e.prototype.removeRowCtrls=function(o){var c=this;o.forEach(function(h){var g=c.rowCtrlsByRowIndex[h];g&&(g.destroyFirstPass(),g.destroySecondPass()),delete c.rowCtrlsByRowIndex[h]})},e.prototype.redrawAfterScroll=function(){var o;if(this.stickyRowFeature&&browserSupportsPreventScroll()&&(o=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),o!=null){var c=this.getCellToRestoreFocusToAfterRefresh();o!=null&&c==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(o))}},e.prototype.removeRowCompsNotToDraw=function(o){var c={};o.forEach(function(b){return c[b]=!0});var h=Object.keys(this.rowCtrlsByRowIndex),g=h.filter(function(b){return!c[b]});this.removeRowCtrls(g)},e.prototype.calculateIndexesToDraw=function(o){var c=this,h=createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow),g=function(b,$){var j=$.getRowNode().rowIndex;j!=null&&(j<c.firstRenderedRow||j>c.lastRenderedRow)&&c.doNotUnVirtualiseRow($)&&h.push(j)};return iterateObject(this.rowCtrlsByRowIndex,g),iterateObject(o,g),h.sort(function(b,$){return b-$}),h=h.filter(function(b){var $=c.paginationProxy.getRow(b);return $&&!$.sticky}),h},e.prototype.redraw=function(o,c,h){var g=this;c===void 0&&(c=!1),h===void 0&&(h=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var b=this.calculateIndexesToDraw(o);if(this.removeRowCompsNotToDraw(b),this.printLayout&&(c=!1),b.forEach(function(j){var rt=g.createOrUpdateRowCtrl(j,o,c,h);exists(rt)}),o){var $=h&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout;$?this.beans.animationFrameService.addDestroyTask(function(){g.destroyRowCtrls(o,c),g.updateAllRowCtrls(),g.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(o,c)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(){var o={type:Events.EVENT_DISPLAYED_ROWS_CHANGED};this.eventService.dispatchEvent(o)},e.prototype.onDisplayedColumnsChanged=function(){var o=this.columnModel.isPinningLeft(),c=this.columnModel.isPinningRight(),h=this.pinningLeft!==o||c!==this.pinningRight;h&&(this.pinningLeft=o,this.pinningRight=c,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var o=[];this.getFullWidthRowCtrls().forEach(function(c){var h=c.getRowNode().rowIndex;o.push(h.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(o),this.redrawAfterScroll()},e.prototype.getFullWidthRowCtrls=function(o){var c=this,h=this.mapRowNodes(o);return getAllValuesInObject(this.rowCtrlsByRowIndex).filter(function(g){if(!g.isFullWidth())return!1;var b=g.getRowNode();return!(h!=null&&!c.isRowInMap(b,h))})},e.prototype.refreshFullWidthRows=function(o){var c=[],h=!!o,g=h?{}:void 0;h&&g&&o.forEach(function(b){return g[b.id]=!0}),this.getFullWidthRowCtrls().forEach(function(b){var $=b.getRowNode();if(h&&g){var j=$.level>0&&$.parent?$.parent.id:void 0,rt=!g[$.id]&&!g[j];if(rt)return}var nt=b.refreshFullWidth();if(!nt){var ot=b.getRowNode().rowIndex;c.push(ot.toString())}}),this.removeRowCtrls(c),this.redrawAfterScroll()},e.prototype.createOrUpdateRowCtrl=function(o,c,h,g){var b,$=this.rowCtrlsByRowIndex[o];$||(b=this.paginationProxy.getRow(o),exists(b)&&exists(c)&&c[b.id]&&b.alreadyRendered&&($=c[b.id],c[b.id]=null));var j=!$;if(j)if(b||(b=this.paginationProxy.getRow(o)),exists(b))$=this.createRowCon(b,h,g);else return;return b&&(b.alreadyRendered=!0),this.rowCtrlsByRowIndex[o]=$,$},e.prototype.destroyRowCtrls=function(o,c){var h=this,g=[];iterateObject(o,function(b,$){if($){if(h.cachedRowCtrls&&$.isCacheable()){h.cachedRowCtrls.addRow($);return}$.destroyFirstPass(),c?(h.zombieRowCtrls[$.getInstanceId()]=$,g.push(function(){$.destroySecondPass(),delete h.zombieRowCtrls[$.getInstanceId()]})):$.destroySecondPass()}}),c&&(g.push(function(){h.updateAllRowCtrls(),h.dispatchDisplayedRowsChanged()}),executeInAWhile(g))},e.prototype.workOutFirstAndLastRowsToRender=function(){var o,c;if(!this.paginationProxy.isRowsToRender())o=0,c=-1;else if(this.printLayout)o=this.paginationProxy.getPageFirstRow(),c=this.paginationProxy.getPageLastRow();else{var h=this.gridOptionsWrapper.getRowBufferInPixels(),g=this.ctrlsService.getGridBodyCtrl(),b=this.gridOptionsWrapper.isSuppressRowVirtualisation(),$=!1,j=void 0,rt=void 0;do{var nt=this.paginationProxy.getPixelOffset(),ot=this.paginationProxy.getCurrentPagePixelRange(),_t=ot.pageFirstPixel,Et=ot.pageLastPixel,It=this.rowContainerHeightService.getDivStretchOffset(),it=g.getScrollFeature().getVScrollPosition(),st=it.top,Mt=it.bottom;b?(j=_t+It,rt=Et+It):(j=Math.max(st+nt-h,_t)+It,rt=Math.min(Mt+nt+h,Et)+It),this.firstVisibleVPixel=Math.max(st+nt,_t)+It,$=this.ensureAllRowsInRangeHaveHeightsCalculated(j,rt)}while($);var bt=this.paginationProxy.getRowIndexAtPixel(j),Lt=this.paginationProxy.getRowIndexAtPixel(rt),pt=this.paginationProxy.getPageFirstRow(),Dt=this.paginationProxy.getPageLastRow();bt<pt&&(bt=pt),Lt>Dt&&(Lt=Dt),o=bt,c=Lt}var wt=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,Bt=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),jt=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);wt&&!Bt&&c-o>jt&&(c=o+jt);var hr=o!==this.firstRenderedRow,gr=c!==this.lastRenderedRow;if(hr||gr){this.firstRenderedRow=o,this.lastRenderedRow=c;var Cr={type:Events.EVENT_VIEWPORT_CHANGED,firstRow:o,lastRow:c};this.eventService.dispatchEvent(Cr)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var o=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var c={type:Events.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){o.beans.eventService.dispatchEvent(c)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(o,c){var h=this.paginationProxy.ensureRowHeightsValid(o,c,-1,-1);return h&&this.updateContainerHeights(),h},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(o){var c=!1,h=!0,g=o.getRowNode(),b=this.focusService.isRowNodeFocused(g),$=o.isEditing(),j=g.detail,rt=b||$||j;if(!rt)return c;var nt=this.paginationProxy.isRowPresent(g);return nt?h:c},e.prototype.createRowCon=function(o,c,h){var g=this.cachedRowCtrls?this.cachedRowCtrls.getRow(o):null;if(g)return g;var b=this.gridOptionsWrapper.isSuppressAnimationFrame(),$=h&&!b&&!this.printLayout,j=new RowCtrl(o,this.beans,c,$,this.printLayout);return j},e.prototype.getRenderedNodes=function(){var o=this.rowCtrlsByRowIndex;return Object.keys(o).map(function(c){return o[c].getRowNode()})},e.prototype.getRowByPosition=function(o){var c,h=o.rowIndex;switch(o.rowPinned){case Constants.PINNED_TOP:c=this.topRowCtrls[h];break;case Constants.PINNED_BOTTOM:c=this.bottomRowCtrls[h];break;default:c=this.rowCtrlsByRowIndex[h],c||(c=this.getStickyTopRowCtrls().find(function(g){return g.getRowNode().rowIndex===h})||null);break}return c},e.prototype.getRowNode=function(o){switch(o.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[o.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[o.rowIndex];default:return this.rowModel.getRow(o.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(o,c){var h=o==null||c==null;if(h)return!1;var g=o>this.lastRenderedRow,b=c<this.firstRenderedRow,$=!b&&!g;return $},__decorate$13([Autowired("animationFrameService")],e.prototype,"animationFrameService",void 0),__decorate$13([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),__decorate$13([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$13([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$13([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$13([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$13([Autowired("beans")],e.prototype,"beans",void 0),__decorate$13([Autowired("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),__decorate$13([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$13([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$13([Bean("rowRenderer")],e),e}(BeanStub),RowCtrlCache=function(){function a(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return a.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var o=this.entriesList[0];o.destroyFirstPass(),o.destroySecondPass(),this.removeFromCache(o)}},a.prototype.getRow=function(e){if(e==null||e.id==null)return null;var o=this.entriesMap[e.id];if(!o)return null;this.removeFromCache(o),o.setCached(!1);var c=o.getRowNode()!=e;return c?null:o},a.prototype.removeFromCache=function(e){var o=e.getRowNode().id;delete this.entriesMap[o],removeFromArray(this.entriesList,e)},a.prototype.getEntries=function(){return this.entriesList},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$19=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$12=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ValueFormatterService=function(a){__extends$19(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.formatValue=function(o,c,h,g,b){b===void 0&&(b=!0);var $=null,j,rt=o.getColDef();if(g?j=g:b&&(j=c&&c.rowPinned&&rt.pinnedRowValueFormatter?rt.pinnedRowValueFormatter:rt.valueFormatter),j){var nt={value:h,node:c,data:c?c.data:null,colDef:rt,column:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};$=this.expressionService.evaluate(j,nt)}else if(rt.refData)return rt.refData[h]||"";return $==null&&Array.isArray(h)&&($=h.join(", ")),$},__decorate$12([Autowired("expressionService")],e.prototype,"expressionService",void 0),e=__decorate$12([Bean("valueFormatterService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$18=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$11=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},PinnedRowModel=function(a){__extends$18(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},e.prototype.isEmpty=function(o){var c=o===Constants.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;return missingOrEmpty(c)},e.prototype.isRowsToRender=function(o){return!this.isEmpty(o)},e.prototype.getRowAtPixel=function(o,c){var h=c===Constants.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(missingOrEmpty(h))return 0;for(var g=0;g<h.length;g++){var b=h[g],$=b.rowTop+b.rowHeight-1;if($>=o)return g}return h.length-1},e.prototype.setPinnedTopRowData=function(o){this.pinnedTopRows=this.createNodesFromData(o,!0);var c={type:Events.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(c)},e.prototype.setPinnedBottomRowData=function(o){this.pinnedBottomRows=this.createNodesFromData(o,!1);var c={type:Events.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(c)},e.prototype.createNodesFromData=function(o,c){var h=this,g=[];if(o){var b=0;o.forEach(function($,j){var rt=new RowNode(h.beans);rt.data=$;var nt=c?RowNode.ID_PREFIX_TOP_PINNED:RowNode.ID_PREFIX_BOTTOM_PINNED;rt.id=nt+j,rt.rowPinned=c?Constants.PINNED_TOP:Constants.PINNED_BOTTOM,rt.setRowTop(b),rt.setRowHeight(h.gridOptionsWrapper.getRowHeightForNode(rt).height),rt.setRowIndex(j),b+=rt.rowHeight,g.push(rt)})}return g},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(o){return this.pinnedTopRows[o]},e.prototype.getPinnedBottomRow=function(o){return this.pinnedBottomRows[o]},e.prototype.forEachPinnedTopRow=function(o){missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(o)},e.prototype.forEachPinnedBottomRow=function(o){missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(o)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(o){if(!o||o.length===0)return 0;var c=last(o);return c.rowTop+c.rowHeight},__decorate$11([Autowired("beans")],e.prototype,"beans",void 0),__decorate$11([PostConstruct],e.prototype,"init",null),e=__decorate$11([Bean("pinnedRowModel")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ServerSideTransactionResultStatus;(function(a){a.Applied="Applied",a.StoreNotFound="StoreNotFound",a.StoreLoading="StoreLoading",a.StoreWaitingToLoad="StoreWaitingToLoad",a.StoreLoadingFailed="StoreLoadingFailed",a.StoreWrongType="StoreWrongType",a.Cancelled="Cancelled"})(ServerSideTransactionResultStatus||(ServerSideTransactionResultStatus={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ChangedPath=function(){function a(e,o){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:o,children:null},this.mapToItems[o.id]=this.pathRoot}return a.prototype.setInactive=function(){this.active=!1},a.prototype.isActive=function(){return this.active},a.prototype.depthFirstSearchChangedPath=function(e,o){if(e.children)for(var c=0;c<e.children.length;c++)this.depthFirstSearchChangedPath(e.children[c],o);o(e.rowNode)},a.prototype.depthFirstSearchEverything=function(e,o,c){if(e.childrenAfterGroup)for(var h=0;h<e.childrenAfterGroup.length;h++){var g=e.childrenAfterGroup[h];g.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[h],o,c):c&&o(g)}o(e)},a.prototype.forEachChangedNodeDepthFirst=function(e,o,c){o===void 0&&(o=!1),c===void 0&&(c=!1),this.active&&!c?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,o)},a.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},a.prototype.createPathItems=function(e){for(var o=e,c=0;!this.mapToItems[o.id];){var h={rowNode:o,children:null};this.mapToItems[o.id]=h,c++,o=o.parent}return c},a.prototype.populateColumnsMap=function(e,o){var c=this;if(!(!this.keepingColumns||!o))for(var h=e;h;)this.nodeIdsToColumns[h.id]||(this.nodeIdsToColumns[h.id]={}),o.forEach(function(g){return c.nodeIdsToColumns[h.id][g.getId()]=!0}),h=h.parent},a.prototype.linkPathItems=function(e,o){for(var c=e,h=0;h<o;h++){var g=this.mapToItems[c.id],b=this.mapToItems[c.parent.id];b.children||(b.children=[]),b.children.push(g),c=c.parent}},a.prototype.addParentNode=function(e,o){if(!(!e||e.isRowPinned())){var c=this.createPathItems(e);this.linkPathItems(e,c),this.populateColumnsMap(e,o)}},a.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},a.prototype.getValueColumnsForNode=function(e,o){if(!this.keepingColumns)return o;var c=this.nodeIdsToColumns[e.id],h=o.filter(function(g){return c[g.getId()]});return h},a.prototype.getNotValueColumnsForNode=function(e,o){if(!this.keepingColumns)return null;var c=this.nodeIdsToColumns[e.id],h=o.filter(function(g){return!c[g.getId()]});return h},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$17=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),RowNodeBlock=function(a){__extends$17(e,a);function e(o){var c=a.call(this)||this;return c.state=e.STATE_WAITING_TO_LOAD,c.version=0,c.id=o,c}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(o){var c=this.isRequestMostRecentAndLive(o);c&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(o,c){this.successCommon(o,c)},e.prototype.pageLoaded=function(o,c,h){this.successCommon(o,{rowData:c,rowCount:h})},e.prototype.isRequestMostRecentAndLive=function(o){var c=o===this.version,h=this.isAlive();return c&&h},e.prototype.successCommon=function(o,c){this.dispatchLoadCompleted();var h=this.isRequestMostRecentAndLive(o);h&&(this.state=e.STATE_LOADED,this.processServerResult(c))},e.prototype.dispatchLoadCompleted=function(o){o===void 0&&(o=!0);var c={type:e.EVENT_LOAD_COMPLETE,success:o,block:this};this.dispatchEvent(c)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$16=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$10=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$6=function(a,e){return function(o,c){e(o,c,a)}},RowNodeBlockLoader=function(a){__extends$16(e,a);function e(){var c=a!==null&&a.apply(this,arguments)||this;return c.activeBlockLoadsCount=0,c.blocks=[],c.active=!0,c}o=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var c=this.gridOptionsWrapper.getBlockLoadDebounceMillis();c&&c>0&&(this.checkBlockToLoadDebounce=_.debounce(this.performCheckBlocksToLoad.bind(this),c))},e.prototype.setBeans=function(c){this.logger=c.create("RowNodeBlockLoader")},e.prototype.addBlock=function(c){this.blocks.push(c),c.addEventListener(RowNodeBlock.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(c){_.removeFromArray(this.blocks,c)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:o.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var c=this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0,h=this.blocks.filter(function(g){return g.getState()===RowNodeBlock.STATE_WAITING_TO_LOAD}).slice(0,c);this.activeBlockLoadsCount+=h.length,h.forEach(function(g){return g.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){var c={};return this.blocks.forEach(function(h){var g=h.getBlockStateJson(),b=g.id,$=g.state;c[b]=$}),c},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+","+(" blocks = "+JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0};var o;return e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",__decorate$10([PostConstruct],e.prototype,"postConstruct",null),__decorate$10([__param$6(0,Qualifier("loggerFactory"))],e.prototype,"setBeans",null),e=o=__decorate$10([Bean("rowNodeBlockLoader")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$15=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$$=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},PaginationProxy=function(a){__extends$15(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.currentPage=0,o.topDisplayedRowIndex=0,o.bottomDisplayedRowIndex=0,o.pixelOffset=0,o.masterRowCount=0,o}return e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(o,c,h,g){var b=this.rowModel.ensureRowHeightsValid(o,c,this.getPageFirstRow(),this.getPageLastRow());return b&&this.calculatePages(),b},e.prototype.onModelUpdated=function(o){this.calculatePages();var c={type:Events.EVENT_PAGINATION_CHANGED,animate:o?o.animate:!1,newData:o?o.newData:!1,newPage:o?o.newPage:!1,keepRenderedRows:o?o.keepRenderedRows:!1};this.eventService.dispatchEvent(c)},e.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var o={type:Events.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(o)},e.prototype.goToPage=function(o){if(!(!this.active||this.currentPage===o)){this.currentPage=o;var c={type:Events.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(c)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(o){return this.rowModel.getRow(o)},e.prototype.getRowNode=function(o){return this.rowModel.getRowNode(o)},e.prototype.getRowIndexAtPixel=function(o){return this.rowModel.getRowIndexAtPixel(o)},e.prototype.getCurrentPageHeight=function(){return missing(this.topRowBounds)||missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var o=this.topRowBounds?this.topRowBounds.rowTop:0,c=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:o,pageLastPixel:c}},e.prototype.isRowPresent=function(o){if(!this.rowModel.isRowPresent(o))return!1;var c=o.rowIndex>=this.topDisplayedRowIndex&&o.rowIndex<=this.bottomDisplayedRowIndex;return c},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.getNodesInRangeForSelection=function(o,c){return this.rowModel.getNodesInRangeForSelection(o,c)},e.prototype.forEachNode=function(o){return this.rowModel.forEachNode(o)},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(o){var c=this.rowModel.getRowBounds(o);return c.rowIndex=o,c},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(o){return Math.floor(o/this.pageSize)},e.prototype.goToPageWithIndex=function(o){if(this.active){var c=this.getPageForIndex(o);this.goToPage(c)}},e.prototype.isRowInPage=function(o){if(!this.active)return!0;var c=this.getPageForIndex(o.rowIndex);return c===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var o=this.rowModel.getRowCount(),c=Math.floor(o/this.pageSize);this.goToPage(c)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(exists(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(o){this.pixelOffset!==o&&(this.pixelOffset=o,this.eventService.dispatchEvent({type:Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var o=this.masterRowCount-1;this.totalPages=Math.floor(o/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var c=this.pageSize*this.currentPage,h=this.pageSize*(this.currentPage+1)-1;if(h>o&&(h=o),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(c),h===o)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var g=this.rowModel.getTopLevelRowDisplayedIndex(h+1);this.bottomDisplayedRowIndex=g-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var o=this.masterRowCount-1;this.totalPages=Math.floor(o/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>o&&(this.bottomDisplayedRowIndex=o)},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},__decorate$$([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$$([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$$([Bean("paginationProxy")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$14=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$_=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},StylingService=function(a){__extends$14(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(o,c,h,g){this.processClassRules(o.cellClassRules,c,h,g),this.processStaticCellClasses(o,c,h)},e.prototype.processClassRules=function(o,c,h,g){if(o!=null){for(var b=Object.keys(o),$={},j={},rt=function(_t){var Et=b[_t],It=o[Et],it;typeof It=="string"?it=nt.expressionService.evaluate(It,c):typeof It=="function"&&(it=It(c)),Et.split(" ").forEach(function(st){st==null||st.trim()==""||(it?$[st]=!0:j[st]=!0)})},nt=this,ot=0;ot<b.length;ot++)rt(ot);g&&Object.keys(j).forEach(g),Object.keys($).forEach(h)}},e.prototype.getStaticCellClasses=function(o,c){var h=o.cellClass;if(!h)return[];var g;if(typeof h=="function"){var b=h;g=b(c)}else g=h;return typeof g=="string"&&(g=[g]),g||[]},e.prototype.processStaticCellClasses=function(o,c,h){var g=this.getStaticCellClasses(o,c);g.forEach(function(b){h(b)})},__decorate$_([Autowired("expressionService")],e.prototype,"expressionService",void 0),e=__decorate$_([Bean("stylingService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$13=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgRadioButton=function(a){__extends$13(e,a);function e(o){return a.call(this,o,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){a.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Events.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(o){o.selected&&o.name&&this.eInput.name&&this.eInput.name===o.name&&o.id&&this.eInput.id!==o.id&&this.setValue(!1,!0)},e}(AgCheckbox);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$12=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgToggleButton=function(a){__extends$12(e,a);function e(o){return a.call(this,o,"ag-toggle-button")||this}return e.prototype.setValue=function(o,c){return a.prototype.setValue.call(this,o,c),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(AgCheckbox);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$11=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgInputTextField=function(a){__extends$11(e,a);function e(o,c,h){return c===void 0&&(c="ag-text-field"),h===void 0&&(h="text"),a.call(this,o,c,h)||this}return e.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(o,c){var h=a.prototype.setValue.call(this,o,c);return this.eInput.value!==o&&(this.eInput.value=exists(o)?o:""),h},e.prototype.preventDisallowedCharacters=function(){var o=new RegExp("["+this.config.allowedCharPattern+"]"),c=function(h){h.key&&!o.test(h.key)&&h.preventDefault()};this.addManagedListener(this.eInput,"keypress",c),this.addManagedListener(this.eInput,"paste",function(h){var g,b=(g=h.clipboardData)===null||g===void 0?void 0:g.getData("text");b&&b.split("").some(function($){return!o.test($)})&&h.preventDefault()})},e}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$10=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgInputTextArea=function(a){__extends$10(e,a);function e(o){return a.call(this,o,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(o,c){var h=a.prototype.setValue.call(this,o,c);return this.eInput.value=o,h},e.prototype.setCols=function(o){return this.eInput.cols=o,this},e.prototype.setRows=function(o){return this.eInput.rows=o,this},e}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$$=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgInputNumberField=function(a){__extends$$(e,a);function e(o){return a.call(this,o,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var o=this;a.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var c=parseFloat(o.eInput.value),h=isNaN(c)?"":o.normalizeValue(c.toString());o.value!==h&&o.setValue(h)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(o){document.activeElement===this.eInput&&o.preventDefault()},e.prototype.normalizeValue=function(o){if(o==="")return"";this.precision&&(o=this.adjustPrecision(o));var c=parseFloat(o);return this.min!=null&&c<this.min?o=this.min.toString():this.max!=null&&c>this.max&&(o=this.max.toString()),o},e.prototype.adjustPrecision=function(o){if(this.precision){var c=parseFloat(o).toFixed(this.precision);o=parseFloat(c).toString()}return o},e.prototype.setMin=function(o){return this.min===o?this:(this.min=o,addOrRemoveAttribute(this.eInput,"min",o),this)},e.prototype.setMax=function(o){return this.max===o?this:(this.max=o,addOrRemoveAttribute(this.eInput,"max",o),this)},e.prototype.setPrecision=function(o){return this.precision=o,this},e.prototype.setStep=function(o){return this.step===o?this:(this.step=o,addOrRemoveAttribute(this.eInput,"step",o),this)},e.prototype.setValue=function(o,c){o=this.adjustPrecision(o);var h=this.normalizeValue(o);return o!=h?this:a.prototype.setValue.call(this,o,c)},e}(AgInputTextField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$_=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgInputRange=function(a){__extends$_(e,a);function e(o){return a.call(this,o,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){a.prototype.postConstruct.call(this);var o=this.config,c=o.min,h=o.max,g=o.step;c!=null&&this.setMinValue(c),h!=null&&this.setMaxValue(h),this.setStep(g||1)},e.prototype.addInputListeners=function(){var o=this;this.addManagedListener(this.eInput,"input",function(c){var h=c.target.value;o.setValue(h)})},e.prototype.setMinValue=function(o){return this.min=o,this.eInput.setAttribute("min",o.toString()),this},e.prototype.setMaxValue=function(o){return this.max=o,this.eInput.setAttribute("max",o.toString()),this},e.prototype.setStep=function(o){return this.eInput.setAttribute("step",o.toString()),this},e.prototype.setValue=function(o,c){this.min!=null&&(o=Math.max(parseFloat(o),this.min).toString()),this.max!=null&&(o=Math.min(parseFloat(o),this.max).toString());var h=a.prototype.setValue.call(this,o,c);return this.eInput.value=o,h},e}(AgAbstractInputField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$Z=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$Z=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgSlider=function(a){__extends$Z(e,a);function e(o){var c=a.call(this,o,e.TEMPLATE)||this;return c.labelAlignment="top",c}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(o){var c=this,h=AgAbstractField.EVENT_CHANGED;return this.addManagedListener(this.eText,h,function(){var g=parseFloat(c.eText.getValue());c.eSlider.setValue(g.toString(),!0),o(g||0)}),this.addManagedListener(this.eSlider,h,function(){var g=c.eSlider.getValue();c.eText.setValue(g,!0),o(parseFloat(g))}),this},e.prototype.setSliderWidth=function(o){return this.eSlider.setWidth(o),this},e.prototype.setTextFieldWidth=function(o){return this.eText.setWidth(o),this},e.prototype.setMinValue=function(o){return this.eSlider.setMinValue(o),this.eText.setMin(o),this},e.prototype.setMaxValue=function(o){return this.eSlider.setMaxValue(o),this.eText.setMax(o),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(o){return this.getValue()===o?this:(this.eText.setValue(o,!0),this.eSlider.setValue(o,!0),this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED}),this)},e.prototype.setStep=function(o){return this.eSlider.setStep(o),this.eText.setStep(o),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,__decorate$Z([RefSelector("eLabel")],e.prototype,"eLabel",void 0),__decorate$Z([RefSelector("eSlider")],e.prototype,"eSlider",void 0),__decorate$Z([RefSelector("eText")],e.prototype,"eText",void 0),__decorate$Z([PostConstruct],e.prototype,"init",null),e}(AgAbstractLabel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$Y=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$Y=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgAngleSelect=function(a){__extends$Y(e,a);function e(o){var c=a.call(this,o,e.TEMPLATE)||this;return c.radius=0,c.offsetX=0,c.offsetY=0,c}return e.prototype.postConstruct=function(){var o=this;a.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(c){o.parentCircleRect=o.eParentCircle.getBoundingClientRect()},onDragging:function(c){return o.calculateAngleDrag(c)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(c){(c==null||c==="")&&(c="0"),c=o.eAngleValue.normalizeValue(c);var h=parseFloat(c);h>180&&(h=h-360),o.setValue(h)}),this.updateNumberInput(),exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,AgAbstractField.EVENT_CHANGED,function(){var c=o.gridOptionsWrapper.getDocument();o.eAngleValue.getInputElement().contains(c.activeElement)||o.updateNumberInput()})},e.prototype.updateNumberInput=function(){var o=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(o.toString())},e.prototype.positionChildCircle=function(o){var c=this.parentCircleRect||{width:24,height:24},h=this.eChildCircle,g=c.width/2,b=c.height/2;h.style.left=g+Math.cos(o)*8+"px",h.style.top=b+Math.sin(o)*8+"px"},e.prototype.calculatePolar=function(){var o=this.offsetX,c=this.offsetY,h=Math.atan2(c,o);this.degrees=this.toDegrees(h),this.radius=Math.sqrt(o*o+c*c),this.positionChildCircle(h)},e.prototype.calculateCartesian=function(){var o=this.toRadians(this.getValue()),c=this.getRadius();this.setOffsetX(Math.cos(o)*c).setOffsetY(Math.sin(o)*c)},e.prototype.setOffsetX=function(o){return this.offsetX!==o&&(this.offsetX=o,this.calculatePolar()),this},e.prototype.setOffsetY=function(o){return this.offsetY!==o&&(this.offsetY=o,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(o){var c=this.parentCircleRect,h=c.width/2,g=c.height/2,b=o.clientX-c.left,$=o.clientY-c.top,j=b-h,rt=$-g,nt=Math.atan2(rt,j);this.setValue(nt,!0)},e.prototype.toDegrees=function(o){return o/Math.PI*180},e.prototype.toRadians=function(o){return o/180*Math.PI},e.prototype.normalizeNegativeValue=function(o){return o<0?360+o:o},e.prototype.normalizeAngle180=function(o){return o%=Math.PI*2,o<-Math.PI?o+=Math.PI*2:o>=Math.PI&&(o-=Math.PI*2),o},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(o){return this.radius===o?this:(this.radius=o,this.calculateCartesian(),this)},e.prototype.onValueChange=function(o){var c=this;return this.addManagedListener(this,AgAbstractField.EVENT_CHANGED,function(){o(c.degrees)}),this},e.prototype.getValue=function(o){return o?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(o,c){var h;return c?h=o:h=this.normalizeAngle180(this.toRadians(o)),o=this.toDegrees(h),this.degrees!==o&&(this.degrees=Math.floor(o),this.calculateCartesian(),this.positionChildCircle(h),this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED})),this},e.prototype.setWidth=function(o){return setFixedWidth(this.getGui(),o),this},e.prototype.setDisabled=function(o){return a.prototype.setDisabled.call(this,o),this.eAngleValue.setDisabled(o),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),a.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,__decorate$Y([RefSelector("eLabel")],e.prototype,"eLabel",void 0),__decorate$Y([RefSelector("eParentCircle")],e.prototype,"eParentCircle",void 0),__decorate$Y([RefSelector("eChildCircle")],e.prototype,"eChildCircle",void 0),__decorate$Y([RefSelector("eAngleValue")],e.prototype,"eAngleValue",void 0),__decorate$Y([Autowired("dragService")],e.prototype,"dragService",void 0),e}(AgAbstractLabel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$X=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$X=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$9=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},AgColorPanel=function(a){__extends$X(e,a);function e(o){var c=a.call(this,e.TEMPLATE)||this;return c.H=1,c.S=1,c.B=1,c.A=1,c.isSpectrumDragging=!1,c.isSpectrumHueDragging=!1,c.isSpectrumAlphaDragging=!1,c.colorChanged=!1,c.picker=o.picker,c}return e.prototype.postConstruct=function(){var o=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(o,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(o,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(o,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(o){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(o)},e.prototype.onSpectrumDraggerMove=function(o){this.isSpectrumDragging&&this.moveDragger(o)},e.prototype.onSpectrumHueDown=function(o){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(o)},e.prototype.onSpectrumHueMove=function(o){this.isSpectrumHueDragging&&this.moveHueSlider(o)},e.prototype.onSpectrumAlphaDown=function(o){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(o)},e.prototype.onSpectrumAlphaMove=function(o){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(o)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(o){var c=this.spectrumValRect;if(c){var h=o.clientX-c.left,g=o.clientY-c.top;h=Math.max(h,0),h=Math.min(h,c.width),g=Math.max(g,0),g=Math.min(g,c.height),this.setSpectrumValue(h/c.width,1-g/c.height)}},e.prototype.moveHueSlider=function(o){var c=this.spectrumHueRect;if(c){var h=this.spectrumHueSlider,g=h.getBoundingClientRect(),b=o.clientX-c.left;b=Math.max(b,0),b=Math.min(b,c.width),this.H=1-b/c.width,h.style.left=b+g.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(o){var c=this.spectrumAlphaRect;if(c){var h=this.spectrumAlphaSlider,g=h.getBoundingClientRect(),b=o.clientX-c.left;b=Math.max(b,0),b=Math.min(b,c.width),this.A=b/c.width,h.style.left=b+g.width/2+"px",this.update()}},e.prototype.update=function(){var o=Color$1.fromHSB(this.H*360,this.S,this.B,this.A),c=Color$1.fromHSB(this.H*360,1,1),h=o.toRgbaString(),g=this.picker,b=Color$1.fromString(g.getValue());b.toRgbaString()!==h&&(this.colorChanged=!0),g.setValue(h),this.spectrumColor.style.backgroundColor=c.toRgbaString(),this.spectrumDragger.style.backgroundColor=h},e.prototype.setSpectrumValue=function(o,c){var h=this.spectrumValRect||this.refreshSpectrumRect();if(h){var g=this.spectrumDragger,b=g.getBoundingClientRect();o=Math.max(0,o),o=Math.min(1,o),c=Math.max(0,c),c=Math.min(1,c),this.S=o,this.B=c,g.style.left=o*h.width-b.width/2+"px",g.style.top=(1-c)*h.height-b.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var o=e.recentColors,c=o.map(function(h,g){return'<div class="ag-recent-color" id='+g+' style="background-color: '+h+'; width: 15px; height: 15px;" recent-color="'+h+'"></div>'});this.recentColors.innerHTML=c.join("")},e.prototype.setValue=function(o){var c=Color$1.fromString(o),h=__read$9(c.toHSB(),3),g=h[0],b=h[1],$=h[2];this.H=(isNaN(g)?0:g)/360,this.A=c.a;var j=this.spectrumHueRect||this.refreshHueRect(),rt=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-j.width+"px",this.spectrumAlphaSlider.style.left=this.A*rt.width+"px",this.setSpectrumValue(b,$)},e.prototype.onRecentColorClick=function(o){var c=o.target;if(exists(c.id)){var h=parseInt(c.id,10);this.setValue(e.recentColors[h]),this.destroy()}},e.prototype.addRecentColor=function(){var o=Color$1.fromHSB(this.H*360,this.S,this.B,this.A),c=o.toRgbaString(),h=e.recentColors;!this.colorChanged||h[0]===c||(h=h.filter(function(g){return g!=c}),h=[c].concat(h),h.length>e.maxRecentColors&&(h=h.slice(0,e.maxRecentColors)),e.recentColors=h)},e.prototype.destroy=function(){this.addRecentColor(),a.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE=`<div class="ag-color-panel">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,__decorate$X([RefSelector("spectrumColor")],e.prototype,"spectrumColor",void 0),__decorate$X([RefSelector("spectrumVal")],e.prototype,"spectrumVal",void 0),__decorate$X([RefSelector("spectrumDragger")],e.prototype,"spectrumDragger",void 0),__decorate$X([RefSelector("spectrumHue")],e.prototype,"spectrumHue",void 0),__decorate$X([RefSelector("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),__decorate$X([RefSelector("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),__decorate$X([RefSelector("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),__decorate$X([RefSelector("recentColors")],e.prototype,"recentColors",void 0),__decorate$X([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$W=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$W=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgPanel=function(a){__extends$W(e,a);function e(o){var c=a.call(this,e.getTemplate(o))||this;return c.closable=!0,c.config=o,c}return e.getTemplate=function(o){var c=o&&o.cssIdentifier||"default";return'<div class="ag-panel ag-'+c+`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`+c+`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`+c+`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`+c+`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`+c+`-panel-content-wrapper"></div>
        </div>`},e.prototype.postConstruct=function(){var o=this,c=this.config,h=c.component,g=c.closable,b=c.hideTitleBar,$=c.title,j=c.minWidth,rt=j===void 0?250:j,nt=c.width,ot=c.minHeight,_t=ot===void 0?250:ot,Et=c.height,It=c.centered,it=c.popup,st=c.x,Mt=c.y;this.positionableFeature=new PositionableFeature(this.getGui(),{minWidth:rt,width:nt,minHeight:_t,height:Et,centered:It,x:st,y:Mt,popup:it,calculateTopBuffer:function(){return o.positionableFeature.getHeight()-o.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var bt=this.getGui();h&&this.setBodyComponent(h),b?this.eTitleBar.classList.add("ag-hidden"):($&&this.setTitle($),this.setClosable(g??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Lt){var pt=o.gridOptionsWrapper.getDocument();if(bt.contains(Lt.relatedTarget)||bt.contains(pt.activeElement)||o.eTitleBarButtons.contains(Lt.target)){Lt.preventDefault();return}var Dt=o.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Dt&&Dt.focus()}),!(it&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var o=this,c=this.getGui();c.focus(),this.close=function(){c.parentElement.removeChild(c),o.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(o){this.positionableFeature.setHeight(o)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(o){this.positionableFeature.setWidth(o)},e.prototype.setClosable=function(o){if(o!==this.closable&&(this.closable=o),o){var c=this.closeButtonComp=new Component(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(c);var h=c.getGui(),g=createIconNoSpan("close",this.gridOptionsWrapper);g.classList.add("ag-panel-title-bar-button-icon"),h.appendChild(g),this.addTitleBarButton(c),c.addManagedListener(h,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var h=this.closeButtonComp.getGui();h.parentElement.removeChild(h),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(o){o.setParentComponent(this),this.eContentWrapper.appendChild(o.getGui())},e.prototype.addTitleBarButton=function(o,c){var h=this.eTitleBarButtons,g=h.children,b=g.length;c==null&&(c=b),c=Math.max(0,Math.min(c,b)),o.addCssClass("ag-panel-title-bar-button");var $=o.getGui();c===0?h.insertAdjacentElement("afterbegin",$):c===b?h.insertAdjacentElement("beforeend",$):g[c-1].insertAdjacentElement("afterend",$),o.setParentComponent(this)},e.prototype.getBodyHeight=function(){return getInnerHeight(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return getInnerWidth(this.eContentWrapper)},e.prototype.setTitle=function(o){this.eTitle.innerText=o},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var o=this.getGui();o&&o.offsetParent&&this.close(),a.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',__decorate$W([RefSelector("eContentWrapper")],e.prototype,"eContentWrapper",void 0),__decorate$W([RefSelector("eTitleBar")],e.prototype,"eTitleBar",void 0),__decorate$W([RefSelector("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),__decorate$W([RefSelector("eTitle")],e.prototype,"eTitle",void 0),__decorate$W([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$V=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$2$1=function(){return __assign$2$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$2$1.apply(this,arguments)},__decorate$V=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgDialog=function(a){__extends$V(e,a);function e(o){var c=a.call(this,__assign$2$1(__assign$2$1({},o),{popup:!0}))||this;return c.isMaximizable=!1,c.isMaximized=!1,c.maximizeListeners=[],c.resizeListenerDestroy=null,c.lastPosition={x:0,y:0,width:0,height:0},c}return e.prototype.postConstruct=function(){var o=this,c=this.getGui(),h=this.config,g=h.movable,b=h.resizable,$=h.maximizable;this.addCssClass("ag-dialog"),a.prototype.postConstruct.call(this),this.addManagedListener(c,"focusin",function(j){c.contains(j.relatedTarget)||o.popupService.bringPopupToFront(c)}),g&&this.setMovable(g),$&&this.setMaximizable($),b&&this.setResizable(b)},e.prototype.renderComponent=function(){var o=this.getGui(),c=this.config,h=c.alwaysOnTop,g=c.modal,b=c.title,$=this.gridOptionsWrapper.getLocaleTextFunc(),j=this.popupService.addPopup({modal:g,eChild:o,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:h,ariaLabel:b||$("ariaLabelDialog","Dialog")});j&&(this.close=j.hideFunc)},e.prototype.toggleMaximize=function(){var o=this.positionableFeature.getPosition();if(this.isMaximized){var c=this.lastPosition,h=c.x,g=c.y,b=c.width,$=c.height;this.setWidth(b),this.setHeight($),this.positionableFeature.offsetElement(h,g)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=o.x,this.lastPosition.y=o.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){setDisplayed(this.maximizeIcon,!this.isMaximized),setDisplayed(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(o){return o()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),a.prototype.destroy.call(this)},e.prototype.setResizable=function(o){this.positionableFeature.setResizable(o)},e.prototype.setMovable=function(o){this.positionableFeature.setMovable(o,this.eTitleBar)},e.prototype.setMaximizable=function(o){var c=this;if(!o){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var h=this.eTitleBar;if(!(!h||o===this.isMaximizable)){var g=this.maximizeButtonComp=this.createBean(new Component('<div class="ag-dialog-button"></span>')),b=g.getGui();b.appendChild(this.maximizeIcon=createIconNoSpan("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),b.appendChild(this.minimizeIcon=createIconNoSpan("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),g.addManagedListener(b,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(g,0),this.maximizeListeners.push(this.addManagedListener(h,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){c.isMaximized=!1,c.refreshMaximizeIcon()})}},__decorate$V([Autowired("popupService")],e.prototype,"popupService",void 0),e}(AgPanel);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$U=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),AgColorPicker=function(a){__extends$U(e,a);function e(o){var c=a.call(this,o,"ag-color-picker","colorPicker")||this;return o&&o.color&&(c.value=o.color),c}return e.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var o=this,c=this.getGui().getBoundingClientRect(),h=this.createBean(new AgDialog({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:c.right-190,y:c.top-250}));this.isPickerDisplayed=!0,h.addCssClass("ag-color-dialog"),setAriaExpanded(this.eWrapper,!0);var g=this.createBean(new AgColorPanel({picker:this}));return g.addDestroyFunc(function(){h.isAlive()&&o.destroyBean(h)}),h.setParentComponent(this),h.setBodyComponent(g),g.setValue(this.getValue()),h.addDestroyFunc(function(){o.isDestroyingPicker?o.isDestroyingPicker=!1:(o.isDestroyingPicker=!0,g.isAlive()&&o.destroyBean(g)),o.isAlive()&&(setAriaExpanded(o.eWrapper,!1),o.getFocusableElement().focus()),o.isPickerDisplayed=!1}),h},e.prototype.setValue=function(o){return this.value===o?this:(this.eDisplayField.style.backgroundColor=o,a.prototype.setValue.call(this,o))},e.prototype.getValue=function(){return this.value},e}(AgPickerField);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$T=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$U=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgGroupComponent=function(a){__extends$T(e,a);function e(o){o===void 0&&(o={});var c=a.call(this,e.getTemplate(o))||this;c.suppressEnabledCheckbox=!0,c.suppressOpenCloseIcons=!1;var h=o.title,g=o.enabled,b=o.items,$=o.suppressEnabledCheckbox,j=o.suppressOpenCloseIcons;return c.title=h,c.cssIdentifier=o.cssIdentifier||"default",c.enabled=g??!0,c.items=b||[],c.alignItems=o.alignItems||"center",$!=null&&(c.suppressEnabledCheckbox=$),j!=null&&(c.suppressOpenCloseIcons=j),c}return e.getTemplate=function(o){var c=o.cssIdentifier||"default",h=o.direction||"vertical";return'<div class="ag-group ag-'+c+`-group" role="presentation">
            <div class="ag-group-title-bar ag-`+c+`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`+c+`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`+c+`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`+c+`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`+c+`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`+h+" ag-"+c+`-group-container"></div>
        </div>`},e.prototype.postConstruct=function(){if(this.items.length){var o=this.items;this.items=[],this.addItems(o)}var c=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(c("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var o=this;this.eGroupClosedIcon.appendChild(createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return o.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(c){switch(c.key){case KeyCode.ENTER:case KeyCode.SPACE:c.preventDefault(),o.toggleGroupExpand();break;case KeyCode.RIGHT:case KeyCode.LEFT:c.preventDefault(),o.toggleGroupExpand(c.key===KeyCode.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||setAriaExpanded(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var o=!this.suppressOpenCloseIcons;setDisplayed(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),setDisplayed(this.eGroupOpenedIcon,o&&this.expanded),setDisplayed(this.eGroupClosedIcon,o&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(o){this.alignItems!==o&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=o;var c="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(c),this},e.prototype.toggleGroupExpand=function(o){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),setDisplayed(this.eContainer,!0),this):(o=o??!this.expanded,this.expanded===o?this:(this.expanded=o,this.refreshAriaStatus(),this.refreshChildDisplay(),setDisplayed(this.eContainer,o),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(o){var c=this;o.forEach(function(h){return c.addItem(h)})},e.prototype.addItem=function(o){var c=this.eContainer,h=o instanceof Component?o.getGui():o;h.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),c.appendChild(h),this.items.push(h)},e.prototype.hideItem=function(o,c){var h=this.items[c];h.classList.toggle("ag-hidden",o)},e.prototype.setTitle=function(o){return this.eTitle.innerText=o,this},e.prototype.addCssClassToTitleBar=function(o){this.eTitleBar.classList.add(o)},e.prototype.setEnabled=function(o,c){return this.enabled=o,this.refreshDisabledStyles(),this.toggleGroupExpand(o),c||this.cbGroupEnabled.setValue(o),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(o){var c=this;return this.cbGroupEnabled.onValueChange(function(h){c.setEnabled(h,!0),o(h)}),this},e.prototype.hideEnabledCheckbox=function(o){return this.suppressEnabledCheckbox=o,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(o){return this.suppressOpenCloseIcons=o,o&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",__decorate$U([RefSelector("eTitleBar")],e.prototype,"eTitleBar",void 0),__decorate$U([RefSelector("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$U([RefSelector("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$U([RefSelector("eToolbar")],e.prototype,"eToolbar",void 0),__decorate$U([RefSelector("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),__decorate$U([RefSelector("eTitle")],e.prototype,"eTitle",void 0),__decorate$U([RefSelector("eContainer")],e.prototype,"eContainer",void 0),__decorate$U([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$S=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$T=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},TabGuardCtrl=function(a){__extends$S(e,a);function e(o){var c=a.call(this)||this;c.skipTabGuardFocus=!1;var h=o.comp,g=o.eTopGuard,b=o.eBottomGuard,$=o.focusInnerElement,j=o.onFocusIn,rt=o.onFocusOut,nt=o.shouldStopEventPropagation,ot=o.onTabKeyDown,_t=o.handleKeyDown,Et=o.eFocusableElement;return c.comp=h,c.eTopGuard=g,c.eBottomGuard=b,c.providedFocusInnerElement=$,c.eFocusableElement=Et,c.providedFocusIn=j,c.providedFocusOut=rt,c.providedShouldStopEventPropagation=nt,c.providedOnTabKeyDown=ot,c.providedHandleKeyDown=_t,c}return e.prototype.postConstruct=function(){var o=this;this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:function(){return o.shouldStopEventPropagation()},onTabKeyDown:function(c){return o.onTabKeyDown(c)},handleKeyDown:function(c){return o.handleKeyDown(c)},onFocusIn:function(c){return o.onFocusIn(c)},onFocusOut:function(c){return o.onFocusOut(c)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(c){return o.addManagedListener(c,"focus",o.onFocus.bind(o))})},e.prototype.handleKeyDown=function(o){this.providedHandleKeyDown&&this.providedHandleKeyDown(o)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(o){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var c=o.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(c):this.focusInnerElement(c)},e.prototype.onFocusIn=function(o){this.providedFocusIn&&this.providedFocusIn(o)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(o){this.providedFocusOut&&this.providedFocusOut(o)||this.eFocusableElement.contains(o.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(o){var c=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(o);return}if(!o.defaultPrevented){var h=this.tabGuardsAreActive();h&&this.deactivateTabGuards();var g=this.getNextFocusableElement(o.shiftKey);h&&setTimeout(function(){return c.activateTabGuards()},0),g&&(g.focus(),o.preventDefault())}},e.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},e.prototype.focusInnerElement=function(o){o===void 0&&(o=!1);var c=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(c.splice(0,1),c.splice(c.length-1,1)),c.length&&c[o?c.length-1:0].focus()},e.prototype.getNextFocusableElement=function(o){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,o)},e.prototype.forceFocusOutOfContainer=function(o){o===void 0&&(o=!1);var c=o?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,c.focus()},__decorate$T([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$T([PostConstruct],e.prototype,"postConstruct",null),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$R=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__read$8=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$7=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$8(arguments[e]));return a},TabGuardComp$1=function(a){__extends$R(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(o){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var c=[this.eTopGuard,this.eBottomGuard],h={setTabIndex:function(g){c.forEach(function(b){return g!=null?b.setAttribute("tabIndex",g):b.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:h,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:o.onFocusIn,onFocusOut:o.onFocusOut,focusInnerElement:o.focusInnerElement,handleKeyDown:o.handleKeyDown,onTabKeyDown:o.onTabKeyDown,shouldStopEventPropagation:o.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(o){var c=document.createElement("div");return c.classList.add("ag-tab-guard","ag-tab-guard-"+o),setAriaRole(c,"presentation"),c},e.prototype.addTabGuards=function(o,c){this.eFocusableElement.insertAdjacentElement("afterbegin",o),this.eFocusableElement.insertAdjacentElement("beforeend",c)},e.prototype.removeAllChildrenExceptTabGuards=function(){var o=[this.eTopGuard,this.eBottomGuard];clearElement(this.getFocusableElement()),this.addTabGuards.apply(this,__spread$7(o))},e.prototype.forceFocusOutOfContainer=function(o){o===void 0&&(o=!1),this.tabGuardCtrl.forceFocusOutOfContainer(o)},e.prototype.appendChild=function(o,c){isNodeOrElement(o)||(o=o.getGui());var h=this.eBottomGuard;h?h.insertAdjacentElement("beforebegin",o):a.prototype.appendChild.call(this,o,c)},e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$Q=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$1$1=function(){return __assign$1$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$1$1.apply(this,arguments)},__decorate$S=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgMenuList=function(a){__extends$Q(e,a);function e(o){o===void 0&&(o=1);var c=a.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return c.level=o,c.menuItems=[],c}return e.prototype.postConstruct=function(){var o=this;this.initialiseTabGuard({onTabKeyDown:function(c){return o.onTabKeyDown(c)},handleKeyDown:function(c){return o.handleKeyDown(c)}})},e.prototype.onTabKeyDown=function(o){var c=this.getParentComponent(),h=c&&c.getGui(),g=h&&h.classList.contains("ag-focus-managed");g||o.preventDefault(),o.shiftKey&&this.closeIfIsChild(o)},e.prototype.handleKeyDown=function(o){switch(o.key){case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.DOWN:case KeyCode.LEFT:o.preventDefault(),this.handleNavKey(o.key);break;case KeyCode.ESCAPE:var c=this.findTopMenu();c&&this.focusService.focusInto(c.getGui());break}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(o){var c=this;o!=null&&o.forEach(function(h){h==="separator"?c.addSeparator():typeof h=="string"?console.warn("AG Grid: unrecognised menu item "+h):c.addItem(h)})},e.prototype.addItem=function(o){var c=this,h=this.createManagedBean(new AgMenuItemComponent(__assign$1$1(__assign$1$1({},o),{isAnotherSubMenuOpen:function(){return c.menuItems.some(function(g){return g.isSubMenuOpen()})}})));h.setParentComponent(this),setAriaLevel(h.getGui(),this.level),this.menuItems.push(h),this.appendChild(h.getGui()),this.addManagedListener(h,AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(g){c.dispatchEvent(g)}),this.addManagedListener(h,AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,function(g){c.activeMenuItem&&c.activeMenuItem!==g.menuItem&&c.activeMenuItem.deactivate(),c.activeMenuItem=g.menuItem})},e.prototype.activateFirstItem=function(){var o=this.menuItems.filter(function(c){return!c.isDisabled()})[0];o&&o.activate()},e.prototype.addSeparator=function(){var o=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(loadTemplate(o))},e.prototype.findTopMenu=function(){var o=this.getParentComponent();if(!o&&this instanceof e)return this;for(;;){var c=o&&o.getParentComponent&&o.getParentComponent();if(!c||!(c instanceof e||c instanceof AgMenuItemComponent))break;o=c}return o instanceof e?o:void 0},e.prototype.handleNavKey=function(o){switch(o){case KeyCode.UP:case KeyCode.DOWN:var c=this.findNextItem(o===KeyCode.UP);c&&c!==this.activeMenuItem&&c.activate();return}var h=this.gridOptionsWrapper.isEnableRtl()?KeyCode.RIGHT:KeyCode.LEFT;o===h?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(o){var c=this.getParentComponent();c&&c instanceof AgMenuItemComponent&&(o&&o.preventDefault(),c.closeSubMenu(),c.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(o){var c=this.menuItems.filter(function(j){return!j.isDisabled()});if(c.length){if(!this.activeMenuItem)return o?last(c):c[0];o&&c.reverse();for(var h,g=!1,b=0;b<c.length;b++){var $=c[b];if(!g){$===this.activeMenuItem&&(g=!0);continue}h=$;break}return h||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),a.prototype.destroy.call(this)},__decorate$S([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$S([PostConstruct],e.prototype,"postConstruct",null),e}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$P=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$R=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgMenuPanel=function(a){__extends$P(e,a);function e(o){var c=a.call(this)||this;return c.wrappedComponent=o,c.setTemplateFromElement(o.getGui()),c}return e.prototype.postConstruct=function(){var o=this;this.initialiseTabGuard({onTabKeyDown:function(c){return o.onTabKeyDown(c)},handleKeyDown:function(c){return o.handleKeyDown(c)}})},e.prototype.handleKeyDown=function(o){o.key===KeyCode.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(o){o.defaultPrevented||(this.closePanel(),o.preventDefault())},e.prototype.closePanel=function(){var o=this.parentComponent;o.closeSubMenu(),setTimeout(function(){return o.getGui().focus()},0)},__decorate$R([PostConstruct],e.prototype,"postConstruct",null),e}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$O=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$Q=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgMenuItemComponent=function(a){__extends$O(e,a);function e(o){var c=a.call(this)||this;return c.params=o,c.isActive=!1,c.subMenuIsOpen=!1,c.setTemplate('<div class="'+c.getClassName()+'" tabindex="-1" role="treeitem"></div>'),c}return e.prototype.init=function(){var o=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var c=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),setAriaDisabled(c,!0)):(this.addGuiEventListener("click",function(h){return o.onItemSelected(h)}),this.addGuiEventListener("keydown",function(h){(h.key===KeyCode.ENTER||h.key===KeyCode.SPACE)&&(h.preventDefault(),o.onItemSelected(h))}),this.addGuiEventListener("mousedown",function(h){h.stopPropagation(),h.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return o.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return o.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(h){return o.addCssClass(h)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(o){var c=this;if(o===void 0&&(o=!1),this.closeSubMenu(),!!this.params.subMenu){var h=loadTemplate('<div class="ag-menu" role="presentation"></div>'),g;if(this.params.subMenu instanceof Array){var b=getAriaLevel(this.getGui()),$=isNaN(b)?1:b+1,j=this.createBean(new AgMenuList($));j.setParentComponent(this),j.addMenuItems(this.params.subMenu),h.appendChild(j.getGui()),this.addManagedListener(j,e.EVENT_MENU_ITEM_SELECTED,function(bt){return c.dispatchEvent(bt)}),j.addGuiEventListener("mouseenter",function(){return c.cancelDeactivate()}),g=function(){return c.destroyBean(j)},o&&setTimeout(function(){return j.activateFirstItem()},0)}else{var rt=this.params.subMenu,nt=this.createBean(new AgMenuPanel(rt));nt.setParentComponent(this);var ot=nt.getGui(),_t="mouseenter",Et=function(){return c.cancelDeactivate()};ot.addEventListener(_t,Et),g=function(){return ot.removeEventListener(_t,Et)},h.appendChild(ot),rt.afterGuiAttached&&setTimeout(function(){return rt.afterGuiAttached()},0)}var It=this.getGui(),it=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:It,ePopup:h}),st=this.gridOptionsWrapper.getLocaleTextFunc(),Mt=this.popupService.addPopup({modal:!0,eChild:h,positionCallback:it,anchorToElement:It,ariaLabel:st("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,setAriaExpanded(It,!0),this.hideSubMenu=function(){Mt&&Mt.hideFunc(),c.subMenuIsOpen=!1,setAriaExpanded(It,!1),g()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,setAriaExpanded(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(o){var c=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),o&&this.params.subMenu&&window.setTimeout(function(){c.isAlive()&&c.isActive&&c.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var o=loadTemplate('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?o.appendChild(createIconNoSpan("check",this.gridOptionsWrapper)):this.params.icon&&(isNodeOrElement(this.params.icon)?o.appendChild(this.params.icon):typeof this.params.icon=="string"?o.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(o)}},e.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var o=loadTemplate('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(o)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new CustomTooltipFeature(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var o=loadTemplate('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(o)}},e.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var o=loadTemplate('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),c=this.getGui();if(this.params.subMenu){var h=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";setAriaExpanded(c,!1),o.appendChild(createIconNoSpan(h,this.gridOptionsWrapper))}c.appendChild(o)}},e.prototype.onItemSelected=function(o){if(this.params.action?this.params.action():this.openSubMenu(o&&o.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var c={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:o};this.dispatchEvent(c)}},e.prototype.onItemActivated=function(){var o={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(o)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var o=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return o.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var o=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return o.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(o){var c=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return o?c+"-"+o:c},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,__decorate$Q([Autowired("popupService")],e.prototype,"popupService",void 0),__decorate$Q([PostConstruct],e.prototype,"init",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$N=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$P=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$7=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$6=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$7(arguments[e]));return a},FocusService=function(a){__extends$N(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}o=e,e.addKeyboardModeEvents=function(c,h){var g=o.instancesMonitored.get(c);g&&g.length>0?g.indexOf(h)===-1&&g.push(h):(o.instancesMonitored.set(c,[h]),c.addEventListener("keydown",o.toggleKeyboardMode),c.addEventListener("mousedown",o.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(c,h){var g=o.instancesMonitored.get(c),b=[];g&&g.length&&(b=__spread$6(g).filter(function($){return $!==h}),o.instancesMonitored.set(c,b)),b.length===0&&(c.removeEventListener("keydown",o.toggleKeyboardMode),c.removeEventListener("mousedown",o.toggleKeyboardMode))},e.toggleKeyboardMode=function(c){var h=o.keyboardModeActive,g=c.type==="keydown";if(!(g&&(c.ctrlKey||c.metaKey||c.altKey))&&!(h&&g||!h&&!g)){o.keyboardModeActive=g;var b=c.target.ownerDocument;if(b){var $=o.instancesMonitored.get(b);$&&$.forEach(function(j){j.dispatchEvent({type:g?Events.EVENT_KEYBOARD_FOCUS:Events.EVENT_MOUSE_FOCUS})})}}},e.prototype.init=function(){var c=this,h=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,h),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,h),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,h),this.ctrlsService.whenReady(function(g){c.gridCtrl=g.gridCtrl;var b=c.gridOptionsWrapper.getDocument();o.addKeyboardModeEvents(b,c.gridCtrl),c.addDestroyFunc(function(){return c.unregisterGridCompController(c.gridCtrl)})})},e.prototype.unregisterGridCompController=function(c){var h=this.gridOptionsWrapper.getDocument();o.removeKeyboardModeEvents(h,c)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var c=this.focusedCellPosition.column,h=this.columnModel.getGridColumn(c.getId());c!==h&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return o.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var c=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(c.activeElement,RowCtrl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var c=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(c.activeElement,AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(c,h){for(var g=c;g;){var b=this.gridOptionsWrapper.getDomData(g,h);if(b)return!1;g=g.parentNode}return!0},e.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1,!1)},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.setFocusedCell=function(c){var h=c.column,g=c.rowIndex,b=c.rowPinned,$=c.forceBrowserFocus,j=$===void 0?!1:$,rt=c.preventScrollOnBrowserFocus,nt=rt===void 0?!1:rt,ot=this.columnModel.getGridColumn(h);if(!ot){this.focusedCellPosition=null;return}this.focusedCellPosition=ot?{rowIndex:g,rowPinned:makeNull(b),column:ot}:null,this.onCellFocused(j,nt)},e.prototype.isCellFocused=function(c){return this.focusedCellPosition==null?!1:this.focusedCellPosition.column===c.column&&this.isRowFocused(c.rowIndex,c.rowPinned)},e.prototype.isRowNodeFocused=function(c){return this.isRowFocused(c.rowIndex,c.rowPinned)},e.prototype.isHeaderWrapperFocused=function(c){if(this.focusedHeaderPosition==null)return!1;var h=c.getColumnGroupChild(),g=c.getRowIndex(),b=c.getPinned(),$=this.focusedHeaderPosition,j=$.column,rt=$.headerRowIndex;return h===j&&g===rt&&b==j.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(c,h){this.focusedHeaderPosition={headerRowIndex:c,column:h}},e.prototype.focusHeaderPosition=function(c){var h=c.direction,g=c.fromTab,b=c.allowUserOverride,$=c.event,j=c.headerPosition;if(b){var rt=this.gridOptionsWrapper,nt=this.getFocusedHeader(),ot=this.headerNavigationService.getHeaderRowCount();if(g){var _t=rt.getTabToNextHeaderFunc();if(_t){var Et={backwards:h==="Before",previousHeaderPosition:nt,nextHeaderPosition:j,headerRowCount:ot};j=_t(Et)}}else{var _t=rt.getNavigateToNextHeaderFunc();if(_t&&$){var It={key:$.key,previousHeaderPosition:nt,nextHeaderPosition:j,headerRowCount:ot,event:$};j=_t(It)}}}if(!j)return!1;if(j.headerRowIndex===-1)return this.focusGridView(j.column);this.headerNavigationService.scrollToColumn(j.column,h);var it=this.ctrlsService.getHeaderRowContainerCtrl(j.column.getPinned()),st=it.focusHeader(j.headerRowIndex,j.column,$);return st},e.prototype.focusFirstHeader=function(){var c=this.columnModel.getAllDisplayedColumns()[0];return c?(c.getParent()&&(c=this.columnModel.getColumnGroupAtLevel(c,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:c}})):!1},e.prototype.focusLastHeader=function(c){var h=this.headerNavigationService.getHeaderRowCount()-1,g=last(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:h,column:g},event:c})},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(c,h){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===c&&this.focusedCellPosition.rowPinned===makeNull(h)},e.prototype.findFocusableElements=function(c,h,g){g===void 0&&(g=!1);var b=Constants.FOCUSABLE_SELECTOR,$=Constants.FOCUSABLE_EXCLUDE;h&&($+=", "+h),g&&($+=', [tabindex="-1"]');var j=Array.prototype.slice.apply(c.querySelectorAll(b)),rt=Array.prototype.slice.apply(c.querySelectorAll($));if(!rt.length)return j;var nt=function(ot,_t){return ot.filter(function(Et){return _t.indexOf(Et)===-1})};return nt(j,rt)},e.prototype.focusInto=function(c,h,g){h===void 0&&(h=!1),g===void 0&&(g=!1);var b=this.findFocusableElements(c,null,g),$=h?last(b):b[0];return $?($.focus(),!0):!1},e.prototype.findNextFocusableElement=function(c,h,g){c===void 0&&(c=this.eGridDiv);var b=this.findFocusableElements(c,h?':not([tabindex="-1"])':null),$=this.gridOptionsWrapper.getDocument(),j=$.activeElement,rt;h?rt=b.findIndex(function(ot){return ot.contains(j)}):rt=b.indexOf(j);var nt=rt+(g?-1:1);return nt<0||nt>=b.length?null:b[nt]},e.prototype.isFocusUnderManagedComponent=function(c){var h=this.gridOptionsWrapper.getDocument(),g=c.querySelectorAll("."+ManagedFocusFeature.FOCUS_MANAGED_CLASS);if(!g.length)return!1;for(var b=0;b<g.length;b++)if(g[b].contains(h.activeElement))return!0;return!1},e.prototype.findTabbableParent=function(c,h){h===void 0&&(h=5);for(var g=0;c&&getTabIndex(c)===null&&++g<=h;)c=c.parentElement;return getTabIndex(c)===null?null:c},e.prototype.onCellFocused=function(c,h){var g={type:Events.EVENT_CELL_FOCUSED,forceBrowserFocus:c,preventScrollOnBrowserFocus:h,rowIndex:null,column:null,floating:null,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var b=g.rowIndex=this.focusedCellPosition.rowIndex,$=g.rowPinned=this.focusedCellPosition.rowPinned;g.column=this.focusedCellPosition.column;var j=this.rowRenderer.getRowByPosition({rowIndex:b,rowPinned:$});j&&(g.isFullWidthCell=j.isFullWidth())}this.eventService.dispatchEvent(g)},e.prototype.focusGridView=function(c,h){if(this.gridOptionsWrapper.isSuppressCellFocus())return h?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var g=h?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!g)return!1;var b=g.rowIndex,$=g.rowPinned,j=this.getFocusedHeader();if(!c&&j&&(c=j.column),b==null||!c)return!1;if(this.navigationService.ensureCellVisible({rowIndex:b,column:c,rowPinned:$}),this.setFocusedCell({rowIndex:b,column:c,rowPinned:makeNull($),forceBrowserFocus:!0}),this.rangeService){var rt={rowIndex:b,rowPinned:$,column:c};this.rangeService.setRangeToCell(rt)}return!0},e.prototype.focusNextGridCoreContainer=function(c){return this.gridCtrl.focusNextInnerContainer(c)?!0:(!c&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)};var o;return e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,__decorate$P([Autowired("eGridDiv")],e.prototype,"eGridDiv",void 0),__decorate$P([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$P([Autowired("headerNavigationService")],e.prototype,"headerNavigationService",void 0),__decorate$P([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$P([Autowired("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$P([Optional("rangeService")],e.prototype,"rangeService",void 0),__decorate$P([Autowired("navigationService")],e.prototype,"navigationService",void 0),__decorate$P([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$P([PostConstruct],e.prototype,"init",null),e=o=__decorate$P([Bean("focusService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$M=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$O=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$6=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$5=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$6(arguments[e]));return a},DIRECTION;(function(a){a[a.vertical=0]="vertical",a[a.horizontal=1]="horizontal"})(DIRECTION||(DIRECTION={}));var instanceIdSeq=0,PopupService=function(a){__extends$M(e,a);function e(){var c=a!==null&&a.apply(this,arguments)||this;return c.popupList=[],c}o=e,e.prototype.postConstruct=function(){var c=this;this.ctrlsService.whenReady(function(h){c.gridCtrl=h.gridCtrl,c.addManagedListener(c.gridCtrl,Events.EVENT_KEYBOARD_FOCUS,function(){c.popupList.forEach(function(g){return g.element.classList.add(FocusService.AG_KEYBOARD_FOCUS)})}),c.addManagedListener(c.gridCtrl,Events.EVENT_MOUSE_FOCUS,function(){c.popupList.forEach(function(g){return g.element.classList.remove(FocusService.AG_KEYBOARD_FOCUS)})})})},e.prototype.getPopupParent=function(){var c=this.gridOptionsWrapper.getPopupParent();return c||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(c){var h=c.eventSource.getBoundingClientRect(),g=this.getParentRect(),b=this.keepXYWithinBounds(c.ePopup,h.top-g.top,DIRECTION.vertical),$=c.ePopup.clientWidth>0?c.ePopup.clientWidth:200;c.ePopup.style.minWidth=$+"px";var j=g.right-g.left,rt=j-$,nt;this.gridOptionsWrapper.isEnableRtl()?(nt=_t(),nt<0&&(nt=ot()),nt>rt&&(nt=0)):(nt=ot(),nt>rt&&(nt=_t()),nt<0&&(nt=0)),c.ePopup.style.left=nt+"px",c.ePopup.style.top=b+"px";function ot(){return h.right-g.left-2}function _t(){return h.left-g.left-$}},e.prototype.positionPopupUnderMouseEvent=function(c){var h=c.ePopup,g=c.nudgeX,b=c.nudgeY,$=c.skipObserver,j=this.calculatePointerAlign(c.mouseEvent),rt=j.x,nt=j.y;this.positionPopup({ePopup:h,x:rt,y:nt,nudgeX:g,nudgeY:b,keepWithinBounds:!0,skipObserver:$}),this.callPostProcessPopup(c.type,c.ePopup,null,c.mouseEvent,c.column,c.rowNode)},e.prototype.calculatePointerAlign=function(c){var h=this.getParentRect();return{x:c.clientX-h.left,y:c.clientY-h.top}},e.prototype.positionPopupUnderComponent=function(c){var h=c.eventSource.getBoundingClientRect(),g=c.alignSide||"left",b=this.getParentRect(),$=h.left-b.left;g==="right"&&($-=c.ePopup.offsetWidth-h.width),this.positionPopup({ePopup:c.ePopup,nudgeX:c.nudgeX,nudgeY:c.nudgeY,x:$,y:h.top-b.top+h.height,keepWithinBounds:c.keepWithinBounds}),this.callPostProcessPopup(c.type,c.ePopup,c.eventSource,null,c.column,c.rowNode)},e.prototype.positionPopupOverComponent=function(c){var h=c.eventSource.getBoundingClientRect(),g=this.getParentRect();this.positionPopup({ePopup:c.ePopup,nudgeX:c.nudgeX,nudgeY:c.nudgeY,x:h.left-g.left,y:h.top-g.top,keepWithinBounds:c.keepWithinBounds}),this.callPostProcessPopup(c.type,c.ePopup,c.eventSource,null,c.column,c.rowNode)},e.prototype.callPostProcessPopup=function(c,h,g,b,$,j){var rt=this.gridOptionsWrapper.getPostProcessPopupFunc();if(rt){var nt={column:$,rowNode:j,ePopup:h,type:c,eventSource:g,mouseEvent:b};rt(nt)}},e.prototype.positionPopup=function(c){var h=this,g=c.x,b=c.y,$=c.ePopup,j=c.keepWithinBounds,rt=c.nudgeX,nt=c.nudgeY,ot=c.skipObserver,_t=g,Et=b;rt&&(_t+=rt),nt&&(Et+=nt);var It=function(){j&&(_t=h.keepXYWithinBounds($,_t,DIRECTION.horizontal),Et=h.keepXYWithinBounds($,Et,DIRECTION.vertical)),$.style.left=_t+"px",$.style.top=Et+"px"};if(It(),!ot){var it=this.resizeObserverService.observeResize($,It);setTimeout(function(){return it()},o.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(c){return c.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var c=this.gridOptionsWrapper.getDocument(),h=this.getPopupParent();h===c.body?h=c.documentElement:getComputedStyle(h).position==="static"&&(h=h.offsetParent);var g=getComputedStyle(h),b=h.getBoundingClientRect();return{top:b.top+parseFloat(g.borderTopWidth)||0,left:b.left+parseFloat(g.borderLeftWidth)||0,right:b.right+parseFloat(g.borderRightWidth)||0,bottom:b.bottom+parseFloat(g.borderBottomWidth)||0}},e.prototype.keepXYWithinBounds=function(c,h,g){var b=g===DIRECTION.vertical,$=b?"clientHeight":"clientWidth",j=b?"top":"left",rt=b?"offsetHeight":"offsetWidth",nt=b?"scrollTop":"scrollLeft",ot=this.gridOptionsWrapper.getDocument(),_t=ot.documentElement,Et=this.getPopupParent(),It=Et.getBoundingClientRect(),it=ot.documentElement.getBoundingClientRect(),st=Et===ot.body,Mt=c[rt],bt=b?getAbsoluteHeight:getAbsoluteWidth,Lt=st?bt(_t)+_t[nt]:Et[$];st&&(Lt-=Math.abs(it[j]-It[j]));var pt=Lt-Mt;return Math.min(Math.max(h,0),Math.abs(pt))},e.prototype.keepPopupPositionedRelativeTo=function(c){var h=this,g=this.getPopupParent(),b=g.getBoundingClientRect(),$=c.element.getBoundingClientRect(),j=b.top-$.top,rt=b.left-$.left,nt=j,ot=rt,_t=c.ePopup.style.top,Et=parseInt(_t.substring(0,_t.length-1),10),It=c.ePopup.style.left,it=parseInt(It.substring(0,It.length-1),10);return new AgPromise(function(st){h.getFrameworkOverrides().setInterval(function(){var Mt=g.getBoundingClientRect(),bt=c.element.getBoundingClientRect(),Lt=bt.top==0&&bt.left==0&&bt.height==0&&bt.width==0;if(Lt){c.hidePopup();return}var pt=Mt.top-bt.top;if(pt!=nt){var Dt=h.keepXYWithinBounds(c.ePopup,Et+j-pt,DIRECTION.vertical);c.ePopup.style.top=Dt+"px"}nt=pt;var wt=Mt.left-bt.left;if(wt!=ot){var Bt=h.keepXYWithinBounds(c.ePopup,it+rt-wt,DIRECTION.horizontal);c.ePopup.style.left=Bt+"px"}ot=wt},200).then(function(Mt){var bt=function(){Mt!=null&&window.clearInterval(Mt)};st(bt)})})},e.prototype.addPopup=function(c){var h,g=this,b=c.modal,$=c.eChild,j=c.closeOnEsc,rt=c.closedCallback,nt=c.click,ot=c.alwaysOnTop,_t=c.afterGuiAttached,Et=c.positionCallback,It=c.anchorToElement,it=c.ariaLabel,st=this.gridOptionsWrapper.getDocument(),Mt=new AgPromise(function(wr){return wr(function(){})});if(!st)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:Mt};var bt=this.popupList.findIndex(function(wr){return wr.element===$});if(bt!==-1){var Lt=this.popupList[bt];return{hideFunc:Lt.hideFunc,stopAnchoringPromise:Lt.stopAnchoringPromise}}var pt=this.getPopupParent();$.style.top==null&&($.style.top="0px"),$.style.left==null&&($.style.left="0px");var Dt=document.createElement("div"),wt=this.environment.getTheme().allThemes;wt.length&&(h=Dt.classList).add.apply(h,__spread$5(wt)),Dt.classList.add("ag-popup"),$.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),$.hasAttribute("role")||setAriaRole($,"dialog"),setAriaLabel($,it),this.focusService.isKeyboardMode()&&$.classList.add(FocusService.AG_KEYBOARD_FOCUS),Dt.appendChild($),pt.appendChild(Dt),ot?this.setAlwaysOnTop(Dt,!0):this.bringPopupToFront(Dt);var Bt=!1,jt=function(wr){if(Dt.contains(st.activeElement)){var yr=wr.key;yr===KeyCode.ESCAPE&&Cr({keyboardEvent:wr})}},hr=function(wr){return Cr({mouseEvent:wr})},gr=function(wr){return Cr({touchEvent:wr})},Cr=function(wr){wr===void 0&&(wr={});var yr=wr.mouseEvent,xr=wr.touchEvent,In=wr.keyboardEvent;g.isEventFromCurrentPopup({mouseEvent:yr,touchEvent:xr},$)||g.isEventSameChainAsOriginalEvent({originalMouseEvent:nt,mouseEvent:yr,touchEvent:xr})||Bt||(Bt=!0,pt.removeChild(Dt),st.removeEventListener("keydown",jt),st.removeEventListener("mousedown",hr),st.removeEventListener("touchstart",gr),st.removeEventListener("contextmenu",hr),g.eventService.removeEventListener(Events.EVENT_DRAG_STARTED,hr),rt&&rt(yr||xr||In),g.popupList=g.popupList.filter(function(rn){return rn.element!==$}),Mt&&Mt.then(function(rn){return rn&&rn()}))};return _t&&_t({hidePopup:Cr}),window.setTimeout(function(){j&&st.addEventListener("keydown",jt),b&&(st.addEventListener("mousedown",hr),g.eventService.addEventListener(Events.EVENT_DRAG_STARTED,hr),st.addEventListener("touchstart",gr),st.addEventListener("contextmenu",hr))},0),Et&&Et(),It&&(Mt=this.keepPopupPositionedRelativeTo({element:It,ePopup:$,hidePopup:Cr})),this.popupList.push({element:$,wrapper:Dt,hideFunc:Cr,stopAnchoringPromise:Mt,instanceId:instanceIdSeq++,isAnchored:!!It}),{hideFunc:Cr,stopAnchoringPromise:Mt}},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(c){return c.isAnchored})},e.prototype.isEventFromCurrentPopup=function(c,h){var g=c.mouseEvent,b=c.touchEvent,$=g||b;if(!$)return!1;var j=this.popupList.findIndex(function(ot){return ot.element===h});if(j===-1)return!1;for(var rt=j;rt<this.popupList.length;rt++){var nt=this.popupList[rt];if(isElementInEventPath(nt.element,$))return!0}return this.isElementWithinCustomPopup($.target)},e.prototype.isElementWithinCustomPopup=function(c){for(var h=this.gridOptionsWrapper.getDocument();c&&c!==h.body;){if(c.classList.contains("ag-custom-component-popup")||c.parentElement===null)return!0;c=c.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(c){var h=c.originalMouseEvent,g=c.mouseEvent,b=c.touchEvent,$=null;if(g?$=g:b&&($=b.touches[0]),$&&h){var j=g?g.screenX:0,rt=g?g.screenY:0,nt=Math.abs(h.screenX-j)<5,ot=Math.abs(h.screenY-rt)<5;if(nt&&ot)return!0}return!1},e.prototype.getWrapper=function(c){for(;!c.classList.contains("ag-popup")&&c.parentElement;)c=c.parentElement;return c.classList.contains("ag-popup")?c:null},e.prototype.setAlwaysOnTop=function(c,h){var g=this.getWrapper(c);g&&(g.classList.toggle("ag-always-on-top",!!h),h&&this.bringPopupToFront(g))},e.prototype.bringPopupToFront=function(c){var h=this.getPopupParent(),g=Array.prototype.slice.call(h.querySelectorAll(".ag-popup")),b=g.length,$=Array.prototype.slice.call(h.querySelectorAll(".ag-popup.ag-always-on-top")),j=$.length,rt=this.getWrapper(c);if(!(!rt||b<=1||!h.contains(c))){var nt=g.indexOf(rt),ot=rt.querySelectorAll("div"),_t=[];if(ot.forEach(function(st){st.scrollTop!==0&&_t.push([st,st.scrollTop])}),j){var Et=rt.classList.contains("ag-always-on-top");Et?nt!==b-1&&last($).insertAdjacentElement("afterend",rt):nt!==b-j-1&&$[0].insertAdjacentElement("beforebegin",rt)}else nt!==b-1&&last(g).insertAdjacentElement("afterend",rt);for(;_t.length;){var It=_t.pop();It[0].scrollTop=It[1]}var it={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:rt};this.eventService.dispatchEvent(it)}};var o;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,__decorate$O([Autowired("environment")],e.prototype,"environment",void 0),__decorate$O([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$O([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$O([Autowired("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$O([Autowired("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),__decorate$O([PostConstruct],e.prototype,"postConstruct",null),e=o=__decorate$O([Bean("popupService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$L=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$N=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},VirtualList=function(a){__extends$L(e,a);function e(o,c,h){o===void 0&&(o="default"),c===void 0&&(c="listbox");var g=a.call(this,e.getTemplate(o))||this;return g.cssIdentifier=o,g.ariaRole=c,g.listName=h,g.renderedRows=new Map,g.rowHeight=20,g}return e.prototype.postConstruct=function(){var o=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(c){return o.onFocusIn(c)},onFocusOut:function(c){return o.onFocusOut(c)},focusInnerElement:function(c){return o.focusInnerElement(c)},onTabKeyDown:function(c){return o.onTabKeyDown(c)},handleKeyDown:function(c){return o.handleKeyDown(c)}}),this.setAriaProperties()},e.prototype.setAriaProperties=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc(),c=o("ariaDefaultListName",this.listName||"List"),h=this.eContainer;setAriaRole(h,this.ariaRole),setAriaLabel(h,c)},e.prototype.addResizeObserver=function(){var o=this.drawVirtualRows.bind(this),c=this.resizeObserverService.observeResize(this.getGui(),o);this.addDestroyFunc(c)},e.prototype.focusInnerElement=function(o){this.focusRow(o?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(o){var c=o.target;return c.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=getAriaPosInSet(c)-1),!1},e.prototype.onFocusOut=function(o){return this.getFocusableElement().contains(o.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(o){switch(o.key){case KeyCode.UP:case KeyCode.DOWN:this.navigate(o.key===KeyCode.UP)&&o.preventDefault();break}},e.prototype.onTabKeyDown=function(o){this.navigate(o.shiftKey)?o.preventDefault():this.focusService.focusInto(this.getGui(),!o.shiftKey)},e.prototype.navigate=function(o){if(this.lastFocusedRowIndex==null)return!1;var c=this.lastFocusedRowIndex+(o?-1:1);return c<0||c>=this.model.getRowCount()?!1:(this.focusRow(c),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(o){var c=this;this.ensureIndexVisible(o),window.setTimeout(function(){if(c.isAlive()){var h=c.renderedRows.get(o);h&&h.eDiv.focus()}},10)},e.prototype.getComponentAt=function(o){var c=this.renderedRows.get(o);return c&&c.rowComponent},e.prototype.forEachRenderedRow=function(o){this.renderedRows.forEach(function(c,h){return o(c.rowComponent,h)})},e.getTemplate=function(o){return`
            <div class="ag-virtual-list-viewport ag-`+o+`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`+o+`-virtual-list-container" ref="eContainer"></div>
            </div>`},e.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},e.prototype.ensureIndexVisible=function(o){var c=this.model.getRowCount();if(typeof o!="number"||o<0||o>=c){console.warn("AG Grid: invalid row index for ensureIndexVisible: "+o);return}var h=o*this.rowHeight,g=h+this.rowHeight,b=this.getGui(),$=b.scrollTop,j=b.offsetHeight,rt=$+j,nt=$>h,ot=rt<g;if(nt)b.scrollTop=h;else if(ot){var _t=g-j;b.scrollTop=_t}},e.prototype.setComponentCreator=function(o){this.componentCreator=o},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(o){this.rowHeight=o,this.refresh()},e.prototype.refresh=function(){var o=this;if(!(this.model==null||!this.isAlive())){var c=this.model.getRowCount();this.eContainer.style.height=c*this.rowHeight+"px",waitUntil(function(){return o.eContainer.clientHeight>=c*o.rowHeight},function(){o.isAlive()&&(o.clearVirtualRows(),o.drawVirtualRows())})}},e.prototype.clearVirtualRows=function(){var o=this;this.renderedRows.forEach(function(c,h){return o.removeRow(h)})},e.prototype.drawVirtualRows=function(){if(this.isAlive()){var o=this.getGui(),c=o.scrollTop,h=c+o.offsetHeight,g=Math.floor(c/this.rowHeight),b=Math.floor(h/this.rowHeight);this.ensureRowsRendered(g,b)}},e.prototype.ensureRowsRendered=function(o,c){var h=this;this.renderedRows.forEach(function(b,$){($<o||$>c)&&$!==h.lastFocusedRowIndex&&h.removeRow($)});for(var g=o;g<=c;g++)this.renderedRows.has(g)||g<this.model.getRowCount()&&this.insertRow(g)},e.prototype.insertRow=function(o){var c=this,h=this.model.getRow(o),g=document.createElement("div");if(g.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),setAriaRole(g,this.ariaRole==="tree"?"treeitem":"option"),setAriaSetSize(g,this.model.getRowCount()),setAriaPosInSet(g,o+1),g.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){var b=this.model.isRowSelected(o);setAriaSelected(g,!!b),setAriaChecked(g,b)}g.style.height=this.rowHeight+"px",g.style.top=this.rowHeight*o+"px";var $=this.componentCreator(h,g);$.addGuiEventListener("focusin",function(){return c.lastFocusedRowIndex=o}),g.appendChild($.getGui()),this.renderedRows.has(o-1)?this.renderedRows.get(o-1).eDiv.insertAdjacentElement("afterend",g):this.renderedRows.has(o+1)?this.renderedRows.get(o+1).eDiv.insertAdjacentElement("beforebegin",g):this.eContainer.appendChild(g),this.renderedRows.set(o,{rowComponent:$,eDiv:g})},e.prototype.removeRow=function(o){var c=this.renderedRows.get(o);this.eContainer.removeChild(c.eDiv),this.destroyBean(c.rowComponent),this.renderedRows.delete(o)},e.prototype.addScrollListener=function(){var o=this;this.addGuiEventListener("scroll",function(){return o.drawVirtualRows()})},e.prototype.setModel=function(o){this.model=o},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),a.prototype.destroy.call(this))},__decorate$N([Autowired("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$N([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$N([RefSelector("eContainer")],e.prototype,"eContainer",void 0),__decorate$N([PostConstruct],e.prototype,"postConstruct",null),e}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var OUTSIDE_ANGULAR_EVENTS=["mouseover","mouseout","mouseenter","mouseleave"],PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel"],VanillaFrameworkOverrides=function(){function a(){this.isOutsideAngular=function(e){return includes(OUTSIDE_ANGULAR_EVENTS,e)}}return a.prototype.setTimeout=function(e,o){window.setTimeout(e,o)},a.prototype.setInterval=function(e,o){return new AgPromise(function(c){c(window.setInterval(e,o))})},a.prototype.addEventListener=function(e,o,c,h){var g=includes(PASSIVE_EVENTS,o);e.addEventListener(o,c,{capture:!!h,passive:g})},a.prototype.dispatchEvent=function(e,o,c){o()},a.prototype.frameworkComponent=function(e){return null},a.prototype.isFrameworkComponent=function(e){return!1},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$K=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$M=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$5=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$4=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$5(arguments[e]));return a},CellNavigationService=function(a){__extends$K(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(o,c,h){return h===void 0&&(h=!1),h?this.getNextCellToFocusWithCtrlPressed(o,c):this.getNextCellToFocusWithoutCtrlPressed(o,c)},e.prototype.getNextCellToFocusWithCtrlPressed=function(o,c){var h=o===KeyCode.UP,g=o===KeyCode.DOWN,b=o===KeyCode.LEFT,$,j;if(h||g)j=h?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),$=c.column;else{var rt=this.columnModel.getAllDisplayedColumns(),nt=this.gridOptionsWrapper.isEnableRtl();j=c.rowIndex,$=b!==nt?rt[0]:last(rt)}return{rowIndex:j,rowPinned:null,column:$}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(o,c){for(var h=c,g=!1;!g;){switch(o){case KeyCode.UP:h=this.getCellAbove(h);break;case KeyCode.DOWN:h=this.getCellBelow(h);break;case KeyCode.RIGHT:this.gridOptionsWrapper.isEnableRtl()?h=this.getCellToLeft(h):h=this.getCellToRight(h);break;case KeyCode.LEFT:this.gridOptionsWrapper.isEnableRtl()?h=this.getCellToRight(h):h=this.getCellToLeft(h);break;default:h=null,console.warn("AG Grid: unknown key for navigation "+o);break}h?g=this.isCellGoodToFocusOn(h):g=!0}return h},e.prototype.isCellGoodToFocusOn=function(o){var c=o.column,h;switch(o.rowPinned){case Constants.PINNED_TOP:h=this.pinnedRowModel.getPinnedTopRow(o.rowIndex);break;case Constants.PINNED_BOTTOM:h=this.pinnedRowModel.getPinnedBottomRow(o.rowIndex);break;default:h=this.rowModel.getRow(o.rowIndex);break}if(!h)return!1;var g=c.isSuppressNavigable(h);return!g},e.prototype.getCellToLeft=function(o){if(!o)return null;var c=this.columnModel.getDisplayedColBefore(o.column);return c?{rowIndex:o.rowIndex,column:c,rowPinned:o.rowPinned}:null},e.prototype.getCellToRight=function(o){if(!o)return null;var c=this.columnModel.getDisplayedColAfter(o.column);return c?{rowIndex:o.rowIndex,column:c,rowPinned:o.rowPinned}:null},e.prototype.getRowBelow=function(o){var c=o.rowIndex,h=o.rowPinned;if(this.isLastRowInContainer(o))switch(h){case Constants.PINNED_BOTTOM:return null;case Constants.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Constants.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Constants.PINNED_BOTTOM}:null}var g=this.rowModel.getRow(o.rowIndex),b=this.getNextStickyPosition(g);return b||{rowIndex:c+1,rowPinned:h}},e.prototype.getNextStickyPosition=function(o,c){if(!(!this.gridOptionsWrapper.isGroupRowsSticky()||!o||!o.sticky)){var h=__spread$4(this.rowRenderer.getStickyTopRowCtrls()).sort(function(j,rt){return j.getRowNode().rowIndex-rt.getRowNode().rowIndex}),g=c?-1:1,b=h.findIndex(function(j){return j.getRowNode().rowIndex===o.rowIndex}),$=h[b+g];if($)return{rowIndex:$.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(o){if(!o)return null;var c=this.getRowBelow(o);return c?{rowIndex:c.rowIndex,column:o.column,rowPinned:c.rowPinned}:null},e.prototype.isLastRowInContainer=function(o){var c=o.rowPinned,h=o.rowIndex;if(c===Constants.PINNED_TOP){var g=this.pinnedRowModel.getPinnedTopRowData().length-1;return g<=h}if(c===Constants.PINNED_BOTTOM){var b=this.pinnedRowModel.getPinnedBottomRowData().length-1;return b<=h}var $=this.paginationProxy.getPageLastRow();return $<=h},e.prototype.getRowAbove=function(o){var c=o.rowIndex,h=o.rowPinned,g=h?c===0:c===this.paginationProxy.getPageFirstRow();if(g)return h===Constants.PINNED_TOP?null:h?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)?this.getLastFloatingTopRow():null;var b=this.rowModel.getRow(o.rowIndex),$=this.getNextStickyPosition(b,!0);return $||{rowIndex:c-1,rowPinned:h}},e.prototype.getCellAbove=function(o){if(!o)return null;var c=this.getRowAbove({rowIndex:o.rowIndex,rowPinned:o.rowPinned});return c?{rowIndex:c.rowIndex,column:o.column,rowPinned:c.rowPinned}:null},e.prototype.getLastBodyCell=function(){var o=this.paginationProxy.getPageLastRow();return{rowIndex:o,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:o,rowPinned:Constants.PINNED_TOP}},e.prototype.getNextTabbedCell=function(o,c){return c?this.getNextTabbedCellBackwards(o):this.getNextTabbedCellForwards(o)},e.prototype.getNextTabbedCellForwards=function(o){var c=this.columnModel.getAllDisplayedColumns(),h=o.rowIndex,g=o.rowPinned,b=this.columnModel.getDisplayedColAfter(o.column);if(!b){b=c[0];var $=this.getRowBelow(o);if(missing($)||!$.rowPinned&&!this.paginationProxy.isRowInPage($))return null;h=$?$.rowIndex:null,g=$?$.rowPinned:null}return{rowIndex:h,column:b,rowPinned:g}},e.prototype.getNextTabbedCellBackwards=function(o){var c=this.columnModel.getAllDisplayedColumns(),h=o.rowIndex,g=o.rowPinned,b=this.columnModel.getDisplayedColBefore(o.column);if(!b){b=last(c);var $=this.getRowAbove({rowIndex:o.rowIndex,rowPinned:o.rowPinned});if(missing($)||!$.rowPinned&&!this.paginationProxy.isRowInPage($))return null;h=$?$.rowIndex:null,g=$?$.rowPinned:null}return{rowIndex:h,column:b,rowPinned:g}},__decorate$M([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$M([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$M([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$M([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$M([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),e=__decorate$M([Bean("cellNavigationService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$J=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$L=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$5=function(a,e){return function(o,c){e(o,c,a)}},AlignedGridsService=function(a){__extends$J(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.consuming=!1,o}return e.prototype.setBeans=function(o){this.logger=o.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(o){if(!this.consuming){var c=this.gridOptionsWrapper.getAlignedGrids();c&&c.forEach(function(h){if(h.api){var g=h.api.__getAlignedGridService();o(g)}})}},e.prototype.onEvent=function(o){this.consuming=!0,o(),this.consuming=!1},e.prototype.fireColumnEvent=function(o){this.fireEvent(function(c){c.onColumnEvent(o)})},e.prototype.fireScrollEvent=function(o){o.direction==="horizontal"&&this.fireEvent(function(c){c.onScrollEvent(o)})},e.prototype.onScrollEvent=function(o){var c=this;this.onEvent(function(){var h=c.ctrlsService.getGridBodyCtrl();h.getScrollFeature().setHorizontalScrollPosition(o.left)})},e.prototype.getMasterColumns=function(o){var c=[];return o.columns?o.columns.forEach(function(h){c.push(h)}):o.column&&c.push(o.column),c},e.prototype.getColumnIds=function(o){var c=[];return o.columns?o.columns.forEach(function(h){c.push(h.getColId())}):o.column&&c.push(o.column.getColId()),c},e.prototype.onColumnEvent=function(o){var c=this;this.onEvent(function(){switch(o.type){case Events.EVENT_COLUMN_MOVED:case Events.EVENT_COLUMN_VISIBLE:case Events.EVENT_COLUMN_PINNED:case Events.EVENT_COLUMN_RESIZED:var h=o;c.processColumnEvent(h);break;case Events.EVENT_COLUMN_GROUP_OPENED:var g=o;c.processGroupOpenedEvent(g);break;case Events.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(o){var c=o.columnGroup,h=null;if(c){var g=c.getGroupId();h=this.columnModel.getProvidedColumnGroup(g)}c&&!h||(this.logger.log("onColumnEvent-> processing "+o+" expanded = "+c.isExpanded()),this.columnModel.setColumnGroupOpened(h,c.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(o){var c=this,h,g=o.column,b=null;if(g&&(b=this.columnModel.getPrimaryColumn(g.getColId())),!(g&&!b)){var $=this.getMasterColumns(o);switch(o.type){case Events.EVENT_COLUMN_MOVED:{var j=o,rt=o.columnApi.getColumnState(),nt=rt.map(function(bt){return{colId:bt.colId}});this.columnModel.applyColumnState({state:nt,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+o.type+" toIndex = "+j.toIndex)}break;case Events.EVENT_COLUMN_VISIBLE:{var ot=o,rt=o.columnApi.getColumnState(),nt=rt.map(function(pt){return{colId:pt.colId,hide:pt.hide}});this.columnModel.applyColumnState({state:nt},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+o.type+" visible = "+ot.visible)}break;case Events.EVENT_COLUMN_PINNED:{var _t=o,rt=o.columnApi.getColumnState(),nt=rt.map(function(pt){return{colId:pt.colId,pinned:pt.pinned}});this.columnModel.applyColumnState({state:nt},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+o.type+" pinned = "+_t.pinned)}break;case Events.EVENT_COLUMN_RESIZED:var Et=o,It={};$.forEach(function(bt){c.logger.log("onColumnEvent-> processing "+o.type+" actualWidth = "+bt.getActualWidth()),It[bt.getId()]={key:bt.getColId(),newWidth:bt.getActualWidth()}}),(h=Et.flexColumns)===null||h===void 0||h.forEach(function(bt){It[bt.getId()]&&delete It[bt.getId()]}),this.columnModel.setColumnWidths(Object.values(It),!1,Et.finished,"alignedGridChanged");break}var it=this.ctrlsService.getGridBodyCtrl(),st=it.isVerticalScrollShowing(),Mt=this.gridOptionsWrapper.getAlignedGrids();Mt&&Mt.forEach(function(bt){bt.api&&bt.api.setAlwaysShowVerticalScroll(st)})}},__decorate$L([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$L([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$L([__param$5(0,Qualifier("loggerFactory"))],e.prototype,"setBeans",null),__decorate$L([PostConstruct],e.prototype,"init",null),e=__decorate$L([Bean("alignedGridsService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$I=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$K=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$4=function(a,e){return function(o,c){e(o,c,a)}},SelectionService=function(a){__extends$I(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setBeans=function(o){this.logger=o.create("selectionService"),this.reset()},e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Events.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.setLastSelectedNode=function(o){this.lastSelectedNode=o},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var o=[];return iterateObject(this.selectedNodes,function(c,h){h&&o.push(h)}),o},e.prototype.getSelectedRows=function(){var o=[];return iterateObject(this.selectedNodes,function(c,h){h&&h.data&&o.push(h.data)}),o},e.prototype.removeGroupsFromSelection=function(){var o=this;iterateObject(this.selectedNodes,function(c,h){h&&h.group&&(o.selectedNodes[h.id]=void 0)})},e.prototype.updateGroupsFromChildrenSelections=function(o){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE){var c=this.rowModel,h=c.getRootNode();o||(o=new ChangedPath(!0,h),o.setInactive()),o.forEachChangedNodeDepthFirst(function(g){if(g!==h){var b=g.calculateSelectedFromChildren();g.selectThisNode(b===null?!1:b)}})}},e.prototype.getNodeForIdIfSelected=function(o){return this.selectedNodes[o]},e.prototype.clearOtherNodes=function(o){var c=this,h={},g=0;return iterateObject(this.selectedNodes,function(b,$){if($&&$.id!==o.id){var j=c.selectedNodes[$.id];g+=j.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),c.groupSelectsChildren&&$.parent&&(h[$.parent.id]=$.parent)}}),iterateObject(h,function(b,$){var j=$.calculateSelectedFromChildren();$.selectThisNode(j===null?!1:j)}),g},e.prototype.onRowSelected=function(o){var c=o.node;this.groupSelectsChildren&&c.group||(c.isSelected()?this.selectedNodes[c.id]=c:this.selectedNodes[c.id]=void 0)},e.prototype.syncInRowNode=function(o,c){this.syncInOldRowNode(o,c),this.syncInNewRowNode(o)},e.prototype.syncInOldRowNode=function(o,c){var h=exists(c)&&o.id!==c.id;if(h&&c){var g=c.id,b=this.selectedNodes[g]==o;b&&(this.selectedNodes[c.id]=c)}},e.prototype.syncInNewRowNode=function(o){exists(this.selectedNodes[o.id])?(o.setSelectedInitialValue(!0),this.selectedNodes[o.id]=o):o.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!==Constants.ROW_MODEL_TYPE_CLIENT_SIDE){console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model");return}var o=this.rowModel,c=o.getTopLevelNodes();if(c===null){console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`");return}var h=[];function g(b){for(var $=0,j=b.length;$<j;$++){var rt=b[$];if(rt.isSelected())h.push(rt);else{var nt=rt;nt.group&&nt.children&&g(nt.children)}}}return g(c),h},e.prototype.setRowModel=function(o){this.rowModel=o},e.prototype.isEmpty=function(){var o=0;return iterateObject(this.selectedNodes,function(c,h){h&&o++}),o===0},e.prototype.deselectAllRowNodes=function(o){o===void 0&&(o=!1);var c=function($){return $.selectThisNode(!1)},h=this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE;if(o){if(!h){console.error("AG Grid: selecting just filtered only works with In Memory Row Model");return}var g=this.rowModel;g.forEachNodeAfterFilter(c)}else iterateObject(this.selectedNodes,function($,j){j&&c(j)}),this.reset();h&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var b={type:Events.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(b)},e.prototype.selectAllRowNodes=function(o){if(o===void 0&&(o=!1),this.rowModel.getType()!==Constants.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var c=this.rowModel,h=function(b){return b.selectThisNode(!0)};o?c.forEachNodeAfterFilter(h):c.forEachNode(h),this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var g={type:Events.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(g)},e.prototype.selectNode=function(o,c){o&&o.setSelectedParams({newValue:!0,clearSelection:!c})},e.prototype.deselectIndex=function(o){var c=this.rowModel.getRow(o);this.deselectNode(c)},e.prototype.deselectNode=function(o){o&&o.setSelectedParams({newValue:!1,clearSelection:!1})},e.prototype.selectIndex=function(o,c){var h=this.rowModel.getRow(o);this.selectNode(h,c)},__decorate$K([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$K([__param$4(0,Qualifier("loggerFactory"))],e.prototype,"setBeans",null),__decorate$K([PostConstruct],e.prototype,"init",null),e=__decorate$K([Bean("selectionService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$J=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ColumnApi=function(){function a(){}return a.prototype.sizeColumnsToFit=function(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},a.prototype.setColumnGroupOpened=function(e,o){this.columnModel.setColumnGroupOpened(e,o,"api")},a.prototype.getColumnGroup=function(e,o){return this.columnModel.getColumnGroup(e,o)},a.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},a.prototype.getDisplayNameForColumn=function(e,o){return this.columnModel.getDisplayNameForColumn(e,o)||""},a.prototype.getDisplayNameForColumnGroup=function(e,o){return this.columnModel.getDisplayNameForColumnGroup(e,o)||""},a.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},a.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},a.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},a.prototype.getColumnState=function(){return this.columnModel.getColumnState()},a.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},a.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},a.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},a.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},a.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},a.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},a.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},a.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},a.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},a.prototype.setColumnVisible=function(e,o){this.columnModel.setColumnVisible(e,o,"api")},a.prototype.setColumnsVisible=function(e,o){this.columnModel.setColumnsVisible(e,o,"api")},a.prototype.setColumnPinned=function(e,o){this.columnModel.setColumnPinned(e,o,"api")},a.prototype.setColumnsPinned=function(e,o){this.columnModel.setColumnsPinned(e,o,"api")},a.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},a.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},a.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},a.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},a.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},a.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},a.prototype.moveColumn=function(e,o){typeof e=="number"?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(e,o,"api")):this.columnModel.moveColumn(e,o,"api")},a.prototype.moveColumnByIndex=function(e,o){this.columnModel.moveColumnByIndex(e,o,"api")},a.prototype.moveColumns=function(e,o){this.columnModel.moveColumns(e,o,"api")},a.prototype.moveRowGroupColumn=function(e,o){this.columnModel.moveRowGroupColumn(e,o)},a.prototype.setColumnAggFunc=function(e,o){this.columnModel.setColumnAggFunc(e,o)},a.prototype.setColumnWidth=function(e,o,c,h){c===void 0&&(c=!0),this.columnModel.setColumnWidths([{key:e,newWidth:o}],!1,c,h)},a.prototype.setColumnWidths=function(e,o,c){o===void 0&&(o=!0),this.columnModel.setColumnWidths(e,!1,o,c)},a.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},a.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},a.prototype.getSecondaryPivotColumn=function(e,o){return console.warn("AG Grid: since version 28.0.x getSecondaryPivotColumn has been renamed, please use getPivotResultColumn instead"),this.getPivotResultColumn(e,o)},a.prototype.getPivotResultColumn=function(e,o){return this.columnModel.getSecondaryPivotColumn(e,o)},a.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},a.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},a.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},a.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},a.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},a.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},a.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},a.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},a.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},a.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},a.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},a.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},a.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},a.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},a.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},a.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},a.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},a.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},a.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},a.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},a.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},a.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},a.prototype.autoSizeColumn=function(e,o){return this.columnModel.autoSizeColumn(e,o,"api")},a.prototype.autoSizeColumns=function(e,o){this.columnModel.autoSizeColumns({columns:e,skipHeader:o})},a.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},a.prototype.setSecondaryColumns=function(e){console.warn("AG Grid: since version 28.0.x setSecondaryColumns has been renamed, please use setPivotResultColumns instead"),this.setPivotResultColumns(e)},a.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},a.prototype.getSecondaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getSecondaryColumns has been renamed, please use getPivotResultColumns instead"),this.getPivotResultColumns()},a.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},a.prototype.getPrimaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getPrimaryColumns has been renamed, please use getColumns instead"),this.getColumns()},a.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(_.removeAllReferences.bind(window,this,"Column API"),100)},a.prototype.getAllColumns=function(){return console.warn("AG Grid: since version 28.0.x getAllColumns has been renamed, please use getColumns instead"),this.getColumns()},a.prototype.columnGroupOpened=function(e,o){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,o)},a.prototype.hideColumns=function(e,o){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(e,!o,"api")},a.prototype.hideColumn=function(e,o){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(e,!o,"api")},a.prototype.setState=function(e){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},a.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},a.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},a.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},a.prototype.removeAggregationColumn=function(e){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(e,"api")},a.prototype.removeAggregationColumns=function(e){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(e,"api")},a.prototype.addAggregationColumn=function(e){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(e,"api")},a.prototype.addAggregationColumns=function(e){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(e,"api")},a.prototype.setColumnAggFunction=function(e,o){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(e,o,"api")},a.prototype.getDisplayNameForCol=function(e){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},a.prototype.setColumnState=function(e){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:e,applyOrder:!0},"api")},a.prototype.getOriginalColumnGroup=function(e){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(e)},__decorate$J([Autowired("columnModel")],a.prototype,"columnModel",void 0),__decorate$J([PreDestroy],a.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),a=__decorate$J([Bean("columnApi")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$H=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$I=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ValueService=function(a){__extends$H(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.initialised=!1,o}return e.prototype.init=function(){var o=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(Events.EVENT_CELL_VALUE_CHANGED,function(c){return o.callColumnCellValueChangedHandler(c)},this.gridOptionsWrapper.useAsyncEvents())},e.prototype.getValue=function(o,c,h,g){if(h===void 0&&(h=!1),g===void 0&&(g=!1),this.initialised||this.init(),!!c){var b=o.getColDef(),$=b.field,j=o.getId(),rt=c.data,nt,ot=c.groupData&&c.groupData[j]!==void 0,_t=!g&&c.aggData&&c.aggData[j]!==void 0;if(h&&b.filterValueGetter?nt=this.executeFilterValueGetter(b.filterValueGetter,rt,o,c):this.gridOptionsWrapper.isTreeData()&&_t?nt=c.aggData[j]:this.gridOptionsWrapper.isTreeData()&&b.valueGetter?nt=this.executeValueGetter(b.valueGetter,rt,o,c):this.gridOptionsWrapper.isTreeData()&&$&&rt?nt=getValueUsingField(rt,$,o.isFieldContainsDots()):ot?nt=c.groupData[j]:_t?nt=c.aggData[j]:b.valueGetter?nt=this.executeValueGetter(b.valueGetter,rt,o,c):$&&rt&&(nt=getValueUsingField(rt,$,o.isFieldContainsDots())),this.cellExpressions&&typeof nt=="string"&&nt.indexOf("=")===0){var Et=nt.substring(1);nt=this.executeValueGetter(Et,rt,o,c)}if(nt==null){var It=this.getOpenedGroup(c,o);if(It!=null)return It}return nt}},e.prototype.getOpenedGroup=function(o,c){if(this.gridOptionsWrapper.isShowOpenedGroup()){var h=c.getColDef();if(h.showRowGroup)for(var g=c.getColDef().showRowGroup,b=o.parent;b!=null;){if(b.rowGroupColumn&&(g===!0||g===b.rowGroupColumn.getId()))return b.key;b=b.parent}}},e.prototype.setValue=function(o,c,h,g){var b=this.columnModel.getPrimaryColumn(c);if(!o||!b)return!1;missing(o.data)&&(o.data={});var $=b.getColDef(),j=$.field,rt=$.newValueHandler,nt=$.valueSetter;if(missing(j)&&missing(rt)&&missing(nt))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var ot={node:o,data:o.data,oldValue:this.getValue(b,o),newValue:h,colDef:b.getColDef(),column:b,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};ot.newValue=h;var _t;if(rt&&exists(rt)?_t=rt(ot):exists(nt)?_t=this.expressionService.evaluate(nt,ot):_t=this.setValueUsingField(o.data,j,h,b.isFieldContainsDots()),_t===void 0&&(_t=!0),!_t)return!1;o.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),ot.newValue=this.getValue(b,o);var Et={type:Events.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:ot.column,api:ot.api,columnApi:ot.columnApi,colDef:ot.colDef,context:ot.context,data:o.data,node:o,oldValue:ot.oldValue,newValue:ot.newValue,value:ot.newValue,source:g};return this.eventService.dispatchEvent(Et),!0},e.prototype.callColumnCellValueChangedHandler=function(o){var c=o.colDef.onCellValueChanged;typeof c=="function"&&c({node:o.node,data:o.data,oldValue:o.oldValue,newValue:o.newValue,colDef:o.colDef,column:o.column,api:o.api,columnApi:o.columnApi,context:o.context})},e.prototype.setValueUsingField=function(o,c,h,g){if(!c)return!1;var b=!1;if(!g)b=o[c]==h,b||(o[c]=h);else for(var $=c.split("."),j=o;$.length>0&&j;){var rt=$.shift();$.length===0?(b=j[rt]==h,b||(j[rt]=h)):j=j[rt]}return!b},e.prototype.executeFilterValueGetter=function(o,c,h,g){var b={data:c,node:g,column:h,colDef:h.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,g)};return this.expressionService.evaluate(o,b)},e.prototype.executeValueGetter=function(o,c,h,g){var b=h.getId(),$=this.valueCache.getValue(g,b);if($!==void 0)return $;var j={data:c,node:g,column:h,colDef:h.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,g)},rt=this.expressionService.evaluate(o,j);return this.valueCache.setValue(g,b,rt),rt},e.prototype.getValueCallback=function(o,c){var h=this.columnModel.getPrimaryColumn(c);return h?this.getValue(h,o):null},e.prototype.getKeyForNode=function(o,c){var h=this.getValue(o,c),g=o.getColDef().keyCreator,b=h;if(g){var $={value:h,colDef:o.getColDef(),column:o,node:c,data:c.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};b=g($)}return typeof b=="string"||b==null||(b=String(b),b==="[object Object]"&&doOnce(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),b},__decorate$I([Autowired("expressionService")],e.prototype,"expressionService",void 0),__decorate$I([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$I([Autowired("valueCache")],e.prototype,"valueCache",void 0),__decorate$I([PostConstruct],e.prototype,"init",null),e=__decorate$I([Bean("valueService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$G=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$H=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$3=function(a,e){return function(o,c){e(o,c,a)}},ExpressionService=function(a){__extends$G(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.expressionToFunctionCache={},o}return e.prototype.setBeans=function(o){this.logger=o.create("ExpressionService")},e.prototype.evaluate=function(o,c){if(typeof o=="function"){var h=o;return h(c)}else if(typeof o=="string"){var g=o;return this.evaluateExpression(g,c)}else console.error("AG Grid: value should be either a string or a function",o)},e.prototype.evaluateExpression=function(o,c){try{var h=this.createExpressionFunction(o),g=h(c.value,c.context,c.oldValue,c.newValue,c.value,c.node,c.data,c.colDef,c.rowIndex,c.api,c.columnApi,c.getValue,c.column,c.columnGroup);return g}catch(b){return console.log("Processing of the expression failed"),console.log("Expression = "+o),console.log("Params =",c),console.log("Exception = "+b),null}},e.prototype.createExpressionFunction=function(o){if(this.expressionToFunctionCache[o])return this.expressionToFunctionCache[o];var c=this.createFunctionBody(o),h=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",c);return this.expressionToFunctionCache[o]=h,h},e.prototype.createFunctionBody=function(o){return o.indexOf("return")>=0?o:"return "+o+";"},__decorate$H([__param$3(0,Qualifier("loggerFactory"))],e.prototype,"setBeans",null),e=__decorate$H([Bean("expressionService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$F=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$G=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},TemplateService=function(a){__extends$F(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.templateCache={},o.waitingCallbacks={},o}return e.prototype.getTemplate=function(o,c){var h=this.templateCache[o];if(h)return h;var g=this.waitingCallbacks[o],b=this;if(!g){g=[],this.waitingCallbacks[o]=g;var $=new XMLHttpRequest;$.onload=function(){b.handleHttpResult(this,o)},$.open("GET",o),$.send()}return c&&g.push(c),null},e.prototype.handleHttpResult=function(o,c){if(o.status!==200||o.response===null){console.warn("AG Grid: Unable to get template error "+o.status+" - "+c);return}this.templateCache[c]=o.response||o.responseText;for(var h=this.waitingCallbacks[c],g=0;g<h.length;g++){var b=h[g];b()}},e=__decorate$G([Bean("templateService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$E=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$F=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$2=function(a,e){return function(o,c){e(o,c,a)}},LoggerFactory=function(a){__extends$E(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setBeans=function(o){this.logging=o.isDebug()},e.prototype.create=function(o){return new Logger(o,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},__decorate$F([__param$2(0,Qualifier("gridOptionsWrapper"))],e.prototype,"setBeans",null),e=__decorate$F([Bean("loggerFactory")],e),e}(BeanStub),Logger=function(){function a(e,o){this.name=e,this.isLoggingFunc=o}return a.prototype.isLogging=function(){return this.isLoggingFunc()},a.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$D=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$E=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GridCtrl=function(a){__extends$D(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setComp=function(o,c,h){var g=this;this.view=o,this.eGridHostDiv=c,this.eGui=h,this.dragAndDropService.addDropTarget({getContainer:function(){return g.eGui},isInterestedIn:function($){return $===DragSourceType.HeaderCell||$===DragSourceType.ToolPanel},getIconName:function(){return DragAndDropService.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(c),this.createManagedBean(new LayoutFeature(this.view)),this.addRtlSupport(),this.addManagedListener(this,Events.EVENT_KEYBOARD_FOCUS,function(){g.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,Events.EVENT_MOUSE_FOCUS,function(){g.view.addOrRemoveKeyboardFocusClass(!1)});var b=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return b()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var o,c,h=this.focusService.findTabbableParent(this.getGui());return((c=(o=h)===null||o===void 0?void 0:o.getAttribute("row-id"))===null||c===void 0?void 0:c.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return ModuleRegistry.isRegistered(ModuleNames.RowGroupingModule)},e.prototype.showSideBar=function(){return ModuleRegistry.isRegistered(ModuleNames.SideBarModule)},e.prototype.showStatusBar=function(){return ModuleRegistry.isRegistered(ModuleNames.StatusBarModule)},e.prototype.showWatermark=function(){return ModuleRegistry.isRegistered(ModuleNames.EnterpriseCoreModule)},e.prototype.onGridSizeChanged=function(){var o={type:Events.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(o)},e.prototype.addRtlSupport=function(){var o=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(o)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(o){this.view.setCursor(o?"ew-resize":null)},e.prototype.disableUserSelect=function(o){this.view.setUserSelect(o?"none":null)},e.prototype.focusNextInnerContainer=function(o){var c=this.gridOptionsWrapper.getDocument(),h=this.view.getFocusableContainers(),g=h.findIndex(function($){return $.contains(c.activeElement)}),b=g+(o?-1:1);return b<=0||b>=h.length?!1:this.focusService.focusInto(h[b])},e.prototype.focusInnerElement=function(o){var c=this.view.getFocusableContainers();if(o){if(c.length>1)return this.focusService.focusInto(last(c),!0);var h=last(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(h,!0))return!0}return this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(o){o===void 0&&(o=!1),this.view.forceFocusOutOfContainer(o)},__decorate$E([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$E([Autowired("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$E([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$E([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$E([Autowired("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$E([Autowired("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$C=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$D=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},GridComp$1=function(a){__extends$C(e,a);function e(o){var c=a.call(this,void 0)||this;return c.eGridDiv=o,c}return e.prototype.postConstruct=function(){var o=this;this.logger=this.loggerFactory.create("GridComp");var c={destroyGridUi:function(){return o.destroyBean(o)},setRtlClass:function(g){return o.addCssClass(g)},addOrRemoveKeyboardFocusClass:function(g){return o.addOrRemoveCssClass(FocusService.AG_KEYBOARD_FOCUS,g)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(g){o.getGui().style.userSelect=g??"",o.getGui().style.webkitUserSelect=g??""},setCursor:function(g){o.getGui().style.cursor=g??""}};this.ctrl=this.createManagedBean(new GridCtrl);var h=this.createTemplate();this.setTemplate(h),this.ctrl.setComp(c,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(g){return o.ctrl.focusInnerElement(g)}})},e.prototype.insertGridIntoDom=function(){var o=this,c=this.getGui();this.eGridDiv.appendChild(c),this.addDestroyFunc(function(){o.eGridDiv.removeChild(c),o.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(o,c){var h=this.eRootWrapperBody.classList;h.toggle(LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),h.toggle(LayoutCssClasses.NORMAL,c.normal),h.toggle(LayoutCssClasses.PRINT,c.print),this.addOrRemoveCssClass(LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),this.addOrRemoveCssClass(LayoutCssClasses.NORMAL,c.normal),this.addOrRemoveCssClass(LayoutCssClasses.PRINT,c.print)},e.prototype.createTemplate=function(){var o=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",c=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",h=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",g=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",b=`<div class="ag-root-wrapper" role="presentation">
                `+o+`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `+c+`
                </div>
                `+h+`
                <ag-pagination></ag-pagination>
                `+g+`
            </div>`;return b},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var o=[this.gridBodyComp.getGui()];return this.sideBarComp&&o.push(this.sideBarComp.getGui()),o.filter(function(c){return isVisible(c)})},__decorate$D([Autowired("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$D([RefSelector("gridBody")],e.prototype,"gridBodyComp",void 0),__decorate$D([RefSelector("sideBar")],e.prototype,"sideBarComp",void 0),__decorate$D([RefSelector("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),__decorate$D([PostConstruct],e.prototype,"postConstruct",null),e}(TabGuardComp$1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$B=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$C=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$4=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$3=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$4(arguments[e]));return a},SortController=function(a){__extends$B(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}o=e,e.prototype.progressSort=function(c,h,g){var b=this.getNextSortDirection(c);this.setSortForColumn(c,b,h,g)},e.prototype.setSortForColumn=function(c,h,g,b){var $;h!==Constants.SORT_ASC&&h!==Constants.SORT_DESC&&(h=null);var j=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),rt=[c];if(j&&c.getColDef().showRowGroup){var nt=this.columnModel.getSourceColumnsForGroupColumn(c),ot=($=nt)===null||$===void 0?void 0:$.filter(function(Et){return Et.getColDef().sortable});ot&&(rt=__spread$3([c],ot))}rt.forEach(function(Et){return Et.setSort(h,b)});var _t=(g||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort();_t||this.clearSortBarTheseColumns(rt,b),this.updateSortIndex(c),this.dispatchSortChangedEvents(b)},e.prototype.updateSortIndex=function(c){var h=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),g=this.columnModel.getGroupDisplayColumnForGroup(c.getId()),b=h&&g||c,$=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(nt){return nt.setSortIndex(null)});var j=$.filter(function(nt){return nt!==b}),rt=b.getSort()?__spread$3(j,[b]):j;rt.forEach(function(nt,ot){return nt.setSortIndex(ot)})},e.prototype.onSortChanged=function(c){this.dispatchSortChangedEvents(c)},e.prototype.isSortActive=function(){var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),h=c.filter(function(g){return!!g.getSort()});return h&&h.length>0},e.prototype.dispatchSortChangedEvents=function(c){var h={type:Events.EVENT_SORT_CHANGED,source:c};this.eventService.dispatchEvent(h)},e.prototype.clearSortBarTheseColumns=function(c,h){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(g){c.includes(g)||g.setSort(void 0,h)})},e.prototype.getNextSortDirection=function(c){var h;if(c.getColDef().sortingOrder?h=c.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?h=this.gridOptionsWrapper.getSortingOrder():h=o.DEFAULT_SORTING_ORDER,!Array.isArray(h)||h.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+h),null;var g=h.indexOf(c.getSort()),b=g<0,$=g==h.length-1,j;return b||$?j=h[0]:j=h[g+1],o.DEFAULT_SORTING_ORDER.indexOf(j)<0?(console.warn("AG Grid: invalid sort type "+j),null):j},e.prototype.getColumnsOrderedForSort=function(){var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),h={};return c.forEach(function(g,b){return h[g.getId()]=b}),c.sort(function(g,b){var $=g.getSortIndex(),j=b.getSortIndex();if($!=null&&j!=null)return $-j;if($==null&&j==null){var rt=h[g.getId()],nt=h[b.getId()];return rt>nt?1:-1}else return j==null?-1:1}),c},e.prototype.getIndexableColumnsOrdered=function(){var c=this;return this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(h){var g;if(h.getColDef().showRowGroup){if(h.getColDef().field&&h.getSort())return!0;var b=c.columnModel.getSourceColumnsForGroupColumn(h);return(g=b)===null||g===void 0?void 0:g.some(function($){return!!$.getSort()})}return!!h.getSort()}):this.getColumnsWithSortingOrdered()},e.prototype.getColumnsWithSortingOrdered=function(){var c=this.getColumnsOrderedForSort();return c.filter(function(h){return!!h.getSort()})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(c){return{sort:c.getSort(),colId:c.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(c){return{sort:c.getSort(),column:c}})},e.prototype.canColumnDisplayMixedSort=function(c){var h=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),g=!!c.getColDef().showRowGroup;return h&&g},e.prototype.getDisplaySortForColumn=function(c){var h,g=this.columnModel.getSourceColumnsForGroupColumn(c);if(!this.canColumnDisplayMixedSort(c)||!(!((h=g)===null||h===void 0)&&h.length))return c.getSort();var b=!!c.getColDef().field,$=b?__spread$3([c],g):g,j=$[0].getSort(),rt=$.every(function(nt){return nt.getSort()==j});return rt?j:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(c){var h=this,g=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();if(!g)return this.getColumnsWithSortingOrdered().indexOf(c);var b=this.columnModel.getGroupDisplayColumnForGroup(c.getId());if(b)return c.getSort()?this.getDisplaySortIndexForColumn(b):null;var $=this.getIndexableColumnsOrdered().filter(function(j){return!h.columnModel.getGroupDisplayColumnForGroup(j.getId())});return $.indexOf(c)};var o;return e.DEFAULT_SORTING_ORDER=[Constants.SORT_ASC,Constants.SORT_DESC,null],__decorate$C([Autowired("columnModel")],e.prototype,"columnModel",void 0),e=o=__decorate$C([Bean("sortController")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$A=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$B=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ColumnHoverService=function(a){__extends$A(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setMouseOver=function(o){this.selectedColumns=o;var c={type:Events.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(c)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var o={type:Events.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(o)},e.prototype.isHovered=function(o){return!!this.selectedColumns&&this.selectedColumns.indexOf(o)>=0},e=__decorate$B([Bean("columnHoverService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$z=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$A=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ColumnAnimationService=function(a){__extends$z(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.executeNextFuncs=[],o.executeLaterFuncs=[],o.active=!1,o.animationThreadCount=0,o}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(c){return o.gridBodyCtrl=c.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(o){this.active?this.executeNextFuncs.push(o):o()},e.prototype.executeLaterVMTurn=function(o){this.active?this.executeLaterFuncs.push(o):o()},e.prototype.ensureAnimationCssClassPresent=function(){var o=this;this.animationThreadCount++;var c=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){o.animationThreadCount===c&&o.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var o=this.executeNextFuncs;this.executeNextFuncs=[];var c=this.executeLaterFuncs;this.executeLaterFuncs=[],!(o.length===0&&c.length===0)&&(window.setTimeout(function(){return o.forEach(function(h){return h()})},0),window.setTimeout(function(){return c.forEach(function(h){return h()})},300))},__decorate$A([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$A([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$A([Bean("columnAnimationService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$y=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$z=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AutoGroupColService=function(a){__extends$y(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}o=e,e.prototype.createAutoGroupColumns=function(c,h){var g=this,b=[],$=this.gridOptionsWrapper.isTreeData(),j=this.gridOptionsWrapper.isGroupMultiAutoColumn();return $&&j&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),j=!1),j?h.forEach(function(rt,nt){b.push(g.createOneAutoGroupColumn(c,rt,nt))}):b.push(this.createOneAutoGroupColumn(c)),b},e.prototype.createOneAutoGroupColumn=function(c,h,g){var b=this.generateDefaultColDef(h),$;h?$=Constants.GROUP_AUTO_COLUMN_ID+"-"+h.getId():$=o.GROUP_AUTO_COLUMN_BUNDLE_ID;var j=this.gridOptionsWrapper.getAutoGroupColumnDef();if(mergeDeep(b,j),b=this.columnFactory.mergeColDefs(b),b.colId=$,!this.gridOptionsWrapper.isTreeData()){var rt=missing(b.field)&&missing(b.valueGetter)&&missing(b.filterValueGetter);rt&&(b.filter=!1)}g&&g>0&&(b.headerCheckboxSelection=!1);var nt=c.find(function(_t){return _t.getId()==$});if(nt)return nt.setColDef(b,null),this.columnFactory.applyColumnState(nt,b),nt;var ot=new Column(b,null,$,!0);return this.context.createBean(ot),ot},e.prototype.generateDefaultColDef=function(c){var h=this.gridOptionsWrapper.getAutoGroupColumnDef(),g=this.gridOptionsWrapper.getLocaleTextFunc(),b={headerName:g("group","Group")},$=h&&(h.cellRenderer||h.cellRendererFramework||h.cellRendererSelector);if($||(b.cellRenderer="agGroupCellRenderer"),c){var j=c.getColDef();Object.assign(b,{headerName:this.columnModel.getDisplayNameForColumn(c,"header"),headerValueGetter:j.headerValueGetter}),(j.cellRenderer||j.cellRendererFramework)&&Object.assign(b,{cellRendererParams:{innerRenderer:j.cellRenderer,innerRendererFramework:j.cellRendererFramework,innerRendererParams:j.cellRendererParams}}),b.showRowGroup=c.getColId()}else b.showRowGroup=!0;return b};var o;return e.GROUP_AUTO_COLUMN_BUNDLE_ID=Constants.GROUP_AUTO_COLUMN_ID,__decorate$z([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$z([Autowired("columnFactory")],e.prototype,"columnFactory",void 0),e=o=__decorate$z([Bean("autoGroupColService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$x=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$y=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},PaginationAutoPageSizeService=function(a){__extends$x(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var o=this;this.ctrlsService.whenReady(function(c){o.centerRowContainerCon=c.centerRowContainerCtrl,o.addManagedListener(o.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,o.onBodyHeightChanged.bind(o)),o.addManagedListener(o.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,o.onScrollVisibilityChanged.bind(o)),o.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},e.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},e.prototype.onBodyHeightChanged=function(){this.checkPageSize()},e.prototype.checkPageSize=function(){if(!this.notActive()){var o=this.gridOptionsWrapper.getRowHeightAsNumber(),c=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(c>0){var h=Math.floor(c/o);this.gridOptionsWrapper.setProperty("paginationPageSize",h)}}},__decorate$y([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$y([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$y([Bean("paginationAutoPageSizeService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$w=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$x=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ValueCache=function(a){__extends$w(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.cacheVersion=0,o}return e.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(o,c,h){this.active&&(o.__cacheVersion!==this.cacheVersion&&(o.__cacheVersion=this.cacheVersion,o.__cacheData={}),o.__cacheData[c]=h)},e.prototype.getValue=function(o,c){if(!(!this.active||o.__cacheVersion!==this.cacheVersion))return o.__cacheData[c]},__decorate$x([PostConstruct],e.prototype,"init",null),e=__decorate$x([Bean("valueCache")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$v=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$w=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ChangeDetectionService=function(a){__extends$v(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(o){o.source!==Constants.SOURCE_PASTE&&this.doChangeDetection(o.node,o.column)},e.prototype.doChangeDetection=function(o,c){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!o.isRowPinned()){var h=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),g=new ChangedPath(h,this.clientSideRowModel.getRootNode());g.addParentNode(o.parent,[c]),this.clientSideRowModel.doAggregate(g)}this.rowRenderer.refreshCells()}},__decorate$w([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$w([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$w([PostConstruct],e.prototype,"init",null),e=__decorate$w([Bean("changeDetectionService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$u=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$v=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},AgComponentUtils=function(a){__extends$u(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.adaptFunction=function(o,c){var h=this.componentMetadataProvider.retrieve(o);return h&&h.functionAdapter?h.functionAdapter(c):null},e.prototype.adaptCellRendererFunction=function(o){var c=function(){function h(){}return h.prototype.refresh=function(g){return!1},h.prototype.getGui=function(){return this.eGui},h.prototype.init=function(g){var b=o(g),$=typeof b;if($==="string"||$==="number"||$==="boolean"){this.eGui=loadTemplate("<span>"+b+"</span>");return}if(b==null){this.eGui=loadTemplate("<span></span>");return}this.eGui=b},h}();return c},e.prototype.doesImplementIComponent=function(o){return o?o.prototype&&"getGui"in o.prototype:!1},__decorate$v([Autowired("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=__decorate$v([Bean("agComponentUtils")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$t=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$u=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ComponentMetadataProvider=function(a){__extends$t(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(o){return this.componentMetaData[o]},__decorate$u([Autowired("agComponentUtils")],e.prototype,"agComponentUtils",void 0),__decorate$u([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$u([Bean("componentMetadataProvider")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$s=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$t=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},MAT_GRID_SIZE=8,BASE_GRID_SIZE=4,BALHAM_GRID_SIZE=4,ALPINE_GRID_SIZE=6,HARD_CODED_SIZES={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:BASE_GRID_SIZE*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:MAT_GRID_SIZE*7,headerCellMinWidth:48,listItemHeight:MAT_GRID_SIZE*4,rowHeight:MAT_GRID_SIZE*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:BALHAM_GRID_SIZE*8,headerCellMinWidth:24,listItemHeight:BALHAM_GRID_SIZE*6,rowHeight:BALHAM_GRID_SIZE*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:ALPINE_GRID_SIZE*8,headerCellMinWidth:36,listItemHeight:ALPINE_GRID_SIZE*4,rowHeight:ALPINE_GRID_SIZE*7,chartMenuPanelWidth:240}},SASS_PROPERTY_BUILDER={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},CALCULATED_SIZES={},Environment=function(a){__extends$s(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getSassVariable=function(o,c){var h="ag-theme-"+(o.match("material")?"material":o.match("balham")?"balham":o.match("alpine")?"alpine":"custom"),g=HARD_CODED_SIZES[h][c],b=0;CALCULATED_SIZES[o]||(CALCULATED_SIZES[o]={});var $=CALCULATED_SIZES[o][c];if($!=null)return $;if(SASS_PROPERTY_BUILDER[c]){var j=SASS_PROPERTY_BUILDER[c],rt=document.createElement("div");rt.classList.add(o),rt.style.position="absolute";var nt=j.reduce(function(_t,Et){var It=document.createElement("div");return It.style.position="static",It.classList.add(Et),_t.appendChild(It),It},rt);if(document.body){document.body.appendChild(rt);var ot=c.toLowerCase().indexOf("height")!==-1?"height":"width";b=parseInt(window.getComputedStyle(nt)[ot],10),document.body.removeChild(rt)}}return CALCULATED_SIZES[o][c]=b||g,CALCULATED_SIZES[o][c]},e.prototype.isThemeDark=function(){var o=this.getTheme().theme;return!!o&&o.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){var o=this.getTheme().themeFamily;return this.getSassVariable(o,"chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var o=/\bag-(material|(?:theme-([\w\-]*)))\b/g,c=this.eGridDiv,h=null,g=[];c;)if(h=o.exec(c.className),!h)c=c.parentElement||void 0;else{var b=c.className.match(o);b&&(g=b);break}if(!h)return{allThemes:g};var $=h[0],j=h[2]===void 0;if(j){var rt=$.replace("ag-","ag-theme-");doOnce(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+$+" with "+rt+".")},"using-old-theme")}return{theme:$,el:c,themeFamily:$.replace(/-dark$/,""),allThemes:g}},__decorate$t([Autowired("eGridDiv")],e.prototype,"eGridDiv",void 0),e=__decorate$t([Bean("environment")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$r=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$s=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param$1=function(a,e){return function(o,c){e(o,c,a)}},RowContainerHeightService=function(a){__extends$r(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.scrollY=0,o.uiBodyHeight=0,o}return e.prototype.agWire=function(o){this.logger=o.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=getMaxDivHeight(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var o=this.ctrlsService.getGridBodyCtrl(),c=o.getScrollFeature().getVScrollPosition().top,h=this.getUiBodyHeight(),g=c!==this.scrollY||h!==this.uiBodyHeight;g&&(this.scrollY=c,this.uiBodyHeight=h,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var o=this.scrollY/this.maxScrollY,c=o*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+c+" ("+this.pixelsToShave+" * "+o+")"),this.setDivStretchOffset(c)},e.prototype.setUiContainerHeight=function(o){o!==this.uiContainerHeight&&(this.uiContainerHeight=o,this.eventService.dispatchEvent({type:Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(o){var c=typeof o=="number"?Math.floor(o):null;this.divStretchOffset!==c&&(this.divStretchOffset=c,this.eventService.dispatchEvent({type:Events.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(o){this.modelHeight=o,this.stretching=o!=null&&this.maxDivHeight>0&&o>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(o){return o-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var o=this.ctrlsService.getGridBodyCtrl(),c=o.getScrollFeature().getVScrollPosition();return c.bottom-c.top},e.prototype.getScrollPositionForPixel=function(o){if(this.pixelsToShave<=0)return o;var c=this.modelHeight-this.getUiBodyHeight(),h=o/c,g=this.maxScrollY*h;return g},__decorate$s([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$s([__param$1(0,Qualifier("loggerFactory"))],e.prototype,"agWire",null),__decorate$s([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$s([Bean("rowContainerHeightService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$q=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$r=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SelectableService=function(a){__extends$q(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},e.prototype.updateSelectableAfterGrouping=function(o){if(this.isRowSelectableFunc){var c=function(h){return h.childrenAfterGroup};this.recurseDown(o.childrenAfterGroup,c)}},e.prototype.recurseDown=function(o,c){var h=this;o&&o.forEach(function(g){if(g.group){g.hasChildren()&&h.recurseDown(c(g),c);var b;if(h.groupSelectsChildren){var $=(c(g)||[]).find(function(j){return j.selectable===!0});b=exists($)}else b=h.isRowSelectableFunc?h.isRowSelectableFunc(g):!1;g.setRowSelectable(b)}})},__decorate$r([PostConstruct],e.prototype,"init",null),e=__decorate$r([Bean("selectableService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$p=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$q=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},PaginationComp=function(a){__extends$p(e,a);function e(){var o=a.call(this)||this;return o.previousAndFirstButtonsDisabled=!1,o.nextButtonDisabled=!1,o.lastButtonDisabled=!1,o}return e.prototype.postConstruct=function(){var o=this,c=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",createIconNoSpan(c?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",createIconNoSpan(c?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",createIconNoSpan(c?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",createIconNoSpan(c?"first":"last",this.gridOptionsWrapper));var h=this.gridOptionsWrapper.isPagination(),g=h&&!this.gridOptionsWrapper.isSuppressPaginationPanel();if(!g){this.setDisplayed(!1);return}this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(b){var $=b.el,j=b.fn;o.addManagedListener($,"click",j),o.addManagedListener($,"keydown",function(rt){(rt.key===KeyCode.ENTER||rt.key===KeyCode.SPACE)&&(rt.preventDefault(),j())})}),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var o=this.paginationProxy.getTotalPages()>0,c=this.paginationProxy.getCurrentPage(),h=o?c+1:0;this.lbCurrent.innerHTML=this.formatNumber(h)},e.prototype.formatNumber=function(o){var c=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(c){var h={value:o};return c(h)}var g=this.gridOptionsWrapper.getLocaleTextFunc(),b=g("thousandSeparator",","),$=g("decimalSeparator",".");return formatNumberCommas(o,b,$)},e.prototype.getTemplate=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc(),c=o("page","Page"),h=o("to","to"),g=o("of","of"),b=o("firstPage","First Page"),$=o("previousPage","Previous Page"),j=o("nextPage","Next Page"),rt=o("lastPage","Last Page"),nt=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+nt+`">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`+nt+`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+nt+'-to">'+h+`</span>
                    <span id="ag-`+nt+`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+nt+'-of">'+g+`</span>
                    <span id="ag-`+nt+`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="`+b+`"></div>
                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="`+$+`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`+nt+'-start-page">'+c+`</span>
                        <span id="ag-`+nt+`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`+nt+'-of-page">'+g+`</span>
                        <span id="ag-`+nt+`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="`+j+`"></div>
                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="`+rt+`"></div>
                </span>
            </div>`},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var o=this.paginationProxy.getCurrentPage(),c=this.paginationProxy.isLastPageFound(),h=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=o===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var g=this.isZeroPagesToDisplay(),b=c&&o===h-1;this.nextButtonDisabled=b||g,this.lastButtonDisabled=!c||g||o===h-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(o,c){setAriaDisabled(o,c),o.classList.toggle("ag-disabled",c),c?o.removeAttribute("tabindex"):o.setAttribute("tabindex","0")},e.prototype.updateRowLabels=function(){var o=this.paginationProxy.getCurrentPage(),c=this.paginationProxy.getPageSize(),h=this.paginationProxy.isLastPageFound(),g=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,b,$;this.isZeroPagesToDisplay()?b=$=0:(b=c*o+1,$=b+c-1,h&&$>g&&($=g)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(b),this.rowNodeBlockLoader.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber($)},e.prototype.isZeroPagesToDisplay=function(){var o=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages();return o&&c===0},e.prototype.setTotalLabels=function(){var o=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages(),h=o?this.paginationProxy.getMasterRowCount():null;if(h===1){var g=this.paginationProxy.getRow(0),b=g&&g.group&&!(g.groupData||g.aggData);if(b){this.setTotalLabelsToZero();return}}if(o)this.lbTotal.innerHTML=this.formatNumber(c),this.lbRecordCount.innerHTML=this.formatNumber(h);else{var $=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=$,this.lbRecordCount.innerHTML=$}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},__decorate$q([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),__decorate$q([Autowired("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$q([RefSelector("btFirst")],e.prototype,"btFirst",void 0),__decorate$q([RefSelector("btPrevious")],e.prototype,"btPrevious",void 0),__decorate$q([RefSelector("btNext")],e.prototype,"btNext",void 0),__decorate$q([RefSelector("btLast")],e.prototype,"btLast",void 0),__decorate$q([RefSelector("lbRecordCount")],e.prototype,"lbRecordCount",void 0),__decorate$q([RefSelector("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),__decorate$q([RefSelector("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),__decorate$q([RefSelector("lbCurrent")],e.prototype,"lbCurrent",void 0),__decorate$q([RefSelector("lbTotal")],e.prototype,"lbTotal",void 0),__decorate$q([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$o=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$p=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},LoadingType;(function(a){a[a.Loading=0]="Loading",a[a.NoRows=1]="NoRows"})(LoadingType||(LoadingType={}));var OverlayWrapperComponent=function(a){__extends$o(e,a);function e(){var o=a.call(this,e.TEMPLATE)||this;return o.inProgress=!1,o.destroyRequested=!1,o.manuallyDisplayed=!1,o}return e.prototype.updateLayoutClasses=function(o,c){var h=this.eOverlayWrapper.classList;h.toggle(LayoutCssClasses.AUTO_HEIGHT,c.autoHeight),h.toggle(LayoutCssClasses.NORMAL,c.normal),h.toggle(LayoutCssClasses.PRINT,c.print)},e.prototype.postConstruct=function(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(o){var c=this.eOverlayWrapper.classList;c.toggle("ag-overlay-loading-wrapper",o===LoadingType.Loading),c.toggle("ag-overlay-no-rows-wrapper",o===LoadingType.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var o={},c=this.userComponentFactory.getLoadingOverlayCompDetails(o),h=c.newAgStackInstance();this.showOverlay(h,LoadingType.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var o={},c=this.userComponentFactory.getNoRowsOverlayCompDetails(o),h=c.newAgStackInstance();this.showOverlay(h,LoadingType.NoRows)}},e.prototype.showOverlay=function(o,c){var h=this;this.inProgress||(this.setWrapperTypeClass(c),this.destroyActiveOverlay(),this.inProgress=!0,o&&o.then(function(g){h.inProgress=!1,h.eOverlayWrapper.appendChild(g.getGui()),h.activeOverlay=g,h.destroyRequested&&(h.destroyRequested=!1,h.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},e.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),clearElement(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},e.prototype.destroy=function(){this.destroyActiveOverlay(),a.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var o=this.paginationProxy.isEmpty(),c=this.gridOptionsWrapper.isSuppressNoRowsOverlay();o&&!c?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},e.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,__decorate$p([Autowired("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$p([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),__decorate$p([Autowired("gridApi")],e.prototype,"gridApi",void 0),__decorate$p([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$p([RefSelector("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),__decorate$p([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$n=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$o=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RowPositionUtils=function(a){__extends$n(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var o=0,c;return this.pinnedRowModel.getPinnedTopRowCount()?c=Constants.PINNED_TOP:this.rowModel.getRowCount()?(c=null,o=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(c=Constants.PINNED_BOTTOM),c===void 0?null:{rowIndex:o,rowPinned:c}},e.prototype.getLastRow=function(){var o,c=null,h=this.pinnedRowModel.getPinnedBottomRowCount(),g=this.pinnedRowModel.getPinnedTopRowCount();return h?(c=Constants.PINNED_BOTTOM,o=h-1):this.rowModel.getRowCount()?(c=null,o=this.paginationProxy.getPageLastRow()):g&&(c=Constants.PINNED_TOP,o=g-1),o===void 0?null:{rowIndex:o,rowPinned:c}},e.prototype.getRowNode=function(o){switch(o.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[o.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[o.rowIndex];default:return this.rowModel.getRow(o.rowIndex)}},e.prototype.sameRow=function(o,c){return!o&&!c?!0:o&&!c||!o&&c?!1:o.rowIndex===c.rowIndex&&o.rowPinned==c.rowPinned},e.prototype.before=function(o,c){switch(o.rowPinned){case Constants.PINNED_TOP:if(c.rowPinned!==Constants.PINNED_TOP)return!0;break;case Constants.PINNED_BOTTOM:if(c.rowPinned!==Constants.PINNED_BOTTOM)return!1;break;default:if(exists(c.rowPinned))return c.rowPinned!==Constants.PINNED_TOP;break}return o.rowIndex<c.rowIndex},e.prototype.rowMax=function(o){var c=this,h;return o.forEach(function(g){(h===void 0||c.before(h,g))&&(h=g)}),h},e.prototype.rowMin=function(o){var c=this,h;return o.forEach(function(g){(h===void 0||c.before(g,h))&&(h=g)}),h},__decorate$o([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$o([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$o([Autowired("paginationProxy")],e.prototype,"paginationProxy",void 0),e=__decorate$o([Bean("rowPositionUtils")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$m=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$n=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},CellPositionUtils=function(a){__extends$m(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.createId=function(o){var c=o.rowIndex,h=o.rowPinned,g=o.column;return this.createIdFromValues(c,g,h)},e.prototype.createIdFromValues=function(o,c,h){return o+"."+(h??"null")+"."+c.getId()},e.prototype.equals=function(o,c){var h=o.column===c.column,g=o.rowPinned===c.rowPinned,b=o.rowIndex===c.rowIndex;return h&&g&&b},e=__decorate$n([Bean("cellPositionUtils")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$l=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),UndoRedoAction=function(){function a(e){this.cellValueChanges=e}return a}(),RangeUndoRedoAction=function(a){__extends$l(e,a);function e(o,c,h,g){var b=a.call(this,o)||this;return b.initialRange=c,b.finalRange=h,b.ranges=g,b}return e}(UndoRedoAction),UndoRedoStack=function(){function a(e){this.actionStack=[],this.maxStackSize=e||a.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return a.prototype.pop=function(){return this.actionStack.pop()},a.prototype.push=function(e){var o=e.cellValueChanges&&e.cellValueChanges.length>0;o&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},a.prototype.clear=function(){this.actionStack=[]},a.prototype.getCurrentStackSize=function(){return this.actionStack.length},a.DEFAULT_STACK_SIZE=10,a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$k=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$j=function(){return __assign$j=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$j.apply(this,arguments)},__decorate$m=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read$3=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$2=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$3(arguments[e]));return a},UndoRedoService=function(a){__extends$k(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.cellValueChanges=[],o.activeCellEdit=null,o.activeRowEdit=null,o.isPasting=!1,o.isRangeInAction=!1,o.onCellValueChanged=function(c){var h={column:c.column,rowIndex:c.rowIndex,rowPinned:c.rowPinned},g=o.activeCellEdit!==null&&o.cellPositionUtils.equals(o.activeCellEdit,h),b=o.activeRowEdit!==null&&o.rowPositionUtils.sameRow(o.activeRowEdit,h),$=g||b||o.isPasting||o.isRangeInAction;if($){var j=c.rowPinned,rt=c.rowIndex,nt=c.column,ot=c.oldValue,_t=c.value,Et={rowPinned:j,rowIndex:rt,columnId:nt.getColId(),newValue:_t,oldValue:ot};o.cellValueChanges.push(Et)}},o.clearStacks=function(){o.undoStack.clear(),o.redoStack.clear()},o}return e.prototype.init=function(){var o=this;if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var c=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();c<=0||(this.undoStack=new UndoRedoStack(c),this.redoStack=new UndoRedoStack(c),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,function(h){h.keepUndoRedoStack||o.clearStacks()}),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){o.gridBodyCtrl=o.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(){if(this.undoStack){var o=this.undoStack.pop();!o||!o.cellValueChanges||(this.processAction(o,function(c){return c.oldValue}),o instanceof RangeUndoRedoAction?this.processRange(o.ranges||[o.initialRange]):this.processCell(o.cellValueChanges),this.redoStack.push(o))}},e.prototype.redo=function(){if(this.redoStack){var o=this.redoStack.pop();!o||!o.cellValueChanges||(this.processAction(o,function(c){return c.newValue}),o instanceof RangeUndoRedoAction?this.processRange(o.ranges||[o.finalRange]):this.processCell(o.cellValueChanges),this.undoStack.push(o))}},e.prototype.processAction=function(o,c){var h=this;o.cellValueChanges.forEach(function(g){var b,$=g.rowIndex,j=g.rowPinned,rt=g.columnId,nt={rowIndex:$,rowPinned:j},ot=h.getRowNode(nt);if(ot.displayed){var _t=c(g),Et=typeof((b=_t)===null||b===void 0?void 0:b.toString)=="function"?_t.toString():_t;ot.setDataValue(rt,Et)}})},e.prototype.processRange=function(o){var c=this,h;this.rangeService.removeAllCellRanges(!0),o.forEach(function(g,b){if(g){var $=g.startRow,j=g.endRow;b===o.length-1&&(h={rowPinned:$.rowPinned,rowIndex:$.rowIndex,columnId:g.startColumn.getColId()},c.setLastFocusedCell(h));var rt={rowStartIndex:$.rowIndex,rowStartPinned:$.rowPinned,rowEndIndex:j.rowIndex,rowEndPinned:j.rowPinned,columnStart:g.startColumn,columns:g.columns};c.rangeService.addCellRange(rt)}})},e.prototype.processCell=function(o){var c=o[0],h=c.rowIndex,g=c.rowPinned,b={rowIndex:h,rowPinned:g},$=this.getRowNode(b),j={rowPinned:c.rowPinned,rowIndex:$.rowIndex,columnId:c.columnId};this.setLastFocusedCell(j,!0)},e.prototype.setLastFocusedCell=function(o,c){var h=o.rowIndex,g=o.columnId,b=o.rowPinned,$=this.gridBodyCtrl.getScrollFeature(),j=this.columnModel.getGridColumn(g);if(j){$.ensureIndexVisible(h),$.ensureColumnVisible(j);var rt={rowIndex:h,column:j,rowPinned:b};this.focusService.setFocusedCell(__assign$j(__assign$j({},rt),{forceBrowserFocus:!0})),c&&this.rangeService.setRangeToCell(rt)}},e.prototype.addRowEditingListeners=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STARTED,function(c){o.activeRowEdit={rowIndex:c.rowIndex,rowPinned:c.rowPinned}}),this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STOPPED,function(){var c=new UndoRedoAction(o.cellValueChanges);o.pushActionsToUndoStack(c),o.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STARTED,function(c){o.activeCellEdit={column:c.column,rowIndex:c.rowIndex,rowPinned:c.rowPinned}}),this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STOPPED,function(c){o.activeCellEdit=null;var h=c.valueChanged&&!o.activeRowEdit&&!o.isPasting&&!o.isRangeInAction;if(h){var g=new UndoRedoAction(o.cellValueChanges);o.pushActionsToUndoStack(g)}})},e.prototype.addPasteListeners=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_PASTE_START,function(){o.isPasting=!0}),this.addManagedListener(this.eventService,Events.EVENT_PASTE_END,function(){var c=new UndoRedoAction(o.cellValueChanges);o.pushActionsToUndoStack(c),o.isPasting=!1})},e.prototype.addFillListeners=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_FILL_START,function(){o.isRangeInAction=!0}),this.addManagedListener(this.eventService,Events.EVENT_FILL_END,function(c){var h=new RangeUndoRedoAction(o.cellValueChanges,c.initialRange,c.finalRange);o.pushActionsToUndoStack(h),o.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){o.isRangeInAction=!0}),this.addManagedListener(this.eventService,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var c;o.rangeService&&o.gridOptionsWrapper.isEnableRangeSelection()?c=new RangeUndoRedoAction(o.cellValueChanges,void 0,void 0,__spread$2(o.rangeService.getCellRanges())):c=new UndoRedoAction(o.cellValueChanges),o.pushActionsToUndoStack(c),o.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(o){this.undoStack.push(o),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(o){switch(o.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[o.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[o.rowIndex];default:return this.rowModel.getRow(o.rowIndex)}},__decorate$m([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$m([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$m([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$m([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$m([Autowired("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$m([Autowired("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$m([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$m([Optional("rangeService")],e.prototype,"rangeService",void 0),__decorate$m([PostConstruct],e.prototype,"init",null),e=__decorate$m([Bean("undoRedoService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$j=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$l=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},HeaderPositionUtils=function(a){__extends$j(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.findHeader=function(o,c){var h,g,b;if(o.column instanceof ColumnGroup?(g="getDisplayedGroup"+c,h=this.columnModel[g](o.column)):(b="getDisplayedCol"+c,h=this.columnModel[b](o.column)),h)return{column:h,headerRowIndex:o.headerRowIndex}},e.prototype.findColAtEdgeForHeaderRow=function(o,c){var h=this.columnModel.getAllDisplayedColumns(),g=h[c==="start"?0:h.length-1];if(g){var b=this.ctrlsService.getHeaderRowContainerCtrl(g.getPinned()),$=b.getRowType(o);if($==HeaderRowType.COLUMN_GROUP){var j=this.columnModel.getColumnGroupAtLevel(g,o);return{headerRowIndex:o,column:j}}return{headerRowIndex:$==null?-1:o,column:g}}},__decorate$l([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$l([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),e=__decorate$l([Bean("headerPositionUtils")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$k=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},ColumnDefFactory=function(){function a(){}return a.prototype.buildColumnDefs=function(e,o,c){var h=this,g=[],b={};return e.forEach(function($){for(var j=h.createDefFromColumn($,o,c),rt=!0,nt=j,ot=$.getOriginalParent();ot;){var _t=null;if(ot.isPadding()){ot=ot.getOriginalParent();continue}var Et=b[ot.getGroupId()];if(Et){Et.children.push(nt),rt=!1;break}_t=h.createDefFromGroup(ot),_t&&(_t.children=[nt],b[_t.groupId]=_t,nt=_t,ot=ot.getOriginalParent())}rt&&g.push(nt)}),g},a.prototype.createDefFromGroup=function(e){var o=deepCloneDefinition(e.getColGroupDef(),["children"]);return o&&(o.groupId=e.getGroupId()),o},a.prototype.createDefFromColumn=function(e,o,c){var h=deepCloneDefinition(e.getColDef());return h.colId=e.getColId(),h.width=e.getActualWidth(),h.rowGroup=e.isRowGroupActive(),h.rowGroupIndex=e.isRowGroupActive()?o.indexOf(e):null,h.pivot=e.isPivotActive(),h.pivotIndex=e.isPivotActive()?c.indexOf(e):null,h.aggFunc=e.isValueActive()?e.getAggFunc():null,h.hide=e.isVisible()?void 0:!0,h.pinned=e.isPinned()?e.getPinned():null,h.sort=e.getSort()?e.getSort():null,h.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,h},a=__decorate$k([Bean("columnDefFactory")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$j=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RowCssClassCalculator=function(){function a(){}return a.prototype.getInitialRowClasses=function(e){var o=[];return exists(e.extraCssClass)&&o.push(e.extraCssClass),o.push("ag-row"),o.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&o.push("ag-opacity-zero"),o.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&o.push("ag-row-pinned"),e.rowNode.isSelected()&&o.push("ag-row-selected"),e.rowNode.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&o.push("ag-row-loading"),e.fullWidthRow&&o.push("ag-full-width-row"),e.expandable&&(o.push("ag-row-group"),o.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&o.push("ag-row-dragging"),pushAll(o,this.processClassesFromGridOptions(e.rowNode)),pushAll(o,this.preProcessRowClassRules(e.rowNode)),o.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&o.push("ag-row-first"),e.lastRowOnPage&&o.push("ag-row-last"),e.fullWidthRow&&(e.pinned===Constants.PINNED_LEFT&&o.push("ag-cell-last-left-pinned"),e.pinned===Constants.PINNED_RIGHT&&o.push("ag-cell-first-right-pinned")),o},a.prototype.processClassesFromGridOptions=function(e){var o=[],c=function(j){typeof j=="string"?o.push(j):Array.isArray(j)&&j.forEach(function(rt){return o.push(rt)})},h=this.gridOptionsWrapper.getRowClass();if(h){if(typeof h=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];c(h)}var g=this.gridOptionsWrapper.getRowClassFunc();if(g){var b={data:e.data,node:e,rowIndex:e.rowIndex},$=g(b);c($)}return o},a.prototype.preProcessRowClassRules=function(e){var o=[];return this.processRowClassRules(e,function(c){o.push(c)},function(c){}),o},a.prototype.processRowClassRules=function(e,o,c){var h={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),h,o,c)},a.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},__decorate$j([Autowired("stylingService")],a.prototype,"stylingService",void 0),__decorate$j([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a=__decorate$j([Bean("rowCssClassCalculator")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __decorate$i=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RowNodeSorter=function(){function a(){}return a.prototype.doFullSort=function(e,o){var c=function(g,b){return{currentPos:b,rowNode:g}},h=e.map(c);return h.sort(this.compareRowNodes.bind(this,o)),h.map(function(g){return g.rowNode})},a.prototype.compareRowNodes=function(e,o,c){for(var h=o.rowNode,g=c.rowNode,b=0,$=e.length;b<$;b++){var j=e[b],rt=j.sort===Constants.SORT_DESC,nt=this.getValue(h,j.column),ot=this.getValue(g,j.column),_t=void 0,Et=this.getComparator(j,h);Et?_t=Et(nt,ot,h,g,rt):_t=_.defaultComparator(nt,ot,this.gridOptionsWrapper.isAccentedSort());var It=!isNaN(_t);if(It&&_t!==0)return j.sort===Constants.SORT_ASC?_t:_t*-1}return o.currentPos-c.currentPos},a.prototype.getComparator=function(e,o){var c=e.column,h=c.getColDef().comparator;if(h!=null)return h;if(c.getColDef().showRowGroup){var g=!o.group&&c.getColDef().field;if(g){var b=this.columnModel.getPrimaryColumn(g);if(b)return b.getColDef().comparator}}},a.prototype.getValue=function(e,o){var c,h,g=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();if(!g)return this.valueService.getValue(o,e,!1,!1);var b=e.rowGroupColumn===o;if(b){var $=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotActive());if($){var j=o.getColDef().keyCreator;if(j)return e.key;var rt=(c=e.allLeafChildren)===null||c===void 0?void 0:c[0];return rt?this.valueService.getValue(o,rt,!1,!1):void 0}var nt=this.columnModel.getGroupDisplayColumnForGroup(o.getId());return nt?(h=e.groupData)===null||h===void 0?void 0:h[nt.getId()]:void 0}if(!(e.group&&o.getColDef().showRowGroup))return this.valueService.getValue(o,e,!1,!1)},__decorate$i([Autowired("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),__decorate$i([Autowired("valueService")],a.prototype,"valueService",void 0),__decorate$i([Autowired("columnModel")],a.prototype,"columnModel",void 0),a=__decorate$i([Bean("rowNodeSorter")],a),a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$i=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$h=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},CtrlsService=function(a){__extends$i(e,a);function e(){var c=a!==null&&a.apply(this,arguments)||this;return c.ready=!1,c.readyCallbacks=[],c}o=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollCtrl!=null&&this.gridHeaderCtrl!=null,this.ready){var c=this.createReadyParams();this.readyCallbacks.forEach(function(h){return h(c)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(c){this.ready?c(this.createReadyParams()):this.readyCallbacks.push(c)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollCtrl=function(c){this.fakeHScrollCtrl=c,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(c){this.gridHeaderCtrl=c,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(c){this.centerRowContainerCtrl=c,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(c){this.leftRowContainerCtrl=c,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(c){this.rightRowContainerCtrl=c,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(c){this.topCenterRowContainerCtrl=c,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(c){this.topLeftRowContainerCtrl=c,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(c){this.topRightRowContainerCtrl=c,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(c){this.stickyTopCenterRowContainerCtrl=c,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(c){this.stickyTopLeftRowContainerCtrl=c,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(c){this.stickyTopRightRowContainerCtrl=c,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(c){this.bottomCenterRowContainerCtrl=c,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(c){this.bottomLeftRowContainerCtrl=c,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(c){this.bottomRightRowContainerCtrl=c,this.checkReady()},e.prototype.registerHeaderContainer=function(c,h){switch(h){case Constants.PINNED_LEFT:this.leftHeaderRowContainerCtrl=c;break;case Constants.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=c;break;default:this.centerHeaderRowContainerCtrl=c;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(c){this.gridBodyCtrl=c,this.checkReady()},e.prototype.registerGridCtrl=function(c){this.gridCtrl=c,this.checkReady()},e.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(c){switch(c){case Constants.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case Constants.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var o;return e.NAME="ctrlsService",e=o=__decorate$h([Bean(o.NAME)],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$h=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$g=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},CtrlsFactory=function(a){__extends$h(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.registry={},o}return e.prototype.register=function(o){this.registry[o.controllerName]=o.controllerClass},e.prototype.getInstance=function(o){var c=this.registry[o];if(c!=null)return new c},e=__decorate$g([Bean("ctrlsFactory")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$g=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$f=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},FakeHScrollCtrl=function(a){__extends$g(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setComp=function(o,c,h,g){this.view=o,this.eViewport=h,this.eContainer=g,this.eGui=c,this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this));var b=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,b),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,b),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,b),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.onScrollVisibilityChanged(),this.ctrlsService.registerFakeHScrollCtrl(this),this.view.addOrRemoveCssClass("ag-apple-scrollbar",isMacOsUserAgent()||isIOSUserAgent())},e.prototype.addActiveListenerToggles=function(){var o=this,c=["mouseenter","mousedown","touchstart"],h=["mouseleave","touchend"];c.forEach(function(g){return o.addManagedListener(o.eGui,g,function(){return o.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),h.forEach(function(g){return o.addManagedListener(o.eGui,g,function(){return o.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles(),this.refreshCompBottom()))},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var o=this.pinnedRowModel.getPinnedBottomTotalHeight();this.view.setBottom(o)}},e.prototype.onScrollVisibilityChanged=function(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var o=this;this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,function(c){c.direction==="horizontal"&&o.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL_END,function(){return o.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},e.prototype.setFakeHScrollSpacerWidths=function(){var o=this.scrollVisibleService.isVerticalScrollShowing(),c=this.columnModel.getDisplayedColumnsRightWidth(),h=!this.enableRtl&&o,g=this.gridOptionsWrapper.getScrollbarWidth();h&&(c+=g),this.view.setRightSpacerFixedWidth(c),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",c<=g);var b=this.columnModel.getDisplayedColumnsLeftWidth(),$=this.enableRtl&&o;$&&(b+=g),this.view.setLeftSpacerFixedWidth(b),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",b<=g)},e.prototype.setScrollVisible=function(){var o=this.scrollVisibleService.isHorizontalScrollShowing(),c=this.invisibleScrollbar,h=this.gridOptionsWrapper.isSuppressHorizontalScroll(),g=o&&this.gridOptionsWrapper.getScrollbarWidth()||0,b=g===0&&c?15:g,$=h?0:b;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",c),this.view.setHeight($),this.view.setViewportHeight($),this.view.setContainerHeight($),this.view.addOrRemoveCssClass("ag-hidden",!o)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},__decorate$f([Autowired("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),__decorate$f([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$f([Autowired("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$f([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$f=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$e=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},FakeHScrollComp=function(a){__extends$f(e,a);function e(){return a.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var o=this,c={addOrRemoveCssClass:function(g,b){return o.addOrRemoveCssClass(g,b)},setHeight:function(g){return setFixedHeight(o.getGui(),g)},setBottom:function(g){return o.getGui().style.bottom=g+"px"},setContainerHeight:function(g){return setFixedHeight(o.eContainer,g)},setViewportHeight:function(g){return setFixedHeight(o.eViewport,g)},setRightSpacerFixedWidth:function(g){return setFixedWidth(o.eRightSpacer,g)},setLeftSpacerFixedWidth:function(g){return setFixedWidth(o.eLeftSpacer,g)},includeLeftSpacerScrollerCss:function(g,b){return o.eLeftSpacer.classList.toggle(g,b)},includeRightSpacerScrollerCss:function(g,b){return o.eRightSpacer.classList.toggle(g,b)}},h=this.createManagedBean(new FakeHScrollCtrl);h.setComp(c,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new CenterWidthFeature(function(g){return o.eContainer.style.width=g+"px"}))},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,__decorate$e([RefSelector("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),__decorate$e([RefSelector("eRightSpacer")],e.prototype,"eRightSpacer",void 0),__decorate$e([RefSelector("eViewport")],e.prototype,"eViewport",void 0),__decorate$e([RefSelector("eContainer")],e.prototype,"eContainer",void 0),__decorate$e([PostConstruct],e.prototype,"postConstruct",null),e}(Component);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$e=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$d=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},PinnedWidthService=function(a){__extends$e(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var o=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,o),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,o)},e.prototype.checkContainerWidths=function(){var o=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,c=o?0:this.columnModel.getDisplayedColumnsLeftWidth(),h=o?0:this.columnModel.getDisplayedColumnsRightWidth();c!=this.leftWidth&&(this.leftWidth=c,this.eventService.dispatchEvent({type:Events.EVENT_LEFT_PINNED_WIDTH_CHANGED})),h!=this.rightWidth&&(this.rightWidth=h,this.eventService.dispatchEvent({type:Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},__decorate$d([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$d([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$d([Bean("pinnedWidthService")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __extends$d=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$c=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RowNodeEventThrottle=function(a){__extends$d(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.events=[],o}return e.prototype.postConstruct=function(){this.rowModel.getType()==Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(o){var c=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(o);return}this.events.push(o);var h=function(){c.clientSideRowModel&&c.clientSideRowModel.onRowGroupOpened(),c.events.forEach(function(g){return c.eventService.dispatchEvent(g)}),c.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(h)),this.dispatchExpandedDebounced()},__decorate$c([Autowired("animationFrameService")],e.prototype,"animationFrameService",void 0),__decorate$c([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$c([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$c([Bean("rowNodeEventThrottle")],e),e}(BeanStub);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var __read$2=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread$1=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$2(arguments[e]));return a},Grid=function(){function a(e,o,c){if(!o){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=o,new GridCoreCreator().create(e,o,function(h){var g=new GridComp$1(e);h.createBean(g)},void 0,c)}return a.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},a}(),GridCoreCreator=function(){function a(){}return a.prototype.create=function(e,o,c,h,g){var b=this,$=!!o.debug,j=this.getRegisteredModules(g),rt=this.createBeansList(o.rowModelType,j),nt=this.createProvidedBeans(e,o,g);if(rt){var ot={providedBeanInstances:nt,beanClasses:rt,debug:$},_t=new Logger("AG Grid",function(){return o.debug}),Et=new Logger("Context",function(){return ot.debug}),It=new Context(ot,Et),it=It.getBean("beans");this.registerModuleUserComponents(it,j),this.registerStackComponents(it,j),this.registerControllers(it,j),c(It),it.ctrlsService.whenReady(function(){b.setColumnsAndData(it),b.dispatchGridReadyEvent(it);var st=ModuleRegistry.isRegistered(ModuleNames.EnterpriseCoreModule);_t.log("initialised successfully, enterprise = "+st)}),h&&h(It)}},a.prototype.registerControllers=function(e,o){o.forEach(function(c){c.controllers&&c.controllers.forEach(function(h){return e.ctrlsFactory.register(h)})})},a.prototype.registerStackComponents=function(e,o){var c=this.createAgStackComponentsList(o);e.agStackComponentsRegistry.setupComponents(c)},a.prototype.getRegisteredModules=function(e){var o=e?e.modules:null,c=ModuleRegistry.getRegisteredModules(),h=[],g={};function b($,j){function rt(nt){g[nt.moduleName]||(g[nt.moduleName]=!0,h.push(nt),ModuleRegistry.register(nt,$))}rt(j),j.dependantModules&&j.dependantModules.forEach(b.bind(null,$))}return o&&o.forEach(b.bind(null,!0)),c&&c.forEach(b.bind(null,!ModuleRegistry.isPackageBased())),h},a.prototype.registerModuleUserComponents=function(e,o){var c=this.extractModuleEntity(o,function(h){return h.userComponents?h.userComponents:[]});c.forEach(function(h){e.userComponentRegistry.registerDefaultComponent(h.componentName,h.componentClass)})},a.prototype.createProvidedBeans=function(e,o,c){var h=c?c.frameworkOverrides:null;missing(h)&&(h=new VanillaFrameworkOverrides);var g={gridOptions:o,eGridDiv:e,globalEventListener:c?c.globalEventListener:null,frameworkOverrides:h};return c&&c.providedBeanInstances&&Object.assign(g,c.providedBeanInstances),g},a.prototype.createAgStackComponentsList=function(e){var o=[{componentName:"AgCheckbox",componentClass:AgCheckbox},{componentName:"AgRadioButton",componentClass:AgRadioButton},{componentName:"AgToggleButton",componentClass:AgToggleButton},{componentName:"AgInputTextField",componentClass:AgInputTextField},{componentName:"AgInputTextArea",componentClass:AgInputTextArea},{componentName:"AgInputNumberField",componentClass:AgInputNumberField},{componentName:"AgInputRange",componentClass:AgInputRange},{componentName:"AgSelect",componentClass:AgSelect},{componentName:"AgSlider",componentClass:AgSlider},{componentName:"AgAngleSelect",componentClass:AgAngleSelect},{componentName:"AgColorPicker",componentClass:AgColorPicker},{componentName:"AgGridBody",componentClass:GridBodyComp$1},{componentName:"AgHeaderRoot",componentClass:GridHeaderComp$1},{componentName:"AgSortIndicator",componentClass:SortIndicatorComp},{componentName:"AgPagination",componentClass:PaginationComp},{componentName:"AgOverlayWrapper",componentClass:OverlayWrapperComponent},{componentName:"AgGroupComponent",componentClass:AgGroupComponent},{componentName:"AgPanel",componentClass:AgPanel},{componentName:"AgDialog",componentClass:AgDialog},{componentName:"AgRowContainer",componentClass:RowContainerComp$1},{componentName:"AgFakeHorizontalScroll",componentClass:FakeHScrollComp}],c=this.extractModuleEntity(e,function(h){return h.agStackComponents?h.agStackComponents:[]});return o=o.concat(c),o},a.prototype.createBeansList=function(e,o){var c=this.getRowModelClass(e,o);if(c){var h=[c,Beans,RowPositionUtils,CellPositionUtils,HeaderPositionUtils,PaginationAutoPageSizeService,GridApi,UserComponentRegistry,AgComponentUtils,ComponentMetadataProvider,ResizeObserverService,UserComponentFactory,RowContainerHeightService,HorizontalResizeService,PinnedRowModel,DragService,DisplayedGroupCreator,EventService,GridOptionsWrapper,PopupService,SelectionService,FilterManager,ColumnModel,HeaderNavigationService,PaginationProxy,RowRenderer,ExpressionService,ColumnFactory,TemplateService,AlignedGridsService,NavigationService,ValueCache,ValueService,LoggerFactory,ColumnUtils,AutoWidthCalculator,StandardMenuFactory,DragAndDropService,ColumnApi,FocusService,MouseEventService,Environment,CellNavigationService,ValueFormatterService,StylingService,ScrollVisibleService,SortController,ColumnHoverService,ColumnAnimationService,SelectableService,AutoGroupColService,ChangeDetectionService,AnimationFrameService,UndoRedoService,AgStackComponentsRegistry,ColumnDefFactory,RowCssClassCalculator,RowNodeBlockLoader,RowNodeSorter,CtrlsService,PinnedWidthService,RowNodeEventThrottle,CtrlsFactory],g=this.extractModuleEntity(o,function($){return $.beans?$.beans:[]});h.push.apply(h,__spread$1(g));var b=[];return h.forEach(function($){b.indexOf($)<0&&b.push($)}),b}},a.prototype.extractModuleEntity=function(e,o){return[].concat.apply([],__spread$1(e.map(o)))},a.prototype.setColumnsAndData=function(e){var o=e.gridOptionsWrapper.getColumnDefs();e.columnModel.setColumnDefs(o||[],"gridInitializing"),e.rowModel.start()},a.prototype.dispatchGridReadyEvent=function(e){var o={type:Events.EVENT_GRID_READY};e.eventService.dispatchEvent(o)},a.prototype.getRowModelClass=function(e,o){e||(e=Constants.ROW_MODEL_TYPE_CLIENT_SIDE);var c={};o.forEach(function(g){iterateObject(g.rowModels,function(b,$){c[b]=$})});var h=c[e];if(exists(h))return h;ModuleRegistry.isPackageBased()?[Constants.ROW_MODEL_TYPE_VIEWPORT,Constants.ROW_MODEL_TYPE_SERVER_SIDE].includes(e)?console.error('AG Grid: Row Model "'+e+`" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/`):console.error("AG Grid: could not find row model for rowModelType "+e):e===Constants.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+ModuleNames.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===Constants.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+ModuleNames.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===Constants.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+ModuleNames.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===Constants.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+ModuleNames.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+e)},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function defaultGroupComparator(a,e,o,c,h){h===void 0&&(h=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var g=exists(o)&&o.group,b=exists(c)&&c.group,$=g&&b,j=!g&&!b;return $?defaultComparator(o.key,c.key,h):j?defaultComparator(a,e,h):g?1:-1}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var BaseComponentWrapper=function(){function a(){}return a.prototype.wrap=function(e,o,c,h){var g=this;c===void 0&&(c=[]);var b=this.createWrapper(e,h);return o.forEach(function($){g.createMethod(b,$,!0)}),c.forEach(function($){g.createMethod(b,$,!1)}),b},a.prototype.unwrap=function(e){return e},a.prototype.createMethod=function(e,o,c){e.addMethod(o,this.createMethodProxy(e,o,c))},a.prototype.createMethodProxy=function(e,o,c){return function(){return e.hasMethod(o)?e.callMethod(o,arguments):(c&&console.warn("AG Grid: Framework component is missing the method "+o+"()"),null)}},a}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DEFAULT_CHART_GROUPS={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},CHART_TOOL_PANEL_ALLOW_LIST=["chartSettings","chartData","chartFormat"],CHART_TOOLBAR_ALLOW_LIST=["chartUnlink","chartLink","chartDownload"],CHART_TOOL_PANEL_MENU_OPTIONS={settings:"chartSettings",data:"chartData",format:"chartFormat"};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var BarColumnLabelPlacement;(function(a){a.InsideBase="insideBase",a.InsideEnd="insideEnd",a.Center="center",a.OutsideEnd="outsideEnd"})(BarColumnLabelPlacement||(BarColumnLabelPlacement={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var globalObj=typeof global>"u"?{}:global;globalObj.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;globalObj.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;globalObj.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;globalObj.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;globalObj.Node=typeof Node>"u"?{}:Node;globalObj.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var __read$1=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},__spread=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(__read$1(arguments[e]));return a},ClientSideNodeManager=function(){function a(e,o,c,h,g,b){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsWrapper=o,this.eventService=c,this.columnModel=h,this.beans=b,this.selectionService=g,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=a.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return a.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},a.prototype.getCopyOfNodesMap=function(){return _.cloneObject(this.allNodesMap)},a.prototype.getRowNode=function(e){return this.allNodesMap[e]},a.prototype.setRowData=function(e){var o=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}var c=this.rootNode,h=this.rootNode.sibling;c.childrenAfterFilter=null,c.childrenAfterGroup=null,c.childrenAfterAggFilter=null,c.childrenAfterSort=null,c.childrenMapped=null,c.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?c.allLeafChildren=e.map(function(g){return o.createNode(g,o.rootNode,a.TOP_LEVEL)}):(c.allLeafChildren=[],c.childrenAfterGroup=[]),h&&(h.childrenAfterFilter=c.childrenAfterFilter,h.childrenAfterGroup=c.childrenAfterGroup,h.childrenAfterAggFilter=c.childrenAfterAggFilter,h.childrenAfterSort=c.childrenAfterSort,h.childrenMapped=c.childrenMapped,h.allLeafChildren=c.allLeafChildren)},a.prototype.updateRowData=function(e,o){var c={remove:[],update:[],add:[]},h=[];return this.executeRemove(e,c,h),this.executeUpdate(e,c,h),this.executeAdd(e,c),this.updateSelection(h),o&&_.sortRowNodesByOrder(this.rootNode.allLeafChildren,o),c},a.prototype.updateSelection=function(e){var o=e.length>0;if(o&&e.forEach(function(h){h.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),o){var c={type:Events.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(c)}},a.prototype.executeAdd=function(e,o){var c=this,h=e.add,g=e.addIndex;if(!_.missingOrEmpty(h)){var b=h.map(function(_t){return c.createNode(_t,c.rootNode,a.TOP_LEVEL)}),$=typeof g=="number"&&g>=0,j,rt;if($){var nt=this.rootNode.allLeafChildren,ot=g===0?0:nt.reduce(function(_t,Et,It){var it,st=Et.rowIndex,Mt=(it=nt[_t])===null||it===void 0?void 0:it.rowIndex,bt=st!=null&&Mt!=null&&st<g&&st>Mt;return bt?It:_t},0)+1;j=nt.slice(0,ot),rt=nt.slice(ot,nt.length)}else j=this.rootNode.allLeafChildren,rt=[];this.rootNode.allLeafChildren=__spread(j,b,rt),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),o.add=b}},a.prototype.executeRemove=function(e,o,c){var h=this,g=e.remove;if(!_.missingOrEmpty(g)){var b={};g.forEach(function($){var j=h.lookupRowNode($);j&&(j.isSelected()&&c.push(j),j.clearRowTopAndRowIndex(),b[j.id]=!0,delete h.allNodesMap[j.id],o.remove.push(j))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function($){return!b[$.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},a.prototype.executeUpdate=function(e,o,c){var h=this,g=e.update;_.missingOrEmpty(g)||g.forEach(function(b){var $=h.lookupRowNode(b);$&&($.updateData(b),!$.selectable&&$.isSelected()&&c.push($),h.setMasterForRow($,b,a.TOP_LEVEL,!1),o.update.push($))})},a.prototype.lookupRowNode=function(e){var o=this.gridOptionsWrapper.getRowIdFunc(),c;if(o){var h=o({data:e,level:0});if(c=this.allNodesMap[h],!c)return console.error("AG Grid: could not find row id="+h+", data item was not found for this id"),null}else if(c=this.rootNode.allLeafChildren.find(function(g){return g.data===e}),!c)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return c||null},a.prototype.createNode=function(e,o,c){var h=new RowNode(this.beans);return h.group=!1,this.setMasterForRow(h,e,c,!0),o&&!this.suppressParentsInRowNodes&&(h.parent=o),h.level=c,h.setDataAndId(e,this.nextId.toString()),this.allNodesMap[h.id]&&console.warn("AG Grid: duplicate node id '"+h.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[h.id]=h,this.nextId++,h},a.prototype.setMasterForRow=function(e,o,c,h){if(this.doingTreeData)e.setMaster(!1),h&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(o)):e.setMaster(!0):e.setMaster(!1),h){var g=this.columnModel.getRowGroupColumns(),b=g?g.length:0,$=c+b;e.expanded=e.master?this.isExpanded($):!1}},a.prototype.isExpanded=function(e){var o=this.gridOptionsWrapper.getGroupDefaultExpanded();return o===-1?!0:e<o},a.TOP_LEVEL=0,a.ROOT_NODE_ID="ROOT_NODE_ID",a}(),__extends$c=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$b=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RecursionType;(function(a){a[a.Normal=0]="Normal",a[a.AfterFilter=1]="AfterFilter",a[a.AfterFilterAndSort=2]="AfterFilterAndSort",a[a.PivotNodes=3]="PivotNodes"})(RecursionType||(RecursionType={}));var ClientSideRowModel=function(a){__extends$c(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.onRowHeightChanged_debounced=_.debounce(o.onRowHeightChanged.bind(o),100),o.rowsToDisplay=[],o}return e.prototype.init=function(){var o=this.refreshModel.bind(this,{step:ClientSideRowModelSteps.EVERYTHING}),c=!this.gridOptionsWrapper.isSuppressAnimationFrame(),h=this.refreshModel.bind(this,{step:ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:c});this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,h),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,o),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,o);var g=this.refreshModel.bind(this,{step:ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:c});this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN,g),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,g),this.rootNode=new RowNode(this.beans),this.nodeManager=new ClientSideNodeManager(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.start=function(){var o=this.gridOptionsWrapper.getRowData();o&&this.setRowData(o)},e.prototype.ensureRowHeightsValid=function(o,c,h,g){var b,$=!1;do{b=!1;for(var j=this.getRowIndexAtPixel(o),rt=this.getRowIndexAtPixel(c),nt=Math.max(j,h),ot=Math.min(rt,g),_t=nt;_t<=ot;_t++){var Et=this.getRow(_t);if(Et.rowHeightEstimated){var It=this.gridOptionsWrapper.getRowHeightForNode(Et);Et.setRowHeight(It.height),b=!0,$=!0}}b&&this.setRowTopAndRowIndex()}while(b);return $},e.prototype.setRowTopAndRowIndex=function(){for(var o=this.gridOptionsWrapper.getDefaultRowHeight(),c=0,h=new Set,g=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,b=0;b<this.rowsToDisplay.length;b++){var $=this.rowsToDisplay[b];if($.id!=null&&h.add($.id),$.rowHeight==null){var j=this.gridOptionsWrapper.getRowHeightForNode($,g,o);$.setRowHeight(j.height,j.estimated)}$.setRowTop(c),$.setRowIndex(b),c+=$.rowHeight}return h},e.prototype.clearRowTopAndRowIndex=function(o,c){var h=o.isActive(),g=function($){$&&$.id!=null&&!c.has($.id)&&$.clearRowTopAndRowIndex()},b=function($){if(g($),g($.detailNode),g($.sibling),$.hasChildren()&&$.childrenAfterGroup){var j=$.level==-1,rt=h&&!j&&!$.expanded;rt||$.childrenAfterGroup.forEach(b)}};b(this.rootNode)},e.prototype.ensureRowsAtPixel=function(o,c,h){var g=this;h===void 0&&(h=0);var b=this.getRowIndexAtPixel(c),$=this.getRow(b),j=!this.gridOptionsWrapper.isSuppressAnimationFrame();return $===o[0]?!1:(o.forEach(function(rt){_.removeFromArray(g.rootNode.allLeafChildren,rt)}),o.forEach(function(rt,nt){_.insertIntoArray(g.rootNode.allLeafChildren,rt,Math.max(b+h,0)+nt)}),this.refreshModel({step:ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:j}),!0)},e.prototype.highlightRowAtPixel=function(o,c){var h=c!=null?this.getRowIndexAtPixel(c):null,g=h!=null?this.getRow(h):null;if(!g||!o||g===o||c==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var b=this.getHighlightPosition(c,g);this.lastHighlightedRow&&this.lastHighlightedRow!==g&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),g.setHighlighted(b),this.lastHighlightedRow=g},e.prototype.getHighlightPosition=function(o,c){if(!c){var h=this.getRowIndexAtPixel(o);if(c=this.getRow(h||0),!c)return RowHighlightPosition.Below}var g=c.rowTop,b=c.rowHeight;return o-g<b/2?RowHighlightPosition.Above:RowHighlightPosition.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var o=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(o)return 1;var c=this.rootNode.childrenAfterAggFilter;return c?c.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(o){var c=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(c)return o;var h=this.rootNode.childrenAfterSort[o];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;h.expanded&&h.childrenAfterSort&&h.childrenAfterSort.length>0;)h=h.childrenAfterSort[0];return h.rowIndex},e.prototype.getRowBounds=function(o){if(_.missing(this.rowsToDisplay))return null;var c=this.rowsToDisplay[o];return c?{rowTop:c.rowTop,rowHeight:c.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var o=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:o})},e.prototype.onFilterChanged=function(o){if(!o.afterDataChange){var c=this.gridOptionsWrapper.isAnimateRows(),h=o.columns.length===0||o.columns.some(function(b){return b.isPrimary()}),g=h?ClientSideRowModelSteps.FILTER:ClientSideRowModelSteps.FILTER_AGGREGATES;this.refreshModel({step:g,keepRenderedRows:!0,animate:c})}},e.prototype.onSortChanged=function(){var o=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:o,keepEditingRows:!0})},e.prototype.getType=function(){return Constants.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:ClientSideRowModelSteps.AGGREGATE})},e.prototype.createChangePath=function(o){var c=_.missingOrEmpty(o),h=new ChangedPath(!1,this.rootNode);return(c||this.gridOptionsWrapper.isTreeData())&&h.setInactive(),h},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(o){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||o.rowNodeTransactions==null)return!1;var c=o.rowNodeTransactions.filter(function(g){return g.add!=null&&g.add.length>0||g.remove!=null&&g.remove.length>0}),h=c==null||c.length==0;return h},e.prototype.refreshModel=function(o){if(!this.isSuppressModelUpdateAfterUpdateTransaction(o)){var c=this.createChangePath(o.rowNodeTransactions);switch(o.step){case ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(o.groupState,o.rowNodeTransactions,o.rowNodeOrder,c,!!o.afterColumnsChanged);case ClientSideRowModelSteps.FILTER:this.doFilter(c);case ClientSideRowModelSteps.PIVOT:this.doPivot(c);case ClientSideRowModelSteps.AGGREGATE:this.doAggregate(c);case ClientSideRowModelSteps.FILTER_AGGREGATES:this.doFilterAggregates(c);case ClientSideRowModelSteps.SORT:this.doSort(o.rowNodeTransactions,c);case ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var h=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(c,h);var g={type:Events.EVENT_MODEL_UPDATED,animate:o.animate,keepRenderedRows:o.keepRenderedRows,newData:o.newData,newPage:!1,keepUndoRedoStack:o.keepUndoRedoStack};this.eventService.dispatchEvent(g)}},e.prototype.isEmpty=function(){var o=_.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return _.missing(this.rootNode)||o||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return _.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(o,c){var h=!c,g=!1,b,$=[],j=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(rt){var nt=h&&!g;h||(rt===c||rt===o)&&(h=!0);var ot=rt.group&&j;if(!ot){var _t=h&&!g,Et=rt.isParentOfNode(b);(_t||Et)&&$.push(rt)}nt&&(rt===c||rt===o)&&(g=!0,rt===c?b=c:b=o)}),$},e.prototype.setDatasource=function(o){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(o){return this.rowsToDisplay[o]},e.prototype.isRowPresent=function(o){return this.rowsToDisplay.indexOf(o)>=0},e.prototype.getRowIndexAtPixel=function(o){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var c=0,h=this.rowsToDisplay.length-1;if(o<=0)return 0;var g=_.last(this.rowsToDisplay);if(g.rowTop<=o)return this.rowsToDisplay.length-1;for(var b=-1,$=-1;;){var j=Math.floor((c+h)/2),rt=this.rowsToDisplay[j];if(this.isRowInPixel(rt,o))return j;rt.rowTop<o?c=j+1:rt.rowTop>o&&(h=j-1);var nt=b===c&&$===h;if(nt)return j;b=c,$=h}},e.prototype.isRowInPixel=function(o,c){var h=o.rowTop,g=o.rowTop+o.rowHeight,b=h<=c&&g>c;return b},e.prototype.forEachLeafNode=function(o){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(c,h){return o(c,h)})},e.prototype.forEachNode=function(o){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,o,RecursionType.Normal,0)},e.prototype.forEachNodeAfterFilter=function(o){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,o,RecursionType.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(o){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,o,RecursionType.AfterFilterAndSort,0)},e.prototype.forEachPivotNode=function(o){this.recursivelyWalkNodesAndCallback([this.rootNode],o,RecursionType.PivotNodes,0)},e.prototype.recursivelyWalkNodesAndCallback=function(o,c,h,g){if(!o)return g;for(var b=0;b<o.length;b++){var $=o[b];if(c($,g++),$.hasChildren()){var j=null;switch(h){case RecursionType.Normal:j=$.childrenAfterGroup;break;case RecursionType.AfterFilter:j=$.childrenAfterAggFilter;break;case RecursionType.AfterFilterAndSort:j=$.childrenAfterSort;break;case RecursionType.PivotNodes:j=$.leafGroup?null:$.childrenAfterSort;break}j&&(g=this.recursivelyWalkNodesAndCallback(j,c,h,g))}}return g},e.prototype.doAggregate=function(o){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:o})},e.prototype.doFilterAggregates=function(o){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:o}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(o){var c=this.gridOptionsWrapper.isTreeData(),h=this.columnModel.isPivotActive(),g=function(j){j&&j.forEach(function(rt){var nt=function(){rt.expanded=o,g(rt.childrenAfterGroup)};if(c){var ot=_.exists(rt.childrenAfterGroup);ot&&nt();return}if(h){var _t=!rt.leafGroup;_t&&nt();return}var Et=rt.group;Et&&nt()})};this.rootNode&&g(this.rootNode.childrenAfterGroup),this.refreshModel({step:ClientSideRowModelSteps.MAP});var b=o?"expandAll":"collapseAll",$={type:Events.EVENT_EXPAND_COLLAPSE_ALL,source:b};this.eventService.dispatchEvent($)},e.prototype.doSort=function(o,c){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:o,changedPath:c})},e.prototype.doRowGrouping=function(o,c,h,g,b){this.groupStage?(c?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:c,rowNodeOrder:h,changedPath:g}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:g,afterColumnsChanged:b}),this.restoreGroupState(o)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(g)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},e.prototype.restoreGroupState=function(o){o&&_.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(c,h){typeof o[h]=="boolean"&&(c.expanded=o[h])})},e.prototype.doFilter=function(o){this.filterStage.execute({rowNode:this.rootNode,changedPath:o})},e.prototype.doPivot=function(o){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:o})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var o={};return _.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(c,h){return o[h]=c.expanded}),o},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(o){var c=typeof o=="string"&&o.indexOf(RowNode.ID_PREFIX_ROW_GROUP)==0;if(c){var h=void 0;return this.forEachNode(function(g){g.id===o&&(h=g)}),h}return this.nodeManager.getRowNode(o)},e.prototype.setRowData=function(o){var c=this.getGroupState();this.nodeManager.setRowData(o),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var h={type:Events.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(h),this.refreshModel({step:ClientSideRowModelSteps.EVERYTHING,groupState:c,newData:!0})},e.prototype.batchUpdateRowData=function(o,c){var h=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var g=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){h.executeBatchUpdateRowData()},g)}this.rowDataTransactionBatch.push({rowDataTransaction:o,callback:c})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var o=this;this.valueCache.onDataChanged();var c=[],h=[],g=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function($){var j=o.nodeManager.updateRowData($.rowDataTransaction,void 0);h.push(j),$.callback&&c.push($.callback.bind(null,j)),typeof $.rowDataTransaction.addIndex=="number"&&(g=!0)}),this.commonUpdateRowData(h,void 0,g),c.length>0&&window.setTimeout(function(){c.forEach(function($){return $()})},0),h.length>0){var b={type:Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:h};this.eventService.dispatchEvent(b)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(o,c){this.valueCache.onDataChanged();var h=this.nodeManager.updateRowData(o,c),g=typeof o.addIndex=="number";return this.commonUpdateRowData([h],c,g),h},e.prototype.createRowNodeOrder=function(){var o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!o){var c={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var h=0;h<this.rootNode.allLeafChildren.length;h++){var g=this.rootNode.allLeafChildren[h];c[g.id]=h}return c}},e.prototype.commonUpdateRowData=function(o,c,h){var g=!this.gridOptionsWrapper.isSuppressAnimationFrame();h&&(c=this.createRowNodeOrder()),this.refreshModel({step:ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:o,rowNodeOrder:c,keepRenderedRows:!0,keepEditingRows:!0,animate:g}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var b={type:Events.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(b)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var o=!1;this.forEachNode(function(c){c.setRowHeight(c.rowHeight,!0);var h=c.detailNode;h&&h.setRowHeight(h.rowHeight,!0),o=!0}),o&&this.onRowHeightChanged()},__decorate$b([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$b([Autowired("selectionService")],e.prototype,"selectionService",void 0),__decorate$b([Autowired("filterManager")],e.prototype,"filterManager",void 0),__decorate$b([Autowired("valueCache")],e.prototype,"valueCache",void 0),__decorate$b([Autowired("beans")],e.prototype,"beans",void 0),__decorate$b([Autowired("filterStage")],e.prototype,"filterStage",void 0),__decorate$b([Autowired("sortStage")],e.prototype,"sortStage",void 0),__decorate$b([Autowired("flattenStage")],e.prototype,"flattenStage",void 0),__decorate$b([Optional("groupStage")],e.prototype,"groupStage",void 0),__decorate$b([Optional("aggregationStage")],e.prototype,"aggregationStage",void 0),__decorate$b([Optional("pivotStage")],e.prototype,"pivotStage",void 0),__decorate$b([Optional("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),__decorate$b([PostConstruct],e.prototype,"init",null),e=__decorate$b([Bean("rowModel")],e),e}(BeanStub),__extends$b=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$a=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},FilterStage=function(a){__extends$b(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.execute=function(o){var c=o.changedPath;this.filterService.filter(c)},__decorate$a([Autowired("filterService")],e.prototype,"filterService",void 0),e=__decorate$a([Bean("filterStage")],e),e}(BeanStub),__extends$a=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$9=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SortStage=function(a){__extends$a(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.execute=function(o){var c=this,h=this.sortController.getSortOptions(),g=_.exists(h)&&h.length>0,b=g&&_.exists(o.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),$=h.some(function(j){return!!c.columnModel.getGroupDisplayColumnForGroup(j.column.getId())});this.sortService.sort(h,g,b,o.rowNodeTransactions,o.changedPath,$)},__decorate$9([Autowired("sortService")],e.prototype,"sortService",void 0),__decorate$9([Autowired("sortController")],e.prototype,"sortController",void 0),__decorate$9([Autowired("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$9([Bean("sortStage")],e),e}(BeanStub),__extends$9=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$8=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},FlattenStage=function(a){__extends$9(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.execute=function(o){var c=o.rowNode,h=[],g={value:0},b=this.columnModel.isPivotMode(),$=b&&c.leafGroup,j=$?[c]:c.childrenAfterSort;this.recursivelyAddToRowsToDisplay(j,h,g,b,0);var rt=h.length>0,nt=!$&&rt&&this.gridOptionsWrapper.isGroupIncludeTotalFooter();return nt&&(this.ensureFooterNodeExists(c),this.addRowNodeToRowsToDisplay(c.sibling,h,g,0)),h},e.prototype.recursivelyAddToRowsToDisplay=function(o,c,h,g,b){if(!_.missingOrEmpty(o))for(var $=this.gridOptionsWrapper.isGroupHideOpenParents(),j=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),rt=!j&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),nt=0;nt<o.length;nt++){var ot=o[nt],_t=ot.hasChildren(),Et=g&&!_t,It=j&&_t&&ot.childrenAfterGroup.length===1,it=rt&&_t&&ot.leafGroup&&ot.childrenAfterGroup.length===1,st=g&&ot.leafGroup,Mt=$&&ot.expanded&&!ot.master&&!st,bt=!Et&&!Mt&&!It&&!it;if(bt&&this.addRowNodeToRowsToDisplay(ot,c,h,b),!(g&&ot.leafGroup)){if(_t){var Lt=It||it;if(ot.expanded||Lt){var pt=Lt?b:b+1;this.recursivelyAddToRowsToDisplay(ot.childrenAfterSort,c,h,g,pt),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(ot),this.addRowNodeToRowsToDisplay(ot.sibling,c,h,b))}}else if(ot.master&&ot.expanded){var Dt=this.createDetailNode(ot);this.addRowNodeToRowsToDisplay(Dt,c,h,b)}}}},e.prototype.addRowNodeToRowsToDisplay=function(o,c,h,g){var b=this.gridOptionsWrapper.isGroupMultiAutoColumn();c.push(o),o.setUiLevel(b?0:g)},e.prototype.ensureFooterNodeExists=function(o){if(!_.exists(o.sibling)){var c=new RowNode(this.beans);Object.keys(o).forEach(function(h){c[h]=o[h]}),c.footer=!0,c.setRowTop(null),c.setRowIndex(null),c.oldRowTop=null,_.exists(c.id)&&(c.id="rowGroupFooter_"+c.id),c.sibling=o,o.sibling=c}},e.prototype.createDetailNode=function(o){if(_.exists(o.detailNode))return o.detailNode;var c=new RowNode(this.beans);return c.detail=!0,c.selectable=!1,c.parent=o,_.exists(o.id)&&(c.id="detail_"+o.id),c.data=o.data,c.level=o.level+1,o.detailNode=c,c},__decorate$8([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$8([Autowired("beans")],e.prototype,"beans",void 0),e=__decorate$8([Bean("flattenStage")],e),e}(BeanStub),__extends$8=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$7=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},SortService=function(a){__extends$8(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},e.prototype.sort=function(o,c,h,g,b,$){var j=this,rt=this.gridOptionsWrapper.isGroupMaintainOrder(),nt=this.columnModel.getAllGridColumns().some(function(It){return It.isRowGroupActive()}),ot={};h&&g&&(ot=this.calculateDirtyNodes(g));var _t=this.columnModel.isPivotMode(),Et=function(It){j.pullDownGroupDataForHideOpenParents(It.childrenAfterAggFilter,!0);var it=_t&&It.leafGroup,st=rt&&nt&&!It.leafGroup&&!$;if(!c||st||it){var Mt=It.childrenAfterAggFilter.slice(0);if(rt&&It.childrenAfterSort){var bt=It.childrenAfterSort.reduce(function(pt,Dt,wt){return pt[Dt.id]=wt,pt},{});Mt.sort(function(pt,Dt){return(bt[pt.id]||0)-(bt[Dt.id]||0)})}It.childrenAfterSort=Mt}else h?It.childrenAfterSort=j.doDeltaSort(It,ot,b,o):It.childrenAfterSort=j.rowNodeSorter.doFullSort(It.childrenAfterAggFilter,o);if(It.sibling&&(It.sibling.childrenAfterSort=It.childrenAfterSort),j.updateChildIndexes(It),j.postSortFunc){var Lt={nodes:It.childrenAfterSort};j.postSortFunc(Lt)}};b&&b.forEachChangedNodeDepthFirst(Et),this.updateGroupDataForHideOpenParents(b)},e.prototype.calculateDirtyNodes=function(o){var c={},h=function(g){g&&g.forEach(function(b){return c[b.id]=!0})};return o&&o.forEach(function(g){h(g.add),h(g.update),h(g.remove)}),c},e.prototype.doDeltaSort=function(o,c,h,g){var b=this,$=o.childrenAfterAggFilter,j=o.childrenAfterSort;if(!j)return this.rowNodeSorter.doFullSort($,g);var rt={},nt=[];$.forEach(function(It){c[It.id]||!h.canSkip(It)?nt.push(It):rt[It.id]=!0});var ot=j.filter(function(It){return rt[It.id]}),_t=function(It,it){return{currentPos:it,rowNode:It}},Et=nt.map(_t).sort(function(It,it){return b.rowNodeSorter.compareRowNodes(g,It,it)});return this.mergeSortedArrays(g,Et,ot.map(_t)).map(function(It){var it=It.rowNode;return it})},e.prototype.mergeSortedArrays=function(o,c,h){for(var g=[],b=0,$=0;b<c.length&&$<h.length;){var j=this.rowNodeSorter.compareRowNodes(o,c[b],h[$]);j<0?g.push(c[b++]):g.push(h[$++])}for(;b<c.length;)g.push(c[b++]);for(;$<h.length;)g.push(h[$++]);return g},e.prototype.updateChildIndexes=function(o){if(!_.missing(o.childrenAfterSort))for(var c=o.childrenAfterSort,h=0;h<c.length;h++){var g=c[h],b=h===0,$=h===o.childrenAfterSort.length-1;g.setFirstChild(b),g.setLastChild($),g.setChildIndex(h)}},e.prototype.updateGroupDataForHideOpenParents=function(o){var c=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData()){var h="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return _.doOnce(function(){return console.warn(h)},"sortService.hideOpenParentsWithTreeData"),!1}var g=function(b){c.pullDownGroupDataForHideOpenParents(b.childrenAfterSort,!1),b.childrenAfterSort.forEach(function($){$.hasChildren()&&g($)})};o&&o.executeFromRootNode(function(b){return g(b)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(o,c){var h=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||_.missing(o)||o.forEach(function(g){var b=h.columnModel.getGroupDisplayColumns();b.forEach(function($){var j=$.getColDef().showRowGroup;if(typeof j!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var rt=j,nt=h.columnModel.getPrimaryColumn(rt),ot=nt===g.rowGroupColumn;if(!ot)if(c)g.setGroupValue($.getId(),void 0);else{var _t=g.getFirstChildOfFirstChild(nt);_t&&g.setGroupValue($.getId(),_t.key)}})})},__decorate$7([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$7([Autowired("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$7([PostConstruct],e.prototype,"init",null),e=__decorate$7([Bean("sortService")],e),e}(BeanStub),__extends$7=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$6=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},FilterService=function(a){__extends$7(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.filter=function(o){var c=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(c,o)},e.prototype.filterNodes=function(o,c){var h=this,g=function(rt,nt){rt.hasChildren()&&o&&!nt?rt.childrenAfterFilter=rt.childrenAfterGroup.filter(function(ot){var _t=ot.childrenAfterFilter&&ot.childrenAfterFilter.length>0,Et=ot.data&&h.filterManager.doesRowPassFilter({rowNode:ot});return _t||Et}):rt.childrenAfterFilter=rt.childrenAfterGroup,rt.sibling&&(rt.sibling.childrenAfterFilter=rt.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var b=function(rt,nt){if(rt.childrenAfterGroup)for(var ot=0;ot<rt.childrenAfterGroup.length;ot++){var _t=rt.childrenAfterGroup[ot],Et=nt||h.filterManager.doesRowPassFilter({rowNode:_t});_t.childrenAfterGroup?b(rt.childrenAfterGroup[ot],Et):g(_t,Et)}g(rt,nt)},$=function(rt){return b(rt,!1)};c.executeFromRootNode($)}else{var j=function(rt){return g(rt,!1)};c.forEachChangedNodeDepthFirst(j,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},__decorate$6([Autowired("filterManager")],e.prototype,"filterManager",void 0),e=__decorate$6([Bean("filterService")],e),e}(BeanStub),__extends$6=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$5=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__read=function(a,e){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var c=o.call(a),h,g=[],b;try{for(;(e===void 0||e-- >0)&&!(h=c.next()).done;)g.push(h.value)}catch($){b={error:$}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(b)throw b.error}}return g},ImmutableService=function(a){__extends$6(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},e.prototype.setRowData=function(o){var c=this.createTransactionForRowData(o);if(c){var h=__read(c,2),g=h[0],b=h[1],$=this.clientSideRowModel.updateRowData(g,b);$&&this.rowRenderer.refreshFullWidthRows($.update)}},e.prototype.createTransactionForRowData=function(o){if(_.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var c=this.gridOptionsWrapper.getRowIdFunc();if(c==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var h={remove:[],update:[],add:[]},g=this.clientSideRowModel.getCopyOfNodesMap(),b=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder(),$=b?void 0:{};return _.exists(o)&&o.forEach(function(j,rt){var nt=c({data:j,level:0}),ot=g[nt];if($&&($[nt]=rt),ot){var _t=ot.data!==j;_t&&h.update.push(j),g[nt]=void 0}else h.add.push(j)}),_.iterateObject(g,function(j,rt){rt&&h.remove.push(rt.data)}),[h,$]},__decorate$5([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate$5([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$5([Autowired("columnApi")],e.prototype,"columnApi",void 0),__decorate$5([Autowired("gridApi")],e.prototype,"gridApi",void 0),__decorate$5([Autowired("filterManager")],e.prototype,"filterManager",void 0),__decorate$5([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$5([Bean("immutableService")],e),e}(BeanStub),ClientSideRowModelModule={moduleName:ModuleNames.ClientSideRowModelModule,beans:[FilterStage,SortStage,FlattenStage,SortService,FilterService,ImmutableService],rowModels:{clientSide:ClientSideRowModel}},__extends$5$1=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$4=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},InfiniteBlock=function(a){__extends$5$1(e,a);function e(o,c,h){var g=a.call(this,o)||this;return g.parentCache=c,g.params=h,g.startRow=o*h.blockSize,g.endRow=g.startRow+h.blockSize,g}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(o,c,h){!o.id&&o.alreadyRendered&&(o.alreadyRendered=!1),_.exists(c)?o.setDataAndId(c,h.toString()):o.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var o=this,c=this.createLoadParams();if(_.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){o.params.datasource.getRows(c)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var o={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()};return o},e.prototype.forEachNode=function(o,c,h){var g=this;this.rowNodes.forEach(function(b,$){var j=g.startRow+$;j<h&&o(b,c.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(o,c){c===void 0&&(c=!1),c||(this.lastAccessed=this.params.lastAccessedSequence.next());var h=o-this.startRow;return this.rowNodes[h]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var o=0;o<this.params.blockSize;o++){var c=this.startRow+o,h=new RowNode(this.beans);h.setRowHeight(this.params.rowHeight),h.uiLevel=0,h.setRowIndex(c),h.setRowTop(this.params.rowHeight*c),this.rowNodes.push(h)}},e.prototype.processServerResult=function(o){var c=this;this.rowNodes.forEach(function(g,b){var $=o.rowData?o.rowData[b]:void 0;c.setDataAndId(g,$,c.startRow+b)});var h=o.rowCount!=null&&o.rowCount>=0?o.rowCount:void 0;this.parentCache.pageLoaded(this,h)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(o){o.clearRowTopAndRowIndex()})},__decorate$4([Autowired("beans")],e.prototype,"beans",void 0),__decorate$4([PostConstruct],e.prototype,"postConstruct",null),__decorate$4([PreDestroy],e.prototype,"destroyRowNodes",null),e}(RowNodeBlock),__extends$4$1=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$3=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},__param=function(a,e){return function(o,c){e(o,c,a)}},InfiniteCache=function(a){__extends$4$1(e,a);function e(o){var c=a.call(this)||this;return c.lastRowIndexKnown=!1,c.blocks={},c.blockCount=0,c.rowCount=o.initialRowCount,c.params=o,c}return e.prototype.setBeans=function(o){this.logger=o.create("InfiniteCache")},e.prototype.getRow=function(o,c){c===void 0&&(c=!1);var h=Math.floor(o/this.params.blockSize),g=this.blocks[h];if(!g){if(c)return;g=this.createBlock(h)}return g.getRow(o)},e.prototype.createBlock=function(o){var c=this.createBean(new InfiniteBlock(o,this,this.params));return this.blocks[c.getId()]=c,this.blockCount++,this.purgeBlocksIfNeeded(c),this.params.rowNodeBlockLoader.addBlock(c),c},e.prototype.refreshCache=function(){var o=this.blockCount==0;if(o){this.purgeCache();return}this.getBlocksInOrder().forEach(function(c){return c.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var o=this;this.getBlocksInOrder().forEach(function(c){return o.destroyBlock(c)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(o,c){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+o.getId()+", lastRow = "+c),this.checkRowCount(o,c),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(o){var c=this,h=this.getBlocksInOrder().filter(function(rt){return rt!=o}),g=function(rt,nt){return nt.getLastAccessed()-rt.getLastAccessed()};h.sort(g);var b=this.params.maxBlocksInCache>0,$=b?this.params.maxBlocksInCache-1:null,j=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;h.forEach(function(rt,nt){var ot=rt.getState()===InfiniteBlock.STATE_WAITING_TO_LOAD&&nt>=j,_t=b?nt>=$:!1;if(ot||_t){if(c.isBlockCurrentlyDisplayed(rt)||c.isBlockFocused(rt))return;c.removeBlockFromCache(rt)}})},e.prototype.isBlockFocused=function(o){var c=this.focusService.getFocusCellToUseAfterRefresh();if(!c||c.rowPinned!=null)return!1;var h=o.getStartRow(),g=o.getEndRow(),b=c.rowIndex>=h&&c.rowIndex<g;return b},e.prototype.isBlockCurrentlyDisplayed=function(o){var c=o.getStartRow(),h=o.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(c,h)},e.prototype.removeBlockFromCache=function(o){o&&this.destroyBlock(o)},e.prototype.checkRowCount=function(o,c){if(typeof c=="number"&&c>=0)this.rowCount=c,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var h=(o.getId()+1)*this.params.blockSize,g=h+this.params.overflowSize;this.rowCount<g&&(this.rowCount=g)}},e.prototype.setRowCount=function(o,c){this.rowCount=o,_.exists(c)&&(this.lastRowIndexKnown=c),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(o){var c=this,h=new NumberSequence;this.getBlocksInOrder().forEach(function(g){return g.forEachNode(o,h,c.rowCount)})},e.prototype.getBlocksInOrder=function(){var o=function(h,g){return h.getId()-g.getId()},c=_.getAllValuesInObject(this.blocks).sort(o);return c},e.prototype.destroyBlock=function(o){delete this.blocks[o.getId()],this.destroyBean(o),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(o)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var o={type:Events.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(o)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var o=this,c=[];this.getBlocksInOrder().forEach(function(h){var g=h.getId()*o.params.blockSize;g>=o.rowCount&&c.push(h)}),c.length>0&&c.forEach(function(h){return o.destroyBlock(h)})},e.prototype.purgeCache=function(){var o=this;this.getBlocksInOrder().forEach(function(c){return o.removeBlockFromCache(c)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(o,c){var h=this,g=[],b=-1,$=!1,j=new NumberSequence;_.missing(o)&&($=!0);var rt=!1;this.getBlocksInOrder().forEach(function(ot){if(!rt){if($&&b+1!==ot.getId()){rt=!0;return}b=ot.getId(),ot.forEachNode(function(_t){var Et=_t===o||_t===c;($||Et)&&g.push(_t),Et&&($=!$)},j,h.rowCount)}});var nt=rt||$;return nt?[]:g},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,__decorate$3([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$3([Autowired("focusService")],e.prototype,"focusService",void 0),__decorate$3([__param(0,Qualifier("loggerFactory"))],e.prototype,"setBeans",null),__decorate$3([PreDestroy],e.prototype,"destroyAllBlocks",null),e}(BeanStub),__extends$3$1=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$2=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},InfiniteRowModel=function(a){__extends$3$1(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getRowBounds=function(o){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*o}},e.prototype.ensureRowHeightsValid=function(o,c,h,g){return!1},e.prototype.init=function(){var o=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return o.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsWrapper.getInitialGroupOrderComparator()!=null){var o="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";_.doOnce(function(){return console.warn(o)},"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var o;this.cacheParams?o=this.isSortModelDifferent():o=!0,o&&this.reset()},e.prototype.isSortModelDifferent=function(){return!_.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return Constants.ROW_MODEL_TYPE_INFINITE},e.prototype.setDatasource=function(o){this.destroyDatasource(),this.datasource=o,o&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(o,c){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(o,c):[]},e.prototype.reset=function(){if(this.datasource){var o=this.gridOptionsWrapper.getRowIdFunc(),c=o!=null;c||this.selectionService.reset(),this.resetCache();var h=this.createModelUpdatedEvent();this.eventService.dispatchEvent(h)}},e.prototype.createModelUpdatedEvent=function(){return{type:Events.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new NumberSequence},this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams))},e.prototype.defaultIfInvalid=function(o,c){return o>0?o:c},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var o=this.createModelUpdatedEvent();this.eventService.dispatchEvent(o)},e.prototype.getRow=function(o){if(this.infiniteCache&&!(o>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(o)},e.prototype.getRowNode=function(o){var c;return this.forEachNode(function(h){h.id===o&&(c=h)}),c},e.prototype.forEachNode=function(o){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(o)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(o){return o},e.prototype.getRowIndexAtPixel=function(o){if(this.rowHeight!==0){var c=Math.floor(o/this.rowHeight),h=this.getRowCount()-1;return c>h?h:c}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(o){var c=this.getRowNode(o.id);return!!c},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(o,c){this.infiniteCache&&this.infiniteCache.setRowCount(o,c)},__decorate$2([Autowired("filterManager")],e.prototype,"filterManager",void 0),__decorate$2([Autowired("sortController")],e.prototype,"sortController",void 0),__decorate$2([Autowired("selectionService")],e.prototype,"selectionService",void 0),__decorate$2([Autowired("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$2([Autowired("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$2([PostConstruct],e.prototype,"init",null),__decorate$2([PreDestroy],e.prototype,"destroyDatasource",null),e=__decorate$2([Bean("rowModel")],e),e}(BeanStub),InfiniteRowModelModule={moduleName:ModuleNames.InfiniteRowModelModule,rowModels:{infinite:InfiniteRowModel}},BaseCreator=function(){function a(){}return a.prototype.setBeans=function(e){this.beans=e},a.prototype.getFileName=function(e){var o=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?e+"."+o:e},a.prototype.getData=function(e){var o=this.createSerializingSession(e),c=this.beans.gridSerializer.serialize(o,e);return c},a}(),BaseGridSerializingSession=function(){function a(e){this.groupColumns=[];var o=e.columnModel,c=e.valueService,h=e.gridOptionsWrapper,g=e.processCellCallback,b=e.processHeaderCallback,$=e.processGroupHeaderCallback,j=e.processRowGroupCallback;this.columnModel=o,this.valueService=c,this.gridOptionsWrapper=h,this.processCellCallback=g,this.processHeaderCallback=b,this.processGroupHeaderCallback=$,this.processRowGroupCallback=j}return a.prototype.prepare=function(e){this.groupColumns=e.filter(function(o){return!!o.getColDef().showRowGroup})},a.prototype.extractHeaderValue=function(e){var o=this.getHeaderName(this.processHeaderCallback,e);return o??""},a.prototype.extractRowCellValue=function(e,o,c,h,g){var b=this.gridOptionsWrapper.isGroupHideOpenParents(),$=!b&&this.shouldRenderGroupSummaryCell(g,e,o)?this.createValueForGroupNode(g):this.valueService.getValue(e,g),j=this.processCell({accumulatedRowIndex:c,rowNode:g,column:e,value:$,processCellCallback:this.processCellCallback,type:h});return j??""},a.prototype.shouldRenderGroupSummaryCell=function(e,o,c){var h,g=e&&e.group;if(!g)return!1;var b=this.groupColumns.indexOf(o);if(b!==-1&&(!((h=e.groupData)===null||h===void 0)&&h[o.getId()]))return!0;var $=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode());return c===0&&$},a.prototype.getHeaderName=function(e,o){return e?e({column:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(o,"csv",!0)},a.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var o=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,o.push(e.key);return o.reverse().join(" -> ")},a.prototype.processCell=function(e){var o=e.accumulatedRowIndex,c=e.rowNode,h=e.column,g=e.value,b=e.processCellCallback,$=e.type;return b?b({accumulatedRowIndex:o,column:h,node:c,value:g,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:$}):g??""},a}(),Downloader=function(){function a(){}return a.download=function(e,o){var c=document.defaultView||window;if(!c){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var h=document.createElement("a"),g=c.URL.createObjectURL(o);h.setAttribute("href",g),h.setAttribute("download",e),h.style.display="none",document.body.appendChild(h),h.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:c})),document.body.removeChild(h),c.setTimeout(function(){c.URL.revokeObjectURL(g)},0)},a}(),__extends$2$1=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),LINE_SEPARATOR$1=`\r
`,CsvSerializingSession=function(a){__extends$2$1(e,a);function e(o){var c=a.call(this,o)||this;c.isFirstLine=!0,c.result="";var h=o.suppressQuotes,g=o.columnSeparator;return c.suppressQuotes=h,c.columnSeparator=g,c}return e.prototype.addCustomContent=function(o){var c=this;o&&(typeof o=="string"?(/^\s*\n/.test(o)||this.beginNewLine(),o=o.replace(/\r?\n/g,LINE_SEPARATOR$1),this.result+=o):o.forEach(function(h){c.beginNewLine(),h.forEach(function(g,b){b!==0&&(c.result+=c.columnSeparator),c.result+=c.putInQuotes(g.data.value||""),g.mergeAcross&&c.appendEmptyCells(g.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(o,c,h,g){h!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(c),this.appendEmptyCells(g)},e.prototype.appendEmptyCells=function(o){for(var c=1;c<=o;c++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(o,c){c!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(o))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(o,c,h){c!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(o,c,c,Constants.EXPORT_TYPE_CSV,h))},e.prototype.putInQuotes=function(o){if(this.suppressQuotes)return o;if(o==null)return'""';var c;typeof o=="string"?c=o:typeof o.toString=="function"?c=o.toString():(console.warn("AG Grid: unknown value type during csv conversion"),c="");var h=c.replace(/"/g,'""');return'"'+h+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=LINE_SEPARATOR$1),this.isFirstLine=!1},e}(BaseGridSerializingSession),__extends$1$1=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate$1=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},CsvCreator=function(a){__extends$1$1(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.getMergedParams=function(o){var c=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},c,o)},e.prototype.export=function(o){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var c=this.getMergedParams(o),h=this.getData(c),g=new Blob(["\uFEFF",h],{type:"text/plain"});return Downloader.download(this.getFileName(c.fileName),g),h},e.prototype.exportDataAsCsv=function(o){return this.export(o)},e.prototype.getDataAsCsv=function(o,c){c===void 0&&(c=!1);var h=c?Object.assign({},o):this.getMergedParams(o);return this.getData(h)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(o){var c=this,h=c.columnModel,g=c.valueService,b=c.gridOptionsWrapper,$=o,j=$.processCellCallback,rt=$.processHeaderCallback,nt=$.processGroupHeaderCallback,ot=$.processRowGroupCallback,_t=$.suppressQuotes,Et=$.columnSeparator;return new CsvSerializingSession({columnModel:h,valueService:g,gridOptionsWrapper:b,processCellCallback:j||void 0,processHeaderCallback:rt||void 0,processGroupHeaderCallback:nt||void 0,processRowGroupCallback:ot||void 0,suppressQuotes:_t||!1,columnSeparator:Et||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},__decorate$1([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate$1([Autowired("valueService")],e.prototype,"valueService",void 0),__decorate$1([Autowired("gridSerializer")],e.prototype,"gridSerializer",void 0),__decorate$1([Autowired("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),__decorate$1([PostConstruct],e.prototype,"postConstruct",null),e=__decorate$1([Bean("csvCreator")],e),e}(BaseCreator),__extends$2V=function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__decorate=function(a,e,o,c){var h=arguments.length,g=h<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,o):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,e,o,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(g=(h<3?b(g):h>3?b(e,o,g):b(e,o))||g);return h>3&&g&&Object.defineProperty(e,o,g),g},RowType;(function(a){a[a.HEADER_GROUPING=0]="HEADER_GROUPING",a[a.HEADER=1]="HEADER",a[a.BODY=2]="BODY"})(RowType||(RowType={}));var GridSerializer=function(a){__extends$2V(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.serialize=function(o,c){c===void 0&&(c={});var h=this.getColumnsToExport(c.allColumns,c.columnKeys),g=_.compose(this.prepareSession(h),this.prependContent(c),this.exportColumnGroups(c,h),this.exportHeaders(c,h),this.processPinnedTopRows(c,h),this.processRows(c,h),this.processPinnedBottomRows(c,h),this.appendContent(c));return g(o).parse()},e.prototype.processRow=function(o,c,h,g){var b=c.shouldRowBeSkipped||function(){return!1},$=this.gridOptionsWrapper,j=$.getContext(),rt=$.getApi(),nt=$.getColumnApi(),ot=$.isGroupRemoveSingleChildren(),_t=$.isGroupRemoveLowestSingleChildren(),Et=c.rowPositions!=null,It=Et||!!c.onlySelected,it=$.isGroupHideOpenParents()&&!It,st=this.columnModel.isPivotMode()?g.leafGroup:!g.group,Mt=c.skipGroups||c.skipRowGroups,bt=_t&&g.leafGroup,Lt=g.allChildrenCount===1&&(ot||bt);if(Mt&&c.skipGroups&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!st&&(c.skipRowGroups||Lt||it)||c.onlySelected&&!g.isSelected()||c.skipPinnedTop&&g.rowPinned==="top"||c.skipPinnedBottom&&g.rowPinned==="bottom")){var pt=g.level===-1;if(!(pt&&!g.leafGroup&&(!g.footer||!Et))){var Dt=b({node:g,api:rt,columnApi:nt,context:j});if(!Dt){var wt=o.onNewBodyRow();if(h.forEach(function(jt,hr){wt.onColumn(jt,hr,g)}),c.getCustomContentBelowRow){var Bt=c.getCustomContentBelowRow({node:g,api:rt,columnApi:nt,context:j});Bt&&o.addCustomContent(Bt)}}}}},e.prototype.appendContent=function(o){return function(c){var h=o.customFooter||o.appendContent;return h&&(o.customFooter&&_.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),c.addCustomContent(h)),c}},e.prototype.prependContent=function(o){return function(c){var h=o.customHeader||o.prependContent;return h&&(o.customHeader&&_.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),c.addCustomContent(h)),c}},e.prototype.prepareSession=function(o){return function(c){return c.prepare(o),c}},e.prototype.exportColumnGroups=function(o,c){var h=this;return function(g){if(o.skipColumnGroupHeaders)o.columnGroups&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var b=new GroupInstanceIdCreator,$=h.displayedGroupCreator.createDisplayedGroups(c,h.columnModel.getGridBalancedTree(),b,null);h.recursivelyAddHeaderGroups($,g,o.processGroupHeaderCallback)}return g}},e.prototype.exportHeaders=function(o,c){return function(h){if(!o.skipHeader&&!o.skipColumnHeaders){var g=h.onNewHeaderRow();c.forEach(function(b,$){g.onColumn(b,$,void 0)})}else o.skipHeader&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");return h}},e.prototype.processPinnedTopRows=function(o,c){var h=this;return function(g){var b=h.processRow.bind(h,g,o,c);return o.rowPositions?o.rowPositions.filter(function($){return $.rowPinned==="top"}).sort(function($,j){return $.rowIndex-j.rowIndex}).map(function($){return h.pinnedRowModel.getPinnedTopRow($.rowIndex)}).forEach(b):h.pinnedRowModel.forEachPinnedTopRow(b),g}},e.prototype.processRows=function(o,c){var h=this;return function(g){var b=h.rowModel,$=b.getType(),j=$===Constants.ROW_MODEL_TYPE_CLIENT_SIDE,rt=$===Constants.ROW_MODEL_TYPE_SERVER_SIDE,nt=!j&&o.onlySelected,ot=h.processRow.bind(h,g,o,c),_t=o.exportedRows,Et=_t===void 0?"filteredAndSorted":_t;if(o.rowPositions)o.rowPositions.filter(function(it){return it.rowPinned==null}).sort(function(it,st){return it.rowIndex-st.rowIndex}).map(function(it){return b.getRow(it.rowIndex)}).forEach(ot);else if(h.columnModel.isPivotMode())j?b.forEachPivotNode(ot):b.forEachNode(ot);else if(o.onlySelectedAllPages||nt){var It=h.selectionService.getSelectedNodes();It.forEach(ot)}else Et==="all"?b.forEachNode(ot):j||rt?b.forEachNodeAfterFilterAndSort(ot):b.forEachNode(ot);return g}},e.prototype.processPinnedBottomRows=function(o,c){var h=this;return function(g){var b=h.processRow.bind(h,g,o,c);return o.rowPositions?o.rowPositions.filter(function($){return $.rowPinned==="bottom"}).sort(function($,j){return $.rowIndex-j.rowIndex}).map(function($){return h.pinnedRowModel.getPinnedBottomRow($.rowIndex)}).forEach(b):h.pinnedRowModel.forEachPinnedBottomRow(b),g}},e.prototype.getColumnsToExport=function(o,c){o===void 0&&(o=!1);var h=this.columnModel.isPivotMode();if(c&&c.length)return this.columnModel.getGridColumns(c);if(o&&!h){var g=this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([Constants.GROUP_AUTO_COLUMN_ID]):[];return g.concat(this.columnModel.getAllPrimaryColumns()||[])}return this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(o,c,h){var g=[];o.forEach(function(b){var $=b;$.getChildren&&$.getChildren().forEach(function(j){return g.push(j)})}),o.length>0&&o[0]instanceof ColumnGroup&&this.doAddHeaderHeader(c,o,h),g&&g.length>0&&this.recursivelyAddHeaderGroups(g,c,h)},e.prototype.doAddHeaderHeader=function(o,c,h){var g=this,b=o.onNewHeaderGroupingRow(),$=0;c.forEach(function(j){var rt=j,nt;h?nt=h({columnGroup:rt,api:g.gridOptionsWrapper.getApi(),columnApi:g.gridOptionsWrapper.getColumnApi(),context:g.gridOptionsWrapper.getContext()}):nt=g.columnModel.getDisplayNameForColumnGroup(rt,"header");var ot=rt.getLeafColumns().reduce(function(_t,Et,It,it){var st=_.last(_t),Mt=Et.getColumnGroupShow()==="open";return Mt?(!st||st[1]!=null)&&(st=[It],_t.push(st)):st&&st[1]==null&&(st[1]=It-1),It===it.length-1&&st&&st[1]==null&&(st[1]=It),_t},[]);b.onColumn(rt,nt||"",$++,rt.getLeafColumns().length-1,ot)})},__decorate([Autowired("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),__decorate([Autowired("columnModel")],e.prototype,"columnModel",void 0),__decorate([Autowired("rowModel")],e.prototype,"rowModel",void 0),__decorate([Autowired("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate([Autowired("selectionService")],e.prototype,"selectionService",void 0),__decorate([Autowired("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),e=__decorate([Bean("gridSerializer")],e),e}(BeanStub),CsvExportModule={moduleName:ModuleNames.CsvExportModule,beans:[CsvCreator,GridSerializer]},LINE_SEPARATOR=`\r
`,XmlFactory=function(){function a(){}return a.createHeader=function(e){e===void 0&&(e={});var o="<?",c="?>",h=["version"];e.version||(e.version="1.0"),e.encoding&&h.push("encoding"),e.standalone&&h.push("standalone");var g=h.map(function(b){return b+'="'+e[b]+'"'}).join(" ");return o+"xml "+g+" "+c},a.createXml=function(e,o){var c=this,h="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(b){Object.keys(b.map).forEach(function($){h+=c.returnAttributeIfPopulated(b.prefix+$,b.map[$],o)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(b){h+=c.returnAttributeIfPopulated(b,e.properties.rawMap[b],o)}));var g="<"+e.name+h;return!e.children&&e.textNode==null?g+"/>"+LINE_SEPARATOR:e.textNode!=null?g+">"+e.textNode+"</"+e.name+">"+LINE_SEPARATOR:(g+=">"+LINE_SEPARATOR,e.children&&e.children.forEach(function(b){g+=c.createXml(b,o)}),g+"</"+e.name+">"+LINE_SEPARATOR)},a.returnAttributeIfPopulated=function(e,o,c){if(!o&&o!==""&&o!==0)return"";var h=o;return typeof o=="boolean"&&c&&(h=c(o))," "+e+'="'+h+'"'},a}(),__values=function(a){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&a[e],c=0;if(o)return o.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},crcTable=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ZipContainer=function(){function a(){}return a.addFolders=function(e){e.forEach(this.addFolder.bind(this))},a.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},a.addFile=function(e,o,c){c===void 0&&(c=!1),this.files.push({path:e,created:new Date,content:o,isBase64:c})},a.getContent=function(e){e===void 0&&(e="application/zip");var o=this.buildFileStream(),c=this.buildUint8Array(o);return this.clearStream(),new Blob([c],{type:e})},a.clearStream=function(){this.folders=[],this.files=[]},a.buildFileStream=function(e){var o,c;e===void 0&&(e="");var h=this.folders.concat(this.files),g=h.length,b="",$=0,j=0;try{for(var rt=__values(h),nt=rt.next();!nt.done;nt=rt.next()){var ot=nt.value,_t=this.getHeader(ot,$),Et=_t.fileHeader,It=_t.folderHeader,it=_t.content;$+=Et.length+it.length,j+=It.length,e+=Et+it,b+=It}}catch(Mt){o={error:Mt}}finally{try{nt&&!nt.done&&(c=rt.return)&&c.call(rt)}finally{if(o)throw o.error}}var st=this.buildFolderEnd(g,j,$);return e+b+st},a.getHeader=function(e,o){var c=e.content,h=e.path,g=e.created,b=e.isBase64,$=_.utf8_encode,j=_.decToHex,rt=$(h),nt=rt!==h,ot=this.convertTime(g),_t=this.convertDate(g),Et="";if(nt){var It=j(1,1)+j(this.getFromCrc32Table(rt),4)+rt;Et="up"+j(It.length,2)+It}var it=c?this.getConvertedContent(c,b):{size:0,content:""},st=it.size,Mt=it.content,bt=`
\0`+(nt?"\0\b":"\0\0")+"\0\0"+j(ot,2)+j(_t,2)+j(st?this.getFromCrc32Table(Mt):0,4)+j(st,4)+j(st,4)+j(rt.length,2)+j(Et.length,2),Lt="PK"+bt+rt+Et,pt="PK\0"+bt+"\0\0\0\0\0\0"+(c?"\0\0\0\0":"\0\0\0")+j(o,4)+rt+Et;return{fileHeader:Lt,folderHeader:pt,content:Mt||""}},a.getConvertedContent=function(e,o){return o===void 0&&(o=!1),o&&(e=e.split(";base64,")[1]),e=o?atob(e):e,{size:e.length,content:e}},a.buildFolderEnd=function(e,o,c){var h=_.decToHex;return"PK\0\0\0\0"+h(e,2)+h(e,2)+h(o,4)+h(c,4)+"\0\0"},a.buildUint8Array=function(e){for(var o=new Uint8Array(e.length),c=0;c<o.length;c++)o[c]=e.charCodeAt(c);return o},a.getFromCrc32Table=function(e){if(!e.length)return 0;for(var o=e.length,c=new Uint8Array(o),h=0;h<o;h++)c[h]=e.charCodeAt(h);for(var g=-1,b=0,$=0,j=0,h=0;h<o;h++)b=c[h],$=(g^b)&255,j=crcTable[$],g=g>>>8^j;return g^-1},a.convertTime=function(e){var o=e.getHours();return o<<=6,o=o|e.getMinutes(),o<<=5,o=o|e.getSeconds()/2,o},a.convertDate=function(e){var o=e.getFullYear()-1980;return o<<=4,o=o|e.getMonth()+1,o<<=5,o=o|e.getDate(),o},a.folders=[],a.files=[],a}(),AllCommunityModules=[ClientSideRowModelModule,InfiniteRowModelModule,CsvExportModule];ModuleRegistry.registerModules(AllCommunityModules);const agGridCommunity_auto_esm=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl,AgAbstractField,AgAngleSelect,AgCheckbox,AgColorPicker,AgDialog,AgGroupComponent,AgInputNumberField,AgInputRange,AgInputTextArea,AgInputTextField,AgMenuItemComponent,AgMenuList,AgMenuPanel,AgPanel,AgPromise,get AgPromiseStatus(){return AgPromiseStatus},AgRadioButton,AgSelect,AgSlider,AgStackComponentsRegistry,AgToggleButton,AlignedGridsService,AllCommunityModules,AnimateShowChangeCellRenderer,AnimateSlideCellRenderer,AnimationFrameService,AutoScrollService,AutoWidthCalculator,Autowired,get BarColumnLabelPlacement(){return BarColumnLabelPlacement},BaseComponentWrapper,BaseCreator,BaseGridSerializingSession,Bean,BeanStub,Beans,BodyDropPivotTarget,BodyDropTarget,CHART_TOOLBAR_ALLOW_LIST,CHART_TOOL_PANEL_ALLOW_LIST,CHART_TOOL_PANEL_MENU_OPTIONS,CellComp,CellCtrl,CellNavigationService,CellPositionUtils,get CellRangeType(){return CellRangeType},ChangedPath,CheckboxSelectionComponent,ClientSideRowModelModule,get ClientSideRowModelSteps(){return ClientSideRowModelSteps},ColDefUtil,Color:Color$1,Column,ColumnApi,ColumnFactory,ColumnGroup,ColumnKeyCreator,ColumnModel,ColumnUtils,Component,ComponentUtil,Constants,Context,CssClassApplier,CssClassManager,CsvCreator,CsvExportModule,CtrlsService,CustomTooltipFeature,DEFAULT_CHART_GROUPS,DateFilter,DisplayedGroupCreator,Downloader,DragAndDropService,DragService,get DragSourceType(){return DragSourceType},Environment,EventService,Events,get ExcelFactoryMode(){return ExcelFactoryMode},ExpressionService,FilterManager,FloatingFilterMapper,FocusService,Grid,GridApi,GridBodyComp:GridBodyComp$1,GridBodyCtrl,GridComp:GridComp$1,GridCoreCreator,GridCtrl,GridHeaderComp:GridHeaderComp$1,GridHeaderCtrl,GridOptionsWrapper,GridSerializer,GroupCellRenderer:GroupCellRenderer$1,GroupCellRendererCtrl,GroupInstanceIdCreator,HeaderCellCtrl,HeaderFilterCellComp:HeaderFilterCellComp$1,HeaderFilterCellCtrl,HeaderGroupCellCtrl,get HeaderNavigationDirection(){return HeaderNavigationDirection},HeaderNavigationService,HeaderPositionUtils,HeaderRowComp:HeaderRowComp$1,HeaderRowContainerComp:HeaderRowContainerComp$1,HeaderRowContainerCtrl,HeaderRowCtrl,get HeaderRowType(){return HeaderRowType},get HorizontalDirection(){return HorizontalDirection},HorizontalResizeService,InfiniteRowModelModule,KeyCode,LargeTextCellEditor,get LayoutCssClasses(){return LayoutCssClasses},Logger,LoggerFactory,ManagedFocusFeature,get ModuleNames(){return ModuleNames},ModuleRegistry,MouseEventService,MoveColumnFeature,NavigationService,NumberFilter,NumberSequence,Optional,PaginationProxy,PinnedRowModel,PopupComponent,PopupEditorWrapper,PopupSelectCellEditor,PopupService,PopupTextCellEditor,PositionableFeature,PostConstruct,PreConstruct,PreDestroy,PropertyKeys,ProvidedColumnGroup,ProvidedFilter,Qualifier,QuerySelector,RefSelector,ResizeObserverService,get RowAnimationCssClasses(){return RowAnimationCssClasses},RowContainerComp:RowContainerComp$1,RowContainerCtrl,get RowContainerName(){return RowContainerName},get RowContainerType(){return RowContainerType},RowCtrl,get RowHighlightPosition(){return RowHighlightPosition},RowNode,RowNodeBlock,RowNodeBlockLoader,RowNodeSorter,RowPositionUtils,RowRenderer,get RowType(){return RowType},ScalarFilter,ScrollVisibleService,SelectCellEditor,SelectableService,get SelectionHandleType(){return SelectionHandleType},SelectionService,get ServerSideTransactionResultStatus(){return ServerSideTransactionResultStatus},SetLeftFeature,SimpleFilter,SortController,SortIndicatorComp,StandardMenuFactory,StylingService,TabGuardComp:TabGuardComp$1,TabGuardCtrl,TabbedLayout,TemplateService,TextCellEditor,TextFilter,TextFloatingFilter,Timer,TouchListener,UserComponentFactory,UserComponentRegistry,ValueCache,ValueFormatterService,ValueService,VanillaFrameworkOverrides,get VerticalDirection(){return VerticalDirection},VirtualList,XmlFactory,ZipContainer,_,defaultGroupComparator,getRowContainerTypeForName,simpleHttpRequest,stringToArray},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(agGridCommunity_auto_esm);var legacyReactComponent={},reactComponent={},__extends$5=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(reactComponent,"__esModule",{value:!0});var BaseReactComponent=function(){function a(){}return a}(),ReactComponent=function(a){__extends$5(e,a);function e(o,c,h){var g=a.call(this)||this;return g.portal=null,g.reactComponent=o,g.portalManager=c,g.componentType=h,g.statelessComponent=g.isStateless(g.reactComponent),g}return e.prototype.getGui=function(){return this.eParentElement},e.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},e.prototype.createParentElement=function(o){var c=this.portalManager.getComponentWrappingElement(),h=document.createElement(c||"div");return h.classList.add("ag-react-container"),o.reactContainer=h,h},e.prototype.addParentContainerStyleAndClasses=function(){var o=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){var c=this.componentInstance.getReactContainerClasses();c.forEach(function(h){return o.eParentElement.classList.add(h)})}},e.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},e.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},e.prototype.isStatelessComponent=function(){return this.statelessComponent},e.prototype.getReactComponentName=function(){return this.reactComponent.name},e.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},e.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},e.prototype.isStateless=function(o){return typeof o=="function"&&!(o.prototype&&o.prototype.isReactComponent)||typeof o=="object"&&o.$$typeof===this.getMemoType()},e.prototype.hasMethod=function(o){var c=this.getFrameworkComponentInstance();return!!c&&c[o]!==null||this.fallbackMethodAvailable(o)},e.prototype.callMethod=function(o,c){var h=this,g=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(o,c&&c[0]?c[0]:{});if(!g){setTimeout(function(){return h.callMethod(o,c)});return}var b=g[o];if(b)return b.apply(g,c);if(this.fallbackMethodAvailable(o))return this.fallbackMethod(o,c&&c[0]?c[0]:{})},e.prototype.addMethod=function(o,c){this[o]=c},e}(BaseReactComponent);reactComponent.ReactComponent=ReactComponent;var server_browser={},reactDomServerLegacy_browser_production_min={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=reactExports;function l$2(a){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+a,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+a+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p$1=Object.prototype.hasOwnProperty,fa$2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha$2={},ia$2={};function ja$1(a){return p$1.call(ia$2,a)?!0:p$1.call(ha$2,a)?!1:fa$2.test(a)?ia$2[a]=!0:(ha$2[a]=!0,!1)}function r(a,e,o,c,h,g,b){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=a,this.type=e,this.sanitizeURL=g,this.removeEmptyString=b}var t$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){t$1[a]=new r(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var e=a[0];t$1[e]=new r(e,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){t$1[a]=new r(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){t$1[a]=new r(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){t$1[a]=new r(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){t$1[a]=new r(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){t$1[a]=new r(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){t$1[a]=new r(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){t$1[a]=new r(a,5,!1,a.toLowerCase(),null,!1,!1)});var ka$2=/[\-:]([a-z])/g;function la$2(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var e=a.replace(ka$2,la$2);t$1[e]=new r(e,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var e=a.replace(ka$2,la$2);t$1[e]=new r(e,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var e=a.replace(ka$2,la$2);t$1[e]=new r(e,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){t$1[a]=new r(a,1,!1,a.toLowerCase(),null,!1,!1)});t$1.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){t$1[a]=new r(a,1,!1,a.toLowerCase(),null,!0,!0)});var u$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma$1=["Webkit","ms","Moz","O"];Object.keys(u$1).forEach(function(a){ma$1.forEach(function(e){e=e+a.charAt(0).toUpperCase()+a.substring(1),u$1[e]=u$1[a]})});var na$1=/["'&<>]/;function v(a){if(typeof a=="boolean"||typeof a=="number")return""+a;a=""+a;var e=na$1.exec(a);if(e){var o="",c,h=0;for(c=e.index;c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}h!==c&&(o+=a.substring(h,c)),h=c+1,o+=e}a=h!==c?o+a.substring(h,c):o}return a}var oa$2=/([A-Z])/g,pa$2=/^ms-/,qa$2=Array.isArray;function w$1(a,e){return{insertionMode:a,selectedValue:e}}function ra$2(a,e,o){switch(e){case"select":return w$1(1,o.value!=null?o.value:o.defaultValue);case"svg":return w$1(2,null);case"math":return w$1(3,null);case"foreignObject":return w$1(1,null);case"table":return w$1(4,null);case"thead":case"tbody":case"tfoot":return w$1(5,null);case"colgroup":return w$1(7,null);case"tr":return w$1(6,null)}return 4<=a.insertionMode||a.insertionMode===0?w$1(1,null):a}var sa$1=new Map;function ta$2(a,e,o){if(typeof o!="object")throw Error(l$2(62));e=!0;for(var c in o)if(p$1.call(o,c)){var h=o[c];if(h!=null&&typeof h!="boolean"&&h!==""){if(c.indexOf("--")===0){var g=v(c);h=v((""+h).trim())}else{g=c;var b=sa$1.get(g);b!==void 0||(b=v(g.replace(oa$2,"-$1").toLowerCase().replace(pa$2,"-ms-")),sa$1.set(g,b)),g=b,h=typeof h=="number"?h===0||p$1.call(u$1,c)?""+h:h+"px":v((""+h).trim())}e?(e=!1,a.push(' style="',g,":",h)):a.push(";",g,":",h)}}e||a.push('"')}function x$1(a,e,o,c){switch(o){case"style":ta$2(a,e,c);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"){if(e=t$1.hasOwnProperty(o)?t$1[o]:null,e!==null){switch(typeof c){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(o=e.attributeName,e.type){case 3:c&&a.push(" ",o,'=""');break;case 4:c===!0?a.push(" ",o,'=""'):c!==!1&&a.push(" ",o,'="',v(c),'"');break;case 5:isNaN(c)||a.push(" ",o,'="',v(c),'"');break;case 6:!isNaN(c)&&1<=c&&a.push(" ",o,'="',v(c),'"');break;default:e.sanitizeURL&&(c=""+c),a.push(" ",o,'="',v(c),'"')}}else if(ja$1(o)){switch(typeof c){case"function":case"symbol":return;case"boolean":if(e=o.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}a.push(" ",o,'="',v(c),'"')}}}function y$1(a,e,o){if(e!=null){if(o!=null)throw Error(l$2(60));if(typeof e!="object"||!("__html"in e))throw Error(l$2(61));e=e.__html,e!=null&&a.push(""+e)}}function ua$2(a){var e="";return aa$2.Children.forEach(a,function(o){o!=null&&(e+=o)}),e}function va$2(a,e,o,c){a.push(A(o));var h=o=null,g;for(g in e)if(p$1.call(e,g)){var b=e[g];if(b!=null)switch(g){case"children":o=b;break;case"dangerouslySetInnerHTML":h=b;break;default:x$1(a,c,g,b)}}return a.push(">"),y$1(a,h,o),typeof o=="string"?(a.push(v(o)),null):o}var wa$2=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xa$2=new Map;function A(a){var e=xa$2.get(a);if(e===void 0){if(!wa$2.test(a))throw Error(l$2(65,a));e="<"+a,xa$2.set(a,e)}return e}function ya$2(a,e,o,c,h){switch(e){case"select":a.push(A("select"));var g=null,b=null;for(nt in o)if(p$1.call(o,nt)){var $=o[nt];if($!=null)switch(nt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"defaultValue":case"value":break;default:x$1(a,c,nt,$)}}return a.push(">"),y$1(a,b,g),g;case"option":b=h.selectedValue,a.push(A("option"));var j=$=null,rt=null,nt=null;for(g in o)if(p$1.call(o,g)){var ot=o[g];if(ot!=null)switch(g){case"children":$=ot;break;case"selected":rt=ot;break;case"dangerouslySetInnerHTML":nt=ot;break;case"value":j=ot;default:x$1(a,c,g,ot)}}if(b!=null)if(o=j!==null?""+j:ua$2($),qa$2(b)){for(c=0;c<b.length;c++)if(""+b[c]===o){a.push(' selected=""');break}}else""+b===o&&a.push(' selected=""');else rt&&a.push(' selected=""');return a.push(">"),y$1(a,nt,$),$;case"textarea":a.push(A("textarea")),nt=b=g=null;for($ in o)if(p$1.call(o,$)&&(j=o[$],j!=null))switch($){case"children":nt=j;break;case"value":g=j;break;case"defaultValue":b=j;break;case"dangerouslySetInnerHTML":throw Error(l$2(91));default:x$1(a,c,$,j)}if(g===null&&b!==null&&(g=b),a.push(">"),nt!=null){if(g!=null)throw Error(l$2(92));if(qa$2(nt)&&1<nt.length)throw Error(l$2(93));g=""+nt}return typeof g=="string"&&g[0]===`
`&&a.push(`
`),g!==null&&a.push(v(""+g)),null;case"input":a.push(A("input")),j=nt=$=g=null;for(b in o)if(p$1.call(o,b)&&(rt=o[b],rt!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,"input"));case"defaultChecked":j=rt;break;case"defaultValue":$=rt;break;case"checked":nt=rt;break;case"value":g=rt;break;default:x$1(a,c,b,rt)}return nt!==null?x$1(a,c,"checked",nt):j!==null&&x$1(a,c,"checked",j),g!==null?x$1(a,c,"value",g):$!==null&&x$1(a,c,"value",$),a.push("/>"),null;case"menuitem":a.push(A("menuitem"));for(var _t in o)if(p$1.call(o,_t)&&(g=o[_t],g!=null))switch(_t){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(400));default:x$1(a,c,_t,g)}return a.push(">"),null;case"title":a.push(A("title")),g=null;for(ot in o)if(p$1.call(o,ot)&&(b=o[ot],b!=null))switch(ot){case"children":g=b;break;case"dangerouslySetInnerHTML":throw Error(l$2(434));default:x$1(a,c,ot,b)}return a.push(">"),g;case"listing":case"pre":a.push(A(e)),b=g=null;for(j in o)if(p$1.call(o,j)&&($=o[j],$!=null))switch(j){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;default:x$1(a,c,j,$)}if(a.push(">"),b!=null){if(g!=null)throw Error(l$2(60));if(typeof b!="object"||!("__html"in b))throw Error(l$2(61));o=b.__html,o!=null&&(typeof o=="string"&&0<o.length&&o[0]===`
`?a.push(`
`,o):a.push(""+o))}return typeof g=="string"&&g[0]===`
`&&a.push(`
`),g;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":a.push(A(e));for(var Et in o)if(p$1.call(o,Et)&&(g=o[Et],g!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,e));default:x$1(a,c,Et,g)}return a.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return va$2(a,o,e,c);case"html":return h.insertionMode===0&&a.push("<!DOCTYPE html>"),va$2(a,o,e,c);default:if(e.indexOf("-")===-1&&typeof o.is!="string")return va$2(a,o,e,c);a.push(A(e)),b=g=null;for(rt in o)if(p$1.call(o,rt)&&($=o[rt],$!=null))switch(rt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"style":ta$2(a,c,$);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ja$1(rt)&&typeof $!="function"&&typeof $!="symbol"&&a.push(" ",rt,'="',v($),'"')}return a.push(">"),y$1(a,b,g),g}}function za$2(a,e,o){if(a.push('<!--$?--><template id="'),o===null)throw Error(l$2(395));return a.push(o),a.push('"></template>')}function Aa$2(a,e,o,c){switch(o.insertionMode){case 0:case 1:return a.push('<div hidden id="'),a.push(e.segmentPrefix),e=c.toString(16),a.push(e),a.push('">');case 2:return a.push('<svg aria-hidden="true" style="display:none" id="'),a.push(e.segmentPrefix),e=c.toString(16),a.push(e),a.push('">');case 3:return a.push('<math aria-hidden="true" style="display:none" id="'),a.push(e.segmentPrefix),e=c.toString(16),a.push(e),a.push('">');case 4:return a.push('<table hidden id="'),a.push(e.segmentPrefix),e=c.toString(16),a.push(e),a.push('">');case 5:return a.push('<table hidden><tbody id="'),a.push(e.segmentPrefix),e=c.toString(16),a.push(e),a.push('">');case 6:return a.push('<table hidden><tr id="'),a.push(e.segmentPrefix),e=c.toString(16),a.push(e),a.push('">');case 7:return a.push('<table hidden><colgroup id="'),a.push(e.segmentPrefix),e=c.toString(16),a.push(e),a.push('">');default:throw Error(l$2(397))}}function Ba$2(a,e){switch(e.insertionMode){case 0:case 1:return a.push("</div>");case 2:return a.push("</svg>");case 3:return a.push("</math>");case 4:return a.push("</table>");case 5:return a.push("</tbody></table>");case 6:return a.push("</tr></table>");case 7:return a.push("</colgroup></table>");default:throw Error(l$2(397))}}var Ca$2=/[<\u2028\u2029]/g;function Da$2(a){return JSON.stringify(a).replace(Ca$2,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ea$2(a,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:a}}function Fa$2(a,e,o,c){return o.generateStaticMarkup?(a.push(v(e)),!1):(e===""?a=c:(c&&a.push("<!-- -->"),a.push(v(e)),a=!0),a)}var B$1=Object.assign,Ga$1=Symbol.for("react.element"),Ha$2=Symbol.for("react.portal"),Ia$2=Symbol.for("react.fragment"),Ja$2=Symbol.for("react.strict_mode"),Ka$2=Symbol.for("react.profiler"),La$2=Symbol.for("react.provider"),Ma$2=Symbol.for("react.context"),Na$2=Symbol.for("react.forward_ref"),Oa$2=Symbol.for("react.suspense"),Pa$1=Symbol.for("react.suspense_list"),Qa$2=Symbol.for("react.memo"),Ra$2=Symbol.for("react.lazy"),Sa$2=Symbol.for("react.scope"),Ta$2=Symbol.for("react.debug_trace_mode"),Ua$1=Symbol.for("react.legacy_hidden"),Va$1=Symbol.for("react.default_value"),Wa$1=Symbol.iterator;function Xa$1(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Ia$2:return"Fragment";case Ha$2:return"Portal";case Ka$2:return"Profiler";case Ja$2:return"StrictMode";case Oa$2:return"Suspense";case Pa$1:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ma$2:return(a.displayName||"Context")+".Consumer";case La$2:return(a._context.displayName||"Context")+".Provider";case Na$2:var e=a.render;return a=a.displayName,a||(a=e.displayName||e.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Qa$2:return e=a.displayName||null,e!==null?e:Xa$1(a.type)||"Memo";case Ra$2:e=a._payload,a=a._init;try{return Xa$1(a(e))}catch{}}return null}var Ya$1={};function Za$1(a,e){if(a=a.contextTypes,!a)return Ya$1;var o={},c;for(c in a)o[c]=e[c];return o}var E$1=null;function F(a,e){if(a!==e){a.context._currentValue2=a.parentValue,a=a.parent;var o=e.parent;if(a===null){if(o!==null)throw Error(l$2(401))}else{if(o===null)throw Error(l$2(401));F(a,o)}e.context._currentValue2=e.value}}function $a$2(a){a.context._currentValue2=a.parentValue,a=a.parent,a!==null&&$a$2(a)}function ab$1(a){var e=a.parent;e!==null&&ab$1(e),a.context._currentValue2=a.value}function bb$1(a,e){if(a.context._currentValue2=a.parentValue,a=a.parent,a===null)throw Error(l$2(402));a.depth===e.depth?F(a,e):bb$1(a,e)}function cb$1(a,e){var o=e.parent;if(o===null)throw Error(l$2(402));a.depth===o.depth?F(a,o):cb$1(a,o),e.context._currentValue2=e.value}function G(a){var e=E$1;e!==a&&(e===null?ab$1(a):a===null?$a$2(e):e.depth===a.depth?F(e,a):e.depth>a.depth?bb$1(e,a):cb$1(e,a),E$1=a)}var db$1={isMounted:function(){return!1},enqueueSetState:function(a,e){a=a._reactInternals,a.queue!==null&&a.queue.push(e)},enqueueReplaceState:function(a,e){a=a._reactInternals,a.replace=!0,a.queue=[e]},enqueueForceUpdate:function(){}};function eb$1(a,e,o,c){var h=a.state!==void 0?a.state:null;a.updater=db$1,a.props=o,a.state=h;var g={queue:[],replace:!1};a._reactInternals=g;var b=e.contextType;if(a.context=typeof b=="object"&&b!==null?b._currentValue2:c,b=e.getDerivedStateFromProps,typeof b=="function"&&(b=b(o,h),h=b==null?h:B$1({},h,b),a.state=h),typeof e.getDerivedStateFromProps!="function"&&typeof a.getSnapshotBeforeUpdate!="function"&&(typeof a.UNSAFE_componentWillMount=="function"||typeof a.componentWillMount=="function"))if(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&db$1.enqueueReplaceState(a,a.state,null),g.queue!==null&&0<g.queue.length)if(e=g.queue,b=g.replace,g.queue=null,g.replace=!1,b&&e.length===1)a.state=e[0];else{for(g=b?e[0]:a.state,h=!0,b=b?1:0;b<e.length;b++){var $=e[b];$=typeof $=="function"?$.call(a,g,o,c):$,$!=null&&(h?(h=!1,g=B$1({},g,$)):B$1(g,$))}a.state=g}else g.queue=null}var fb$1={id:1,overflow:""};function gb$1(a,e,o){var c=a.id;a=a.overflow;var h=32-H$1(c)-1;c&=~(1<<h),o+=1;var g=32-H$1(e)+h;if(30<g){var b=h-h%5;return g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,{id:1<<32-H$1(e)+h|o<<h|c,overflow:g+a}}return{id:1<<g|o<<h|c,overflow:a}}var H$1=Math.clz32?Math.clz32:hb$1,ib$1=Math.log,jb$1=Math.LN2;function hb$1(a){return a>>>=0,a===0?32:31-(ib$1(a)/jb$1|0)|0}function kb$1(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var lb$1=typeof Object.is=="function"?Object.is:kb$1,I$1=null,ob$1=null,J$1=null,K$1=null,L$1=!1,M$1=!1,N$2=0,O$1=null,P$1=0;function Q$1(){if(I$1===null)throw Error(l$2(321));return I$1}function pb$1(){if(0<P$1)throw Error(l$2(312));return{memoizedState:null,queue:null,next:null}}function qb$1(){return K$1===null?J$1===null?(L$1=!1,J$1=K$1=pb$1()):(L$1=!0,K$1=J$1):K$1.next===null?(L$1=!1,K$1=K$1.next=pb$1()):(L$1=!0,K$1=K$1.next),K$1}function rb$1(){ob$1=I$1=null,M$1=!1,J$1=null,P$1=0,K$1=O$1=null}function sb$1(a,e){return typeof e=="function"?e(a):e}function tb$1(a,e,o){if(I$1=Q$1(),K$1=qb$1(),L$1){var c=K$1.queue;if(e=c.dispatch,O$1!==null&&(o=O$1.get(c),o!==void 0)){O$1.delete(c),c=K$1.memoizedState;do c=a(c,o.action),o=o.next;while(o!==null);return K$1.memoizedState=c,[c,e]}return[K$1.memoizedState,e]}return a=a===sb$1?typeof e=="function"?e():e:o!==void 0?o(e):e,K$1.memoizedState=a,a=K$1.queue={last:null,dispatch:null},a=a.dispatch=ub$1.bind(null,I$1,a),[K$1.memoizedState,a]}function vb$1(a,e){if(I$1=Q$1(),K$1=qb$1(),e=e===void 0?null:e,K$1!==null){var o=K$1.memoizedState;if(o!==null&&e!==null){var c=o[1];e:if(c===null)c=!1;else{for(var h=0;h<c.length&&h<e.length;h++)if(!lb$1(e[h],c[h])){c=!1;break e}c=!0}if(c)return o[0]}}return a=a(),K$1.memoizedState=[a,e],a}function ub$1(a,e,o){if(25<=P$1)throw Error(l$2(301));if(a===I$1)if(M$1=!0,a={action:o,next:null},O$1===null&&(O$1=new Map),o=O$1.get(e),o===void 0)O$1.set(e,a);else{for(e=o;e.next!==null;)e=e.next;e.next=a}}function wb$1(){throw Error(l$2(394))}function R$1(){}var xb$1={readContext:function(a){return a._currentValue2},useContext:function(a){return Q$1(),a._currentValue2},useMemo:vb$1,useReducer:tb$1,useRef:function(a){I$1=Q$1(),K$1=qb$1();var e=K$1.memoizedState;return e===null?(a={current:a},K$1.memoizedState=a):e},useState:function(a){return tb$1(sb$1,a)},useInsertionEffect:R$1,useLayoutEffect:function(){},useCallback:function(a,e){return vb$1(function(){return a},e)},useImperativeHandle:R$1,useEffect:R$1,useDebugValue:R$1,useDeferredValue:function(a){return Q$1(),a},useTransition:function(){return Q$1(),[!1,wb$1]},useId:function(){var a=ob$1.treeContext,e=a.overflow;a=a.id,a=(a&~(1<<32-H$1(a)-1)).toString(32)+e;var o=S$1;if(o===null)throw Error(l$2(404));return e=N$2++,a=":"+o.idPrefix+"R"+a,0<e&&(a+="H"+e.toString(32)),a+":"},useMutableSource:function(a,e){return Q$1(),e(a._source)},useSyncExternalStore:function(a,e,o){if(o===void 0)throw Error(l$2(407));return o()}},S$1=null,yb$1=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zb$1(a){return console.error(a),null}function T$1(){}function Ab$1(a,e,o,c,h,g,b,$,j){var rt=[],nt=new Set;return e={destination:null,responseState:e,progressiveChunkSize:c===void 0?12800:c,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:nt,pingedTasks:rt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:h===void 0?zb$1:h,onAllReady:g===void 0?T$1:g,onShellReady:b===void 0?T$1:b,onShellError:$===void 0?T$1:$,onFatalError:j===void 0?T$1:j},o=U$1(e,0,null,o,!1,!1),o.parentFlushed=!0,a=Bb$1(e,a,null,o,nt,Ya$1,null,fb$1),rt.push(a),e}function Bb$1(a,e,o,c,h,g,b,$){a.allPendingTasks++,o===null?a.pendingRootTasks++:o.pendingTasks++;var j={node:e,ping:function(){var rt=a.pingedTasks;rt.push(j),rt.length===1&&Cb$1(a)},blockedBoundary:o,blockedSegment:c,abortSet:h,legacyContext:g,context:b,treeContext:$};return h.add(j),j}function U$1(a,e,o,c,h,g){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:c,boundary:o,lastPushedText:h,textEmbedded:g}}function V$1(a,e){if(a=a.onError(e),a!=null&&typeof a!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof a+'" instead');return a}function W$1(a,e){var o=a.onShellError;o(e),o=a.onFatalError,o(e),a.destination!==null?(a.status=2,a.destination.destroy(e)):(a.status=1,a.fatalError=e)}function Db$1(a,e,o,c,h){for(I$1={},ob$1=e,N$2=0,a=o(c,h);M$1;)M$1=!1,N$2=0,P$1+=1,K$1=null,a=o(c,h);return rb$1(),a}function Eb$1(a,e,o,c){var h=o.render(),g=c.childContextTypes;if(g!=null){var b=e.legacyContext;if(typeof o.getChildContext!="function")c=b;else{o=o.getChildContext();for(var $ in o)if(!($ in g))throw Error(l$2(108,Xa$1(c)||"Unknown",$));c=B$1({},b,o)}e.legacyContext=c,X$1(a,e,h),e.legacyContext=b}else X$1(a,e,h)}function Fb(a,e){if(a&&a.defaultProps){e=B$1({},e),a=a.defaultProps;for(var o in a)e[o]===void 0&&(e[o]=a[o]);return e}return e}function Gb$1(a,e,o,c,h){if(typeof o=="function")if(o.prototype&&o.prototype.isReactComponent){h=Za$1(o,e.legacyContext);var g=o.contextType;g=new o(c,typeof g=="object"&&g!==null?g._currentValue2:h),eb$1(g,o,c,h),Eb$1(a,e,g,o)}else{g=Za$1(o,e.legacyContext),h=Db$1(a,e,o,c,g);var b=N$2!==0;if(typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0)eb$1(h,o,c,g),Eb$1(a,e,h,o);else if(b){c=e.treeContext,e.treeContext=gb$1(c,1,0);try{X$1(a,e,h)}finally{e.treeContext=c}}else X$1(a,e,h)}else if(typeof o=="string"){switch(h=e.blockedSegment,g=ya$2(h.chunks,o,c,a.responseState,h.formatContext),h.lastPushedText=!1,b=h.formatContext,h.formatContext=ra$2(b,o,c),Hb$1(a,e,g),h.formatContext=b,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:h.chunks.push("</",o,">")}h.lastPushedText=!1}else{switch(o){case Ua$1:case Ta$2:case Ja$2:case Ka$2:case Ia$2:X$1(a,e,c.children);return;case Pa$1:X$1(a,e,c.children);return;case Sa$2:throw Error(l$2(343));case Oa$2:e:{o=e.blockedBoundary,h=e.blockedSegment,g=c.fallback,c=c.children,b=new Set;var $={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:b,errorDigest:null},j=U$1(a,h.chunks.length,$,h.formatContext,!1,!1);h.children.push(j),h.lastPushedText=!1;var rt=U$1(a,0,null,h.formatContext,!1,!1);rt.parentFlushed=!0,e.blockedBoundary=$,e.blockedSegment=rt;try{if(Hb$1(a,e,c),a.responseState.generateStaticMarkup||rt.lastPushedText&&rt.textEmbedded&&rt.chunks.push("<!-- -->"),rt.status=1,Y$1($,rt),$.pendingTasks===0)break e}catch(nt){rt.status=4,$.forceClientRender=!0,$.errorDigest=V$1(a,nt)}finally{e.blockedBoundary=o,e.blockedSegment=h}e=Bb$1(a,g,o,j,b,e.legacyContext,e.context,e.treeContext),a.pingedTasks.push(e)}return}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Na$2:if(c=Db$1(a,e,o.render,c,h),N$2!==0){o=e.treeContext,e.treeContext=gb$1(o,1,0);try{X$1(a,e,c)}finally{e.treeContext=o}}else X$1(a,e,c);return;case Qa$2:o=o.type,c=Fb(o,c),Gb$1(a,e,o,c,h);return;case La$2:if(h=c.children,o=o._context,c=c.value,g=o._currentValue2,o._currentValue2=c,b=E$1,E$1=c={parent:b,depth:b===null?0:b.depth+1,context:o,parentValue:g,value:c},e.context=c,X$1(a,e,h),a=E$1,a===null)throw Error(l$2(403));c=a.parentValue,a.context._currentValue2=c===Va$1?a.context._defaultValue:c,a=E$1=a.parent,e.context=a;return;case Ma$2:c=c.children,c=c(o._currentValue2),X$1(a,e,c);return;case Ra$2:h=o._init,o=h(o._payload),c=Fb(o,c),Gb$1(a,e,o,c,void 0);return}throw Error(l$2(130,o==null?o:typeof o,""))}}function X$1(a,e,o){if(e.node=o,typeof o=="object"&&o!==null){switch(o.$$typeof){case Ga$1:Gb$1(a,e,o.type,o.props,o.ref);return;case Ha$2:throw Error(l$2(257));case Ra$2:var c=o._init;o=c(o._payload),X$1(a,e,o);return}if(qa$2(o)){Ib$1(a,e,o);return}if(o===null||typeof o!="object"?c=null:(c=Wa$1&&o[Wa$1]||o["@@iterator"],c=typeof c=="function"?c:null),c&&(c=c.call(o))){if(o=c.next(),!o.done){var h=[];do h.push(o.value),o=c.next();while(!o.done);Ib$1(a,e,h)}return}throw a=Object.prototype.toString.call(o),Error(l$2(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}typeof o=="string"?(c=e.blockedSegment,c.lastPushedText=Fa$2(e.blockedSegment.chunks,o,a.responseState,c.lastPushedText)):typeof o=="number"&&(c=e.blockedSegment,c.lastPushedText=Fa$2(e.blockedSegment.chunks,""+o,a.responseState,c.lastPushedText))}function Ib$1(a,e,o){for(var c=o.length,h=0;h<c;h++){var g=e.treeContext;e.treeContext=gb$1(g,c,h);try{Hb$1(a,e,o[h])}finally{e.treeContext=g}}}function Hb$1(a,e,o){var c=e.blockedSegment.formatContext,h=e.legacyContext,g=e.context;try{return X$1(a,e,o)}catch(j){if(rb$1(),typeof j=="object"&&j!==null&&typeof j.then=="function"){o=j;var b=e.blockedSegment,$=U$1(a,b.chunks.length,null,b.formatContext,b.lastPushedText,!0);b.children.push($),b.lastPushedText=!1,a=Bb$1(a,e.node,e.blockedBoundary,$,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,o.then(a,a),e.blockedSegment.formatContext=c,e.legacyContext=h,e.context=g,G(g)}else throw e.blockedSegment.formatContext=c,e.legacyContext=h,e.context=g,G(g),j}}function Jb$1(a){var e=a.blockedBoundary;a=a.blockedSegment,a.status=3,Kb$1(this,e,a)}function Lb$1(a,e,o){var c=a.blockedBoundary;a.blockedSegment.status=3,c===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,a=o===void 0?Error(l$2(432)):o,c.errorDigest=e.onError(a),c.parentFlushed&&e.clientRenderedBoundaries.push(c)),c.fallbackAbortableTasks.forEach(function(h){return Lb$1(h,e,o)}),c.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(c=e.onAllReady,c()))}function Y$1(a,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var o=e.children[0];o.id=e.id,o.parentFlushed=!0,o.status===1&&Y$1(a,o)}else a.completedSegments.push(e)}function Kb$1(a,e,o){if(e===null){if(o.parentFlushed){if(a.completedRootSegment!==null)throw Error(l$2(389));a.completedRootSegment=o}a.pendingRootTasks--,a.pendingRootTasks===0&&(a.onShellError=T$1,e=a.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(o.parentFlushed&&o.status===1&&Y$1(e,o),e.parentFlushed&&a.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(Jb$1,a),e.fallbackAbortableTasks.clear()):o.parentFlushed&&o.status===1&&(Y$1(e,o),e.completedSegments.length===1&&e.parentFlushed&&a.partialBoundaries.push(e)));a.allPendingTasks--,a.allPendingTasks===0&&(a=a.onAllReady,a())}function Cb$1(a){if(a.status!==2){var e=E$1,o=yb$1.current;yb$1.current=xb$1;var c=S$1;S$1=a.responseState;try{var h=a.pingedTasks,g;for(g=0;g<h.length;g++){var b=h[g],$=a,j=b.blockedSegment;if(j.status===0){G(b.context);try{X$1($,b,b.node),$.responseState.generateStaticMarkup||j.lastPushedText&&j.textEmbedded&&j.chunks.push("<!-- -->"),b.abortSet.delete(b),j.status=1,Kb$1($,b.blockedBoundary,j)}catch(It){if(rb$1(),typeof It=="object"&&It!==null&&typeof It.then=="function"){var rt=b.ping;It.then(rt,rt)}else{b.abortSet.delete(b),j.status=4;var nt=b.blockedBoundary,ot=It,_t=V$1($,ot);if(nt===null?W$1($,ot):(nt.pendingTasks--,nt.forceClientRender||(nt.forceClientRender=!0,nt.errorDigest=_t,nt.parentFlushed&&$.clientRenderedBoundaries.push(nt))),$.allPendingTasks--,$.allPendingTasks===0){var Et=$.onAllReady;Et()}}}finally{}}}h.splice(0,g),a.destination!==null&&Mb$1(a,a.destination)}catch(It){V$1(a,It),W$1(a,It)}finally{S$1=c,yb$1.current=o,o===xb$1&&G(e)}}}function Z$1(a,e,o){switch(o.parentFlushed=!0,o.status){case 0:var c=o.id=a.nextSegmentId++;return o.lastPushedText=!1,o.textEmbedded=!1,a=a.responseState,e.push('<template id="'),e.push(a.placeholderPrefix),a=c.toString(16),e.push(a),e.push('"></template>');case 1:o.status=2;var h=!0;c=o.chunks;var g=0;o=o.children;for(var b=0;b<o.length;b++){for(h=o[b];g<h.index;g++)e.push(c[g]);h=Nb$1(a,e,h)}for(;g<c.length-1;g++)e.push(c[g]);return g<c.length&&(h=e.push(c[g])),h;default:throw Error(l$2(390))}}function Nb$1(a,e,o){var c=o.boundary;if(c===null)return Z$1(a,e,o);if(c.parentFlushed=!0,c.forceClientRender)return a.responseState.generateStaticMarkup||(c=c.errorDigest,e.push("<!--$!-->"),e.push("<template"),c&&(e.push(' data-dgst="'),c=v(c),e.push(c),e.push('"')),e.push("></template>")),Z$1(a,e,o),a=a.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),a;if(0<c.pendingTasks){c.rootSegmentID=a.nextSegmentId++,0<c.completedSegments.length&&a.partialBoundaries.push(c);var h=a.responseState,g=h.nextSuspenseID++;return h=h.boundaryPrefix+g.toString(16),c=c.id=h,za$2(e,a.responseState,c),Z$1(a,e,o),e.push("<!--/$-->")}if(c.byteSize>a.progressiveChunkSize)return c.rootSegmentID=a.nextSegmentId++,a.completedBoundaries.push(c),za$2(e,a.responseState,c.id),Z$1(a,e,o),e.push("<!--/$-->");if(a.responseState.generateStaticMarkup||e.push("<!--$-->"),o=c.completedSegments,o.length!==1)throw Error(l$2(391));return Nb$1(a,e,o[0]),a=a.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),a}function Ob$1(a,e,o){return Aa$2(e,a.responseState,o.formatContext,o.id),Nb$1(a,e,o),Ba$2(e,o.formatContext)}function Pb$1(a,e,o){for(var c=o.completedSegments,h=0;h<c.length;h++)Qb$1(a,e,o,c[h]);if(c.length=0,a=a.responseState,c=o.id,o=o.rootSegmentID,e.push(a.startInlineScript),a.sentCompleteBoundaryFunction?e.push('$RC("'):(a.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),c===null)throw Error(l$2(395));return o=o.toString(16),e.push(c),e.push('","'),e.push(a.segmentPrefix),e.push(o),e.push('")<\/script>')}function Qb$1(a,e,o,c){if(c.status===2)return!0;var h=c.id;if(h===-1){if((c.id=o.rootSegmentID)===-1)throw Error(l$2(392));return Ob$1(a,e,c)}return Ob$1(a,e,c),a=a.responseState,e.push(a.startInlineScript),a.sentCompleteSegmentFunction?e.push('$RS("'):(a.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(a.segmentPrefix),h=h.toString(16),e.push(h),e.push('","'),e.push(a.placeholderPrefix),e.push(h),e.push('")<\/script>')}function Mb$1(a,e){try{var o=a.completedRootSegment;if(o!==null&&a.pendingRootTasks===0){Nb$1(a,e,o),a.completedRootSegment=null;var c=a.responseState.bootstrapChunks;for(o=0;o<c.length-1;o++)e.push(c[o]);o<c.length&&e.push(c[o])}var h=a.clientRenderedBoundaries,g;for(g=0;g<h.length;g++){var b=h[g];c=e;var $=a.responseState,j=b.id,rt=b.errorDigest,nt=b.errorMessage,ot=b.errorComponentStack;if(c.push($.startInlineScript),$.sentClientRenderFunction?c.push('$RX("'):($.sentClientRenderFunction=!0,c.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),j===null)throw Error(l$2(395));if(c.push(j),c.push('"'),rt||nt||ot){c.push(",");var _t=Da$2(rt||"");c.push(_t)}if(nt||ot){c.push(",");var Et=Da$2(nt||"");c.push(Et)}if(ot){c.push(",");var It=Da$2(ot);c.push(It)}if(!c.push(")<\/script>")){a.destination=null,g++,h.splice(0,g);return}}h.splice(0,g);var it=a.completedBoundaries;for(g=0;g<it.length;g++)if(!Pb$1(a,e,it[g])){a.destination=null,g++,it.splice(0,g);return}it.splice(0,g);var st=a.partialBoundaries;for(g=0;g<st.length;g++){var Mt=st[g];e:{h=a,b=e;var bt=Mt.completedSegments;for($=0;$<bt.length;$++)if(!Qb$1(h,b,Mt,bt[$])){$++,bt.splice(0,$);var Lt=!1;break e}bt.splice(0,$),Lt=!0}if(!Lt){a.destination=null,g++,st.splice(0,g);return}}st.splice(0,g);var pt=a.completedBoundaries;for(g=0;g<pt.length;g++)if(!Pb$1(a,e,pt[g])){a.destination=null,g++,pt.splice(0,g);return}pt.splice(0,g)}finally{a.allPendingTasks===0&&a.pingedTasks.length===0&&a.clientRenderedBoundaries.length===0&&a.completedBoundaries.length===0&&e.push(null)}}function Rb$1(a,e){try{var o=a.abortableTasks;o.forEach(function(c){return Lb$1(c,a,e)}),o.clear(),a.destination!==null&&Mb$1(a,a.destination)}catch(c){V$1(a,c),W$1(a,c)}}function Sb$1(){}function Tb$1(a,e,o,c){var h=!1,g=null,b="",$={push:function(rt){return rt!==null&&(b+=rt),!0},destroy:function(rt){h=!0,g=rt}},j=!1;if(a=Ab$1(a,Ea$2(o,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Sb$1,void 0,function(){j=!0},void 0,void 0),Cb$1(a),Rb$1(a,c),a.status===1)a.status=2,$.destroy(a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=$;try{Mb$1(a,$)}catch(rt){V$1(a,rt),W$1(a,rt)}}if(h)throw g;if(!j)throw Error(l$2(426));return b}reactDomServerLegacy_browser_production_min.renderToNodeStream=function(){throw Error(l$2(207))};reactDomServerLegacy_browser_production_min.renderToStaticMarkup=function(a,e){return Tb$1(a,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.renderToStaticNodeStream=function(){throw Error(l$2(208))};reactDomServerLegacy_browser_production_min.renderToString=function(a,e){return Tb$1(a,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.version="18.2.0";var reactDomServer_browser_production_min={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports;function k$1(a){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+a,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+a+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l$1=null,n=0;function p(a,e){if(e.length!==0)if(512<e.length)0<n&&(a.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=new Uint8Array(512),n=0),a.enqueue(e);else{var o=l$1.length-n;o<e.length&&(o===0?a.enqueue(l$1):(l$1.set(e.subarray(0,o),n),a.enqueue(l$1),e=e.subarray(o)),l$1=new Uint8Array(512),n=0),l$1.set(e,n),n+=e.length}}function t(a,e){return p(a,e),!0}function ba$1(a){l$1&&0<n&&(a.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=null,n=0)}var ca$1=new TextEncoder;function u(a){return ca$1.encode(a)}function w(a){return ca$1.encode(a)}function da$1(a,e){typeof a.error=="function"?a.error(e):a.close()}var x=Object.prototype.hasOwnProperty,ea$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa$1={},ha$1={};function ia$1(a){return x.call(ha$1,a)?!0:x.call(fa$1,a)?!1:ea$1.test(a)?ha$1[a]=!0:(fa$1[a]=!0,!1)}function y(a,e,o,c,h,g,b){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=a,this.type=e,this.sanitizeURL=g,this.removeEmptyString=b}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z[a]=new y(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var e=a[0];z[e]=new y(e,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z[a]=new y(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z[a]=new y(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z[a]=new y(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z[a]=new y(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z[a]=new y(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z[a]=new y(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z[a]=new y(a,5,!1,a.toLowerCase(),null,!1,!1)});var ja=/[\-:]([a-z])/g;function ka$1(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var e=a.replace(ja,ka$1);z[e]=new y(e,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var e=a.replace(ja,ka$1);z[e]=new y(e,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var e=a.replace(ja,ka$1);z[e]=new y(e,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z[a]=new y(a,1,!1,a.toLowerCase(),null,!1,!1)});z.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z[a]=new y(a,1,!1,a.toLowerCase(),null,!0,!0)});var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la$1=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(a){la$1.forEach(function(e){e=e+a.charAt(0).toUpperCase()+a.substring(1),B[e]=B[a]})});var oa$1=/["'&<>]/;function C(a){if(typeof a=="boolean"||typeof a=="number")return""+a;a=""+a;var e=oa$1.exec(a);if(e){var o="",c,h=0;for(c=e.index;c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}h!==c&&(o+=a.substring(h,c)),h=c+1,o+=e}a=h!==c?o+a.substring(h,c):o}return a}var pa$1=/([A-Z])/g,qa$1=/^ms-/,ra$1=Array.isArray,sa=w("<script>"),ta$1=w("<\/script>"),ua$1=w('<script src="'),va$1=w('<script type="module" src="'),wa$1=w('" async=""><\/script>'),xa$1=/(<\/|<)(s)(cript)/gi;function ya$1(a,e,o,c){return""+e+(o==="s"?"\\u0073":"\\u0053")+c}function za$1(a,e,o,c,h){a=a===void 0?"":a,e=e===void 0?sa:w('<script nonce="'+C(e)+'">');var g=[];if(o!==void 0&&g.push(e,u((""+o).replace(xa$1,ya$1)),ta$1),c!==void 0)for(o=0;o<c.length;o++)g.push(ua$1,u(C(c[o])),wa$1);if(h!==void 0)for(c=0;c<h.length;c++)g.push(va$1,u(C(h[c])),wa$1);return{bootstrapChunks:g,startInlineScript:e,placeholderPrefix:w(a+"P:"),segmentPrefix:w(a+"S:"),boundaryPrefix:a+"B:",idPrefix:a,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function D(a,e){return{insertionMode:a,selectedValue:e}}function Aa$1(a){return D(a==="http://www.w3.org/2000/svg"?2:a==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ba$1(a,e,o){switch(e){case"select":return D(1,o.value!=null?o.value:o.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=a.insertionMode||a.insertionMode===0?D(1,null):a}var Ca$1=w("<!-- -->");function Da$1(a,e,o,c){return e===""?c:(c&&a.push(Ca$1),a.push(u(C(e))),!0)}var Ea$1=new Map,Fa$1=w(' style="'),Ga=w(":"),Ha$1=w(";");function Ia$1(a,e,o){if(typeof o!="object")throw Error(k$1(62));e=!0;for(var c in o)if(x.call(o,c)){var h=o[c];if(h!=null&&typeof h!="boolean"&&h!==""){if(c.indexOf("--")===0){var g=u(C(c));h=u(C((""+h).trim()))}else{g=c;var b=Ea$1.get(g);b!==void 0||(b=w(C(g.replace(pa$1,"-$1").toLowerCase().replace(qa$1,"-ms-"))),Ea$1.set(g,b)),g=b,h=typeof h=="number"?h===0||x.call(B,c)?u(""+h):u(h+"px"):u(C((""+h).trim()))}e?(e=!1,a.push(Fa$1,g,Ga,h)):a.push(Ha$1,g,Ga,h)}}e||a.push(E)}var H=w(" "),I=w('="'),E=w('"'),Ja$1=w('=""');function J(a,e,o,c){switch(o){case"style":Ia$1(a,e,c);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"){if(e=z.hasOwnProperty(o)?z[o]:null,e!==null){switch(typeof c){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(o=u(e.attributeName),e.type){case 3:c&&a.push(H,o,Ja$1);break;case 4:c===!0?a.push(H,o,Ja$1):c!==!1&&a.push(H,o,I,u(C(c)),E);break;case 5:isNaN(c)||a.push(H,o,I,u(C(c)),E);break;case 6:!isNaN(c)&&1<=c&&a.push(H,o,I,u(C(c)),E);break;default:e.sanitizeURL&&(c=""+c),a.push(H,o,I,u(C(c)),E)}}else if(ia$1(o)){switch(typeof c){case"function":case"symbol":return;case"boolean":if(e=o.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}a.push(H,u(o),I,u(C(c)),E)}}}var K=w(">"),Ka$1=w("/>");function L(a,e,o){if(e!=null){if(o!=null)throw Error(k$1(60));if(typeof e!="object"||!("__html"in e))throw Error(k$1(61));e=e.__html,e!=null&&a.push(u(""+e))}}function La$1(a){var e="";return aa$1.Children.forEach(a,function(o){o!=null&&(e+=o)}),e}var Ma$1=w(' selected=""');function Na$1(a,e,o,c){a.push(M(o));var h=o=null,g;for(g in e)if(x.call(e,g)){var b=e[g];if(b!=null)switch(g){case"children":o=b;break;case"dangerouslySetInnerHTML":h=b;break;default:J(a,c,g,b)}}return a.push(K),L(a,h,o),typeof o=="string"?(a.push(u(C(o))),null):o}var Oa$1=w(`
`),Pa=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qa$1=new Map;function M(a){var e=Qa$1.get(a);if(e===void 0){if(!Pa.test(a))throw Error(k$1(65,a));e=w("<"+a),Qa$1.set(a,e)}return e}var Ra$1=w("<!DOCTYPE html>");function Sa$1(a,e,o,c,h){switch(e){case"select":a.push(M("select"));var g=null,b=null;for(nt in o)if(x.call(o,nt)){var $=o[nt];if($!=null)switch(nt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"defaultValue":case"value":break;default:J(a,c,nt,$)}}return a.push(K),L(a,b,g),g;case"option":b=h.selectedValue,a.push(M("option"));var j=$=null,rt=null,nt=null;for(g in o)if(x.call(o,g)){var ot=o[g];if(ot!=null)switch(g){case"children":$=ot;break;case"selected":rt=ot;break;case"dangerouslySetInnerHTML":nt=ot;break;case"value":j=ot;default:J(a,c,g,ot)}}if(b!=null)if(o=j!==null?""+j:La$1($),ra$1(b)){for(c=0;c<b.length;c++)if(""+b[c]===o){a.push(Ma$1);break}}else""+b===o&&a.push(Ma$1);else rt&&a.push(Ma$1);return a.push(K),L(a,nt,$),$;case"textarea":a.push(M("textarea")),nt=b=g=null;for($ in o)if(x.call(o,$)&&(j=o[$],j!=null))switch($){case"children":nt=j;break;case"value":g=j;break;case"defaultValue":b=j;break;case"dangerouslySetInnerHTML":throw Error(k$1(91));default:J(a,c,$,j)}if(g===null&&b!==null&&(g=b),a.push(K),nt!=null){if(g!=null)throw Error(k$1(92));if(ra$1(nt)&&1<nt.length)throw Error(k$1(93));g=""+nt}return typeof g=="string"&&g[0]===`
`&&a.push(Oa$1),g!==null&&a.push(u(C(""+g))),null;case"input":a.push(M("input")),j=nt=$=g=null;for(b in o)if(x.call(o,b)&&(rt=o[b],rt!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(k$1(399,"input"));case"defaultChecked":j=rt;break;case"defaultValue":$=rt;break;case"checked":nt=rt;break;case"value":g=rt;break;default:J(a,c,b,rt)}return nt!==null?J(a,c,"checked",nt):j!==null&&J(a,c,"checked",j),g!==null?J(a,c,"value",g):$!==null&&J(a,c,"value",$),a.push(Ka$1),null;case"menuitem":a.push(M("menuitem"));for(var _t in o)if(x.call(o,_t)&&(g=o[_t],g!=null))switch(_t){case"children":case"dangerouslySetInnerHTML":throw Error(k$1(400));default:J(a,c,_t,g)}return a.push(K),null;case"title":a.push(M("title")),g=null;for(ot in o)if(x.call(o,ot)&&(b=o[ot],b!=null))switch(ot){case"children":g=b;break;case"dangerouslySetInnerHTML":throw Error(k$1(434));default:J(a,c,ot,b)}return a.push(K),g;case"listing":case"pre":a.push(M(e)),b=g=null;for(j in o)if(x.call(o,j)&&($=o[j],$!=null))switch(j){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;default:J(a,c,j,$)}if(a.push(K),b!=null){if(g!=null)throw Error(k$1(60));if(typeof b!="object"||!("__html"in b))throw Error(k$1(61));o=b.__html,o!=null&&(typeof o=="string"&&0<o.length&&o[0]===`
`?a.push(Oa$1,u(o)):a.push(u(""+o)))}return typeof g=="string"&&g[0]===`
`&&a.push(Oa$1),g;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":a.push(M(e));for(var Et in o)if(x.call(o,Et)&&(g=o[Et],g!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(k$1(399,e));default:J(a,c,Et,g)}return a.push(Ka$1),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Na$1(a,o,e,c);case"html":return h.insertionMode===0&&a.push(Ra$1),Na$1(a,o,e,c);default:if(e.indexOf("-")===-1&&typeof o.is!="string")return Na$1(a,o,e,c);a.push(M(e)),b=g=null;for(rt in o)if(x.call(o,rt)&&($=o[rt],$!=null))switch(rt){case"children":g=$;break;case"dangerouslySetInnerHTML":b=$;break;case"style":Ia$1(a,c,$);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ia$1(rt)&&typeof $!="function"&&typeof $!="symbol"&&a.push(H,u(rt),I,u(C($)),E)}return a.push(K),L(a,b,g),g}}var Ta$1=w("</"),Ua=w(">"),Va=w('<template id="'),Wa=w('"></template>'),Xa=w("<!--$-->"),Ya=w('<!--$?--><template id="'),Za=w('"></template>'),$a$1=w("<!--$!-->"),ab=w("<!--/$-->"),bb=w("<template"),cb=w('"'),db=w(' data-dgst="');w(' data-msg="');w(' data-stck="');var eb=w("></template>");function fb(a,e,o){if(p(a,Ya),o===null)throw Error(k$1(395));return p(a,o),t(a,Za)}var gb=w('<div hidden id="'),hb=w('">'),ib=w("</div>"),jb=w('<svg aria-hidden="true" style="display:none" id="'),kb=w('">'),lb=w("</svg>"),mb=w('<math aria-hidden="true" style="display:none" id="'),nb=w('">'),ob=w("</math>"),pb=w('<table hidden id="'),qb=w('">'),rb=w("</table>"),sb=w('<table hidden><tbody id="'),tb=w('">'),ub=w("</tbody></table>"),vb=w('<table hidden><tr id="'),wb=w('">'),xb=w("</tr></table>"),yb=w('<table hidden><colgroup id="'),zb=w('">'),Ab=w("</colgroup></table>");function Bb(a,e,o,c){switch(o.insertionMode){case 0:case 1:return p(a,gb),p(a,e.segmentPrefix),p(a,u(c.toString(16))),t(a,hb);case 2:return p(a,jb),p(a,e.segmentPrefix),p(a,u(c.toString(16))),t(a,kb);case 3:return p(a,mb),p(a,e.segmentPrefix),p(a,u(c.toString(16))),t(a,nb);case 4:return p(a,pb),p(a,e.segmentPrefix),p(a,u(c.toString(16))),t(a,qb);case 5:return p(a,sb),p(a,e.segmentPrefix),p(a,u(c.toString(16))),t(a,tb);case 6:return p(a,vb),p(a,e.segmentPrefix),p(a,u(c.toString(16))),t(a,wb);case 7:return p(a,yb),p(a,e.segmentPrefix),p(a,u(c.toString(16))),t(a,zb);default:throw Error(k$1(397))}}function Cb(a,e){switch(e.insertionMode){case 0:case 1:return t(a,ib);case 2:return t(a,lb);case 3:return t(a,ob);case 4:return t(a,rb);case 5:return t(a,ub);case 6:return t(a,xb);case 7:return t(a,Ab);default:throw Error(k$1(397))}}var Db=w('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Eb=w('$RS("'),Gb=w('","'),Hb=w('")<\/script>'),Ib=w('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Jb=w('$RC("'),Kb=w('","'),Lb=w('")<\/script>'),Mb=w('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Nb=w('$RX("'),Ob=w('"'),Pb=w(")<\/script>"),Qb=w(","),Rb=/[<\u2028\u2029]/g;function Sb(a){return JSON.stringify(a).replace(Rb,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var N$1=Object.assign,Tb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),ec=Symbol.for("react.scope"),fc=Symbol.for("react.debug_trace_mode"),gc=Symbol.for("react.legacy_hidden"),hc=Symbol.for("react.default_value"),ic=Symbol.iterator;function jc(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Vb:return"Fragment";case Ub:return"Portal";case Xb:return"Profiler";case Wb:return"StrictMode";case ac:return"Suspense";case bc:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Zb:return(a.displayName||"Context")+".Consumer";case Yb:return(a._context.displayName||"Context")+".Provider";case $b:var e=a.render;return a=a.displayName,a||(a=e.displayName||e.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case cc:return e=a.displayName||null,e!==null?e:jc(a.type)||"Memo";case dc:e=a._payload,a=a._init;try{return jc(a(e))}catch{}}return null}var kc={};function lc(a,e){if(a=a.contextTypes,!a)return kc;var o={},c;for(c in a)o[c]=e[c];return o}var O=null;function P(a,e){if(a!==e){a.context._currentValue=a.parentValue,a=a.parent;var o=e.parent;if(a===null){if(o!==null)throw Error(k$1(401))}else{if(o===null)throw Error(k$1(401));P(a,o)}e.context._currentValue=e.value}}function mc(a){a.context._currentValue=a.parentValue,a=a.parent,a!==null&&mc(a)}function nc(a){var e=a.parent;e!==null&&nc(e),a.context._currentValue=a.value}function oc(a,e){if(a.context._currentValue=a.parentValue,a=a.parent,a===null)throw Error(k$1(402));a.depth===e.depth?P(a,e):oc(a,e)}function pc(a,e){var o=e.parent;if(o===null)throw Error(k$1(402));a.depth===o.depth?P(a,o):pc(a,o),e.context._currentValue=e.value}function Q(a){var e=O;e!==a&&(e===null?nc(a):a===null?mc(e):e.depth===a.depth?P(e,a):e.depth>a.depth?oc(e,a):pc(e,a),O=a)}var qc={isMounted:function(){return!1},enqueueSetState:function(a,e){a=a._reactInternals,a.queue!==null&&a.queue.push(e)},enqueueReplaceState:function(a,e){a=a._reactInternals,a.replace=!0,a.queue=[e]},enqueueForceUpdate:function(){}};function rc(a,e,o,c){var h=a.state!==void 0?a.state:null;a.updater=qc,a.props=o,a.state=h;var g={queue:[],replace:!1};a._reactInternals=g;var b=e.contextType;if(a.context=typeof b=="object"&&b!==null?b._currentValue:c,b=e.getDerivedStateFromProps,typeof b=="function"&&(b=b(o,h),h=b==null?h:N$1({},h,b),a.state=h),typeof e.getDerivedStateFromProps!="function"&&typeof a.getSnapshotBeforeUpdate!="function"&&(typeof a.UNSAFE_componentWillMount=="function"||typeof a.componentWillMount=="function"))if(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&qc.enqueueReplaceState(a,a.state,null),g.queue!==null&&0<g.queue.length)if(e=g.queue,b=g.replace,g.queue=null,g.replace=!1,b&&e.length===1)a.state=e[0];else{for(g=b?e[0]:a.state,h=!0,b=b?1:0;b<e.length;b++){var $=e[b];$=typeof $=="function"?$.call(a,g,o,c):$,$!=null&&(h?(h=!1,g=N$1({},g,$)):N$1(g,$))}a.state=g}else g.queue=null}var sc={id:1,overflow:""};function tc(a,e,o){var c=a.id;a=a.overflow;var h=32-uc(c)-1;c&=~(1<<h),o+=1;var g=32-uc(e)+h;if(30<g){var b=h-h%5;return g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,{id:1<<32-uc(e)+h|o<<h|c,overflow:g+a}}return{id:1<<g|o<<h|c,overflow:a}}var uc=Math.clz32?Math.clz32:vc,wc=Math.log,xc=Math.LN2;function vc(a){return a>>>=0,a===0?32:31-(wc(a)/xc|0)|0}function yc(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var zc=typeof Object.is=="function"?Object.is:yc,R=null,Ac=null,Bc=null,S=null,T=!1,Cc=!1,U=0,V=null,Dc=0;function W(){if(R===null)throw Error(k$1(321));return R}function Ec(){if(0<Dc)throw Error(k$1(312));return{memoizedState:null,queue:null,next:null}}function Fc(){return S===null?Bc===null?(T=!1,Bc=S=Ec()):(T=!0,S=Bc):S.next===null?(T=!1,S=S.next=Ec()):(T=!0,S=S.next),S}function Gc(){Ac=R=null,Cc=!1,Bc=null,Dc=0,S=V=null}function Hc(a,e){return typeof e=="function"?e(a):e}function Ic(a,e,o){if(R=W(),S=Fc(),T){var c=S.queue;if(e=c.dispatch,V!==null&&(o=V.get(c),o!==void 0)){V.delete(c),c=S.memoizedState;do c=a(c,o.action),o=o.next;while(o!==null);return S.memoizedState=c,[c,e]}return[S.memoizedState,e]}return a=a===Hc?typeof e=="function"?e():e:o!==void 0?o(e):e,S.memoizedState=a,a=S.queue={last:null,dispatch:null},a=a.dispatch=Jc.bind(null,R,a),[S.memoizedState,a]}function Kc(a,e){if(R=W(),S=Fc(),e=e===void 0?null:e,S!==null){var o=S.memoizedState;if(o!==null&&e!==null){var c=o[1];e:if(c===null)c=!1;else{for(var h=0;h<c.length&&h<e.length;h++)if(!zc(e[h],c[h])){c=!1;break e}c=!0}if(c)return o[0]}}return a=a(),S.memoizedState=[a,e],a}function Jc(a,e,o){if(25<=Dc)throw Error(k$1(301));if(a===R)if(Cc=!0,a={action:o,next:null},V===null&&(V=new Map),o=V.get(e),o===void 0)V.set(e,a);else{for(e=o;e.next!==null;)e=e.next;e.next=a}}function Lc(){throw Error(k$1(394))}function Mc(){}var Oc={readContext:function(a){return a._currentValue},useContext:function(a){return W(),a._currentValue},useMemo:Kc,useReducer:Ic,useRef:function(a){R=W(),S=Fc();var e=S.memoizedState;return e===null?(a={current:a},S.memoizedState=a):e},useState:function(a){return Ic(Hc,a)},useInsertionEffect:Mc,useLayoutEffect:function(){},useCallback:function(a,e){return Kc(function(){return a},e)},useImperativeHandle:Mc,useEffect:Mc,useDebugValue:Mc,useDeferredValue:function(a){return W(),a},useTransition:function(){return W(),[!1,Lc]},useId:function(){var a=Ac.treeContext,e=a.overflow;a=a.id,a=(a&~(1<<32-uc(a)-1)).toString(32)+e;var o=Nc;if(o===null)throw Error(k$1(404));return e=U++,a=":"+o.idPrefix+"R"+a,0<e&&(a+="H"+e.toString(32)),a+":"},useMutableSource:function(a,e){return W(),e(a._source)},useSyncExternalStore:function(a,e,o){if(o===void 0)throw Error(k$1(407));return o()}},Nc=null,Pc=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qc(a){return console.error(a),null}function X(){}function Rc(a,e,o,c,h,g,b,$,j){var rt=[],nt=new Set;return e={destination:null,responseState:e,progressiveChunkSize:c===void 0?12800:c,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:nt,pingedTasks:rt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:h===void 0?Qc:h,onAllReady:g===void 0?X:g,onShellReady:b===void 0?X:b,onShellError:$===void 0?X:$,onFatalError:j===void 0?X:j},o=Sc(e,0,null,o,!1,!1),o.parentFlushed=!0,a=Tc(e,a,null,o,nt,kc,null,sc),rt.push(a),e}function Tc(a,e,o,c,h,g,b,$){a.allPendingTasks++,o===null?a.pendingRootTasks++:o.pendingTasks++;var j={node:e,ping:function(){var rt=a.pingedTasks;rt.push(j),rt.length===1&&Uc(a)},blockedBoundary:o,blockedSegment:c,abortSet:h,legacyContext:g,context:b,treeContext:$};return h.add(j),j}function Sc(a,e,o,c,h,g){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:c,boundary:o,lastPushedText:h,textEmbedded:g}}function Y(a,e){if(a=a.onError(e),a!=null&&typeof a!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof a+'" instead');return a}function Vc(a,e){var o=a.onShellError;o(e),o=a.onFatalError,o(e),a.destination!==null?(a.status=2,da$1(a.destination,e)):(a.status=1,a.fatalError=e)}function Wc(a,e,o,c,h){for(R={},Ac=e,U=0,a=o(c,h);Cc;)Cc=!1,U=0,Dc+=1,S=null,a=o(c,h);return Gc(),a}function Xc(a,e,o,c){var h=o.render(),g=c.childContextTypes;if(g!=null){var b=e.legacyContext;if(typeof o.getChildContext!="function")c=b;else{o=o.getChildContext();for(var $ in o)if(!($ in g))throw Error(k$1(108,jc(c)||"Unknown",$));c=N$1({},b,o)}e.legacyContext=c,Z(a,e,h),e.legacyContext=b}else Z(a,e,h)}function Yc(a,e){if(a&&a.defaultProps){e=N$1({},e),a=a.defaultProps;for(var o in a)e[o]===void 0&&(e[o]=a[o]);return e}return e}function Zc(a,e,o,c,h){if(typeof o=="function")if(o.prototype&&o.prototype.isReactComponent){h=lc(o,e.legacyContext);var g=o.contextType;g=new o(c,typeof g=="object"&&g!==null?g._currentValue:h),rc(g,o,c,h),Xc(a,e,g,o)}else{g=lc(o,e.legacyContext),h=Wc(a,e,o,c,g);var b=U!==0;if(typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0)rc(h,o,c,g),Xc(a,e,h,o);else if(b){c=e.treeContext,e.treeContext=tc(c,1,0);try{Z(a,e,h)}finally{e.treeContext=c}}else Z(a,e,h)}else if(typeof o=="string"){switch(h=e.blockedSegment,g=Sa$1(h.chunks,o,c,a.responseState,h.formatContext),h.lastPushedText=!1,b=h.formatContext,h.formatContext=Ba$1(b,o,c),$c(a,e,g),h.formatContext=b,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:h.chunks.push(Ta$1,u(o),Ua)}h.lastPushedText=!1}else{switch(o){case gc:case fc:case Wb:case Xb:case Vb:Z(a,e,c.children);return;case bc:Z(a,e,c.children);return;case ec:throw Error(k$1(343));case ac:e:{o=e.blockedBoundary,h=e.blockedSegment,g=c.fallback,c=c.children,b=new Set;var $={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:b,errorDigest:null},j=Sc(a,h.chunks.length,$,h.formatContext,!1,!1);h.children.push(j),h.lastPushedText=!1;var rt=Sc(a,0,null,h.formatContext,!1,!1);rt.parentFlushed=!0,e.blockedBoundary=$,e.blockedSegment=rt;try{if($c(a,e,c),rt.lastPushedText&&rt.textEmbedded&&rt.chunks.push(Ca$1),rt.status=1,ad($,rt),$.pendingTasks===0)break e}catch(nt){rt.status=4,$.forceClientRender=!0,$.errorDigest=Y(a,nt)}finally{e.blockedBoundary=o,e.blockedSegment=h}e=Tc(a,g,o,j,b,e.legacyContext,e.context,e.treeContext),a.pingedTasks.push(e)}return}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case $b:if(c=Wc(a,e,o.render,c,h),U!==0){o=e.treeContext,e.treeContext=tc(o,1,0);try{Z(a,e,c)}finally{e.treeContext=o}}else Z(a,e,c);return;case cc:o=o.type,c=Yc(o,c),Zc(a,e,o,c,h);return;case Yb:if(h=c.children,o=o._context,c=c.value,g=o._currentValue,o._currentValue=c,b=O,O=c={parent:b,depth:b===null?0:b.depth+1,context:o,parentValue:g,value:c},e.context=c,Z(a,e,h),a=O,a===null)throw Error(k$1(403));c=a.parentValue,a.context._currentValue=c===hc?a.context._defaultValue:c,a=O=a.parent,e.context=a;return;case Zb:c=c.children,c=c(o._currentValue),Z(a,e,c);return;case dc:h=o._init,o=h(o._payload),c=Yc(o,c),Zc(a,e,o,c,void 0);return}throw Error(k$1(130,o==null?o:typeof o,""))}}function Z(a,e,o){if(e.node=o,typeof o=="object"&&o!==null){switch(o.$$typeof){case Tb:Zc(a,e,o.type,o.props,o.ref);return;case Ub:throw Error(k$1(257));case dc:var c=o._init;o=c(o._payload),Z(a,e,o);return}if(ra$1(o)){bd(a,e,o);return}if(o===null||typeof o!="object"?c=null:(c=ic&&o[ic]||o["@@iterator"],c=typeof c=="function"?c:null),c&&(c=c.call(o))){if(o=c.next(),!o.done){var h=[];do h.push(o.value),o=c.next();while(!o.done);bd(a,e,h)}return}throw a=Object.prototype.toString.call(o),Error(k$1(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}typeof o=="string"?(c=e.blockedSegment,c.lastPushedText=Da$1(e.blockedSegment.chunks,o,a.responseState,c.lastPushedText)):typeof o=="number"&&(c=e.blockedSegment,c.lastPushedText=Da$1(e.blockedSegment.chunks,""+o,a.responseState,c.lastPushedText))}function bd(a,e,o){for(var c=o.length,h=0;h<c;h++){var g=e.treeContext;e.treeContext=tc(g,c,h);try{$c(a,e,o[h])}finally{e.treeContext=g}}}function $c(a,e,o){var c=e.blockedSegment.formatContext,h=e.legacyContext,g=e.context;try{return Z(a,e,o)}catch(j){if(Gc(),typeof j=="object"&&j!==null&&typeof j.then=="function"){o=j;var b=e.blockedSegment,$=Sc(a,b.chunks.length,null,b.formatContext,b.lastPushedText,!0);b.children.push($),b.lastPushedText=!1,a=Tc(a,e.node,e.blockedBoundary,$,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,o.then(a,a),e.blockedSegment.formatContext=c,e.legacyContext=h,e.context=g,Q(g)}else throw e.blockedSegment.formatContext=c,e.legacyContext=h,e.context=g,Q(g),j}}function cd(a){var e=a.blockedBoundary;a=a.blockedSegment,a.status=3,dd(this,e,a)}function ed(a,e,o){var c=a.blockedBoundary;a.blockedSegment.status=3,c===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,a=o===void 0?Error(k$1(432)):o,c.errorDigest=e.onError(a),c.parentFlushed&&e.clientRenderedBoundaries.push(c)),c.fallbackAbortableTasks.forEach(function(h){return ed(h,e,o)}),c.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(c=e.onAllReady,c()))}function ad(a,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var o=e.children[0];o.id=e.id,o.parentFlushed=!0,o.status===1&&ad(a,o)}else a.completedSegments.push(e)}function dd(a,e,o){if(e===null){if(o.parentFlushed){if(a.completedRootSegment!==null)throw Error(k$1(389));a.completedRootSegment=o}a.pendingRootTasks--,a.pendingRootTasks===0&&(a.onShellError=X,e=a.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(o.parentFlushed&&o.status===1&&ad(e,o),e.parentFlushed&&a.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(cd,a),e.fallbackAbortableTasks.clear()):o.parentFlushed&&o.status===1&&(ad(e,o),e.completedSegments.length===1&&e.parentFlushed&&a.partialBoundaries.push(e)));a.allPendingTasks--,a.allPendingTasks===0&&(a=a.onAllReady,a())}function Uc(a){if(a.status!==2){var e=O,o=Pc.current;Pc.current=Oc;var c=Nc;Nc=a.responseState;try{var h=a.pingedTasks,g;for(g=0;g<h.length;g++){var b=h[g],$=a,j=b.blockedSegment;if(j.status===0){Q(b.context);try{Z($,b,b.node),j.lastPushedText&&j.textEmbedded&&j.chunks.push(Ca$1),b.abortSet.delete(b),j.status=1,dd($,b.blockedBoundary,j)}catch(It){if(Gc(),typeof It=="object"&&It!==null&&typeof It.then=="function"){var rt=b.ping;It.then(rt,rt)}else{b.abortSet.delete(b),j.status=4;var nt=b.blockedBoundary,ot=It,_t=Y($,ot);if(nt===null?Vc($,ot):(nt.pendingTasks--,nt.forceClientRender||(nt.forceClientRender=!0,nt.errorDigest=_t,nt.parentFlushed&&$.clientRenderedBoundaries.push(nt))),$.allPendingTasks--,$.allPendingTasks===0){var Et=$.onAllReady;Et()}}}finally{}}}h.splice(0,g),a.destination!==null&&fd(a,a.destination)}catch(It){Y(a,It),Vc(a,It)}finally{Nc=c,Pc.current=o,o===Oc&&Q(e)}}}function gd(a,e,o){switch(o.parentFlushed=!0,o.status){case 0:var c=o.id=a.nextSegmentId++;return o.lastPushedText=!1,o.textEmbedded=!1,a=a.responseState,p(e,Va),p(e,a.placeholderPrefix),a=u(c.toString(16)),p(e,a),t(e,Wa);case 1:o.status=2;var h=!0;c=o.chunks;var g=0;o=o.children;for(var b=0;b<o.length;b++){for(h=o[b];g<h.index;g++)p(e,c[g]);h=hd(a,e,h)}for(;g<c.length-1;g++)p(e,c[g]);return g<c.length&&(h=t(e,c[g])),h;default:throw Error(k$1(390))}}function hd(a,e,o){var c=o.boundary;if(c===null)return gd(a,e,o);if(c.parentFlushed=!0,c.forceClientRender)c=c.errorDigest,t(e,$a$1),p(e,bb),c&&(p(e,db),p(e,u(C(c))),p(e,cb)),t(e,eb),gd(a,e,o);else if(0<c.pendingTasks){c.rootSegmentID=a.nextSegmentId++,0<c.completedSegments.length&&a.partialBoundaries.push(c);var h=a.responseState,g=h.nextSuspenseID++;h=w(h.boundaryPrefix+g.toString(16)),c=c.id=h,fb(e,a.responseState,c),gd(a,e,o)}else if(c.byteSize>a.progressiveChunkSize)c.rootSegmentID=a.nextSegmentId++,a.completedBoundaries.push(c),fb(e,a.responseState,c.id),gd(a,e,o);else{if(t(e,Xa),o=c.completedSegments,o.length!==1)throw Error(k$1(391));hd(a,e,o[0])}return t(e,ab)}function id(a,e,o){return Bb(e,a.responseState,o.formatContext,o.id),hd(a,e,o),Cb(e,o.formatContext)}function jd(a,e,o){for(var c=o.completedSegments,h=0;h<c.length;h++)kd(a,e,o,c[h]);if(c.length=0,a=a.responseState,c=o.id,o=o.rootSegmentID,p(e,a.startInlineScript),a.sentCompleteBoundaryFunction?p(e,Jb):(a.sentCompleteBoundaryFunction=!0,p(e,Ib)),c===null)throw Error(k$1(395));return o=u(o.toString(16)),p(e,c),p(e,Kb),p(e,a.segmentPrefix),p(e,o),t(e,Lb)}function kd(a,e,o,c){if(c.status===2)return!0;var h=c.id;if(h===-1){if((c.id=o.rootSegmentID)===-1)throw Error(k$1(392));return id(a,e,c)}return id(a,e,c),a=a.responseState,p(e,a.startInlineScript),a.sentCompleteSegmentFunction?p(e,Eb):(a.sentCompleteSegmentFunction=!0,p(e,Db)),p(e,a.segmentPrefix),h=u(h.toString(16)),p(e,h),p(e,Gb),p(e,a.placeholderPrefix),p(e,h),t(e,Hb)}function fd(a,e){l$1=new Uint8Array(512),n=0;try{var o=a.completedRootSegment;if(o!==null&&a.pendingRootTasks===0){hd(a,e,o),a.completedRootSegment=null;var c=a.responseState.bootstrapChunks;for(o=0;o<c.length-1;o++)p(e,c[o]);o<c.length&&t(e,c[o])}var h=a.clientRenderedBoundaries,g;for(g=0;g<h.length;g++){var b=h[g];c=e;var $=a.responseState,j=b.id,rt=b.errorDigest,nt=b.errorMessage,ot=b.errorComponentStack;if(p(c,$.startInlineScript),$.sentClientRenderFunction?p(c,Nb):($.sentClientRenderFunction=!0,p(c,Mb)),j===null)throw Error(k$1(395));p(c,j),p(c,Ob),(rt||nt||ot)&&(p(c,Qb),p(c,u(Sb(rt||"")))),(nt||ot)&&(p(c,Qb),p(c,u(Sb(nt||"")))),ot&&(p(c,Qb),p(c,u(Sb(ot)))),t(c,Pb)}h.splice(0,g);var _t=a.completedBoundaries;for(g=0;g<_t.length;g++)jd(a,e,_t[g]);_t.splice(0,g),ba$1(e),l$1=new Uint8Array(512),n=0;var Et=a.partialBoundaries;for(g=0;g<Et.length;g++){var It=Et[g];e:{h=a,b=e;var it=It.completedSegments;for($=0;$<it.length;$++)if(!kd(h,b,It,it[$])){$++,it.splice(0,$);var st=!1;break e}it.splice(0,$),st=!0}if(!st){a.destination=null,g++,Et.splice(0,g);return}}Et.splice(0,g);var Mt=a.completedBoundaries;for(g=0;g<Mt.length;g++)jd(a,e,Mt[g]);Mt.splice(0,g)}finally{ba$1(e),a.allPendingTasks===0&&a.pingedTasks.length===0&&a.clientRenderedBoundaries.length===0&&a.completedBoundaries.length===0&&e.close()}}function ld(a,e){try{var o=a.abortableTasks;o.forEach(function(c){return ed(c,a,e)}),o.clear(),a.destination!==null&&fd(a,a.destination)}catch(c){Y(a,c),Vc(a,c)}}reactDomServer_browser_production_min.renderToReadableStream=function(a,e){return new Promise(function(o,c){var h,g,b=new Promise(function(nt,ot){g=nt,h=ot}),$=Rc(a,za$1(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),Aa$1(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,g,function(){var nt=new ReadableStream({type:"bytes",pull:function(ot){if($.status===1)$.status=2,da$1(ot,$.fatalError);else if($.status!==2&&$.destination===null){$.destination=ot;try{fd($,ot)}catch(_t){Y($,_t),Vc($,_t)}}},cancel:function(){ld($)}},{highWaterMark:0});nt.allReady=b,o(nt)},function(nt){b.catch(function(){}),c(nt)},h);if(e&&e.signal){var j=e.signal,rt=function(){ld($,j.reason),j.removeEventListener("abort",rt)};j.addEventListener("abort",rt)}Uc($)})};reactDomServer_browser_production_min.version="18.2.0";var l,s;l=reactDomServerLegacy_browser_production_min,s=reactDomServer_browser_production_min;server_browser.version=l.version;server_browser.renderToString=l.renderToString;server_browser.renderToStaticMarkup=l.renderToStaticMarkup;server_browser.renderToNodeStream=l.renderToNodeStream;server_browser.renderToStaticNodeStream=l.renderToStaticNodeStream;server_browser.renderToReadableStream=s.renderToReadableStream;var keyGenerator={};Object.defineProperty(keyGenerator,"__esModule",{value:!0});var counter=0;function generateNewKey(){return"agPortalKey_"+ ++counter}keyGenerator.default=generateNewKey;var __extends$4=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__importDefault$b=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(legacyReactComponent,"__esModule",{value:!0});var react_1$k=reactExports,react_dom_1$2=reactDomExports,ag_grid_community_1$e=require$$0,reactComponent_1$1=reactComponent,server_1$1=server_browser,keyGenerator_1$1=__importDefault$b(keyGenerator),LegacyReactComponent=function(a){__extends$4(e,a);function e(o,c,h,g){var b=a.call(this,o,h,g)||this;return b.staticMarkup=null,b.staticRenderTime=0,b.parentComponent=c,b}return e.prototype.init=function(o){var c=this;return this.eParentElement=this.createParentElement(o),this.renderStaticMarkup(o),new ag_grid_community_1$e.AgPromise(function(h){return c.createReactComponent(o,h)})},e.prototype.createReactComponent=function(o,c){var h=this;this.isStatelessComponent()||(o.ref=function($){h.componentInstance=$,h.addParentContainerStyleAndClasses(),h.removeStaticMarkup()});var g=react_1$k.createElement(this.reactComponent,o),b=react_dom_1$2.createPortal(g,this.eParentElement,keyGenerator_1$1.default());this.portal=b,this.portalManager.mountReactPortal(b,this,function($){c($),h.isStatelessComponent()&&(h.isSlowRenderer()&&h.removeStaticMarkup(),setTimeout(function(){h.removeStaticMarkup()}))})},e.prototype.fallbackMethodAvailable=function(o){return!1},e.prototype.fallbackMethod=function(o,c){},e.prototype.isSlowRenderer=function(){return this.staticRenderTime>=e.SLOW_RENDERING_THRESHOLD},e.prototype.isNullValue=function(){return this.staticMarkup===""},e.prototype.renderStaticMarkup=function(o){if(!(this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer)){var c=console.error,h=react_1$k.createElement(this.reactComponent,o);try{console.error=function(){};var g=Date.now(),b=server_1$1.renderToStaticMarkup(h);this.staticRenderTime=Date.now()-g,console.error=c,b===""?this.staticMarkup=b:b&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=b,this.eParentElement.appendChild(this.staticMarkup))}catch{}finally{console.error=c}}},e.prototype.removeStaticMarkup=function(){this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer||this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},e.prototype.rendered=function(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},e.SLOW_RENDERING_THRESHOLD=3,e}(reactComponent_1$1.ReactComponent);legacyReactComponent.LegacyReactComponent=LegacyReactComponent;var agGridColumn={},__extends$3=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__rest$1=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(a,e){var o={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&e.indexOf(c)<0&&(o[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(a);h<c.length;h++)e.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(a,c[h])&&(o[c[h]]=a[c[h]]);return o},__importStar$f=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(agGridColumn,"__esModule",{value:!0});var react_1$j=__importStar$f(reactExports),prop_types_1$1=__importDefault$a(propTypesExports),AgGrid=__importStar$f(require$$0),AgGridColumn=function(a){__extends$3(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.render=function(){return null},e.mapChildColumnDefs=function(o){return react_1$j.default.Children.map(o,function(c){return c?e.toColDef(c.props):null})},e.toColDef=function(o){var c=o.children,h=__rest$1(o,["children"]);return e.hasChildColumns(c)&&(h.children=e.mapChildColumnDefs(c)),h},e.hasChildColumns=function(o){return react_1$j.default.Children.count(o)>0},e}(react_1$j.Component);agGridColumn.AgGridColumn=AgGridColumn;addProperties$1(AgGrid.ColDefUtil.BOOLEAN_PROPERTIES,prop_types_1$1.default.bool);addProperties$1(AgGrid.ColDefUtil.STRING_PROPERTIES,prop_types_1$1.default.string);addProperties$1(AgGrid.ColDefUtil.OBJECT_PROPERTIES,prop_types_1$1.default.object);addProperties$1(AgGrid.ColDefUtil.ARRAY_PROPERTIES,prop_types_1$1.default.array);addProperties$1(AgGrid.ColDefUtil.NUMBER_PROPERTIES,prop_types_1$1.default.number);addProperties$1(AgGrid.ColDefUtil.FUNCTION_PROPERTIES,prop_types_1$1.default.func);function addProperties$1(a,e){a.forEach(function(o){AgGridColumn[o]=e})}var changeDetectionService={};(function(a){Object.defineProperty(a,"__esModule",{value:!0});var e;(function(g){g.IdentityCheck="IdentityCheck",g.DeepValueCheck="DeepValueCheck",g.NoCheck="NoCheck"})(e=a.ChangeDetectionStrategyType||(a.ChangeDetectionStrategyType={}));var o=function(){function g(b){this.strategy=b}return g.prototype.areEqual=function(b,$){return this.strategy(b,$)},g}(),c=function(){function g(){}return g.prototype.areEqual=function(b,$){return g.areEquivalent(g.copy(b),g.copy($))},g.unwrapStringOrNumber=function(b){return b instanceof Number||b instanceof String?b.valueOf():b},g.copy=function(b){if(!b)return b;if(Array.isArray(b)){for(var $=[],j=0;j<b.length;j++)$.push(this.copy(b[j]));return $}return typeof b!="object"?b:[{},b].reduce(function(rt,nt){return Object.keys(nt).forEach(function(ot){rt[ot]=nt[ot]}),rt},{})},g.isNaN=function(b){return Number.isNaN?Number.isNaN(b):typeof b=="number"&&isNaN(b)},g.areEquivalent=function(b,$){if(b=g.unwrapStringOrNumber(b),$=g.unwrapStringOrNumber($),b===$)return!0;if(b===null||$===null||typeof b!=typeof $)return!1;if(g.isNaN(b)&&g.isNaN($))return!0;if(b instanceof Date)return $ instanceof Date&&b.valueOf()===$.valueOf();if(typeof b=="function")return!1;if(typeof b!="object"||b.$$typeof&&b.$$typeof.toString()==="Symbol(react.element)")return b==$;if(Object.isFrozen(b)||Object.isFrozen($))return b===$;var j=b.areEquivPropertyTracking===void 0,rt=$.areEquivPropertyTracking===void 0;try{var nt=void 0;if(j)b.areEquivPropertyTracking=[];else if(b.areEquivPropertyTracking.some(function(_t){return _t===$}))return!0;if(rt)$.areEquivPropertyTracking=[];else if($.areEquivPropertyTracking.some(function(_t){return _t===b}))return!0;b.areEquivPropertyTracking.push($),$.areEquivPropertyTracking.push(b);var ot={};for(nt in b)nt!="areEquivPropertyTracking"&&(ot[nt]=null);for(nt in $)nt!="areEquivPropertyTracking"&&(ot[nt]=null);for(nt in ot)if(!this.areEquivalent(b[nt],$[nt]))return!1;return!0}finally{j&&delete b.areEquivPropertyTracking,rt&&delete $.areEquivPropertyTracking}},g}(),h=function(){function g(){var b;this.strategyMap=(b={},b[e.DeepValueCheck]=new c,b[e.IdentityCheck]=new o(function($,j){return $===j}),b[e.NoCheck]=new o(function($,j){return!1}),b)}return g.prototype.getStrategy=function(b){return this.strategyMap[b]},g}();a.ChangeDetectionService=h})(changeDetectionService);var newReactComponent={},__extends$2=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$9=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$9=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$9.apply(this,arguments)},__importDefault$9=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(newReactComponent,"__esModule",{value:!0});var react_1$i=reactExports,react_dom_1$1=reactDomExports,ag_grid_community_1$d=require$$0,reactComponent_1=reactComponent,server_1=server_browser,keyGenerator_1=__importDefault$9(keyGenerator),NewReactComponent=function(a){__extends$2(e,a);function e(o,c,h){var g=a.call(this,o,c,h)||this;return g.oldPortal=null,g.key=keyGenerator_1.default(),g.portalKey=keyGenerator_1.default(),g}return e.prototype.init=function(o){var c=this;return this.eParentElement=this.createParentElement(o),this.params=o,this.createOrUpdatePortal(o),new ag_grid_community_1$d.AgPromise(function(h){return c.createReactComponent(h)})},e.prototype.createOrUpdatePortal=function(o){var c=this;this.isStatelessComponent()||(o.ref=function(h){c.componentInstance=h,c.addParentContainerStyleAndClasses()}),this.reactElement=react_1$i.createElement(this.reactComponent,__assign$9(__assign$9({},o),{key:this.key})),this.portal=react_dom_1$1.createPortal(this.reactElement,this.eParentElement,this.portalKey)},e.prototype.createReactComponent=function(o){this.portalManager.mountReactPortal(this.portal,this,function(c){o(c)})},e.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},e.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},e.prototype.valueRenderedIsNull=function(o){if(!this.componentType.cellRenderer)return!1;var c=console.error;try{console.error=function(){};var h=server_1.renderToStaticMarkup(react_1$i.createElement(this.reactComponent,o));return h===""}catch{}finally{console.error=c}return!1},e.prototype.refreshComponent=function(o){this.oldPortal=this.portal,this.createOrUpdatePortal(o),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},e.prototype.fallbackMethod=function(o,c){var h=this[o+"Component"];if(h)return h.bind(this)(c)},e.prototype.fallbackMethodAvailable=function(o){var c=this[o+"Component"];return!!c},e}(reactComponent_1.ReactComponent);newReactComponent.NewReactComponent=NewReactComponent;var portalManager={},__spreadArrays$3=commonjsGlobal$1&&commonjsGlobal$1.__spreadArrays||function(){for(var a=0,e=0,o=arguments.length;e<o;e++)a+=arguments[e].length;for(var c=Array(a),h=0,e=0;e<o;e++)for(var g=arguments[e],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c};Object.defineProperty(portalManager,"__esModule",{value:!0});var PortalManager=function(){function a(e,o,c){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=o||"div",this.parent=e,this.maxComponentCreationTimeMs=c||a.MAX_COMPONENT_CREATION_TIME_IN_MS}return a.prototype.getPortals=function(){return this.portals},a.prototype.destroy=function(){this.destroyed=!0},a.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(o){return o!==e}),this.batchUpdate()},a.prototype.getComponentWrappingElement=function(){return this.wrappingElement},a.prototype.mountReactPortal=function(e,o,c){this.portals=__spreadArrays$3(this.portals,[e]),this.waitForInstance(o,c),this.batchUpdate()},a.prototype.updateReactPortal=function(e,o){this.portals[this.portals.indexOf(e)]=o,this.batchUpdate()},a.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||e.parent.forceUpdate(function(){e.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)},a.prototype.waitForInstance=function(e,o,c){var h=this;if(c===void 0&&(c=Date.now()),this.destroyed){o(null);return}if(e.rendered())o(e);else{if(Date.now()-c>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){o(e);return}console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");return}window.setTimeout(function(){h.waitForInstance(e,o,c)})}},a.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,a}();portalManager.PortalManager=PortalManager;var reactFrameworkOverrides={},groupCellRenderer={},beansContext={},__importDefault$8=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(beansContext,"__esModule",{value:!0});var react_1$h=__importDefault$8(reactExports);beansContext.BeansContext=react_1$h.default.createContext({});var jsComp={};Object.defineProperty(jsComp,"__esModule",{value:!0});jsComp.showJsComp=function(a,e,o,c){var h=!a||a.componentFromFramework;if(!h){var g=a.newAgStackInstance();if(g){var b,$,j=!1;return g.then(function(rt){if(j){e.destroyBean(rt);return}b=rt,$=b.getGui(),o.appendChild($),setRef(c,b)}),function(){j=!0,b&&($&&$.parentElement&&$.parentElement.removeChild($),e.destroyBean(b),c&&setRef(c,void 0))}}}};var setRef=function(a,e){if(a)if(a instanceof Function){var o=a;o(e)}else{var c=a;c.current=e}};jsComp.createSyncJsComp=function(a){var e=a.newAgStackInstance();if(e)return e.resolveNow(null,function(o){return o})};var useEffectOnce={};Object.defineProperty(useEffectOnce,"__esModule",{value:!0});var react_1$g=reactExports;useEffectOnce.useEffectOnce=function(a){var e=react_1$g.useRef(a),o=react_1$g.useRef(),c=react_1$g.useRef(!1),h=react_1$g.useRef(!1),g=react_1$g.useState(0),b=g[1];c.current&&(h.current=!0),react_1$g.useEffect(function(){return c.current||(o.current=e.current(),c.current=!0),b(function($){return $+1}),function(){h.current&&o.current&&o.current()}},[])};useEffectOnce.useLayoutEffectOnce=function(a){var e=react_1$g.useRef(a),o=react_1$g.useRef(),c=react_1$g.useRef(!1),h=react_1$g.useRef(!1),g=react_1$g.useState(0),b=g[1];c.current&&(h.current=!0),react_1$g.useLayoutEffect(function(){return c.current||(o.current=e.current(),c.current=!0),b(function($){return $+1}),function(){h.current&&o.current&&o.current()}},[])};var utils={},__assign$8=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$8=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$8.apply(this,arguments)};Object.defineProperty(utils,"__esModule",{value:!0});utils.classesList=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var o=a.filter(function(c){return c!=null&&c!==""});return o.join(" ")};var CssClasses=function(){function a(){for(var e=this,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];this.classesMap={},o.forEach(function(h){e.classesMap[h]=!0})}return a.prototype.setClass=function(e,o){var c=!!this.classesMap[e]==o;if(c)return this;var h=new a;return h.classesMap=__assign$8({},this.classesMap),h.classesMap[e]=o,h},a.prototype.toString=function(){var e=this,o=Object.keys(this.classesMap).filter(function(c){return e.classesMap[c]}).join(" ");return o},a}();utils.CssClasses=CssClasses;utils.isComponentStateless=function(a){var e=function(){return typeof Symbol=="function"&&Symbol.for},o=function(){return e()?Symbol.for("react.memo"):60115};return typeof a=="function"&&!(a.prototype&&a.prototype.isReactComponent)||typeof a=="object"&&a.$$typeof===o()};var __assign$7=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$7=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$7.apply(this,arguments)},__importStar$e=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(groupCellRenderer,"__esModule",{value:!0});var ag_grid_community_1$c=require$$0,react_1$f=__importStar$e(reactExports),beansContext_1$d=beansContext,jsComp_1$4=jsComp,useEffectOnce_1$e=useEffectOnce,utils_1$9=utils,GroupCellRenderer=react_1$f.forwardRef(function(a,e){var o=react_1$f.useContext(beansContext_1$d.BeansContext).context,c=react_1$f.useRef(null),h=react_1$f.useRef(null),g=react_1$f.useRef(null),b=react_1$f.useRef(null),$=react_1$f.useRef(null),j=react_1$f.useState(),rt=j[0],nt=j[1],ot=react_1$f.useState(),_t=ot[0],Et=ot[1],It=react_1$f.useState(),it=It[0],st=It[1],Mt=react_1$f.useState(new utils_1$9.CssClasses),bt=Mt[0],Lt=Mt[1],pt=react_1$f.useState(new utils_1$9.CssClasses("ag-hidden")),Dt=pt[0],wt=pt[1],Bt=react_1$f.useState(new utils_1$9.CssClasses("ag-hidden")),jt=Bt[0],hr=Bt[1],gr=react_1$f.useState(new utils_1$9.CssClasses("ag-invisible")),Cr=gr[0],wr=gr[1];react_1$f.useImperativeHandle(e,function(){return{refresh:function(){return!1}}}),react_1$f.useEffect(function(){return jsComp_1$4.showJsComp(rt,o,h.current)},[rt]),useEffectOnce_1$e.useEffectOnce(function(){var Or={setInnerRenderer:function(eo,uo){nt(eo),st(uo)},setChildCount:function(eo){return Et(eo)},addOrRemoveCssClass:function(eo,uo){return Lt(function(wo){return wo.setClass(eo,uo)})},setContractedDisplayed:function(eo){return hr(function(uo){return uo.setClass("ag-hidden",!eo)})},setExpandedDisplayed:function(eo){return wt(function(uo){return uo.setClass("ag-hidden",!eo)})},setCheckboxVisible:function(eo){return wr(function(uo){return uo.setClass("ag-invisible",!eo)})}},Nn=o.createBean(new ag_grid_community_1$c.GroupCellRendererCtrl);return Nn.init(Or,c.current,g.current,b.current,$.current,GroupCellRenderer,a),function(){o.destroyBean(Nn)}});var yr=react_1$f.useMemo(function(){return"ag-cell-wrapper "+bt.toString()},[bt]),xr=react_1$f.useMemo(function(){return"ag-group-expanded "+Dt.toString()},[Dt]),In=react_1$f.useMemo(function(){return"ag-group-contracted "+jt.toString()},[jt]),rn=react_1$f.useMemo(function(){return"ag-group-checkbox "+Cr.toString()},[Cr]),Sr=rt&&rt.componentFromFramework,Tr=Sr?rt.componentClass:void 0,Ln=rt==null&&it!=null,Fn=ag_grid_community_1$c._.escapeString(it,!0);return react_1$f.default.createElement("span",__assign$7({className:yr,ref:c},a.colDef?{}:{role:"gridcell"}),react_1$f.default.createElement("span",{className:xr,ref:b}),react_1$f.default.createElement("span",{className:In,ref:$}),react_1$f.default.createElement("span",{className:rn,ref:g}),react_1$f.default.createElement("span",{className:"ag-group-value",ref:h},Ln&&react_1$f.default.createElement(react_1$f.default.Fragment,null,Fn),Sr&&react_1$f.default.createElement(Tr,__assign$7({},rt.params))),react_1$f.default.createElement("span",{className:"ag-group-child-count"},_t))});groupCellRenderer.default=GroupCellRenderer;var detailCellRenderer={},agGridReactUi={},gridComp={},gridBodyComp={},gridHeaderComp={},headerRowContainerComp={},headerRowComp={},headerCellComp={},__assign$6=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$6=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$6.apply(this,arguments)},__importStar$d=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(headerCellComp,"__esModule",{value:!0});var react_1$e=__importStar$d(reactExports),beansContext_1$c=beansContext,ag_grid_community_1$b=require$$0,utils_1$8=utils,jsComp_1$3=jsComp,useEffectOnce_1$d=useEffectOnce,HeaderCellComp=function(a){var e=react_1$e.useContext(beansContext_1$c.BeansContext).context,o=react_1$e.useState(),c=o[0],h=o[1],g=react_1$e.useState(),b=g[0],$=g[1],j=react_1$e.useState(),rt=j[0],nt=j[1],ot=react_1$e.useState(),_t=ot[0],Et=ot[1],It=react_1$e.useState(),it=It[0],st=It[1],Mt=react_1$e.useState(),bt=Mt[0],Lt=Mt[1],pt=react_1$e.useRef(null),Dt=react_1$e.useRef(null),wt=react_1$e.useRef(null),Bt=react_1$e.useRef(),jt=a.ctrl,hr=react_1$e.useMemo(function(){return new ag_grid_community_1$b.CssClassManager(function(){return pt.current})},[]);useEffectOnce_1$d.useEffectOnce(function(){var xr={setWidth:function(rn){return h(rn)},addOrRemoveCssClass:function(rn,Sr){return hr.addOrRemoveCssClass(rn,Sr)},setColId:function(rn){return nt(rn)},setTitle:function(rn){return $(rn)},setAriaDescription:function(rn){return st(rn)},setAriaSort:function(rn){return Et(rn)},setUserCompDetails:function(rn){return Lt(rn)},getUserCompInstance:function(){return Bt.current||void 0}};jt.setComp(xr,pt.current,Dt.current,wt.current);var In=jt.getSelectAllGui();Dt.current.insertAdjacentElement("afterend",In)}),react_1$e.useEffect(function(){return jsComp_1$3.showJsComp(bt,e,wt.current,Bt)},[bt]),react_1$e.useEffect(function(){jt.setDragSource(pt.current)},[bt]);var gr=react_1$e.useMemo(function(){return{width:c}},[c]),Cr=react_1$e.useMemo(function(){var xr,In=((xr=bt)===null||xr===void 0?void 0:xr.componentFromFramework)&&utils_1$8.isComponentStateless(bt.componentClass);return!!In},[bt]),wr=bt&&bt.componentFromFramework,yr=bt&&bt.componentClass;return react_1$e.default.createElement("div",{ref:pt,className:"ag-header-cell",style:gr,title:b,"col-id":rt,"aria-sort":_t,role:"columnheader",tabIndex:-1,"aria-description":it},react_1$e.default.createElement("div",{ref:Dt,className:"ag-header-cell-resize",role:"presentation"}),react_1$e.default.createElement("div",{ref:wt,className:"ag-header-cell-comp-wrapper",role:"presentation"},wr&&Cr&&react_1$e.default.createElement(yr,__assign$6({},bt.params)),wr&&!Cr&&react_1$e.default.createElement(yr,__assign$6({},bt.params,{ref:Bt}))))};headerCellComp.default=react_1$e.memo(HeaderCellComp);var headerGroupCellComp={},__assign$5=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$5=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$5.apply(this,arguments)},__importStar$c=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(headerGroupCellComp,"__esModule",{value:!0});var react_1$d=__importStar$c(reactExports),beansContext_1$b=beansContext,jsComp_1$2=jsComp,useEffectOnce_1$c=useEffectOnce,utils_1$7=utils,HeaderGroupCellComp=function(a){var e=react_1$d.useContext(beansContext_1$b.BeansContext).context,o=react_1$d.useState(new utils_1$7.CssClasses),c=o[0],h=o[1],g=react_1$d.useState(new utils_1$7.CssClasses),b=g[0],$=g[1],j=react_1$d.useState(),rt=j[0],nt=j[1],ot=react_1$d.useState(),_t=ot[0],Et=ot[1],It=react_1$d.useState(),it=It[0],st=It[1],Mt=react_1$d.useState(),bt=Mt[0],Lt=Mt[1],pt=react_1$d.useState(),Dt=pt[0],wt=pt[1],Bt=react_1$d.useRef(null),jt=react_1$d.useRef(null),hr=a.ctrl;useEffectOnce_1$c.useEffectOnce(function(){var In={setWidth:function(rn){return nt(rn)},addOrRemoveCssClass:function(rn,Sr){return h(function(Tr){return Tr.setClass(rn,Sr)})},setColId:function(rn){return st(rn)},setTitle:function(rn){return Et(rn)},setUserCompDetails:function(rn){return wt(rn)},addOrRemoveResizableCssClass:function(rn,Sr){return $(function(Tr){return Tr.setClass(rn,Sr)})},setAriaExpanded:function(rn){return Lt(rn)}};hr.setComp(In,Bt.current,jt.current)}),react_1$d.useEffect(function(){return jsComp_1$2.showJsComp(Dt,e,Bt.current)},[Dt]),react_1$d.useEffect(function(){var In=void 0;Bt.current.childNodes.forEach(function(rn){rn!=null&&rn!==jt.current&&(In=rn)}),In&&hr.setDragSource(In)},[Dt]);var gr=react_1$d.useMemo(function(){return{width:rt}},[rt]),Cr=react_1$d.useMemo(function(){return"ag-header-group-cell "+c.toString()},[c]),wr=react_1$d.useMemo(function(){return"ag-header-cell-resize "+b.toString()},[b]),yr=Dt&&Dt.componentFromFramework,xr=Dt&&Dt.componentClass;return react_1$d.default.createElement("div",{ref:Bt,className:Cr,style:gr,title:_t,"col-id":it,role:"columnheader",tabIndex:-1,"aria-expanded":bt},yr&&react_1$d.default.createElement(xr,__assign$5({},Dt.params)),react_1$d.default.createElement("div",{ref:jt,className:wr}))};headerGroupCellComp.default=react_1$d.memo(HeaderGroupCellComp);var headerFilterCellComp={},__assign$4=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$4=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$4.apply(this,arguments)},__importStar$b=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(headerFilterCellComp,"__esModule",{value:!0});var react_1$c=__importStar$b(reactExports),beansContext_1$a=beansContext,ag_grid_community_1$a=require$$0,utils_1$6=utils,jsComp_1$1=jsComp,useEffectOnce_1$b=useEffectOnce,HeaderFilterCellComp=function(a){var e=react_1$c.useContext(beansContext_1$a.BeansContext).context,o=react_1$c.useState(new utils_1$6.CssClasses("ag-header-cell","ag-floating-filter")),c=o[0],h=o[1],g=react_1$c.useState(new utils_1$6.CssClasses),b=g[0],$=g[1],j=react_1$c.useState(new utils_1$6.CssClasses("ag-floating-filter-button","ag-hidden")),rt=j[0],nt=j[1],ot=react_1$c.useState(),_t=ot[0],Et=ot[1],It=react_1$c.useState(),it=It[0],st=It[1],Mt=react_1$c.useRef(null),bt=react_1$c.useRef(null),Lt=react_1$c.useRef(null),pt=react_1$c.useRef(null),Dt=react_1$c.useRef(!1),wt=react_1$c.useRef(),Bt=react_1$c.useRef();useEffectOnce_1$b.useEffectOnce(function(){Bt.current=new ag_grid_community_1$a.AgPromise(function(Sr){wt.current=Sr})});var jt=function(Sr){Dt.current||Sr!=null&&(wt.current&&wt.current(Sr),Dt.current=!0)},hr=a.ctrl;useEffectOnce_1$b.useEffectOnce(function(){var Sr={addOrRemoveCssClass:function(Tr,Ln){return h(function(Fn){return Fn.setClass(Tr,Ln)})},addOrRemoveBodyCssClass:function(Tr,Ln){return $(function(Fn){return Fn.setClass(Tr,Ln)})},addOrRemoveButtonWrapperCssClass:function(Tr,Ln){return nt(function(Fn){return Fn.setClass(Tr,Ln)})},setWidth:function(Tr){return Et(Tr)},setCompDetails:function(Tr){return st(Tr)},getFloatingFilterComp:function(){return Bt.current?Bt.current:null},setMenuIcon:function(Tr){return pt.current.appendChild(Tr)}};hr.setComp(Sr,Mt.current,pt.current,bt.current)}),react_1$c.useEffect(function(){return jsComp_1$1.showJsComp(it,e,bt.current,jt)},[it]);var gr=react_1$c.useMemo(function(){return{width:_t}},[_t]),Cr=react_1$c.useMemo(function(){return c.toString()},[c]),wr=react_1$c.useMemo(function(){return b.toString()},[b]),yr=react_1$c.useMemo(function(){return rt.toString()},[rt]),xr=react_1$c.useMemo(function(){var Sr=it&&it.componentFromFramework&&utils_1$6.isComponentStateless(it.componentClass);return!!Sr},[it]),In=it&&it.componentFromFramework,rn=it&&it.componentClass;return react_1$c.default.createElement("div",{ref:Mt,className:Cr,style:gr,role:"gridcell",tabIndex:-1},react_1$c.default.createElement("div",{ref:bt,className:wr,role:"presentation"},In&&xr&&react_1$c.default.createElement(rn,__assign$4({},it.params)),In&&!xr&&react_1$c.default.createElement(rn,__assign$4({},it.params,{ref:jt}))),react_1$c.default.createElement("div",{ref:Lt,className:yr,role:"presentation"},react_1$c.default.createElement("button",{ref:pt,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))};headerFilterCellComp.default=react_1$c.memo(HeaderFilterCellComp);var __spreadArrays$2=commonjsGlobal$1&&commonjsGlobal$1.__spreadArrays||function(){for(var a=0,e=0,o=arguments.length;e<o;e++)a+=arguments[e].length;for(var c=Array(a),h=0,e=0;e<o;e++)for(var g=arguments[e],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c},__importStar$a=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$7=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(headerRowComp,"__esModule",{value:!0});var ag_grid_community_1$9=require$$0,react_1$b=__importStar$a(reactExports),beansContext_1$9=beansContext,headerCellComp_1=__importDefault$7(headerCellComp),headerGroupCellComp_1=__importDefault$7(headerGroupCellComp),headerFilterCellComp_1=__importDefault$7(headerFilterCellComp),useEffectOnce_1$a=useEffectOnce,HeaderRowComp=function(a){var e=react_1$b.useContext(beansContext_1$9.BeansContext).gridOptionsWrapper,o=react_1$b.useState(),c=o[0],h=o[1],g=react_1$b.useState(),b=g[0],$=g[1],j=react_1$b.useState(),rt=j[0],nt=j[1],ot=react_1$b.useState(),_t=ot[0],Et=ot[1],It=react_1$b.useState(),it=It[0],st=It[1],Mt=react_1$b.useState([]),bt=Mt[0],Lt=Mt[1],pt=react_1$b.useRef(null),Dt=a.ctrl,wt=Dt.getType()===ag_grid_community_1$9.HeaderRowType.COLUMN,Bt=Dt.getType()===ag_grid_community_1$9.HeaderRowType.COLUMN_GROUP,jt=Dt.getType()===ag_grid_community_1$9.HeaderRowType.FLOATING_FILTER,hr=react_1$b.useCallback(function(yr,xr){if(e.isEnsureDomOrder())return xr;var In=ag_grid_community_1$9._.mapById(yr,function(Ln){return Ln.getInstanceId()}),rn=ag_grid_community_1$9._.mapById(xr,function(Ln){return Ln.getInstanceId()}),Sr=yr.filter(function(Ln){return rn.has(Ln.getInstanceId())}),Tr=xr.filter(function(Ln){return!In.has(Ln.getInstanceId())});return __spreadArrays$2(Sr,Tr)},[]);useEffectOnce_1$a.useEffectOnce(function(){var yr={setTransform:function(xr){return h(xr)},setHeight:function(xr){return $(xr)},setTop:function(xr){return nt(xr)},setHeaderCtrls:function(xr){return Lt(function(In){return hr(In,xr)})},setWidth:function(xr){return Et(xr)},setAriaRowIndex:function(xr){return st(xr)}};Dt.setComp(yr)});var gr=react_1$b.useMemo(function(){return{transform:c,height:b,top:rt,width:_t}},[c,b,rt,_t]),Cr=react_1$b.useMemo(function(){var yr=["ag-header-row"];return wt&&yr.push("ag-header-row-column"),Bt&&yr.push("ag-header-row-column-group"),jt&&yr.push("ag-header-row-column-filter"),yr.join(" ")},[]),wr=react_1$b.useCallback(function(yr){switch(Dt.getType()){case ag_grid_community_1$9.HeaderRowType.COLUMN_GROUP:return react_1$b.default.createElement(headerGroupCellComp_1.default,{ctrl:yr,key:yr.getInstanceId()});case ag_grid_community_1$9.HeaderRowType.FLOATING_FILTER:return react_1$b.default.createElement(headerFilterCellComp_1.default,{ctrl:yr,key:yr.getInstanceId()});default:return react_1$b.default.createElement(headerCellComp_1.default,{ctrl:yr,key:yr.getInstanceId()})}},[]);return react_1$b.default.createElement("div",{ref:pt,className:Cr,role:"row",style:gr,"aria-rowindex":it},bt.map(wr))};headerRowComp.default=react_1$b.memo(HeaderRowComp);var __importStar$9=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$6=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(headerRowContainerComp,"__esModule",{value:!0});var react_1$a=__importStar$9(reactExports),beansContext_1$8=beansContext,ag_grid_community_1$8=require$$0,utils_1$5=utils,headerRowComp_1=__importDefault$6(headerRowComp),useEffectOnce_1$9=useEffectOnce,HeaderRowContainerComp=function(a){var e=react_1$a.useState(new utils_1$5.CssClasses),o=e[0],c=e[1],h=react_1$a.useState(),g=h[0],b=h[1],$=react_1$a.useState(),j=$[0],rt=$[1],nt=react_1$a.useState(),ot=nt[0],_t=nt[1],Et=react_1$a.useState([]),It=Et[0],it=Et[1],st=react_1$a.useContext(beansContext_1$8.BeansContext).context,Mt=react_1$a.useRef(null),bt=a.pinned===ag_grid_community_1$8.Constants.PINNED_LEFT,Lt=a.pinned===ag_grid_community_1$8.Constants.PINNED_RIGHT,pt=!bt&&!Lt;useEffectOnce_1$9.useEffectOnce(function(){var hr={addOrRemoveCssClass:function(Cr,wr){return c(function(yr){return yr.setClass(Cr,wr)})},setCtrls:function(Cr){return it(Cr)},setCenterWidth:function(Cr){return b(Cr)},setContainerTransform:function(Cr){return rt(Cr)},setPinnedContainerWidth:function(Cr){return _t(Cr)}},gr=st.createBean(new ag_grid_community_1$8.HeaderRowContainerCtrl(a.pinned));return gr.setComp(hr,Mt.current),function(){st.destroyBean(gr)}});var Dt=react_1$a.useMemo(function(){return o.toString()},[o]),wt=function(){return It.map(function(hr){return react_1$a.default.createElement(headerRowComp_1.default,{ctrl:hr,key:hr.getInstanceId()})})},Bt=react_1$a.useMemo(function(){return{width:g,transform:j}},[g,j]),jt=react_1$a.useMemo(function(){return{width:ot,minWidth:ot,maxWidth:ot}},[ot]);return react_1$a.default.createElement(react_1$a.default.Fragment,null,bt&&react_1$a.default.createElement("div",{ref:Mt,className:"ag-pinned-left-header "+Dt,role:"presentation",style:jt},wt()),Lt&&react_1$a.default.createElement("div",{ref:Mt,className:"ag-pinned-right-header "+Dt,role:"presentation",style:jt},wt()),pt&&react_1$a.default.createElement("div",{ref:Mt,className:"ag-header-viewport "+Dt,role:"presentation"},react_1$a.default.createElement("div",{className:"ag-header-container",role:"rowgroup",style:Bt},wt())))};headerRowContainerComp.default=react_1$a.memo(HeaderRowContainerComp);var __importStar$8=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gridHeaderComp,"__esModule",{value:!0});var react_1$9=__importStar$8(reactExports),beansContext_1$7=beansContext,ag_grid_community_1$7=require$$0,utils_1$4=utils,headerRowContainerComp_1=__importDefault$5(headerRowContainerComp),useEffectOnce_1$8=useEffectOnce,GridHeaderComp=function(){var a=react_1$9.useState(new utils_1$4.CssClasses),e=a[0],o=a[1],c=react_1$9.useState(),h=c[0],g=c[1],b=react_1$9.useContext(beansContext_1$7.BeansContext).context,$=react_1$9.useRef(null);useEffectOnce_1$8.useEffectOnce(function(){var nt={addOrRemoveCssClass:function(_t,Et){return o(function(It){return It.setClass(_t,Et)})},setHeightAndMinHeight:function(_t){return g(_t)}},ot=b.createBean(new ag_grid_community_1$7.GridHeaderCtrl);return ot.setComp(nt,$.current,$.current),function(){b.destroyBean(ot)}});var j=react_1$9.useMemo(function(){var nt=e.toString();return"ag-header "+nt},[e]),rt=react_1$9.useMemo(function(){return{height:h,minHeight:h}},[h]);return react_1$9.default.createElement("div",{ref:$,className:j,style:rt,role:"presentation"},react_1$9.default.createElement(headerRowContainerComp_1.default,{pinned:ag_grid_community_1$7.Constants.PINNED_LEFT}),react_1$9.default.createElement(headerRowContainerComp_1.default,{pinned:null}),react_1$9.default.createElement(headerRowContainerComp_1.default,{pinned:ag_grid_community_1$7.Constants.PINNED_RIGHT}))};gridHeaderComp.default=react_1$9.memo(GridHeaderComp);var reactComment={};Object.defineProperty(reactComment,"__esModule",{value:!0});var useEffectOnce_1$7=useEffectOnce,useReactCommentEffect=function(a,e){useEffectOnce_1$7.useEffectOnce(function(){var o=e.current,c=o.parentElement;if(c){var h=document.createComment(a);return c.insertBefore(h,o),function(){c.removeChild(h)}}})};reactComment.default=useReactCommentEffect;var rowContainerComp={},rowComp={},cellComp={},popupEditorComp={},__importStar$7=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(popupEditorComp,"__esModule",{value:!0});var ag_grid_community_1$6=require$$0,react_1$8=__importStar$7(reactExports),react_dom_1=reactDomExports,beansContext_1$6=beansContext,useEffectOnce_1$6=useEffectOnce,PopupEditorComp=function(a){var e=react_1$8.useState(),o=e[0],c=e[1],h=react_1$8.useContext(beansContext_1$6.BeansContext),g=h.context,b=h.popupService,$=h.gridOptionsWrapper;return useEffectOnce_1$6.useEffectOnce(function(){var j=a.editDetails,rt=a.cellCtrl,nt=a.eParentCell,ot=j.compDetails,_t=$.isStopEditingWhenCellsLoseFocus(),Et=g.createBean(new ag_grid_community_1$6.PopupEditorWrapper(ot.params)),It=Et.getGui();if(a.jsChildComp){var it=a.jsChildComp.getGui();it&&It.appendChild(it)}var st={column:rt.getColumn(),rowNode:rt.getRowNode(),type:"popupCellEditor",eventSource:nt,ePopup:It,keepWithinBounds:!0},Mt=j.popupPosition==="under"?b.positionPopupUnderComponent.bind(b,st):b.positionPopupOverComponent.bind(b,st),bt=$.getLocaleTextFunc(),Lt=b.addPopup({modal:_t,eChild:It,closeOnEsc:!0,closedCallback:function(){rt.onPopupEditorClosed()},anchorToElement:nt,positionCallback:Mt,ariaLabel:bt("ariaLabelCellEditor","Cell Editor")}),pt=Lt?Lt.hideFunc:void 0;return c(Et),a.jsChildComp&&a.jsChildComp.afterGuiAttached&&a.jsChildComp.afterGuiAttached(),function(){pt!=null&&pt(),g.destroyBean(Et)}}),react_1$8.default.createElement(react_1$8.default.Fragment,null,o&&a.wrappedContent&&react_dom_1.createPortal(a.wrappedContent,o.getGui()))};popupEditorComp.default=react_1$8.memo(PopupEditorComp);var showJsRenderer={};Object.defineProperty(showJsRenderer,"__esModule",{value:!0});var react_1$7=reactExports,beansContext_1$5=beansContext,useEffectOnce_1$5=useEffectOnce,useJsCellRenderer=function(a,e,o,c,h,g){var b=react_1$7.useContext(beansContext_1$5.BeansContext),$=b.context;b.userComponentFactory;var j=react_1$7.useCallback(function(){var rt=h.current;if(rt){var nt=rt.getGui();nt&&nt.parentElement&&nt.parentElement.removeChild(nt),$.destroyBean(rt),h.current=void 0}},[]);react_1$7.useEffect(function(){var rt=a!=null,nt=a&&a.compDetails&&!a.compDetails.componentFromFramework,ot=e&&o==null,_t=rt&&nt&&!ot;if(!_t){j();return}var Et=a.compDetails;if(h.current){var It=h.current,it=It.refresh!=null&&a.force==!1,st=it?It.refresh(Et.params):!1,Mt=st===!0||st===void 0;if(Mt)return;j()}var bt=Et.newAgStackInstance();if(bt){var Lt=bt.resolveNow(null,function(wt){return wt});if(Lt){var pt=Lt.getGui();if(pt){var Dt=e?o:g.current;Dt.appendChild(pt),h.current=Lt}}}},[a,e,c]),useEffectOnce_1$5.useEffectOnce(function(){return j})};showJsRenderer.default=useJsCellRenderer;(function(a){var e=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return e=Object.assign||function(st){for(var Mt,bt=1,Lt=arguments.length;bt<Lt;bt++){Mt=arguments[bt];for(var pt in Mt)Object.prototype.hasOwnProperty.call(Mt,pt)&&(st[pt]=Mt[pt])}return st},e.apply(this,arguments)},o=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(st){if(st&&st.__esModule)return st;var Mt={};if(st!=null)for(var bt in st)Object.hasOwnProperty.call(st,bt)&&(Mt[bt]=st[bt]);return Mt.default=st,Mt},c=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(a,"__esModule",{value:!0});var h=require$$0,g=o(reactExports),b=utils,$=c(popupEditorComp),j=c(showJsRenderer),rt=beansContext,nt=jsComp,ot=useEffectOnce;(function(st){st[st.ShowValue=0]="ShowValue",st[st.EditValue=1]="EditValue"})(a.CellCompState||(a.CellCompState={}));var _t=function(st,Mt,bt){var Lt=bt.getColumn();if(!st&&Mt.isPopup&&Mt.isPopup()){var pt="AG Grid: Found an issue in column "+Lt.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";h._.doOnce(function(){return console.warn(pt)},"jsEditorComp-isPopup-"+bt.getColumn().getColId())}if(st&&Mt.getPopupPosition&&Mt.getPopupPosition()!=null){var Dt="AG Grid: Found an issue in column "+Lt.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";h._.doOnce(function(){return console.warn(Dt)},"jsEditorComp-getPopupPosition-"+bt.getColumn().getColId())}},Et=function(st,Mt,bt,Lt,pt,Dt){var wt=st.compDetails,Bt=wt.componentClass,jt=wt.componentFromFramework&&!st.popup,hr=wt.componentFromFramework&&st.popup,gr=!wt.componentFromFramework&&st.popup;return g.default.createElement(g.default.Fragment,null,jt&&g.default.createElement(Bt,e({},st.compDetails.params,{ref:Mt})),hr&&g.default.createElement($.default,{editDetails:st,cellCtrl:pt,eParentCell:Lt,wrappedContent:g.default.createElement(Bt,e({},st.compDetails.params,{ref:bt}))}),gr&&Dt&&g.default.createElement($.default,{editDetails:st,cellCtrl:pt,eParentCell:Lt,jsChildComp:Dt}))},It=function(st,Mt,bt,Lt,pt,Dt,wt){var Bt,jt=st.compDetails,hr=st.value,gr=!jt,Cr=jt&&jt.componentFromFramework,wr=jt&&jt.componentClass,yr=!((Bt=hr)===null||Bt===void 0)&&Bt.toString?hr.toString():hr,xr=function(){return g.default.createElement(g.default.Fragment,null,gr&&g.default.createElement(g.default.Fragment,null,yr),Cr&&!Dt&&g.default.createElement(wr,e({},jt.params,{key:Mt,ref:Lt})),Cr&&Dt&&g.default.createElement(wr,e({},jt.params,{key:Mt})))};return g.default.createElement(g.default.Fragment,null,pt?g.default.createElement("span",{role:"presentation",id:"cell-"+bt,className:"ag-cell-value",ref:wt},xr()):xr())},it=function(st){var Mt=g.useContext(rt.BeansContext).context,bt=st.cellCtrl,Lt=st.printLayout,pt=st.editingRow,Dt=g.useState(),wt=Dt[0],Bt=Dt[1],jt=g.useState(),hr=jt[0],gr=jt[1],Cr=g.useState(1),wr=Cr[0],yr=Cr[1],xr=g.useState(),In=xr[0],rn=xr[1],Sr=g.useState(),Tr=Sr[0],Ln=Sr[1],Fn=g.useState(),Or=Fn[0],Nn=Fn[1],eo=g.useState(),uo=eo[0],wo=eo[1],bo=g.useState(),es=bo[0],rs=bo[1],vo=g.useState(),gs=vo[0],cs=vo[1],Gs=g.useState(!1),$n=Gs[0],Kn=Gs[1],Bn=g.useState(!1),co=Bn[0],vs=Bn[1],Ts=g.useState(!1),Fs=Ts[0],Os=Ts[1],Ns=g.useState(),Ps=Ns[0],Ks=Ns[1],Bs=g.useMemo(function(){return bt.isForceWrapper()},[]),_l=g.useRef(null),Cl=g.useRef(null),Zn=g.useRef(),Vn=g.useRef(),qn=g.useRef(),hs=g.useState(0),us=hs[0],xs=hs[1],Rs=g.useCallback(function(zs){qn.current=zs,xs(function(Js){return Js+1})},[]),zn=g.useRef(),ds=g.useState(0),_s=ds[0],ks=ds[1],as=g.useCallback(function(zs){zn.current=zs,ks(function(Js){return Js+1})},[]),Ls=wt!=null&&($n||Fs||co),Un=Bs||Ls,As=g.useCallback(function(zs,Js){if(Vn.current=Js,Js){_t(zs,Js,bt);var Hs=Js.isCancelBeforeStart&&Js.isCancelBeforeStart();Hs&&setTimeout(function(){return bt.stopEditing()},0)}},[]),yl=g.useCallback(function(zs){return As(!0,zs)},[]),Er=g.useCallback(function(zs){return As(!1,zs)},[]),ys=g.useMemo(function(){return new h.CssClassManager(function(){return _l.current})},[]);j.default(wt,Un,zn.current,_s,Zn,_l);var fs=g.useRef();g.useEffect(function(){var zs=fs.current,Js=wt;if(fs.current=wt,!(zs==null||zs.compDetails==null||Js==null||Js.compDetails==null)){var Hs=zs.compDetails,Al=Js.compDetails;if(Hs.componentClass==Al.componentClass&&!(Cl.current==null||Cl.current.refresh==null)){var Zl=Cl.current.refresh(Al.params);Zl!=!0&&yr(function(Ll){return Ll+1})}}},[wt]),g.useEffect(function(){var zs,Js=hr&&!hr.compDetails.componentFromFramework;if(Js){var Hs=hr.compDetails,Al=hr.popup===!0,Zl=nt.createSyncJsComp(Hs);if(Zl){var Ll=Zl.getGui();if(As(Al,Zl),!Al){var Wl=(Bs?qn:_l).current;(zs=Wl)===null||zs===void 0||zs.appendChild(Ll),Zl.afterGuiAttached&&Zl.afterGuiAttached()}return Ks(Zl),function(){Mt.destroyBean(Zl),As(Al,void 0),Ks(void 0),Ll&&Ll.parentElement&&Ll.parentElement.removeChild(Ll)}}}},[hr]),g.useEffect(function(){if(!(!bt||!Mt)&&(Nn(qn.current?"cell-"+bt.getInstanceId():void 0),!(!qn.current||!Un))){var zs=[],Js=function(Hs){if(Hs){var Al=Hs.getGui();qn.current.insertAdjacentElement("afterbegin",Al),zs.push(function(){Mt.destroyBean(Hs),h._.removeFromParent(Al)})}return Hs};return $n&&Js(bt.createSelectionCheckbox()),Fs&&Js(bt.createDndSource()),co&&Js(bt.createRowDragComp()),function(){return zs.forEach(function(Hs){return Hs()})}}},[Un,Fs,co,$n,us]),ot.useLayoutEffectOnce(function(){if(bt){var zs={addOrRemoveCssClass:function(Hs,Al){return ys.addOrRemoveCssClass(Hs,Al)},setUserStyles:function(Hs){return rn(Hs)},getFocusableElement:function(){return _l.current},setTabIndex:function(Hs){return Ln(Hs)},setRole:function(Hs){return wo(Hs)},setColId:function(Hs){return rs(Hs)},setTitle:function(Hs){return cs(Hs)},setIncludeSelection:function(Hs){return Kn(Hs)},setIncludeRowDrag:function(Hs){return vs(Hs)},setIncludeDndSource:function(Hs){return Os(Hs)},getCellEditor:function(){return Vn.current||null},getCellRenderer:function(){return Cl.current?Cl.current:Zn.current},getParentOfValue:function(){return zn.current?zn.current:qn.current?qn.current:_l.current},setRenderDetails:function(Hs,Al,Zl){Bt({value:Al,compDetails:Hs,force:Zl})},setEditDetails:function(Hs,Al,Zl){Hs?(gr({compDetails:Hs,popup:Al,popupPosition:Zl}),Al||Bt(void 0)):gr(void 0)}},Js=qn.current||void 0;bt.setComp(zs,_l.current,Js,Lt,pt)}});var Yn=g.useMemo(function(){var zs=wt&&wt.compDetails&&wt.compDetails.componentFromFramework&&b.isComponentStateless(wt.compDetails.componentClass);return!!zs},[wt]);_l.current&&!Un&&ys.addOrRemoveCssClass("ag-cell-value",!Un);var is=g.useMemo(function(){return bt.getInstanceId()},[]),Es=function(){return g.default.createElement(g.default.Fragment,null,wt!=null&&It(wt,wr,is,Cl,Un,Yn,as),hr!=null&&Et(hr,Er,yl,_l.current,bt,Ps))};return g.default.createElement("div",{ref:_l,style:In,tabIndex:Tr,role:uo,"col-id":es,title:gs,"aria-describedby":Or},Un?g.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Rs},Es()):Es())};a.default=g.memo(it)})(cellComp);var __assign$3=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$3=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$3.apply(this,arguments)},__spreadArrays$1=commonjsGlobal$1&&commonjsGlobal$1.__spreadArrays||function(){for(var a=0,e=0,o=arguments.length;e<o;e++)a+=arguments[e].length;for(var c=Array(a),h=0,e=0;e<o;e++)for(var g=arguments[e],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c},__importStar$6=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rowComp,"__esModule",{value:!0});var react_1$6=__importStar$6(reactExports),ag_grid_community_1$5=require$$0,jsComp_1=jsComp,utils_1$3=utils,beansContext_1$4=beansContext,cellComp_1=__importDefault$4(cellComp),useEffectOnce_1$4=useEffectOnce,maintainOrderOnColumns=function(a,e,o){if(o){var c={list:e,instanceIdMap:new Map};return e.forEach(function(rt){return c.instanceIdMap.set(rt.getInstanceId(),rt)}),c}var h=[],g=[],b=new Map,$=new Map;e.forEach(function(rt){return $.set(rt.getInstanceId(),rt)}),a.list.forEach(function(rt){var nt=rt.getInstanceId();$.has(nt)&&(h.push(rt),b.set(nt,rt))}),e.forEach(function(rt){var nt=rt.getInstanceId();a.instanceIdMap.has(nt)||(g.push(rt),b.set(nt,rt))});var j={list:__spreadArrays$1(h,g),instanceIdMap:b};return j},RowComp=function(a){var e=react_1$6.useContext(beansContext_1$4.BeansContext).context,o=a.rowCtrl,c=a.containerType,h=react_1$6.useState(),g=h[0],b=h[1],$=react_1$6.useState(),j=$[0],rt=$[1],nt=react_1$6.useState(),ot=nt[0],_t=nt[1],Et=react_1$6.useState(),It=Et[0],it=Et[1],st=react_1$6.useState(),Mt=st[0],bt=st[1],Lt=react_1$6.useState(),pt=Lt[0],Dt=Lt[1],wt=react_1$6.useState({list:[],instanceIdMap:new Map}),Bt=wt[0],jt=wt[1],hr=react_1$6.useState(),gr=hr[0],Cr=hr[1],wr=react_1$6.useState(!1),yr=wr[0],xr=wr[1],In=react_1$6.useState(o.getInitialRowTop()),rn=In[0],Sr=In[1],Tr=react_1$6.useState(o.getInitialTransform()),Ln=Tr[0],Fn=Tr[1],Or=react_1$6.useRef(null),Nn=react_1$6.useRef(),eo=react_1$6.useRef(!1),uo=react_1$6.useState(0),wo=uo[0],bo=uo[1];react_1$6.useEffect(function(){var Kn;if(!eo.current&&gr&&!(wo>10)){var Bn=(Kn=Or.current)===null||Kn===void 0?void 0:Kn.firstChild;Bn?(o.setupDetailRowAutoHeight(Bn),eo.current=!0):bo(function(co){return co+1})}},[gr,wo]);var es=react_1$6.useMemo(function(){return new ag_grid_community_1$5.CssClassManager(function(){return Or.current})},[]);useEffectOnce_1$4.useLayoutEffectOnce(function(){if(o.isAlive()){var Kn={setTop:function(Bn){return Sr(Bn)},setTransform:function(Bn){return Fn(Bn)},addOrRemoveCssClass:function(Bn,co){return es.addOrRemoveCssClass(Bn,co)},setDomOrder:function(Bn){return xr(Bn)},setRowIndex:function(Bn){return b(Bn)},setRowId:function(Bn){return rt(Bn)},setRowBusinessKey:function(Bn){return it(Bn)},setTabIndex:function(Bn){return bt(Bn)},setUserStyles:function(Bn){return Dt(Bn)},setRole:function(Bn){return _t(Bn)},setCellCtrls:function(Bn){return jt(function(co){return maintainOrderOnColumns(co,Bn,yr)})},showFullWidth:function(Bn){return Cr(Bn)},getFullWidthCellRenderer:function(){return Nn.current}};o.setComp(Kn,Or.current,c)}}),react_1$6.useEffect(function(){return jsComp_1.showJsComp(gr,e,Or.current,Nn)},[gr]);var rs=react_1$6.useMemo(function(){var Kn={top:rn,transform:Ln};return Object.assign(Kn,pt),Kn},[rn,Ln,pt]),vo=gr&&gr.componentFromFramework,gs=Bt!=null,cs=react_1$6.useMemo(function(){var Kn,Bn=((Kn=gr)===null||Kn===void 0?void 0:Kn.componentFromFramework)&&utils_1$3.isComponentStateless(gr.componentClass);return!!Bn},[gr]),Gs=function(){return Bt.list.map(function(Kn){return react_1$6.default.createElement(cellComp_1.default,{cellCtrl:Kn,editingRow:o.isEditing(),printLayout:o.isPrintLayout(),key:Kn.getInstanceId()})})},$n=function(){var Kn=gr.componentClass;return react_1$6.default.createElement(react_1$6.default.Fragment,null,cs&&react_1$6.default.createElement(Kn,__assign$3({},gr.params)),!cs&&react_1$6.default.createElement(Kn,__assign$3({},gr.params,{ref:Nn})))};return react_1$6.default.createElement("div",{ref:Or,role:ot,style:rs,"row-index":g,"row-id":j,"row-business-key":It,tabIndex:Mt},gs&&Gs(),vo&&$n())};rowComp.default=react_1$6.memo(RowComp);var __spreadArrays=commonjsGlobal$1&&commonjsGlobal$1.__spreadArrays||function(){for(var a=0,e=0,o=arguments.length;e<o;e++)a+=arguments[e].length;for(var c=Array(a),h=0,e=0;e<o;e++)for(var g=arguments[e],b=0,$=g.length;b<$;b++,h++)c[h]=g[b];return c},__importStar$5=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rowContainerComp,"__esModule",{value:!0});var ag_grid_community_1$4=require$$0,react_1$5=__importStar$5(reactExports),utils_1$2=utils,reactComment_1$2=__importDefault$3(reactComment),rowComp_1=__importDefault$3(rowComp),beansContext_1$3=beansContext,useEffectOnce_1$3=useEffectOnce,RowContainerComp=function(a){var e=react_1$5.useContext(beansContext_1$3.BeansContext).context,o=react_1$5.useState(""),c=o[0],h=o[1],g=react_1$5.useState([]),b=g[0],$=g[1],j=react_1$5.useState([]),rt=j[0],nt=j[1],ot=react_1$5.useState(!1),_t=ot[0],Et=ot[1],It=react_1$5.useState(""),it=It[0],st=It[1],Mt=a.name,bt=react_1$5.useMemo(function(){return ag_grid_community_1$4.getRowContainerTypeForName(Mt)},[Mt]),Lt=react_1$5.useRef(null),pt=react_1$5.useRef(null),Dt=react_1$5.useRef(null),wt=react_1$5.useMemo(function(){return ag_grid_community_1$4.RowContainerCtrl.getRowContainerCssClasses(Mt)},[Mt]),Bt=react_1$5.useMemo(function(){return utils_1$2.classesList(wt.wrapper)},[]),jt=react_1$5.useMemo(function(){return utils_1$2.classesList(wt.viewport)},[]),hr=react_1$5.useMemo(function(){return utils_1$2.classesList(wt.container)},[]),gr=Mt===ag_grid_community_1$4.RowContainerName.CENTER,Cr=Mt===ag_grid_community_1$4.RowContainerName.TOP_CENTER||Mt===ag_grid_community_1$4.RowContainerName.BOTTOM_CENTER||Mt===ag_grid_community_1$4.RowContainerName.STICKY_TOP_CENTER,wr=!gr&&!Cr,yr=gr?Lt:Cr?pt:Dt;reactComment_1$2.default(" AG Row Container "+Mt+" ",yr),react_1$5.useEffect(function(){$(function(Sr){if(_t)return rt;var Tr=Sr.filter(function(Or){return rt.indexOf(Or)>=0}),Ln=rt.filter(function(Or){return Tr.indexOf(Or)<0}),Fn=__spreadArrays(Tr,Ln);return Fn})},[_t,rt]),useEffectOnce_1$3.useEffectOnce(function(){var Sr=[],Tr={setViewportHeight:h,setRowCtrls:function(Fn){return nt(Fn)},setDomOrder:function(Fn){return Et(Fn)},setContainerWidth:function(Fn){return st(Fn)}},Ln=e.createBean(new ag_grid_community_1$4.RowContainerCtrl(Mt));return Sr.push(Ln),Ln.setComp(Tr,Dt.current,pt.current,Lt.current),function(){e.destroyBeans(Sr)}});var xr=react_1$5.useMemo(function(){return{height:c}},[c]),In=react_1$5.useMemo(function(){return{width:it}},[it]),rn=function(){return react_1$5.default.createElement("div",{className:hr,ref:Dt,role:rt.length?"rowgroup":"presentation",style:In},b.map(function(Sr){return react_1$5.default.createElement(rowComp_1.default,{rowCtrl:Sr,containerType:bt,key:Sr.getInstanceId()})}))};return react_1$5.default.createElement(react_1$5.default.Fragment,null,gr&&react_1$5.default.createElement("div",{className:Bt,ref:Lt,role:"presentation"},react_1$5.default.createElement("div",{className:jt,ref:pt,role:"presentation",style:xr},rn())),Cr&&react_1$5.default.createElement("div",{className:jt,ref:pt,role:"presentation",style:xr},rn()),wr&&rn())};rowContainerComp.default=react_1$5.memo(RowContainerComp);var __importStar$4=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gridBodyComp,"__esModule",{value:!0});var ag_grid_community_1$3=require$$0,react_1$4=__importStar$4(reactExports),beansContext_1$2=beansContext,gridHeaderComp_1=__importDefault$2(gridHeaderComp),reactComment_1$1=__importDefault$2(reactComment),rowContainerComp_1=__importDefault$2(rowContainerComp),useEffectOnce_1$2=useEffectOnce,utils_1$1=utils,GridBodyComp=function(){var a=react_1$4.useContext(beansContext_1$2.BeansContext),e=a.context,o=a.agStackComponentsRegistry,c=a.resizeObserverService,h=react_1$4.useState(""),g=h[0],b=h[1],$=react_1$4.useState(0),j=$[0],rt=$[1],nt=react_1$4.useState(0),ot=nt[0],_t=nt[1],Et=react_1$4.useState(0),It=Et[0],it=Et[1],st=react_1$4.useState(0),Mt=st[0],bt=st[1],Lt=react_1$4.useState("0px"),pt=Lt[0],Dt=Lt[1],wt=react_1$4.useState("0px"),Bt=wt[0],jt=wt[1],hr=react_1$4.useState("100%"),gr=hr[0],Cr=hr[1],wr=react_1$4.useState(""),yr=wr[0],xr=wr[1],In=react_1$4.useState(""),rn=In[0],Sr=In[1],Tr=react_1$4.useState(null),Ln=Tr[0],Fn=Tr[1],Or=react_1$4.useState(null),Nn=Or[0],eo=Or[1],uo=react_1$4.useState(""),wo=uo[0],bo=uo[1],es=react_1$4.useState(null),rs=es[0],vo=es[1],gs=react_1$4.useState("ag-layout-normal"),cs=gs[0],Gs=gs[1],$n=react_1$4.useRef(null),Kn=react_1$4.useRef(null),Bn=react_1$4.useRef(null),co=react_1$4.useRef(null),vs=react_1$4.useRef(null);reactComment_1$1.default(" AG Grid Body ",$n),reactComment_1$1.default(" AG Pinned Top ",Kn),reactComment_1$1.default(" AG Sticky Top ",Bn),reactComment_1$1.default(" AG Middle ",co),reactComment_1$1.default(" AG Pinned Bottom ",vs),useEffectOnce_1$2.useEffectOnce(function(){var Vn=[],qn=[];if(e){var hs=function(Rs){var zn=o.getComponentClass(Rs),ds=e.createBean(new zn);return Vn.push(ds),ds};$n.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),$n.current.appendChild(hs("AG-FAKE-HORIZONTAL-SCROLL").getGui()),$n.current.appendChild(document.createComment(" AG Overlay Wrapper ")),$n.current.appendChild(hs("AG-OVERLAY-WRAPPER").getGui());var us={setRowAnimationCssOnBodyViewport:b,setColumnCount:rt,setRowCount:_t,setTopHeight:it,setBottomHeight:bt,setStickyTopHeight:Dt,setStickyTopTop:jt,setStickyTopWidth:Cr,setTopDisplay:xr,setBottomDisplay:Sr,setColumnMovingCss:Fn,updateLayoutClasses:Gs,setAlwaysVerticalScrollClass:eo,setPinnedTopBottomOverflowY:bo,setCellSelectableCss:vo,registerBodyViewportResizeListener:function(Rs){var zn=c.observeResize(co.current,Rs);qn.push(function(){return zn()})}},xs=e.createBean(new ag_grid_community_1$3.GridBodyCtrl);return Vn.push(xs),xs.setComp(us,$n.current,co.current,Kn.current,vs.current,Bn.current),function(){e.destroyBeans(Vn),qn.forEach(function(Rs){return Rs()})}}});var Ts=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-root","ag-unselectable",Ln,cs)},[Ln,cs]),Fs=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-body-viewport",g,cs,Nn,rs)},[g,cs,Nn,rs]),Os=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-floating-top",rs)},[rs]),Ns=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-sticky-top",rs)},[rs]),Ps=react_1$4.useMemo(function(){return utils_1$1.classesList("ag-floating-bottom",rs)},[rs]),Ks=react_1$4.useMemo(function(){return{height:It,minHeight:It,display:yr,overflowY:wo}},[It,yr,wo]),Bs=react_1$4.useMemo(function(){return{height:pt,top:Bt,width:gr}},[pt,Bt,gr]),_l=react_1$4.useMemo(function(){return{height:Mt,minHeight:Mt,display:rn,overflowY:wo}},[Mt,rn,wo]),Cl=function(Vn){return react_1$4.default.createElement(rowContainerComp_1.default,{name:Vn,key:Vn+"-container"})},Zn=function(Vn){var qn=Vn.section,hs=Vn.children,us=Vn.className,xs=Vn.style;return react_1$4.default.createElement("div",{ref:qn,className:us,role:"presentation",style:xs},hs.map(Cl))};return react_1$4.default.createElement("div",{ref:$n,className:Ts,role:"grid","aria-colcount":j,"aria-rowcount":ot},react_1$4.default.createElement(gridHeaderComp_1.default,null),Zn({section:Kn,className:Os,style:Ks,children:[ag_grid_community_1$3.RowContainerName.TOP_LEFT,ag_grid_community_1$3.RowContainerName.TOP_CENTER,ag_grid_community_1$3.RowContainerName.TOP_RIGHT,ag_grid_community_1$3.RowContainerName.TOP_FULL_WIDTH]}),Zn({section:co,className:Fs,children:[ag_grid_community_1$3.RowContainerName.LEFT,ag_grid_community_1$3.RowContainerName.CENTER,ag_grid_community_1$3.RowContainerName.RIGHT,ag_grid_community_1$3.RowContainerName.FULL_WIDTH]}),Zn({section:Bn,className:Ns,style:Bs,children:[ag_grid_community_1$3.RowContainerName.STICKY_TOP_LEFT,ag_grid_community_1$3.RowContainerName.STICKY_TOP_CENTER,ag_grid_community_1$3.RowContainerName.STICKY_TOP_RIGHT,ag_grid_community_1$3.RowContainerName.STICKY_TOP_FULL_WIDTH]}),Zn({section:vs,className:Ps,style:_l,children:[ag_grid_community_1$3.RowContainerName.BOTTOM_LEFT,ag_grid_community_1$3.RowContainerName.BOTTOM_CENTER,ag_grid_community_1$3.RowContainerName.BOTTOM_RIGHT,ag_grid_community_1$3.RowContainerName.BOTTOM_FULL_WIDTH]}))};gridBodyComp.default=react_1$4.memo(GridBodyComp);var tabGuardComp={},__importStar$3=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(tabGuardComp,"__esModule",{value:!0});var react_1$3=__importStar$3(reactExports),ag_grid_community_1$2=require$$0,beansContext_1$1=beansContext,useEffectOnce_1$1=useEffectOnce,TabGuardCompRef=function(a,e){var o=a.children,c=a.eFocusableElement,h=a.onTabKeyDown,g=a.gridCtrl,b=react_1$3.useContext(beansContext_1$1.BeansContext).context,$=react_1$3.useRef(null),j=react_1$3.useRef(null),rt=react_1$3.useRef(),nt=react_1$3.useState(),ot=nt[0],_t=nt[1];react_1$3.useImperativeHandle(e,function(){return{forceFocusOutOfContainer:function(){rt.current.forceFocusOutOfContainer()}}}),useEffectOnce_1$1.useEffectOnce(function(){var It=$.current,it=j.current,st={setTabIndex:function(bt){return bt==null?_t(void 0):_t(parseInt(bt,10))}},Mt=rt.current=b.createBean(new ag_grid_community_1$2.TabGuardCtrl({comp:st,eTopGuard:It,eBottomGuard:it,eFocusableElement:c,onTabKeyDown:h,focusInnerElement:function(bt){return g.focusInnerElement(bt)}}));return function(){b.destroyBean(Mt)}});var Et=function(It){return react_1$3.default.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+It,role:"presentation",tabIndex:ot,ref:It==="top"?$:j})};return react_1$3.default.createElement(react_1$3.default.Fragment,null,Et("top"),o,Et("bottom"))},TabGuardComp=react_1$3.forwardRef(TabGuardCompRef);tabGuardComp.default=react_1$3.memo(TabGuardComp);var __importStar$2=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e},__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gridComp,"__esModule",{value:!0});var ag_grid_community_1$1=require$$0,react_1$2=__importStar$2(reactExports),beansContext_1=beansContext,gridBodyComp_1=__importDefault$1(gridBodyComp),reactComment_1=__importDefault$1(reactComment),tabGuardComp_1=__importDefault$1(tabGuardComp),useEffectOnce_1=useEffectOnce,utils_1=utils,GridComp=function(a){var e=a.context,o=react_1$2.useState(""),c=o[0],h=o[1],g=react_1$2.useState(""),b=g[0],$=g[1],j=react_1$2.useState(""),rt=j[0],nt=j[1],ot=react_1$2.useState(null),_t=ot[0],Et=ot[1],It=react_1$2.useState(null),it=It[0],st=It[1],Mt=react_1$2.useState(!1),bt=Mt[0],Lt=Mt[1],pt=react_1$2.useState(),Dt=pt[0],wt=pt[1],Bt=react_1$2.useRef(null),jt=react_1$2.useRef(null),hr=react_1$2.useRef(),gr=react_1$2.useRef(null),Cr=react_1$2.useRef(function(){}),wr=react_1$2.useCallback(function(){},[]),yr=react_1$2.useMemo(function(){return e.getBean("beans")},[]);reactComment_1.default(" AG Grid ",jt),useEffectOnce_1.useEffectOnce(function(){var Ln=Bt.current=e.createBean(new ag_grid_community_1$1.GridCtrl);return function(){e.destroyBean(Ln),Bt.current=null}}),useEffectOnce_1.useEffectOnce(function(){var Ln=Bt.current;Cr.current=Ln.focusInnerElement.bind(Ln);var Fn={destroyGridUi:function(){},setRtlClass:h,addOrRemoveKeyboardFocusClass:function(Or){return $(Or?ag_grid_community_1$1.FocusService.AG_KEYBOARD_FOCUS:"")},forceFocusOutOfContainer:function(){hr.current.forceFocusOutOfContainer()},updateLayoutClasses:nt,getFocusableContainers:function(){var Or=[],Nn=jt.current.querySelector(".ag-root"),eo=jt.current.querySelector(".ag-side-bar");return Nn&&Or.push(Nn),eo&&Or.push(eo),Or},setCursor:Et,setUserSelect:st};Ln.setComp(Fn,jt.current,jt.current),Lt(!0)}),react_1$2.useEffect(function(){if(Dt){var Ln=Bt.current,Fn=[],Or=yr.agStackComponentsRegistry,Nn=Or.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),eo=Or.getComponentClass("AG-SIDE-BAR"),uo=Or.getComponentClass("AG-STATUS-BAR"),wo=Or.getComponentClass("AG-WATERMARK"),bo=Or.getComponentClass("AG-PAGINATION"),es=[],rs=jt.current,vo=gr.current;if(Ln.showDropZones()&&Nn){var gs=e.createBean(new Nn),cs=gs.getGui();rs.insertAdjacentElement("afterbegin",cs),es.push(cs),Fn.push(gs)}if(Ln.showSideBar()&&eo){var Gs=e.createBean(new eo),cs=Gs.getGui(),$n=vo.querySelector(".ag-tab-guard-bottom");$n&&($n.insertAdjacentElement("beforebegin",cs),es.push(cs)),Fn.push(Gs)}if(Ln.showStatusBar()&&uo){var Kn=e.createBean(new uo),cs=Kn.getGui();rs.insertAdjacentElement("beforeend",cs),es.push(cs),Fn.push(Kn)}if(bo){var Bn=e.createBean(new bo),cs=Bn.getGui();rs.insertAdjacentElement("beforeend",cs),es.push(cs),Fn.push(Bn)}if(Ln.showWatermark()&&wo){var co=e.createBean(new wo),cs=co.getGui();rs.insertAdjacentElement("beforeend",cs),es.push(cs),Fn.push(co)}return function(){e.destroyBeans(Fn),es.forEach(function(vs){vs.parentElement&&vs.parentElement.removeChild(vs)})}}},[Dt]);var xr=react_1$2.useMemo(function(){return utils_1.classesList("ag-root-wrapper",c,b,rt)},[c,b,rt]),In=react_1$2.useMemo(function(){return utils_1.classesList("ag-root-wrapper-body","ag-focus-managed",rt)},[rt]),rn=react_1$2.useMemo(function(){return{userSelect:it??"",WebkitUserSelect:it??"",cursor:_t??""}},[it,_t]),Sr=gr.current,Tr=react_1$2.useCallback(function(Ln){hr.current=Ln,wt(!0)},[]);return react_1$2.default.createElement("div",{ref:jt,className:xr,style:rn,role:"presentation"},react_1$2.default.createElement("div",{className:In,ref:gr,role:"presentation"},bt&&Sr&&react_1$2.default.createElement(beansContext_1.BeansContext.Provider,{value:yr},react_1$2.default.createElement(tabGuardComp_1.default,{ref:Tr,eFocusableElement:Sr,onTabKeyDown:wr,gridCtrl:Bt.current},react_1$2.default.createElement(gridBodyComp_1.default,null)))))};gridComp.default=react_1$2.memo(GridComp);var hasRequiredAgGridReactUi;function requireAgGridReactUi(){if(hasRequiredAgGridReactUi)return agGridReactUi;hasRequiredAgGridReactUi=1;var a=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var it=function(st,Mt){return it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bt,Lt){bt.__proto__=Lt}||function(bt,Lt){for(var pt in Lt)Lt.hasOwnProperty(pt)&&(bt[pt]=Lt[pt])},it(st,Mt)};return function(st,Mt){it(st,Mt);function bt(){this.constructor=st}st.prototype=Mt===null?Object.create(Mt):(bt.prototype=Mt.prototype,new bt)}}(),e=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return e=Object.assign||function(it){for(var st,Mt=1,bt=arguments.length;Mt<bt;Mt++){st=arguments[Mt];for(var Lt in st)Object.prototype.hasOwnProperty.call(st,Lt)&&(it[Lt]=st[Lt])}return it},e.apply(this,arguments)},o=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(it){if(it&&it.__esModule)return it;var st={};if(it!=null)for(var Mt in it)Object.hasOwnProperty.call(it,Mt)&&(st[Mt]=it[Mt]);return st.default=it,st},c=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(agGridReactUi,"__esModule",{value:!0});var h=require$$0,g=o(reactExports),b=agGridColumn,$=changeDetectionService,j=newReactComponent,rt=portalManager,nt=c(gridComp),ot=requireReactFrameworkOverrides();function _t(it,st){}var Et=function(it){a(st,it);function st(Mt){var bt=it.call(this,Mt)||this;return bt.props=Mt,bt.destroyFuncs=[],bt.changeDetectionService=new $.ChangeDetectionService,bt.eGui=g.default.createRef(),bt.whenReadyFuncs=[],bt.ready=!1,bt.renderedAfterMount=!1,bt.mounted=!1,bt.state={context:void 0},bt.portalManager=new rt.PortalManager(bt,Mt.componentWrappingElement,Mt.maxComponentCreationTimeMs),bt.destroyFuncs.push(function(){return bt.portalManager.destroy()}),bt}return st.prototype.render=function(){return""+this.state.context,this.state.context&&(this.renderedAfterMount=!0),g.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&g.default.createElement(nt.default,{context:this.state.context}),this.portalManager.getPortals())},st.prototype.createStyleForDiv=function(){return e({height:"100%"},this.props.containerStyle||{})},st.prototype.componentDidMount=function(){var Mt=this;if(!this.mounted){this.mounted=!0;var bt=this.props.modules||[],Lt={providedBeanInstances:{frameworkComponentWrapper:new It(this.portalManager)},modules:bt,frameworkOverrides:new ot.ReactFrameworkOverrides(!0)};this.gridOptions=this.props.gridOptions||{};var pt=this.props.children;b.AgGridColumn.hasChildColumns(pt)&&(this.gridOptions.columnDefs=b.AgGridColumn.mapChildColumnDefs(pt)),this.gridOptions=h.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props);var Dt=function(jt){Mt.setState({context:jt});var hr=jt.getBean(h.CtrlsService.NAME);hr.whenReady(function(){Mt.api=Mt.gridOptions.api,Mt.columnApi=Mt.gridOptions.columnApi,Mt.props.setGridApi(Mt.api,Mt.columnApi),Mt.destroyFuncs.push(function(){return Mt.api.destroy()})})},wt=function(jt){var hr=jt.getBean(h.CtrlsService.NAME);hr.whenReady(function(){Mt.whenReadyFuncs.forEach(function(gr){return gr()}),Mt.whenReadyFuncs.length=0,Mt.ready=!0})},Bt=new h.GridCoreCreator;Bt.create(this.eGui.current,this.gridOptions,Dt,wt,Lt)}},st.prototype.componentWillUnmount=function(){this.renderedAfterMount&&(this.destroyFuncs.forEach(function(Mt){return Mt()}),this.destroyFuncs.length=0)},st.prototype.componentDidUpdate=function(Mt){this.processPropsChanges(Mt,this.props)},st.prototype.processPropsChanges=function(Mt,bt){var Lt={};this.extractGridPropertyChanges(Mt,bt,Lt),this.extractDeclarativeColDefChanges(bt,Lt),this.processChanges(Lt)},st.prototype.extractDeclarativeColDefChanges=function(Mt,bt){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var Lt=!!Mt.debug,pt="columnDefs",Dt=this.gridOptions.columnDefs;if(b.AgGridColumn.hasChildColumns(Mt.children)){var wt=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(pt)),Bt=b.AgGridColumn.mapChildColumnDefs(Mt.children);wt.areEqual(Dt,Bt)||(Lt&&console.log("agGridReact: colDefs definitions changed"),bt[pt]={previousValue:Dt,currentValue:Bt})}else Dt&&Dt.length>0&&(bt[pt]={previousValue:Dt,currentValue:[]})}},st.prototype.extractGridPropertyChanges=function(Mt,bt,Lt){var pt=this,Dt=!!bt.debug;Object.keys(bt).forEach(function(wt){if(h._.includes(h.ComponentUtil.ALL_PROPERTIES,wt)){var Bt=pt.changeDetectionService.getStrategy(pt.getStrategyTypeForProp(wt));Bt.areEqual(Mt[wt],bt[wt])||(Dt&&console.log("agGridReact: ["+wt+"] property changed"),Lt[wt]={previousValue:Mt[wt],currentValue:bt[wt]})}}),h.ComponentUtil.getEventCallbacks().forEach(function(wt){Mt[wt]!==bt[wt]&&(Dt&&console.log("agGridReact: ["+wt+"] event callback changed"),Lt[wt]={previousValue:Mt[wt],currentValue:bt[wt]})})},st.prototype.processChanges=function(Mt){var bt=this;this.processWhenReady(function(){return h.ComponentUtil.processOnChange(Mt,bt.gridOptions,bt.api,bt.columnApi)})},st.prototype.processWhenReady=function(Mt){this.ready?Mt():this.whenReadyFuncs.push(Mt)},st.prototype.getStrategyTypeForProp=function(Mt){if(Mt==="rowData"){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return $.ChangeDetectionStrategyType.IdentityCheck}return $.ChangeDetectionStrategyType.DeepValueCheck},st.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.getRowId!=null||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||this.props.gridOptions.getRowId!=null)},st}(g.Component);agGridReactUi.AgGridReactUi=Et;var It=function(it){a(st,it);function st(Mt){var bt=it.call(this)||this;return bt.parent=Mt,bt}return st.prototype.createWrapper=function(Mt,bt){return new j.NewReactComponent(Mt,this.parent,bt)},st}(h.BaseComponentWrapper);return agGridReactUi}var hasRequiredDetailCellRenderer;function requireDetailCellRenderer(){if(hasRequiredDetailCellRenderer)return detailCellRenderer;hasRequiredDetailCellRenderer=1;var a=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return a=Object.assign||function(j){for(var rt,nt=1,ot=arguments.length;nt<ot;nt++){rt=arguments[nt];for(var _t in rt)Object.prototype.hasOwnProperty.call(rt,_t)&&(j[_t]=rt[_t])}return j},a.apply(this,arguments)},e=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(j){if(j&&j.__esModule)return j;var rt={};if(j!=null)for(var nt in j)Object.hasOwnProperty.call(j,nt)&&(rt[nt]=j[nt]);return rt.default=j,rt};Object.defineProperty(detailCellRenderer,"__esModule",{value:!0});var o=e(reactExports),c=utils,h=beansContext,g=requireAgGridReactUi(),b=useEffectOnce,$=function(j,rt){var nt=o.useContext(h.BeansContext),ot=nt.ctrlsFactory,_t=nt.context,Et=nt.gridOptionsWrapper,It=nt.resizeObserverService,it=nt.clientSideRowModel,st=nt.serverSideRowModel,Mt=o.useState(new c.CssClasses),bt=Mt[0],Lt=Mt[1],pt=o.useState(new c.CssClasses),Dt=pt[0],wt=pt[1],Bt=o.useState(),jt=Bt[0],hr=Bt[1],gr=o.useState(),Cr=gr[0],wr=gr[1],yr=o.useRef(),xr=o.useRef(null),In=o.useMemo(function(){return bt.toString()+" ag-details-row"},[bt]),rn=o.useMemo(function(){return Dt.toString()+" ag-details-grid"},[Dt]);rt&&o.useImperativeHandle(rt,function(){return{refresh:function(){return yr.current.refresh()}}}),b.useEffectOnce(function(){j.template&&typeof j.template=="string"&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),b.useEffectOnce(function(){var Tr={addOrRemoveCssClass:function(Nn,eo){return Lt(function(uo){return uo.setClass(Nn,eo)})},addOrRemoveDetailGridCssClass:function(Nn,eo){return wt(function(uo){return uo.setClass(Nn,eo)})},setDetailGrid:function(Nn){return hr(Nn)},setRowData:function(Nn){return wr(Nn)},getGui:function(){return xr.current}},Ln=ot.getInstance("detailCellRenderer");if(Ln){_t.createBean(Ln),Ln.init(Tr,j),yr.current=Ln;var Fn;if(Et.isDetailRowAutoHeight()){var Or=function(){if(xr.current!=null){var Nn=xr.current.clientHeight;if(Nn!=null&&Nn>0){var eo=function(){j.node.setRowHeight(Nn),it?it.onRowHeightChanged():st&&st.onRowHeightChanged()};setTimeout(eo,0)}}};Fn=It.observeResize(xr.current,Or),Or()}return function(){_t.destroyBean(Ln),Fn&&Fn()}}});var Sr=o.useCallback(function(Tr,Ln){yr.current.registerDetailWithMaster(Tr,Ln)},[]);return o.default.createElement("div",{className:In,ref:xr},jt&&o.default.createElement(g.AgGridReactUi,a({className:rn},jt,{rowData:Cr,setGridApi:Sr})))};return detailCellRenderer.default=o.forwardRef($),detailCellRenderer}var hasRequiredReactFrameworkOverrides;function requireReactFrameworkOverrides(){if(hasRequiredReactFrameworkOverrides)return reactFrameworkOverrides;hasRequiredReactFrameworkOverrides=1;var a=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var b=function($,j){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,nt){rt.__proto__=nt}||function(rt,nt){for(var ot in nt)nt.hasOwnProperty(ot)&&(rt[ot]=nt[ot])},b($,j)};return function($,j){b($,j);function rt(){this.constructor=$}$.prototype=j===null?Object.create(j):(rt.prototype=j.prototype,new rt)}}(),e=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(reactFrameworkOverrides,"__esModule",{value:!0});var o=require$$0,c=e(groupCellRenderer),h=e(requireDetailCellRenderer()),g=function(b){a($,b);function $(j){var rt=b.call(this)||this;return rt.frameworkComponents={agGroupCellRenderer:c.default,agGroupRowRenderer:c.default,agDetailCellRenderer:h.default},rt.reactUi=j,rt}return $.prototype.frameworkComponent=function(j){if(this.reactUi)return this.frameworkComponents[j]},$.prototype.isFrameworkComponent=function(j){if(!j)return!1;var rt=j.prototype,nt=rt&&"getGui"in rt;return!nt},$}(o.VanillaFrameworkOverrides);return reactFrameworkOverrides.ReactFrameworkOverrides=g,reactFrameworkOverrides}var __extends$1=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$2=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$2=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$2.apply(this,arguments)},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},__importStar$1=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(agGridReactLegacy,"__esModule",{value:!0});var ag_grid_community_1=require$$0,prop_types_1=__importDefault(propTypesExports),react_1$1=__importStar$1(reactExports),legacyReactComponent_1=legacyReactComponent,agGridColumn_1=agGridColumn,changeDetectionService_1=changeDetectionService,newReactComponent_1=newReactComponent,portalManager_1=portalManager,reactFrameworkOverrides_1=requireReactFrameworkOverrides(),AgGridReactLegacy=function(a){__extends$1(e,a);function e(o){var c=a.call(this,o)||this;return c.props=o,c.changeDetectionService=new changeDetectionService_1.ChangeDetectionService,c.api=null,c.destroyed=!1,c.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],c.portalManager=new portalManager_1.PortalManager(c,o.componentWrappingElement,o.maxComponentCreationTimeMs),c}return e.prototype.render=function(){var o=this;return react_1$1.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(c){o.eGridDiv=c}},this.portalManager.getPortals())},e.prototype.createStyleForDiv=function(){return __assign$2({height:"100%"},this.props.containerStyle||{})},e.prototype.componentDidMount=function(){var o=this.props.modules||[],c={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new ReactFrameworkComponentWrapper(this,this.portalManager)},modules:o,frameworkOverrides:new reactFrameworkOverrides_1.ReactFrameworkOverrides(!1)},h=this.props.gridOptions||{},g=this.props.children;agGridColumn_1.AgGridColumn.hasChildColumns(g)&&(h.columnDefs=agGridColumn_1.AgGridColumn.mapChildColumnDefs(g)),this.gridOptions=ag_grid_community_1.ComponentUtil.copyAttributesToGridOptions(h,this.props),new ag_grid_community_1.Grid(this.eGridDiv,this.gridOptions,c),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)},e.prototype.getStrategyTypeForProp=function(o){if(o==="rowData"){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return changeDetectionService_1.ChangeDetectionStrategyType.IdentityCheck}return changeDetectionService_1.ChangeDetectionStrategyType.DeepValueCheck},e.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.getRowId!=null||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||this.props.gridOptions.getRowId!=null)},e.prototype.shouldComponentUpdate=function(o){return this.processPropsChanges(this.props,o),!1},e.prototype.componentDidUpdate=function(o){this.processPropsChanges(o,this.props)},e.prototype.processPropsChanges=function(o,c){var h={};this.extractGridPropertyChanges(o,c,h),this.extractDeclarativeColDefChanges(c,h),this.processSynchronousChanges(h),this.processAsynchronousChanges(h)},e.prototype.extractDeclarativeColDefChanges=function(o,c){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var h=!!o.debug,g="columnDefs",b=this.gridOptions.columnDefs;if(agGridColumn_1.AgGridColumn.hasChildColumns(o.children)){var $=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(g)),j=agGridColumn_1.AgGridColumn.mapChildColumnDefs(o.children);$.areEqual(b,j)||(h&&console.log("agGridReact: colDefs definitions changed"),c[g]={previousValue:b,currentValue:j})}else b&&b.length>0&&(c[g]={previousValue:b,currentValue:[]})}},e.prototype.extractGridPropertyChanges=function(o,c,h){var g=this,b=!!c.debug;Object.keys(c).forEach(function($){if(ag_grid_community_1._.includes(ag_grid_community_1.ComponentUtil.ALL_PROPERTIES,$)){var j=g.changeDetectionService.getStrategy(g.getStrategyTypeForProp($));j.areEqual(o[$],c[$])||(b&&console.log("agGridReact: ["+$+"] property changed"),h[$]={previousValue:o[$],currentValue:c[$]})}}),ag_grid_community_1.ComponentUtil.getEventCallbacks().forEach(function($){o[$]!==c[$]&&(b&&console.log("agGridReact: ["+$+"] event callback changed"),h[$]={previousValue:o[$],currentValue:c[$]})})},e.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()},e.prototype.isDisableStaticMarkup=function(){return this.props.disableStaticMarkup===!0},e.prototype.isLegacyComponentRendering=function(){return this.props.legacyComponentRendering===!0},e.prototype.processSynchronousChanges=function(o){var c=__assign$2({},o);if(Object.keys(c).length>0){var h={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(function(g){c[g]&&(h[g]=c[g],delete c[g])}),Object.keys(h).length>0&&this.api&&ag_grid_community_1.ComponentUtil.processOnChange(h,this.gridOptions,this.api,this.columnApi)}return c},e.prototype.processAsynchronousChanges=function(o){var c=this;Object.keys(o).length>0&&window.setTimeout(function(){c.api&&ag_grid_community_1.ComponentUtil.processOnChange(o,c.gridOptions,c.api,c.columnApi)})},e.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,e.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:e.MAX_COMPONENT_CREATION_TIME_IN_MS},e}(react_1$1.Component);agGridReactLegacy.AgGridReactLegacy=AgGridReactLegacy;AgGridReactLegacy.propTypes={gridOptions:prop_types_1.default.object};addProperties(ag_grid_community_1.ComponentUtil.getEventCallbacks(),prop_types_1.default.func);addProperties(ag_grid_community_1.ComponentUtil.BOOLEAN_PROPERTIES,prop_types_1.default.bool);addProperties(ag_grid_community_1.ComponentUtil.STRING_PROPERTIES,prop_types_1.default.string);addProperties(ag_grid_community_1.ComponentUtil.OBJECT_PROPERTIES,prop_types_1.default.object);addProperties(ag_grid_community_1.ComponentUtil.ARRAY_PROPERTIES,prop_types_1.default.array);addProperties(ag_grid_community_1.ComponentUtil.NUMBER_PROPERTIES,prop_types_1.default.number);addProperties(ag_grid_community_1.ComponentUtil.FUNCTION_PROPERTIES,prop_types_1.default.func);function addProperties(a,e){a.forEach(function(o){AgGridReactLegacy[o]=e})}var ReactFrameworkComponentWrapper=function(a){__extends$1(e,a);function e(o,c){var h=a.call(this)||this;return h.agGridReact=o,h.portalManager=c,h}return e.prototype.createWrapper=function(o,c){return this.agGridReact.isLegacyComponentRendering()?new legacyReactComponent_1.LegacyReactComponent(o,this.agGridReact,this.portalManager,c):new newReactComponent_1.NewReactComponent(o,this.portalManager,c)},e}(ag_grid_community_1.BaseComponentWrapper),__extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var a=function(e,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])},a(e,o)};return function(e,o){a(e,o);function c(){this.constructor=e}e.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),__assign$1=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$1=Object.assign||function(a){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(a[h]=e[h])}return a},__assign$1.apply(this,arguments)},__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(a){if(a&&a.__esModule)return a;var e={};if(a!=null)for(var o in a)Object.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e.default=a,e};Object.defineProperty(agGridReact,"__esModule",{value:!0});var react_1=__importStar(reactExports),agGridReactLegacy_1=agGridReactLegacy,agGridReactUi_1=requireAgGridReactUi(),AgGridReact=function(a){__extends(e,a);function e(){var o=a!==null&&a.apply(this,arguments)||this;return o.setGridApi=function(c,h){o.api=c,o.columnApi=h},o}return e.prototype.render=function(){var o=this.props.suppressReactUi?react_1.default.createElement(agGridReactLegacy_1.AgGridReactLegacy,__assign$1({},this.props,{setGridApi:this.setGridApi})):react_1.default.createElement(agGridReactUi_1.AgGridReactUi,__assign$1({},this.props,{setGridApi:this.setGridApi}));return o},e}(react_1.Component);agGridReact.AgGridReact=AgGridReact;main.AgGridReact=agGridReact.AgGridReact;main.AgGridColumn=agGridColumn.AgGridColumn;main.ChangeDetectionStrategyType=changeDetectionService.ChangeDetectionStrategyType;main.AgGridReactUi=requireAgGridReactUi().AgGridReactUi;var ColumnSelector$1={};function _typeof$3(a){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(a)}Object.defineProperty(ColumnSelector$1,"__esModule",{value:!0});ColumnSelector$1.default=void 0;var _react$3=_interopRequireDefault$3(reactExports);function _interopRequireDefault$3(a){return a&&a.__esModule?a:{default:a}}function ownKeys(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),o.push.apply(o,c)}return o}function _objectSpread(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(c){_defineProperty$1(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function _classCallCheck$3(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$3(a,e,o){return e&&_defineProperties$3(a.prototype,e),o&&_defineProperties$3(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$3(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_setPrototypeOf$3(a,e)}function _setPrototypeOf$3(a,e){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$3(a,e)}function _createSuper$3(a){var e=_isNativeReflectConstruct$3();return function(){var c=_getPrototypeOf$3(a),h;if(e){var g=_getPrototypeOf$3(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$3(this,h)}}function _possibleConstructorReturn$3(a,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(a)}function _assertThisInitialized$3(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$3(a){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf$3(a)}function _defineProperty$1(a,e,o){return e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function parseInitTicks(a){var e={};return a.map(function(o){e[o.field]="hide"in o?!o.hide:!0}),e}var ColumnSelector=function(a){_inherits$3(o,a);var e=_createSuper$3(o);function o(c){var h;return _classCallCheck$3(this,o),h=e.call(this,c),_defineProperty$1(_assertThisInitialized$3(h),"handleToggle",function(g){var b=_objectSpread({},h.state.ticks);b[g.target.name]=g.target.checked,h.setState({ticks:b}),h.props.onColumnToggle(b)}),_defineProperty$1(_assertThisInitialized$3(h),"showCheckboxes",function(g){h.setState({dropdown_show:!h.state.dropdown_show})}),h.state={ticks:parseInitTicks(h.props.colDefs),dropdown_show:!1},h.handleToggle=h.handleToggle.bind(_assertThisInitialized$3(h)),h.showCheckboxes=h.showCheckboxes.bind(_assertThisInitialized$3(h)),h}return _createClass$3(o,[{key:"render",value:function(){var h=this,g="column-dropdown-content";return this.state.dropdown_show&&(g+=" show"),_react$3.default.createElement("div",null,_react$3.default.createElement("div",{className:"column-dropdown"},_react$3.default.createElement("button",{className:"column-dropdown-btn",onClick:this.showCheckboxes},"Show columns"),_react$3.default.createElement("div",{className:g},_react$3.default.createElement("ul",null,this.props.colDefs.map(function(b){return _react$3.default.createElement("li",{key:b.field},_react$3.default.createElement("label",null,_react$3.default.createElement("input",{name:b.field,type:"checkbox",checked:h.state.ticks[b.field],onChange:h.handleToggle}),_react$3.default.createElement("span",null,b.headerName)))})))))}}]),o}(_react$3.default.Component),_default$2=ColumnSelector;ColumnSelector$1.default=_default$2;var CustomHeader$1={};function _typeof$2(a){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(a)}Object.defineProperty(CustomHeader$1,"__esModule",{value:!0});CustomHeader$1.default=void 0;var _react$2=_interopRequireDefault$2(reactExports);function _interopRequireDefault$2(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck$2(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$2(a,e,o){return e&&_defineProperties$2(a.prototype,e),o&&_defineProperties$2(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$2(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_setPrototypeOf$2(a,e)}function _setPrototypeOf$2(a,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$2(a,e)}function _createSuper$2(a){var e=_isNativeReflectConstruct$2();return function(){var c=_getPrototypeOf$2(a),h;if(e){var g=_getPrototypeOf$2(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$2(this,h)}}function _possibleConstructorReturn$2(a,e){if(e&&(_typeof$2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(a)}function _assertThisInitialized$2(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$2(a){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf$2(a)}var CustomHeader=function(a){_inherits$2(o,a);var e=_createSuper$2(o);function o(c){var h;return _classCallCheck$2(this,o),h=e.call(this,c),h.state={sortMode:"none",multiSort:!1,sortIndex:null,filterActive:!1},h}return _createClass$2(o,[{key:"componentDidMount",value:function(){this.props.column.addEventListener("filterChanged",this.onFilterChanged.bind(this)),this.props.api.addEventListener("sortChanged",this.onSortChanged.bind(this)),this.onSortClicked.bind(this),this.onSortChanged(),this.onFilterChanged()}},{key:"render",value:function(){var h=this,g=_react$2.default.createElement("div",{ref:function(rt){h.menuButton=rt},className:"customHeaderMenuButton",onClick:this.onMenuClicked.bind(this),onTouchEnd:this.onMenuClicked.bind(this)},this.state.filterActive?_react$2.default.createElement("div",{className:"filter-div active"},_react$2.default.createElement("i",{className:"ag-icon ag-icon-filter"})):_react$2.default.createElement("div",{className:"filter-div"},_react$2.default.createElement("i",{className:"ag-icon ag-icon-menu"}))),b="";this.state.sortMode=="asc"&&(b=_react$2.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$2.default.createElement("i",{className:"ag-icon ag-icon-asc"}))),this.state.sortMode=="desc"&&(b=_react$2.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$2.default.createElement("i",{className:"ag-icon ag-icon-desc"})));var $=_react$2.default.createElement("div",{className:"custom-header-label-container",onClick:this.onSortClicked.bind(this),onTouchEnd:this.onSortClicked.bind(this)},b,_react$2.default.createElement("div",{className:"customHeaderLabel"},_react$2.default.createElement("span",null,this.props.displayName),"unit"in this.props&&_react$2.default.createElement("div",{className:"unit-label"},"(",this.props.unit,")")));return _react$2.default.createElement("div",{className:"custom-header-container"},$,g)}},{key:"onMenuClicked",value:function(){this.props.showColumnMenu(this.menuButton);var h=document.querySelector(".ag-menu.ag-ltr.ag-popup-child");if(h){h.style.maxWidth="200px";var g=document.createElement("div");if(g.style.margin="5px 10px 0px 10px",g.innerHTML="<b>Apply filter:</b>",h.prepend(g),this.props.infoText!=null){var b=document.createElement("div");b.style.margin="10px 10px 0px 10px",b.style.textAlign="justify",b.innerHTML=this.props.infoText,h.prepend(b)}}}},{key:"onSortChanged",value:function(){if(!this.props.columnApi){console.log("COLUMNAPI undefined!");return}var h="none";this.props.column.isSortAscending()&&(h="asc"),this.props.column.isSortDescending()&&(h="desc");var g=this.props.columnApi.getColumnState().filter(function(j){return j.sort!==null}).length,b=g>1,$=this.props.column.getSortIndex();this.setState({sortMode:h,multiSort:b,sortIndex:$})}},{key:"onFilterChanged",value:function(){this.setState({filterActive:this.props.column.isFilterActive()})}},{key:"onSortClicked",value:function(h){this.props.progressSort(h.shiftKey)}}]),o}(_react$2.default.Component);CustomHeader$1.default=CustomHeader;function _typeof$1(a){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(a)}Object.defineProperty(MaterialDataGrid$1,"__esModule",{value:!0});MaterialDataGrid$1.default=void 0;var _react$1=_interopRequireDefault$1(reactExports),_Popover=_interopRequireDefault$1(require$$1$1),_agGridReact=main,_ColumnSelector=_interopRequireDefault$1(ColumnSelector$1),_CustomHeader=_interopRequireDefault$1(CustomHeader$1),_HelpButton=_interopRequireDefault$1(HelpButton$1);function _interopRequireDefault$1(a){return a&&a.__esModule?a:{default:a}}function _slicedToArray$1(a,e){return _arrayWithHoles$1(a)||_iterableToArrayLimit$1(a,e)||_unsupportedIterableToArray$1(a,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(a,e){if(a){if(typeof a=="string")return _arrayLikeToArray$1(a,e);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1(a,e)}}function _arrayLikeToArray$1(a,e){(e==null||e>a.length)&&(e=a.length);for(var o=0,c=new Array(e);o<e;o++)c[o]=a[o];return c}function _iterableToArrayLimit$1(a,e){var o=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(o!=null){var c=[],h=!0,g=!1,b,$;try{for(o=o.call(a);!(h=(b=o.next()).done)&&(c.push(b.value),!(e&&c.length===e));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&o.return!=null&&o.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles$1(a){if(Array.isArray(a))return a}function _classCallCheck$1(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass$1(a,e,o){return e&&_defineProperties$1(a.prototype,e),o&&_defineProperties$1(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits$1(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_setPrototypeOf$1(a,e)}function _setPrototypeOf$1(a,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf$1(a,e)}function _createSuper$1(a){var e=_isNativeReflectConstruct$1();return function(){var c=_getPrototypeOf$1(a),h;if(e){var g=_getPrototypeOf$1(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn$1(this,h)}}function _possibleConstructorReturn$1(a,e){if(e&&(_typeof$1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(a)}function _assertThisInitialized$1(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(a){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf$1(a)}function _defineProperty(a,e,o){return e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function idCellRenderer(a){return _react$1.default.createElement("a",{href:a.data.href,target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"mediumblue"}},a.value)}function floatFormatter$1(a){return a.value==null?"-":a.value>=1e5||a.value<.01&&a.value!==0?a.value.toExponential(2):a.value.toFixed(2)}function textFormatter(a){return a.value==null?"-":a.value}function numberFormatter(a){return a.value==null?"-":a.value}function formulaCellRenderer(a){if(a.value==null)return"-";var e=a.value.split(/(\d+)/);return _react$1.default.createElement("span",null,e.map(function(o,c){return o.match(/\d+/)?_react$1.default.createElement("sub",{key:c},o):o}))}function spaceGroupSymbolRenderer(a){if(a.value==null)return"-";var e=!1;return _react$1.default.createElement("span",null,a.value.split("").map(function(o,c){return o=="_"?(e=!0,null):e?(e=!1,_react$1.default.createElement("sub",{key:c},o)):o}))}var defaultColDef={width:150,sortable:!0},components={agColumnHeader:_CustomHeader.default},helpPopover=_react$1.default.createElement(_Popover.default,{id:"popover-basic"},_react$1.default.createElement(_Popover.default.Header,{as:"h3"},"Materials Grid help"),_react$1.default.createElement(_Popover.default.Body,{style:{textAlign:"justify"}},_react$1.default.createElement("p",null,"The Materials Grid, shown below, contains all the filtered materials."),_react$1.default.createElement("p",null,"Selected properties are shown in columns. Click ",_react$1.default.createElement("b",null,"Show columns")," to hide/show available columns."),_react$1.default.createElement("p",null,"The grid can be sorted based on any column by clicking on the corresponding label in the header. ",_react$1.default.createElement("b",null,"Holding down shift")," allows to sort based on multiple columns."),"Each column has a menu that contains any additional information about the column, and allows to filter the list of materials. Active filters are indicated by the menu icon turning into a blue filter icon.")),MaterialDataGrid=function(a){_inherits$1(o,a);var e=_createSuper$1(o);function o(c){var h;return _classCallCheck$1(this,o),h=e.call(this,c),_defineProperty(_assertThisInitialized$1(h),"onGridReady",function(g){h.gridApi=g.api,h.gridColumnApi=g.columnApi,h.gridApi.onFilterChanged()}),_defineProperty(_assertThisInitialized$1(h),"handleColumnToggle",function(g){var b=h.getColumnDefs();b.forEach(function($){$.hide=!1,$.field in g&&($.hide=!g[$.field])}),h.gridApi.setColumnDefs(b)}),_defineProperty(_assertThisInitialized$1(h),"isExternalFilterPresent",function(){return Object.keys(h.props.ptable_filter.elements).length>0}),_defineProperty(_assertThisInitialized$1(h),"updateNumRows",function(){if(h.gridApi){var g=h.gridApi.getDisplayedRowCount();h.state.numRows!=g&&h.setState({numRows:g})}}),_defineProperty(_assertThisInitialized$1(h),"doesExternalFilterPass",function(g){if(g.data){if(h.props.ptable_filter.mode=="exact"){var b=Object.keys(h.props.ptable_filter.elements),$=g.data.elem_array.length===b.length,j=g.data.elem_array.every(function(bt){return b.includes(bt)});return $&&j}if(h.props.ptable_filter.mode=="include"){for(var rt=[],nt=[],ot=0,_t=Object.entries(h.props.ptable_filter.elements);ot<_t.length;ot++){var Et=_slicedToArray$1(_t[ot],2),It=Et[0],it=Et[1];it==1&&rt.push(It),it==2&&nt.push(It)}var st=rt.every(function(bt){return g.data.elem_array.includes(bt)}),Mt=g.data.elem_array.every(function(bt){return!nt.includes(bt)});return st&&Mt}}return!0}),h.state={columnDefs:h.getColumnDefs(),numRows:null},h}return _createClass$1(o,[{key:"componentDidUpdate",value:function(h){h.ptable_filter!==this.props.ptable_filter&&this.gridApi.onFilterChanged()}},{key:"getColumnDefs",value:function(){return this.props.columns.map(function(h){var g=structuredClone(h);return delete g.colType,h.colType==="text"?Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter}):h.colType==="integer"?Object.assign(g,{filter:"agNumberColumnFilter",valueFormatter:numberFormatter}):h.colType==="float"?Object.assign(g,{filter:"agNumberColumnFilter",valueFormatter:floatFormatter$1}):h.colType==="id"?Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter,pinned:"left",cellRenderer:idCellRenderer}):h.colType==="formula"?Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:formulaCellRenderer}):h.colType==="spg_symbol"&&Object.assign(g,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:spaceGroupSymbolRenderer}),Object.assign(g,{filterParams:{buttons:["reset","apply"],closeOnApply:!0}}),g.headerComponentParams={},"unit"in h&&(g.headerComponentParams.unit=h.unit,delete g.unit),"infoText"in h&&(g.headerComponentParams.infoText=h.infoText,delete g.infoText),g})}},{key:"render",value:function(){var h={pagination:!0,paginationPageSize:20,suppressMenuHide:!0,enableCellTextSelection:!0,ensureDomOrder:!0,domLayout:"autoHeight",headerHeight:54};return _react$1.default.createElement("div",null,_react$1.default.createElement("div",{className:"grid_header_row"},_react$1.default.createElement("span",{className:"rows_text"},"Showing ",this.state.numRows," entries out of ",this.props.rows.length),_react$1.default.createElement("div",{className:"grid_header_row_right_side"},_react$1.default.createElement("div",{className:"help-button-container"},_react$1.default.createElement(_HelpButton.default,{popover:helpPopover,placement:"left"})),_react$1.default.createElement(_ColumnSelector.default,{onColumnToggle:this.handleColumnToggle,colDefs:this.getColumnDefs().slice(1)}))),_react$1.default.createElement("div",{className:"ag-theme-alpine"},_react$1.default.createElement(_agGridReact.AgGridReact,{columnDefs:this.state.columnDefs,defaultColDef,rowData:this.props.rows,gridOptions:h,onGridReady:this.onGridReady,isExternalFilterPresent:this.isExternalFilterPresent,doesExternalFilterPass:this.doesExternalFilterPass,onFilterChanged:this.updateNumRows,onRowDataUpdated:this.updateNumRows,components})))}}]),o}(_react$1.default.Component),_default$1=MaterialDataGrid;MaterialDataGrid$1.default=_default$1;function _typeof(a){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(a)}Object.defineProperty(dist,"__esModule",{value:!0});var default_1=dist.default=void 0,_react=_interopRequireDefault(reactExports),_PTable=_interopRequireDefault(PTable$1),_MaterialDataGrid=_interopRequireDefault(MaterialDataGrid$1);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _slicedToArray(a,e){return _arrayWithHoles(a)||_iterableToArrayLimit(a,e)||_unsupportedIterableToArray(a,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(a,e){if(a){if(typeof a=="string")return _arrayLikeToArray(a,e);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(a,e)}}function _arrayLikeToArray(a,e){(e==null||e>a.length)&&(e=a.length);for(var o=0,c=new Array(e);o<e;o++)c[o]=a[o];return c}function _iterableToArrayLimit(a,e){var o=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(o!=null){var c=[],h=!0,g=!1,b,$;try{for(o=o.call(a);!(h=(b=o.next()).done)&&(c.push(b.value),!(e&&c.length===e));h=!0);}catch(j){g=!0,$=j}finally{try{!h&&o.return!=null&&o.return()}finally{if(g)throw $}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass(a,e,o){return e&&_defineProperties(a.prototype,e),o&&_defineProperties(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&_setPrototypeOf(a,e)}function _setPrototypeOf(a,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,h){return c.__proto__=h,c},_setPrototypeOf(a,e)}function _createSuper(a){var e=_isNativeReflectConstruct();return function(){var c=_getPrototypeOf(a),h;if(e){var g=_getPrototypeOf(this).constructor;h=Reflect.construct(c,arguments,g)}else h=c.apply(this,arguments);return _possibleConstructorReturn(this,h)}}function _possibleConstructorReturn(a,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(a)}var MaterialSelector=function(a){_inherits(o,a);var e=_createSuper(o);function o(c){var h;return _classCallCheck(this,o),h=e.call(this,c),h.state={ptableFilter:{mode:"include",elements:{}}},h.handlePTableChange=h.handlePTableChange.bind(_assertThisInitialized(h)),h}return _createClass(o,[{key:"handlePTableChange",value:function(h){var g=this.state.ptableFilter.mode,b=structuredClone(this.state.ptableFilter);if("mode"in h&&(b.mode=h.mode,g=h.mode,h.mode=="exact"))for(var $=0,j=Object.entries(b.elements);$<j.length;$++){var rt=_slicedToArray(j[$],2),nt=rt[0],ot=rt[1];ot>1&&delete b.elements[nt]}if("element"in h){var _t=h.element;h.element in b.elements?b.elements[_t]+=1:b.elements[_t]=1,g=="exact"?b.elements[_t]==2&&delete b.elements[_t]:g=="include"&&b.elements[_t]==3&&delete b.elements[_t]}this.setState({ptableFilter:b})}},{key:"render",value:function(){var h=this.props.columns.length>0;return _react.default.createElement("div",{className:"material_selector_container"},_react.default.createElement(_PTable.default,{onSelectionChange:this.handlePTableChange,filter:this.state.ptableFilter,rows:this.props.rows}),_react.default.createElement("div",{style:{marginTop:"5px"}}),h?_react.default.createElement(_MaterialDataGrid.default,{columns:this.props.columns,rows:this.props.rows,ptable_filter:this.state.ptableFilter}):_react.default.createElement("div",{style:{marginTop:"50px",border:"solid 2px rgb(220, 220, 220)",height:"600px",display:"flex",justifyContent:"center",alignItems:"center"}},"Loading..."))}}]),o}(_react.default.Component),_default=MaterialSelector;default_1=dist.default=_default;const Mc2dLogo="/discover-mc2d-react/assets/mc2d-znV2YCFo.png";function nr$1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Vt={exports:{}},at={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar;function Xn(){if(Ar)return at;Ar=1;var a=React,e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b($,j,rt){var nt,ot={},_t=null,Et=null;rt!==void 0&&(_t=""+rt),j.key!==void 0&&(_t=""+j.key),j.ref!==void 0&&(Et=j.ref);for(nt in j)c.call(j,nt)&&!g.hasOwnProperty(nt)&&(ot[nt]=j[nt]);if($&&$.defaultProps)for(nt in j=$.defaultProps,j)ot[nt]===void 0&&(ot[nt]=j[nt]);return{$$typeof:e,type:$,key:_t,ref:Et,props:ot,_owner:h.current}}return at.Fragment=o,at.jsx=b,at.jsxs=b,at}Vt.exports=Xn();var k=Vt.exports;const ro="_archive_doicitation_5woyi_1",no="_doi_badge_5woyi_8",oo="_doi_left_5woyi_12",io="_doi_right_5woyi_28",xt={archive_doicitation:ro,doi_badge:no,doi_left:oo,doi_right:io};function Ja(a){return k.jsx("div",{className:xt.archive_doicitation,children:k.jsxs("span",{className:xt.doi_badge,children:[k.jsx("span",{className:xt.doi_left,children:"DOI"}),k.jsx("a",{href:`https://doi.org/10.24435/materialscloud:${a.doi_id}`,className:xt.doi_right,target:"_blank",children:`10.24435/materialscloud:${a.doi_id}`})]})})}function Wt(a,e){if(a.contains)return a.contains(e);if(a.compareDocumentPosition)return a===e||!!(a.compareDocumentPosition(e)&16)}var Jt={exports:{}},Ft,kr;function or(){if(kr)return Ft;kr=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ft=a,Ft}var Nt,_r;function fo(){if(_r)return Nt;_r=1;var a=or();function e(){}function o(){}return o.resetWarningCache=e,Nt=function(){function c(b,$,j,rt,nt,ot){if(ot!==a){var _t=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _t.name="Invariant Violation",_t}}c.isRequired=c;function h(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:h,element:c,elementType:c,instanceOf:h,node:c,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:o,resetWarningCache:e};return g.PropTypes=g,g},Nt}Jt.exports=fo()();var mo=Jt.exports;const N=nr$1(mo);function nn(){const a=reactExports.useRef(!0),e=reactExports.useRef(()=>a.current);return reactExports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),e.current}function ho(a){const e=reactExports.useRef(a);return e.current=a,e}function yo(a){const e=ho(a);reactExports.useEffect(()=>()=>e.current(),[])}const Gt=2**31-1;function on(a,e,o){const c=o-Date.now();a.current=c<=Gt?setTimeout(e,c):setTimeout(()=>on(a,e,o),Gt)}function go(){const a=nn(),e=reactExports.useRef();return yo(()=>clearTimeout(e.current)),reactExports.useMemo(()=>{const o=()=>clearTimeout(e.current);function c(h,g=0){a()&&(o(),g<=Gt?e.current=setTimeout(h,g):on(e,h,Date.now()+g))}return{set:c,clear:o,handleRef:e}},[])}var an=function(){},xo=an;const sn=nr$1(xo);function Eo(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function Ao(a,e,o){var c=reactExports.useRef(a!==void 0),h=reactExports.useState(e),g=h[0],b=h[1],$=a!==void 0,j=c.current;return c.current=$,!$&&j&&g!==e&&b(e),[$?a:g,reactExports.useCallback(function(rt){for(var nt=arguments.length,ot=new Array(nt>1?nt-1:0),_t=1;_t<nt;_t++)ot[_t-1]=arguments[_t];o&&o.apply(void 0,[rt].concat(ot)),b(rt)},[o])]}function qt(a,e){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},qt(a,e)}function Oo(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,qt(a,e)}const Mr=a=>!a||typeof a=="function"?a:e=>{a.current=e};function Ro(a,e){const o=Mr(a),c=Mr(e);return h=>{o&&o(h),c&&c(h)}}function tt(a,e){return reactExports.useMemo(()=>Ro(a,e),[a,e])}var cn={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(a){(function(){var e={}.hasOwnProperty;function o(){for(var g="",b=0;b<arguments.length;b++){var $=arguments[b];$&&(g=h(g,c($)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return o.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var $ in g)e.call(g,$)&&g[$]&&(b=h(b,$));return b}function h(g,b){return b?g?g+" "+b:g+b:g}a.exports?(o.default=o,a.exports=o):window.classNames=o})()})(cn);var To=cn.exports;const Ye=nr$1(To);function Br(){return reactExports.useState(null)}var Fr=Object.prototype.hasOwnProperty;function Ir(a,e,o){for(o of a.keys())if(lt(o,e))return o}function lt(a,e){var o,c,h;if(a===e)return!0;if(a&&e&&(o=a.constructor)===e.constructor){if(o===Date)return a.getTime()===e.getTime();if(o===RegExp)return a.toString()===e.toString();if(o===Array){if((c=a.length)===e.length)for(;c--&&lt(a[c],e[c]););return c===-1}if(o===Set){if(a.size!==e.size)return!1;for(c of a)if(h=c,h&&typeof h=="object"&&(h=Ir(e,h),!h)||!e.has(h))return!1;return!0}if(o===Map){if(a.size!==e.size)return!1;for(c of a)if(h=c[0],h&&typeof h=="object"&&(h=Ir(e,h),!h)||!lt(c[1],e.get(h)))return!1;return!0}if(o===ArrayBuffer)a=new Uint8Array(a),e=new Uint8Array(e);else if(o===DataView){if((c=a.byteLength)===e.byteLength)for(;c--&&a.getInt8(c)===e.getInt8(c););return c===-1}if(ArrayBuffer.isView(a)){if((c=a.byteLength)===e.byteLength)for(;c--&&a[c]===e[c];);return c===-1}if(!o||typeof a=="object"){c=0;for(o in a)if(Fr.call(a,o)&&++c&&!Fr.call(e,o)||!(o in e)||!lt(a[o],e[o]))return!1;return Object.keys(e).length===c}}return a!==a&&e!==e}function Co(a){const e=nn();return[a[0],reactExports.useCallback(o=>{if(e())return a[1](o)},[e,a[1]])]}var de="top",be="bottom",we="right",pe="left",ir="auto",ht=[de,be,we,pe],$e="start",vt="end",So="clippingParents",un="viewport",ct="popper",ko="reference",Lr$1=ht.reduce(function(a,e){return a.concat([e+"-"+$e,e+"-"+vt])},[]),ln=[].concat(ht,[ir]).reduce(function(a,e){return a.concat([e,e+"-"+$e,e+"-"+vt])},[]),Po="beforeRead",jo="read",Do="afterRead",_o="beforeMain",Mo="main",Bo="afterMain",Fo="beforeWrite",Io="write",Lo="afterWrite",Ho=[Po,jo,Do,_o,Mo,Bo,Fo,Io,Lo];function xe(a){return a.split("-")[0]}function me(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var e=a.ownerDocument;return e&&e.defaultView||window}return a}function He(a){var e=me(a).Element;return a instanceof e||a instanceof Element}function Ee(a){var e=me(a).HTMLElement;return a instanceof e||a instanceof HTMLElement}function ar(a){if(typeof ShadowRoot>"u")return!1;var e=me(a).ShadowRoot;return a instanceof e||a instanceof ShadowRoot}var Le=Math.max,Ct=Math.min,Qe=Math.round;function zt(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function fn(){return!/^((?!chrome|android).)*safari/i.test(zt())}function Xe(a,e,o){e===void 0&&(e=!1),o===void 0&&(o=!1);var c=a.getBoundingClientRect(),h=1,g=1;e&&Ee(a)&&(h=a.offsetWidth>0&&Qe(c.width)/a.offsetWidth||1,g=a.offsetHeight>0&&Qe(c.height)/a.offsetHeight||1);var b=He(a)?me(a):window,$=b.visualViewport,j=!fn()&&o,rt=(c.left+(j&&$?$.offsetLeft:0))/h,nt=(c.top+(j&&$?$.offsetTop:0))/g,ot=c.width/h,_t=c.height/g;return{width:ot,height:_t,top:nt,right:rt+ot,bottom:nt+_t,left:rt,x:rt,y:nt}}function sr(a){var e=Xe(a),o=a.offsetWidth,c=a.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-c)<=1&&(c=e.height),{x:a.offsetLeft,y:a.offsetTop,width:o,height:c}}function dn(a,e){var o=e.getRootNode&&e.getRootNode();if(a.contains(e))return!0;if(o&&ar(o)){var c=e;do{if(c&&a.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function De(a){return a?(a.nodeName||"").toLowerCase():null}function Ce(a){return me(a).getComputedStyle(a)}function No(a){return["table","td","th"].indexOf(De(a))>=0}function _e(a){return((He(a)?a.ownerDocument:a.document)||window.document).documentElement}function kt(a){return De(a)==="html"?a:a.assignedSlot||a.parentNode||(ar(a)?a.host:null)||_e(a)}function Hr$1(a){return!Ee(a)||Ce(a).position==="fixed"?null:a.offsetParent}function Uo(a){var e=/firefox/i.test(zt()),o=/Trident/i.test(zt());if(o&&Ee(a)){var c=Ce(a);if(c.position==="fixed")return null}var h=kt(a);for(ar(h)&&(h=h.host);Ee(h)&&["html","body"].indexOf(De(h))<0;){var g=Ce(h);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||e&&g.willChange==="filter"||e&&g.filter&&g.filter!=="none")return h;h=h.parentNode}return null}function yt$1(a){for(var e=me(a),o=Hr$1(a);o&&No(o)&&Ce(o).position==="static";)o=Hr$1(o);return o&&(De(o)==="html"||De(o)==="body"&&Ce(o).position==="static")?e:o||Uo(a)||e}function cr(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function ft(a,e,o){return Le(a,Ct(e,o))}function Yo(a,e,o){var c=ft(a,e,o);return c>o?o:c}function pn$1(){return{top:0,right:0,bottom:0,left:0}}function vn(a){return Object.assign({},pn$1(),a)}function mn(a,e){return e.reduce(function(o,c){return o[c]=a,o},{})}var Vo=function(a,e){return a=typeof a=="function"?a(Object.assign({},e.rects,{placement:e.placement})):a,vn(typeof a!="number"?a:mn(a,ht))};function Wo(a){var e,o=a.state,c=a.name,h=a.options,g=o.elements.arrow,b=o.modifiersData.popperOffsets,$=xe(o.placement),j=cr($),rt=[pe,we].indexOf($)>=0,nt=rt?"height":"width";if(!(!g||!b)){var ot=Vo(h.padding,o),_t=sr(g),Et=j==="y"?de:pe,It=j==="y"?be:we,it=o.rects.reference[nt]+o.rects.reference[j]-b[j]-o.rects.popper[nt],st=b[j]-o.rects.reference[j],Mt=yt$1(g),bt=Mt?j==="y"?Mt.clientHeight||0:Mt.clientWidth||0:0,Lt=it/2-st/2,pt=ot[Et],Dt=bt-_t[nt]-ot[It],wt=bt/2-_t[nt]/2+Lt,Bt=ft(pt,wt,Dt),jt=j;o.modifiersData[c]=(e={},e[jt]=Bt,e.centerOffset=Bt-wt,e)}}function Jo(a){var e=a.state,o=a.options,c=o.element,h=c===void 0?"[data-popper-arrow]":c;h!=null&&(typeof h=="string"&&(h=e.elements.popper.querySelector(h),!h)||dn(e.elements.popper,h)&&(e.elements.arrow=h))}const Go={name:"arrow",enabled:!0,phase:"main",fn:Wo,effect:Jo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ze(a){return a.split("-")[1]}var qo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zo(a,e){var o=a.x,c=a.y,h=e.devicePixelRatio||1;return{x:Qe(o*h)/h||0,y:Qe(c*h)/h||0}}function Nr(a){var e,o=a.popper,c=a.popperRect,h=a.placement,g=a.variation,b=a.offsets,$=a.position,j=a.gpuAcceleration,rt=a.adaptive,nt=a.roundOffsets,ot=a.isFixed,_t=b.x,Et=_t===void 0?0:_t,It=b.y,it=It===void 0?0:It,st=typeof nt=="function"?nt({x:Et,y:it}):{x:Et,y:it};Et=st.x,it=st.y;var Mt=b.hasOwnProperty("x"),bt=b.hasOwnProperty("y"),Lt=pe,pt=de,Dt=window;if(rt){var wt=yt$1(o),Bt="clientHeight",jt="clientWidth";if(wt===me(o)&&(wt=_e(o),Ce(wt).position!=="static"&&$==="absolute"&&(Bt="scrollHeight",jt="scrollWidth")),wt=wt,h===de||(h===pe||h===we)&&g===vt){pt=be;var hr=ot&&wt===Dt&&Dt.visualViewport?Dt.visualViewport.height:wt[Bt];it-=hr-c.height,it*=j?1:-1}if(h===pe||(h===de||h===be)&&g===vt){Lt=we;var gr=ot&&wt===Dt&&Dt.visualViewport?Dt.visualViewport.width:wt[jt];Et-=gr-c.width,Et*=j?1:-1}}var Cr=Object.assign({position:$},rt&&qo),wr=nt===!0?zo({x:Et,y:it},me(o)):{x:Et,y:it};if(Et=wr.x,it=wr.y,j){var yr;return Object.assign({},Cr,(yr={},yr[pt]=bt?"0":"",yr[Lt]=Mt?"0":"",yr.transform=(Dt.devicePixelRatio||1)<=1?"translate("+Et+"px, "+it+"px)":"translate3d("+Et+"px, "+it+"px, 0)",yr))}return Object.assign({},Cr,(e={},e[pt]=bt?it+"px":"",e[Lt]=Mt?Et+"px":"",e.transform="",e))}function Ko(a){var e=a.state,o=a.options,c=o.gpuAcceleration,h=c===void 0?!0:c,g=o.adaptive,b=g===void 0?!0:g,$=o.roundOffsets,j=$===void 0?!0:$,rt={placement:xe(e.placement),variation:Ze(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:h,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Nr(Object.assign({},rt,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:b,roundOffsets:j})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Nr(Object.assign({},rt,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $o={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ko,data:{}};var At={passive:!0};function Qo(a){var e=a.state,o=a.instance,c=a.options,h=c.scroll,g=h===void 0?!0:h,b=c.resize,$=b===void 0?!0:b,j=me(e.elements.popper),rt=[].concat(e.scrollParents.reference,e.scrollParents.popper);return g&&rt.forEach(function(nt){nt.addEventListener("scroll",o.update,At)}),$&&j.addEventListener("resize",o.update,At),function(){g&&rt.forEach(function(nt){nt.removeEventListener("scroll",o.update,At)}),$&&j.removeEventListener("resize",o.update,At)}}const Xo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qo,data:{}};var Zo={left:"right",right:"left",bottom:"top",top:"bottom"};function Rt$1(a){return a.replace(/left|right|bottom|top/g,function(e){return Zo[e]})}var ei={start:"end",end:"start"};function Ur(a){return a.replace(/start|end/g,function(e){return ei[e]})}function ur(a){var e=me(a),o=e.pageXOffset,c=e.pageYOffset;return{scrollLeft:o,scrollTop:c}}function lr(a){return Xe(_e(a)).left+ur(a).scrollLeft}function ti(a,e){var o=me(a),c=_e(a),h=o.visualViewport,g=c.clientWidth,b=c.clientHeight,$=0,j=0;if(h){g=h.width,b=h.height;var rt=fn();(rt||!rt&&e==="fixed")&&($=h.offsetLeft,j=h.offsetTop)}return{width:g,height:b,x:$+lr(a),y:j}}function ri(a){var e,o=_e(a),c=ur(a),h=(e=a.ownerDocument)==null?void 0:e.body,g=Le(o.scrollWidth,o.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),b=Le(o.scrollHeight,o.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),$=-c.scrollLeft+lr(a),j=-c.scrollTop;return Ce(h||o).direction==="rtl"&&($+=Le(o.clientWidth,h?h.clientWidth:0)-g),{width:g,height:b,x:$,y:j}}function fr(a){var e=Ce(a),o=e.overflow,c=e.overflowX,h=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+h+c)}function hn(a){return["html","body","#document"].indexOf(De(a))>=0?a.ownerDocument.body:Ee(a)&&fr(a)?a:hn(kt(a))}function dt(a,e){var o;e===void 0&&(e=[]);var c=hn(a),h=c===((o=a.ownerDocument)==null?void 0:o.body),g=me(c),b=h?[g].concat(g.visualViewport||[],fr(c)?c:[]):c,$=e.concat(b);return h?$:$.concat(dt(kt(b)))}function Kt(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function ni(a,e){var o=Xe(a,!1,e==="fixed");return o.top=o.top+a.clientTop,o.left=o.left+a.clientLeft,o.bottom=o.top+a.clientHeight,o.right=o.left+a.clientWidth,o.width=a.clientWidth,o.height=a.clientHeight,o.x=o.left,o.y=o.top,o}function Yr(a,e,o){return e===un?Kt(ti(a,o)):He(e)?ni(e,o):Kt(ri(_e(a)))}function oi(a){var e=dt(kt(a)),o=["absolute","fixed"].indexOf(Ce(a).position)>=0,c=o&&Ee(a)?yt$1(a):a;return He(c)?e.filter(function(h){return He(h)&&dn(h,c)&&De(h)!=="body"}):[]}function ii(a,e,o,c){var h=e==="clippingParents"?oi(a):[].concat(e),g=[].concat(h,[o]),b=g[0],$=g.reduce(function(j,rt){var nt=Yr(a,rt,c);return j.top=Le(nt.top,j.top),j.right=Ct(nt.right,j.right),j.bottom=Ct(nt.bottom,j.bottom),j.left=Le(nt.left,j.left),j},Yr(a,b,c));return $.width=$.right-$.left,$.height=$.bottom-$.top,$.x=$.left,$.y=$.top,$}function yn(a){var e=a.reference,o=a.element,c=a.placement,h=c?xe(c):null,g=c?Ze(c):null,b=e.x+e.width/2-o.width/2,$=e.y+e.height/2-o.height/2,j;switch(h){case de:j={x:b,y:e.y-o.height};break;case be:j={x:b,y:e.y+e.height};break;case we:j={x:e.x+e.width,y:$};break;case pe:j={x:e.x-o.width,y:$};break;default:j={x:e.x,y:e.y}}var rt=h?cr(h):null;if(rt!=null){var nt=rt==="y"?"height":"width";switch(g){case $e:j[rt]=j[rt]-(e[nt]/2-o[nt]/2);break;case vt:j[rt]=j[rt]+(e[nt]/2-o[nt]/2);break}}return j}function mt(a,e){e===void 0&&(e={});var o=e,c=o.placement,h=c===void 0?a.placement:c,g=o.strategy,b=g===void 0?a.strategy:g,$=o.boundary,j=$===void 0?So:$,rt=o.rootBoundary,nt=rt===void 0?un:rt,ot=o.elementContext,_t=ot===void 0?ct:ot,Et=o.altBoundary,It=Et===void 0?!1:Et,it=o.padding,st=it===void 0?0:it,Mt=vn(typeof st!="number"?st:mn(st,ht)),bt=_t===ct?ko:ct,Lt=a.rects.popper,pt=a.elements[It?bt:_t],Dt=ii(He(pt)?pt:pt.contextElement||_e(a.elements.popper),j,nt,b),wt=Xe(a.elements.reference),Bt=yn({reference:wt,element:Lt,strategy:"absolute",placement:h}),jt=Kt(Object.assign({},Lt,Bt)),hr=_t===ct?jt:wt,gr={top:Dt.top-hr.top+Mt.top,bottom:hr.bottom-Dt.bottom+Mt.bottom,left:Dt.left-hr.left+Mt.left,right:hr.right-Dt.right+Mt.right},Cr=a.modifiersData.offset;if(_t===ct&&Cr){var wr=Cr[h];Object.keys(gr).forEach(function(yr){var xr=[we,be].indexOf(yr)>=0?1:-1,In=[de,be].indexOf(yr)>=0?"y":"x";gr[yr]+=wr[In]*xr})}return gr}function ai(a,e){e===void 0&&(e={});var o=e,c=o.placement,h=o.boundary,g=o.rootBoundary,b=o.padding,$=o.flipVariations,j=o.allowedAutoPlacements,rt=j===void 0?ln:j,nt=Ze(c),ot=nt?$?Lr$1:Lr$1.filter(function(It){return Ze(It)===nt}):ht,_t=ot.filter(function(It){return rt.indexOf(It)>=0});_t.length===0&&(_t=ot);var Et=_t.reduce(function(It,it){return It[it]=mt(a,{placement:it,boundary:h,rootBoundary:g,padding:b})[xe(it)],It},{});return Object.keys(Et).sort(function(It,it){return Et[It]-Et[it]})}function si(a){if(xe(a)===ir)return[];var e=Rt$1(a);return[Ur(a),e,Ur(e)]}function ci(a){var e=a.state,o=a.options,c=a.name;if(!e.modifiersData[c]._skip){for(var h=o.mainAxis,g=h===void 0?!0:h,b=o.altAxis,$=b===void 0?!0:b,j=o.fallbackPlacements,rt=o.padding,nt=o.boundary,ot=o.rootBoundary,_t=o.altBoundary,Et=o.flipVariations,It=Et===void 0?!0:Et,it=o.allowedAutoPlacements,st=e.options.placement,Mt=xe(st),bt=Mt===st,Lt=j||(bt||!It?[Rt$1(st)]:si(st)),pt=[st].concat(Lt).reduce(function(uo,wo){return uo.concat(xe(wo)===ir?ai(e,{placement:wo,boundary:nt,rootBoundary:ot,padding:rt,flipVariations:It,allowedAutoPlacements:it}):wo)},[]),Dt=e.rects.reference,wt=e.rects.popper,Bt=new Map,jt=!0,hr=pt[0],gr=0;gr<pt.length;gr++){var Cr=pt[gr],wr=xe(Cr),yr=Ze(Cr)===$e,xr=[de,be].indexOf(wr)>=0,In=xr?"width":"height",rn=mt(e,{placement:Cr,boundary:nt,rootBoundary:ot,altBoundary:_t,padding:rt}),Sr=xr?yr?we:pe:yr?be:de;Dt[In]>wt[In]&&(Sr=Rt$1(Sr));var Tr=Rt$1(Sr),Ln=[];if(g&&Ln.push(rn[wr]<=0),$&&Ln.push(rn[Sr]<=0,rn[Tr]<=0),Ln.every(function(uo){return uo})){hr=Cr,jt=!1;break}Bt.set(Cr,Ln)}if(jt)for(var Fn=It?3:1,Or=function(uo){var wo=pt.find(function(bo){var es=Bt.get(bo);if(es)return es.slice(0,uo).every(function(rs){return rs})});if(wo)return hr=wo,"break"},Nn=Fn;Nn>0;Nn--){var eo=Or(Nn);if(eo==="break")break}e.placement!==hr&&(e.modifiersData[c]._skip=!0,e.placement=hr,e.reset=!0)}}const ui={name:"flip",enabled:!0,phase:"main",fn:ci,requiresIfExists:["offset"],data:{_skip:!1}};function Vr(a,e,o){return o===void 0&&(o={x:0,y:0}),{top:a.top-e.height-o.y,right:a.right-e.width+o.x,bottom:a.bottom-e.height+o.y,left:a.left-e.width-o.x}}function Wr(a){return[de,we,be,pe].some(function(e){return a[e]>=0})}function li(a){var e=a.state,o=a.name,c=e.rects.reference,h=e.rects.popper,g=e.modifiersData.preventOverflow,b=mt(e,{elementContext:"reference"}),$=mt(e,{altBoundary:!0}),j=Vr(b,c),rt=Vr($,h,g),nt=Wr(j),ot=Wr(rt);e.modifiersData[o]={referenceClippingOffsets:j,popperEscapeOffsets:rt,isReferenceHidden:nt,hasPopperEscaped:ot},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":nt,"data-popper-escaped":ot})}const fi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:li};function di(a,e,o){var c=xe(a),h=[pe,de].indexOf(c)>=0?-1:1,g=typeof o=="function"?o(Object.assign({},e,{placement:a})):o,b=g[0],$=g[1];return b=b||0,$=($||0)*h,[pe,we].indexOf(c)>=0?{x:$,y:b}:{x:b,y:$}}function pi(a){var e=a.state,o=a.options,c=a.name,h=o.offset,g=h===void 0?[0,0]:h,b=ln.reduce(function(nt,ot){return nt[ot]=di(ot,e.rects,g),nt},{}),$=b[e.placement],j=$.x,rt=$.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=j,e.modifiersData.popperOffsets.y+=rt),e.modifiersData[c]=b}const vi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pi};function mi(a){var e=a.state,o=a.name;e.modifiersData[o]=yn({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const hi={name:"popperOffsets",enabled:!0,phase:"read",fn:mi,data:{}};function yi(a){return a==="x"?"y":"x"}function gi(a){var e=a.state,o=a.options,c=a.name,h=o.mainAxis,g=h===void 0?!0:h,b=o.altAxis,$=b===void 0?!1:b,j=o.boundary,rt=o.rootBoundary,nt=o.altBoundary,ot=o.padding,_t=o.tether,Et=_t===void 0?!0:_t,It=o.tetherOffset,it=It===void 0?0:It,st=mt(e,{boundary:j,rootBoundary:rt,padding:ot,altBoundary:nt}),Mt=xe(e.placement),bt=Ze(e.placement),Lt=!bt,pt=cr(Mt),Dt=yi(pt),wt=e.modifiersData.popperOffsets,Bt=e.rects.reference,jt=e.rects.popper,hr=typeof it=="function"?it(Object.assign({},e.rects,{placement:e.placement})):it,gr=typeof hr=="number"?{mainAxis:hr,altAxis:hr}:Object.assign({mainAxis:0,altAxis:0},hr),Cr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,wr={x:0,y:0};if(wt){if(g){var yr,xr=pt==="y"?de:pe,In=pt==="y"?be:we,rn=pt==="y"?"height":"width",Sr=wt[pt],Tr=Sr+st[xr],Ln=Sr-st[In],Fn=Et?-jt[rn]/2:0,Or=bt===$e?Bt[rn]:jt[rn],Nn=bt===$e?-jt[rn]:-Bt[rn],eo=e.elements.arrow,uo=Et&&eo?sr(eo):{width:0,height:0},wo=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:pn$1(),bo=wo[xr],es=wo[In],rs=ft(0,Bt[rn],uo[rn]),vo=Lt?Bt[rn]/2-Fn-rs-bo-gr.mainAxis:Or-rs-bo-gr.mainAxis,gs=Lt?-Bt[rn]/2+Fn+rs+es+gr.mainAxis:Nn+rs+es+gr.mainAxis,cs=e.elements.arrow&&yt$1(e.elements.arrow),Gs=cs?pt==="y"?cs.clientTop||0:cs.clientLeft||0:0,$n=(yr=Cr==null?void 0:Cr[pt])!=null?yr:0,Kn=Sr+vo-$n-Gs,Bn=Sr+gs-$n,co=ft(Et?Ct(Tr,Kn):Tr,Sr,Et?Le(Ln,Bn):Ln);wt[pt]=co,wr[pt]=co-Sr}if($){var vs,Ts=pt==="x"?de:pe,Fs=pt==="x"?be:we,Os=wt[Dt],Ns=Dt==="y"?"height":"width",Ps=Os+st[Ts],Ks=Os-st[Fs],Bs=[de,pe].indexOf(Mt)!==-1,_l=(vs=Cr==null?void 0:Cr[Dt])!=null?vs:0,Cl=Bs?Ps:Os-Bt[Ns]-jt[Ns]-_l+gr.altAxis,Zn=Bs?Os+Bt[Ns]+jt[Ns]-_l-gr.altAxis:Ks,Vn=Et&&Bs?Yo(Cl,Os,Zn):ft(Et?Cl:Ps,Os,Et?Zn:Ks);wt[Dt]=Vn,wr[Dt]=Vn-Os}e.modifiersData[c]=wr}}const bi={name:"preventOverflow",enabled:!0,phase:"main",fn:gi,requiresIfExists:["offset"]};function wi(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function xi(a){return a===me(a)||!Ee(a)?ur(a):wi(a)}function Ei(a){var e=a.getBoundingClientRect(),o=Qe(e.width)/a.offsetWidth||1,c=Qe(e.height)/a.offsetHeight||1;return o!==1||c!==1}function Ai$1(a,e,o){o===void 0&&(o=!1);var c=Ee(e),h=Ee(e)&&Ei(e),g=_e(e),b=Xe(a,h,o),$={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(c||!c&&!o)&&((De(e)!=="body"||fr(g))&&($=xi(e)),Ee(e)?(j=Xe(e,!0),j.x+=e.clientLeft,j.y+=e.clientTop):g&&(j.x=lr(g))),{x:b.left+$.scrollLeft-j.x,y:b.top+$.scrollTop-j.y,width:b.width,height:b.height}}function Oi(a){var e=new Map,o=new Set,c=[];a.forEach(function(g){e.set(g.name,g)});function h(g){o.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function($){if(!o.has($)){var j=e.get($);j&&h(j)}}),c.push(g)}return a.forEach(function(g){o.has(g.name)||h(g)}),c}function Ri$1(a){var e=Oi(a);return Ho.reduce(function(o,c){return o.concat(e.filter(function(h){return h.phase===c}))},[])}function Ti$1(a){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(a())})})),e}}function Ci$1(a){var e=a.reduce(function(o,c){var h=o[c.name];return o[c.name]=h?Object.assign({},h,c,{options:Object.assign({},h.options,c.options),data:Object.assign({},h.data,c.data)}):c,o},{});return Object.keys(e).map(function(o){return e[o]})}var Jr={placement:"bottom",modifiers:[],strategy:"absolute"};function Gr(){for(var a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return!e.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function Si$1(a){a===void 0&&(a={});var e=a,o=e.defaultModifiers,c=o===void 0?[]:o,h=e.defaultOptions,g=h===void 0?Jr:h;return function(b,$,j){j===void 0&&(j=g);var rt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jr,g),modifiersData:{},elements:{reference:b,popper:$},attributes:{},styles:{}},nt=[],ot=!1,_t={state:rt,setOptions:function(it){var st=typeof it=="function"?it(rt.options):it;It(),rt.options=Object.assign({},g,rt.options,st),rt.scrollParents={reference:He(b)?dt(b):b.contextElement?dt(b.contextElement):[],popper:dt($)};var Mt=Ri$1(Ci$1([].concat(c,rt.options.modifiers)));return rt.orderedModifiers=Mt.filter(function(bt){return bt.enabled}),Et(),_t.update()},forceUpdate:function(){if(!ot){var it=rt.elements,st=it.reference,Mt=it.popper;if(Gr(st,Mt)){rt.rects={reference:Ai$1(st,yt$1(Mt),rt.options.strategy==="fixed"),popper:sr(Mt)},rt.reset=!1,rt.placement=rt.options.placement,rt.orderedModifiers.forEach(function(jt){return rt.modifiersData[jt.name]=Object.assign({},jt.data)});for(var bt=0;bt<rt.orderedModifiers.length;bt++){if(rt.reset===!0){rt.reset=!1,bt=-1;continue}var Lt=rt.orderedModifiers[bt],pt=Lt.fn,Dt=Lt.options,wt=Dt===void 0?{}:Dt,Bt=Lt.name;typeof pt=="function"&&(rt=pt({state:rt,options:wt,name:Bt,instance:_t})||rt)}}}},update:Ti$1(function(){return new Promise(function(it){_t.forceUpdate(),it(rt)})}),destroy:function(){It(),ot=!0}};if(!Gr(b,$))return _t;_t.setOptions(j).then(function(it){!ot&&j.onFirstUpdate&&j.onFirstUpdate(it)});function Et(){rt.orderedModifiers.forEach(function(it){var st=it.name,Mt=it.options,bt=Mt===void 0?{}:Mt,Lt=it.effect;if(typeof Lt=="function"){var pt=Lt({state:rt,name:st,instance:_t,options:bt}),Dt=function(){};nt.push(pt||Dt)}})}function It(){nt.forEach(function(it){return it()}),nt=[]}return _t}}const ki$1=Si$1({defaultModifiers:[fi,hi,$o,Xo,vi,ui,bi,Go]}),Pi$1=["enabled","placement","strategy","modifiers"];function ji$1(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}const Di$1={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},_i$1={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:a})=>()=>{const{reference:e,popper:o}=a.elements;if("removeAttribute"in e){const c=(e.getAttribute("aria-describedby")||"").split(",").filter(h=>h.trim()!==o.id);c.length?e.setAttribute("aria-describedby",c.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:a})=>{var e;const{popper:o,reference:c}=a.elements,h=(e=o.getAttribute("role"))==null?void 0:e.toLowerCase();if(o.id&&h==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(o.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${o.id}`:o.id)}}},Mi=[];function Bi(a,e,o={}){let{enabled:c=!0,placement:h="bottom",strategy:g="absolute",modifiers:b=Mi}=o,$=ji$1(o,Pi$1);const j=reactExports.useRef(b),rt=reactExports.useRef(),nt=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.update()},[]),ot=reactExports.useCallback(()=>{var st;(st=rt.current)==null||st.forceUpdate()},[]),[_t,Et]=Co(reactExports.useState({placement:h,update:nt,forceUpdate:ot,attributes:{},styles:{popper:{},arrow:{}}})),It=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:st})=>{const Mt={},bt={};Object.keys(st.elements).forEach(Lt=>{Mt[Lt]=st.styles[Lt],bt[Lt]=st.attributes[Lt]}),Et({state:st,styles:Mt,attributes:bt,update:nt,forceUpdate:ot,placement:st.placement})}}),[nt,ot,Et]),it=reactExports.useMemo(()=>(lt(j.current,b)||(j.current=b),j.current),[b]);return reactExports.useEffect(()=>{!rt.current||!c||rt.current.setOptions({placement:h,strategy:g,modifiers:[...it,It,Di$1]})},[g,h,It,c,it]),reactExports.useEffect(()=>{if(!(!c||a==null||e==null))return rt.current=ki$1(a,e,Object.assign({},$,{placement:h,strategy:g,modifiers:[...it,_i$1,It]})),()=>{rt.current!=null&&(rt.current.destroy(),rt.current=void 0,Et(st=>Object.assign({},st,{attributes:{},styles:{popper:{}}})))}},[c,a,e]),_t}const dr=!!(typeof window<"u"&&window.document&&window.document.createElement);var $t=!1,Qt=!1;try{var Ut={get passive(){return $t=!0},get once(){return Qt=$t=!0}};dr&&(window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,!0))}catch{}function Fi(a,e,o,c){if(c&&typeof c!="boolean"&&!Qt){var h=c.once,g=c.capture,b=o;!Qt&&h&&(b=o.__once||function $(j){this.removeEventListener(e,$,g),o.call(this,j)},o.__once=b),a.addEventListener(e,b,$t?c:g)}a.addEventListener(e,o,c)}function Ii(a,e,o,c){var h=c&&typeof c!="boolean"?c.capture:c;a.removeEventListener(e,o,h),o.__once&&a.removeEventListener(e,o.__once,h)}function Ie(a,e,o,c){return Fi(a,e,o,c),function(){Ii(a,e,o,c)}}function Pt(a){return a&&a.ownerDocument||document}function Li(a){const e=reactExports.useRef(a);return reactExports.useEffect(()=>{e.current=a},[a]),e}function et(a){const e=Li(a);return reactExports.useCallback(function(...o){return e.current&&e.current(...o)},[e])}const qr$1=()=>{};function Hi(a){return a.button===0}function Ni(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}const Tt=a=>a&&("current"in a?a.current:a),zr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Ui(a,e=qr$1,{disabled:o,clickTrigger:c="click"}={}){const h=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(rt=>{const nt=Tt(a);sn(!!nt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),h.current=!nt||Ni(rt)||!Hi(rt)||!!Wt(nt,rt.target)||g.current,g.current=!1},[a]),$=et(rt=>{const nt=Tt(a);nt&&Wt(nt,rt.target)&&(g.current=!0)}),j=et(rt=>{h.current||e(rt)});reactExports.useEffect(()=>{var rt,nt;if(o||a==null)return;const ot=Pt(Tt(a)),_t=ot.defaultView||window;let Et=(rt=_t.event)!=null?rt:(nt=_t.parent)==null?void 0:nt.event,It=null;zr[c]&&(It=Ie(ot,zr[c],$,!0));const it=Ie(ot,c,b,!0),st=Ie(ot,c,bt=>{if(bt===Et){Et=void 0;return}j(bt)});let Mt=[];return"ontouchstart"in ot.documentElement&&(Mt=[].slice.call(ot.body.children).map(bt=>Ie(bt,"mousemove",qr$1))),()=>{It==null||It(),it(),st(),Mt.forEach(bt=>bt())}},[a,o,c,b,$,j])}function Yi(a){return a.code==="Escape"||a.keyCode===27}const Vi=()=>{};function Wi(a,e,{disabled:o,clickTrigger:c}={}){const h=e||Vi;Ui(a,h,{disabled:o,clickTrigger:c});const g=et(b=>{Yi(b)&&h(b)});reactExports.useEffect(()=>{if(o||a==null)return;const b=Pt(Tt(a));let $=(b.defaultView||window).event;const j=Ie(b,"keyup",rt=>{if(rt===$){$=void 0;return}g(rt)});return()=>{j()}},[a,o,g])}const gn=reactExports.createContext(dr?window:void 0);gn.Provider;function Ji(){return reactExports.useContext(gn)}const Yt=(a,e)=>dr?a==null?(e||Pt()).body:(typeof a=="function"&&(a=a()),a&&"current"in a&&(a=a.current),a&&("nodeType"in a||a.getBoundingClientRect)?a:null):null;function Kr(a,e){const o=Ji(),[c,h]=reactExports.useState(()=>Yt(a,o==null?void 0:o.document));if(!c){const g=Yt(a);g&&h(g)}return reactExports.useEffect(()=>{e&&c&&e(c)},[e,c]),reactExports.useEffect(()=>{const g=Yt(a);g!==c&&h(g)},[a,c]),c}function Gi(a){const e={};return Array.isArray(a)?(a==null||a.forEach(o=>{e[o.name]=o}),e):a||e}function qi(a={}){return Array.isArray(a)?a:Object.keys(a).map(e=>(a[e].name=e,a[e]))}function zi({enabled:a,enableEvents:e,placement:o,flip:c,offset:h,fixed:g,containerPadding:b,arrowElement:$,popperConfig:j={}}){var rt,nt,ot,_t,Et;const It=Gi(j.modifiers);return Object.assign({},j,{placement:o,enabled:a,strategy:g?"fixed":j.strategy,modifiers:qi(Object.assign({},It,{eventListeners:{enabled:e,options:(rt=It.eventListeners)==null?void 0:rt.options},preventOverflow:Object.assign({},It.preventOverflow,{options:b?Object.assign({padding:b},(nt=It.preventOverflow)==null?void 0:nt.options):(ot=It.preventOverflow)==null?void 0:ot.options}),offset:{options:Object.assign({offset:h},(_t=It.offset)==null?void 0:_t.options)},arrow:Object.assign({},It.arrow,{enabled:!!$,options:Object.assign({},(Et=It.arrow)==null?void 0:Et.options,{element:$})}),flip:Object.assign({enabled:!!c},It.flip)}))})}const Ki=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$i=typeof document<"u",Xt=$i||Ki?reactExports.useLayoutEffect:reactExports.useEffect;function Qi({children:a,in:e,onExited:o,mountOnEnter:c,unmountOnExit:h}){const g=reactExports.useRef(null),b=reactExports.useRef(e),$=et(o);reactExports.useEffect(()=>{e?b.current=!0:$(g.current)},[e,$]);const j=tt(g,a.ref),rt=reactExports.cloneElement(a,{ref:j});return e?rt:h||!b.current&&c?null:rt}function Xi({in:a,onTransition:e}){const o=reactExports.useRef(null),c=reactExports.useRef(!0),h=et(e);return Xt(()=>{if(!o.current)return;let g=!1;return h({in:a,element:o.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[a,h]),Xt(()=>(c.current=!1,()=>{c.current=!0}),[]),o}function Zi({children:a,in:e,onExited:o,onEntered:c,transition:h}){const[g,b]=reactExports.useState(!e);e&&g&&b(!1);const $=Xi({in:!!e,onTransition:rt=>{const nt=()=>{rt.isStale()||(rt.in?c==null||c(rt.element,rt.initial):(b(!0),o==null||o(rt.element)))};Promise.resolve(h(rt)).then(nt,ot=>{throw rt.in||b(!0),ot})}}),j=tt($,a.ref);return g&&!e?null:reactExports.cloneElement(a,{ref:j})}function ea(a,e,o){return a?k.jsx(a,Object.assign({},o)):e?k.jsx(Zi,Object.assign({},o,{transition:e})):k.jsx(Qi,Object.assign({},o))}const bn=reactExports.forwardRef((a,e)=>{const{flip:o,offset:c,placement:h,containerPadding:g,popperConfig:b={},transition:$,runTransition:j}=a,[rt,nt]=Br(),[ot,_t]=Br(),Et=tt(nt,e),It=Kr(a.container),it=Kr(a.target),[st,Mt]=reactExports.useState(!a.show),bt=Bi(it,rt,zi({placement:h,enableEvents:!!a.show,containerPadding:g||5,flip:o,offset:c,arrowElement:ot,popperConfig:b}));a.show&&st&&Mt(!1);const Lt=(...Cr)=>{Mt(!0),a.onExited&&a.onExited(...Cr)},pt=a.show||!st;if(Wi(rt,a.onHide,{disabled:!a.rootClose||a.rootCloseDisabled,clickTrigger:a.rootCloseEvent}),!pt)return null;const{onExit:Dt,onExiting:wt,onEnter:Bt,onEntering:jt,onEntered:hr}=a;let gr=a.children(Object.assign({},bt.attributes.popper,{style:bt.styles.popper,ref:Et}),{popper:bt,placement:h,show:!!a.show,arrowProps:Object.assign({},bt.attributes.arrow,{style:bt.styles.arrow,ref:_t})});return gr=ea($,j,{in:!!a.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:gr,onExit:Dt,onExiting:wt,onExited:Lt,onEnter:Bt,onEntering:jt,onEntered:hr}),It?ReactDOM.createPortal(gr,It):null});bn.displayName="Overlay";const ta=bn;function $r(a,e){return a.classList?!!e&&a.classList.contains(e):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+e+" ")!==-1}const ra=["xxl","xl","lg","md","sm","xs"],na="xs",wn=reactExports.createContext({prefixes:{},breakpoints:ra,minBreakpoint:na});function Ne(a,e){const{prefixes:o}=reactExports.useContext(wn);return a||o[e]||e}function xn(){const{dir:a}=reactExports.useContext(wn);return a==="rtl"}const En=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},h)=>(e=Ne(e,"popover-header"),k.jsx(o,{ref:h,className:Ye(a,e),...c})));En.displayName="PopoverHeader";const oa=En,An=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},h)=>(e=Ne(e,"popover-body"),k.jsx(o,{ref:h,className:Ye(a,e),...c})));An.displayName="PopoverBody";const On=An;function Rn$1(a,e){let o=a;return a==="left"?o=e?"end":"start":a==="right"&&(o=e?"start":"end"),o}function Tn(a="absolute"){return{position:a,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ia=reactExports.forwardRef(({bsPrefix:a,placement:e="right",className:o,style:c,children:h,body:g,arrowProps:b,hasDoneInitialMeasure:$,popper:j,show:rt,...nt},ot)=>{const _t=Ne(a,"popover"),Et=xn(),[It]=(e==null?void 0:e.split("-"))||[],it=Rn$1(It,Et);let st=c;return rt&&!$&&(st={...c,...Tn(j==null?void 0:j.strategy)}),k.jsxs("div",{ref:ot,role:"tooltip",style:st,"x-placement":It,className:Ye(o,_t,It&&`bs-popover-${it}`),...nt,children:[k.jsx("div",{className:"popover-arrow",...b}),g?k.jsx(On,{children:h}):h]})}),Zt$1=Object.assign(ia,{Header:oa,Body:On,POPPER_OFFSET:[0,8]}),Cn=reactExports.forwardRef(({bsPrefix:a,placement:e="right",className:o,style:c,children:h,arrowProps:g,hasDoneInitialMeasure:b,popper:$,show:j,...rt},nt)=>{a=Ne(a,"tooltip");const ot=xn(),[_t]=(e==null?void 0:e.split("-"))||[],Et=Rn$1(_t,ot);let It=c;return j&&!b&&(It={...c,...Tn($==null?void 0:$.strategy)}),k.jsxs("div",{ref:nt,style:It,role:"tooltip","x-placement":_t,className:Ye(o,a,`bs-tooltip-${Et}`),...rt,children:[k.jsx("div",{className:"tooltip-arrow",...g}),k.jsx("div",{className:`${a}-inner`,children:h})]})});Cn.displayName="Tooltip";const Sn=Object.assign(Cn,{TOOLTIP_OFFSET:[0,6]});function aa(a){const e=reactExports.useRef(null),o=Ne(void 0,"popover"),c=Ne(void 0,"tooltip"),h=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(a)return a;if(e.current){if($r(e.current,o))return Zt$1.POPPER_OFFSET;if($r(e.current,c))return Sn.TOOLTIP_OFFSET}return[0,0]}}}),[a,o,c]);return[e,[h]]}const Qr={disabled:!1},kn=React.createContext(null);var ca=function(a){return a.scrollTop},ut="unmounted",Be="exited",je="entering",Fe="entered",er$1="exiting",Se=function(a){Oo(e,a);function e(c,h){var g;g=a.call(this,c,h)||this;var b=h,$=b&&!b.isMounting?c.enter:c.appear,j;return g.appearStatus=null,c.in?$?(j=Be,g.appearStatus=je):j=Fe:c.unmountOnExit||c.mountOnEnter?j=ut:j=Be,g.state={status:j},g.nextCallback=null,g}e.getDerivedStateFromProps=function(c,h){var g=c.in;return g&&h.status===ut?{status:Be}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(c){var h=null;if(c!==this.props){var g=this.state.status;this.props.in?g!==je&&g!==Fe&&(h=je):(g===je||g===Fe)&&(h=er$1)}this.updateStatus(!1,h)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var c=this.props.timeout,h,g,b;return h=g=b=c,c!=null&&typeof c!="number"&&(h=c.exit,g=c.enter,b=c.appear!==void 0?c.appear:g),{exit:h,enter:g,appear:b}},o.updateStatus=function(c,h){if(c===void 0&&(c=!1),h!==null)if(this.cancelNextCallback(),h===je){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);g&&ca(g)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Be&&this.setState({status:ut})},o.performEnter=function(c){var h=this,g=this.props.enter,b=this.context?this.context.isMounting:c,$=this.props.nodeRef?[b]:[ReactDOM.findDOMNode(this),b],j=$[0],rt=$[1],nt=this.getTimeouts(),ot=b?nt.appear:nt.enter;if(!c&&!g||Qr.disabled){this.safeSetState({status:Fe},function(){h.props.onEntered(j)});return}this.props.onEnter(j,rt),this.safeSetState({status:je},function(){h.props.onEntering(j,rt),h.onTransitionEnd(ot,function(){h.safeSetState({status:Fe},function(){h.props.onEntered(j,rt)})})})},o.performExit=function(){var c=this,h=this.props.exit,g=this.getTimeouts(),b=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!h||Qr.disabled){this.safeSetState({status:Be},function(){c.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:er$1},function(){c.props.onExiting(b),c.onTransitionEnd(g.exit,function(){c.safeSetState({status:Be},function(){c.props.onExited(b)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(c,h){h=this.setNextCallback(h),this.setState(c,h)},o.setNextCallback=function(c){var h=this,g=!0;return this.nextCallback=function(b){g&&(g=!1,h.nextCallback=null,c(b))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},o.onTransitionEnd=function(c,h){this.setNextCallback(h);var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),b=c==null&&!this.props.addEndListener;if(!g||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var $=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],j=$[0],rt=$[1];this.props.addEndListener(j,rt)}c!=null&&setTimeout(this.nextCallback,c)},o.render=function(){var c=this.state.status;if(c===ut)return null;var h=this.props,g=h.children;h.in,h.mountOnEnter,h.unmountOnExit,h.appear,h.enter,h.exit,h.timeout,h.addEndListener,h.onEnter,h.onEntering,h.onEntered,h.onExit,h.onExiting,h.onExited,h.nodeRef;var b=Eo(h,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(kn.Provider,{value:null},typeof g=="function"?g(c,b):React.cloneElement(React.Children.only(g),b))},e}(React.Component);Se.contextType=kn;Se.propTypes={};function ze(){}Se.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ze,onEntering:ze,onEntered:ze,onExit:ze,onExiting:ze,onExited:ze};Se.UNMOUNTED=ut;Se.EXITED=Be;Se.ENTERING=je;Se.ENTERED=Fe;Se.EXITING=er$1;const ua=Se;function la(a){var e=Pt(a);return e&&e.defaultView||window}function fa(a,e){return la(a).getComputedStyle(a,e)}var da=/([A-Z])/g;function pa(a){return a.replace(da,"-$1").toLowerCase()}var va=/^ms-/;function Ot(a){return pa(a).replace(va,"-ms-")}var ma=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ha(a){return!!(a&&ma.test(a))}function Pn(a,e){var o="",c="";if(typeof e=="string")return a.style.getPropertyValue(Ot(e))||fa(a).getPropertyValue(Ot(e));Object.keys(e).forEach(function(h){var g=e[h];!g&&g!==0?a.style.removeProperty(Ot(h)):ha(h)?c+=h+"("+g+") ":o+=Ot(h)+": "+g+";"}),c&&(o+="transform: "+c+";"),a.style.cssText+=";"+o}function ya(a,e,o,c){if(o===void 0&&(o=!1),c===void 0&&(c=!0),a){var h=document.createEvent("HTMLEvents");h.initEvent(e,o,c),a.dispatchEvent(h)}}function ga(a){var e=Pn(a,"transitionDuration")||"",o=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*o}function ba(a,e,o){o===void 0&&(o=5);var c=!1,h=setTimeout(function(){c||ya(a,"transitionend",!0)},e+o),g=Ie(a,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(h),g()}}function wa(a,e,o,c){o==null&&(o=ga(a)||0);var h=ba(a,o,c),g=Ie(a,"transitionend",e);return function(){h(),g()}}function Xr(a,e){const o=Pn(a,e)||"",c=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*c}function xa(a,e){const o=Xr(a,"transitionDuration"),c=Xr(a,"transitionDelay"),h=wa(a,g=>{g.target===a&&(h(),e(g))},o+c)}function Ea(a){a.offsetHeight}function St(a){return a&&"setState"in a?ReactDOM.findDOMNode(a):a??null}const Aa=React.forwardRef(({onEnter:a,onEntering:e,onEntered:o,onExit:c,onExiting:h,onExited:g,addEndListener:b,children:$,childRef:j,...rt},nt)=>{const ot=reactExports.useRef(null),_t=tt(ot,j),Et=wt=>{_t(St(wt))},It=wt=>Bt=>{wt&&ot.current&&wt(ot.current,Bt)},it=reactExports.useCallback(It(a),[a]),st=reactExports.useCallback(It(e),[e]),Mt=reactExports.useCallback(It(o),[o]),bt=reactExports.useCallback(It(c),[c]),Lt=reactExports.useCallback(It(h),[h]),pt=reactExports.useCallback(It(g),[g]),Dt=reactExports.useCallback(It(b),[b]);return k.jsx(ua,{ref:nt,...rt,onEnter:it,onEntered:Mt,onEntering:st,onExit:bt,onExited:pt,onExiting:Lt,addEndListener:Dt,nodeRef:ot,children:typeof $=="function"?(wt,Bt)=>$(wt,{...Bt,ref:Et}):React.cloneElement($,{ref:Et})})}),Oa=Aa,Ra={[je]:"show",[Fe]:"show"},jn=reactExports.forwardRef(({className:a,children:e,transitionClasses:o={},onEnter:c,...h},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...h},$=reactExports.useCallback((j,rt)=>{Ea(j),c==null||c(j,rt)},[c]);return k.jsx(Oa,{ref:g,addEndListener:xa,...b,onEnter:$,childRef:e.ref,children:(j,rt)=>reactExports.cloneElement(e,{...rt,className:Ye("fade",a,e.props.className,Ra[j],o[j])})})});jn.displayName="Fade";const Zr=jn;function Ta(a,e){const{ref:o}=a,{ref:c}=e;a.ref=o.__wrapped||(o.__wrapped=h=>o(St(h))),e.ref=c.__wrapped||(c.__wrapped=h=>c(St(h)))}const Dn=reactExports.forwardRef(({children:a,transition:e=Zr,popperConfig:o={},rootClose:c=!1,placement:h="top",show:g=!1,...b},$)=>{const j=reactExports.useRef({}),[rt,nt]=reactExports.useState(null),[ot,_t]=aa(b.offset),Et=tt($,ot),It=e===!0?Zr:e||void 0,it=et(st=>{nt(st),o==null||o.onFirstUpdate==null||o.onFirstUpdate(st)});return Xt(()=>{rt&&b.target&&(j.current.scheduleUpdate==null||j.current.scheduleUpdate())},[rt,b.target]),reactExports.useEffect(()=>{g||nt(null)},[g]),k.jsx(ta,{...b,ref:Et,popperConfig:{...o,modifiers:_t.concat(o.modifiers||[]),onFirstUpdate:it},transition:It,rootClose:c,placement:h,show:g,children:(st,{arrowProps:Mt,popper:bt,show:Lt})=>{var pt,Dt;Ta(st,Mt);const wt=bt==null?void 0:bt.placement,Bt=Object.assign(j.current,{state:bt==null?void 0:bt.state,scheduleUpdate:bt==null?void 0:bt.update,placement:wt,outOfBoundaries:(bt==null||(pt=bt.state)==null||(Dt=pt.modifiersData.hide)==null?void 0:Dt.isReferenceHidden)||!1,strategy:o.strategy}),jt=!!rt;return typeof a=="function"?a({...st,placement:wt,show:Lt,...!e&&Lt&&{className:"show"},popper:Bt,arrowProps:Mt,hasDoneInitialMeasure:jt}):reactExports.cloneElement(a,{...st,placement:wt,arrowProps:Mt,popper:Bt,hasDoneInitialMeasure:jt,className:Ye(a.props.className,!e&&Lt&&"show"),style:{...a.props.style,...st.style}})}})});Dn.displayName="Overlay";const Ca=Dn;function Sa(a){return a&&typeof a=="object"?a:{show:a,hide:a}}function en(a,e,o){const[c]=e,h=c.currentTarget,g=c.relatedTarget||c.nativeEvent[o];(!g||g!==h)&&!Wt(h,g)&&a(...e)}N.oneOf(["click","hover","focus"]);const ka=({trigger:a=["hover","focus"],overlay:e,children:o,popperConfig:c={},show:h,defaultShow:g=!1,onToggle:b,delay:$,placement:j,flip:rt=j&&j.indexOf("auto")!==-1,...nt})=>{const ot=reactExports.useRef(null),_t=tt(ot,o.ref),Et=go(),It=reactExports.useRef(""),[it,st]=Ao(h,g,b),Mt=Sa($),{onFocus:bt,onBlur:Lt,onClick:pt}=typeof o!="function"?reactExports.Children.only(o).props:{},Dt=In=>{_t(St(In))},wt=reactExports.useCallback(()=>{if(Et.clear(),It.current="show",!Mt.show){st(!0);return}Et.set(()=>{It.current==="show"&&st(!0)},Mt.show)},[Mt.show,st,Et]),Bt=reactExports.useCallback(()=>{if(Et.clear(),It.current="hide",!Mt.hide){st(!1);return}Et.set(()=>{It.current==="hide"&&st(!1)},Mt.hide)},[Mt.hide,st,Et]),jt=reactExports.useCallback((...In)=>{wt(),bt==null||bt(...In)},[wt,bt]),hr=reactExports.useCallback((...In)=>{Bt(),Lt==null||Lt(...In)},[Bt,Lt]),gr=reactExports.useCallback((...In)=>{st(!it),pt==null||pt(...In)},[pt,st,it]),Cr=reactExports.useCallback((...In)=>{en(wt,In,"fromElement")},[wt]),wr=reactExports.useCallback((...In)=>{en(Bt,In,"toElement")},[Bt]),yr=a==null?[]:[].concat(a),xr={ref:Dt};return yr.indexOf("click")!==-1&&(xr.onClick=gr),yr.indexOf("focus")!==-1&&(xr.onFocus=jt,xr.onBlur=hr),yr.indexOf("hover")!==-1&&(xr.onMouseOver=Cr,xr.onMouseOut=wr),k.jsxs(k.Fragment,{children:[typeof o=="function"?o(xr):reactExports.cloneElement(o,xr),k.jsx(Ca,{...nt,show:it,onHide:Bt,flip:rt,placement:j,popperConfig:c,target:ot.current,children:e})]})},pr=ka,Da="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function qa(){return k.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:k.jsx("img",{src:Da,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const _a=["as","disabled"];function Ma(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function Ba(a){return!a||a.trim()==="#"}function _n({tagName:a,disabled:e,href:o,target:c,rel:h,role:g,onClick:b,tabIndex:$=0,type:j}){a||(o!=null||c!=null||h!=null?a="a":a="button");const rt={tagName:a};if(a==="button")return[{type:j||"button",disabled:e},rt];const nt=_t=>{if((e||a==="a"&&Ba(o))&&_t.preventDefault(),e){_t.stopPropagation();return}b==null||b(_t)},ot=_t=>{_t.key===" "&&(_t.preventDefault(),nt(_t))};return a==="a"&&(o||(o="#"),e&&(o=void 0)),[{role:g??"button",disabled:void 0,tabIndex:e?void 0:$,href:o,target:a==="a"?c:void 0,"aria-disabled":e||void 0,rel:a==="a"?h:void 0,onClick:nt,onKeyDown:ot},rt]}const Fa=reactExports.forwardRef((a,e)=>{let{as:o,disabled:c}=a,h=Ma(a,_a);const[g,{tagName:b}]=_n(Object.assign({tagName:o,disabled:c},h));return k.jsx(b,Object.assign({},h,g,{ref:e}))});Fa.displayName="Button";const Mn=reactExports.forwardRef(({as:a,bsPrefix:e,variant:o="primary",size:c,active:h=!1,disabled:g=!1,className:b,...$},j)=>{const rt=Ne(e,"btn"),[nt,{tagName:ot}]=_n({tagName:a,disabled:g,...$}),_t=ot;return k.jsx(_t,{...nt,...$,ref:j,disabled:g,className:Ye(b,rt,h&&"active",o&&`${rt}-${o}`,c&&`${rt}-${c}`,$.href&&g&&"disabled")})});Mn.displayName="Button";const Ia=Mn,La="_download_dropdown_menu_23m9j_1",Ha={download_dropdown_menu:La};function za(a){var e=`${a.aiida_rest_url}/nodes/${a.uuid}/download`,o=k.jsx(Zt$1,{children:k.jsx(Zt$1.Body,{style:{padding:"5px 0px"},children:k.jsxs("ul",{className:Ha.download_dropdown_menu,children:[k.jsx("li",{children:k.jsx("a",{href:`${e}?download_format=chemdoodle`,children:"ChemDoodle"})}),k.jsx("li",{children:k.jsx("a",{href:`${e}?download_format=cif`,children:"CIF"})}),k.jsx("li",{children:k.jsx("a",{href:`${e}?download_format=xsf`,children:"XSF"})}),k.jsx("li",{children:k.jsx("a",{href:`${e}?download_format=xyz`,children:"XYZ"})})]})})});return k.jsx(pr,{trigger:"click",rootClose:!0,placement:"bottom",overlay:o,children:k.jsx(Ia,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:k.jsx("span",{className:"bi bi-download"})})})}const Na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Ka(a){var e=`${a.explore_url}/details/${a.uuid}?nodeType=NODE`;return k.jsx(pr,{placement:"bottom",overlay:k.jsxs(Sn,{className:"explore_btn_tooltip",children:["Browse provenance",k.jsx("br",{}),a.uuid]}),children:k.jsx("a",{href:e,target:"_blank",children:k.jsx("img",{src:Na,className:"explore_btn_aiida_logo"})})})}function $a(a){return a.split(/(\d+)/).map((e,o)=>e.match(/\d+/)?k.jsx("sub",{children:e},o):e)}function Qa(a){let e=!1;return k.jsx("span",{children:a.split("").map((o,c)=>o=="_"?(e=!0,null):e?(e=!1,k.jsx("sub",{children:o},c)):o)})}function TitleAndLogo(){return jsxRuntimeExports$1.jsxs("div",{className:"title-and-logo",children:[jsxRuntimeExports$1.jsxs("div",{className:"title-and-doi",children:[jsxRuntimeExports$1.jsx("span",{className:"title-span",children:"Materials Cloud 2D crystals database (MC2D)"}),jsxRuntimeExports$1.jsxs("div",{className:"doi-container",children:[jsxRuntimeExports$1.jsx(Ja,{doi_id:"az-b2"}),jsxRuntimeExports$1.jsx(Ja,{doi_id:"36-nd"})]})]}),jsxRuntimeExports$1.jsx("img",{src:Mc2dLogo,className:"mc2d-logo"})]})}function useUncontrolledProp(a,e,o){const c=reactExports.useRef(a!==void 0),[h,g]=reactExports.useState(e),b=a!==void 0,$=c.current;return c.current=b,!b&&$&&h!==e&&g(e),[b?a:h,reactExports.useCallback((...j)=>{const[rt,...nt]=j;let ot=o==null?void 0:o(rt,...nt);return g(rt),ot},[o])]}const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(a=!1){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext),o=reactExports.useRef(null);if(o.current===null&&!a){var c,h;let g=(h=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||h===void 0||(c=h.ReactCurrentOwner)===null||c===void 0?void 0:c.current;if(g){let b=$b5e257d569688ac6$var$componentIds.get(g);b==null?$b5e257d569688ac6$var$componentIds.set(g,{id:e.current,state:g.memoizedState}):g.memoizedState!==b.state&&(e.current=b.id,$b5e257d569688ac6$var$componentIds.delete(g))}o.current=++e.current}return o.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(a){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext);e===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let o=$b5e257d569688ac6$var$useCounter(!!a),c=`react-aria${e.prefix}`;return a||`${c}-${o}`}function $b5e257d569688ac6$var$useModernSSRSafeId(a){let e=React.useId(),[o]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),c=o?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return a||`${c}-${e}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(a){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const TabContext=reactExports.createContext(null),TabContext$1=TabContext,SelectableContext=reactExports.createContext(null),makeEventKey=(a,e=null)=>a!=null?String(a):e||null,SelectableContext$1=SelectableContext,_excluded$4=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_excluded2=["activeKey","getControlledId","getControllerId"],_excluded3=["as"];function _objectWithoutPropertiesLoose$4(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function useTabPanel(a){let{active:e,eventKey:o,mountOnEnter:c,transition:h,unmountOnExit:g,role:b="tabpanel",onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:ot,onExited:_t}=a,Et=_objectWithoutPropertiesLoose$4(a,_excluded$4);const It=reactExports.useContext(TabContext$1);if(!It)return[Object.assign({},Et,{role:b}),{eventKey:o,isActive:e,mountOnEnter:c,transition:h,unmountOnExit:g,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:ot,onExited:_t}];const{activeKey:it,getControlledId:st,getControllerId:Mt}=It,bt=_objectWithoutPropertiesLoose$4(It,_excluded2),Lt=makeEventKey(o);return[Object.assign({},Et,{role:b,id:st(o),"aria-labelledby":Mt(o)}),{eventKey:o,isActive:e==null&&Lt!=null?makeEventKey(it)===Lt:e,transition:h||bt.transition,mountOnEnter:c??bt.mountOnEnter,unmountOnExit:g??bt.unmountOnExit,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:ot,onExited:_t}]}const TabPanel=reactExports.forwardRef((a,e)=>{let{as:o="div"}=a,c=_objectWithoutPropertiesLoose$4(a,_excluded3);const[h,{isActive:g,onEnter:b,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:ot,mountOnEnter:_t,unmountOnExit:Et,transition:It=NoopTransition}]=useTabPanel(c);return jsxRuntimeExports$1.jsx(TabContext$1.Provider,{value:null,children:jsxRuntimeExports$1.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports$1.jsx(It,{in:g,onEnter:b,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:ot,mountOnEnter:_t,unmountOnExit:Et,children:jsxRuntimeExports$1.jsx(o,Object.assign({},h,{ref:e,hidden:!g,"aria-hidden":!g}))})})})});TabPanel.displayName="TabPanel";const Tabs$2=a=>{const{id:e,generateChildId:o,onSelect:c,activeKey:h,defaultActiveKey:g,transition:b,mountOnEnter:$,unmountOnExit:j,children:rt}=a,[nt,ot]=useUncontrolledProp(h,g,c),_t=$b5e257d569688ac6$export$619500959fc48b26(e),Et=reactExports.useMemo(()=>o||((it,st)=>_t?`${_t}-${st}-${it}`:null),[_t,o]),It=reactExports.useMemo(()=>({onSelect:ot,activeKey:nt,transition:b,mountOnEnter:$||!1,unmountOnExit:j||!1,getControlledId:it=>Et(it,"tabpane"),getControllerId:it=>Et(it,"tab")}),[ot,nt,b,$,j,Et]);return jsxRuntimeExports$1.jsx(TabContext$1.Provider,{value:It,children:jsxRuntimeExports$1.jsx(SelectableContext$1.Provider,{value:ot||null,children:rt})})};Tabs$2.Panel=TabPanel;const BaseTabs=Tabs$2;function getTabTransitionComponent(a){return typeof a=="boolean"?a?Fade$1:NoopTransition:a}const TabContainer=({transition:a,...e})=>jsxRuntimeExports$1.jsx(BaseTabs,{...e,transition:getTabTransitionComponent(a)});TabContainer.displayName="TabContainer";const TabContainer$1=TabContainer,TabContent=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},h)=>(e=useBootstrapPrefix(e,"tab-content"),jsxRuntimeExports$1.jsx(o,{ref:h,className:classNames(a,e),...c})));TabContent.displayName="TabContent";const TabContent$1=TabContent,TabPane=reactExports.forwardRef(({bsPrefix:a,transition:e,...o},c)=>{const[{className:h,as:g="div",...b},{isActive:$,onEnter:j,onEntering:rt,onEntered:nt,onExit:ot,onExiting:_t,onExited:Et,mountOnEnter:It,unmountOnExit:it,transition:st=Fade$1}]=useTabPanel({...o,transition:getTabTransitionComponent(e)}),Mt=useBootstrapPrefix(a,"tab-pane");return jsxRuntimeExports$1.jsx(TabContext$1.Provider,{value:null,children:jsxRuntimeExports$1.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports$1.jsx(st,{in:$,onEnter:j,onEntering:rt,onEntered:nt,onExit:ot,onExiting:_t,onExited:Et,mountOnEnter:It,unmountOnExit:it,children:jsxRuntimeExports$1.jsx(g,{...b,ref:c,className:classNames(h,Mt,$&&"active")})})})})});TabPane.displayName="TabPane";const TabPane$1=TabPane,propTypes$2={eventKey:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.node.isRequired,disabled:PropTypes.bool,tabClassName:PropTypes.string,tabAttrs:PropTypes.object},Tab=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Tab.propTypes=propTypes$2;const Tab$1=Object.assign(Tab,{Container:TabContainer$1,Content:TabContent$1,Pane:TabPane$1});var all={exports:{}},createChainableTypeChecker={exports:{}};(function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;function o(c){function h(b,$,j,rt,nt,ot){var _t=rt||"<<anonymous>>",Et=ot||j;if($[j]==null)return b?new Error("Required "+nt+" `"+Et+"` was not specified "+("in `"+_t+"`.")):null;for(var It=arguments.length,it=Array(It>6?It-6:0),st=6;st<It;st++)it[st-6]=arguments[st];return c.apply(void 0,[$,j,_t,nt,Et].concat(it))}var g=h.bind(null,!1);return g.isRequired=h.bind(null,!0),g}a.exports=e.default})(createChainableTypeChecker,createChainableTypeChecker.exports);var createChainableTypeCheckerExports=createChainableTypeChecker.exports;(function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var o=createChainableTypeCheckerExports,c=h(o);function h(b){return b&&b.__esModule?b:{default:b}}function g(){for(var b=arguments.length,$=Array(b),j=0;j<b;j++)$[j]=arguments[j];function rt(){for(var nt=arguments.length,ot=Array(nt),_t=0;_t<nt;_t++)ot[_t]=arguments[_t];var Et=null;return $.forEach(function(It){if(Et==null){var it=It.apply(void 0,ot);it!=null&&(Et=it)}}),Et}return(0,c.default)(rt)}a.exports=e.default})(all,all.exports);var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(a,e){return toArray(a.querySelectorAll(e))}function useForceUpdate(){const[,a]=reactExports.useReducer(e=>!e,!1);return a}const NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const NavContext$1=NavContext,ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(a){return`${ATTRIBUTE_PREFIX}${a}`}function dataProp(a){return`${PROPERTY_PREFIX}${a}`}const _excluded$3=["as","disabled"];function _objectWithoutPropertiesLoose$3(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function isTrivialHref$1(a){return!a||a.trim()==="#"}function useButtonProps({tagName:a,disabled:e,href:o,target:c,rel:h,role:g,onClick:b,tabIndex:$=0,type:j}){a||(o!=null||c!=null||h!=null?a="a":a="button");const rt={tagName:a};if(a==="button")return[{type:j||"button",disabled:e},rt];const nt=_t=>{if((e||a==="a"&&isTrivialHref$1(o))&&_t.preventDefault(),e){_t.stopPropagation();return}b==null||b(_t)},ot=_t=>{_t.key===" "&&(_t.preventDefault(),nt(_t))};return a==="a"&&(o||(o="#"),e&&(o=void 0)),[{role:g??"button",disabled:void 0,tabIndex:e?void 0:$,href:o,target:a==="a"?c:void 0,"aria-disabled":e||void 0,rel:a==="a"?h:void 0,onClick:nt,onKeyDown:ot},rt]}const Button$1=reactExports.forwardRef((a,e)=>{let{as:o,disabled:c}=a,h=_objectWithoutPropertiesLoose$3(a,_excluded$3);const[g,{tagName:b}]=useButtonProps(Object.assign({tagName:o,disabled:c},h));return jsxRuntimeExports$1.jsx(b,Object.assign({},h,g,{ref:e}))});Button$1.displayName="Button";const _excluded$2=["as","active","eventKey"];function _objectWithoutPropertiesLoose$2(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function useNavItem({key:a,onClick:e,active:o,id:c,role:h,disabled:g}){const b=reactExports.useContext(SelectableContext$1),$=reactExports.useContext(NavContext$1),j=reactExports.useContext(TabContext$1);let rt=o;const nt={role:h};if($){!h&&$.role==="tablist"&&(nt.role="tab");const ot=$.getControllerId(a??null),_t=$.getControlledId(a??null);nt[dataAttr("event-key")]=a,nt.id=ot||c,rt=o==null&&a!=null?$.activeKey===a:o,(rt||!(j!=null&&j.unmountOnExit)&&!(j!=null&&j.mountOnEnter))&&(nt["aria-controls"]=_t)}return nt.role==="tab"&&(nt["aria-selected"]=rt,rt||(nt.tabIndex=-1),g&&(nt.tabIndex=-1,nt["aria-disabled"]=!0)),nt.onClick=useEventCallback(ot=>{g||(e==null||e(ot),a!=null&&b&&!ot.isPropagationStopped()&&b(a,ot))}),[nt,{isActive:rt}]}const NavItem$2=reactExports.forwardRef((a,e)=>{let{as:o=Button$1,active:c,eventKey:h}=a,g=_objectWithoutPropertiesLoose$2(a,_excluded$2);const[b,$]=useNavItem(Object.assign({key:makeEventKey(h,g.href),active:c},g));return b[dataAttr("active")]=$.isActive,jsxRuntimeExports$1.jsx(o,Object.assign({},g,b,{ref:e}))});NavItem$2.displayName="NavItem";const NavItem$3=NavItem$2,_excluded$1=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$1(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}const noop$1=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((a,e)=>{let{as:o="div",onSelect:c,activeKey:h,role:g,onKeyDown:b}=a,$=_objectWithoutPropertiesLoose$1(a,_excluded$1);const j=useForceUpdate(),rt=reactExports.useRef(!1),nt=reactExports.useContext(SelectableContext$1),ot=reactExports.useContext(TabContext$1);let _t,Et;ot&&(g=g||"tablist",h=ot.activeKey,_t=ot.getControlledId,Et=ot.getControllerId);const It=reactExports.useRef(null),it=Lt=>{const pt=It.current;if(!pt)return null;const Dt=qsa(pt,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),wt=pt.querySelector("[aria-selected=true]");if(!wt||wt!==document.activeElement)return null;const Bt=Dt.indexOf(wt);if(Bt===-1)return null;let jt=Bt+Lt;return jt>=Dt.length&&(jt=0),jt<0&&(jt=Dt.length-1),Dt[jt]},st=(Lt,pt)=>{Lt!=null&&(c==null||c(Lt,pt),nt==null||nt(Lt,pt))},Mt=Lt=>{if(b==null||b(Lt),!ot)return;let pt;switch(Lt.key){case"ArrowLeft":case"ArrowUp":pt=it(-1);break;case"ArrowRight":case"ArrowDown":pt=it(1);break;default:return}pt&&(Lt.preventDefault(),st(pt.dataset[dataProp("EventKey")]||null,Lt),rt.current=!0,j())};reactExports.useEffect(()=>{if(It.current&&rt.current){const Lt=It.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);Lt==null||Lt.focus()}rt.current=!1});const bt=useMergedRefs(e,It);return jsxRuntimeExports$1.jsx(SelectableContext$1.Provider,{value:st,children:jsxRuntimeExports$1.jsx(NavContext$1.Provider,{value:{role:g,activeKey:makeEventKey(h),getControlledId:_t||noop$1,getControllerId:Et||noop$1},children:jsxRuntimeExports$1.jsx(o,Object.assign({},$,{onKeyDown:Mt,ref:bt,role:g}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$3}),context$1=reactExports.createContext(null);context$1.displayName="NavbarContext";const NavbarContext=context$1,context=reactExports.createContext(null);context.displayName="CardHeaderContext";const CardHeaderContext=context,NavItem=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},h)=>(e=useBootstrapPrefix(e,"nav-item"),jsxRuntimeExports$1.jsx(o,{ref:h,className:classNames(a,e),...c})));NavItem.displayName="NavItem";const NavItem$1=NavItem,_excluded=["onKeyDown"];function _objectWithoutPropertiesLoose(a,e){if(a==null)return{};var o={},c=Object.keys(a),h,g;for(g=0;g<c.length;g++)h=c[g],!(e.indexOf(h)>=0)&&(o[h]=a[h]);return o}function isTrivialHref(a){return!a||a.trim()==="#"}const Anchor=reactExports.forwardRef((a,e)=>{let{onKeyDown:o}=a,c=_objectWithoutPropertiesLoose(a,_excluded);const[h]=useButtonProps(Object.assign({tagName:"a"},c)),g=useEventCallback(b=>{h.onKeyDown(b),o==null||o(b)});return isTrivialHref(c.href)||c.role==="button"?jsxRuntimeExports$1.jsx("a",Object.assign({ref:e},c,h,{onKeyDown:g})):jsxRuntimeExports$1.jsx("a",Object.assign({ref:e},c,{onKeyDown:o}))});Anchor.displayName="Anchor";const Anchor$1=Anchor,NavLink=reactExports.forwardRef(({bsPrefix:a,className:e,as:o=Anchor$1,active:c,eventKey:h,disabled:g=!1,...b},$)=>{a=useBootstrapPrefix(a,"nav-link");const[j,rt]=useNavItem({key:makeEventKey(h,b.href),active:c,disabled:g,...b});return jsxRuntimeExports$1.jsx(o,{...b,...j,ref:$,disabled:g,className:classNames(e,a,g&&"disabled",rt.isActive&&"active")})});NavLink.displayName="NavLink";const NavLink$1=NavLink,Nav=reactExports.forwardRef((a,e)=>{const{as:o="div",bsPrefix:c,variant:h,fill:g=!1,justify:b=!1,navbar:$,navbarScroll:j,className:rt,activeKey:nt,...ot}=useUncontrolled(a,{activeKey:"onSelect"}),_t=useBootstrapPrefix(c,"nav");let Et,It,it=!1;const st=reactExports.useContext(NavbarContext),Mt=reactExports.useContext(CardHeaderContext);return st?(Et=st.bsPrefix,it=$??!0):Mt&&({cardHeaderBsPrefix:It}=Mt),jsxRuntimeExports$1.jsx(BaseNav,{as:o,ref:e,activeKey:nt,className:classNames(rt,{[_t]:!it,[`${Et}-nav`]:it,[`${Et}-nav-scroll`]:it&&j,[`${It}-${h}`]:!!It,[`${_t}-${h}`]:!!h,[`${_t}-fill`]:g,[`${_t}-justified`]:b}),...ot})});Nav.displayName="Nav";const Nav$1=Object.assign(Nav,{Item:NavItem$1,Link:NavLink$1});function map$3(a,e){let o=0;return reactExports.Children.map(a,c=>reactExports.isValidElement(c)?e(c,o++):c)}function forEach(a,e){let o=0;reactExports.Children.forEach(a,c=>{reactExports.isValidElement(c)&&e(c,o++)})}function hasChildOfType(a,e){return reactExports.Children.toArray(a).some(o=>reactExports.isValidElement(o)&&o.type===e)}function getDefaultActiveKey(a){let e;return forEach(a,o=>{e==null&&(e=o.props.eventKey)}),e}function renderTab(a){const{title:e,eventKey:o,disabled:c,tabClassName:h,tabAttrs:g,id:b}=a.props;return e==null?null:jsxRuntimeExports$1.jsx(NavItem$1,{as:"li",role:"presentation",children:jsxRuntimeExports$1.jsx(NavLink$1,{as:"button",type:"button",eventKey:o,disabled:c,id:b,className:h,...g,children:e})})}const Tabs=a=>{const{id:e,onSelect:o,transition:c,mountOnEnter:h=!1,unmountOnExit:g=!1,variant:b="tabs",children:$,activeKey:j=getDefaultActiveKey($),...rt}=useUncontrolled(a,{activeKey:"onSelect"});return jsxRuntimeExports$1.jsxs(BaseTabs,{id:e,activeKey:j,onSelect:o,transition:getTabTransitionComponent(c),mountOnEnter:h,unmountOnExit:g,children:[jsxRuntimeExports$1.jsx(Nav$1,{...rt,role:"tablist",as:"ul",variant:b,children:map$3($,renderTab)}),jsxRuntimeExports$1.jsx(TabContent$1,{children:map$3($,nt=>{const ot={...nt.props};return delete ot.title,delete ot.disabled,delete ot.tabClassName,delete ot.tabAttrs,jsxRuntimeExports$1.jsx(TabPane$1,{...ot})})})]})};Tabs.displayName="Tabs";const Tabs$1=Tabs;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(e){for(var o,c=1,h=arguments.length;c<h;c++){o=arguments[c];for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&(e[g]=o[g])}return e},__assign.apply(this,arguments)};function __rest(a,e){var o={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&e.indexOf(c)<0&&(o[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(a);h<c.length;h++)e.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(a,c[h])&&(o[c[h]]=a[c[h]]);return o}var hashFragment="",observer=null,asyncTimerId=null,scrollFunction=null;function reset(){hashFragment="",observer!==null&&observer.disconnect(),asyncTimerId!==null&&(window.clearTimeout(asyncTimerId),asyncTimerId=null)}function isInteractiveElement(a){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],o=["A","AREA"];return e.includes(a.tagName)&&!a.hasAttribute("disabled")||o.includes(a.tagName)&&a.hasAttribute("href")}function getElAndScroll(){var a=null;if(hashFragment==="#")a=document.body;else{var e=hashFragment.replace("#","");a=document.getElementById(e),a===null&&hashFragment==="#top"&&(a=document.body)}if(a!==null){scrollFunction(a);var o=a.getAttribute("tabindex");return o===null&&!isInteractiveElement(a)&&a.setAttribute("tabindex",-1),a.focus({preventScroll:!0}),o===null&&!isInteractiveElement(a)&&(a.blur(),a.removeAttribute("tabindex")),reset(),!0}return!1}function hashLinkScroll(a){window.setTimeout(function(){getElAndScroll()===!1&&(observer===null&&(observer=new MutationObserver(getElAndScroll)),observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),asyncTimerId=window.setTimeout(function(){reset()},a||1e4))},0)}function genericHashLink(a){return React.forwardRef(function(e,o){var c="";typeof e.to=="string"&&e.to.includes("#")?c="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(c=e.to.hash);var h={};a===NavLink$2&&(h.isActive=function($,j){return $&&$.isExact&&j.hash===c});function g($){reset(),hashFragment=e.elementId?"#"+e.elementId:c,e.onClick&&e.onClick($),hashFragment!==""&&!$.defaultPrevented&&$.button===0&&(!e.target||e.target==="_self")&&!($.metaKey||$.altKey||$.ctrlKey||$.shiftKey)&&(scrollFunction=e.scroll||function(j){return e.smooth?j.scrollIntoView({behavior:"smooth"}):j.scrollIntoView()},hashLinkScroll(e.timeout))}var b=__rest(e,["scroll","smooth","timeout","elementId"]);return React.createElement(a,__assign({},h,b,{onClick:g,ref:o}),e.children)})}var HashLink=genericHashLink(Link);genericHashLink(NavLink$2);function CitationBox(a){return jsxRuntimeExports$1.jsxs("div",{className:"citationbox-container",children:[jsxRuntimeExports$1.jsx("b",{children:a.title}),jsxRuntimeExports$1.jsx("br",{}),a.authors,", ",a.journal,", doi:"," ",jsxRuntimeExports$1.jsx("a",{href:`https://doi.org/${a.doi}`,target:"_blank",children:a.doi})," ","(",a.year,")",jsxRuntimeExports$1.jsx("br",{}),a.data?jsxRuntimeExports$1.jsxs("div",{className:"citationbox-extras",children:[jsxRuntimeExports$1.jsx("b",{children:"Accompanying data: "}),a.data]}):null,a.arxiv?jsxRuntimeExports$1.jsxs("div",{className:"citationbox-extras",children:[jsxRuntimeExports$1.jsx("b",{children:"arxiv: "}),a.arxiv]}):null]})}const references={mpds:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["The Pauling File"," ",jsxRuntimeExports$1.jsx("a",{href:"http://paulingfile.com/",target:"_blank",children:"http://paulingfile.com/"})," ","exposed through the Materials Platform for Data Science"," ",jsxRuntimeExports$1.jsx("a",{href:"https://mpds.io/",target:"_blank",children:"https://mpds.io/"}),"."]})},cod:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["S. Gražulis et al. Crystallography open database (COD): an open-access collection of crystal structures and platform for world-wide collaboration. Nucleic Acids Research, 40:D420-D427, 2012,"," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.crystallography.net",target:"_blank",children:"http://www.crystallography.net"}),"."]})},icsd:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["Inorganic Crystal Structure Database,"," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.fiz-karlsruhe.com/icsd.html",target:"_blank",children:"http://www.fiz-karlsruhe.com/icsd.html"}),"."]})},aiida1:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["S. P. Huber et al. AiiDA 1.0, a scalable computational infrastructure for automated reproducible workflows and data provenance. Sci Data 7, 300, 2020."," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.aiida.net",target:"_blank",children:"http://www.aiida.net"}),"."]})},aiida2:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"G. Pizzi et al. AiiDA: Automated Interactive Infrastructure and Database for Computational Science. Computational Materials Science, 111:218-230, 2016."})},pymatgen:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"S. P. Ong et al. Python materials genomics (pymatgen): A robust, open-source python library for materials analysis. Computational Materials Science, 68:314-319, 2013."})},spglib:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["A. Togo. Spglib."," ",jsxRuntimeExports$1.jsx("a",{href:"https://spglib.readthedocs.io/",target:"_blank",children:"https://spglib.readthedocs.io/"}),"."]})},qe:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"P. Giannozzi et al. Advanced capabilities for materials modelling with Quantum ESPRESSO. Journal of Physics: Condensed Matter, 29:465901, 2017."})},phonon_vis:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["H. Miranda, Phonon Visualizer,"," ",jsxRuntimeExports$1.jsx("a",{href:"https://github.com/henriquemiranda/phononwebsite/",target:"_blank",children:"https://github.com/henriquemiranda/phononwebsite/"}),"."]})},cod_parser:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"A. Merkys et al. COD::CIF::Parser: an error-correcting CIF parser for the Perl language Journal of Applied Crystallography 49 (2016)"})},vdw_lee:{type:"pseudo_functionals",ref:jsxRuntimeExports$1.jsx("span",{children:"K. Lee et al., High-accuracy van der Waals density functional, Physical Review B, 82:081101, 2010."})},vdw_cooper:{type:"pseudo_functionals",ref:jsxRuntimeExports$1.jsx("span",{children:"V. R. Cooper, van der Waals density functional: An appropriate exchange-functional. Physical Review B, 81:161104, 2010."})},vdw_vydrov:{type:"pseudo_functionals",ref:jsxRuntimeExports$1.jsx("span",{children:"O. A. Vydrov and T. Van Voorhis, Nonlocal van der Waals density functional: the simpler the better. Journal of Chemical Physics, 133:244103, 2010."})},vdw_sabatini:{type:"pseudo_functionals",ref:jsxRuntimeExports$1.jsx("span",{children:"R. Sabatini et al., Nonlocal van der Waals density functional made simple and efficient. Physical Review B, 87:041108 (R). 2013."})},pbe:{type:"pseudo_functionals",ref:jsxRuntimeExports$1.jsx("span",{children:"J. P. Perdew, K. Burke, and M. Ernzerhof, Generalized Gradient Approximation Made Simple, Phys. Rev. Lett. 77, pp. 3865, 1996."})},sssp:{type:"pseudo_functionals",ref:jsxRuntimeExports$1.jsxs("span",{children:["G. Prandini, A. Marrazzo, I. E. Castelli, N. Mounet and N. Marzari, npj Computational Materials 4, 72 (2018)."," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.materialscloud.org/sssp/",target:"_blank",children:"http://www.materialscloud.org/sssp/"})]})},vdw_radii:{type:"vdw_radii",ref:jsxRuntimeExports$1.jsx("span",{children:"S. Alvarez, A cartography of the van der Waals territories. Dalton Transactions, 42(24):8617–8636, 2013."})},lebegue:{type:"other_studies",ref:jsxRuntimeExports$1.jsx("span",{children:"S. Lebegue et al., Two-dimensional materials from data filtering and ab initio calculations. Physical Review X, 3:031002, 2013."})},bjorkman:{type:"other_studies",ref:jsxRuntimeExports$1.jsx("span",{children:"T. Björkman et al., van der Waals bonding in layered compounds from advanced density-functional first-principles calculations. Physical Review Letters, 108(23):235502, 2012."})},ashton:{type:"other_studies",ref:jsxRuntimeExports$1.jsx("span",{children:"M. Ashton et al., Topology-Scaling Identification of Layered Solids and Stable Exfoliated 2D Materials. Physical Review Letters, 118(10):106101, 2017."})},cheon:{type:"other_studies",ref:jsxRuntimeExports$1.jsx("span",{children:"G. Cheon et al., Data Mining for New Two- and One-Dimensional Weakly Bonded Solids and Lattice-Commensurate Heterostructures. Nano Letters, 17(3):1915, 2017."})},choudhary:{type:"other_studies",ref:jsxRuntimeExports$1.jsx("span",{children:"K. Choudhary et al., High-throughput Identification and Characterization of Two-dimensional Materials using Density functional theory. Scientific Reports, 7(1):5179, 2017."})},haastrup:{type:"other_studies",ref:jsxRuntimeExports$1.jsx("span",{children:"S. Haastrup et al., The Computational 2D Materials Database: high-throughput modeling and discovery of atomically thin crystals. 2D Materials, 5(4):042002, 2018."})}};function refNr(a){return Object.keys(references).indexOf(a)+1}function getRef(a){return jsxRuntimeExports$1.jsx("sup",{children:jsxRuntimeExports$1.jsxs(HashLink,{className:"cite-anchor",to:"#ref"+refNr(a),children:["[",refNr(a),"]"]})})}function renderRefs(a){return Object.keys(references).map(e=>{if(references[e].type!=a)return;let o=refNr(e);return jsxRuntimeExports$1.jsxs("div",{id:"ref"+o,children:["[",o,"] ",references[e].ref]},o)})}const aboutText=jsxRuntimeExports$1.jsxs("div",{className:"about-text-container",children:[jsxRuntimeExports$1.jsx("div",{className:"about-h",children:"How to cite"}),jsxRuntimeExports$1.jsx("p",{children:"If you use this tool or data, please cite the following works:"}),jsxRuntimeExports$1.jsx(CitationBox,{title:jsxRuntimeExports$1.jsx("span",{children:"Two-dimensional materials from high-throughput computational exfoliation of experimentally known compounds"}),authors:jsxRuntimeExports$1.jsx("span",{children:"N.Mounet, M.Gibertini, P.Schwaller, D.Campi, A.Merkys, A.Marrazzo, T.Sohier, I.E.Castelli, A.Cepellotti, G.Pizzi & N.Marzari"}),journal:"Nat. Nanotech. 13, 246-252",doi:"10.1038/s41565-017-0035-5",year:"2018",data:jsxRuntimeExports$1.jsxs("span",{children:["N. Mounet et al., Materials Cloud Archive 2020.158, doi:"," ",jsxRuntimeExports$1.jsx("a",{href:"https://doi.org/10.24435/materialscloud:az-b2",target:"_blank",children:"10.24435/materialscloud:az-b2"})," ","(2020)"]})}),jsxRuntimeExports$1.jsx(CitationBox,{title:jsxRuntimeExports$1.jsx("span",{children:"Expansion of the Materials Cloud 2D Database"}),authors:jsxRuntimeExports$1.jsx("span",{children:"D. Campi, N. Mounet, M. Gibertini, G. Pizzi & N. Marzari"}),journal:"ACS Nano 17, 12, 11268-11278",doi:"10.1021/acsnano.2c11510",year:"2023",data:jsxRuntimeExports$1.jsxs("span",{children:["D. Campi et al., Materials Cloud Archive 2022.84, doi:"," ",jsxRuntimeExports$1.jsx("a",{href:"https://doi.org/10.24435/materialscloud:36-nd",target:"_blank",children:"10.24435/materialscloud:36-nd"})," ","(2022)"]}),arxiv:jsxRuntimeExports$1.jsxs("span",{children:["D. Campi et al., arXiv:2210.11301, doi:"," ",jsxRuntimeExports$1.jsx("a",{href:"https://doi.org/10.48550/arXiv.2210.11301",target:"_blank",children:"10.48550/arXiv.2210.11301"})," ","(2022)"]})}),jsxRuntimeExports$1.jsx("p",{children:"The proper reference for each structure is reported in the box beside the structure formula."}),jsxRuntimeExports$1.jsx("div",{className:"about-h",children:"General overview"}),jsxRuntimeExports$1.jsxs("p",{children:["The 2D structures are originating from the computational exfoliation of experimental bulk (3D) materials extracted from the MPDS",getRef("mpds"),", the COD",getRef("cod")," and the ICSD",getRef("icsd")," databases. The computational procedure consisted in:"]}),jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsxs("li",{children:["cleaning improperly formatted CIF files with ",jsxRuntimeExports$1.jsx("b",{children:"cod-tools"}),getRef("cod"),getRef("cod_parser"),";"]}),jsxRuntimeExports$1.jsx("li",{children:"filtering out disordered structures, incompletely defined ones and those obviously wrong;"}),jsxRuntimeExports$1.jsxs("li",{children:["converting CIF files into ",jsxRuntimeExports$1.jsx("b",{children:"AiiDA"}),getRef("aiida1"),getRef("aiida2")," structures, using ",jsxRuntimeExports$1.jsx("b",{children:"pymatgen"}),getRef("pymatgen"),";"]}),jsxRuntimeExports$1.jsxs("li",{children:["correcting round-off errors in the atomic positions to recover the structure symmetries, thanks to ",jsxRuntimeExports$1.jsx("b",{children:"spglib"}),getRef("spglib"),";"]}),jsxRuntimeExports$1.jsxs("li",{children:["filtering out duplicate structures",getRef("pymatgen"),";"]}),jsxRuntimeExports$1.jsxs("li",{children:["screening layered materials thanks to a geometrical algorithm based on the identification of chemical bonds from interatomic distances, using van der Waals atomic radii provided by Ref.",getRef("vdw_radii"),";"]}),jsxRuntimeExports$1.jsxs("li",{children:["relaxing and computing the binding energies of the layered materials, using the ",jsxRuntimeExports$1.jsx("b",{children:"Quantum ESPRESSO"}),getRef("qe")," code with ",jsxRuntimeExports$1.jsx("b",{children:"DFT-PBE"})," van der Waals functionals (",jsxRuntimeExports$1.jsx("b",{children:"rVV10"}),getRef("vdw_lee"),getRef("vdw_cooper")," and ",jsxRuntimeExports$1.jsx("b",{children:"DF2-C09"}),getRef("vdw_vydrov"),getRef("vdw_sabatini"),"), tested and converged pseudopotentials from the ",jsxRuntimeExports$1.jsx("b",{children:"SSSP"}),getRef("sssp"),";"]}),jsxRuntimeExports$1.jsxs("li",{children:["selecting easily exfoliable materials as those for which the binding energy is less than 30 meV/Å",jsxRuntimeExports$1.jsx("sup",{children:"2"}),"(with the DF2-C09 functional) or 35 meV/Å",jsxRuntimeExports$1.jsx("sup",{children:"2"})," (with rVV10) and potentially exfoliable materials for which the binding energy is less than 120 meV/Å",jsxRuntimeExports$1.jsx("sup",{children:"2"}),";"]}),jsxRuntimeExports$1.jsxs("li",{children:["optimizing the geometry of the monolayers as an isolated system using the PBE",getRef("pbe")," functional."]})]}),jsxRuntimeExports$1.jsx("p",{children:"On the subset of 2D easily exfoliable monolayers with less than 6 atoms in the unit cell, found in N. Mounet et al., Nat. Nanotech. doi:10.1038/s41565-017-0035-5 (2018) we also computed (at the PBE level):"}),jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsx("li",{children:"possible ferromagnetic and antiferromagnetic configurations, to obtain the magnetic ground state;"}),jsxRuntimeExports$1.jsx("li",{children:"electronic band structure;"}),jsxRuntimeExports$1.jsx("li",{children:"phonon dispersion curves."})]}),jsxRuntimeExports$1.jsx("p",{children:"More details can be found in the associated publications."}),jsxRuntimeExports$1.jsx("div",{className:"about-h",children:"Acknowledgements and references"}),jsxRuntimeExports$1.jsx("b",{children:"HPC support"}),jsxRuntimeExports$1.jsx("br",{}),"Computational resources for this project have been provided by PRACE (Grant 2016163963 on KNL/Marconi at Cineca) and by the NCCR MARVEL (Piz Daint at CSCS).",jsxRuntimeExports$1.jsx("br",{}),jsxRuntimeExports$1.jsx("b",{children:"Crystal structure databases"}),renderRefs("db"),jsxRuntimeExports$1.jsx("b",{children:"Software"}),renderRefs("software"),jsxRuntimeExports$1.jsx("b",{children:"Pseudopotentials and van der Waals functionals"}),renderRefs("pseudo_functionals"),jsxRuntimeExports$1.jsx("b",{children:"Van der Waals radii"}),renderRefs("vdw_radii"),jsxRuntimeExports$1.jsx("b",{children:"Other studies"}),renderRefs("other_studies")]}),REST_API_COMPOUNDS="https://dev-www.materialscloud.org/mcloud/api/v2/discover/mc2d/compounds",REST_API_AIIDA="https://aiida.materialscloud.org/mc2d/api/v4",EXPLORE_URL="https://www.materialscloud.org/explore/mc2d",restapiText=jsxRuntimeExports$1.jsxs("div",{className:"restapi-text-container",children:[jsxRuntimeExports$1.jsx("p",{children:"This section contains an overview of our REST APIs to access the MC2D data."}),jsxRuntimeExports$1.jsx("div",{className:"restapi-h",children:"1. Materials Cloud and AiiDA REST APIs"}),jsxRuntimeExports$1.jsxs("div",{children:["The MC2D frontend is running on the following APIs:",jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsxs("li",{children:["Index of materials:"," ",jsxRuntimeExports$1.jsx("a",{href:REST_API_COMPOUNDS,target:"_blank",children:REST_API_COMPOUNDS})]}),jsxRuntimeExports$1.jsxs("li",{children:["Single compound data:"," ",jsxRuntimeExports$1.jsx("a",{href:REST_API_COMPOUNDS+"/Ag2C2O4",target:"_blank",children:REST_API_COMPOUNDS+"/Ag2C2O4"})]}),jsxRuntimeExports$1.jsxs("li",{children:["AiiDA REST API for properties and provenance:"," ",jsxRuntimeExports$1.jsx("a",{href:REST_API_AIIDA,target:"_blank",children:REST_API_AIIDA})]})]})]}),jsxRuntimeExports$1.jsx("div",{className:"restapi-h",children:"2. OPTIMADE REST API"}),jsxRuntimeExports$1.jsxs("div",{children:["The MC2D database can also be accessed via an API following the"," ",jsxRuntimeExports$1.jsx("a",{href:"https://www.optimade.org/optimade",target:"_blank",children:"OPTIMADE specification"}),". This currently only includes the crystal structures and no properties or provenance information is provided. Relevant endpoints are",jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsx("li",{children:jsxRuntimeExports$1.jsx("a",{href:"https://aiida.materialscloud.org/mc2d/optimade/v1/info",target:"_blank",children:"https://aiida.materialscloud.org/mc2d/optimade/v1/info"})}),jsxRuntimeExports$1.jsx("li",{children:jsxRuntimeExports$1.jsx("a",{href:"https://aiida.materialscloud.org/mc2d/optimade/v1/structures",target:"_blank",children:"https://aiida.materialscloud.org/mc2d/optimade/v1/structures"})})]})]})]});function columns(a){return[{field:"id",headerName:"ID",colType:"id",infoText:"The unique MC2D identifier of each structure.",width:100},{field:"formula",headerName:"Formula",colType:"formula",infoText:"The full formula in Hill notation."},{field:"prototype",headerName:"Prototype",colType:"text",infoText:"Prototype structure.",width:140},{field:"point_group",headerName:"Point group",colType:"text",infoText:"The point group symmetry of the material.",width:100},{field:"band_gap",headerName:"Band gap",colType:"float",infoText:"Band gap of the 2D material.",unit:"eV",width:110},{field:"abundance",headerName:"Abundance",colType:"float",infoText:"Abundance on the Earth of the rarest of the elements present in the compound (mass fraction).",width:120},{field:"mag_state",headerName:"Magnetic state",colType:"text",infoText:"Magnetic state",width:110},{field:"df2_c09",headerName:"E(bind) DF2-C09",colType:"float",infoText:"Binding energy of the bulk 3D, per 2D layer and per unit area, obtained with the vdw-DF2-C09 functional.",unit:"meV/Å²",width:115},{field:"rvv10",headerName:"E(bind) rVV10",colType:"float",infoText:"Binding energy of the bulk 3D, per 2D layer and per unit area, obtained with the vdw-rVV10 functional.",unit:"meV/Å²",width:115},{field:"parent_formula",headerName:"3D parent formula",colType:"formula",infoText:"Chemical formula for the 3D parent (lowest energy parent, if multiple exist).",hide:!0},{field:"parent_spg",headerName:"3D parent space group",colType:"spg_symbol",infoText:"Space group for the 3D parent (lowest energy parent, if multiple exist).",hide:!0,width:120},{field:"parent_source_db",headerName:"3D parent source DB",colType:"text",infoText:"Source database for the 3D parent (lowest energy parent, if multiple exist).",hide:!0,width:120},{field:"parent_source_id",headerName:"3D parent source ID",colType:"text",infoText:"Source database ID for the 3D parent (lowest energy parent, if multiple exist).",hide:!0,width:120}]}function calcElementArray(a){var e=a.replace(/[0-9]/g,""),o=e.split(/(?=[A-Z])/);return o}function countNumberOfAtoms(a){var e=a.split(/(?=[A-Z])/),o=0;return e.forEach(c=>{let h=c.match(/\d+/),g=h==null?1:parseInt(h[0]);o+=g}),o}function formatRows(a){let e=[];return Object.keys(a).forEach(o=>{let c=a[o],h=calcElementArray(c.formula),g=`mc2d-${o}`,b={id:g,formula:c.formula,prototype:c.prototype,point_group:c.point_group,band_gap:c.band_gap,abundance:c.abundance,mag_state:c.mag_state,df2_c09:c.df2_c09!==null?c.df2_c09*1e3:null,rvv10:c.rvv10!==null?c.rvv10*1e3:null,parent_formula:c.parent.formula,parent_spg:c.parent.spg,parent_source_db:c.parent.source_db,parent_source_id:c.parent.source_id,n_elem:h.length,elem_array:h,n_atoms:countNumberOfAtoms(c.formula),href:`/discover-mc2d-react//#/details/${c.formula}/${g}`};e.push(b)}),e}async function loadIndexMc2d(){const e=await(await fetch(REST_API_COMPOUNDS,{method:"get"})).json(),o=e.data.compounds;return e.data.observables,{columns:columns(),rows:formatRows(o)}}function MainPage(){const[a,e]=reactExports.useState([]),[o,c]=reactExports.useState([]);return reactExports.useEffect(()=>{loadIndexMc2d().then(h=>{e(h.columns),c(h.rows)})},[]),jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud 2D crystals database",link:null}],children:jsxRuntimeExports$1.jsx("div",{className:"App",children:jsxRuntimeExports$1.jsxs("div",{className:"main-page",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsx("div",{className:"description",children:"Results from screening most known 3D crystal structures finding those that can be computationally exfoliated producing 2D materials candidates."}),jsxRuntimeExports$1.jsxs(Tabs$1,{defaultActiveKey:"use",className:"main-tabs",children:[jsxRuntimeExports$1.jsxs(Tab$1,{eventKey:"use",title:"Use",children:[jsxRuntimeExports$1.jsx("div",{className:"description",children:"Search for materials by filtering based on the periodic table and the columns of the table below:"}),jsxRuntimeExports$1.jsx(default_1,{columns:a,rows:o})]}),jsxRuntimeExports$1.jsx(Tab$1,{eventKey:"about",title:"About",children:aboutText}),jsxRuntimeExports$1.jsx(Tab$1,{eventKey:"rest",title:"REST API",children:restapiText})]})]})})})}function formatTitle(a){return jsxRuntimeExports$1.jsxs("span",{children:[$a(a.compound)," (",a.id,")"]})}async function fetchAiidaAttributes(a){return(await(await fetch(`${REST_API_AIIDA}/nodes/${a}/contents/attributes`)).json()).data.attributes}async function fetchAiidaCifText(a){return(await(await fetch(`${REST_API_AIIDA}/nodes/${a}/download?download_format=cif&download=false`)).json()).data.download.data}const Button=reactExports.forwardRef(({as:a,bsPrefix:e,variant:o="primary",size:c,active:h=!1,disabled:g=!1,className:b,...$},j)=>{const rt=useBootstrapPrefix(e,"btn"),[nt,{tagName:ot}]=useButtonProps({tagName:a,disabled:g,...$}),_t=ot;return jsxRuntimeExports$1.jsx(_t,{...nt,...$,ref:j,disabled:g,className:classNames(b,rt,h&&"active",o&&`${rt}-${o}`,c&&`${rt}-${c}`,$.href&&g&&"disabled")})});Button.displayName="Button";function useCol({as:a,bsPrefix:e,className:o,...c}){e=useBootstrapPrefix(e,"col");const h=useBootstrapBreakpoints(),g=useBootstrapMinBreakpoint(),b=[],$=[];return h.forEach(j=>{const rt=c[j];delete c[j];let nt,ot,_t;typeof rt=="object"&&rt!=null?{span:nt,offset:ot,order:_t}=rt:nt=rt;const Et=j!==g?`-${j}`:"";nt&&b.push(nt===!0?`${e}${Et}`:`${e}${Et}-${nt}`),_t!=null&&$.push(`order${Et}-${_t}`),ot!=null&&$.push(`offset${Et}-${ot}`)}),[{...c,className:classNames(o,...b,...$)},{as:a,bsPrefix:e,spans:b}]}const Col=reactExports.forwardRef((a,e)=>{const[{className:o,...c},{as:h="div",bsPrefix:g,spans:b}]=useCol(a);return jsxRuntimeExports$1.jsx(h,{...c,ref:e,className:classNames(o,!b.length&&g)})});Col.displayName="Col";const Col$1=Col,propTypes$1={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:a="div",className:e,type:o="valid",tooltip:c=!1,...h},g)=>jsxRuntimeExports$1.jsx(a,{...h,ref:g,className:classNames(e,`${o}-${c?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const Feedback$1=Feedback,FormContext=reactExports.createContext({}),FormContext$1=FormContext,FormCheckInput=reactExports.forwardRef(({id:a,bsPrefix:e,className:o,type:c="checkbox",isValid:h=!1,isInvalid:g=!1,as:b="input",...$},j)=>{const{controlId:rt}=reactExports.useContext(FormContext$1);return e=useBootstrapPrefix(e,"form-check-input"),jsxRuntimeExports$1.jsx(b,{...$,ref:j,type:c,id:a||rt,className:classNames(o,e,h&&"is-valid",g&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckInput$1=FormCheckInput,FormCheckLabel=reactExports.forwardRef(({bsPrefix:a,className:e,htmlFor:o,...c},h)=>{const{controlId:g}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-check-label"),jsxRuntimeExports$1.jsx("label",{...c,ref:h,htmlFor:o||g,className:classNames(e,a)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheckLabel$1=FormCheckLabel,FormCheck=reactExports.forwardRef(({id:a,bsPrefix:e,bsSwitchPrefix:o,inline:c=!1,reverse:h=!1,disabled:g=!1,isValid:b=!1,isInvalid:$=!1,feedbackTooltip:j=!1,feedback:rt,feedbackType:nt,className:ot,style:_t,title:Et="",type:It="checkbox",label:it,children:st,as:Mt="input",...bt},Lt)=>{e=useBootstrapPrefix(e,"form-check"),o=useBootstrapPrefix(o,"form-switch");const{controlId:pt}=reactExports.useContext(FormContext$1),Dt=reactExports.useMemo(()=>({controlId:a||pt}),[pt,a]),wt=!st&&it!=null&&it!==!1||hasChildOfType(st,FormCheckLabel$1),Bt=jsxRuntimeExports$1.jsx(FormCheckInput$1,{...bt,type:It==="switch"?"checkbox":It,ref:Lt,isValid:b,isInvalid:$,disabled:g,as:Mt});return jsxRuntimeExports$1.jsx(FormContext$1.Provider,{value:Dt,children:jsxRuntimeExports$1.jsx("div",{style:_t,className:classNames(ot,wt&&e,c&&`${e}-inline`,h&&`${e}-reverse`,It==="switch"&&o),children:st||jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[Bt,wt&&jsxRuntimeExports$1.jsx(FormCheckLabel$1,{title:Et,children:it}),rt&&jsxRuntimeExports$1.jsx(Feedback$1,{type:nt,tooltip:j,children:rt})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput$1,Label:FormCheckLabel$1}),FormControl=reactExports.forwardRef(({bsPrefix:a,type:e,size:o,htmlSize:c,id:h,className:g,isValid:b=!1,isInvalid:$=!1,plaintext:j,readOnly:rt,as:nt="input",...ot},_t)=>{const{controlId:Et}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-control"),jsxRuntimeExports$1.jsx(nt,{...ot,type:e,size:c,ref:_t,readOnly:rt,id:h||Et,className:classNames(g,j?`${a}-plaintext`:a,o&&`${a}-${o}`,e==="color"&&`${a}-color`,b&&"is-valid",$&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback:Feedback$1}),FormFloating=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},h)=>(e=useBootstrapPrefix(e,"form-floating"),jsxRuntimeExports$1.jsx(o,{ref:h,className:classNames(a,e),...c})));FormFloating.displayName="FormFloating";const FormFloating$1=FormFloating,FormGroup=reactExports.forwardRef(({controlId:a,as:e="div",...o},c)=>{const h=reactExports.useMemo(()=>({controlId:a}),[a]);return jsxRuntimeExports$1.jsx(FormContext$1.Provider,{value:h,children:jsxRuntimeExports$1.jsx(e,{...o,ref:c})})});FormGroup.displayName="FormGroup";const FormGroup$1=FormGroup,FormLabel=reactExports.forwardRef(({as:a="label",bsPrefix:e,column:o=!1,visuallyHidden:c=!1,className:h,htmlFor:g,...b},$)=>{const{controlId:j}=reactExports.useContext(FormContext$1);e=useBootstrapPrefix(e,"form-label");let rt="col-form-label";typeof o=="string"&&(rt=`${rt} ${rt}-${o}`);const nt=classNames(h,e,c&&"visually-hidden",o&&rt);return g=g||j,o?jsxRuntimeExports$1.jsx(Col$1,{ref:$,as:"label",className:nt,htmlFor:g,...b}):jsxRuntimeExports$1.jsx(a,{ref:$,className:nt,htmlFor:g,...b})});FormLabel.displayName="FormLabel";const FormLabel$1=FormLabel,FormRange=reactExports.forwardRef(({bsPrefix:a,className:e,id:o,...c},h)=>{const{controlId:g}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-range"),jsxRuntimeExports$1.jsx("input",{...c,type:"range",ref:h,className:classNames(e,a),id:o||g})});FormRange.displayName="FormRange";const FormRange$1=FormRange,FormSelect=reactExports.forwardRef(({bsPrefix:a,size:e,htmlSize:o,className:c,isValid:h=!1,isInvalid:g=!1,id:b,...$},j)=>{const{controlId:rt}=reactExports.useContext(FormContext$1);return a=useBootstrapPrefix(a,"form-select"),jsxRuntimeExports$1.jsx("select",{...$,size:o,ref:j,className:classNames(c,a,e&&`${a}-${e}`,h&&"is-valid",g&&"is-invalid"),id:b||rt})});FormSelect.displayName="FormSelect";const FormSelect$1=FormSelect,FormText=reactExports.forwardRef(({bsPrefix:a,className:e,as:o="small",muted:c,...h},g)=>(a=useBootstrapPrefix(a,"form-text"),jsxRuntimeExports$1.jsx(o,{...h,ref:g,className:classNames(e,a,c&&"text-muted")})));FormText.displayName="FormText";const FormText$1=FormText,Switch=reactExports.forwardRef((a,e)=>jsxRuntimeExports$1.jsx(FormCheck$1,{...a,ref:e,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:a,className:e,children:o,controlId:c,label:h,...g},b)=>(a=useBootstrapPrefix(a,"form-floating"),jsxRuntimeExports$1.jsxs(FormGroup$1,{ref:b,className:classNames(e,a),controlId:c,...g,children:[o,jsxRuntimeExports$1.jsx("label",{htmlFor:c,children:h})]})));FloatingLabel.displayName="FloatingLabel";const FloatingLabel$1=FloatingLabel,propTypes={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:a,validated:e,as:o="form",...c},h)=>jsxRuntimeExports$1.jsx(o,{...c,ref:h,className:classNames(a,e&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup$1,Control:FormControl$1,Floating:FormFloating$1,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel$1,Text:FormText$1,Range:FormRange$1,Select:FormSelect$1,FloatingLabel:FloatingLabel$1});var Zs=Object.defineProperty,Ys=(a,e,o)=>e in a?Zs(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,Ci=(a,e,o)=>(Ys(a,typeof e!="symbol"?e+"":e,o),o),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var a=React,e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b($,j,rt){var nt,ot={},_t=null,Et=null;rt!==void 0&&(_t=""+rt),j.key!==void 0&&(_t=""+j.key),j.ref!==void 0&&(Et=j.ref);for(nt in j)c.call(j,nt)&&!g.hasOwnProperty(nt)&&(ot[nt]=j[nt]);if($&&$.defaultProps)for(nt in j=$.defaultProps,j)ot[nt]===void 0&&(ot[nt]=j[nt]);return{$$typeof:e,type:$,key:_t,ref:Et,props:ot,_owner:h.current}}return reactJsxRuntime_production_min.Fragment=o,reactJsxRuntime_production_min.jsx=b,reactJsxRuntime_production_min.jsxs=b,reactJsxRuntime_production_min}jsxRuntime.exports=requireReactJsxRuntime_production_min();var jsxRuntimeExports=jsxRuntime.exports;class ControlBox extends React.Component{constructor(){super(...arguments),Ci(this,"handleSupercellChange",(e,o)=>{let c=this.props.viewerParams.supercell;c[e]=parseInt(o),this.props.onViewerParamChange("supercell",c)}),Ci(this,"handleOptionChange",e=>{this.props.onViewerParamChange(e,!this.props.viewerParams[e])}),Ci(this,"handleCameraEvent",e=>{this.props.onViewerEvent("camera",e)})}render(){return jsxRuntimeExports.jsxs("div",{className:"control-box",children:[jsxRuntimeExports.jsxs("div",{className:"control-box-row",children:[jsxRuntimeExports.jsxs("div",{className:"supercell-container",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Supercell: "}),jsxRuntimeExports.jsx("div",{style:{display:"flex"},children:[0,1,2].map(e=>jsxRuntimeExports.jsx(Form$1.Control,{className:"supercell-input",type:"number",min:"1",max:"99",value:this.props.viewerParams.supercell[e],onChange:o=>this.handleSupercellChange(e,o.target.value)},e))})]}),jsxRuntimeExports.jsxs("div",{className:"camera-controls",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Camera: "}),jsxRuntimeExports.jsx(Button,{className:"camera-button",onClick:()=>this.handleCameraEvent("x"),children:"x"}),jsxRuntimeExports.jsx(Button,{className:"camera-button",onClick:()=>this.handleCameraEvent("y"),children:"y"}),jsxRuntimeExports.jsx(Button,{className:"camera-button",onClick:()=>this.handleCameraEvent("z"),children:"z"})]})]}),jsxRuntimeExports.jsxs("div",{className:"control-box-row",style:{display:"flex"},children:[jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.bonds,onChange:()=>this.handleOptionChange("bonds"),label:"Bonds"}),jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.packedCell,onChange:()=>this.handleOptionChange("packedCell"),label:"Packed cell"}),jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.atomLabels,onChange:()=>this.handleOptionChange("atomLabels"),label:"Atom labels"}),jsxRuntimeExports.jsx(Form$1.Check,{className:"option-checkbox",type:"checkbox",checked:this.props.viewerParams.spaceFilling,onChange:()=>this.handleOptionChange("vdwRadius"),label:"vdW radius"})]})]})}}var _3Dmol={exports:{}};/*!
 * 3dmol v2.1.0
 * JavaScript/TypeScript molecular visualization library
 * Author: David Koes and contributors
 */(function(module,exports){(function(a,e){module.exports=e()})(commonjsGlobal,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(a,e,o)=>{o.r(e),o.d(e,{IOBuffer:()=>$});var c=o("./node_modules/iobuffer/lib-esm/text.browser.js");const h=1024*8,g=(()=>{const j=new Uint8Array(4),rt=new Uint32Array(j.buffer);return!((rt[0]=1)&j[0])})(),b={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ${constructor(rt=h,nt={}){let ot=!1;typeof rt=="number"?rt=new ArrayBuffer(rt):(ot=!0,this.lastWrittenByte=rt.byteLength);const _t=nt.offset?nt.offset>>>0:0,Et=rt.byteLength-_t;let It=_t;(ArrayBuffer.isView(rt)||rt instanceof $)&&(rt.byteLength!==rt.buffer.byteLength&&(It=rt.byteOffset+_t),rt=rt.buffer),ot?this.lastWrittenByte=Et:this.lastWrittenByte=0,this.buffer=rt,this.length=Et,this.byteLength=Et,this.byteOffset=It,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,It,Et),this._mark=0,this._marks=[]}available(rt=1){return this.offset+rt<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(rt=1){return this.offset+=rt,this}back(rt=1){return this.offset-=rt,this}seek(rt){return this.offset=rt,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const rt=this._marks.pop();if(rt===void 0)throw new Error("Mark stack empty");return this.seek(rt),this}rewind(){return this.offset=0,this}ensureAvailable(rt=1){if(!this.available(rt)){const nt=(this.offset+rt)*2,ot=new Uint8Array(nt);ot.set(new Uint8Array(this.buffer)),this.buffer=ot.buffer,this.length=this.byteLength=nt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(rt=1){return this.readArray(rt,"uint8")}readArray(rt,nt){const ot=b[nt].BYTES_PER_ELEMENT*rt,_t=this.byteOffset+this.offset,Et=this.buffer.slice(_t,_t+ot);if(this.littleEndian===g&&nt!=="uint8"&&nt!=="int8"){const it=new Uint8Array(this.buffer.slice(_t,_t+ot));it.reverse();const st=new b[nt](it.buffer);return this.offset+=ot,st.reverse(),st}const It=new b[nt](Et);return this.offset+=ot,It}readInt16(){const rt=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,rt}readUint16(){const rt=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,rt}readInt32(){const rt=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,rt}readUint32(){const rt=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,rt}readFloat32(){const rt=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,rt}readFloat64(){const rt=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,rt}readBigInt64(){const rt=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,rt}readBigUint64(){const rt=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,rt}readChar(){return String.fromCharCode(this.readInt8())}readChars(rt=1){let nt="";for(let ot=0;ot<rt;ot++)nt+=this.readChar();return nt}readUtf8(rt=1){return(0,c.decode)(this.readBytes(rt))}decodeText(rt=1,nt="utf-8"){return(0,c.decode)(this.readBytes(rt),nt)}writeBoolean(rt){return this.writeUint8(rt?255:0),this}writeInt8(rt){return this.ensureAvailable(1),this._data.setInt8(this.offset++,rt),this._updateLastWrittenByte(),this}writeUint8(rt){return this.ensureAvailable(1),this._data.setUint8(this.offset++,rt),this._updateLastWrittenByte(),this}writeByte(rt){return this.writeUint8(rt)}writeBytes(rt){this.ensureAvailable(rt.length);for(let nt=0;nt<rt.length;nt++)this._data.setUint8(this.offset++,rt[nt]);return this._updateLastWrittenByte(),this}writeInt16(rt){return this.ensureAvailable(2),this._data.setInt16(this.offset,rt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(rt){return this.ensureAvailable(2),this._data.setUint16(this.offset,rt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(rt){return this.ensureAvailable(4),this._data.setInt32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(rt){return this.ensureAvailable(4),this._data.setUint32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(rt){return this.ensureAvailable(4),this._data.setFloat32(this.offset,rt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(rt){return this.ensureAvailable(8),this._data.setFloat64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(rt){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(rt){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,rt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(rt){return this.writeUint8(rt.charCodeAt(0))}writeChars(rt){for(let nt=0;nt<rt.length;nt++)this.writeUint8(rt.charCodeAt(nt));return this}writeUtf8(rt){return this.writeBytes((0,c.encode)(rt))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){(function(a){if(a.TextEncoder&&a.TextDecoder)return!1;function e(c="utf-8"){if(c!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${c}') is invalid.`)}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(c,h={stream:!1}){if(h.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let g=0;const b=c.length;let $=0,j=Math.max(32,b+(b>>1)+7),rt=new Uint8Array(j>>3<<3);for(;g<b;){let nt=c.charCodeAt(g++);if(nt>=55296&&nt<=56319){if(g<b){const ot=c.charCodeAt(g);(ot&64512)===56320&&(++g,nt=((nt&1023)<<10)+(ot&1023)+65536)}if(nt>=55296&&nt<=56319)continue}if($+4>rt.length){j+=8,j*=1+g/c.length*2,j=j>>3<<3;const ot=new Uint8Array(j);ot.set(rt),rt=ot}if(nt&4294967168)if(!(nt&4294965248))rt[$++]=nt>>6&31|192;else if(!(nt&4294901760))rt[$++]=nt>>12&15|224,rt[$++]=nt>>6&63|128;else if(!(nt&4292870144))rt[$++]=nt>>18&7|240,rt[$++]=nt>>12&63|128,rt[$++]=nt>>6&63|128;else continue;else{rt[$++]=nt;continue}rt[$++]=nt&63|128}return rt.slice(0,$)};function o(c="utf-8",h={fatal:!1}){if(c!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${c}') is invalid.`);if(h.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(o.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(o.prototype,"fatal",{value:!1}),Object.defineProperty(o.prototype,"ignoreBOM",{value:!1}),o.prototype.decode=function(c,h={stream:!1}){if(h.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const g=new Uint8Array(c);let b=0;const $=g.length,j=[];for(;b<$;){const rt=g[b++];if(rt===0)break;if(!(rt&128))j.push(rt);else if((rt&224)===192){const nt=g[b++]&63;j.push((rt&31)<<6|nt)}else if((rt&240)===224){const nt=g[b++]&63,ot=g[b++]&63;j.push((rt&31)<<12|nt<<6|ot)}else if((rt&248)===240){const nt=g[b++]&63,ot=g[b++]&63,_t=g[b++]&63;let Et=(rt&7)<<18|nt<<12|ot<<6|_t;Et>65535&&(Et-=65536,j.push(Et>>>10&1023|55296),Et=56320|Et&1023),j.push(Et)}}return String.fromCharCode.apply(null,j)},a.TextEncoder=e,a.TextDecoder=o})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(a,e,o)=>{o.r(e),o.d(e,{decode:()=>c,encode:()=>g}),o("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js");function c(b,$="utf8"){return new TextDecoder($).decode(b)}const h=new TextEncoder;function g(b){return h.encode(b)}},"./node_modules/netcdfjs/lib-esm/data.js":(a,e,o)=>{o.r(e),o.d(e,{nonRecord:()=>h,record:()=>g});var c=o("./node_modules/netcdfjs/lib-esm/types.js");function h(b,$){const j=(0,c.str2num)($.type),rt=$.size/(0,c.num2bytes)(j),nt=new Array(rt);for(let ot=0;ot<rt;ot++)nt[ot]=(0,c.readType)(b,j,1);return nt}function g(b,$,j){const rt=(0,c.str2num)($.type),nt=$.size?$.size/(0,c.num2bytes)(rt):1,ot=j.length,_t=new Array(ot),Et=j.recordStep;if(Et)for(let It=0;It<ot;It++){const it=b.offset;_t[It]=(0,c.readType)(b,rt,nt),b.seek(it+Et)}else throw new Error("recordDimension.recordStep is undefined");return _t}},"./node_modules/netcdfjs/lib-esm/header.js":(a,e,o)=>{o.r(e),o.d(e,{header:()=>nt});var c=o("./node_modules/netcdfjs/lib-esm/types.js"),h=o("./node_modules/netcdfjs/lib-esm/utils.js");const g=0,b=10,$=11,j=12,rt=0;function nt(It,it){const st={version:it},Mt={length:It.readUint32()},bt=ot(It);Array.isArray(bt)||(Mt.id=bt.recordId,Mt.name=bt.recordName,st.dimensions=bt.dimensions),st.globalAttributes=_t(It);const Lt=Et(It,Mt==null?void 0:Mt.id,it);return Array.isArray(Lt)||(st.variables=Lt.variables,Mt.recordStep=Lt.recordStep),st.recordDimension=Mt,st}function ot(It){const it={};let st,Mt;const bt=It.readUint32();let Lt;if(bt===g)return(0,h.notNetcdf)(It.readUint32()!==g,"wrong empty tag for list of dimensions"),[];{(0,h.notNetcdf)(bt!==b,"wrong tag for list of dimensions");const pt=It.readUint32();Lt=new Array(pt);for(let Dt=0;Dt<pt;Dt++){const wt=(0,h.readName)(It),Bt=It.readUint32();Bt===rt&&(st=Dt,Mt=wt),Lt[Dt]={name:wt,size:Bt}}}return st!==void 0&&(it.recordId=st),Mt!==void 0&&(it.recordName=Mt),it.dimensions=Lt,it}function _t(It){const it=It.readUint32();let st;if(it===g)return(0,h.notNetcdf)(It.readUint32()!==g,"wrong empty tag for list of attributes"),[];{(0,h.notNetcdf)(it!==j,"wrong tag for list of attributes");const Mt=It.readUint32();st=new Array(Mt);for(let bt=0;bt<Mt;bt++){const Lt=(0,h.readName)(It),pt=It.readUint32();(0,h.notNetcdf)(pt<1||pt>6,`non valid type ${pt}`);const Dt=It.readUint32(),wt=(0,c.readType)(It,pt,Dt);(0,h.padding)(It),st[bt]={name:Lt,type:(0,c.num2str)(pt),value:wt}}}return st}function Et(It,it,st){const Mt=It.readUint32();let bt=0,Lt;if(Mt===g)return(0,h.notNetcdf)(It.readUint32()!==g,"wrong empty tag for list of variables"),[];{(0,h.notNetcdf)(Mt!==$,"wrong tag for list of variables");const pt=It.readUint32();Lt=new Array(pt);for(let Dt=0;Dt<pt;Dt++){const wt=(0,h.readName)(It),Bt=It.readUint32(),jt=new Array(Bt);for(let xr=0;xr<Bt;xr++)jt[xr]=It.readUint32();const hr=_t(It),gr=It.readUint32();(0,h.notNetcdf)(gr<1&&gr>6,`non valid type ${gr}`);const Cr=It.readUint32();let wr=It.readUint32();st===2&&((0,h.notNetcdf)(wr>0,"offsets larger than 4GB not supported"),wr=It.readUint32());let yr=!1;typeof it<"u"&&jt[0]===it&&(bt+=Cr,yr=!0),Lt[Dt]={name:wt,dimensions:jt,attributes:hr,type:(0,c.num2str)(gr),size:Cr,offset:wr,record:yr}}}return{variables:Lt,recordStep:bt}}},"./node_modules/netcdfjs/lib-esm/index.js":(a,e,o)=>{o.r(e),o.d(e,{NetCDFReader:()=>c.NetCDFReader});var c=o("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(a,e,o)=>{o.r(e),o.d(e,{NetCDFReader:()=>j});var c=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=o("./node_modules/netcdfjs/lib-esm/data.js"),g=o("./node_modules/netcdfjs/lib-esm/header.js"),b=o("./node_modules/netcdfjs/lib-esm/toString.js"),$=o("./node_modules/netcdfjs/lib-esm/utils.js");class j{constructor(nt){this.toString=b.toString;const ot=new c.IOBuffer(nt);ot.setBigEndian(),(0,$.notNetcdf)(ot.readChars(3)!=="CDF","should start with CDF");const _t=ot.readByte();(0,$.notNetcdf)(_t>2,"unknown version"),this.header=(0,g.header)(ot,_t),this.buffer=ot}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(nt){const ot=this.globalAttributes.find(_t=>_t.name===nt);return ot?ot.value:null}getDataVariableAsString(nt){const ot=this.getDataVariable(nt);return ot?ot.join(""):null}get variables(){return this.header.variables}getDataVariable(nt){let ot;if(typeof nt=="string"?ot=this.header.variables.find(_t=>_t.name===nt):ot=nt,ot===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(ot.offset),ot.record?(0,h.record)(this.buffer,ot,this.header.recordDimension):(0,h.nonRecord)(this.buffer,ot)}dataVariableExists(nt){return this.header.variables.find(ot=>ot.name===nt)!==void 0}attributeExists(nt){return this.globalAttributes.find(ot=>ot.name===nt)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(a,e,o)=>{o.r(e),o.d(e,{toString:()=>c});function c(){const h=[];h.push("DIMENSIONS");for(const b of this.dimensions)h.push(`  ${b.name.padEnd(30)} = size: ${b.size}`);h.push(""),h.push("GLOBAL ATTRIBUTES");for(const b of this.globalAttributes)h.push(`  ${b.name.padEnd(30)} = ${b.value}`);const g=JSON.parse(JSON.stringify(this.variables));h.push(""),h.push("VARIABLES:");for(const b of g){b.value=this.getDataVariable(b);let $=JSON.stringify(b.value);$.length>50&&($=$.substring(0,50)),isNaN(b.value.length)||($+=` (length: ${b.value.length})`),h.push(`  ${b.name.padEnd(30)} = ${$}`)}return h.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(a,e,o)=>{o.r(e),o.d(e,{num2bytes:()=>g,num2str:()=>h,readType:()=>j,str2num:()=>b});const c={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function h(nt){switch(Number(nt)){case c.BYTE:return"byte";case c.CHAR:return"char";case c.SHORT:return"short";case c.INT:return"int";case c.FLOAT:return"float";case c.DOUBLE:return"double";default:return"undefined"}}function g(nt){switch(Number(nt)){case c.BYTE:return 1;case c.CHAR:return 1;case c.SHORT:return 2;case c.INT:return 4;case c.FLOAT:return 4;case c.DOUBLE:return 8;default:return-1}}function b(nt){switch(String(nt)){case"byte":return c.BYTE;case"char":return c.CHAR;case"short":return c.SHORT;case"int":return c.INT;case"float":return c.FLOAT;case"double":return c.DOUBLE;default:return-1}}function $(nt,ot){if(nt!==1){const _t=new Array(nt);for(let Et=0;Et<nt;Et++)_t[Et]=ot();return _t}else return ot()}function j(nt,ot,_t){switch(ot){case c.BYTE:return Array.from(nt.readBytes(_t));case c.CHAR:return rt(nt.readChars(_t));case c.SHORT:return $(_t,nt.readInt16.bind(nt));case c.INT:return $(_t,nt.readInt32.bind(nt));case c.FLOAT:return $(_t,nt.readFloat32.bind(nt));case c.DOUBLE:return $(_t,nt.readFloat64.bind(nt));default:throw new Error(`non valid type ${ot}`)}}function rt(nt){return nt.charCodeAt(nt.length-1)===0?nt.substring(0,nt.length-1):nt}},"./node_modules/netcdfjs/lib-esm/utils.js":(a,e,o)=>{o.r(e),o.d(e,{notNetcdf:()=>c,padding:()=>h,readName:()=>g});function c(b,$){if(b)throw new TypeError(`Not a valid NetCDF v3.x file: ${$}`)}function h(b){b.offset%4!==0&&b.skip(4-b.offset%4)}function g(b){const $=b.readUint32(),j=b.readChars($);return h(b),j}},"./src/WebGL/shaders/lib/basic/basic.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/instanced/instanced.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    gl_Position = projectionMatrix * mvPosition;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;

// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0

vec4 applyFXAA(vec2 fragCoord, sampler2D tex)
{
    vec4 color;
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, 1.0);
    else
        color = vec4(rgbB, 1.0);
    return color;
}
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    gl_FragColor = vec4(vLight*vColor, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);
    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+adjust;
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a < alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    gl_FragColor = vec4(light*color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    to.xyz += normalize(to.xyz)*outlinePushback;
    pt.xyz += normalize(pt.xyz)*outlinePushback;

    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag":(a,e,o)=>{o.r(e),o.d(e,{default:()=>c});const c=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/GLDraw.ts":(a,e,o)=>{o.r(e),o.d(e,{CAP:()=>h,GLDraw:()=>g});var c=o("./src/WebGL/math/index.ts"),h;(function(b){b[b.NONE=0]="NONE",b[b.FLAT=1]="FLAT",b[b.ROUND=2]="ROUND"})(h||(h={}));var g;(function(b){function $(it,st,Mt){var bt=Math.hypot(it,st),Lt,pt,Dt,wt,Bt;bt<1e-4?(pt=0,Dt=1):(pt=-it/bt,Dt=st/bt),st=-pt*it+Dt*st,Lt=Math.hypot(st,Mt),Lt<1e-4?(wt=0,Bt=1):(wt=Mt/Lt,Bt=st/Lt);var jt=new Float32Array(9);return jt[0]=Dt,jt[1]=pt,jt[2]=0,jt[3]=-pt*Bt,jt[4]=Dt*Bt,jt[5]=wt,jt[6]=pt*wt,jt[7]=-Dt*wt,jt[8]=Bt,jt}class j{constructor(){this.cache={};let st=[],Mt=4,bt=Math.pow(2,Mt),Lt=2,pt=Math.pow(2,Lt),Dt=bt/pt,wt;for(st[0]=new c.Vector3(-1,0,0),st[Dt]=new c.Vector3(0,0,1),st[Dt*2]=new c.Vector3(1,0,0),st[Dt*3]=new c.Vector3(0,0,-1),Lt=3;Lt<=Mt;Lt++){for(pt=Math.pow(2,Lt-1),Dt=bt/pt,wt=0;wt<pt-1;wt++)st[Dt/2+wt*Dt]=st[wt*Dt].clone().add(st[(wt+1)*Dt]).normalize();wt=pt-1,st[Dt/2+wt*Dt]=st[wt*Dt].clone().add(st[0]).normalize()}this.basisVectors=st}getVerticesForRadius(st,Mt,bt){if(typeof this.cache<"u"&&this.cache[st]!==void 0&&this.cache[st][Mt+bt]!==void 0)return this.cache[st][Mt+bt];for(var Lt=this.basisVectors.length,pt=[],Dt=[],wt,Bt=0;Bt<Lt;Bt++)pt.push(this.basisVectors[Bt].clone().multiplyScalar(st)),pt.push(this.basisVectors[Bt].clone().multiplyScalar(st)),wt=this.basisVectors[Bt].clone().normalize(),Dt.push(wt),Dt.push(wt);var jt=[],hr=10,gr=Lt,Cr=0,wr=Math.PI*2,yr=0,xr=Math.PI,In,rn,Sr=!1,Tr=!1;for(rn=0;rn<=hr;rn++){Sr=rn===0||rn===hr,Tr=rn===hr/2;var Ln=[],Fn=[];for(In=0;In<=gr;In++){if(Tr){var Or=In<gr?2*In:0;Fn.push(Or+1),Ln.push(Or);continue}var Nn=In/gr,eo=rn/hr;if(!Sr||In===0)if(In<gr){var uo=new c.Vector3;uo.x=-st*Math.cos(Cr+Nn*wr)*Math.sin(yr+eo*xr),Mt==1?uo.y=0:uo.y=st*Math.cos(yr+eo*xr),uo.z=st*Math.sin(Cr+Nn*wr)*Math.sin(yr+eo*xr),Math.abs(uo.x)<1e-5&&(uo.x=0),Math.abs(uo.y)<1e-5&&(uo.y=0),Math.abs(uo.z)<1e-5&&(uo.z=0),Mt==h.FLAT?(wt=new c.Vector3(0,Math.cos(yr+eo*xr),0),wt.normalize()):(wt=new c.Vector3(uo.x,uo.y,uo.z),wt.normalize()),pt.push(uo),Dt.push(wt),Ln.push(pt.length-1)}else Ln.push(pt.length-gr);else Sr&&Ln.push(pt.length-1)}Tr&&jt.push(Fn),jt.push(Ln)}var wo={vertices:pt,normals:Dt,verticesRows:jt,w:gr,h:hr};return st in this.cache||(this.cache[st]={}),this.cache[st][Mt+bt]=wo,wo}}var rt=new j;function nt(it,st,Mt,bt,Lt,pt=0,Dt=0){if(!st||!Mt)return;let wt=function(Es){if(typeof Es=="string"){let zs=Es;return zs.toLowerCase()=="flat"?h.FLAT:zs.toLowerCase()=="round"?h.ROUND:h.NONE}else return Es};pt=wt(pt),Dt=wt(Dt);var Bt=Dt||pt;Lt=Lt||{r:0,g:0,b:0};var jt=$(Mt.x-st.x,Mt.y-st.y,Mt.z-st.z),hr=rt.getVerticesForRadius(bt,Dt,"to"),gr=hr.w,Cr=hr.h,wr=Bt?Cr*gr+2:2*gr,yr=it.updateGeoGroup(wr),xr=hr.vertices,In=hr.normals,rn=hr.verticesRows,Sr=rn[Cr/2],Tr=rn[Cr/2+1],Ln=yr.vertices,Fn,Or,Nn,eo,uo,wo,bo=yr.vertexArray,es=yr.normalArray,rs=yr.colorArray,vo=yr.faceArray;for(Nn=0;Nn<gr;++Nn){var gs=2*Nn;eo=jt[0]*xr[gs].x+jt[3]*xr[gs].y+jt[6]*xr[gs].z,uo=jt[1]*xr[gs].x+jt[4]*xr[gs].y+jt[7]*xr[gs].z,wo=jt[5]*xr[gs].y+jt[8]*xr[gs].z,Fn=3*(Ln+gs),Or=yr.faceidx,bo[Fn]=eo+st.x,bo[Fn+1]=uo+st.y,bo[Fn+2]=wo+st.z,bo[Fn+3]=eo+Mt.x,bo[Fn+4]=uo+Mt.y,bo[Fn+5]=wo+Mt.z,es[Fn]=eo,es[Fn+3]=eo,es[Fn+1]=uo,es[Fn+4]=uo,es[Fn+2]=wo,es[Fn+5]=wo,rs[Fn]=Lt.r,rs[Fn+3]=Lt.r,rs[Fn+1]=Lt.g,rs[Fn+4]=Lt.g,rs[Fn+2]=Lt.b,rs[Fn+5]=Lt.b,vo[Or]=Tr[Nn]+Ln,vo[Or+1]=Tr[Nn+1]+Ln,vo[Or+2]=Sr[Nn]+Ln,vo[Or+3]=Sr[Nn]+Ln,vo[Or+4]=Tr[Nn+1]+Ln,vo[Or+5]=Sr[Nn+1]+Ln,yr.faceidx+=6}if(Bt){var cs=Dt?0:Cr/2,Gs=pt?Cr+1:Cr/2+1,$n,Kn,Bn,co,vs,Ts,Fs,Os,Ns,Ps,Ks,Bs,_l,Cl,Zn,Vn,qn,hs,us,xs,Rs,zn,ds,_s,ks,as,Ls,Un,As,yl,Er,ys;for(uo=cs;uo<Gs;uo++)if(uo!==Cr/2){var fs=uo<=Cr/2?Mt:st,Yn=rt.getVerticesForRadius(bt,Dt,"to"),is=rt.getVerticesForRadius(bt,pt,"from");for(fs===Mt?(xr=Yn.vertices,In=Yn.normals,rn=Yn.verticesRows):fs==st&&(xr=is.vertices,In=is.normals,rn=is.verticesRows),eo=0;eo<gr;eo++)Or=yr.faceidx,$n=rn[uo][eo+1],As=($n+Ln)*3,Kn=rn[uo][eo],yl=(Kn+Ln)*3,Bn=rn[uo+1][eo],Er=(Bn+Ln)*3,co=rn[uo+1][eo+1],ys=(co+Ln)*3,vs=jt[0]*xr[$n].x+jt[3]*xr[$n].y+jt[6]*xr[$n].z,Ts=jt[0]*xr[Kn].x+jt[3]*xr[Kn].y+jt[6]*xr[Kn].z,Fs=jt[0]*xr[Bn].x+jt[3]*xr[Bn].y+jt[6]*xr[Bn].z,Os=jt[0]*xr[co].x+jt[3]*xr[co].y+jt[6]*xr[co].z,Ns=jt[1]*xr[$n].x+jt[4]*xr[$n].y+jt[7]*xr[$n].z,Ps=jt[1]*xr[Kn].x+jt[4]*xr[Kn].y+jt[7]*xr[Kn].z,Ks=jt[1]*xr[Bn].x+jt[4]*xr[Bn].y+jt[7]*xr[Bn].z,Bs=jt[1]*xr[co].x+jt[4]*xr[co].y+jt[7]*xr[co].z,_l=jt[5]*xr[$n].y+jt[8]*xr[$n].z,Cl=jt[5]*xr[Kn].y+jt[8]*xr[Kn].z,Zn=jt[5]*xr[Bn].y+jt[8]*xr[Bn].z,Vn=jt[5]*xr[co].y+jt[8]*xr[co].z,bo[As]=vs+fs.x,bo[yl]=Ts+fs.x,bo[Er]=Fs+fs.x,bo[ys]=Os+fs.x,bo[As+1]=Ns+fs.y,bo[yl+1]=Ps+fs.y,bo[Er+1]=Ks+fs.y,bo[ys+1]=Bs+fs.y,bo[As+2]=_l+fs.z,bo[yl+2]=Cl+fs.z,bo[Er+2]=Zn+fs.z,bo[ys+2]=Vn+fs.z,rs[As]=Lt.r,rs[yl]=Lt.r,rs[Er]=Lt.r,rs[ys]=Lt.r,rs[As+1]=Lt.g,rs[yl+1]=Lt.g,rs[Er+1]=Lt.g,rs[ys+1]=Lt.g,rs[As+2]=Lt.b,rs[yl+2]=Lt.b,rs[Er+2]=Lt.b,rs[ys+2]=Lt.b,qn=jt[0]*In[$n].x+jt[3]*In[$n].y+jt[6]*In[$n].z,hs=jt[0]*In[Kn].x+jt[3]*In[Kn].y+jt[6]*In[Kn].z,us=jt[0]*In[Bn].x+jt[3]*In[Bn].y+jt[6]*In[Bn].z,xs=jt[0]*In[co].x+jt[3]*In[co].y+jt[6]*In[co].z,Rs=jt[1]*In[$n].x+jt[4]*In[$n].y+jt[7]*In[$n].z,zn=jt[1]*In[Kn].x+jt[4]*In[Kn].y+jt[7]*In[Kn].z,ds=jt[1]*In[Bn].x+jt[4]*In[Bn].y+jt[7]*In[Bn].z,_s=jt[1]*In[co].x+jt[4]*In[co].y+jt[7]*In[co].z,ks=jt[5]*In[$n].y+jt[8]*In[$n].z,as=jt[5]*In[Kn].y+jt[8]*In[Kn].z,Ls=jt[5]*In[Bn].y+jt[8]*In[Bn].z,Un=jt[5]*In[co].y+jt[8]*In[co].z,uo===0?(es[As]=qn,es[Er]=us,es[ys]=xs,es[As+1]=Rs,es[Er+1]=ds,es[ys+1]=_s,es[As+2]=ks,es[Er+2]=Ls,es[ys+2]=Un,vo[Or]=$n+Ln,vo[Or+1]=Bn+Ln,vo[Or+2]=co+Ln,yr.faceidx+=3):uo===Gs-1?(es[As]=qn,es[yl]=hs,es[Er]=us,es[As+1]=Rs,es[yl+1]=zn,es[Er+1]=ds,es[As+2]=ks,es[yl+2]=as,es[Er+2]=Ls,vo[Or]=$n+Ln,vo[Or+1]=Kn+Ln,vo[Or+2]=Bn+Ln,yr.faceidx+=3):(es[As]=qn,es[yl]=hs,es[ys]=xs,es[As+1]=Rs,es[yl+1]=zn,es[ys+1]=_s,es[As+2]=ks,es[yl+2]=as,es[ys+2]=Un,es[yl]=hs,es[Er]=us,es[ys]=xs,es[yl+1]=zn,es[Er+1]=ds,es[ys+1]=_s,es[yl+2]=as,es[Er+2]=Ls,es[ys+2]=Un,vo[Or]=$n+Ln,vo[Or+1]=Kn+Ln,vo[Or+2]=co+Ln,vo[Or+3]=Kn+Ln,vo[Or+4]=Bn+Ln,vo[Or+5]=co+Ln,yr.faceidx+=6)}}yr.vertices+=wr}b.drawCylinder=nt;function ot(it,st,Mt,bt,Lt){if(!st||!Mt)return;Lt=Lt||{r:0,g:0,b:0};let pt=new c.Vector3(Mt.x-st.x,Mt.y-st.y,Mt.z-st.z);var Dt=$(pt.x,pt.y,pt.z);pt=pt.normalize();var wt=rt.basisVectors.length,Bt=rt.basisVectors,jt=wt+2,hr=it.updateGeoGroup(jt),gr=hr.vertices,Cr,wr,yr,xr,In,rn,Sr=hr.vertexArray,Tr=hr.normalArray,Ln=hr.colorArray,Fn=hr.faceArray;for(Cr=gr*3,Sr[Cr]=st.x,Sr[Cr+1]=st.y,Sr[Cr+2]=st.z,Tr[Cr]=-pt.x,Tr[Cr+1]=-pt.y,Tr[Cr+2]=-pt.z,Ln[Cr]=Lt.r,Ln[Cr+1]=Lt.g,Ln[Cr+2]=Lt.b,Sr[Cr+3]=Mt.x,Sr[Cr+4]=Mt.y,Sr[Cr+5]=Mt.z,Tr[Cr+3]=pt.x,Tr[Cr+4]=pt.y,Tr[Cr+5]=pt.z,Ln[Cr+3]=Lt.r,Ln[Cr+4]=Lt.g,Ln[Cr+5]=Lt.b,Cr+=6,yr=0;yr<wt;++yr){var Or=Bt[yr].clone();Or.multiplyScalar(bt),xr=Dt[0]*Or.x+Dt[3]*Or.y+Dt[6]*Or.z,In=Dt[1]*Or.x+Dt[4]*Or.y+Dt[7]*Or.z,rn=Dt[5]*Or.y+Dt[8]*Or.z,Sr[Cr]=xr+st.x,Sr[Cr+1]=In+st.y,Sr[Cr+2]=rn+st.z,Tr[Cr]=xr,Tr[Cr+1]=In,Tr[Cr+2]=rn,Ln[Cr]=Lt.r,Ln[Cr+1]=Lt.g,Ln[Cr+2]=Lt.b,Cr+=3}for(hr.vertices+=wt+2,wr=hr.faceidx,yr=0;yr<wt;yr++){var Nn=gr+2+yr,eo=gr+2+(yr+1)%wt;Fn[wr]=Nn,Fn[wr+1]=eo,Fn[wr+2]=gr,wr+=3,Fn[wr]=Nn,Fn[wr+1]=eo,Fn[wr+2]=gr+1,wr+=3}hr.faceidx+=6*wt}b.drawCone=ot;class _t{constructor(){this.cache=new Map}getVerticesForRadius(st,Mt){Mt=Mt||2,this.cache.has(Mt)||this.cache.set(Mt,new Map);let bt=this.cache.get(Mt);if(bt.has(st))return bt.get(st);var Lt={vertices:[],verticesRows:[],normals:[]},pt=16*Mt,Dt=10*Mt;st<1&&(pt=10*Mt,Dt=8*Mt);var wt=0,Bt=Math.PI*2,jt=0,hr=Math.PI,gr,Cr;for(Cr=0;Cr<=Dt;Cr++){let yr=[];for(gr=0;gr<=pt;gr++){let xr=gr/pt,In=Cr/Dt,rn=-st*Math.cos(wt+xr*Bt)*Math.sin(jt+In*hr),Sr=st*Math.cos(jt+In*hr),Tr=st*Math.sin(wt+xr*Bt)*Math.sin(jt+In*hr);var wr=new c.Vector3(rn,Sr,Tr);wr.normalize(),Lt.vertices.push({x:rn,y:Sr,z:Tr}),Lt.normals.push(wr),yr.push(Lt.vertices.length-1)}Lt.verticesRows.push(yr)}return bt.set(st,Lt),Lt}}var Et=new _t;function It(it,st,Mt,bt,Lt){var pt=Et.getVerticesForRadius(Mt,Lt),Dt=pt.vertices,wt=pt.normals,Bt=it.updateGeoGroup(Dt.length),jt=Bt.vertices,hr=Bt.vertexArray,gr=Bt.colorArray,Cr=Bt.faceArray,wr=Bt.lineArray,yr=Bt.normalArray;for(let rn=0,Sr=Dt.length;rn<Sr;++rn){let Tr=3*(jt+rn),Ln=Dt[rn];hr[Tr]=Ln.x+st.x,hr[Tr+1]=Ln.y+st.y,hr[Tr+2]=Ln.z+st.z,gr[Tr]=bt.r,gr[Tr+1]=bt.g,gr[Tr+2]=bt.b}Bt.vertices+=Dt.length;let xr=pt.verticesRows,In=xr.length-1;for(let rn=0;rn<In;rn++){let Sr=xr[rn].length-1;for(let Tr=0;Tr<Sr;Tr++){let Ln=Bt.faceidx,Fn=Bt.lineidx,Or=xr[rn][Tr+1]+jt,Nn=Or*3,eo=xr[rn][Tr]+jt,uo=eo*3,wo=xr[rn+1][Tr]+jt,bo=wo*3,es=xr[rn+1][Tr+1]+jt,rs=es*3,vo=wt[Or-jt],gs=wt[eo-jt],cs=wt[wo-jt],Gs=wt[es-jt];Math.abs(Dt[Or-jt].y)===Mt?(yr[Nn]=vo.x,yr[bo]=cs.x,yr[rs]=Gs.x,yr[Nn+1]=vo.y,yr[bo+1]=cs.y,yr[rs+1]=Gs.y,yr[Nn+2]=vo.z,yr[bo+2]=cs.z,yr[rs+2]=Gs.z,Cr[Ln]=Or,Cr[Ln+1]=wo,Cr[Ln+2]=es,wr[Fn]=Or,wr[Fn+1]=wo,wr[Fn+2]=Or,wr[Fn+3]=es,wr[Fn+4]=wo,wr[Fn+5]=es,Bt.faceidx+=3,Bt.lineidx+=6):Math.abs(Dt[wo-jt].y)===Mt?(yr[Nn]=vo.x,yr[uo]=gs.x,yr[bo]=cs.x,yr[Nn+1]=vo.y,yr[uo+1]=gs.y,yr[bo+1]=cs.y,yr[Nn+2]=vo.z,yr[uo+2]=gs.z,yr[bo+2]=cs.z,Cr[Ln]=Or,Cr[Ln+1]=eo,Cr[Ln+2]=wo,wr[Fn]=Or,wr[Fn+1]=eo,wr[Fn+2]=Or,wr[Fn+3]=wo,wr[Fn+4]=eo,wr[Fn+5]=wo,Bt.faceidx+=3,Bt.lineidx+=6):(yr[Nn]=vo.x,yr[uo]=gs.x,yr[rs]=Gs.x,yr[Nn+1]=vo.y,yr[uo+1]=gs.y,yr[rs+1]=Gs.y,yr[Nn+2]=vo.z,yr[uo+2]=gs.z,yr[rs+2]=Gs.z,yr[uo]=gs.x,yr[bo]=cs.x,yr[rs]=Gs.x,yr[uo+1]=gs.y,yr[bo+1]=cs.y,yr[rs+1]=Gs.y,yr[uo+2]=gs.z,yr[bo+2]=cs.z,yr[rs+2]=Gs.z,Cr[Ln]=Or,Cr[Ln+1]=eo,Cr[Ln+2]=es,Cr[Ln+3]=eo,Cr[Ln+4]=wo,Cr[Ln+5]=es,wr[Fn]=Or,wr[Fn+1]=eo,wr[Fn+2]=Or,wr[Fn+3]=es,wr[Fn+4]=eo,wr[Fn+5]=wo,wr[Fn+6]=wo,wr[Fn+7]=es,Bt.faceidx+=6,Bt.lineidx+=8)}}}b.drawSphere=It})(g||(g={}))},"./src/GLModel.ts":(a,e,o)=>{o.r(e),o.d(e,{GLModel:()=>st});var c=o("./src/WebGL/index.ts"),h=o("./src/WebGL/shapes/index.ts"),g=o("./src/WebGL/math/index.ts"),b=o("./src/colors.ts"),$=o("./src/GLDraw.ts"),j=o("./src/glcartoon.ts"),rt=o("./src/utilities.ts"),nt=o("./src/Gradient.ts"),ot=o("./src/parsers/index.ts"),_t=o("./node_modules/netcdfjs/lib-esm/index.js"),Et=o("./node_modules/pako/dist/pako.esm.mjs"),It=o("./src/parsers/utils/assignBonds.ts");function it(Mt){let bt;return typeof Mt=="string"?bt=new TextEncoder().encode(Mt):bt=new Uint8Array(Mt),(0,Et.inflate)(bt,{to:"string"})}class st{static sameObj(bt,Lt){return bt&&Lt?JSON.stringify(bt)==JSON.stringify(Lt):bt==Lt}constructor(bt,Lt){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new g.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=b.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=Lt||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:b.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=bt}getRadiusFromStyle(bt,Lt){var pt=this.defaultSphereRadius;if(typeof Lt.radius<"u")pt=Lt.radius;else if(st.vdwRadii[bt.elem])pt=st.vdwRadii[bt.elem];else if(bt.elem.length>1){let Dt=bt.elem;Dt=Dt[0].toUpperCase()+Dt[1].toLowerCase(),st.vdwRadii[Dt]&&(pt=st.vdwRadii[Dt])}return typeof Lt.scale<"u"&&(pt*=Lt.scale),pt}drawAtomCross(bt,Lt){if(bt.style.cross){var pt=bt.style.cross;if(!pt.hidden){var Dt=pt.linewidth||st.defaultlineWidth;Lt[Dt]||(Lt[Dt]=new c.Geometry);var wt=Lt[Dt].updateGeoGroup(6),Bt=this.getRadiusFromStyle(bt,pt),jt=[[Bt,0,0],[-Bt,0,0],[0,Bt,0],[0,-Bt,0],[0,0,Bt],[0,0,-Bt]],hr=bt.clickable||bt.hoverable;hr&&bt.intersectionShape===void 0&&(bt.intersectionShape={sphere:[],cylinder:[],line:[]});for(var gr=(0,rt.getColorFromStyle)(bt,pt),Cr=wt.vertexArray,wr=wt.colorArray,yr=0;yr<6;yr++){var xr=wt.vertices*3;if(wt.vertices++,Cr[xr]=bt.x+jt[yr][0],Cr[xr+1]=bt.y+jt[yr][1],Cr[xr+2]=bt.z+jt[yr][2],wr[xr]=gr.r,wr[xr+1]=gr.g,wr[xr+2]=gr.b,hr){var In=new g.Vector3(jt[yr][0],jt[yr][1],jt[yr][2]);In.multiplyScalar(.1),In.set(In.x+bt.x,In.y+bt.y,In.z+bt.z),bt.intersectionShape.line.push(In)}}}}}getGoodCross(bt,Lt,pt,Dt){for(var wt=null,Bt=-1,jt=0,hr=bt.bonds.length;jt<hr;jt++)if(bt.bonds[jt]!=Lt.index){let Cr=bt.bonds[jt],wr=this.atoms[Cr],yr=new g.Vector3(wr.x,wr.y,wr.z).clone();yr.sub(pt);let xr=yr.clone();xr.cross(Dt);var gr=xr.lengthSq();if(gr>Bt&&(Bt=gr,wt=xr,Bt>.1))return wt}return wt}getSideBondV(bt,Lt,pt){var Dt,wt,Bt,jt,hr,gr=new g.Vector3(bt.x,bt.y,bt.z),Cr=new g.Vector3(Lt.x,Lt.y,Lt.z),wr=Cr.clone(),yr=null;if(wr.sub(gr),bt.bonds.length===1)Lt.bonds.length===1?(yr=wr.clone(),Math.abs(yr.x)>1e-4?yr.y+=1:yr.x+=1):(Dt=(pt+1)%Lt.bonds.length,wt=Lt.bonds[Dt],Bt=this.atoms[wt],Bt.index==bt.index&&(Dt=(Dt+1)%Lt.bonds.length,wt=Lt.bonds[Dt],Bt=this.atoms[wt]),jt=new g.Vector3(Bt.x,Bt.y,Bt.z),hr=jt.clone(),hr.sub(gr),yr=hr.clone(),yr.cross(wr));else if(yr=this.getGoodCross(bt,Lt,gr,wr),yr.lengthSq()<.01){var xr=this.getGoodCross(Lt,bt,gr,wr);xr!=null&&(yr=xr)}return yr.lengthSq()<.01&&(yr=wr.clone(),Math.abs(yr.x)>1e-4?yr.y+=1:yr.x+=1),yr.cross(wr),yr.normalize(),yr}addLine(bt,Lt,pt,Dt,wt,Bt){bt[pt]=Dt.x,bt[pt+1]=Dt.y,bt[pt+2]=Dt.z,Lt[pt]=Bt.r,Lt[pt+1]=Bt.g,Lt[pt+2]=Bt.b,bt[pt+3]=wt.x,bt[pt+4]=wt.y,bt[pt+5]=wt.z,Lt[pt+3]=Bt.r,Lt[pt+4]=Bt.g,Lt[pt+5]=Bt.b}drawBondLines(bt,Lt,pt){if(bt.style.line){var Dt=bt.style.line;if(!Dt.hidden){var wt,Bt,jt,hr,gr=Dt.linewidth||st.defaultlineWidth;pt[gr]||(pt[gr]=new c.Geometry);for(var Cr=pt[gr].updateGeoGroup(6*bt.bonds.length),wr=Cr.vertexArray,yr=Cr.colorArray,xr=0;xr<bt.bonds.length;xr++){var In=bt.bonds[xr],rn=Lt[In];if(rn.style.line&&!(bt.index>=rn.index)){var Sr=new g.Vector3(bt.x,bt.y,bt.z),Tr=new g.Vector3(rn.x,rn.y,rn.z),Ln=Sr.clone().add(Tr).multiplyScalar(.5),Fn=!1,Or=bt.clickable||bt.hoverable,Nn=rn.clickable||rn.hoverable;(Or||Nn)&&(Or&&(bt.intersectionShape===void 0&&(bt.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),bt.intersectionShape.line.push(Sr),bt.intersectionShape.line.push(Ln)),Nn&&(rn.intersectionShape===void 0&&(rn.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),rn.intersectionShape.line.push(Ln),rn.intersectionShape.line.push(Tr)));var eo=(0,rt.getColorFromStyle)(bt,bt.style.line),uo=(0,rt.getColorFromStyle)(rn,rn.style.line);if(bt.bondStyles&&bt.bondStyles[xr]){var wo=bt.bondStyles[xr];if(!wo.iswire)continue;wo.singleBond&&(Fn=!0),typeof wo.color1<"u"&&(eo=b.CC.color(wo.color1)),typeof wo.color2<"u"&&(uo=b.CC.color(wo.color2))}var bo=Cr.vertices*3,es,rs;if(bt.bondOrder[xr]>1&&bt.bondOrder[xr]<4&&!Fn){var vo=this.getSideBondV(bt,rn,xr),gs=Tr.clone();gs.sub(Sr),bt.bondOrder[xr]==2?(vo.multiplyScalar(.1),wt=Sr.clone(),wt.add(vo),Bt=Sr.clone(),Bt.sub(vo),jt=wt.clone(),jt.add(gs),hr=Bt.clone(),hr.add(gs),eo==uo?(Cr.vertices+=4,this.addLine(wr,yr,bo,wt,jt,eo),this.addLine(wr,yr,bo+6,Bt,hr,eo)):(Cr.vertices+=8,gs.multiplyScalar(.5),es=wt.clone(),es.add(gs),rs=Bt.clone(),rs.add(gs),this.addLine(wr,yr,bo,wt,es,eo),this.addLine(wr,yr,bo+6,es,jt,uo),this.addLine(wr,yr,bo+12,Bt,rs,eo),this.addLine(wr,yr,bo+18,rs,hr,uo))):bt.bondOrder[xr]==3&&(vo.multiplyScalar(.1),wt=Sr.clone(),wt.add(vo),Bt=Sr.clone(),Bt.sub(vo),jt=wt.clone(),jt.add(gs),hr=Bt.clone(),hr.add(gs),eo==uo?(Cr.vertices+=6,this.addLine(wr,yr,bo,Sr,Tr,eo),this.addLine(wr,yr,bo+6,wt,jt,eo),this.addLine(wr,yr,bo+12,Bt,hr,eo)):(Cr.vertices+=12,gs.multiplyScalar(.5),es=wt.clone(),es.add(gs),rs=Bt.clone(),rs.add(gs),this.addLine(wr,yr,bo,Sr,Ln,eo),this.addLine(wr,yr,bo+6,Ln,Tr,uo),this.addLine(wr,yr,bo+12,wt,es,eo),this.addLine(wr,yr,bo+18,es,jt,uo),this.addLine(wr,yr,bo+24,Bt,rs,eo),this.addLine(wr,yr,bo+30,rs,hr,uo)))}else eo==uo?(Cr.vertices+=2,this.addLine(wr,yr,bo,Sr,Tr,eo)):(Cr.vertices+=4,this.addLine(wr,yr,bo,Sr,Ln,eo),this.addLine(wr,yr,bo+6,Ln,Tr,uo))}}}}}drawAtomSphere(bt,Lt){if(bt.style.sphere){var pt=bt.style.sphere;if(!pt.hidden){var Dt=(0,rt.getColorFromStyle)(bt,pt),wt=this.getRadiusFromStyle(bt,pt);if((bt.clickable===!0||bt.hoverable)&&bt.intersectionShape!==void 0){var Bt=new g.Vector3(bt.x,bt.y,bt.z);bt.intersectionShape.sphere.push(new h.Sphere(Bt,wt))}$.GLDraw.drawSphere(Lt,bt,wt,Dt)}}}drawAtomClickSphere(bt){if(bt.style.clicksphere){var Lt=bt.style.clicksphere;if(!Lt.hidden){var pt=this.getRadiusFromStyle(bt,Lt);if((bt.clickable===!0||bt.hoverable)&&bt.intersectionShape!==void 0){var Dt=new g.Vector3(bt.x,bt.y,bt.z);bt.intersectionShape.sphere.push(new h.Sphere(Dt,pt))}}}}drawAtomInstanced(bt,Lt){if(bt.style.sphere){var pt=bt.style.sphere;if(!pt.hidden){var Dt=this.getRadiusFromStyle(bt,pt),wt=(0,rt.getColorFromStyle)(bt,pt),Bt=Lt.updateGeoGroup(1),jt=Bt.vertices,hr=jt*3,gr=Bt.vertexArray,Cr=Bt.colorArray,wr=Bt.radiusArray;if(gr[hr]=bt.x,gr[hr+1]=bt.y,gr[hr+2]=bt.z,Cr[hr]=wt.r,Cr[hr+1]=wt.g,Cr[hr+2]=wt.b,wr[jt]=Dt,(bt.clickable===!0||bt.hoverable)&&bt.intersectionShape!==void 0){var yr=new g.Vector3(bt.x,bt.y,bt.z);bt.intersectionShape.sphere.push(new h.Sphere(yr,Dt))}Bt.vertices+=1}}}drawSphereImposter(bt,Lt,pt,Dt){var wt=bt.updateGeoGroup(4),Bt,jt=wt.vertices,hr=jt*3,gr=wt.vertexArray,Cr=wt.colorArray;for(Bt=0;Bt<4;Bt++)gr[hr+3*Bt]=Lt.x,gr[hr+3*Bt+1]=Lt.y,gr[hr+3*Bt+2]=Lt.z;var wr=wt.normalArray;for(Bt=0;Bt<4;Bt++)Cr[hr+3*Bt]=Dt.r,Cr[hr+3*Bt+1]=Dt.g,Cr[hr+3*Bt+2]=Dt.b;wr[hr+0]=-pt,wr[hr+1]=pt,wr[hr+2]=0,wr[hr+3]=-pt,wr[hr+4]=-pt,wr[hr+5]=0,wr[hr+6]=pt,wr[hr+7]=-pt,wr[hr+8]=0,wr[hr+9]=pt,wr[hr+10]=pt,wr[hr+11]=0,wt.vertices+=4;var yr=wt.faceArray,xr=wt.faceidx;yr[xr+0]=jt,yr[xr+1]=jt+1,yr[xr+2]=jt+2,yr[xr+3]=jt+2,yr[xr+4]=jt+3,yr[xr+5]=jt,wt.faceidx+=6}drawAtomImposter(bt,Lt){if(bt.style.sphere){var pt=bt.style.sphere;if(!pt.hidden){var Dt=this.getRadiusFromStyle(bt,pt),wt=(0,rt.getColorFromStyle)(bt,pt);if((bt.clickable===!0||bt.hoverable)&&bt.intersectionShape!==void 0){var Bt=new g.Vector3(bt.x,bt.y,bt.z);bt.intersectionShape.sphere.push(new h.Sphere(Bt,Dt))}this.drawSphereImposter(Lt,bt,Dt,wt)}}}calculateDashes(bt,Lt,pt,Dt,wt){var Bt=Math.sqrt(Math.pow(bt.x-Lt.x,2)+Math.pow(bt.y-Lt.y,2)+Math.pow(bt.z-Lt.z,2));pt=Math.max(pt,0),wt=Math.max(wt,0)+2*pt,Dt=Math.max(Dt,.001),Dt+wt>Bt&&(Dt=Bt,wt=0);var jt=Math.floor((Bt-Dt)/(Dt+wt))+1,hr=jt*Dt;wt=(Bt-hr)/jt;for(var gr,Cr=new g.Vector3(bt.x,bt.y,bt.z),wr=new g.Vector3((Lt.x-bt.x)/(Bt/wt),(Lt.y-bt.y)/(Bt/wt),(Lt.z-bt.z)/(Bt/wt)),yr=new g.Vector3((Lt.x-bt.x)/(Bt/Dt),(Lt.y-bt.y)/(Bt/Dt),(Lt.z-bt.z)/(Bt/Dt)),xr=[],In=0;In<jt;In++)gr=new g.Vector3(Cr.x+yr.x,Cr.y+yr.y,Cr.z+yr.z),xr.push({from:Cr,to:gr}),Cr=new g.Vector3(gr.x+wr.x,gr.y+wr.y,gr.z+wr.z);return xr}static drawStickImposter(bt,Lt,pt,Dt,wt,Bt=0,jt=0){for(var hr=bt.updateGeoGroup(4),gr=hr.vertices,Cr=gr*3,wr=hr.vertexArray,yr=hr.colorArray,xr=hr.radiusArray,In=hr.normalArray,rn=wt.r,Sr=wt.g,Tr=wt.b,Ln=function(uo){var wo=-uo;return wo==0&&(wo=-1e-4),wo},Fn=Cr,Or=0;Or<4;Or++)wr[Fn]=Lt.x,In[Fn]=pt.x,yr[Fn]=rn,Fn++,wr[Fn]=Lt.y,In[Fn]=pt.y,yr[Fn]=Sr,Fn++,wr[Fn]=Lt.z,In[Fn]=pt.z,Or<2?yr[Fn]=Tr:yr[Fn]=Ln(Tr),Fn++;hr.vertices+=4,xr[gr]=-Dt,xr[gr+1]=Dt,xr[gr+2]=-Dt,xr[gr+3]=Dt;var Nn=hr.faceArray,eo=hr.faceidx;Nn[eo+0]=gr,Nn[eo+1]=gr+1,Nn[eo+2]=gr+2,Nn[eo+3]=gr+2,Nn[eo+4]=gr+3,Nn[eo+5]=gr,hr.faceidx+=6}drawBondSticks(bt,Lt,pt){var Dt,wt;if(bt.style.stick){var Bt=bt.style.stick;if(!Bt.hidden){var jt=Bt.radius||this.defaultStickRadius,hr=Bt.doubleBondScaling||.4,gr=Bt.tripleBondScaling||.25,Cr=((Dt=Bt.dashedBondConfig)===null||Dt===void 0?void 0:Dt.dashLength)||.1,wr=((wt=Bt.dashedBondConfig)===null||wt===void 0?void 0:wt.gapLength)||.25,yr=jt,xr=Bt.singleBonds||!1,In=Bt.dashedBonds||!1,rn=0,Sr=0,Tr,Ln,Fn,Or,Nn,eo,uo,wo,bo,es,rs,vo=(0,rt.getColorFromStyle)(bt,Bt),gs,cs,Gs;!bt.capDrawn&&bt.bonds.length<4&&(rn=2);var $n=ks=>{var as=pt.imposter?st.drawStickImposter:$.GLDraw.drawCylinder;return!In&&ks>=1?as:(Ls,Un,As,yl,Er,ys=0,fs=0,Yn=.1,is=.25)=>{var Es=this.calculateDashes(Un,As,yl,Yn,is);Es.forEach(zs=>{as(Ls,zs.from,zs.to,yl,Er,ys,fs)})}};for(Fn=0;Fn<bt.bonds.length;Fn++){var Kn=$n(bt.bondOrder[Fn]),Bn=bt.bonds[Fn],co=Lt[Bn];if(gs=cs=Gs=null,bt.index<co.index){var vs=co.style;if(!vs.stick||vs.stick.hidden)continue;var Ts=(0,rt.getColorFromStyle)(co,vs.stick);if(yr=jt,Or=xr,bt.bondStyles&&bt.bondStyles[Fn]){if(Nn=bt.bondStyles[Fn],Nn.iswire)continue;Nn.radius&&(yr=Nn.radius),Nn.singleBond&&(Or=!0),typeof Nn.color1<"u"&&(vo=b.CC.color(Nn.color1)),typeof Nn.color2<"u"&&(Ts=b.CC.color(Nn.color2))}var Fs=new g.Vector3(bt.x,bt.y,bt.z),Os=new g.Vector3(co.x,co.y,co.z);if(bt.bondOrder[Fn]<=1||Or||bt.bondOrder[Fn]>3){if(bt.bondOrder[Fn]<1&&(yr*=bt.bondOrder[Fn]),!co.capDrawn&&co.bonds.length<4&&(Sr=2),vo!=Ts?(gs=new g.Vector3().addVectors(Fs,Os).multiplyScalar(.5),Kn(pt,Fs,gs,yr,vo,rn,0,Cr,wr),Kn(pt,gs,Os,yr,Ts,0,Sr,Cr,wr)):Kn(pt,Fs,Os,yr,vo,rn,Sr,Cr,wr),Tr=bt.clickable||bt.hoverable,Ln=co.clickable||co.hoverable,Tr||Ln){if(gs||(gs=new g.Vector3().addVectors(Fs,Os).multiplyScalar(.5)),Tr){var Ns=new h.Cylinder(Fs,gs,yr),Ps=new h.Sphere(Fs,yr);bt.intersectionShape.cylinder.push(Ns),bt.intersectionShape.sphere.push(Ps)}if(Ln){var Ks=new h.Cylinder(Os,gs,yr),Bs=new h.Sphere(Os,yr);co.intersectionShape.cylinder.push(Ks),co.intersectionShape.sphere.push(Bs)}}}else if(bt.bondOrder[Fn]>1){var _l=0,Cl=0;yr!=jt&&(_l=2,Cl=2);var Zn=Os.clone(),Vn=null;Zn.sub(Fs);var qn,hs,us,xs,Rs;Vn=this.getSideBondV(bt,co,Fn),bt.bondOrder[Fn]==2?(qn=yr*hr,Vn.multiplyScalar(qn*1.5),hs=Fs.clone(),hs.add(Vn),us=Fs.clone(),us.sub(Vn),xs=hs.clone(),xs.add(Zn),Rs=us.clone(),Rs.add(Zn),vo!=Ts?(gs=new g.Vector3().addVectors(hs,xs).multiplyScalar(.5),cs=new g.Vector3().addVectors(us,Rs).multiplyScalar(.5),Kn(pt,hs,gs,qn,vo,_l,0),Kn(pt,gs,xs,qn,Ts,0,Cl),Kn(pt,us,cs,qn,vo,_l,0),Kn(pt,cs,Rs,qn,Ts,0,Cl)):(Kn(pt,hs,xs,qn,vo,_l,Cl),Kn(pt,us,Rs,qn,vo,_l,Cl)),Tr=bt.clickable||bt.hoverable,Ln=co.clickable||co.hoverable,(Tr||Ln)&&(gs||(gs=new g.Vector3().addVectors(hs,xs).multiplyScalar(.5)),cs||(cs=new g.Vector3().addVectors(us,Rs).multiplyScalar(.5)),Tr&&(eo=new h.Cylinder(hs,gs,qn),uo=new h.Cylinder(us,cs,qn),bt.intersectionShape.cylinder.push(eo),bt.intersectionShape.cylinder.push(uo)),Ln&&(bo=new h.Cylinder(xs,gs,qn),es=new h.Cylinder(Rs,cs,qn),co.intersectionShape.cylinder.push(bo),co.intersectionShape.cylinder.push(es)))):bt.bondOrder[Fn]==3&&(qn=yr*gr,Vn.cross(Zn),Vn.normalize(),Vn.multiplyScalar(qn*3),hs=Fs.clone(),hs.add(Vn),us=Fs.clone(),us.sub(Vn),xs=hs.clone(),xs.add(Zn),Rs=us.clone(),Rs.add(Zn),vo!=Ts?(gs=new g.Vector3().addVectors(hs,xs).multiplyScalar(.5),cs=new g.Vector3().addVectors(us,Rs).multiplyScalar(.5),Gs=new g.Vector3().addVectors(Fs,Os).multiplyScalar(.5),Kn(pt,hs,gs,qn,vo,_l,0),Kn(pt,gs,xs,qn,Ts,0,Cl),Kn(pt,Fs,Gs,qn,vo,rn,0),Kn(pt,Gs,Os,qn,Ts,0,Sr),Kn(pt,us,cs,qn,vo,_l,0),Kn(pt,cs,Rs,qn,Ts,0,Cl)):(Kn(pt,hs,xs,qn,vo,_l,Cl),Kn(pt,Fs,Os,qn,vo,rn,Sr),Kn(pt,us,Rs,qn,vo,_l,Cl)),Tr=bt.clickable||bt.hoverable,Ln=co.clickable||co.hoverable,(Tr||Ln)&&(gs||(gs=new g.Vector3().addVectors(hs,xs).multiplyScalar(.5)),cs||(cs=new g.Vector3().addVectors(us,Rs).multiplyScalar(.5)),Gs||(Gs=new g.Vector3().addVectors(Fs,Os).multiplyScalar(.5)),Tr&&(eo=new h.Cylinder(hs.clone(),gs.clone(),qn),uo=new h.Cylinder(us.clone(),cs.clone(),qn),wo=new h.Cylinder(Fs.clone(),Gs.clone(),qn),bt.intersectionShape.cylinder.push(eo),bt.intersectionShape.cylinder.push(uo),bt.intersectionShape.cylinder.push(wo)),Ln&&(bo=new h.Cylinder(xs.clone(),gs.clone(),qn),es=new h.Cylinder(Rs.clone(),cs.clone(),qn),rs=new h.Cylinder(Os.clone(),Gs.clone(),qn),co.intersectionShape.cylinder.push(bo),co.intersectionShape.cylinder.push(es),co.intersectionShape.cylinder.push(rs))))}}}var zn=!1,ds=0,_s=!1;for(Fn=0;Fn<bt.bonds.length;Fn++)Or=xr,bt.bondStyles&&bt.bondStyles[Fn]&&(Nn=bt.bondStyles[Fn],Nn.singleBond&&(Or=!0),Nn.radius&&Nn.radius!=jt&&(_s=!0)),(Or||bt.bondOrder[Fn]==1)&&ds++;_s?ds>0&&(zn=!0):ds==0&&(bt.bonds.length>0||Bt.showNonBonded)&&(zn=!0),zn&&(yr=jt,pt.imposter?this.drawSphereImposter(pt.sphereGeometry,bt,yr,vo):$.GLDraw.drawSphere(pt,bt,yr,vo))}}}createMolObj(bt,Lt){Lt=Lt||{};var pt=new c.Object3D,Dt=[],wt={},Bt={},jt=this.drawAtomSphere,hr=null,gr=null;Lt.supportsImposters?(jt=this.drawAtomImposter,hr=new c.Geometry(!0),hr.imposter=!0,gr=new c.Geometry(!0,!0),gr.imposter=!0,gr.sphereGeometry=new c.Geometry(!0),gr.sphereGeometry.imposter=!0,gr.drawnCaps={}):Lt.supportsAIA?(jt=this.drawAtomInstanced,hr=new c.Geometry(!1,!0,!0),hr.instanced=!0,gr=new c.Geometry(!0)):(hr=new c.Geometry(!0),gr=new c.Geometry(!0));var Cr,wr,yr,xr,In={},rn=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(Cr=0,yr=bt.length;Cr<yr;Cr++){var Sr=bt[Cr];if(Sr&&Sr.style){(Sr.clickable||Sr.hoverable)&&Sr.intersectionShape===void 0&&(Sr.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),xr={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(wr in xr)Sr.style[wr]?Sr.style[wr].opacity?xr[wr]=parseFloat(Sr.style[wr].opacity):xr[wr]=1:xr[wr]=void 0,In[wr]?xr[wr]!=null&&In[wr]!=xr[wr]&&(console.log("Warning: "+wr+" opacity is ambiguous"),In[wr]=1):In[wr]=xr[wr];jt.call(this,Sr,hr),this.drawAtomClickSphere(Sr),this.drawAtomCross(Sr,Bt),this.drawBondLines(Sr,bt,wt),this.drawBondSticks(Sr,bt,gr),typeof Sr.style.cartoon<"u"&&!Sr.style.cartoon.hidden&&(Sr.style.cartoon.color==="spectrum"&&typeof Sr.resi=="number"&&!Sr.hetflag&&(Sr.resi<rn[0]&&(rn[0]=Sr.resi),Sr.resi>rn[1]&&(rn[1]=Sr.resi)),Dt.push(Sr))}}if(Dt.length>0&&(0,j.drawCartoon)(pt,Dt,rn,this.defaultCartoonQuality),hr&&hr.vertices>0){hr.initTypedArrays();var Tr=null,Ln=null;hr.imposter?Tr=new c.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):hr.instanced?(Ln=new c.Geometry(!0),$.GLDraw.drawSphere(Ln,{x:0,y:0,z:0},1,new b.Color(.5,.5,.5)),Ln.initTypedArrays(),Tr=new c.InstancedMaterial({sphereMaterial:new c.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:Ln})):Tr=new c.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),In.sphere<1&&In.sphere>=0&&(Tr.transparent=!0,Tr.opacity=In.sphere),Ln=new c.Mesh(hr,Tr),pt.add(Ln)}if(gr.vertices>0){var Fn=null,Or=null,Nn=gr.sphereGeometry;(!Nn||typeof Nn.vertices>"u"||Nn.vertices==0)&&(Nn=null),gr.initTypedArrays(),Nn&&Nn.initTypedArrays();var eo={ambient:0,vertexColors:!0,reflectivity:0};gr.imposter?(Fn=new c.StickImposterMaterial(eo),Or=new c.SphereImposterMaterial(eo)):(Fn=new c.MeshLambertMaterial(eo),Or=new c.MeshLambertMaterial(eo),Fn.wireframe&&(gr.setUpWireframe(),Nn&&Nn.setUpWireframe())),In.stick<1&&In.stick>=0&&(Fn.transparent=!0,Fn.opacity=In.stick,Or.transparent=!0,Or.opacity=In.stick);var uo=new c.Mesh(gr,Fn);if(pt.add(uo),Nn){var wo=new c.Mesh(Nn,Or);pt.add(wo)}}var bo;for(Cr in wt)if(wt.hasOwnProperty(Cr)){bo=Cr;var es=new c.LineBasicMaterial({linewidth:bo,vertexColors:!0});In.line<1&&In.line>=0&&(es.transparent=!0,es.opacity=In.line),wt[Cr].initTypedArrays();var rs=new c.Line(wt[Cr],es,c.LineStyle.LinePieces);pt.add(rs)}for(Cr in Bt)if(Bt.hasOwnProperty(Cr)){bo=Cr;var vo=new c.LineBasicMaterial({linewidth:bo,vertexColors:!0});In.cross<1&&In.cross>=0&&(vo.transparent=!0,vo.opacity=In.cross),Bt[Cr].initTypedArrays();var gs=new c.Line(Bt[Cr],vo,c.LineStyle.LinePieces);pt.add(gs)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var cs=new c.Object3D,Gs;for(Gs=0;Gs<this.modelData.symmetries.length;Gs++){var $n=new c.Object3D;$n=pt.clone(),$n.matrix.copy(this.modelData.symmetries[Gs]),$n.matrixAutoUpdate=!1,cs.add($n)}return cs}return pt}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(bt){this.atoms=bt.atoms,this.frames=bt.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const bt=this.modelData.cryst;this.modelData.cryst.matrix=(0,g.conversionMatrix3)(bt.a,bt.b,bt.c,bt.alpha,bt.beta,bt.gamma)}return this.modelData.cryst}else return null}setCrystData(bt,Lt,pt,Dt,wt,Bt){bt=bt||1,Lt=Lt||1,pt=pt||1,Dt=Dt||90,wt=wt||90,Bt=Bt||90;const jt=(0,g.conversionMatrix3)(bt,Lt,pt,Dt,wt,Bt);this.modelData.cryst={a:bt,b:Lt,c:pt,alpha:Dt,beta:wt,gamma:Bt,matrix:jt}}setCrystMatrix(bt){bt=bt||new g.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:bt}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(bt){typeof bt>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=bt}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(bt,Lt,pt,Dt){var wt=Lt-bt;return wt<-pt?Lt+Dt:wt>pt?Lt-Dt:Lt}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var bt=this.box[0],Lt=this.box[1],pt=this.box[2],Dt=bt*.9,wt=Lt*.9,Bt=pt*.9,jt=0;jt<this.atomdfs.length;jt++)for(var hr=this.atomdfs[jt],gr=1;gr<hr.length;gr++){var Cr=this.atoms[hr[gr][0]],wr=this.atoms[hr[gr][1]];Cr.x=this.adjustCoord(wr.x,Cr.x,Dt,bt),Cr.y=this.adjustCoord(wr.y,Cr.y,wt,Lt),Cr.z=this.adjustCoord(wr.z,Cr.z,Bt,pt)}}setFrame(bt,Lt){var pt=this.getNumFrames();let Dt=this;return new Promise(function(wt,Bt){if(pt==0&&wt(),(bt<0||bt>=pt)&&(bt=pt-1),Dt.frames.url!=null){var jt=Dt.frames.url;(0,rt.getbin)(jt+"/traj/frame/"+bt+"/"+Dt.frames.path,void 0,"POST",void 0).then(function(hr){for(var gr=new Float32Array(hr,44),Cr=0,wr=0;wr<Dt.atoms.length;wr++)Dt.atoms[wr].x=gr[Cr++],Dt.atoms[wr].y=gr[Cr++],Dt.atoms[wr].z=gr[Cr++];Dt.box&&Dt.atomdfs&&Dt.adjustCoordinatesToBox(),wt()}).catch(Bt)}else Dt.atoms=Dt.frames[bt],wt();Dt.molObj=null,Dt.modelDatas&&bt<Dt.modelDatas.length&&(Dt.modelData=Dt.modelDatas[bt],Dt.unitCellObjects&&Lt&&(Lt.removeUnitCell(Dt),Lt.addUnitCell(Dt)))})}addFrame(bt){this.frames.push(bt)}vibrate(bt=10,Lt=1,pt=!1,Dt,wt){var Bt=0,jt=bt;pt&&(Bt=-bt,jt=bt),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),Bt<jt&&(this.frames=[]),pt&&(this.frames.origIndex=bt);for(var hr=Bt;hr<jt;hr++){var gr=[],Cr=this.frames.length;if(hr==0&&!wt){this.frames.push(this.atoms);continue}for(var wr=0;wr<this.atoms.length;wr++){var yr=(0,rt.getAtomProperty)(this.atoms[wr],"dx"),xr=(0,rt.getAtomProperty)(this.atoms[wr],"dy"),In=(0,rt.getAtomProperty)(this.atoms[wr],"dz"),rn=new g.Vector3(yr,xr,In),Sr=new g.Vector3(this.atoms[wr].x,this.atoms[wr].y,this.atoms[wr].z),Tr=hr*Lt/bt;rn.multiplyScalar(Tr),Sr.add(rn);var Ln={};for(var Fn in this.atoms[wr])Ln[Fn]=this.atoms[wr][Fn];if(Ln.x=Sr.x,Ln.y=Sr.y,Ln.z=Sr.z,gr.push(Ln),Dt&&wt){var Or=(0,rt.extend)({},wt),Nn=new g.Vector3(yr,xr,In);if(Nn.multiplyScalar(Lt),Nn.add(Sr),Or.start=Sr,Or.end=Nn,Or.frame=Cr,!Or.color){var eo=Ln.style.sphere;eo||(eo=Ln.style.stick),eo||(eo=Ln.style.line),Or.color=(0,rt.getColorFromStyle)(Ln,eo)}Dt.addArrow(Or)}}this.frames.push(gr)}}setAtomDefaults(bt){for(let Lt=0;Lt<bt.length;Lt++){let pt=bt[Lt];pt&&(pt.style=pt.style||(0,rt.deepCopy)(st.defaultAtomStyle),pt.color=pt.color||this.ElementColors[pt.elem]||this.defaultColor,pt.model=this.id,(pt.clickable||pt.hoverable)&&(pt.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(bt,Lt,pt={}){var Dt=st.parseMolData(bt,Lt,pt);this.dontDuplicateAtoms=!pt.duplicateAssemblyAtoms;var wt=Dt.modelData;if(wt&&(Array.isArray(wt)?(this.modelData=wt[0],pt.frames&&(this.modelDatas=wt)):this.modelData=wt),Dt.box?this.box=Dt.box:this.box=null,this.frames.length==0){for(let jt=0;jt<Dt.length;jt++)Dt[jt].length!=0&&this.frames.push(Dt[jt]);this.frames[0]&&(this.atoms=this.frames[0])}else if(pt.frames)for(let jt=0;jt<Dt.length;jt++)this.frames.push(Dt[jt]);else for(var Bt=0;Bt<Dt.length;Bt++)this.addAtoms(Dt[Bt]);for(let jt=0;jt<this.frames.length;jt++)this.setAtomDefaults(this.frames[jt]);pt.vibrate&&pt.vibrate.frames&&pt.vibrate.amplitude&&this.vibrate(pt.vibrate.frames,pt.vibrate.amplitude),pt.style&&this.setStyle({},pt.style)}setDontDuplicateAtoms(bt){this.dontDuplicateAtoms=bt}setModelData(bt){this.modelData=bt}propertyMatches(bt,Lt){if(bt==Lt)return!0;if(typeof Lt=="string"&&typeof bt=="number"){var pt=Lt.match(/(-?\d+)\s*-\s*(-?\d+)/);if(pt){var Dt=parseInt(pt[1]),wt=parseInt(pt[2]);if(pt&&bt>=Dt&&bt<=wt)return!0}}return!1}static deepCopyAndCache(bt,Lt){if(typeof bt!="object"||bt==null||bt.__cache_created)return bt;const pt={};for(const Dt in bt){const wt=bt[Dt];if(Array.isArray(wt)){pt[Dt]=[];for(let Bt=0;Bt<wt.length;Bt++)pt[Dt].push(st.deepCopyAndCache(wt[Bt],Lt))}else typeof wt=="object"&&Dt!="properties"&&Dt!="model"?pt[Dt]=st.deepCopyAndCache(wt,Lt):pt[Dt]=wt;if(Dt=="and"||Dt=="or"){const Bt=[];for(const jt of pt[Dt]){const hr=new Set;for(const gr of Lt.selectedAtoms(jt))hr.add(gr.index);Bt.push(hr)}if(Dt=="and"){const jt=function(gr,Cr){const wr=new Set;for(const yr of Cr)gr.has(yr)&&wr.add(yr);return wr};let hr=new Set(Bt[0]);for(const gr of Bt.splice(1))hr=jt(hr,gr);pt[Dt].__cached_results=hr}else if(Dt=="or"){const jt=new Set;for(const hr of Bt)for(const gr of hr)jt.add(gr);pt[Dt].__cached_results=jt}}}return pt.__cache_created=!0,pt}atomIsSelected(bt,Lt){if(typeof Lt>"u")return!0;var pt=!!Lt.invert,Dt=!0;for(var wt in Lt)if(wt=="and"||wt=="or"||wt=="not"){if(wt=="not"){if(this.atomIsSelected(bt,Lt[wt])){Dt=!1;break}}else if(Lt[wt].__cached_results===void 0&&(Lt=st.deepCopyAndCache(Lt,this)),Dt=Lt[wt].__cached_results.has(bt.index),!Dt)break}else if(wt==="predicate"){if(!Lt.predicate(bt)){Dt=!1;break}}else if(wt=="properties"&&bt[wt]){for(var Bt in Lt.properties)if(!Bt.startsWith("__cache")){if(typeof bt.properties[Bt]>"u"){Dt=!1;break}if(bt.properties[Bt]!=Lt.properties[Bt]){Dt=!1;break}}}else if(Lt.hasOwnProperty(wt)&&!st.ignoredKeys.has(wt)&&!wt.startsWith("__cache")){if(typeof bt[wt]>"u"){Dt=!1;break}var jt=!1;if(wt==="bonds"){var hr=Lt[wt];if(hr!=bt.bonds.length){Dt=!1;break}}else if(Array.isArray(Lt[wt])){var gr=Lt[wt],Cr=bt[wt];for(let wr=0;wr<gr.length;wr++)if(this.propertyMatches(Cr,gr[wr])){jt=!0;break}if(!jt){Dt=!1;break}}else{let wr=Lt[wt];if(!this.propertyMatches(bt[wt],wr)){Dt=!1;break}}}return pt?!Dt:Dt}static squaredDistance(bt,Lt){var pt=Lt.x-bt.x,Dt=Lt.y-bt.y,wt=Lt.z-bt.z;return pt*pt+Dt*Dt+wt*wt}expandAtomList(bt,Lt){if(Lt<=0)return bt;for(var pt=(0,rt.getExtent)(bt,void 0),Dt=[[],[],[]],wt=0;wt<3;wt++)Dt[0][wt]=pt[0][wt]-Lt,Dt[1][wt]=pt[1][wt]+Lt,Dt[2][wt]=pt[2][wt];var Bt=[];for(let Cr=0;Cr<this.atoms.length;Cr++){var jt=this.atoms[Cr].x,hr=this.atoms[Cr].y,gr=this.atoms[Cr].z;jt>=Dt[0][0]&&jt<=Dt[1][0]&&hr>=Dt[0][1]&&hr<=Dt[1][1]&&gr>=Dt[0][2]&&gr<=Dt[1][2]&&(jt>=pt[0][0]&&jt<=pt[1][0]&&hr>=pt[0][1]&&hr<=pt[1][1]&&gr>=pt[0][2]&&gr<=pt[1][2]||Bt.push(this.atoms[Cr]))}return Bt}static getFloat(bt){return typeof bt=="number"?bt:parseFloat(bt)}selectedAtoms(bt,Lt){var pt=[];bt=st.deepCopyAndCache(bt||{},this),Lt||(Lt=this.atoms);for(var Dt=Lt.length,wt=0;wt<Dt;wt++){var Bt=Lt[wt];Bt&&this.atomIsSelected(Bt,bt)&&pt.push(Bt)}if(bt.hasOwnProperty("expand")){const Ln=st.getFloat(bt.expand);let Fn=this.expandAtomList(pt,Ln),Or=pt.length;const Nn=Ln*Ln;for(let eo=0;eo<Fn.length;eo++)for(let uo=0;uo<Or;uo++){var jt=st.squaredDistance(Fn[eo],pt[uo]);jt<Nn&&jt>0&&pt.push(Fn[eo])}}if(bt.hasOwnProperty("within")&&bt.within.hasOwnProperty("sel")&&bt.within.hasOwnProperty("distance")){var hr=this.selectedAtoms(bt.within.sel,this.atoms),gr={};const Ln=st.getFloat(bt.within.distance),Fn=Ln*Ln;for(let Or=0;Or<hr.length;Or++)for(let Nn=0;Nn<pt.length;Nn++){let eo=st.squaredDistance(hr[Or],pt[Nn]);eo<Fn&&eo>0&&(gr[Nn]=1)}var Cr=[];if(bt.within.invert)for(let Or=0;Or<pt.length;Or++)gr[Or]||Cr.push(pt[Or]);else for(let Or in gr)Cr.push(pt[Or]);pt=Cr}if(bt.hasOwnProperty("byres")){var wr={},yr=[],xr=[];for(let Ln=0;Ln<pt.length;Ln++){let Fn=pt[Ln];var In=Fn.chain,rn=Fn.resi;if(wr[In]===void 0&&(wr[In]={}),Fn.hasOwnProperty("resi")&&wr[In][rn]===void 0){for(wr[In][rn]=!0,xr.push(Fn);xr.length>0;)if(Fn=xr.pop(),In=Fn.chain,rn=Fn.resi,yr[Fn.index]===void 0){yr[Fn.index]=!0;for(var Sr=0;Sr<Fn.bonds.length;Sr++){var Tr=this.atoms[Fn.bonds[Sr]];yr[Tr.index]===void 0&&Tr.hasOwnProperty("resi")&&Tr.chain==In&&Tr.resi==rn&&(xr.push(Tr),pt.push(Tr))}}}}}return pt}addAtoms(bt){this.molObj=null;var Lt=this.atoms.length,pt=[],Dt;for(Dt=0;Dt<bt.length;Dt++)typeof bt[Dt].index>"u"&&(bt[Dt].index=Dt),typeof bt[Dt].serial>"u"&&(bt[Dt].serial=Dt),pt[bt[Dt].index]=Lt+Dt;for(Dt=0;Dt<bt.length;Dt++){var wt=bt[Dt],Bt=pt[wt.index],jt=(0,rt.extend)({},wt);jt.index=Bt,jt.bonds=[],jt.bondOrder=[],jt.model=this.id,jt.style=jt.style||(0,rt.deepCopy)(st.defaultAtomStyle),typeof jt.color>"u"&&(jt.color=this.ElementColors[jt.elem]||this.defaultColor);for(var hr=wt.bonds?wt.bonds.length:0,gr=0;gr<hr;gr++){var Cr=pt[wt.bonds[gr]];typeof Cr<"u"&&(jt.bonds.push(Cr),jt.bondOrder.push(wt.bondOrder?wt.bondOrder[gr]:1))}this.atoms.push(jt)}}assignBonds(){(0,It.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(bt){this.molObj=null;var Lt=[],pt;for(pt=0;pt<bt.length;pt++)Lt[bt[pt].index]=!0;var Dt=[];for(pt=0;pt<this.atoms.length;pt++){var wt=this.atoms[pt];Lt[wt.index]||Dt.push(wt)}this.atoms=[],this.addAtoms(Dt)}setStyle(bt,Lt,pt){typeof Lt>"u"&&typeof pt>"u"&&(Lt=bt,bt={}),bt=bt,typeof Lt=="string"&&(Lt=(0,rt.specStringToObject)(Lt));var Dt=!1,wt=this,Bt=function(hr){var gr=wt.selectedAtoms(bt,hr);for(let Cr=0;Cr<hr.length;Cr++)hr[Cr]&&(hr[Cr].capDrawn=!1);for(let Cr=0;Cr<gr.length;Cr++){Dt=!0,(gr[Cr].clickable||gr[Cr].hoverable)&&(gr[Cr].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),pt||(gr[Cr].style={});for(let wr in Lt)Lt.hasOwnProperty(wr)&&(gr[Cr].style[wr]=gr[Cr].style[wr]||{},Object.assign(gr[Cr].style[wr],Lt[wr]))}};if(bt.frame!==void 0&&bt.frame<this.frames.length){let hr=bt.frame;hr<0&&(hr=this.frames.length+hr),Bt(this.frames[hr])}else{Bt(this.atoms);for(var jt=0;jt<this.frames.length;jt++)this.frames[jt]!==this.atoms&&Bt(this.frames[jt])}Dt&&(this.molObj=null)}setClickable(bt,Lt,pt){if(Lt=!!Lt,pt=(0,rt.makeFunction)(pt),pt===null){console.log("Callback is not a function");return}var Dt=this.selectedAtoms(bt,this.atoms),wt=Dt.length;for(let Bt=0;Bt<wt;Bt++)Dt[Bt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Dt[Bt].clickable=Lt,pt&&(Dt[Bt].callback=pt);wt>0&&(this.molObj=null)}setHoverable(bt,Lt,pt,Dt){if(Lt=!!Lt,pt=(0,rt.makeFunction)(pt),Dt=(0,rt.makeFunction)(Dt),pt===null){console.log("Hover_callback is not a function");return}if(Dt===null){console.log("Unhover_callback is not a function");return}var wt=this.selectedAtoms(bt,this.atoms),Bt=wt.length;for(let jt=0;jt<Bt;jt++)wt[jt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},wt[jt].hoverable=Lt,pt&&(wt[jt].hover_callback=pt),Dt&&(wt[jt].unhover_callback=Dt);Bt>0&&(this.molObj=null)}enableContextMenu(bt,Lt){Lt=!!Lt;var pt,Dt=this.selectedAtoms(bt,this.atoms),wt=Dt.length;for(pt=0;pt<wt;pt++)Dt[pt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Dt[pt].contextMenuEnabled=Lt;wt>0&&(this.molObj=null)}setColorByElement(bt,Lt){if(!(this.molObj!==null&&st.sameObj(Lt,this.lastColors))){this.lastColors=Lt;var pt=this.selectedAtoms(bt,pt);pt.length>0&&(this.molObj=null);for(var Dt=0;Dt<pt.length;Dt++){var wt=pt[Dt];typeof Lt[wt.elem]<"u"&&(wt.color=Lt[wt.elem])}}}setColorByProperty(bt,Lt,pt,Dt){var wt,Bt,jt=this.selectedAtoms(bt,jt);for(this.lastColors=null,jt.length>0&&(this.molObj=null),typeof pt=="string"&&typeof nt.Gradient.builtinGradients[pt]<"u"&&(pt=new nt.Gradient.builtinGradients[pt]),pt=pt,Dt||(Dt=pt.range()),Dt||(Dt=(0,rt.getPropertyRange)(jt,Lt)),wt=0;wt<jt.length;wt++){Bt=jt[wt];var hr=(0,rt.getAtomProperty)(Bt,Lt);hr!=null&&(Bt.color=pt.valueToHex(parseFloat(Bt.properties[Lt]),Dt))}}setColorByFunction(bt,Lt){var pt=this.selectedAtoms(bt,pt);if(typeof Lt=="function"){this.lastColors=null,pt.length>0&&(this.molObj=null);for(let Dt=0;Dt<pt.length;Dt++){let wt=pt[Dt];wt.color=Lt(wt)}}}toCDObject(bt=!1){var Lt={a:[],b:[]};bt&&(Lt.s=[]);for(let Dt=0;Dt<this.atoms.length;Dt++){let wt={},Bt=this.atoms[Dt];if(wt.x=Bt.x,wt.y=Bt.y,wt.z=Bt.z,Bt.elem!="C"&&(wt.l=Bt.elem),bt){for(var pt=0;pt<Lt.s.length&&JSON.stringify(Bt.style)!==JSON.stringify(Lt.s[pt]);)pt++;pt===Lt.s.length&&Lt.s.push(Bt.style),pt!==0&&(wt.s=pt)}Lt.a.push(wt);for(let jt=0;jt<Bt.bonds.length;jt++){let hr=Dt,gr=Bt.bonds[jt];if(hr>=gr)continue;let Cr={b:hr,e:gr},wr=Bt.bondOrder[jt];wr!=1&&(Cr.o=wr),Lt.b.push(Cr)}}return Lt}globj(bt,Lt){(this.molObj===null||Lt.regen)&&(this.molObj=this.createMolObj(this.atoms,Lt),this.renderedMolObj&&(bt.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),bt.add(this.renderedMolObj))}exportVRML(){var bt=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return bt.vrml()}removegl(bt){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),bt.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(bt,Lt,pt,Dt){for(var wt=this.selectedAtoms(Lt,wt),Bt=(0,rt.deepCopy)(Dt),jt=0;jt<wt.length;jt++){var hr=wt[jt],gr=null;typeof hr[bt]<"u"?gr=String(hr[bt]):typeof hr.properties[bt]<"u"&&(gr=String(hr.properties[bt])),gr!=null&&(Bt.position=hr,pt.addLabel(gr,Bt))}}addResLabels(bt,Lt,pt,Dt=!1){var wt=[],Bt=function(hr,gr){for(var Cr=hr.selectedAtoms(bt,Cr),wr={},yr=0;yr<Cr.length;yr++){var xr=Cr[yr],In=xr.chain,rn=xr.resn,Sr=xr.resi,Tr=rn+""+Sr;wr[In]||(wr[In]={}),wr[In][Tr]||(wr[In][Tr]=[]),wr[In][Tr].push(xr)}var Ln=(0,rt.deepCopy)(pt);for(let Or in wr)if(wr.hasOwnProperty(Or)){var Fn=wr[Or];for(let Nn in Fn)if(Fn.hasOwnProperty(Nn)){let eo=Fn[Nn],uo=new g.Vector3(0,0,0);for(let bo=0;bo<eo.length;bo++){let es=eo[bo];uo.x+=es.x,uo.y+=es.y,uo.z+=es.z}uo.divideScalar(eo.length),Ln.position=uo,Ln.frame=gr;let wo=Lt.addLabel(Nn,Ln,void 0,!0);wt.push(wo)}}};if(Dt){var jt=this.getNumFrames();let hr=this.atoms;for(let gr=0;gr<jt;gr++)this.frames[gr]&&(this.atoms=this.frames[gr],Bt(this,gr));this.atoms=hr}else Bt(this);return wt}setupDFS(){this.atomdfs=[];var bt=this,Lt=new Int8Array(this.atoms.length);Lt.fill(0);for(var pt=function(jt,hr,gr){gr.push([jt,hr]);var Cr=bt.atoms[jt];Lt[jt]=1;for(var wr=0;wr<Cr.bonds.length;wr++){var yr=Cr.bonds[wr];bt.atoms[yr]&&!Lt[yr]&&pt(yr,jt,gr)}},Dt=0;Dt<this.atoms.length;Dt++){var wt=this.atoms[Dt];if(wt&&!Lt[Dt]){var Bt=[];pt(Dt,-1,Bt),this.atomdfs.push(Bt)}}}setCoordinatesFromURL(bt,Lt){this.frames=[];var pt=this;return this.box&&this.setupDFS(),bt.startsWith("http")||(bt="http://"+bt),(0,rt.get)(bt+"/traj/numframes/"+Lt,function(Dt){if(!isNaN(parseInt(Dt)))return pt.frames.push(pt.atoms),pt.frames.numFrames=Dt,pt.frames.url=bt,pt.frames.path=Lt,pt.setFrame(0)})}setCoordinates(bt,Lt){if(Lt=Lt||"",!bt)return[];if(/\.gz$/.test(Lt)){Lt=Lt.replace(/\.gz$/,"");try{bt=it(bt)}catch(wr){console.log(wr)}}var pt={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(pt.hasOwnProperty(Lt)){this.frames=[];for(var Dt=this.atoms.length,wt=st.parseCrd(bt,Lt),Bt=0;Bt<wt.length;){for(var jt=[],hr=0;hr<Dt;hr++){var gr={};for(var Cr in this.atoms[hr])gr[Cr]=this.atoms[hr][Cr];jt[hr]=gr,jt[hr].x=wt[Bt++],jt[hr].y=wt[Bt++],jt[hr].z=wt[Bt++]}this.frames.push(jt)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(bt){}static parseCrd(bt,Lt){var pt=[],Dt=0;if(Lt=="pdb")for(var wt=bt.indexOf(`
ATOM`);wt!=-1;){for(;bt.slice(wt,wt+5)==`
ATOM`||bt.slice(wt,wt+7)==`
HETATM`;)pt[Dt++]=parseFloat(bt.slice(wt+31,wt+39)),pt[Dt++]=parseFloat(bt.slice(wt+39,wt+47)),pt[Dt++]=parseFloat(bt.slice(wt+47,wt+55)),wt=bt.indexOf(`
`,wt+54),bt.slice(wt,wt+4)==`
TER`&&(wt=bt.indexOf(`
`,wt+5));wt=bt.indexOf(`
ATOM`,wt)}else if(Lt=="netcdf"){var Bt=new _t.NetCDFReader(bt);pt=[].concat.apply([],Bt.getDataVariable("coordinates"))}else{if(Lt=="array"||Array.isArray(bt))return bt.flat(2);{let jt=bt.indexOf(`
`);Lt=="inpcrd"&&(jt=bt.indexOf(`
`,jt+1)),bt=bt.slice(jt+1),pt=bt.match(/\S+/g).map(parseFloat)}}return pt}static parseMolData(bt,Lt="",pt){if(!bt)return[];if(/\.gz$/.test(Lt)){Lt=Lt.replace(/\.gz$/,"");try{bt=it(bt)}catch(Bt){console.log(Bt)}}typeof ot.Parsers[Lt]>"u"&&(Lt=Lt.split(".").pop(),typeof ot.Parsers[Lt]>"u"&&(console.log("Unknown format: "+Lt),bt instanceof Uint8Array?Lt="mmtf":bt.match(/^@<TRIPOS>MOLECULE/gm)?Lt="mol2":bt.match(/^data_/gm)&&bt.match(/^loop_/gm)?Lt="cif":bt.match(/^HETATM/gm)||bt.match(/^ATOM/gm)?Lt="pdb":bt.match(/ITEM: TIMESTEP/gm)?Lt="lammpstrj":bt.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?Lt="sdf":bt.match(/^%VERSION\s+VERSION_STAMP/gm)?Lt="prmtop":Lt="xyz",console.log("Best guess: "+Lt)));var Dt=ot.Parsers[Lt],wt=Dt(bt,pt);return wt}}st.defaultAtomStyle={line:{}},st.defaultlineWidth=1,st.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},st.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(a,e,o)=>{o.r(e),o.d(e,{GLShape:()=>_t,splitMesh:()=>Et});var c=o("./src/WebGL/index.ts"),h=o("./src/WebGL/shapes/index.ts"),g=o("./src/WebGL/math/index.ts"),b=o("./src/colors.ts"),$=o("./src/ProteinSurface4.ts"),j=o("./src/VolumeData.ts"),rt=o("./src/GLDraw.ts"),nt=o("./src/glcartoon.ts"),ot=o("./src/utilities.ts");class _t{static finalizeGeo(it){var st=it.updateGeoGroup(0);st.vertices>0&&st.truncateArrayBuffers(!0,!0)}static updateColor(it,st){st=st||b.CC.color(st),it.colorsNeedUpdate=!0;var Mt,bt,Lt;st.constructor!==Array&&(Mt=st.r,bt=st.g,Lt=st.b);for(let pt in it.geometryGroups){let Dt=it.geometryGroups[pt],wt=Dt.colorArray;for(let Bt=0,jt=Dt.vertices;Bt<jt;++Bt){if(st.constructor===Array){let hr=st[Bt];Mt=hr.r,bt=hr.g,Lt=hr.b}wt[Bt*3]=Mt,wt[Bt*3+1]=bt,wt[Bt*3+2]=Lt}}}static drawArrow(it,st,Mt){var bt=Mt.start,Lt=Mt.end,pt=Mt.radius,Dt=Mt.radiusRatio,wt=Mt.mid,Bt=Mt.midpos;if(!(bt&&Lt))return;var jt=st.updateGeoGroup(51),hr=new g.Vector3(Lt.x,Lt.y,Lt.z).sub(bt);if(Bt){let as=hr.length();Bt>0?wt=Bt/as:wt=(as+Bt)/as}hr.multiplyScalar(wt);var gr=new g.Vector3(bt.x,bt.y,bt.z).add(hr),Cr=hr.clone().negate();let wr=new g.Vector3(bt.x,bt.y,bt.z);it.intersectionShape.cylinder.push(new h.Cylinder(wr,gr.clone(),pt)),it.intersectionShape.sphere.push(new h.Sphere(wr,pt));var yr=[];yr[0]=hr.clone(),Math.abs(yr[0].x)>1e-4?yr[0].y+=1:yr[0].x+=1,yr[0].cross(hr),yr[0].normalize(),yr[4]=yr[0].clone(),yr[4].crossVectors(yr[0],hr),yr[4].normalize(),yr[8]=yr[0].clone().negate(),yr[12]=yr[4].clone().negate(),yr[2]=yr[0].clone().add(yr[4]).normalize(),yr[6]=yr[4].clone().add(yr[8]).normalize(),yr[10]=yr[8].clone().add(yr[12]).normalize(),yr[14]=yr[12].clone().add(yr[0]).normalize(),yr[1]=yr[0].clone().add(yr[2]).normalize(),yr[3]=yr[2].clone().add(yr[4]).normalize(),yr[5]=yr[4].clone().add(yr[6]).normalize(),yr[7]=yr[6].clone().add(yr[8]).normalize(),yr[9]=yr[8].clone().add(yr[10]).normalize(),yr[11]=yr[10].clone().add(yr[12]).normalize(),yr[13]=yr[12].clone().add(yr[14]).normalize(),yr[15]=yr[14].clone().add(yr[0]).normalize();var xr=jt.vertices,In=jt.vertexArray,rn=jt.faceArray,Sr=jt.normalArray,Tr=jt.lineArray,Ln,Fn,Or;for(Fn=0,Or=yr.length;Fn<Or;++Fn){Ln=3*(xr+3*Fn);var Nn=yr[Fn].clone().multiplyScalar(pt).add(bt),eo=yr[Fn].clone().multiplyScalar(pt).add(gr),uo=yr[Fn].clone().multiplyScalar(pt*Dt).add(gr);if(In[Ln]=Nn.x,In[Ln+1]=Nn.y,In[Ln+2]=Nn.z,In[Ln+3]=eo.x,In[Ln+4]=eo.y,In[Ln+5]=eo.z,In[Ln+6]=uo.x,In[Ln+7]=uo.y,In[Ln+8]=uo.z,Fn>0){var wo=In[Ln-3],bo=In[Ln-2],es=In[Ln-1],rs=new g.Vector3(wo,bo,es),vo=new g.Vector3(Lt.x,Lt.y,Lt.z),gs=gr.clone(),cs=new g.Vector3(uo.x,uo.y,uo.z);it.intersectionShape.triangle.push(new h.Triangle(cs,vo,rs)),it.intersectionShape.triangle.push(new h.Triangle(rs.clone(),gs,cs.clone()))}}jt.vertices+=48,Ln=jt.vertices*3,In[Ln]=bt.x,In[Ln+1]=bt.y,In[Ln+2]=bt.z,In[Ln+3]=gr.x,In[Ln+4]=gr.y,In[Ln+5]=gr.z,In[Ln+6]=Lt.x,In[Ln+7]=Lt.y,In[Ln+8]=Lt.z,jt.vertices+=3;var Gs,$n,Kn,Bn,co,vs,Ts,Fs,Os,Ns,Ps,Ks,Bs,_l,Cl,Zn,Vn,qn,hs,us=jt.vertices-3,xs=jt.vertices-2,Rs=jt.vertices-1,zn=us*3,ds=xs*3,_s=Rs*3;for(Fn=0,Or=yr.length-1;Fn<Or;++Fn){var ks=xr+3*Fn;Ln=ks*3,$n=jt.faceidx,Kn=jt.lineidx,Bn=ks,Ns=Bn*3,co=ks+1,Ps=co*3,vs=ks+2,Ks=vs*3,Ts=ks+4,Bs=Ts*3,Fs=ks+5,_l=Fs*3,Os=ks+3,Cl=Os*3,Zn=Vn=yr[Fn],qn=hs=yr[Fn+1],Sr[Ns]=Zn.x,Sr[Ps]=Vn.x,Sr[Cl]=hs.x,Sr[Ns+1]=Zn.y,Sr[Ps+1]=Vn.y,Sr[Cl+1]=hs.y,Sr[Ns+2]=Zn.z,Sr[Ps+2]=Vn.z,Sr[Cl+2]=hs.z,Sr[Ps]=Vn.x,Sr[Bs]=qn.x,Sr[Cl]=hs.x,Sr[Ps+1]=Vn.y,Sr[Bs+1]=qn.y,Sr[Cl+1]=hs.y,Sr[Ps+2]=Vn.z,Sr[Bs+2]=qn.z,Sr[Cl+2]=hs.z,Sr[Ks]=Vn.x,Sr[_l]=qn.x,Sr[Ks+1]=Vn.y,Sr[_l+1]=qn.y,Sr[Ks+2]=Vn.z,Sr[_l+2]=qn.z,rn[$n]=Bn,rn[$n+1]=co,rn[$n+2]=Os,rn[$n+3]=co,rn[$n+4]=Ts,rn[$n+5]=Os,rn[$n+6]=Bn,rn[$n+7]=Os,rn[$n+8]=us,rn[$n+9]=vs,rn[$n+10]=xs,rn[$n+11]=Fs,rn[$n+12]=vs,rn[$n+13]=Rs,rn[$n+14]=Fs,Tr[Kn]=Bn,Tr[Kn+1]=co,Tr[Kn+2]=Bn,Tr[Kn+3]=Os,Tr[Kn+4]=Ts,Tr[Kn+5]=Os,Tr[Kn+6]=Bn,Tr[Kn+7]=Os,Tr[Kn+8]=vs,Tr[Kn+9]=co,Tr[Kn+10]=vs,Tr[Kn+11]=Fs,Tr[Kn+12]=Ts,Tr[Kn+13]=Fs,Tr[Kn+14]=vs,Tr[Kn+15]=Rs,Tr[Kn+16]=vs,Tr[Kn+17]=Fs,Tr[Kn+18]=Rs,Tr[Kn+19]=Fs,jt.faceidx+=15,jt.lineidx+=20}Gs=[xr+45,xr+46,xr+1,xr,xr+47,xr+2],$n=jt.faceidx,Kn=jt.lineidx,Bn=Gs[0],Ns=Bn*3,co=Gs[1],Ps=co*3,vs=Gs[4],Ks=vs*3,Ts=Gs[2],Bs=Ts*3,Fs=Gs[5],_l=Fs*3,Os=Gs[3],Cl=Os*3,Zn=Vn=yr[15],qn=hs=yr[0],Sr[Ns]=Zn.x,Sr[Ps]=Vn.x,Sr[Cl]=hs.x,Sr[Ns+1]=Zn.y,Sr[Ps+1]=Vn.y,Sr[Cl+1]=hs.y,Sr[Ns+2]=Zn.z,Sr[Ps+2]=Vn.z,Sr[Cl+2]=hs.z,Sr[Ps]=Vn.x,Sr[Bs]=qn.x,Sr[Cl]=hs.x,Sr[Ps+1]=Vn.y,Sr[Bs+1]=qn.y,Sr[Cl+1]=hs.y,Sr[Ps+2]=Vn.z,Sr[Bs+2]=qn.z,Sr[Cl+2]=hs.z,Sr[Ks]=Vn.x,Sr[_l]=qn.x,Sr[Ks+1]=Vn.y,Sr[_l+1]=qn.y,Sr[Ks+2]=Vn.z,Sr[_l+2]=qn.z,hr.normalize(),Cr.normalize(),Sr[zn]=Cr.x,Sr[ds]=Sr[_s]=hr.x,Sr[zn+1]=Cr.y,Sr[ds+1]=Sr[_s+1]=hr.y,Sr[zn+2]=Cr.z,Sr[ds+2]=Sr[_s+2]=hr.z,rn[$n]=Bn,rn[$n+1]=co,rn[$n+2]=Os,rn[$n+3]=co,rn[$n+4]=Ts,rn[$n+5]=Os,rn[$n+6]=Bn,rn[$n+7]=Os,rn[$n+8]=us,rn[$n+9]=vs,rn[$n+10]=xs,rn[$n+11]=Fs,rn[$n+12]=vs,rn[$n+13]=Rs,rn[$n+14]=Fs,Tr[Kn]=Bn,Tr[Kn+1]=co,Tr[Kn+2]=Bn,Tr[Kn+3]=Os,Tr[Kn+4]=Ts,Tr[Kn+5]=Os,Tr[Kn+6]=Bn,Tr[Kn+7]=Os,Tr[Kn+8]=vs,Tr[Kn+9]=co,Tr[Kn+10]=vs,Tr[Kn+11]=Fs,Tr[Kn+12]=Ts,Tr[Kn+13]=Fs,Tr[Kn+14]=vs,Tr[Kn+15]=Rs,Tr[Kn+16]=vs,Tr[Kn+17]=Fs,Tr[Kn+18]=Rs,Tr[Kn+19]=Fs,jt.faceidx+=15,jt.lineidx+=20}static updateBoundingFromPoints(it,st,Mt,bt){it.center.set(0,0,0);let Lt=1/0,pt=1/0,Dt=1/0,wt=-1/0,Bt=-1/0,jt=-1/0;it.box&&(Lt=it.box.min.x,wt=it.box.max.x,pt=it.box.min.y,Bt=it.box.max.y,Dt=it.box.min.z,jt=it.box.max.z);for(let wr=0,yr=bt;wr<yr;wr++){var hr=Mt[wr*3],gr=Mt[wr*3+1],Cr=Mt[wr*3+2];hr<Lt&&(Lt=hr),gr<pt&&(pt=gr),Cr<Dt&&(Dt=Cr),hr>wt&&(wt=hr),gr>Bt&&(Bt=gr),Cr>jt&&(jt=Cr)}it.center.set((wt+Lt)/2,(Bt+pt)/2,(jt+Dt)/2),it.radius=it.center.distanceTo({x:wt,y:Bt,z:jt}),it.box={min:{x:Lt,y:pt,z:Dt},max:{x:wt,y:Bt,z:jt}}}static addCustomGeo(it,st,Mt,bt,Lt){var pt=st.addGeoGroup(),Dt=Mt.vertexArr,wt=Mt.normalArr,Bt=Mt.faceArr;pt.vertices=Dt.length,pt.faceidx=Bt.length;var jt,hr,gr,Cr,wr,yr,xr,In,rn,Sr=pt.vertexArray,Tr=pt.colorArray;for(bt.constructor!==Array&&(In=bt.r,rn=bt.g,Cr=bt.b),yr=0,xr=pt.vertices;yr<xr;++yr)jt=yr*3,hr=Dt[yr],Sr[jt]=hr.x,Sr[jt+1]=hr.y,Sr[jt+2]=hr.z,bt.constructor===Array&&(wr=bt[yr],In=wr.r,rn=wr.g,Cr=wr.b),Tr[jt]=In,Tr[jt+1]=rn,Tr[jt+2]=Cr;if(Lt)for(yr=0,xr=pt.faceidx/3;yr<xr;++yr){jt=yr*3,gr=Bt[jt],Cr=Bt[jt+1],wr=Bt[jt+2];var Ln=new g.Vector3,Fn=new g.Vector3,Or=new g.Vector3;it.intersectionShape.triangle.push(new h.Triangle(Ln.copy(Dt[gr]),Fn.copy(Dt[Cr]),Or.copy(Dt[wr])))}if(Lt){var Nn=new g.Vector3(0,0,0),eo=0;for(let bo=0;bo<st.geometryGroups.length;bo++)Nn.add(st.geometryGroups[bo].getCentroid()),eo++;Nn.divideScalar(eo),_t.updateBoundingFromPoints(it.boundingSphere,{centroid:Nn},Sr,pt.vertices)}if(pt.faceArray=new Uint16Array(Bt),pt.truncateArrayBuffers(!0,!0),wt.length<pt.vertices)pt.setNormals();else{var uo=pt.normalArray=new Float32Array(pt.vertices*3),wo;for(yr=0,xr=pt.vertices;yr<xr;++yr)jt=yr*3,wo=wt[yr],uo[jt]=wo.x,uo[jt+1]=wo.y,uo[jt+2]=wo.z}pt.setLineIndices(),pt.lineidx=pt.lineArray.length}static updateFromStyle(it,st){typeof st.color<"u"?(it.color=st.color||new b.Color,st.color instanceof b.Color||(it.color=b.CC.color(st.color))):it.color=b.CC.color(0),it.wireframe=!!st.wireframe,it.opacity=st.alpha?(0,g.clamp)(st.alpha,0,1):1,typeof st.opacity<"u"&&(it.opacity=(0,g.clamp)(st.opacity,0,1)),it.side=st.side!==void 0?st.side:c.DoubleSide,it.linewidth=typeof st.linewidth>"u"?1:st.linewidth,it.clickable=!!st.clickable,it.callback=(0,ot.makeFunction)(st.callback),it.hoverable=!!st.hoverable,it.hover_callback=(0,ot.makeFunction)(st.hover_callback),it.unhover_callback=(0,ot.makeFunction)(st.unhover_callback),it.hidden=st.hidden,it.frame=st.frame}constructor(it){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.side=c.DoubleSide,this.stylespec=it||{},this.boundingSphere=new h.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},_t.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new c.Geometry(!0),this.linegeo=new c.Geometry(!0)}updateStyle(it){for(var st in it)this.stylespec[st]=it[st];if(_t.updateFromStyle(this,this.stylespec),it.voldata&&it.volscheme){(0,ot.adjustVolumeStyle)(it);const Mt=it.volscheme,bt=it.voldata,Lt=b.CC,pt=Mt.range()||[-1,1];this.geo.setColors(function(Dt,wt,Bt){let jt=bt.getVal(Dt,wt,Bt);return Lt.color(Mt.valueToHex(jt,pt))}),delete this.color}}addCustom(it){it.vertexArr=it.vertexArr||[],it.faceArr=it.faceArr||[],it.normalArr=it.normalArr||[],_t.drawCustom(this,this.geo,it)}addSphere(it){it.center||(it.center=new g.Vector3(0,0,0)),it.radius=it.radius?(0,g.clamp)(it.radius,0,1/0):1.5,it.color=b.CC.color(it.color),this.intersectionShape.sphere.push(new h.Sphere(it.center,it.radius)),rt.GLDraw.drawSphere(this.geo,it.center,it.radius,it.color,it.quality),this.components.push({centroid:new g.Vector3(it.center.x,it.center.y,it.center.z)});var st=this.geo.updateGeoGroup(0);_t.updateBoundingFromPoints(this.boundingSphere,this.components,st.vertexArray,st.vertices)}addBox(it){var st=it.dimensions||{w:1,h:1,d:1},Mt;typeof st.w=="number"?Mt={x:st.w,y:0,z:0}:Mt=st.w;var bt;typeof st.h=="number"?bt={x:0,y:st.h,z:0}:bt=st.h;var Lt;typeof st.d=="number"?Lt={x:0,y:0,z:st.d}:Lt=st.d;var pt=it.corner;pt==null&&(it.center!==void 0?pt={x:it.center.x-.5*(Mt.x+bt.x+Lt.x),y:it.center.y-.5*(Mt.y+bt.y+Lt.y),z:it.center.z-.5*(Mt.z+bt.z+Lt.z)}:pt={x:0,y:0,z:0});var Dt=[{x:pt.x,y:pt.y,z:pt.z},{x:pt.x+Mt.x,y:pt.y+Mt.y,z:pt.z+Mt.z},{x:pt.x+bt.x,y:pt.y+bt.y,z:pt.z+bt.z},{x:pt.x+Mt.x+bt.x,y:pt.y+Mt.y+bt.y,z:pt.z+Mt.z+bt.z},{x:pt.x+Lt.x,y:pt.y+Lt.y,z:pt.z+Lt.z},{x:pt.x+Mt.x+Lt.x,y:pt.y+Mt.y+Lt.y,z:pt.z+Mt.z+Lt.z},{x:pt.x+bt.x+Lt.x,y:pt.y+bt.y+Lt.y,z:pt.z+bt.z+Lt.z},{x:pt.x+Mt.x+bt.x+Lt.x,y:pt.y+Mt.y+bt.y+Lt.y,z:pt.z+Mt.z+bt.z+Lt.z}],wt=[],Bt=[];wt.splice(wt.length,0,Dt[0],Dt[1],Dt[2],Dt[3]),Bt.splice(Bt.length,0,0,2,1,1,2,3);var jt=4;wt.splice(wt.length,0,Dt[2],Dt[3],Dt[6],Dt[7]),Bt.splice(Bt.length,0,jt+0,jt+2,jt+1,jt+1,jt+2,jt+3),jt+=4,wt.splice(wt.length,0,Dt[4],Dt[5],Dt[0],Dt[1]),Bt.splice(Bt.length,0,jt+0,jt+2,jt+1,jt+1,jt+2,jt+3),jt+=4,wt.splice(wt.length,0,Dt[6],Dt[7],Dt[4],Dt[5]),Bt.splice(Bt.length,0,jt+0,jt+2,jt+1,jt+1,jt+2,jt+3),jt+=4,wt.splice(wt.length,0,Dt[3],Dt[1],Dt[7],Dt[5]),Bt.splice(Bt.length,0,jt+0,jt+2,jt+1,jt+1,jt+2,jt+3),jt+=4,wt.splice(wt.length,0,Dt[2],Dt[6],Dt[0],Dt[4]),Bt.splice(Bt.length,0,jt+0,jt+2,jt+1,jt+1,jt+2,jt+3),jt+=4;var hr=(0,ot.extend)({},it);hr.vertexArr=wt,hr.faceArr=Bt,hr.normalArr=[],_t.drawCustom(this,this.geo,hr);var gr=new g.Vector3;this.components.push({centroid:gr.addVectors(Dt[0],Dt[7]).multiplyScalar(.5)});var Cr=this.geo.updateGeoGroup(0);_t.updateBoundingFromPoints(this.boundingSphere,this.components,Cr.vertexArray,Cr.vertices)}addCylinder(it){var st,Mt;it.start?st=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):st=new g.Vector3(0,0,0),it.end?(Mt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof Mt.x>"u"&&(Mt.x=3)):Mt=new g.Vector3(0,0,0);var bt=it.radius||.1,Lt=b.CC.color(it.color);this.intersectionShape.cylinder.push(new h.Cylinder(st,Mt,bt)),rt.GLDraw.drawCylinder(this.geo,st,Mt,bt,Lt,it.fromCap,it.toCap);var pt=new g.Vector3;this.components.push({centroid:pt.addVectors(st,Mt).multiplyScalar(.5)});var Dt=this.geo.updateGeoGroup(0);_t.updateBoundingFromPoints(this.boundingSphere,this.components,Dt.vertexArray,Dt.vertices)}addDashedCylinder(it){it.dashLength=it.dashLength||.25,it.gapLength=it.gapLength||.25;var st;it.start?st=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):st=new g.Vector3(0,0,0);var Mt;it.end?(Mt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof Mt.x>"u"&&(Mt.x=3)):Mt=new g.Vector3(3,0,0);for(var bt=it.radius||.1,Lt=b.CC.color(it.color),pt=Math.sqrt(Math.pow(st.x-Mt.x,2)+Math.pow(st.y-Mt.y,2)+Math.pow(st.z-Mt.z,2)),Dt=pt/(it.gapLength+it.dashLength),wt=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0),Bt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),jt=new g.Vector3((Mt.x-st.x)/(pt/it.gapLength),(Mt.y-st.y)/(pt/it.gapLength),(Mt.z-st.z)/(pt/it.gapLength)),hr=new g.Vector3((Mt.x-st.x)/(pt/it.dashLength),(Mt.y-st.y)/(pt/it.dashLength),(Mt.z-st.z)/(pt/it.dashLength)),gr=0;gr<Dt;gr++)Bt=new g.Vector3(wt.x+hr.x,wt.y+hr.y,wt.z+hr.z),this.intersectionShape.cylinder.push(new h.Cylinder(wt,Bt,bt)),rt.GLDraw.drawCylinder(this.geo,wt,Bt,bt,Lt,it.fromCap,it.toCap),wt=new g.Vector3(Bt.x+jt.x,Bt.y+jt.y,Bt.z+jt.z);var Cr=new g.Vector3;this.components.push({centroid:Cr.addVectors(st,Mt).multiplyScalar(.5)});var wr=this.geo.updateGeoGroup(0);_t.updateBoundingFromPoints(this.boundingSphere,this.components,wr.vertexArray,wr.vertices)}addCurve(it){it.points=it.points||[],it.smooth=it.smooth||10,typeof it.fromCap>"u"&&(it.fromCap=2),typeof it.toCap>"u"&&(it.toCap=2);var st=(0,nt.subdivide_spline)(it.points,it.smooth);if(st.length<3){console.log("Too few points in addCurve");return}var Mt=it.radius||.1,bt=b.CC.color(it.color),Lt=0,pt=st.length-1,Dt=st[0].distanceTo(st[1]),wt=Math.ceil(2*Mt/Dt);if(it.toArrow){pt-=wt;let gr={start:st[pt],end:st[st.length-1],radius:Mt,color:bt,mid:1e-4};this.addArrow(gr)}if(it.fromArrow){Lt+=wt;let gr={start:st[Lt],end:st[0],radius:Mt,color:bt,mid:1e-4};this.addArrow(gr)}for(var Bt=Math.ceil(st.length/2),jt={radius:Mt,color:bt,fromCap:2,toCap:2},hr=Lt;hr<pt;hr++)jt.start=st[hr],jt.end=st[hr+1],jt.fromCap=2,jt.toCap=2,hr<Bt?(jt.fromCap=2,jt.toCap=0):hr>Bt?(jt.fromCap=0,jt.toCap=2):(jt.fromCap=2,jt.toCap=2),this.addCylinder(jt)}addLine(it){var st,Mt;it.start?st=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):st=new g.Vector3(0,0,0),it.end?(Mt=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof Mt.x>"u"&&(Mt.x=3)):Mt=new g.Vector3(3,0,0);var bt=this.geo.updateGeoGroup(2),Lt=bt.vertices,pt=Lt*3,Dt=bt.vertexArray;Dt[pt]=st.x,Dt[pt+1]=st.y,Dt[pt+2]=st.z,Dt[pt+3]=Mt.x,Dt[pt+4]=Mt.y,Dt[pt+5]=Mt.z,bt.vertices+=2;var wt=bt.lineArray,Bt=bt.lineidx;wt[Bt]=Lt,wt[Bt+1]=Lt+1,bt.lineidx+=2;var jt=new g.Vector3;this.components.push({centroid:jt.addVectors(st,Mt).multiplyScalar(.5)}),bt=this.geo.updateGeoGroup(0),_t.updateBoundingFromPoints(this.boundingSphere,this.components,bt.vertexArray,bt.vertices)}addArrow(it){if(it.start?it.start=new g.Vector3(it.start.x||0,it.start.y||0,it.start.z||0):it.start=new g.Vector3(0,0,0),it.dir instanceof g.Vector3&&typeof it.length=="number"){var st=it.dir.clone().multiplyScalar(it.length).add(it.start);it.end=st}else it.end?(it.end=new g.Vector3(it.end.x,it.end.y||0,it.end.z||0),typeof it.end.x>"u"&&(it.end.x=3)):it.end=new g.Vector3(3,0,0);it.radius=it.radius||.1,it.radiusRatio=it.radiusRatio||1.618034,it.mid=0<it.mid&&it.mid<1?it.mid:.618034,_t.drawArrow(this,this.geo,it);var Mt=new g.Vector3;this.components.push({centroid:Mt.addVectors(it.start,it.end).multiplyScalar(.5)});var bt=this.geo.updateGeoGroup(0);_t.updateBoundingFromPoints(this.boundingSphere,this.components,bt.vertexArray,bt.vertices)}static distance_from(it,st){return Math.sqrt(Math.pow(it.x-st.x,2)+Math.pow(it.y-st.y,2)+Math.pow(it.z-st.z,2))}static inSelectedRegion(it,st,Mt){for(var bt=0;bt<st.length;bt++)if(_t.distance_from(st[bt],it)<=Mt)return!0;return!1}addIsosurface(it,st,Mt){var bt=st.isoval!==void 0&&typeof st.isoval=="number"?st.isoval:0,Lt=!!st.voxel,pt=st.smoothness===void 0?1:st.smoothness,Dt=it.size.x,wt=it.size.y,Bt=it.size.z,jt=new Int16Array(Dt*wt*Bt),hr=it.data,gr,Cr;for(gr=0,Cr=jt.length;gr<Cr;++gr)jt[gr]=-1;var wr=new Uint8Array(Dt*wt*Bt);for(gr=0,Cr=hr.length;gr<Cr;++gr){var yr=bt>=0?hr[gr]-bt:bt-hr[gr];yr>0&&(wr[gr]|=_t.ISDONE)}var xr=[],In=[];$.MarchingCube.march(wr,xr,In,{fulltable:!0,voxel:Lt,unitCube:it.unit,origin:it.origin,matrix:it.matrix,nX:Dt,nY:wt,nZ:Bt}),!Lt&&pt>0&&$.MarchingCube.laplacianSmooth(pt,xr,In);var rn=[],Sr=[],Tr=[];if(st.selectedRegion&&st.coords===void 0&&(st.coords=st.selectedRegion),st.coords!==void 0){var Ln=st.coords[0].x,Fn=st.coords[0].y,Or=st.coords[0].z,Nn=st.coords[0].x,eo=st.coords[0].y,uo=st.coords[0].z;for(let $n=0;$n<st.coords.length;$n++)st.coords[$n].x>Ln?Ln=st.coords[$n].x:st.coords[$n].x<Nn&&(Nn=st.coords[$n].x),st.coords[$n].y>Fn?Fn=st.coords[$n].y:st.coords[$n].y<eo&&(eo=st.coords[$n].y),st.coords[$n].z>Or?Or=st.coords[$n].z:st.coords[$n].z<uo&&(uo=st.coords[$n].z);var wo=2;st.radius!==void 0&&(wo=st.radius),st.selectedOffset!==void 0&&(wo=st.selectedOffset),st.seldist!==void 0&&(wo=st.seldist),Nn-=wo,Ln+=wo,eo-=wo,Fn+=wo,uo-=wo,Or+=wo;for(let $n=0;$n<xr.length;$n++)xr[$n].x>Nn&&xr[$n].x<Ln&&xr[$n].y>eo&&xr[$n].y<Fn&&xr[$n].z>uo&&xr[$n].z<Or&&_t.inSelectedRegion(xr[$n],st.coords,wo)?(rn.push(Sr.length),Sr.push(xr[$n])):rn.push(-1);for(let $n=0;$n+2<In.length;$n+=3)rn[In[$n]]!==-1&&rn[In[$n+1]]!==-1&&rn[In[$n+2]]!==-1&&(Tr.push(In[$n]-(In[$n]-rn[In[$n]])),Tr.push(In[$n+1]-(In[$n+1]-rn[In[$n+1]])),Tr.push(In[$n+2]-(In[$n+2]-rn[In[$n+2]])));xr=Sr,In=Tr}_t.drawCustom(this,this.geo,{vertexArr:xr,faceArr:In,normalArr:[],clickable:st.clickable,hoverable:st.hoverable}),this.updateStyle(st);var bo=new g.Vector3(it.origin.x,it.origin.y,it.origin.z),es=new g.Vector3(it.size.x*it.unit.x,it.size.y*it.unit.y,it.size.z*it.unit.z),rs=new g.Vector3(0,0,0),vo=bo.clone(),gs=bo.clone().add(es);for(let $n=0;$n<xr.length;$n++)rs.add(xr[$n]),vo.max(xr[$n]),gs.min(xr[$n]);rs.divideScalar(xr.length);var cs=rs.distanceTo(gs),Gs=rs.distanceTo(vo);this.boundingSphere.center=rs,this.boundingSphere.radius=Math.max(cs,Gs),typeof Mt=="function"&&Mt()}addVolumetricData(it,st,Mt){it=new j.VolumeData(it,st),this.addIsosurface(it,Mt)}finalize(){return _t.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(it){if(this.renderedShapeObj&&(it.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){_t.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&_t.updateColor(this.geo,this.color),this.shapeObj=new c.Object3D;var st=null;this.side==c.DoubleSide?st=new c.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:c.Coloring.VertexColors}):st=new c.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:c.Coloring.VertexColors});var Mt=new c.Mesh(this.geo,st);this.shapeObj.add(Mt);var bt=new c.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),Lt=new c.Line(this.linegeo,bt,c.LineStyle.LinePieces);this.shapeObj.add(Lt),this.renderedShapeObj=this.shapeObj.clone(),it.add(this.renderedShapeObj)}}removegl(it){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),it.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}_t.ISDONE=2,_t.drawCustom=function(It,it,st){var Mt=st,bt=Mt.vertexArr,Lt=Mt.faceArr;(bt.length===0||Lt.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var pt=st.color;typeof pt>"u"&&(pt=It.color),pt=b.CC.color(pt);for(var Dt=Et(Mt),wt=0,Bt=Dt.length;wt<Bt;wt++)_t.addCustomGeo(It,it,Dt[wt],Dt[wt].colorArr?Dt[wt].colorArr:pt,st.clickable)};function Et(It){var it=64e3;if(It.vertexArr.length<it)return[It];var st=[{vertexArr:[],normalArr:[],faceArr:[]}];It.colorArr&&(st.colorArr=[]);var Mt=[],bt=[],Lt=0,pt=It.faceArr;for(let wt=0,Bt=pt.length;wt<Bt;wt+=3){let jt=st[Lt];for(let hr=0;hr<3;hr++){var Dt=pt[wt+hr];Mt[Dt]!==Lt&&(Mt[Dt]=Lt,bt[Dt]=jt.vertexArr.length,jt.vertexArr.push(It.vertexArr[Dt]),It.normalArr&&It.normalArr[Dt]&&jt.normalArr.push(It.normalArr[Dt]),It.colorArr&&It.colorArr[Dt]&&jt.colorArr.push(It.colorArr[Dt])),jt.faceArr.push(bt[Dt])}jt.vertexArr.length>=it&&(st.push({vertexArr:[],normalArr:[],faceArr:[]}),It.colorArr&&(st.colorArr=[]),Lt++)}return st}},"./src/GLViewer.ts":(a,e,o)=>{o.r(e),o.d(e,{GLViewer:()=>it,createStereoViewer:()=>bt,createViewer:()=>st,createViewerGrid:()=>Mt});var c=o("./src/WebGL/index.ts"),h=o("./src/WebGL/math/index.ts"),g=o("./src/colors.ts"),b=o("./src/utilities.ts"),$=o("./src/Gradient.ts"),j=o("./src/GLModel.ts"),rt=o("./src/Label.ts"),nt=o("./src/GLShape.ts"),ot=o("./src/VolumeData.ts"),_t=o("./src/ProteinSurface4.ts"),Et=o("./src/VolumetricRender.ts"),It=o("./node_modules/upng-js/UPNG.js");class it{getRect(){let pt=this.container,Dt=pt.getBoundingClientRect();if(Dt.width==0&&Dt.height==0&&pt.style.display==="none"){let wt=pt.style.position,Bt=pt.style.visibility;pt.style.display="block",pt.style.visibility="hidden",pt.style.position="absolute",Dt=pt.getBoundingClientRect(),pt.style.display="none",pt.style.visibility=Bt,pt.style.position=wt}return Dt}getWidth(){return this.getRect().width}getHeight(){return this.getRect().height}setupRenderer(){this.renderer=new c.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH||1,containerHeight:this.HEIGHT||1}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new c.Scene,this.scene.fog=new c.Fog(this.bgColor,100,200),this.modelGroup=new c.Object3D,this.rotationGroup=new c.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new h.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var pt=new c.Light(16777215);pt.position=new h.Vector3(.2,.2,1).normalize(),pt.intensity=1,this.scene.add(pt)}initContainer(pt){this.container=pt,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var pt=0;for(let wt in this.surfaces)if(this.surfaces.hasOwnProperty(wt)){var Dt=parseInt(wt);isNaN(Dt)||Dt>pt&&(pt=Dt)}return pt+1}setSlabAndFog(){let pt=this.camera.position.z-this.rotationGroup.position.z;pt<1&&(pt=1),this.camera.near=pt+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=pt+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=pt*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(pt){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!pt&&this.linkedViewers.length>0))for(var Dt=this._viewer.getView(),wt=0;wt<this.linkedViewers.length;wt++){var Bt=this.linkedViewers[wt];Bt.setView(Dt,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledAtoms.splice(0,this.contextMenuEnabledAtoms.length);for(let pt=0,Dt=this.models.length;pt<Dt;pt++){let wt=this.models[pt];if(wt){let Bt=wt.selectedAtoms({clickable:!0}),jt=wt.selectedAtoms({hoverable:!0}),hr=wt.selectedAtoms({contextMenuEnabled:!0});for(let gr=0;gr<jt.length;gr++)this.hoverables.push(jt[gr]);for(let gr=0;gr<Bt.length;gr++)this.clickables.push(Bt[gr]);for(let gr=0;gr<hr.length;gr++)this.contextMenuEnabledAtoms.push(hr[gr])}}for(let pt=0,Dt=this.shapes.length;pt<Dt;pt++){let wt=this.shapes[pt];wt&&wt.clickable&&this.clickables.push(wt),wt&&wt.hoverable&&this.hoverables.push(wt)}}handleClickSelection(pt,Dt,wt){let Bt=this.targetedObjects(pt,Dt,this.clickables);if(Bt.length){var jt=Bt[0].clickable;jt.callback!==void 0&&(typeof jt.callback!="function"&&(jt.callback=(0,b.makeFunction)(jt.callback)),typeof jt.callback=="function"&&jt.callback(jt,this._viewer,wt,this.container,Bt))}}canvasOffset(){let pt=this.glDOM,Dt=pt.getBoundingClientRect(),wt=pt.ownerDocument,Bt=wt.documentElement,jt=wt.defaultView;return{top:Dt.top+jt.pageYOffset-Bt.clientTop,left:Dt.left+jt.pageXOffset-Bt.clientLeft}}setHover(pt,Dt,wt){this.current_hover!=pt&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,b.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,Dt,this.container,wt)),this.current_hover=pt,pt&&pt.hover_callback!==void 0&&(typeof pt.hover_callback!="function"&&(pt.hover_callback=(0,b.makeFunction)(pt.hover_callback)),typeof pt.hover_callback=="function"&&pt.hover_callback(pt,this._viewer,Dt,this.container,wt)))}handleHoverSelection(pt,Dt,wt){if(this.hoverables.length==0)return;let Bt=this.targetedObjects(pt,Dt,this.hoverables);if(Bt.length){var jt=Bt[0].clickable;this.setHover(jt,wt,Bt),this.current_hover=jt}else this.setHover(null)}handleHoverContinue(pt,Dt){let wt=this.targetedObjects(pt,Dt,this.hoverables);(wt.length==0||wt[0]===void 0)&&this.setHover(null),wt[0]!==void 0&&wt[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(pt,{allowTolerance:Dt=pt.targetTouches,tolerance:wt=5}={}){const Bt=this.getX(pt),jt=this.getY(pt);if(Dt){const hr=Math.abs(Bt-this.mouseStartX),gr=Math.abs(jt-this.mouseStartY);return hr<=wt&&gr<=wt}else return Bt===this.mouseStartX&&jt===this.mouseStartY}calcTouchDistance(pt){var Dt=pt.targetTouches[0].pageX-pt.targetTouches[1].pageX,wt=pt.targetTouches[0].pageY-pt.targetTouches[1].pageY;return Math.hypot(Dt,wt)}getX(pt){var Dt=pt.pageX;return Dt==null&&(Dt=pt.pageX),pt.targetTouches&&pt.targetTouches[0]?Dt=pt.targetTouches[0].pageX:pt.changedTouches&&pt.changedTouches[0]&&(Dt=pt.changedTouches[0].pageX),Dt}getY(pt){var Dt=pt.pageY;return Dt==null&&(Dt=pt.pageY),pt.targetTouches&&pt.targetTouches[0]?Dt=pt.targetTouches[0].pageY:pt.changedTouches&&pt.changedTouches[0]&&(Dt=pt.changedTouches[0].pageY),Dt}isInViewer(pt,Dt){if(this.viewers!=null){var wt=this.WIDTH/this.cols,Bt=this.HEIGHT/this.rows,jt=this.canvasOffset(),hr=pt-jt.left,gr=Dt-jt.top,Cr=this.rows-Math.floor(gr/Bt)-1,wr=Math.floor(hr/wt);if(Cr!=this.row||wr!=this.col)return!1}return!0}adjustZoomToLimits(pt){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let Dt=this.CAMERA_Z-this.config.lowerZoomLimit;pt>Dt&&(pt=Dt)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let Dt=this.CAMERA_Z-this.config.upperZoomLimit;pt<Dt&&(pt=Dt)}return pt>this.CAMERA_Z-1&&(pt=this.CAMERA_Z-1),pt}static slerp(pt,Dt,wt){if(wt==1)return Dt.clone();if(wt==0)return pt.clone();let Bt=pt.x*Dt.x+pt.y*Dt.y+pt.z*Dt.z+pt.w*Dt.w;if(Bt>.9995){let xr=new h.Quaternion(pt.x+wt*(Dt.x-pt.x),pt.y+wt*(Dt.y-pt.y),pt.z+wt*(Dt.z-pt.z),pt.w+wt*(Dt.w-pt.w));return xr.normalize(),xr}Bt<0&&(Dt=Dt.clone().multiplyScalar(-1),Bt=-Bt),Bt>1?Bt=1:Bt<-1&&(Bt=-1);var jt=Math.acos(Bt),hr=jt*wt,gr=Dt.clone();gr.sub(pt.clone().multiplyScalar(Bt)),gr.normalize();var Cr=Math.cos(hr),wr=Math.sin(hr),yr=new h.Quaternion(pt.x*Cr+gr.x*wr,pt.y*Cr+gr.y*wr,pt.z*Cr+gr.z*wr,pt.w*Cr+gr.w*wr);return yr.normalize(),yr}constructor(pt,Dt={}){this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledAtoms=[],this.current_hover=null,this.hoverDuration=500,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new h.Quaternion(0,0,0,1),this.dq=new h.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=Dt,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=g.elementColors.defaultColors),this.nomouse=this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=g.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=parseFloat(this.config.camerax)),this._viewer=this,this.container=pt,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new c.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new h.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new h.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new c.Raycaster(new h.Vector3(0,0,0),new h.Vector3(0,0,0)),this.projector=new c.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=g.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container));try{typeof this.callback=="function"&&this.callback(this)}catch(wt){console.log("error with glviewer callback: "+wt)}}targetedObjects(pt,Dt,wt){var Bt={x:pt,y:Dt,z:-1};return Array.isArray(wt)||(wt=this.selectedAtoms(wt)),wt.length==0?[]:(this.raycaster.setFromCamera(Bt,this.camera),this.raycaster.intersectObjects(this.modelGroup,wt))}modelToScreen(pt){let Dt=!1;Array.isArray(pt)||(pt=[pt],Dt=!0);let wt=this.renderer.getXRatio(),Bt=this.renderer.getYRatio(),jt=this.col,hr=this.row,gr=jt*(this.WIDTH/wt),Cr=(Bt-hr-1)*(this.HEIGHT/Bt),wr=[],yr=this.canvasOffset();return pt.forEach(xr=>{let In=new h.Vector3(xr.x,xr.y,xr.z);In.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(In,this.camera);let rn=this.WIDTH/wt*(In.x+1)/2+yr.left+gr,Sr=-(this.HEIGHT/Bt)*(In.y-1)/2+yr.top+Cr;wr.push({x:rn,y:Sr})}),Dt&&(wr=wr[0]),wr}screenOffsetToModel(pt,Dt,wt){var Bt=pt/this.WIDTH,jt=Dt/this.HEIGHT,hr=wt===void 0?this.rotationGroup.position.z:wt,gr=this.rotationGroup.quaternion,Cr=new h.Vector3(0,0,hr);return this.projector.projectVector(Cr,this.camera),Cr.x+=Bt*2,Cr.y-=jt*2,this.projector.unprojectVector(Cr,this.camera),Cr.z=0,Cr.applyQuaternion(gr),Cr}screenToModelDistance(pt,Dt){let wt=this.canvasOffset(),Bt=new h.Vector3(Dt.x,Dt.y,Dt.z);Bt.applyMatrix4(this.modelGroup.matrixWorld);let jt=Bt.clone();this.projector.projectVector(Bt,this.camera);let hr=new h.Vector3((pt.x-wt.left)*2/this.WIDTH-1,(pt.y-wt.top)*2/-this.HEIGHT+1,Bt.z);return this.projector.unprojectVector(hr,this.camera),hr.distanceTo(jt)}setViewChangeCallback(pt){(typeof pt=="function"||pt==null)&&(this.viewChangeCallback=pt)}setStateChangeCallback(pt){(typeof pt=="function"||pt==null)&&(this.stateChangeCallback=pt)}getConfig(){return this.config}setConfig(pt){this.config=pt}getInternalState(){var pt={models:[],surfaces:[],shapes:[],labels:[]};for(let Dt=0;Dt<this.models.length;Dt++)this.models[Dt]&&(pt.models[Dt]=this.models[Dt].getInternalState());return pt}setInternalState(pt){this.clear();var Dt=pt.models;for(let wt=0;wt<Dt.length;wt++)Dt[wt]&&(this.models[wt]=new j.GLModel(wt),this.models[wt].setInternalState(Dt[wt]));this.render()}setZoomLimits(pt,Dt){typeof pt<"u"&&(this.config.lowerZoomLimit=pt),Dt&&(this.config.upperZoomLimit=Dt),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(pt){pt.fov!==void 0&&(this.fov=pt.fov,this.camera.fov=this.fov),pt.z!==void 0&&(this.CAMERA_Z=pt.z,this.camera.z=this.CAMERA_Z),pt.orthographic!==void 0&&(this.camera.ortho=pt.orthographic)}_handleMouseDown(pt){if(pt.preventDefault(),!this.scene)return;var Dt=this.getX(pt),wt=this.getY(pt);if(Dt===void 0)return;this.isDragging=!0,this.mouseButton=pt.which,this.mouseStartX=Dt,this.mouseStartY=wt,this.touchHold=!0,this.touchDistanceStart=0,pt.targetTouches&&pt.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(pt)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let Bt=this;setTimeout(function(){pt.targetTouches&&Bt.touchHold==!0&&(Bt.glDOM=Bt.renderer.domElement,Bt.glDOM.dispatchEvent(new Event("contextmenu")))},1e3)}_handleMouseUp(pt){if(this.touchHold=!1,this.isDragging&&this.scene){var Dt=this.getX(pt),wt=this.getY(pt);if(this.closeEnoughForClick(pt)&&this.isInViewer(Dt,wt)){let Bt=this.mouseXY(Dt,wt);this.handleClickSelection(Bt.x,Bt.y,pt)}}this.isDragging=!1}_handleMouseScroll(pt){if(pt.preventDefault(),!!this.scene){var Dt=this.getX(pt),wt=this.getY(pt);if(Dt!==void 0&&!(!this.control_all&&!this.isInViewer(Dt,wt))){var Bt=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,jt=1;if(pt.ctrlKey&&(jt=-1),pt.detail)this.rotationGroup.position.z+=jt*Bt*pt.detail/10;else if(pt.wheelDelta){let hr=pt.wheelDelta*600/(pt.wheelDelta+600);this.rotationGroup.position.z-=jt*Bt*hr/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(pt){let Dt=this;return pt=pt||1,new Promise(function(wt){let Bt=0,jt=Dt.viewChangeCallback,hr=[],gr=[],Cr=Date.now();Dt.viewChangeCallback=function(){gr.push(Date.now()-Cr),Cr=Date.now(),hr.push(new Promise(wr=>{Dt.getCanvas().toBlob(function(yr){yr.arrayBuffer().then(wr)},"image/png")})),Bt+=1,Bt==pt&&(Dt.viewChangeCallback=jt,Promise.all(hr).then(wr=>{let yr=[];for(let Ln=0;Ln<wr.length;Ln++){let Fn=(0,It.decode)(wr[Ln]);yr.push((0,It.toRGBA8)(Fn)[0])}let xr=Dt.getCanvas().width,In=Dt.getCanvas().height,rn=(0,It.encode)(yr,xr,In,0,gr),Sr=new Blob([rn],{type:"image/png"}),Tr=new FileReader;Tr.onload=function(Ln){wt(Ln.target.result)},Tr.readAsDataURL(Sr)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(pt){this.hoverDuration=pt}mouseXY(pt,Dt){let wt=this.canvasOffset(),Bt=this.renderer.getXRatio(),jt=this.renderer.getYRatio(),hr=this.col,gr=this.row,Cr=hr*(this.WIDTH/Bt),wr=(jt-gr-1)*(this.HEIGHT/jt),yr=(pt-wt.left-Cr)/(this.WIDTH/Bt)*2-1,xr=-((Dt-wt.top-wr)/(this.HEIGHT/jt))*2+1;return{x:yr,y:xr}}_handleMouseMove(pt){clearTimeout(this.hoverTimeout),pt.preventDefault();let Dt=this.getX(pt),wt=this.getY(pt);if(Dt===void 0)return;let Bt=this.renderer.getXRatio(),jt=this.renderer.getYRatio(),hr=this.mouseXY(Dt,wt),gr=this;this.current_hover!==null&&this.handleHoverContinue(hr.x,hr.y);var Cr=0;if(!(!this.control_all&&!this.isInViewer(Dt,wt))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){gr.handleHoverSelection(hr.x,hr.y,pt)},this.hoverDuration)),!!this.isDragging)){var wr=(Dt-this.mouseStartX)/this.WIDTH,yr=(wt-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&pt.targetTouches&&pt.targetTouches.length==2){var xr=this.calcTouchDistance(pt);Cr=2,yr=(xr-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else pt.targetTouches&&pt.targetTouches.length==3&&(Cr=1);wr*=Bt,yr*=jt;var In=Math.hypot(wr,yr),rn;if(Cr==3||this.mouseButton==3&&pt.ctrlKey)this.slabNear=this.cslabNear+wr*100,this.slabFar=this.cslabFar-yr*100;else if(Cr==2||this.mouseButton==3||pt.shiftKey)rn=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,rn<80&&(rn=80),this.rotationGroup.position.z=this.cz+yr*rn,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(Cr==1||this.mouseButton==2||pt.ctrlKey){var Sr=this.screenOffsetToModel(Bt*(Dt-this.mouseStartX),jt*(wt-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,Sr)}else if((Cr===0||this.mouseButton==1)&&In!==0){var Tr=Math.sin(In*Math.PI)/In;this.dq.x=Math.cos(In*Math.PI),this.dq.y=0,this.dq.z=Tr*wr,this.dq.w=-Tr*yr,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(pt){pt.preventDefault();var Dt=this.getX(pt),wt=this.getY(pt);if(!(Dt!=this.mouseStartX||wt!=this.mouseStartY)){var hr=this.mouseStartX,gr=this.mouseStartY,jt=this.canvasOffset();let Cr=this.mouseXY(hr,gr),wr=Cr.x,yr=Cr.y,xr=this.targetedObjects(wr,yr,this.contextMenuEnabledAtoms);var Bt=null;xr.length&&(Bt=xr[0].clickable);var jt=this.canvasOffset(),hr=this.mouseStartX-jt.left,gr=this.mouseStartY-jt.top;this.userContextMenuHandler&&this.userContextMenuHandler(Bt,hr,gr,xr)}}setContainer(pt){let Dt=(0,b.getElement)(pt)||this.container;return this.initContainer(Dt),this}setBackgroundColor(pt,Dt){(typeof Dt>"u"||Dt<0||Dt>1)&&(Dt=1);var wt=g.CC.color(pt);return this.scene.fog.color=wt,this.bgColor=wt.getHex(),this.renderer.setClearColorHex(wt.getHex(),Dt),this.show(),this}setProjection(pt){this.camera.ortho=pt==="orthographic",this.setSlabAndFog()}setViewStyle(pt){if(pt.style==="outline"){var Dt={};pt.color&&(Dt.color=g.CC.color(pt.color)),pt.width&&(Dt.width=pt.width),this.renderer.enableOutline(Dt)}else this.renderer.disableOutline();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(pt){return this.WIDTH=pt||this.WIDTH,this.updateSize(),this}setHeight(pt){return this.HEIGHT=pt||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let pt=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let Dt=!1,wt=this.container.querySelector("canvas");wt&&wt!=this.renderer.getCanvas()?this.config.canvas=wt:(wt.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,Dt=!0)),this.setupRenderer(),this.initContainer(this.container),pt=!0,Dt&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),pt){let Dt=this.renderer.supportedExtensions();if(Dt.regen=!0,this.viewers)for(let wt=0,Bt=this.viewers.length;wt<Bt;wt++)for(let jt=0,hr=this.viewers[wt].length;jt<hr;jt++)this.viewers[wt][jt].render(null,Dt);this._viewer.render(null,Dt)}else this.show();return this}getModel(pt){return pt===void 0?this.models.length==0?null:this.models[this.models.length-1]:pt instanceof j.GLModel?pt:pt in this.models?this.models[pt]:this.models.length==0?null:this.models[this.models.length-1]}spin(pt,Dt=1){if(clearInterval(this.spinInterval),typeof pt>"u"&&(pt="y"),typeof pt=="boolean")if(pt)pt="y";else return;Array.isArray(pt)&&(pt={x:pt[0],y:pt[1],z:pt[2]});var wt=this;this.spinInterval=setInterval(function(){!wt.getCanvas().isConnected&&wt.renderer.isLost()&&clearInterval(wt.spinInterval),wt.rotate(1*Dt,pt)},25)}animateMotion(pt,Dt,wt,Bt,jt,hr){var gr=20,Cr=Math.ceil(pt/gr);Cr<1&&(Cr=1),this.incAnim();var wr={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(Dt){let In=new Array(Cr);for(let Ln=0;Ln<Cr;Ln++){let Fn=(Ln+1)/Cr,Or={mpos:wr.mpos,rz:wr.rz,rot:wr.rot};Or.mpos=wt.clone().sub(wr.mpos).multiplyScalar(Fn).add(wr.mpos),Or.rz=wr.rz+Fn*(Bt-wr.rz),Or.rot=it.slerp(wr.rot,jt,Fn),Or.cam=hr.clone().sub(wr.cam).multiplyScalar(Fn).add(wr.cam),In[Ln]=Or}let rn=0,Sr=this,Tr=function(){var Ln=In[rn];rn+=1,Sr.modelGroup.position=Ln.mpos,Sr.rotationGroup.position.z=Ln.rz,Sr.rotationGroup.quaternion=Ln.rot,Sr.camera.lookAt(Ln.cam),rn<In.length?setTimeout(Tr,gr):Sr.decAnim(),Sr.show()};setTimeout(Tr,gr)}else{var yr={};let In=1/Cr;if(wt&&(yr.mpos=wt.clone().sub(wr.mpos).multiplyScalar(In)),typeof Bt<"u"&&Bt!=null&&(yr.rz=In*(Bt-wr.rz)),jt){var xr=it.slerp(wr.rot,jt,In);yr.rot=wr.rot.clone().inverse().multiply(xr)}hr&&(yr.cam=hr.clone().sub(wr.cam).multiplyScalar(In));let rn=0,Sr=this,Tr=function(){rn+=1,yr.mpos&&Sr.modelGroup.position.add(yr.mpos),yr.rz&&(Sr.rotationGroup.position.z+=yr.rz),yr.rot&&Sr.rotationGroup.quaternion.multiply(yr.rot),yr.cam&&(Sr.lookingAt.add(yr.cam),Sr.camera.lookAt(Sr.lookingAt)),rn<Cr?setTimeout(Tr,gr):Sr.decAnim(),Sr.show()};setTimeout(Tr,gr)}}rotate(pt,Dt="y",wt=0,Bt=!1){if(Dt=="x"?Dt={x:1,y:0,z:0}:Dt=="y"?Dt={x:0,y:1,z:0}:Dt=="z"&&(Dt={x:0,y:0,z:1}),Dt=="vx"?Dt={vx:1,vy:0,vz:0}:Dt=="vy"?Dt={vx:0,vy:1,vz:0}:Dt=="vz"&&(Dt={vx:0,vy:0,vz:1}),typeof Dt.vx<"u"){var jt=new h.Vector3(Dt.vx,Dt.vy,Dt.vz);jt.applyQuaternion(this.rotationGroup.quaternion),Dt={x:jt.x,y:jt.y,z:jt.z}}var hr=function(yr){var xr=Math.sin(yr/2),In=Math.cos(yr/2),rn=0,Sr=0,Tr=0;return rn=Dt.x*xr,Sr=Dt.y*xr,Tr=Dt.z*xr,new h.Quaternion(rn,Sr,Tr,In).normalize()},gr=Math.PI*pt/180,Cr=hr(gr);if(wt){var wr=new h.Quaternion().copy(this.rotationGroup.quaternion).multiply(Cr);this.animateMotion(wt,Bt,this.modelGroup.position,this.rotationGroup.position.z,wr,this.lookingAt)}else this.rotationGroup.quaternion.multiply(Cr),this.show();return this}surfacesFinished(){for(var pt in this.surfaces)if(!this.surfaces[pt][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var pt=this.modelGroup.position,Dt=this.rotationGroup.quaternion;return[pt.x,pt.y,pt.z,this.rotationGroup.position.z,Dt.x,Dt.y,Dt.z,Dt.w]}setView(pt,Dt){return pt===void 0||!(pt instanceof Array||pt.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=pt[0],this.modelGroup.position.y=pt[1],this.modelGroup.position.z=pt[2],this.rotationGroup.position.z=pt[3],this.rotationGroup.quaternion.x=pt[4],this.rotationGroup.quaternion.y=pt[5],this.rotationGroup.quaternion.z=pt[6],this.rotationGroup.quaternion.w=pt[7],typeof pt[8]<"u"&&(this.rotationGroup.position.x=pt[8],this.rotationGroup.position.y=pt[9]),this.show(Dt),this)}render(pt,Dt){this.renderer.setViewport(),this.updateClickables();var wt=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var Bt,jt;for(Dt||(Dt=this.renderer.supportedExtensions()),Bt=0;Bt<this.models.length;Bt++)this.models[Bt]&&this.models[Bt].globj(this.modelGroup,Dt);for(Bt=0;Bt<this.shapes.length;Bt++)this.shapes[Bt]&&(typeof this.shapes[Bt].frame>"u"||this.viewer_frame<0||this.shapes[Bt].frame<0||this.shapes[Bt].frame==this.viewer_frame?this.shapes[Bt].globj(this.modelGroup,Dt):this.shapes[Bt].removegl(this.modelGroup));for(Bt=0;Bt<this.labels.length;Bt++)Dt.regen&&(this.labels[Bt].dispose(),this.modelGroup.remove(this.labels[Bt].sprite),this.labels[Bt].setContext(),this.modelGroup.add(this.labels[Bt].sprite)),this.labels[Bt]&&typeof this.labels[Bt].frame<"u"&&this.labels[Bt].frame>=0&&(this.modelGroup.remove(this.labels[Bt].sprite),(this.viewer_frame<0||this.labels[Bt].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[Bt].sprite));for(Bt in this.surfaces)if(this.surfaces.hasOwnProperty(Bt)){var hr=this.surfaces[Bt];for(jt=0;jt<hr.length;jt++)if(hr.hasOwnProperty(jt)){var gr=hr[jt].geo;if(!hr[jt].finished||Dt.regen){gr.verticesNeedUpdate=!0,gr.elementsNeedUpdate=!0,gr.normalsNeedUpdate=!0,gr.colorsNeedUpdate=!0,gr.buffersNeedUpdate=!0,gr.boundingSphere=null,hr[jt].mat.needsUpdate=!0,hr[jt].done&&(hr[jt].finished=!0),hr[jt].lastGL&&this.modelGroup.remove(hr[jt].lastGL);var Cr=null;if(hr[jt].mat instanceof c.LineBasicMaterial?Cr=new c.Line(gr,hr[jt].mat):Cr=new c.Mesh(gr,hr[jt].mat),hr[jt].mat.transparent&&hr[jt].mat.opacity==0?Cr.visible=!1:Cr.visible=!0,hr[jt].symmetries.length>1||hr[jt].symmetries.length==1&&!hr[jt].symmetries[jt].isIdentity()){var wr,yr=new c.Object3D;for(wr=0;wr<hr[jt].symmetries.length;wr++){var xr=Cr.clone();xr.matrix=hr[jt].symmetries[wr],xr.matrixAutoUpdate=!1,yr.add(xr)}hr[jt].lastGL=yr,this.modelGroup.add(yr)}else hr[jt].lastGL=Cr,this.modelGroup.add(Cr)}}}return this.setView(wt),typeof pt=="function"&&pt(this),this}getModelList(pt){let Dt=[];if(typeof pt>"u"||typeof pt.model>"u")for(let Bt=0;Bt<this.models.length;Bt++)this.models[Bt]&&Dt.push(this.models[Bt]);else{let Bt=pt.model;Array.isArray(Bt)||(Bt=[Bt]);for(let jt=0;jt<Bt.length;jt++)if(typeof Bt[jt]=="number"){var wt=Bt[jt];wt<0&&(wt+=this.models.length),Dt.push(this.models[wt])}else Dt.push(Bt[jt])}return Dt}getAtomsFromSel(pt){var Dt=[];typeof pt>"u"&&(pt={});var wt=this.getModelList(pt);for(let Bt=0;Bt<wt.length;Bt++)Dt=Dt.concat(wt[Bt].selectedAtoms(pt));return Dt}atomIsSelected(pt,Dt){typeof Dt>"u"&&(Dt={});for(var wt=this.getModelList(Dt),Bt=0;Bt<wt.length;Bt++)if(wt[Bt].atomIsSelected(pt,Dt))return!0;return!1}selectedAtoms(pt){return this.getAtomsFromSel(pt)}getUniqueValues(pt,Dt){typeof Dt>"u"&&(Dt={});var wt=this.getAtomsFromSel(Dt),Bt={};for(var jt in wt)if(wt[jt].hasOwnProperty(pt)){var hr=wt[jt][pt];Bt[hr]=!0}return Object.keys(Bt)}pdbData(pt){for(var Dt=this.getAtomsFromSel(pt),wt="",Bt=0,jt=Dt.length;Bt<jt;++Bt)wt+=Dt[Bt].pdbline+`
`;return wt}zoom(pt=2,Dt=0,wt=!1){var Bt=(this.CAMERA_Z-this.rotationGroup.position.z)/pt,jt=this.CAMERA_Z-Bt;return Dt>0?this.animateMotion(Dt,wt,this.modelGroup.position,this.adjustZoomToLimits(jt),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(jt),this.show()),this}translate(pt,Dt,wt=0,Bt=!1){var jt=pt/this.WIDTH,hr=Dt/this.HEIGHT,gr=new h.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(gr,this.camera),gr.x-=jt,gr.y-=hr,this.projector.unprojectVector(gr,this.camera),gr.z=0;var Cr=this.lookingAt.clone().add(gr);return wt>0?this.animateMotion(wt,Bt,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,Cr):(this.lookingAt=Cr,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(pt,Dt,wt=0,Bt=!1){var jt=this.screenOffsetToModel(pt,Dt),hr=this.modelGroup.position.clone().add(jt);return wt>0?this.animateMotion(wt,Bt,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=hr,this.show()),this}fitSlab(pt){pt=pt||{};var Dt=this.getAtomsFromSel(pt),wt=(0,b.getExtent)(Dt),Bt=wt[1][0]-wt[0][0],jt=wt[1][1]-wt[0][1],hr=wt[1][2]-wt[0][2],gr=Math.hypot(Bt,jt,hr);return gr<5&&(gr=5),this.slabNear=-gr/1.9,this.slabFar=gr/2,this}center(pt={},Dt=0,wt=!1){var Bt,jt,hr=this.getAtomsFromSel(pt),gr=(0,b.getExtent)(hr);(0,b.isEmptyObject)(pt)?(this.shapes.forEach(Fn=>{if(Fn&&Fn.boundingSphere&&Fn.boundingSphere.center){var Or=Fn.boundingSphere.center,Nn=Fn.boundingSphere.radius;Nn>0?(hr.push(new h.Vector3(Or.x+Nn,Or.y,Or.z)),hr.push(new h.Vector3(Or.x-Nn,Or.y,Or.z)),hr.push(new h.Vector3(Or.x,Or.y+Nn,Or.z)),hr.push(new h.Vector3(Or.x,Or.y-Nn,Or.z)),hr.push(new h.Vector3(Or.x,Or.y,Or.z+Nn)),hr.push(new h.Vector3(Or.x,Or.y,Or.z-Nn))):hr.push(Or)}}),gr=(0,b.getExtent)(hr),Bt=hr,jt=gr):(Bt=this.getAtomsFromSel({}),jt=(0,b.getExtent)(Bt));var Cr=new h.Vector3(gr[2][0],gr[2][1],gr[2][2]),wr=jt[1][0]-jt[0][0],yr=jt[1][1]-jt[0][1],xr=jt[1][2]-jt[0][2],In=Math.hypot(wr,yr,xr);In<5&&(In=5),this.slabNear=-In/1.9,this.slabFar=In/2,wr=gr[1][0]-gr[0][0],yr=gr[1][1]-gr[0][1],xr=gr[1][2]-gr[0][2],In=Math.hypot(wr,yr,xr),In<5&&(In=5);for(var rn=25,Sr=0;Sr<hr.length;Sr++)if(hr[Sr]){var Tr=Cr.distanceToSquared(hr[Sr]);Tr>rn&&(rn=Tr)}In=Math.sqrt(rn)*2;var Ln=Cr.clone().multiplyScalar(-1);return Dt>0?this.animateMotion(Dt,wt,Ln,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Ln,this.show()),this}zoomTo(pt={},Dt=0,wt=!1){let Bt=this.getAtomsFromSel(pt),jt=(0,b.getExtent)(Bt),hr=jt;if((0,b.isEmptyObject)(pt)){let Or=Bt&&Bt.length;if(this.shapes.forEach(Nn=>{if(Nn&&Nn.boundingSphere){if(Nn.boundingSphere.box){let wo=Nn.boundingSphere.box;Bt.push(new h.Vector3(wo.min.x,wo.min.y,wo.min.z)),Bt.push(new h.Vector3(wo.max.x,wo.max.y,wo.max.z))}else if(Nn.boundingSphere.center){var eo=Nn.boundingSphere.center,uo=Nn.boundingSphere.radius;uo>0?(Bt.push(new h.Vector3(eo.x+uo,eo.y,eo.z)),Bt.push(new h.Vector3(eo.x-uo,eo.y,eo.z)),Bt.push(new h.Vector3(eo.x,eo.y+uo,eo.z)),Bt.push(new h.Vector3(eo.x,eo.y-uo,eo.z)),Bt.push(new h.Vector3(eo.x,eo.y,eo.z+uo)),Bt.push(new h.Vector3(eo.x,eo.y,eo.z-uo))):Bt.push(eo)}}}),hr=(0,b.getExtent)(Bt),!Or)for(let Nn=0;Nn<3;Nn++)jt[2][Nn]=(hr[0][Nn]+hr[1][Nn])/2}else{let Or=this.getAtomsFromSel({});hr=(0,b.getExtent)(Or)}var gr=new h.Vector3(jt[2][0],jt[2][1],jt[2][2]),Cr=hr[1][0]-hr[0][0],wr=hr[1][1]-hr[0][1],yr=hr[1][2]-hr[0][2],xr=Math.hypot(Cr,wr,yr);xr<5&&(xr=5),this.slabNear=-xr/1.9,this.slabFar=xr/2,Object.keys(pt).length===0&&(this.slabNear=Math.min(-xr*2,-50),this.slabFar=Math.max(xr*2,50));var In=this.config.minimumZoomToDistance||5;Cr=jt[1][0]-jt[0][0],wr=jt[1][1]-jt[0][1],yr=jt[1][2]-jt[0][2],xr=Math.hypot(Cr,wr,yr),xr<In&&(xr=In);for(var rn=In*In,Sr=0;Sr<Bt.length;Sr++)if(Bt[Sr]){var Tr=gr.distanceToSquared(Bt[Sr]);Tr>rn&&(rn=Tr)}xr=Math.sqrt(rn)*2;var Ln=gr.clone().multiplyScalar(-1),Fn=-(xr*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Fn=this.adjustZoomToLimits(Fn),Dt>0?this.animateMotion(Dt,wt,Ln,Fn,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Ln,this.rotationGroup.position.z=Fn,this.show()),this}setSlab(pt,Dt){this.slabNear=pt,this.slabFar=Dt}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(pt,Dt={},wt,Bt=!1){if(wt){var jt=(0,b.getExtent)(this.getAtomsFromSel(wt));Dt.position={x:jt[2][0],y:jt[2][1],z:jt[2][2]}}var hr=new rt.Label(pt,Dt);return hr.setContext(),this.modelGroup.add(hr.sprite),this.labels.push(hr),Bt||this.show(),hr}addResLabels(pt,Dt,wt=!1){let Bt=this.labels.length;return this.applyToModels("addResLabels",pt,this,Dt,wt),this.show(),this.labels.slice(Bt)}addPropertyLabels(pt,Dt,wt){return this.applyToModels("addPropertyLabels",pt,Dt,this,wt),this.show(),this}removeLabel(pt){for(var Dt=0;Dt<this.labels.length;Dt++)if(this.labels[Dt]==pt){this.labels.splice(Dt,1),pt.dispose(),this.modelGroup.remove(pt.sprite);break}return this.show(),this}removeAllLabels(){for(var pt=0;pt<this.labels.length;pt++)this.labels[pt]&&this.labels[pt].sprite&&this.modelGroup.remove(this.labels[pt].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(pt,Dt){return this.modelGroup.remove(pt.sprite),pt.dispose(),pt.stylespec=Dt,pt.setContext(),this.modelGroup.add(pt.sprite),this.show(),pt}setLabelText(pt,Dt){return this.modelGroup.remove(pt.sprite),pt.dispose(),pt.text=Dt,pt.setContext(),this.modelGroup.add(pt.sprite),this.show(),pt}addShape(pt){pt=pt||{};var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,this.shapes.push(Dt),Dt}removeShape(pt){if(!pt)return this;for(pt.removegl(this.modelGroup),delete this.shapes[pt.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var pt=0;pt<this.shapes.length;pt++){var Dt=this.shapes[pt];Dt&&Dt.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(pt){if(pt.hasOwnProperty("x")&&pt.hasOwnProperty("y")&&pt.hasOwnProperty("z"))return pt;var Dt=this.getAtomsFromSel(pt);if(Dt.length==0)return{x:0,y:0,z:0};var wt=(0,b.getExtent)(Dt);return{x:wt[0][0]+(wt[1][0]-wt[0][0])/2,y:wt[0][1]+(wt[1][1]-wt[0][1])/2,z:wt[0][2]+(wt[1][2]-wt[0][2])/2}}addSphere(pt){pt=pt||{},pt.center=this.getSelectionCenter(pt.center);var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,Dt.addSphere(pt),this.shapes.push(Dt),Dt.finalize(),Dt}addBox(pt={}){pt.corner!=null&&(pt.corner=this.getSelectionCenter(pt.corner)),pt.center!=null&&(pt.center=this.getSelectionCenter(pt.center));var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,Dt.addBox(pt),this.shapes.push(Dt),Dt.finalize(),Dt}addArrow(pt={}){pt.start=this.getSelectionCenter(pt.start),pt.end=this.getSelectionCenter(pt.end);var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,Dt.addArrow(pt),this.shapes.push(Dt),Dt.finalize(),Dt}addCylinder(pt={}){pt.start=this.getSelectionCenter(pt.start),pt.end=this.getSelectionCenter(pt.end);var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,pt.dashed?Dt.addDashedCylinder(pt):Dt.addCylinder(pt),this.shapes.push(Dt),Dt.finalize(),Dt}addCurve(pt={}){var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,Dt.addCurve(pt),this.shapes.push(Dt),Dt.finalize(),Dt}addLine(pt={}){pt.start=this.getSelectionCenter(pt.start),pt.end=this.getSelectionCenter(pt.end),pt.wireframe=!0;var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,pt.dashed?Dt=this.addLineDashed(pt,Dt):Dt.addLine(pt),this.shapes.push(Dt),Dt.finalize(),Dt}addUnitCell(pt,Dt){pt=this.getModel(pt),Dt=Dt||{alabel:"a",blabel:"b",clabel:"c"},Dt.box=Dt.box||{},Dt.astyle=Dt.astyle||{color:"red",radius:.1,midpos:-1},Dt.bstyle=Dt.bstyle||{color:"green",radius:.1,midpos:-1},Dt.cstyle=Dt.cstyle||{color:"blue",radius:.1,midpos:-1},Dt.alabelstyle=Dt.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},Dt.blabelstyle=Dt.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},Dt.clabelstyle=Dt.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},pt.unitCellObjects&&this.removeUnitCell(pt),pt.unitCellObjects={shapes:[],labels:[]};var wt=pt.getCrystData(),Bt=null;if(wt){if(wt.matrix)Bt=wt.matrix;else{var jt=wt.a,hr=wt.b,gr=wt.c,Cr=wt.alpha,wr=wt.beta,yr=wt.gamma;Cr=Cr*Math.PI/180,wr=wr*Math.PI/180,yr=yr*Math.PI/180;var xr,In,rn;xr=Math.cos(wr),In=(Math.cos(Cr)-Math.cos(wr)*Math.cos(yr))/Math.sin(yr),rn=Math.sqrt(Math.max(0,1-xr*xr-In*In)),Bt=new h.Matrix3(jt,hr*Math.cos(yr),gr*xr,0,hr*Math.sin(yr),gr*In,0,0,gr*rn)}var Sr=[new h.Vector3(0,0,0),new h.Vector3(1,0,0),new h.Vector3(0,1,0),new h.Vector3(0,0,1),new h.Vector3(1,1,0),new h.Vector3(0,1,1),new h.Vector3(1,0,1),new h.Vector3(1,1,1)];if(wt.matrix4)for(let Ln=0;Ln<Sr.length;Ln++)wt.size&&Sr[Ln].multiplyVectors(Sr[Ln],wt.size),Sr[Ln]=Sr[Ln].applyMatrix4(wt.matrix4);else for(let Ln=0;Ln<Sr.length;Ln++)Sr[Ln]=Sr[Ln].applyMatrix3(Bt);if(Dt.box&&!Dt.box.hidden){Dt.box.wireframe=!0;var Tr=new nt.GLShape(Dt.box);Tr.shapePosition=this.shapes.length,Tr.addLine({start:Sr[0],end:Sr[1]}),Tr.addLine({start:Sr[0],end:Sr[2]}),Tr.addLine({start:Sr[1],end:Sr[4]}),Tr.addLine({start:Sr[2],end:Sr[4]}),Tr.addLine({start:Sr[0],end:Sr[3]}),Tr.addLine({start:Sr[3],end:Sr[5]}),Tr.addLine({start:Sr[2],end:Sr[5]}),Tr.addLine({start:Sr[1],end:Sr[6]}),Tr.addLine({start:Sr[4],end:Sr[7]}),Tr.addLine({start:Sr[6],end:Sr[7]}),Tr.addLine({start:Sr[3],end:Sr[6]}),Tr.addLine({start:Sr[5],end:Sr[7]}),this.shapes.push(Tr),pt.unitCellObjects.shapes.push(Tr),Tr.finalize()}if(!Dt.astyle.hidden){Dt.astyle.start=Sr[0],Dt.astyle.end=Sr[1];let Ln=this.addArrow(Dt.astyle);pt.unitCellObjects.shapes.push(Ln)}if(!Dt.bstyle.hidden){Dt.bstyle.start=Sr[0],Dt.bstyle.end=Sr[2];let Ln=this.addArrow(Dt.bstyle);pt.unitCellObjects.shapes.push(Ln)}if(!Dt.cstyle.hidden){Dt.cstyle.start=Sr[0],Dt.cstyle.end=Sr[3];let Ln=this.addArrow(Dt.cstyle);pt.unitCellObjects.shapes.push(Ln)}if(Dt.alabel){Dt.alabelstyle.position=Sr[1];let Ln=this.addLabel(Dt.alabel,Dt.alabelstyle);pt.unitCellObjects.labels.push(Ln)}if(Dt.blabel){Dt.blabelstyle.position=Sr[2];let Ln=this.addLabel(Dt.blabel,Dt.blabelstyle);pt.unitCellObjects.labels.push(Ln)}if(Dt.clabel){Dt.clabelstyle.position=Sr[3];let Ln=this.addLabel(Dt.clabel,Dt.clabelstyle);pt.unitCellObjects.labels.push(Ln)}}}removeUnitCell(pt){if(pt=this.getModel(pt),pt.unitCellObjects){let Dt=this;pt.unitCellObjects.shapes.forEach(function(wt){Dt.removeShape(wt)}),pt.unitCellObjects.labels.forEach(function(wt){Dt.removeLabel(wt)})}delete pt.unitCellObjects}replicateUnitCell(pt=3,Dt=pt,wt=Dt,Bt,jt,hr){Bt=this.getModel(Bt);let gr=Bt.getCrystData();if(gr){const Cr=Bt.selectedAtoms({}),wr=gr.matrix;let yr=function(In){return In%2==0?-In/2:Math.ceil(In/2)};pt<=1&&Dt<=1&&wt<=1&&(hr=!0,pt=Dt=wt=3);let xr=function(In,rn,Sr){return!1};if(hr){const In=new h.Matrix3().getInverse3(wr);xr=function(rn,Sr,Tr){let Ln=new h.Vector3(rn,Sr,Tr).applyMatrix3(In);return!(Ln.x>-1e-4&&Ln.x<1.0001&&Ln.y>-1e-4&&Ln.y<1.0001&&Ln.z>-1e-4&&Ln.z<1.0001)}}for(let In=0;In<pt;In++)for(let rn=0;rn<Dt;rn++)for(let Sr=0;Sr<wt;Sr++){if(In==0&&rn==0&&Sr==0)continue;let Tr=new h.Vector3(yr(In),yr(rn),yr(Sr));Tr.applyMatrix3(wr);let Ln=[];for(let Fn=0;Fn<Cr.length;Fn++){let Or=Cr[Fn].x+Tr.x,Nn=Cr[Fn].y+Tr.y,eo=Cr[Fn].z+Tr.z;if(xr(Or,Nn,eo))continue;let uo={};for(let wo in Cr[Fn])uo[wo]=Cr[Fn][wo];uo.x=Or,uo.y=Nn,uo.z=eo,Ln.push(uo)}Bt.addAtoms(Ln)}jt&&Bt.assignBonds()}}addLineDashed(pt,Dt){pt.dashLength=pt.dashLength||.5,pt.gapLength=pt.gapLength||.5;var wt;pt.start?wt=new h.Vector3(pt.start.x||0,pt.start.y||0,pt.start.z||0):wt=new h.Vector3(0,0,0);var Bt;pt.end?Bt=new h.Vector3(pt.end.x,pt.end.y||0,pt.end.z||0):Bt=new h.Vector3(0,0,0);var jt=new h.Vector3,hr=new h.Vector3,gr=new h.Vector3,Cr,wr,yr,xr=wt.clone(),In=0;for(jt.subVectors(Bt,wt),Cr=jt.length(),jt.normalize(),hr=jt.clone(),gr=jt.clone(),hr.multiplyScalar(pt.dashLength),gr.multiplyScalar(pt.gapLength),wr=hr.length(),yr=gr.length();In<Cr;){if(In+wr>Cr){pt.start=wt,pt.end=Bt,Dt.addLine(pt);break}xr.addVectors(wt,hr),pt.start=wt,pt.end=xr,Dt.addLine(pt),wt=xr.clone(),In+=wr,xr.addVectors(wt,gr),wt=xr.clone(),In+=yr}return Dt.finalize(),Dt}addCustom(pt){pt=pt||{};var Dt=new nt.GLShape(pt);return Dt.shapePosition=this.shapes.length,Dt.addCustom(pt),this.shapes.push(Dt),Dt.finalize(),Dt}addVolumetricData(pt,Dt,wt={}){var Bt=new ot.VolumeData(pt,Dt);return wt.hasOwnProperty("transferfn")?this.addVolumetricRender(Bt,wt):this.addIsosurface(Bt,wt)}addIsosurface(pt,Dt={},wt){var Bt=new nt.GLShape(Dt);return Bt.shapePosition=this.shapes.length,Bt.addIsosurface(pt,Dt,wt),this.shapes.push(Bt),Bt}addVolumetricRender(pt,Dt){Dt=Dt||{};var wt=new Et.GLVolumetricRender(pt,Dt);return wt.shapePosition=this.shapes.length,this.shapes.push(wt),wt}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(pt){pt?this.scene.fog=new c.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(pt){this.viewer_frame=pt;let Dt=this;return new Promise(function(wt){var Bt=Dt.models.map(function(jt){return jt.setFrame(pt,Dt)});Promise.all(Bt).then(function(){wt()})})}getFrame(){return this.viewer_frame}getNumFrames(){var pt=0;for(let Dt=0;Dt<this.models.length;Dt++)this.models[Dt].getNumFrames()>pt&&(pt=this.models[Dt].getNumFrames());for(let Dt=0;Dt<this.shapes.length;Dt++)this.shapes[Dt].frame&&this.shapes[Dt].frame>=pt&&(pt=this.shapes[Dt].frame+1);for(let Dt=0;Dt<this.labels.length;Dt++)this.labels[Dt].frame&&this.labels[Dt].frame>=pt&&(pt=this.labels[Dt].frame+1);return pt}animate(pt){this.incAnim();var Dt=100,wt="forward",Bt=0;pt=pt||{},pt.interval&&(Dt=pt.interval),pt.loop&&(wt=pt.loop),pt.reps&&(Bt=pt.reps);var jt=this.getNumFrames(),hr=this,gr=0;pt.startFrame&&(gr=pt.startFrame%jt);var Cr=1;pt.step&&(Cr=pt.step,Bt/=Cr);var wr=0,yr=jt*Bt,xr=new Date,In,rn,Sr=function(Tr){xr=new Date,Tr=="forward"?hr.setFrame(gr).then(function(){gr=(gr+Cr)%jt,In()}):Tr=="backward"?hr.setFrame(jt-1-gr).then(function(){gr=(gr+Cr)%jt,In()}):hr.setFrame(gr).then(function(){gr+=Cr,Cr*=gr%(jt-1)==0?-1:1,In()})};return In=function(){if(hr.render(),!hr.getCanvas().isConnected)hr.stopAnimate();else if(++wr==yr||!hr.isAnimated())rn.cancel(),hr.animationTimers.delete(rn),hr.decAnim();else{var Tr=Dt-(new Date().getTime()-xr.getTime());Tr=Tr>0?Tr:0,hr.animationTimers.delete(rn),rn=new b.PausableTimer(Sr,Tr,wt),hr.animationTimers.add(rn)}},rn=new b.PausableTimer(Sr,0,wt),this.animationTimers.add(rn),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(pt){pt.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(pt){pt.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(pt){pt.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(pt){return pt&&!pt.defaultcolors?(pt.defaultcolors=this.defaultcolors,pt.cartoonQuality=pt.cartoonQuality||this.config.cartoonQuality):typeof pt>"u"&&(pt={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),pt}addModel(pt,Dt="",wt){wt=this.getModelOpt(wt);var Bt=new j.GLModel(this.models.length,wt);return Bt.addMolData(pt,Dt,wt),this.models.push(Bt),Bt}addModels(pt,Dt,wt){wt=this.getModelOpt(wt),wt.multimodel=!0,wt.frames=!0;for(var Bt=j.GLModel.parseMolData(pt,Dt,wt),jt=0;jt<Bt.length;jt++){var hr=new j.GLModel(this.models.length,wt);hr.setAtomDefaults(Bt[jt]),hr.addFrame(Bt[jt]),hr.setFrame(0),Bt.modelData&&hr.setModelData(Bt.modelData[jt]),hr.setDontDuplicateAtoms(!wt.duplicateAssemblyAtoms),this.models.push(hr)}return this.models}addModelsAsFrames(pt,Dt,wt){wt=this.getModelOpt(wt),wt.multimodel=!0,wt.frames=!0;var Bt=new j.GLModel(this.models.length,wt);return Bt.addMolData(pt,Dt,wt),this.models.push(Bt),Bt}addAsOneMolecule(pt,Dt,wt){wt=this.getModelOpt(wt),wt.multimodel=!0,wt.onemol=!0;var Bt=new j.GLModel(this.models.length,wt);return Bt.addMolData(pt,Dt,wt),this.models.push(Bt),Bt}removeModel(pt){if(pt=this.getModel(pt),!!pt){for(pt.removegl(this.modelGroup),delete this.models[pt.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var pt=0;pt<this.models.length;pt++){var Dt=this.models[pt];Dt&&Dt.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(pt,Dt){var wt={};return Dt===void 0?wt.m=this.models.map(function(Bt){return Bt.toCDObject(pt)}):wt.m=[this.models[Dt].toCDObject()],JSON.stringify(wt)}exportVRML(){var pt=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new c.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var Dt=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=pt,Dt}createModelFrom(pt,Dt=!1){for(var wt=new j.GLModel(this.models.length,this.defaultcolors),Bt=0;Bt<this.models.length;Bt++)if(this.models[Bt]){var jt=this.models[Bt].selectedAtoms(pt);wt.addAtoms(jt),Dt&&this.models[Bt].removeAtoms(jt)}return this.models.push(wt),wt}applyToModels(pt,Dt,wt,Bt,jt,hr,gr){for(var Cr=this.getModelList(Dt),wr=0;wr<Cr.length;wr++)Cr[wr][pt](Dt,wt,Bt,jt,hr,gr)}setStyle(pt,Dt){return typeof Dt>"u"&&(Dt=pt,pt={}),this.applyToModels("setStyle",pt,Dt,!1),this}addStyle(pt,Dt){return typeof Dt>"u"&&(Dt=pt,pt={}),this.applyToModels("setStyle",pt,Dt,!0),this}setClickable(pt,Dt,wt){return this.applyToModels("setClickable",pt,Dt,wt),this}setHoverable(pt,Dt,wt,Bt){return this.applyToModels("setHoverable",pt,Dt,wt,Bt),this}enableContextMenu(pt,Dt){return this.applyToModels("enableContextMenu",pt,Dt),this}vibrate(pt,Dt,wt,Bt){return this.applyToModels("vibrate",pt,Dt,wt,this,Bt),this}setColorByProperty(pt,Dt,wt,Bt){return this.applyToModels("setColorByProperty",pt,Dt,wt,Bt),this}setColorByElement(pt,Dt){return this.applyToModels("setColorByElement",pt,Dt),this}static getAtomsWithin(pt,Dt){var wt=[];for(let jt=0;jt<pt.length;jt++){var Bt=pt[jt];typeof Bt>"u"||Bt.x<Dt[0][0]||Bt.x>Dt[1][0]||Bt.y<Dt[0][1]||Bt.y>Dt[1][1]||Bt.z<Dt[0][2]||Bt.z>Dt[1][2]||wt.push(Bt)}return wt}static volume(pt){var Dt=pt[1][0]-pt[0][0],wt=pt[1][1]-pt[0][1],Bt=pt[1][2]-pt[0][2];return Dt*wt*Bt}carveUpExtent(pt,Dt,wt){let Bt=[],jt={};for(let xr=0,In=Dt.length;xr<In;xr++)jt[Dt[xr].index]=xr;let hr=function(xr){let In=[];for(let rn=0,Sr=xr.length;rn<Sr;rn++)xr[rn].index in jt&&In.push(jt[xr[rn].index]);return In},gr=function(xr){let In=[];return In[0]=[xr[0][0],xr[0][1],xr[0][2]],In[1]=[xr[1][0],xr[1][1],xr[1][2]],In},Cr=function(xr){if(it.volume(xr)<it.maxVolume)return[xr];var In=xr[1][0]-xr[0][0],rn=xr[1][1]-xr[0][1],Sr=xr[1][2]-xr[0][2],Tr;In>rn&&In>Sr?Tr=0:rn>In&&rn>Sr?Tr=1:Tr=2;var Ln=gr(xr),Fn=gr(xr),Or=(xr[1][Tr]-xr[0][Tr])/2+xr[0][Tr];Ln[1][Tr]=Or,Fn[0][Tr]=Or;var Nn=Cr(Ln),eo=Cr(Fn);return Nn.concat(eo)},wr=Cr(pt),yr=6;for(let xr=0,In=wr.length;xr<In;xr++){let rn=gr(wr[xr]);rn[0][0]-=yr,rn[0][1]-=yr,rn[0][2]-=yr,rn[1][0]+=yr,rn[1][1]+=yr,rn[1][2]+=yr;let Sr=it.getAtomsWithin(Dt,rn),Tr=it.getAtomsWithin(wt,wr[xr]);Bt.push({extent:wr[xr],atoms:hr(Sr),toshow:hr(Tr)})}return Bt}static generateSurfaceMesh(pt,Dt,wt){var Bt=new c.Geometry(!0),jt=Bt.updateGeoGroup(0),hr=[];for(let cs=0,Gs=pt.length;cs<Gs;cs++){var gr=pt[cs];gr&&(typeof gr.surfaceColor<"u"?hr[cs]=gr.surfaceColor:gr.color&&(hr[cs]=g.CC.color(gr.color)))}var Cr=jt.vertexArray,wr=Dt.vertices;for(let cs=0,Gs=wr.length;cs<Gs;cs++){let $n=jt.vertices*3;Cr[$n]=wr[cs].x,Cr[$n+1]=wr[cs].y,Cr[$n+2]=wr[cs].z,jt.vertices++}var yr=jt.colorArray;if(wt.voldata&&wt.volscheme){var xr=wt.volscheme,In=wt.voldata,rn=xr.range()||[-1,1];for(let cs=0,Gs=wr.length;cs<Gs;cs++){let $n=In.getVal(wr[cs].x,wr[cs].y,wr[cs].z),Kn=g.CC.color(xr.valueToHex($n,rn)),Bn=cs*3;yr[Bn]=Kn.r,yr[Bn+1]=Kn.g,yr[Bn+2]=Kn.b}}else if(hr.length>0)for(let cs=0,Gs=wr.length;cs<Gs;cs++){let $n=wr[cs].atomid,Kn=cs*3;yr[Kn]=hr[$n].r,yr[Kn+1]=hr[$n].g,yr[Kn+2]=hr[$n].b}var Sr=Dt.faces;jt.faceidx=Sr.length,Bt.initTypedArrays();var Tr=jt.vertexArray,Ln=jt.normalArray,Fn,Or,Nn,eo;for(let cs=0,Gs=Sr.length;cs<Gs;cs+=3){var uo=Sr[cs],wo=Sr[cs+1],bo=Sr[cs+2],es=uo*3,rs=wo*3,vo=bo*3;Fn=new h.Vector3(Tr[es],Tr[es+1],Tr[es+2]),Or=new h.Vector3(Tr[rs],Tr[rs+1],Tr[rs+2]),Nn=new h.Vector3(Tr[vo],Tr[vo+1],Tr[vo+2]),Nn.subVectors(Nn,Or),Fn.subVectors(Fn,Or),Nn.cross(Fn),eo=Nn,eo.normalize(),Ln[es]+=eo.x,Ln[rs]+=eo.x,Ln[vo]+=eo.x,Ln[es+1]+=eo.y,Ln[rs+1]+=eo.y,Ln[vo+1]+=eo.y,Ln[es+2]+=eo.z,Ln[rs+2]+=eo.z,Ln[vo+2]+=eo.z}jt.faceArray=new Uint16Array(Sr);var gs=new c.Mesh(Bt,wt);return gs}static generateMeshSyncHelper(pt,Dt,wt,Bt,jt,hr){var gr=new _t.ProteinSurface;return gr.initparm(Dt,pt!==1,hr),gr.fillvoxels(jt,wt),gr.buildboundary(),(pt==_t.SurfaceType.SES||pt==_t.SurfaceType.MS)&&(gr.fastdistancemap(),gr.boundingatom(!1),gr.fillvoxelswaals(jt,wt)),gr.marchingcube(pt),gr.getFacesAndVertices(Bt)}static getMatWithStyle(pt){var Dt=new c.MeshLambertMaterial;Dt.vertexColors=c.Coloring.VertexColors;for(var wt in pt)wt==="color"||wt==="map"||pt.hasOwnProperty(wt)&&(Dt[wt]=pt[wt]);return pt.opacity!==void 0&&(pt.opacity===1?Dt.transparent=!1:Dt.transparent=!0),Dt}addMesh(pt){var Dt={geo:pt.geometry,mat:pt.material,done:!0,finished:!1},wt=this.nextSurfID();return this.surfaces[wt]=Dt,wt}static shallowCopy(pt){var Dt=[];let wt=pt.length;for(let Bt=0;Bt<wt;Bt++)Dt[Bt]=(0,b.extend)({},pt[Bt]);return Dt}addSurface(pt,Dt={},wt={},Bt,jt,hr){let gr=this.nextSurfID(),Cr=null,wr=this,yr=_t.SurfaceType.VDW;typeof pt=="string"?it.surfaceTypeMap[pt.toUpperCase()]!==void 0?yr=it.surfaceTypeMap[pt]:console.log("Surface type : "+pt+" is not recognized"):typeof pt=="number"&&(yr=pt);var xr=null,In=null,rn=it.shallowCopy(this.getAtomsFromSel(wt));Bt?xr=it.shallowCopy(this.getAtomsFromSel(Bt)):xr=rn,(0,b.adjustVolumeStyle)(Dt);var Sr=!1,Tr;for(Tr=0;Tr<this.models.length;Tr++)if(this.models[Tr]){var Ln=this.models[Tr].getSymmetries();if(Ln.length>1||Ln.length==1&&!Ln[0].isIdentity()){Sr=!0;break}}var Fn=function(bo,es,rs){jt?In=it.shallowCopy(wr.getAtomsFromSel(jt)):In=rs;var vo,gs=(0,b.getExtent)(rs,!0);if(Dt.map&&Dt.map.prop){var cs=Dt.map.prop;let Ps=(0,$.getGradient)(Dt.map.scheme||Dt.map.gradient||new $.Gradient.RWB),Ks=Ps.range();Ks||(Ks=(0,b.getPropertyRange)(rs,cs)),Dt.colorscheme={prop:cs,gradient:Ps}}for(let Ps=0,Ks=es.length;Ps<Ks;Ps++)vo=es[Ps],vo.surfaceColor=(0,b.getColorFromStyle)(vo,Dt);var Gs=it.volume(gs),$n=wr.carveUpExtent(gs,es,rs);if(In&&In.length&&In.length>0){var Kn=(0,b.getExtent)(In,!0),Bn=function(Ps,Ks){var Bs=function(Zn,Vn){var qn=Zn.extent,hs=qn[1][0]-qn[0][0],us=qn[1][1]-qn[0][1],xs=qn[1][2]-qn[0][2],Rs=hs-Vn[2][0];Rs*=Rs;var zn=us-Vn[2][1];zn*=zn;var ds=xs-Vn[2][2];return ds*=ds,Rs+zn+ds},_l=Bs(Ps,Kn),Cl=Bs(Ks,Kn);return _l-Cl};$n.sort(Bn)}var co=[];for(let Ps=0,Ks=es.length;Ps<Ks;Ps++)vo=es[Ps],co[Ps]={x:vo.x,y:vo.y,z:vo.z,serial:Ps,elem:vo.elem};var vs=!!_t.syncSurface;if(vs){var Ts=function(Ps){return new Promise(function(Ks){for(var Bs=it.generateMeshSyncHelper(yr,$n[Ps].extent,$n[Ps].atoms,$n[Ps].toshow,co,Gs),_l=(0,nt.splitMesh)({vertexArr:Bs.vertices,faceArr:Bs.faces}),Cl=0,Zn=_l.length;Cl<Zn;Cl++){Bs={vertices:_l[Cl].vertexArr,faces:_l[Cl].faceArr};var Vn=it.generateSurfaceMesh(es,Bs,Cr);(0,b.mergeGeos)(bo.geo,Vn)}wr.render(),Ks()})},Fs=[];for(let Ps=0;Ps<$n.length;Ps++)Fs.push(Ts(Ps));return Promise.all(Fs).then(function(){return bo.done=!0,Promise.resolve(gr)})}else{var Os=[];yr<0&&(yr=0);for(let Ps=0,Ks=it.numWorkers;Ps<Ks;Ps++){var Ns=new Worker($3Dmol.SurfaceWorker);Os.push(Ns),Ns.postMessage({type:-1,atoms:co,volume:Gs})}return new Promise(function(Ps,Ks){var Bs=0,_l=function(){!Os||!Os.length||Os.forEach(function(qn){qn&&qn.terminate&&qn.terminate()})},Cl=function(qn){for(var hs=(0,nt.splitMesh)({vertexArr:qn.data.vertices,faceArr:qn.data.faces}),us=0,xs=hs.length;us<xs;us++){var Rs={vertices:hs[us].vertexArr,faces:hs[us].faceArr},zn=it.generateSurfaceMesh(es,Rs,Cr);(0,b.mergeGeos)(bo.geo,zn)}wr.render(),Bs++,Bs==$n.length&&(bo.done=!0,_l(),Ps(gr))},Zn=function(qn){_l(),console.log(qn.message+" ("+qn.filename+":"+qn.lineno+")"),Ks(qn)};for(let qn=0;qn<$n.length;qn++){var Vn=Os[qn%Os.length];Vn.onmessage=Cl,Vn.onerror=Zn,Vn.postMessage({type:yr,expandedExtent:$n[qn].extent,extendedAtoms:$n[qn].atoms,atomsToShow:$n[qn].toshow})}})}};Dt=Dt||{},Cr=it.getMatWithStyle(Dt);var Or=[];Or.style=Dt,Or.atomsel=wt,Or.allsel=Bt,Or.focus=jt;var Nn=null;if(Sr){var eo={},uo={};for(Tr=0;Tr<this.models.length;Tr++)eo[Tr]=[],uo[Tr]=[];for(Tr=0;Tr<xr.length;Tr++)eo[xr[Tr].model].push(xr[Tr]);for(Tr=0;Tr<rn.length;Tr++)uo[rn[Tr].model].push(rn[Tr]);var wo=[];for(Tr=0;Tr<this.models.length;Tr++)uo[Tr].length>0&&(Or.push({geo:new c.Geometry(!0),mat:Cr,done:!1,finished:!1,symmetries:this.models[Tr].getSymmetries()}),wo.push(Fn(Or[Or.length-1],eo[Tr],uo[Tr])));Nn=Promise.all(wo)}else Or.push({geo:new c.Geometry(!0),mat:Cr,done:!1,finished:!1,symmetries:[new h.Matrix4]}),Nn=Fn(Or[Or.length-1],xr,rn);return this.surfaces[gr]=Or,Nn.surfid=gr,hr&&typeof hr=="function"?(Nn.then(function(bo){hr(bo)}),gr):Nn}setSurfaceMaterialStyle(pt,Dt){if((0,b.adjustVolumeStyle)(Dt),this.surfaces[pt]){var wt=this.surfaces[pt];wt.style=Dt;for(var Bt=0;Bt<wt.length;Bt++){var jt=wt[Bt].mat=it.getMatWithStyle(Dt);if(wt[Bt].mat.side=c.FrontSide,Dt.color){wt[Bt].mat.color=Dt.color,wt[Bt].geo.colorsNeedUpdate=!0;const hr=g.CC.color(Dt.color);wt[Bt].geo.setColors(function(){return hr})}else if(jt.voldata&&jt.volscheme){const hr=jt.volscheme,gr=jt.voldata,Cr=g.CC,wr=hr.range()||[-1,1];wt[Bt].geo.setColors(function(yr,xr,In){let rn=gr.getVal(yr,xr,In);return Cr.color(hr.valueToHex(rn,wr))})}wt[Bt].finished=!1}}return this}getSurface(pt){return this.surfaces[pt]}removeSurface(pt){for(var Dt=this.surfaces[pt],wt=0;wt<Dt.length;wt++)Dt[wt]&&Dt[wt].lastGL&&(Dt[wt].geo!==void 0&&Dt[wt].geo.dispose(),Dt[wt].mat!==void 0&&Dt[wt].mat.dispose(),this.modelGroup.remove(Dt[wt].lastGL));return delete this.surfaces[pt],this.show(),this}removeAllSurfaces(){for(var pt in this.surfaces)if(this.surfaces.hasOwnProperty(pt)){for(var Dt=this.surfaces[pt],wt=0;wt<Dt.length;wt++)Dt[wt]&&Dt[wt].lastGL&&(Dt[wt].geo!==void 0&&Dt[wt].geo.dispose(),Dt[wt].mat!==void 0&&Dt[wt].mat.dispose(),this.modelGroup.remove(Dt[wt].lastGL));delete this.surfaces[pt]}return this.show(),this}jmolMoveTo(){var pt=this.modelGroup.position,Dt="center { "+-pt.x+" "+-pt.y+" "+-pt.z+" }; ",wt=this.rotationGroup.quaternion;return Dt+="moveto .5 quaternion { "+wt.x+" "+wt.y+" "+wt.z+" "+wt.w+" };",Dt}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(pt,Dt){Dt=Dt||{};var wt=this.getAtomsFromSel(Dt);if(typeof pt=="function")for(let hr=0,gr=wt.length;hr<gr;hr++){let Cr=wt[hr];pt(Cr)}else for(let hr=0,gr=wt.length;hr<gr;hr++){var Bt=wt[hr];for(let Cr=0,wr=pt.length;Cr<wr;Cr++){let yr=pt[Cr];if(yr.props)for(var jt in yr.props)yr.props.hasOwnProperty(jt)&&this.atomIsSelected(Bt,yr)&&(Bt.properties||(Bt.properties={}),Bt.properties[jt]=yr.props[jt])}}return this}linkViewer(pt){return this.linkedViewers.push(pt),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(pt){this.rotationGroup.position.z=this.CAMERA_Z-pt}setAutoEyeSeparation(pt,Dt){var wt=this.getPerceivedDistance();return Dt||(Dt=5),pt||this.camera.position.x>0?this.camera.position.x=wt*Math.tan(Math.PI/180*Dt):this.camera.position.x=-wt*Math.tan(Math.PI/180*Dt),this.camera.lookAt(new h.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(pt){this.config.cartoonQuality=pt}}it.numWorkers=4,it.maxVolume=64e3,it.surfaceTypeMap={VDW:_t.SurfaceType.VDW,MS:_t.SurfaceType.MS,SAS:_t.SurfaceType.SAS,SES:_t.SurfaceType.SES};function st(Lt,pt){if(Lt=(0,b.getElement)(Lt),!!Lt){pt=pt||{};try{var Dt=new it(Lt,pt);return Dt}catch(wt){throw"error creating viewer: "+wt}}}function Mt(Lt,pt={},Dt={}){if(Lt=(0,b.getElement)(Lt),!!Lt){var wt=[],Bt=document.createElement("canvas");Dt.rows=pt.rows,Dt.cols=pt.cols,Dt.control_all=pt.control_all!=null?pt.control_all:!1,Lt.appendChild(Bt);try{for(var jt=0;jt<pt.rows;jt++){for(var hr=[],gr=0;gr<pt.cols;gr++){Dt.row=jt,Dt.col=gr,Dt.canvas=Bt,Dt.viewers=wt,Dt.control_all=pt.control_all;var Cr=st(Lt,(0,b.extend)({},Dt));hr.push(Cr)}wt.unshift(hr)}}catch(wr){throw"error creating viewer grid: "+wr}return wt}}function bt(Lt){var pt=this;if(Lt=(0,b.getElement)(Lt),!!Lt){var Dt=Mt(Lt,{rows:1,cols:2,control_all:!0});this.glviewer1=Dt[0][0],this.glviewer2=Dt[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var wt=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(jt){return typeof pt.glviewer1[jt]=="function"}),Bt=0;Bt<wt.length;Bt++)this[wt[Bt]]=function(jt){return function(){var hr=this.glviewer1[jt].apply(this.glviewer1,arguments),gr=this.glviewer2[jt].apply(this.glviewer2,arguments);return[hr,gr]}}(wt[Bt]);this.setCoordinates=function(jt,hr,gr){for(var Cr=0;Cr<jt.length;Cr++)jt[Cr].setCoordinates(hr,gr)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(jt){this.glviewer1.render(),this.glviewer2.render(),jt&&jt(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(a,e,o)=>{o.r(e),o.d(e,{CustomLinear:()=>nt,Gradient:()=>_t,GradientType:()=>h,ROYGB:()=>j,RWB:()=>$,Sinebow:()=>rt,builtinGradients:()=>ot,getGradient:()=>b,normalizeValue:()=>g});var c=o("./src/colors.ts");class h{}function g(Et,It,it){return It>=Et?(it<Et&&(it=Et),it>It&&(it=It),{lo:Et,hi:It,val:it}):(it>Et&&(it=Et),it<It&&(it=It),it=Et-it+It,{lo:It,hi:Et,val:it})}function b(Et){if(Et instanceof h)return Et;if(Et.gradient!==void 0&&ot[Et.gradient]){let It=Et.min===void 0?-1:Et.min,it=Et.max===void 0?1:Et.max;return Et.mid===void 0?Et.colors===void 0?new ot[Et.gradient](It,it):new ot[Et.gradient](It,it,Et.colors):new ot[Et.gradient](It,it,Et.mid)}return Et}class $ extends h{constructor(It,it,st){super(),this.gradient="RWB",this.mult=1,this.mid=st,this.min=It,this.max=it,typeof it>"u"&&Array.isArray(It)&&It.length>=2?(this.max=It[1],this.min=It[0]):It&&it&&!Array.isArray(It)&&(this.min=It,this.max=it)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(It,it){var st,Mt;if(It=this.mult*It,it?(st=it[0],Mt=it[1]):(st=this.min,Mt=this.max),It===void 0)return 16777215;var bt=g(st,Mt,It);st=bt.lo,Mt=bt.hi,It=bt.val;var Lt=(Mt+st)/2;it&&typeof it[2]<"u"?Lt=it[2]:typeof this.mid<"u"?Lt=this.mid:Lt=(st+Mt)/2;var pt,Dt;return It<Lt?(pt=Math.floor(255*Math.sqrt((It-st)/(Lt-st))),Dt=16711680+256*pt+pt,Dt):It>Lt?(pt=Math.floor(255*Math.sqrt(1-(It-Lt)/(Mt-Lt))),Dt=65536*pt+256*pt+255,Dt):16777215}}class j extends h{constructor(It,it){super(),this.gradient="ROYGB",this.mult=1,this.min=It,this.max=it,typeof it>"u"&&Array.isArray(It)&&It.length>=2?(this.max=It[1],this.min=It[0]):It&&it&&!Array.isArray(It)&&(this.min=It,this.max=it)}valueToHex(It,it){var st,Mt;if(It=this.mult*It,it?(st=it[0],Mt=it[1]):(st=this.min,Mt=this.max),typeof It>"u")return 16777215;var bt=g(st,Mt,It);st=bt.lo,Mt=bt.hi,It=bt.val;var Lt=(st+Mt)/2,pt=(st+Lt)/2,Dt=(Lt+Mt)/2,wt,Bt;return It<pt?(wt=Math.floor(255*Math.sqrt((It-st)/(pt-st))),Bt=16711680+256*wt+0,Bt):It<Lt?(wt=Math.floor(255*Math.sqrt(1-(It-pt)/(Lt-pt))),Bt=65536*wt+65280+0,Bt):It<Dt?(wt=Math.floor(255*Math.sqrt((It-Lt)/(Dt-Lt))),Bt=65280+1*wt,Bt):(wt=Math.floor(255*Math.sqrt(1-(It-Dt)/(Mt-Dt))),Bt=0+256*wt+255,Bt)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class rt extends h{constructor(It,it){super(),this.gradient="Sinebow",this.mult=1,this.min=It,this.max=it,typeof it>"u"&&Array.isArray(It)&&It.length>=2&&(this.max=It[1],this.min=It[0]),it<It&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(It,it){var st,Mt;if(It=this.mult*It,it?(st=it[0],Mt=it[1]):(st=this.min,Mt=this.max),typeof It>"u")return 16777215;var bt=_t.normalizeValue(st,Mt,It);st=bt.lo,Mt=bt.hi,It=bt.val;var Lt=(It-st)/(Mt-st),pt=5*Lt/6+.5,Dt=Math.sin(Math.PI*pt);Dt*=Dt*255;var wt=Math.sin(Math.PI*(pt+1/3));wt*=wt*255;var Bt=Math.sin(Math.PI*(pt+2/3));return Bt*=Bt*255,65536*Math.floor(Dt)+256*Math.floor(Bt)+1*Math.floor(wt)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class nt extends h{constructor(It,it,st){super(),this.gradient="linear",this.colors=new Array;var Mt;if(Array.isArray(It)&&It.length>=2?(this.max=It[1],this.min=It[0],Mt=it):(this.min=It,this.max=it,Mt=st),Mt)for(let bt of Mt)this.colors.push(c.CC.color(bt));else this.colors.push(c.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(It,it){var st,Mt;if(it?(st=it[0],Mt=it[1]):(st=this.min,Mt=this.max),It===void 0)return 16777215;var bt=g(st,Mt,It);st=bt.lo,Mt=bt.hi,It=bt.val;let Lt=this.colors.length,pt=(Mt-st)/Lt,Dt=Math.min(Math.floor((It-st)/pt),Lt-1),wt=Math.min(Dt+1,Lt-1),Bt=(It-st-Dt*pt)/pt,jt=this.colors[Dt],hr=this.colors[wt];return new c.Color(jt.r+Bt*(hr.r-jt.r),jt.g+Bt*(hr.g-jt.g),jt.b+Bt*(hr.b-jt.b)).getHex()}}const ot={rwb:$,RWB:$,roygb:j,ROYGB:j,sinebow:rt,linear:nt};class _t extends h{valueToHex(It,it){return 0}range(){return null}}_t.RWB=$,_t.ROYGB=j,_t.Sinebow=rt,_t.CustomLinear=nt,_t.builtinGradients=ot,_t.normalizeValue=g,_t.getGradient=b},"./src/Label.ts":(a,e,o)=>{o.r(e),o.d(e,{Label:()=>rt,LabelCount:()=>b});var c=o("./src/WebGL/index.ts"),h=o("./src/Gradient.ts"),g=o("./src/colors.ts");let b=0;function $(nt,ot,_t,Et,It,it,st){nt.beginPath(),nt.moveTo(ot+it,_t),nt.lineTo(ot+Et-it,_t),nt.quadraticCurveTo(ot+Et,_t,ot+Et,_t+it),nt.lineTo(ot+Et,_t+It-it),nt.quadraticCurveTo(ot+Et,_t+It,ot+Et-it,_t+It),nt.lineTo(ot+it,_t+It),nt.quadraticCurveTo(ot,_t+It,ot,_t+It-it),nt.lineTo(ot,_t+it),nt.quadraticCurveTo(ot,_t,ot+it,_t),nt.closePath(),nt.fill(),st&&nt.stroke()}function j(nt,ot,_t){var Et=_t;return typeof nt<"u"&&(nt instanceof g.Color?Et=nt.scaled():(Et=g.CC.color(nt),typeof Et.scaled<"u"&&(Et=Et.scaled()))),typeof ot<"u"&&(Et.a=parseFloat(ot)),Et}class rt{constructor(ot,_t){this.id=b++,this.stylespec=_t||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new c.Sprite,this.text=ot,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}setContext(){var ot=this.stylespec,_t=typeof ot.useScreen>"u"?!1:ot.useScreen,Et=ot.showBackground;(Et==="0"||Et==="false")&&(Et=!1),typeof Et>"u"&&(Et=!0);var It=ot.font?ot.font:"sans-serif",it=parseInt(ot.fontSize)?parseInt(ot.fontSize):18,st=j(ot.fontColor,ot.fontOpacity,{r:255,g:255,b:255,a:1}),Mt=ot.padding?ot.padding:4,bt=ot.borderThickness?ot.borderThickness:0,Lt=j(ot.backgroundColor,ot.backgroundOpacity,{r:0,g:0,b:0,a:1}),pt=j(ot.borderColor,ot.borderOpacity,Lt),Dt=ot.position?ot.position:{x:-10,y:1,z:1},wt=ot.inFront!==void 0?ot.inFront:!0;(wt==="false"||wt==="0")&&(wt=!1);var Bt=ot.alignment||c.SpriteAlignment.topLeft;typeof Bt=="string"&&Bt in c.SpriteAlignment&&(Bt=c.SpriteAlignment[Bt]);var jt="";ot.bold&&(jt="bold "),this.context.font=jt+it+"px  "+It;var hr=this.context.measureText(this.text),gr=hr.width;Et||(bt=0);var Cr=gr+2.5*bt+2*Mt,wr=it*1.25+2*bt+2*Mt;if(ot.backgroundImage){var yr=ot.backgroundImage,xr=ot.backgroundWidth?ot.backgroundWidth:yr.width,In=ot.backgroundHeight?ot.backgroundHeight:yr.height;xr>Cr&&(Cr=xr),In>wr&&(wr=In)}if(this.canvas.width=Cr,this.canvas.height=wr,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),jt="",ot.bold&&(jt="bold "),this.context.font=jt+it+"px  "+It,this.context.fillStyle="rgba("+Lt.r+","+Lt.g+","+Lt.b+","+Lt.a+")",this.context.strokeStyle="rgba("+pt.r+","+pt.g+","+pt.b+","+pt.a+")",ot.backgroundGradient){let Sr=this.context.createLinearGradient(0,wr/2,Cr,wr/2),Tr=h.Gradient.getGradient(ot.backgroundGradient),Ln=Tr.range(),Fn=-1,Or=1;Ln&&(Fn=Ln[0],Or=Ln[1]);let Nn=Or-Fn;for(let eo=0;eo<1.01;eo+=.1){let uo=j(Tr.valueToHex(Fn+Nn*eo)),wo="rgba("+uo.r+","+uo.g+","+uo.b+","+uo.a+")";Sr.addColorStop(eo,wo)}this.context.fillStyle=Sr}this.context.lineWidth=bt,Et&&$(this.context,bt,bt,Cr-2*bt,wr-2*bt,6,bt>0),ot.backgroundImage&&this.context.drawImage(yr,0,0,Cr,wr),this.context.fillStyle="rgba("+st.r+","+st.g+","+st.b+","+st.a+")",this.context.fillText(this.text,bt+Mt,it+bt+Mt,gr);var rn=new c.Texture(this.canvas);rn.needsUpdate=!0,this.sprite.material=new c.SpriteMaterial({map:rn,useScreenCoordinates:_t,alignment:Bt,depthTest:!wt,screenOffset:ot.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(Dt.x,Dt.y,Dt.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(a,e,o)=>{o.r(e),o.d(e,{MarchingCube:()=>j,MarchingCubeInitializer:()=>$,PointGrid:()=>rt,ProteinSurface:()=>nt,SurfaceType:()=>h,setSyncSurface:()=>b,syncSurface:()=>g});var c=o("./src/WebGL/math/index.ts"),h;(function(ot){ot[ot.VDW=1]="VDW",ot[ot.MS=2]="MS",ot[ot.SAS=3]="SAS",ot[ot.SES=4]="SES"})(h||(h={}));var g=!1;function b(ot){g=ot}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(g=!0);class ${constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(_t,Et,It,it){let st=!!it.fulltable,Mt=it.hasOwnProperty("origin")&&it.origin.hasOwnProperty("x")?it.origin:{x:0,y:0,z:0},bt=!!it.voxel,Lt=it.matrix,pt=it.nX||0,Dt=it.nY||0,wt=it.nZ||0,Bt=it.scale||1,jt=null;it.unitCube?jt=it.unitCube:jt={x:Bt,y:Bt,z:Bt};let hr=new Int32Array(pt*Dt*wt),gr,Cr;for(gr=0,Cr=hr.length;gr<Cr;++gr)hr[gr]=-1;let wr=function(rn,Sr,Tr,Ln,Fn,Or){let Nn={x:0,y:0,z:0},eo=!!(Ln&1<<Fn),uo=!!(Ln&1<<Or),wo=Fn;if(!eo&&uo&&(wo=Or),wo&1&&Tr++,wo&2&&Sr++,wo&4&&rn++,Lt){let es=new c.Vector3(rn,Sr,Tr);es=es.applyMatrix4(Lt),Nn={x:es.x,y:es.y,z:es.z}}else Nn.x=Mt.x+jt.x*rn,Nn.y=Mt.y+jt.y*Sr,Nn.z=Mt.z+jt.z*Tr;let bo=(Dt*rn+Sr)*wt+Tr;return bt?(Et.push(Nn),Et.length-1):(hr[bo]<0&&(hr[bo]=Et.length,Et.push(Nn)),hr[bo])},yr=new Int32Array(12),xr=st?this.edgeTable2:this.edgeTable,In=st?this.triTable2:this.triTable;for(gr=0;gr<pt-1;++gr)for(let rn=0;rn<Dt-1;++rn)for(let Sr=0;Sr<wt-1;++Sr){let Tr=0;for(let Or=0;Or<8;++Or){let Nn=(Dt*(gr+((Or&4)>>2))+rn+((Or&2)>>1))*wt+Sr+(Or&1),eo=!!(_t[Nn]&this.ISDONE);Tr|=eo<<Or}if(Tr===0||Tr===255)continue;let Ln=xr[Tr];if(Ln===0)continue;let Fn=In[Tr];Ln&1&&(yr[0]=wr(gr,rn,Sr,Tr,0,1)),Ln&2&&(yr[1]=wr(gr,rn,Sr,Tr,1,3)),Ln&4&&(yr[2]=wr(gr,rn,Sr,Tr,3,2)),Ln&8&&(yr[3]=wr(gr,rn,Sr,Tr,2,0)),Ln&16&&(yr[4]=wr(gr,rn,Sr,Tr,4,5)),Ln&32&&(yr[5]=wr(gr,rn,Sr,Tr,5,7)),Ln&64&&(yr[6]=wr(gr,rn,Sr,Tr,7,6)),Ln&128&&(yr[7]=wr(gr,rn,Sr,Tr,6,4)),Ln&256&&(yr[8]=wr(gr,rn,Sr,Tr,0,4)),Ln&512&&(yr[9]=wr(gr,rn,Sr,Tr,1,5)),Ln&1024&&(yr[10]=wr(gr,rn,Sr,Tr,3,7)),Ln&2048&&(yr[11]=wr(gr,rn,Sr,Tr,2,6));for(let Or=0;Or<Fn.length;Or+=3){let Nn=yr[Fn[Or]],eo=yr[Fn[Or+1]],uo=yr[Fn[Or+2]];bt&&Or>=3&&(Et.push(Et[Nn]),Nn=Et.length-1,Et.push(Et[eo]),eo=Et.length-1,Et.push(Et[uo]),uo=Et.length-1),It.push(Nn),It.push(eo),It.push(uo)}}}laplacianSmooth(_t,Et,It){let it=new Array(Et.length),st,Mt,bt,Lt,pt;for(st=0,Mt=Et.length;st<Mt;st++)it[st]={x:0,y:0,z:0};let Dt=new Array(20),wt;for(st=0;st<20;st++)Dt[st]=new Array(Et.length);for(st=0,Mt=Et.length;st<Mt;st++)Dt[0][st]=0;for(st=0,Mt=It.length/3;st<Mt;st++){let hr=st*3,gr=st*3+1,Cr=st*3+2;for(wt=!0,bt=0,Lt=Dt[0][It[hr]];bt<Lt;bt++)if(It[gr]==Dt[bt+1][It[hr]]){wt=!1;break}for(wt&&(Dt[0][It[hr]]++,Dt[Dt[0][It[hr]]][It[hr]]=It[gr]),wt=!0,bt=0,Lt=Dt[0][It[hr]];bt<Lt;bt++)if(It[Cr]==Dt[bt+1][It[hr]]){wt=!1;break}for(wt&&(Dt[0][It[hr]]++,Dt[Dt[0][It[hr]]][It[hr]]=It[Cr]),wt=!0,bt=0,Lt=Dt[0][It[gr]];bt<Lt;bt++)if(It[hr]==Dt[bt+1][It[gr]]){wt=!1;break}for(wt&&(Dt[0][It[gr]]++,Dt[Dt[0][It[gr]]][It[gr]]=It[hr]),wt=!0,bt=0,Lt=Dt[0][It[gr]];bt<Lt;bt++)if(It[Cr]==Dt[bt+1][It[gr]]){wt=!1;break}for(wt&&(Dt[0][It[gr]]++,Dt[Dt[0][It[gr]]][It[gr]]=It[Cr]),wt=!0,bt=0;bt<Dt[0][It[Cr]];bt++)if(It[hr]==Dt[bt+1][It[Cr]]){wt=!1;break}for(wt&&(Dt[0][It[Cr]]++,Dt[Dt[0][It[Cr]]][It[Cr]]=It[hr]),wt=!0,bt=0,Lt=Dt[0][It[Cr]];bt<Lt;bt++)if(It[gr]==Dt[bt+1][It[Cr]]){wt=!1;break}wt&&(Dt[0][It[Cr]]++,Dt[Dt[0][It[Cr]]][It[Cr]]=It[gr])}let Bt=1,jt=.5;for(pt=0;pt<_t;pt++){for(st=0,Mt=Et.length;st<Mt;st++)if(Dt[0][st]<3)it[st].x=Et[st].x,it[st].y=Et[st].y,it[st].z=Et[st].z;else if(Dt[0][st]==3||Dt[0][st]==4){for(it[st].x=0,it[st].y=0,it[st].z=0,bt=0,Lt=Dt[0][st];bt<Lt;bt++)it[st].x+=Et[Dt[bt+1][st]].x,it[st].y+=Et[Dt[bt+1][st]].y,it[st].z+=Et[Dt[bt+1][st]].z;it[st].x+=jt*Et[st].x,it[st].y+=jt*Et[st].y,it[st].z+=jt*Et[st].z,it[st].x/=jt+Dt[0][st],it[st].y/=jt+Dt[0][st],it[st].z/=jt+Dt[0][st]}else{for(it[st].x=0,it[st].y=0,it[st].z=0,bt=0,Lt=Dt[0][st];bt<Lt;bt++)it[st].x+=Et[Dt[bt+1][st]].x,it[st].y+=Et[Dt[bt+1][st]].y,it[st].z+=Et[Dt[bt+1][st]].z;it[st].x+=Bt*Et[st].x,it[st].y+=Bt*Et[st].y,it[st].z+=Bt*Et[st].z,it[st].x/=Bt+Dt[0][st],it[st].y/=Bt+Dt[0][st],it[st].z/=Bt+Dt[0][st]}for(st=0,Mt=Et.length;st<Mt;st++)Et[st].x=it[st].x,Et[st].y=it[st].y,Et[st].z=it[st].z}}}let j=new $;class rt{constructor(_t,Et,It){this.data=new Int32Array(_t*Et*It*3),this.width=Et,this.height=It}set(_t,Et,It,it){let st=((_t*this.width+Et)*this.height+It)*3;this.data[st]=it.ix,this.data[st+1]=it.iy,this.data[st+2]=it.iz}get(_t,Et,It){let it=((_t*this.width+Et)*this.height+It)*3;return{ix:this.data[it],iy:this.data[it+1],iz:this.data[it+2]}}}class nt{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],nt.MarchingCube||(nt.MarchingCube=new $)}getVDWIndex(_t){return!_t.elem||typeof this.vdwRadii[_t.elem]>"u"?"X":_t.elem}getFacesAndVertices(_t){let Et={};for(let st=0,Mt=_t.length;st<Mt;st++)Et[_t[st]]=!0;let It=this.verts;for(let st=0,Mt=It.length;st<Mt;st++)It[st].x=It[st].x/this.scaleFactor-this.ptranx,It[st].y=It[st].y/this.scaleFactor-this.ptrany,It[st].z=It[st].z/this.scaleFactor-this.ptranz;let it=[];for(let st=0,Mt=this.faces.length;st<Mt;st+=3){let bt=this.faces[st],Lt=this.faces[st+1],pt=this.faces[st+2],Dt=It[bt].atomid,wt=It[Lt].atomid,Bt=It[pt].atomid,jt=Dt;wt<jt&&(jt=wt),Bt<jt&&(jt=Bt),Et[jt]&&bt!==Lt&&Lt!==pt&&bt!==pt&&(it.push(bt),it.push(Lt),it.push(pt))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:It,faces:it}}initparm(_t,Et,It){It>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let it=1/this.scaleFactor*5.5;this.pminx=_t[0][0],this.pmaxx=_t[1][0],this.pminy=_t[0][1],this.pmaxy=_t[1][1],this.pminz=_t[0][2],this.pmaxz=_t[1][2],Et?(this.pminx-=this.probeRadius+it,this.pminy-=this.probeRadius+it,this.pminz-=this.probeRadius+it,this.pmaxx+=this.probeRadius+it,this.pmaxy+=this.probeRadius+it,this.pmaxz+=this.probeRadius+it):(this.pminx-=it,this.pminy-=it,this.pminz-=it,this.pmaxx+=it,this.pmaxy+=it,this.pmaxz+=it),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(Et),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(_t){let Et={};for(const It in this.vdwRadii){let it=this.vdwRadii[It];_t?Et[It]=(it+this.probeRadius)*this.scaleFactor+.5:Et[It]=it*this.scaleFactor+.5;let st=Et[It]*Et[It];this.widxz[It]=Math.floor(Et[It])+1,this.depty[It]=new Int32Array(this.widxz[It]*this.widxz[It]);let Mt=0;for(let bt=0;bt<this.widxz[It];bt++)for(let Lt=0;Lt<this.widxz[It];Lt++){let pt=bt*bt+Lt*Lt;if(pt>st)this.depty[It][Mt]=-1;else{let Dt=Math.sqrt(st-pt);this.depty[It][Mt]=Math.floor(Dt)}Mt++}}}fillvoxels(_t,Et){for(let It=0,it=this.vpBits.length;It<it;It++)this.vpBits[It]=0,this.vpDistance[It]=-1,this.vpAtomID[It]=-1;for(let It in Et){let it=_t[Et[It]];it!==void 0&&this.fillAtom(it,_t)}for(let It=0,it=this.vpBits.length;It<it;It++)this.vpBits[It]&this.INOUT&&(this.vpBits[It]|=this.ISDONE)}fillAtom(_t,Et){let It=Math.floor(.5+this.scaleFactor*(_t.x+this.ptranx)),it=Math.floor(.5+this.scaleFactor*(_t.y+this.ptrany)),st=Math.floor(.5+this.scaleFactor*(_t.z+this.ptranz)),Mt=this.getVDWIndex(_t),bt=0,Lt=this.pWidth*this.pHeight;for(let pt=0,Dt=this.widxz[Mt];pt<Dt;pt++)for(let wt=0;wt<Dt;wt++){if(this.depty[Mt][bt]!=-1){for(let Bt=-1;Bt<2;Bt++)for(let jt=-1;jt<2;jt++)for(let hr=-1;hr<2;hr++)if(Bt!==0&&jt!==0&&hr!==0){let gr=Bt*pt,Cr=hr*wt;for(let wr=0;wr<=this.depty[Mt][bt];wr++){let yr=wr*jt,xr=It+gr,In=it+yr,rn=st+Cr;if(xr<0||In<0||rn<0||xr>=this.pLength||In>=this.pWidth||rn>=this.pHeight)continue;let Sr=xr*Lt+In*this.pHeight+rn;if(!(this.vpBits[Sr]&this.INOUT))this.vpBits[Sr]|=this.INOUT,this.vpAtomID[Sr]=_t.serial;else{let Tr=Et[this.vpAtomID[Sr]];if(Tr.serial!=_t.serial){let Ln=It+gr-Math.floor(.5+this.scaleFactor*(Tr.x+this.ptranx)),Fn=it+yr-Math.floor(.5+this.scaleFactor*(Tr.y+this.ptrany)),Or=st+Cr-Math.floor(.5+this.scaleFactor*(Tr.z+this.ptranz));gr*gr+yr*yr+Cr*Cr<Ln*Ln+Fn*Fn+Or*Or&&(this.vpAtomID[Sr]=_t.serial)}}}}}bt++}}fillvoxelswaals(_t,Et){for(let It=0,it=this.vpBits.length;It<it;It++)this.vpBits[It]&=~this.ISDONE;for(let It in Et){let it=_t[Et[It]];it!==void 0&&this.fillAtomWaals(it,_t)}}fillAtomWaals(_t,Et){let It=0,it=Math.floor(.5+this.scaleFactor*(_t.x+this.ptranx)),st=Math.floor(.5+this.scaleFactor*(_t.y+this.ptrany)),Mt=Math.floor(.5+this.scaleFactor*(_t.z+this.ptranz)),bt=this.getVDWIndex(_t),Lt=this.pWidth*this.pHeight;for(let pt=0,Dt=this.widxz[bt];pt<Dt;pt++)for(let wt=0;wt<Dt;wt++){if(this.depty[bt][It]!=-1){for(let Bt=-1;Bt<2;Bt++)for(let jt=-1;jt<2;jt++)for(let hr=-1;hr<2;hr++)if(Bt!==0&&jt!==0&&hr!==0){let gr=Bt*pt,Cr=hr*wt;for(let wr=0;wr<=this.depty[bt][It];wr++){let yr=wr*jt,xr=it+gr,In=st+yr,rn=Mt+Cr;if(xr<0||In<0||rn<0||xr>=this.pLength||In>=this.pWidth||rn>=this.pHeight)continue;let Sr=xr*Lt+In*this.pHeight+rn;if(!(this.vpBits[Sr]&this.ISDONE))this.vpBits[Sr]|=this.ISDONE,this.vpAtomID[Sr]=_t.serial;else{let Tr=Et[this.vpAtomID[Sr]];if(Tr.serial!=_t.serial){let Ln=it+gr-Math.floor(.5+this.scaleFactor*(Tr.x+this.ptranx)),Fn=st+yr-Math.floor(.5+this.scaleFactor*(Tr.y+this.ptrany)),Or=Mt+Cr-Math.floor(.5+this.scaleFactor*(Tr.z+this.ptranz));gr*gr+yr*yr+Cr*Cr<Ln*Ln+Fn*Fn+Or*Or&&(this.vpAtomID[Sr]=_t.serial)}}}}}It++}}buildboundary(){let _t=this.pWidth*this.pHeight;for(let Et=0;Et<this.pLength;Et++)for(let It=0;It<this.pHeight;It++)for(let it=0;it<this.pWidth;it++){let st=Et*_t+it*this.pHeight+It;if(this.vpBits[st]&this.INOUT){let Mt=0;for(;Mt<26;){let bt=Et+this.nb[Mt][0],Lt=It+this.nb[Mt][2],pt=it+this.nb[Mt][1];if(bt>-1&&bt<this.pLength&&pt>-1&&pt<this.pWidth&&Lt>-1&&Lt<this.pHeight&&!(this.vpBits[bt*_t+pt*this.pHeight+Lt]&this.INOUT)){this.vpBits[st]|=this.ISBOUND;break}else Mt++}}}}fastdistancemap(){let _t=new rt(this.pLength,this.pWidth,this.pHeight),Et=this.pWidth*this.pHeight,It=this.cutRadius*this.cutRadius,it=[],st=[],Mt;for(let pt=0;pt<this.pLength;pt++)for(let Dt=0;Dt<this.pWidth;Dt++)for(let wt=0;wt<this.pHeight;wt++)if(Mt=pt*Et+Dt*this.pHeight+wt,this.vpBits[Mt]&=~this.ISDONE,this.vpBits[Mt]&this.INOUT&&this.vpBits[Mt]&this.ISBOUND){let Bt={ix:pt,iy:Dt,iz:wt};_t.set(pt,Dt,wt,Bt),it.push(Bt),this.vpDistance[Mt]=0,this.vpBits[Mt]|=this.ISDONE,this.vpBits[Mt]&=~this.ISBOUND}do{st=this.fastoneshell(it,_t),it=[];for(let pt=0,Dt=st.length;pt<Dt;pt++)Mt=Et*st[pt].ix+this.pHeight*st[pt].iy+st[pt].iz,this.vpBits[Mt]&=~this.ISBOUND,this.vpDistance[Mt]<=1.0404*It&&it.push({ix:st[pt].ix,iy:st[pt].iy,iz:st[pt].iz})}while(it.length!==0);it=[],st=[],_t=null;let bt=this.scaleFactor-.5;bt<0&&(bt=0);let Lt=It-.5/(.1+bt);for(let pt=0;pt<this.pLength;pt++)for(let Dt=0;Dt<this.pWidth;Dt++)for(let wt=0;wt<this.pHeight;wt++)Mt=pt*Et+Dt*this.pHeight+wt,this.vpBits[Mt]&=~this.ISBOUND,this.vpBits[Mt]&this.INOUT&&(!(this.vpBits[Mt]&this.ISDONE)||this.vpBits[Mt]&this.ISDONE&&this.vpDistance[Mt]>=Lt)&&(this.vpBits[Mt]|=this.ISBOUND)}fastoneshell(_t,Et){let It,it,st,Mt,bt,Lt,pt,Dt,wt,Bt=[];if(_t.length===0)return Bt;let jt={ix:-1,iy:-1,iz:-1},hr=this.pWidth*this.pHeight;for(let gr=0,Cr=_t.length;gr<Cr;gr++){It=_t[gr].ix,it=_t[gr].iy,st=_t[gr].iz,Dt=Et.get(It,it,st);for(let wr=0;wr<6;wr++)jt.ix=It+this.nb[wr][0],jt.iy=it+this.nb[wr][1],jt.iz=st+this.nb[wr][2],jt.ix<this.pLength&&jt.ix>-1&&jt.iy<this.pWidth&&jt.iy>-1&&jt.iz<this.pHeight&&jt.iz>-1&&(wt=jt.ix*hr+this.pHeight*jt.iy+jt.iz,this.vpBits[wt]&this.INOUT&&!(this.vpBits[wt]&this.ISDONE)?(Et.set(jt.ix,jt.iy,st+this.nb[wr][2],Dt),Mt=jt.ix-Dt.ix,bt=jt.iy-Dt.iy,Lt=jt.iz-Dt.iz,pt=Mt*Mt+bt*bt+Lt*Lt,this.vpDistance[wt]=pt,this.vpBits[wt]|=this.ISDONE,this.vpBits[wt]|=this.ISBOUND,Bt.push({ix:jt.ix,iy:jt.iy,iz:jt.iz})):this.vpBits[wt]&this.INOUT&&this.vpBits[wt]&this.ISDONE&&(Mt=jt.ix-Dt.ix,bt=jt.iy-Dt.iy,Lt=jt.iz-Dt.iz,pt=Mt*Mt+bt*bt+Lt*Lt,pt<this.vpDistance[wt]&&(Et.set(jt.ix,jt.iy,jt.iz,Dt),this.vpDistance[wt]=pt,this.vpBits[wt]&this.ISBOUND||(this.vpBits[wt]|=this.ISBOUND,Bt.push({ix:jt.ix,iy:jt.iy,iz:jt.iz})))))}for(let gr=0,Cr=_t.length;gr<Cr;gr++){It=_t[gr].ix,it=_t[gr].iy,st=_t[gr].iz,Dt=Et.get(It,it,st);for(let wr=6;wr<18;wr++)jt.ix=It+this.nb[wr][0],jt.iy=it+this.nb[wr][1],jt.iz=st+this.nb[wr][2],jt.ix<this.pLength&&jt.ix>-1&&jt.iy<this.pWidth&&jt.iy>-1&&jt.iz<this.pHeight&&jt.iz>-1&&(wt=jt.ix*hr+this.pHeight*jt.iy+jt.iz,this.vpBits[wt]&this.INOUT&&!(this.vpBits[wt]&this.ISDONE)?(Et.set(jt.ix,jt.iy,st+this.nb[wr][2],Dt),Mt=jt.ix-Dt.ix,bt=jt.iy-Dt.iy,Lt=jt.iz-Dt.iz,pt=Mt*Mt+bt*bt+Lt*Lt,this.vpDistance[wt]=pt,this.vpBits[wt]|=this.ISDONE,this.vpBits[wt]|=this.ISBOUND,Bt.push({ix:jt.ix,iy:jt.iy,iz:jt.iz})):this.vpBits[wt]&this.INOUT&&this.vpBits[wt]&this.ISDONE&&(Mt=jt.ix-Dt.ix,bt=jt.iy-Dt.iy,Lt=jt.iz-Dt.iz,pt=Mt*Mt+bt*bt+Lt*Lt,pt<this.vpDistance[wt]&&(Et.set(jt.ix,jt.iy,jt.iz,Dt),this.vpDistance[wt]=pt,this.vpBits[wt]&this.ISBOUND||(this.vpBits[wt]|=this.ISBOUND,Bt.push({ix:jt.ix,iy:jt.iy,iz:jt.iz})))))}for(let gr=0,Cr=_t.length;gr<Cr;gr++){It=_t[gr].ix,it=_t[gr].iy,st=_t[gr].iz,Dt=Et.get(It,it,st);for(let wr=18;wr<26;wr++)jt.ix=It+this.nb[wr][0],jt.iy=it+this.nb[wr][1],jt.iz=st+this.nb[wr][2],jt.ix<this.pLength&&jt.ix>-1&&jt.iy<this.pWidth&&jt.iy>-1&&jt.iz<this.pHeight&&jt.iz>-1&&(wt=jt.ix*hr+this.pHeight*jt.iy+jt.iz,this.vpBits[wt]&this.INOUT&&!(this.vpBits[wt]&this.ISDONE)?(Et.set(jt.ix,jt.iy,st+this.nb[wr][2],Dt),Mt=jt.ix-Dt.ix,bt=jt.iy-Dt.iy,Lt=jt.iz-Dt.iz,pt=Mt*Mt+bt*bt+Lt*Lt,this.vpDistance[wt]=pt,this.vpBits[wt]|=this.ISDONE,this.vpBits[wt]|=this.ISBOUND,Bt.push({ix:jt.ix,iy:jt.iy,iz:jt.iz})):this.vpBits[wt]&this.INOUT&&this.vpBits[wt]&this.ISDONE&&(Mt=jt.ix-Dt.ix,bt=jt.iy-Dt.iy,Lt=jt.iz-Dt.iz,pt=Mt*Mt+bt*bt+Lt*Lt,pt<this.vpDistance[wt]&&(Et.set(jt.ix,jt.iy,jt.iz,Dt),this.vpDistance[wt]=pt,this.vpBits[wt]&this.ISBOUND||(this.vpBits[wt]|=this.ISBOUND,Bt.push({ix:jt.ix,iy:jt.iy,iz:jt.iz})))))}return Bt}marchingcubeinit(_t){for(let Et=0,It=this.vpBits.length;Et<It;Et++)_t==1?this.vpBits[Et]&=~this.ISBOUND:_t==4?(this.vpBits[Et]&=~this.ISDONE,this.vpBits[Et]&this.ISBOUND&&(this.vpBits[Et]|=this.ISDONE),this.vpBits[Et]&=~this.ISBOUND):_t==2?this.vpBits[Et]&this.ISBOUND&&this.vpBits[Et]&this.ISDONE?this.vpBits[Et]&=~this.ISBOUND:this.vpBits[Et]&this.ISBOUND&&!(this.vpBits[Et]&this.ISDONE)&&(this.vpBits[Et]|=this.ISDONE):_t==3&&(this.vpBits[Et]&=~this.ISBOUND)}marchingcube(_t){this.marchingcubeinit(_t),this.verts=[],this.faces=[],nt.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let Et=this.pWidth*this.pHeight;for(let It=0,it=this.verts.length;It<it;It++)this.verts[It].atomid=this.vpAtomID[this.verts[It].x*Et+this.pHeight*this.verts[It].y+this.verts[It].z];nt.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}nt.MarchingCube=new $},"./src/VolumeData.ts":(a,e,o)=>{o.r(e),o.d(e,{VolumeData:()=>j});var c=o("./src/utilities.ts"),h=o("./src/WebGL/math/index.ts"),g=o("./src/parsers/VASP.ts"),b=o("./src/parsers/CUBE.ts"),$=o("./node_modules/pako/dist/pako.esm.mjs");class j{constructor(nt,ot,_t){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(Mt){var bt=Mt/(this.size.y*this.size.z),Lt=Mt%(this.size.y*this.size.z),pt=Mt%this.size.z;return bt*=this.unit.x,Lt*=this.unit.y,pt*=this.unit.z,bt+=this.origin.x,Lt+=this.origin.y,pt+=this.origin.z,{x:bt,y:Lt,z:pt}},this.vasp=function(Mt){var bt=Mt.replace(/^\s+/,"").split(/[\n\r]/),Lt=(0,g.VASP)(Mt)[0],pt=Lt.length;if(pt==0){console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var Dt=1.889725992,wt=.036749309,Bt=parseFloat(bt[1]),jt;jt=bt[2].replace(/^\s+/,"").split(/\s+/);var hr=new h.Vector3(parseFloat(jt[0]),parseFloat(jt[1]),parseFloat(jt[2])).multiplyScalar(Bt*Dt);jt=bt[3].replace(/^\s+/,"").split(/\s+/);var gr=new h.Vector3(parseFloat(jt[0]),parseFloat(jt[1]),parseFloat(jt[2])).multiplyScalar(Bt*Dt);jt=bt[4].replace(/^\s+/,"").split(/\s+/);var Cr=new h.Vector3(parseFloat(jt[0]),parseFloat(jt[1]),parseFloat(jt[2])).multiplyScalar(Bt*Dt),wr=hr.x*(gr.y*Cr.z-Cr.y*gr.z)-gr.x*(hr.y*Cr.z-Cr.y*hr.z)+Cr.x*(hr.y*gr.z-gr.y*hr.z);wr=Math.abs(wr)/Math.pow(Dt,3);var yr=1/wr;bt.splice(0,8+pt+1);var xr=bt[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),In=Math.abs(parseFloat(xr[0])),rn=Math.abs(parseFloat(xr[1])),Sr=Math.abs(parseFloat(xr[2])),Tr=this.origin=new h.Vector3(0,0,0);this.size={x:In,y:rn,z:Sr},this.unit=new h.Vector3(hr.x,gr.y,Cr.z),hr=hr.multiplyScalar(1/(Dt*In)),gr=gr.multiplyScalar(1/(Dt*rn)),Cr=Cr.multiplyScalar(1/(Dt*Sr)),(hr.y!=0||hr.z!=0||gr.x!=0||gr.z!=0||Cr.x!=0||Cr.y!=0)&&(this.matrix=new h.Matrix4(hr.x,gr.x,Cr.x,0,hr.y,gr.y,Cr.y,0,hr.z,gr.z,Cr.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new h.Matrix4().makeTranslation(Tr.x,Tr.y,Tr.z)),this.origin=new h.Vector3(0,0,0),this.unit=new h.Vector3(1,1,1)),bt.splice(0,1);var Ln=bt.join(" ");Ln=Ln.replace(/^\s+/,"");var Fn=Ln.split(/[\s\r]+/);Fn.splice(In*rn*Sr+1);for(var Or=Float32Array.from(Fn,parseFloat),Nn=0;Nn<Or.length;Nn++)Or[Nn]=Or[Nn]*yr*wt;this.data=Or},this.dx=function(Mt){var bt=Mt.split(/[\n\r]+/),Lt,pt=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,Dt=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,wt=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,Bt=/data follows/,jt=0;for(jt=0;jt<bt.length;jt++){var hr=bt[jt];if(Lt=pt.exec(hr)){var gr=parseInt(Lt[1]),Cr=parseInt(Lt[2]),wr=parseInt(Lt[3]);this.size={x:gr,y:Cr,z:wr}}else if(Lt=wt.exec(hr)){var yr=parseFloat(Lt[1]);if((parseFloat(Lt[2])!=0||parseFloat(Lt[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),jt+=1,hr=bt[jt],Lt=wt.exec(hr),Lt==null){console.log("Parse error in dx delta matrix");return}var xr=parseFloat(Lt[2]);if((parseFloat(Lt[1])!=0||parseFloat(Lt[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),jt+=1,hr=bt[jt],Lt=wt.exec(hr),Lt==null){console.log("Parse error in dx delta matrix");return}var In=parseFloat(Lt[3]);(parseFloat(Lt[1])!=0||parseFloat(Lt[2])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new h.Vector3(yr,xr,In)}else if(Lt=Dt.exec(hr)){var rn=parseFloat(Lt[1]),Sr=parseFloat(Lt[2]),Tr=parseFloat(Lt[3]);this.origin=new h.Vector3(rn,Sr,Tr)}else if(Lt=Bt.exec(hr))break}if(jt+=1,!this.size||!this.origin||!this.unit||!this.size){console.log("Error parsing dx format");return}var Ln=bt.splice(jt).join(" "),Fn=Ln.split(/[\s\r]+/);this.data=Float32Array.from(Fn,parseFloat)},ot=ot.toLowerCase(),/\.gz$/.test(ot)){ot=ot.replace(/\.gz$/,"");try{this[ot]&&this.isbinary.has(ot)?(typeof nt=="string"&&(nt=(0,c.base64ToArray)(nt)),nt=(0,$.inflate)(nt)):nt=new TextDecoder("utf-8").decode((0,$.inflate)(nt))}catch(Mt){console.log(Mt)}}if(this[ot]&&(this.isbinary.has(ot)&&typeof nt=="string"&&(nt=(0,c.base64ToArray)(nt)),this[ot](nt)),_t){if(_t.negate)for(let Mt=0,bt=this.data.length;Mt<bt;Mt++)this.data[Mt]=-this.data[Mt];if(_t.normalize){var Et=0;for(let Mt=0,bt=this.data.length;Mt<bt;Mt++)Et+=this.data[Mt];var It=Et/this.data.length;Et=0;for(let Mt=0,bt=this.data.length;Mt<bt;Mt++){var it=this.data[Mt]-It;Et+=it*it}var st=Et/this.data.length;for(let Mt=0,bt=this.data.length;Mt<bt;Mt++)this.data[Mt]=(this.data[Mt]-It)/st}}}getIndex(nt,ot,_t){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new h.Matrix4().getInverse(this.matrix));var Et=new h.Vector3(nt,ot,_t);Et=Et.applyMatrix4(this.inversematrix),nt=Et.x,ot=Et.y,_t=Et.z}else nt-=this.origin.x,ot-=this.origin.y,_t-=this.origin.z,nt/=this.unit.x,ot/=this.unit.y,_t/=this.unit.z;return nt=Math.round(nt),ot=Math.round(ot),_t=Math.round(_t),nt<0||nt>=this.size.x||ot<0||ot>=this.size.y||_t<0||_t>=this.size.z?-1:nt*this.size.y*this.size.z+ot*this.size.z+_t}getVal(nt,ot,_t){let Et=this.getIndex(nt,ot,_t);return Et<0?0:this.data[Et]}cube(nt){var ot=nt.split(/\r?\n/);if(!(ot.length<6)){var _t=(0,b.CUBE)(nt,{}).modelData[0].cryst,Et=ot[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),It=parseFloat(Et[0]),it=Math.abs(It);this.origin=_t.origin,this.size=_t.size,this.unit=_t.unit,this.matrix=_t.matrix4;var st=6;It<0&&st++;var Mt=ot.splice(it+st).join(" ");Mt=Mt.replace(/^\s+/,"");var bt=Mt.split(/[\s\r]+/);this.data=Float32Array.from(bt,parseFloat)}}ccp4(nt){var ot={};nt=new Int8Array(nt);var _t=new Int32Array(nt.buffer,0,56),Et=new Float32Array(nt.buffer,0,56),It=new DataView(nt.buffer);if(ot.MAP=String.fromCharCode(It.getUint8(208),It.getUint8(209),It.getUint8(210),It.getUint8(211)),ot.MACHST=[It.getUint8(212),It.getUint8(213)],ot.MACHST[0]===17&&ot.MACHST[1]===17)for(var it=nt.byteLength,st=0;st<it;st+=4)It.setFloat32(st,It.getFloat32(st),!0);ot.NX=_t[0],ot.NY=_t[1],ot.NZ=_t[2],ot.MODE=_t[3],ot.NXSTART=_t[4],ot.NYSTART=_t[5],ot.NZSTART=_t[6],ot.MX=_t[7],ot.MY=_t[8],ot.MZ=_t[9],ot.xlen=Et[10],ot.ylen=Et[11],ot.zlen=Et[12],ot.alpha=Et[13],ot.beta=Et[14],ot.gamma=Et[15],ot.MAPC=_t[16],ot.MAPR=_t[17],ot.MAPS=_t[18],ot.DMIN=Et[19],ot.DMAX=Et[20],ot.DMEAN=Et[21],ot.ISPG=_t[22],ot.NSYMBT=_t[23],ot.LSKFLG=_t[24],ot.originX=Et[49],ot.originY=Et[50],ot.originZ=Et[51],ot.ARMS=Et[54];var Mt=ot,bt=[Mt.xlen,0,0],Lt=[Mt.ylen*Math.cos(Math.PI/180*Mt.gamma),Mt.ylen*Math.sin(Math.PI/180*Mt.gamma),0],pt=[Mt.zlen*Math.cos(Math.PI/180*Mt.beta),Mt.zlen*(Math.cos(Math.PI/180*Mt.alpha)-Math.cos(Math.PI/180*Mt.gamma)*Math.cos(Math.PI/180*Mt.beta))/Math.sin(Math.PI/180*Mt.gamma),0];pt[2]=Math.sqrt(Mt.zlen*Mt.zlen*Math.sin(Math.PI/180*Mt.beta)*Math.sin(Math.PI/180*Mt.beta)-pt[1]*pt[1]);var Dt=[0,bt,Lt,pt],wt=[0,Mt.MX,Mt.MY,Mt.MZ],Bt=[0,Mt.MAPC,Mt.MAPR,Mt.MAPS];this.matrix=new h.Matrix4,this.matrix.set(Dt[Bt[1]][0]/wt[Bt[1]],Dt[Bt[2]][0]/wt[Bt[2]],Dt[Bt[3]][0]/wt[Bt[3]],0,Dt[Bt[1]][1]/wt[Bt[1]],Dt[Bt[2]][1]/wt[Bt[2]],Dt[Bt[3]][1]/wt[Bt[3]],0,Dt[Bt[1]][2]/wt[Bt[1]],Dt[Bt[2]][2]/wt[Bt[2]],Dt[Bt[3]][2]/wt[Bt[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new h.Matrix4().makeTranslation(Mt.NXSTART+Mt.originX,Mt.NYSTART+Mt.originY,Mt.NZSTART+Mt.originZ)),this.origin=new h.Vector3(0,0,0),this.unit=new h.Vector3(1,1,1),this.size={x:ot.NX,y:ot.NY,z:ot.NZ},this.dimensionorder=[ot.MAPC,ot.MAPR,ot.MAPS];var jt=new Float32Array(nt.buffer,1024+ot.NSYMBT),hr=ot.NX,gr=ot.NY,Cr=ot.NZ;this.data=new Float32Array(hr*gr*Cr);for(let wr=0;wr<hr;wr++)for(let yr=0;yr<gr;yr++)for(let xr=0;xr<Cr;xr++)this.data[(wr*gr+yr)*Cr+xr]=jt[(xr*gr+yr)*hr+wr]}}},"./src/VolumetricRender.ts":(a,e,o)=>{o.r(e),o.d(e,{GLVolumetricRender:()=>j});var c=o("./src/WebGL/shapes/index.ts"),h=o("./src/WebGL/math/index.ts"),g=o("./src/WebGL/index.ts"),b=o("./src/colors.ts"),$=o("./src/GLShape.ts");class j{static interpolateArray(nt,ot){function _t(pt,Dt,wt){return pt+(Dt-pt)*wt}var Et=[],It=(nt.length-1)/(ot-1);Et[0]=nt[0];for(var it=1;it<ot-1;it++){var st=it*It,Mt=Math.floor(st),bt=Math.ceil(st),Lt=st-Mt;Et[it]=_t(nt[Mt],nt[bt],Lt)}return Et[ot-1]=nt[nt.length-1],Et}constructor(nt,ot){this.hidden=!1,this.boundingSphere=new c.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,ot=ot||{};var _t=Object.assign([],ot.transferfn);this.subsamples=ot.subsamples||5;let Et=256;_t.forEach(function(hr){hr.value=parseFloat(hr.value)}),_t.sort(function(hr,gr){return hr.value-gr.value}),this.min=_t[0].value,_t.length==0&&_t.push(_t[0]),this.max=_t[_t.length-1].value;var It,it,st,Mt,bt,Lt,pt,Dt,wt,Bt;for(let hr=0;hr<_t.length-1;hr++)if(st=b.CC.color(_t[hr].color),Mt=b.CC.color(_t[hr+1].color),wt=_t[hr].opacity,Bt=_t[hr+1].opacity,It=Math.floor((_t[hr].value-this.min)*Et/(this.max-this.min)),it=Math.floor((_t[hr+1].value-this.min)*Et/(this.max-this.min)),It!=it){bt=j.interpolateArray([st.r*255,Mt.r*255],it-It),Lt=j.interpolateArray([st.g*255,Mt.g*255],it-It),pt=j.interpolateArray([st.b*255,Mt.b*255],it-It),Dt=j.interpolateArray([wt*255,Bt*255],it-It);for(let gr=0;gr<bt.length;gr++)this.transferfunctionbuffer.push(bt[gr]),this.transferfunctionbuffer.push(Lt[gr]),this.transferfunctionbuffer.push(pt[gr]),this.transferfunctionbuffer.push(Dt[gr])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),nt.matrix){let hr=new h.Vector3(0,0,0),gr=new h.Vector3(nt.size.x,nt.size.y,nt.size.z),Cr=new h.Vector3(1,1,1);hr.applyMatrix4(nt.matrix),gr.applyMatrix4(nt.matrix),Cr.applyMatrix4(nt.matrix).sub(hr),this.extent=[[hr.x,hr.y,hr.z],[gr.x,gr.y,gr.z]];for(let In=1;In<7;In++)gr.x=In&1?nt.size.x:0,gr.y=In&2?nt.size.y:0,gr.z=In&4?nt.size.z:0,gr.applyMatrix4(nt.matrix),this.extent[0][0]=Math.min(this.extent[0][0],gr.x),this.extent[0][1]=Math.min(this.extent[0][1],gr.y),this.extent[0][2]=Math.min(this.extent[0][2],gr.z),this.extent[1][0]=Math.max(this.extent[1][0],gr.x),this.extent[1][1]=Math.max(this.extent[1][1],gr.y),this.extent[1][2]=Math.max(this.extent[1][2],gr.z);let wr=gr.x-hr.x,yr=gr.y-hr.y,xr=gr.z-hr.z;this.maxdepth=Math.sqrt(wr*wr+yr*yr+xr*xr),this.minunit=Math.min(Math.min(Cr.x,Cr.y),Cr.z),this.texmatrix=new h.Matrix4().identity().scale({x:nt.size.x,y:nt.size.y,z:nt.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(nt.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new h.Matrix4().identity();let hr=nt.unit.x*nt.size.x,gr=nt.unit.y*nt.size.y,Cr=nt.unit.z*nt.size.z;this.texmatrix.makeTranslation(-nt.origin.x/hr,-nt.origin.y/gr,-nt.origin.z/Cr),this.texmatrix.scale({x:1/hr,y:1/gr,z:1/Cr}),this.minunit=Math.min(Math.min(nt.unit.x,nt.unit.y),nt.unit.z),this.extent=[[nt.origin.x,nt.origin.y,nt.origin.z],[nt.origin.x+hr,nt.origin.y+gr,nt.origin.z+Cr]],this.maxdepth=Math.sqrt(hr*hr+gr*gr+Cr*Cr)}var jt=new $.GLShape({});if(jt.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=jt.finalize(),this.boundingSphere.center=new h.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,ot.coords!==void 0&&ot.seldist!==void 0){let hr=new Uint8Array(nt.data.length),gr=ot.seldist,Cr=gr*gr;for(let wr=0,yr=ot.coords.length;wr<yr;wr++){let xr=ot.coords[wr],In=xr.x-gr,rn=xr.y-gr,Sr=xr.z-gr,Tr=xr.x+gr,Ln=xr.y+gr,Fn=xr.z+gr;if(nt.getIndex(In,rn,Sr)>=0||nt.getIndex(Tr,Ln,Fn)>=0)for(let Or=In;Or<Tr;Or+=this.minunit)for(let Nn=rn;Nn<Ln;Nn+=this.minunit)for(let eo=Sr;eo<Fn;eo+=this.minunit){let uo=nt.getIndex(Or,Nn,eo);uo>=0&&!hr[uo]&&(Or-xr.x)*(Or-xr.x)+(Nn-xr.y)*(Nn-xr.y)+(eo-xr.z)*(eo-xr.z)<Cr&&(hr[uo]=1)}}for(let wr=0,yr=nt.data.length;wr<yr;wr++)hr[wr]==0&&(nt.data[wr]=1/0)}this.data=nt}globj(nt){if(this.renderedShapeObj&&(nt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new g.Object3D;var ot=null,_t=new g.Texture(this.data,!0),Et=new g.Texture(this.transferfunctionbuffer,!1);_t.needsUpdate=!0,Et.needsUpdate=!0,Et.flipY=!1,ot=new g.VolumetricMaterial({transferfn:Et,transfermin:this.min,transfermax:this.max,map:_t,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var It=new g.Mesh(this.geo,ot);this.shapeObj.add(It),this.renderedShapeObj=this.shapeObj.clone(),nt.add(this.renderedShapeObj)}}removegl(nt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),nt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(a,e,o)=>{o.r(e),o.d(e,{Camera:()=>g});var c=o("./src/WebGL/core/index.ts"),h=o("./src/WebGL/math/index.ts");class g extends c.Object3D{constructor($=50,j=1,rt=.1,nt=2e3,ot=!1){super(),this.projectionMatrix=new h.Matrix4,this.projectionMatrixInverse=new h.Matrix4,this.matrixWorldInverse=new h.Matrix4,this.fov=$,this.aspect=j,this.near=rt,this.far=nt;var _t=this.position.z;this.right=_t*Math.tan(Math.PI/180*$),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!ot,this.updateProjectionMatrix()}lookAt($){this.matrix.lookAt(this.position,$,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof h.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(a,e,o)=>{o.r(e),o.d(e,{Fog:()=>h});var c=o("./src/colors.ts");class h{constructor(b,$=1,j=1e3){this.name="",this.color=new c.Color(b),this.near=$,this.far=j}clone(){return new h(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(a,e,o)=>{o.r(e),o.d(e,{Renderer:()=>Et});var c=o("./src/WebGL/Camera.ts"),h=o("./src/WebGL/constants/Sides.ts"),g=o("./src/WebGL/constants/TextureConstants.ts"),b=o("./src/WebGL/core/index.ts"),$=o("./src/colors.ts"),j=o("./src/WebGL/materials/index.ts"),rt=o("./src/WebGL/math/index.ts"),nt=o("./src/WebGL/objects/index.ts"),ot=o("./src/WebGL/shaders/index.ts"),_t=o("./src/WebGL/SpritePlugin.ts");class Et{constructor(it){this.context=null,this.devicePixelRatio=1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._projScreenMatrix=new rt.Matrix4,this._vector3=new rt.Vector3,this._worldInverse=new rt.Matrix4,this._projInverse=new rt.Matrix4,this._textureMatrix=new rt.Matrix4,this._direction=new rt.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new _t.SpritePlugin,this._screenshader=null,this._vertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,it=it||{},this.row=it.row,this.col=it.col,this.rows=it.rows,this.cols=it.cols,this._canvas=it.canvas!==void 0?it.canvas:document.createElement("canvas"),this._precision=it.precision!==void 0?it.precision:"highp",this._alpha=it.alpha!==void 0?it.alpha:!0,this._premultipliedAlpha=it.premultipliedAlpha!==void 0?it.premultipliedAlpha:!0,this._antialias=it.antialias!==void 0?it.antialias:!1,this._stencil=it.stencil!==void 0?it.stencil:!0,this._preserveDrawingBuffer=it.preserveDrawingBuffer!==void 0?it.preserveDrawingBuffer:!1,this._clearColor=it.clearColor!==void 0?new $.Color(it.clearColor):new $.Color(0),this._clearAlpha=it.clearAlpha!==void 0?it.clearAlpha:0,this._outlineMaterial=new j.MeshOutlineMaterial(it.outline),this._outlineSphereImposterMaterial=new j.SphereImposterOutlineMaterial(it.outline),this._outlineStickImposterMaterial=new j.StickImposterOutlineMaterial(it.outline),this._outlineEnabled=!!it.outline,this.domElement=this._canvas,this._canvas.id=it.id,this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this)}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(it,st){this._clearColor.setHex(it),this._clearAlpha=st,this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(it){this._outlineMaterial=new j.MeshOutlineMaterial(it),this._outlineSphereImposterMaterial=new j.SphereImposterOutlineMaterial(it),this._outlineStickImposterMaterial=new j.StickImposterOutlineMaterial(it),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}setViewport(){if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var it=this._canvas.width/this.cols,st=this._canvas.height/this.rows;this._viewportWidth=it,this._viewportHeight=st,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(it*this.col,st*this.row,it,st),this._gl.viewport(it*this.col,st*this.row,it,st)}}setSize(it,st){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var Mt=it/this.cols,bt=st/this.rows;this._canvas.width=it*this.devicePixelRatio,this._canvas.height=st*this.devicePixelRatio,this._viewportWidth=Mt*this.devicePixelRatio,this._viewportHeight=bt*this.devicePixelRatio,this._canvas.style.width=it+"px",this._canvas.style.height=st+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=it*this.devicePixelRatio,this._viewportHeight=this._canvas.height=st*this.devicePixelRatio,this._canvas.style.width=it+"px",this._canvas.style.height=st+"px",this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(it,st,Mt){var bt=0;(it===void 0||it)&&(bt|=this._gl.COLOR_BUFFER_BIT),(st===void 0||st)&&(bt|=this._gl.DEPTH_BUFFER_BIT),(Mt===void 0||Mt)&&(bt|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(bt)}clearTarget(it,st,Mt){this.clear(it,st,Mt)}setMaterialFaces(it,st){var Mt=it.side===h.DoubleSide,bt=it.side===h.BackSide;it.imposter||(bt=st?!bt:bt),this._oldDoubleSided!==Mt&&(Mt?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=Mt),this._oldFlipSided!==bt&&(bt?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=bt),this._gl.cullFace(this._gl.BACK)}setDepthTest(it){this._oldDepthTest!==it&&(it?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=it)}setDepthWrite(it){this._oldDepthWrite!==it&&(this._gl.depthMask(it),this._oldDepthWrite=it)}setBlending(it){it?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(it,st,Mt,bt){it.addEventListener("dispose",this.onMaterialDispose.bind(this));var Lt,pt;if(pt=it.shaderID,pt){var Dt=ot.ShaderLib[pt];it.vertexShader=Dt.vertexShader,it.fragmentShader=Dt.fragmentShader,it.uniforms=ot.ShaderUtils.clone(Dt.uniforms)}Lt={wireframe:it.wireframe,fragdepth:it.imposter,volumetric:it.volumetric},it.program=this.buildProgram(it.fragmentShader,it.vertexShader,it.uniforms,Lt)}renderBuffer(it,st,Mt,bt,Lt,pt){if(bt.visible){var Dt,wt;if(Dt=this.setProgram(it,st,Mt,bt,pt,this),!!Dt){wt=Dt.attributes;var Bt=!1,jt=bt.wireframe?1:0,hr=Lt.id*16777215+Dt.id*2+jt;hr!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=hr,Bt=!0),Bt&&(this.disableAttributes(),wt.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Lt.__webglVertexBuffer),this.enableAttribute(wt.position),this._gl.vertexAttribPointer(wt.position,3,this._gl.FLOAT,!1,0,0)),wt.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Lt.__webglColorBuffer),this.enableAttribute(wt.color),this._gl.vertexAttribPointer(wt.color,3,this._gl.FLOAT,!1,0,0)),wt.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Lt.__webglNormalBuffer),this.enableAttribute(wt.normal),this._gl.vertexAttribPointer(wt.normal,3,this._gl.FLOAT,!1,0,0)),wt.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Lt.__webglOffsetBuffer),this.enableAttribute(wt.offset),this._gl.vertexAttribPointer(wt.offset,3,this._gl.FLOAT,!1,0,0)),wt.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Lt.__webglRadiusBuffer),this.enableAttribute(wt.radius),this._gl.vertexAttribPointer(wt.radius,1,this._gl.FLOAT,!1,0,0)));var gr,Cr;if(pt instanceof nt.Mesh){if(bt.shaderID==="instanced"){var wr=bt.sphere.geometryGroups[0];Bt&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Lt.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,wr.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,Lt.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,wr.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Lt.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,wr.faceArray,this._gl.STATIC_DRAW)),gr=wr.faceidx,this._extInstanced.vertexAttribDivisorANGLE(wt.offset,1),this._extInstanced.vertexAttribDivisorANGLE(wt.radius,1),this._extInstanced.vertexAttribDivisorANGLE(wt.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,gr,this._gl.UNSIGNED_SHORT,0,Lt.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(wt.offset,0),this._extInstanced.vertexAttribDivisorANGLE(wt.radius,0),this._extInstanced.vertexAttribDivisorANGLE(wt.color,0)}else bt.wireframe?(Cr=Lt.lineidx,this.setLineWidth(bt.wireframeLinewidth),Bt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Lt.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,Cr,this._gl.UNSIGNED_SHORT,0)):(gr=Lt.faceidx,Bt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,Lt.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,gr,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=gr,this.info.render.faces+=gr/3}else pt instanceof nt.Line&&(Cr=Lt.vertices,this.setLineWidth(bt.linewidth),this._gl.drawArrays(this._gl.LINES,0,Cr),this.info.render.calls++)}}}render(it,st,Mt){if(!(st instanceof c.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var bt,Lt,pt,Dt,wt,Bt=it.__lights,jt=it.fog;this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&it.updateMatrixWorld(),st.parent===void 0&&st.updateMatrixWorld(),st.matrixWorldInverse.getInverse(st.matrixWorld),this._projScreenMatrix.multiplyMatrices(st.projectionMatrix,st.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(it),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),(this.autoClear||Mt)&&(this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)),wt=it.__webglObjects;var hr=!1;for(bt=0,Lt=wt.length;bt<Lt;bt++)pt=wt[bt],Dt=pt.object,pt.render=!1,Dt.visible&&(this.setupMatrices(Dt,st),this.unrollBufferMaterial(pt),pt.render=!0,pt.volumetric&&(hr=!0));var gr=null;this.setBlending(!1),this.renderObjects(it.__webglObjects,!0,"opaque",st,Bt,jt,!1,gr),this.renderSprites(it,st,!1),this.renderObjects(it.__webglObjects,!0,"blank",st,Bt,jt,!0,gr),this.renderObjects(it.__webglObjects,!1,"transparent",st,Bt,jt,!0,gr),hr&&this._fb&&(this.reinitFrameBuffer(),this.renderObjects(it.__webglObjects,!1,"volumetric",st,Bt,jt,!0,gr)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(it,st,!0)}reinitFrameBuffer(){this.isWebGL1()||(this._fb=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0))}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let it=this._viewportWidth,st=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,it,st),this._gl.viewport(0,0,it,st),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,it,st,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,it,st,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let it=this._viewportWidth,st=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,it,st),this._gl.viewport(0,0,it,st),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var Mt=ot.ShaderLib.screen;this._screenshader=this.buildProgram(Mt.fragmentShader,Mt.vertexShader,Mt.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var bt=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(bt),this._gl.STATIC_DRAW)}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(it){if(it.__webglObjects||(it.__webglObjects=[],it.__webglObjectsImmediate=[],it.__webglSprites=[],it.__webglFlares=[]),it.__objectsAdded.length){for(;it.__objectsAdded.length;)this.addObject(it.__objectsAdded[0],it),it.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;it.__objectsRemoved.length;)this.removeObject(it.__objectsRemoved[0],it),it.__objectsRemoved.splice(0,1);for(var st=0,Mt=it.__webglObjects.length;st<Mt;st++)this.updateObject(it.__webglObjects[st].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(it,st){(it==null||st==null)&&(it=this._canvas.width,st=this._canvas.height);var Mt=it/st;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var bt=it/this.cols,Lt=st/this.rows;Mt=bt/Lt}return Mt}setTexture(it,st,Mt){if(it.needsUpdate){it.__webglInit||(it.__webglInit=!0,it.addEventListener("dispose",this.onTextureDispose.bind(this)),it.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+st);var bt=Mt?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(bt,it.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,it.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,it.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,it.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,it.unpackAlignment);var Lt=this.paramToGL(it.format),pt=this.paramToGL(it.type);if(Mt)this.setTextureParameters(this._gl.TEXTURE_3D,it),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,it.image.size.z,it.image.size.y,it.image.size.x,0,this._gl.RED,this._gl.FLOAT,it.image.data);else{var Dt=it.image,wt=Dt.width,Bt=Dt.height;typeof wt>"u"&&(wt=Dt.length,Lt==this._gl.RGBA&&(wt/=4),Bt=1),this.setTextureParameters(this._gl.TEXTURE_2D,it),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,Lt,Lt,pt,it.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,Lt,wt,Bt,0,Lt,pt,it.image)}it.needsUpdate=!1,it.onUpdate&&it.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+st),Mt?this._gl.bindTexture(this._gl.TEXTURE_3D,it.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,it.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(it){this._enabledAttributes[it]||(this._gl.enableVertexAttribArray(it),this._enabledAttributes[it]=!0)}disableAttributes(){for(let it in this._enabledAttributes)this._enabledAttributes[it]&&(this._gl.disableVertexAttribArray(it),this._enabledAttributes[it]=!1)}setPolygonOffset(it,st,Mt){this._oldPolygonOffset!==it&&(it?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(it){it!==this._oldLineWidth&&(this._gl.lineWidth(it),this._oldLineWidth=it)}deallocateGeometry(it){if(it.__webglInit=void 0,it.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(it.__webglVertexBuffer),it.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(it.__webglColorBuffer),it.geometryGroups!==void 0)for(var st=0,Mt=it.groups;st<Mt;st++){var bt=it.geometryGroups[st];bt.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(bt.__webglVertexBuffer),bt.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(bt.__webglColorBuffer),bt.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(bt.__webglNormalBuffer),bt.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(bt.__webglFaceBuffer),bt.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(bt.__webglLineBuffer)}}deallocateMaterial(it){var st=it.program;if(st!==void 0){it.program=void 0;var Mt,bt,Lt,pt=!1;for(Mt=0,bt=this._programs.length;Mt<bt;Mt++)if(Lt=this._programs[Mt],Lt.program===st){Lt.usedTimes--,Lt.usedTimes===0&&(pt=!0);break}if(pt===!0){var Dt=[];for(Mt=0,bt=this._programs.length;Mt<bt;Mt++)Lt=this._programs[Mt],Lt.program!==st&&Dt.push(Lt);this._programs=Dt,this._gl.deleteProgram(st),this.info.memory.programs--}}}deallocateTexture(it){if(it.image&&it.image.__webglTextureCube)this._gl.deleteTexture(it.image.__webglTextureCube);else{if(!it.__webglInit)return;it.__webglInit=!1,this._gl.deleteTexture(it.__webglTexture)}}onGeometryDispose(it){var st=it.target;st.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(st),this.info.memory.geometries--}onTextureDispose(it){var st=it.target;st.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(st),this.info.memory.textures--}onMaterialDispose(it){var st=it.target;st.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(st)}getShader(it,st){var Mt;return!this.isWebGL1()&&!st.startsWith("#version")&&(st=st.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),it=="fragment"?st=st.replace(/varying/g,"in"):st=st.replace(/varying/g,"out"),st=st.replace(/attribute/g,"in"),st=st.replace(/texture2D/g,"texture"),st=st.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),st=st.replace(/gl_FragColor/g,"glFragColor"),st=`#version 300 es
`+st),it==="fragment"?Mt=this._gl.createShader(this._gl.FRAGMENT_SHADER):it==="vertex"&&(Mt=this._gl.createShader(this._gl.VERTEX_SHADER)),Mt==null?null:(this._gl.shaderSource(Mt,st),this._gl.compileShader(Mt),this._gl.getShaderParameter(Mt,this._gl.COMPILE_STATUS)?Mt:(console.error(this._gl.getShaderInfoLog(Mt)),console.error("could not initialize shader"),null))}buildProgram(it,st,Mt,bt){var Lt,pt,Dt,wt,Bt=[];Bt.push(it),Bt.push(st);for(Lt in bt)Bt.push(Lt),Bt.push(bt[Lt]);for(wt=Bt.join(),Lt=0,pt=this._programs.length;Lt<pt;Lt++){var jt=this._programs[Lt];if(jt.code===wt)return jt.usedTimes++,jt.program}if(this.isWebGL1()&&bt.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(Dt=this._gl.createProgram(),Dt==null)return null;var hr=this._precision,gr="precision "+hr+" float;",Cr=[bt.volumetric?"#version 300 es":"",gr].join(`
`),wr=[bt.volumetric?"#version 300 es":"",bt.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",bt.wireframe?"#define WIREFRAME 1":"",gr].join(`
`),yr=this.getShader("fragment",wr+it),xr=this.getShader("vertex",Cr+st);xr!=null&&this._gl.attachShader(Dt,xr),yr!=null&&this._gl.attachShader(Dt,yr),this._gl.linkProgram(Dt),this._gl.getProgramParameter(Dt,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),Dt.uniforms={},Dt.attributes={};var In,rn,Sr;In=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(rn in Mt)In.push(rn);for(Sr=0;Sr<In.length;Sr++){var Tr=In[Sr];Dt.uniforms[Tr]=this._gl.getUniformLocation(Dt,Tr)}for(In=["position","normal","color","lineDistance","offset","radius"],Sr=0;Sr<In.length;Sr++){var Ln=In[Sr];Dt.attributes[Ln]=this._gl.getAttribLocation(Dt,Ln)}return Dt.id=this._programs_counter++,this._programs.push({program:Dt,code:wt,usedTimes:1}),this.info.memory.programs=this._programs.length,Dt}setProgram(it,st,Mt,bt,Lt,pt){if(bt.needsUpdate&&(bt.program&&this.deallocateMaterial(bt),this.initMaterial(bt,st,Mt,Lt),bt.needsUpdate=!1),bt.program==null)return null;var Dt=!1,wt=bt.program,Bt=wt.uniforms,jt=bt.uniforms;if(wt!=this._currentProgram&&(this._gl.useProgram(wt),this._currentProgram=wt,Dt=!0),bt.id!=this._currentMaterialId&&(this._currentMaterialId=bt.id,Dt=!0),it!=this._currentCamera&&(this._currentCamera=it,Dt=!0),this._gl.uniformMatrix4fv(Bt.projectionMatrix,!1,it.projectionMatrix.elements),this._gl.uniformMatrix4fv(Bt.modelViewMatrix,!1,Lt._modelViewMatrix.elements),this._gl.uniformMatrix3fv(Bt.normalMatrix,!1,Lt._normalMatrix.elements),Dt){if(jt.fogColor.value=Mt.color,jt.fogNear.value=Mt.near,jt.fogFar.value=Mt.far,bt.shaderID.startsWith("lambert")||bt.shaderID==="instanced"||bt.shaderID.endsWith("imposter"))this._gl.uniformMatrix4fv(Bt.viewMatrix,!1,it.matrixWorldInverse.elements),this._lightsNeedUpdate&&(this.setupLights(wt,st),this._lightsNeedUpdate=!1),jt.directionalLightColor.value=this._lights.directional.colors,jt.directionalLightDirection.value=this._lights.directional.positions;else if(bt.shaderID.endsWith("outline"))jt.outlineColor.value=bt.outlineColor,jt.outlineWidth.value=bt.outlineWidth,jt.outlinePushback.value=bt.outlinePushback;else if(bt.shaderID==="volumetric"){Lt._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(Lt._modelViewMatrix),this._projInverse.getInverse(it.projectionMatrix),this._textureMatrix.multiplyMatrices(Lt.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(Bt.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(Bt.projinv,!1,this._projInverse.elements);let hr=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);jt.step.value=Lt.material.unit*hr,jt.maxdepth.value=Lt.material.maxdepth*hr,jt.transfermax.value=Lt.material.transfermax,jt.transfermin.value=Lt.material.transfermin,jt.subsamples.value=Lt.material.subsamples,pt.setTexture(Lt.material.transferfn,4,!1),pt.setTexture(Lt.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}jt.opacity.value=bt.opacity,this.loadMaterialUniforms(Bt,jt)}return wt}loadMaterialUniforms(it,st){var Mt,bt,Lt,pt;for(Mt in st)it[Mt]&&(bt=st[Mt].type,Lt=st[Mt].value,pt=it[Mt],bt==="f"?this._gl.uniform1f(pt,Lt):bt==="i"?this._gl.uniform1i(pt,Lt):bt==="fv"?this._gl.uniform3fv(pt,Lt):bt==="c"?this._gl.uniform3f(pt,Lt.r,Lt.g,Lt.b):bt==="f4"&&this._gl.uniform4f(pt,Lt[0],Lt[1],Lt[2],Lt[3]))}addObject(it,st){var Mt,bt,Lt,pt;if(!it.__webglInit&&(it.__webglInit=!0,it._modelViewMatrix=new rt.Matrix4,it._normalMatrix=new rt.Matrix3,it.geometry!==void 0&&it.geometry.__webglInit===void 0&&(it.geometry.__webglInit=!0,it.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),it instanceof nt.Mesh||it instanceof nt.Line))for(Lt=it.geometry,Mt=0,bt=Lt.geometryGroups.length;Mt<bt;Mt++)pt=Lt.geometryGroups[Mt],pt.id=this._geometryGroupCounter++,pt.__webglVertexBuffer||(it instanceof nt.Mesh?(this.createMeshBuffers(pt),Lt.elementsNeedUpdate=!0,Lt.normalsNeedUpdate=!0):it instanceof nt.Line&&this.createLineBuffers(pt),Lt.verticesNeedUpdate=!0,Lt.colorsNeedUpdate=!0);if(!it.__webglActive){if(it instanceof nt.Mesh||it instanceof nt.Line)for(Lt=it.geometry,Mt=0,bt=Lt.geometryGroups.length;Mt<bt;Mt++)pt=Lt.geometryGroups[Mt],this.addBuffer(st.__webglObjects,pt,it);else it instanceof nt.Sprite&&st.__webglSprites.push(it);it.__webglActive=!0}}updateObject(it){var st=it.geometry,Mt;if(it instanceof nt.Mesh||it instanceof nt.Line){for(var bt=0,Lt=st.geometryGroups.length;bt<Lt;bt++)Mt=st.geometryGroups[bt],(st.verticesNeedUpdate||st.elementsNeedUpdate||st.colorsNeedUpdate||st.normalsNeedUpdate)&&this.setBuffers(Mt,this._gl.STATIC_DRAW);st.verticesNeedUpdate=!1,st.elementsNeedUpdate=!1,st.normalsNeedUpdate=!1,st.colorsNeedUpdate=!1,st.buffersNeedUpdate=!1}}removeObject(it,st){it instanceof nt.Mesh||it instanceof nt.Line?this.removeInstances(st.__webglObjects,it):it instanceof nt.Sprite&&this.removeInstancesDirect(st.__webglSprites,it),it.__webglActive=!1}removeInstances(it,st){for(var Mt=it.length-1;Mt>=0;--Mt)it[Mt].object===st&&it.splice(Mt,1)}removeInstancesDirect(it,st){for(var Mt=it.length-1;Mt>=0;--Mt)it[Mt]===st&&it.splice(Mt,1)}unrollBufferMaterial(it){var st=it.object,Mt=st.material;if(Mt.volumetric)it.opaque=null,it.transparent=null,it.volumetric=Mt;else if(Mt.transparent){if(it.opaque=null,it.volumetric=null,it.transparent=Mt,!Mt.wireframe){var bt=Mt.clone();bt.opacity=0,it.blank=bt}}else it.opaque=Mt,it.transparent=null,it.volumetric=null}setBuffers(it,st){var Mt=it.vertexArray,bt=it.colorArray;if(it.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Mt,st)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Mt,st)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,bt,st),it.normalArray&&it.__webglNormalBuffer!==void 0){var Lt=it.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Lt,st)}if(it.radiusArray&&it.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,it.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,it.radiusArray,st)),it.faceArray&&it.__webglFaceBuffer!==void 0){var pt=it.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,it.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,pt,st)}if(it.lineArray&&it.__webglLineBuffer!==void 0){var Dt=it.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,it.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Dt,st)}}createMeshBuffers(it){it.radiusArray&&(it.__webglRadiusBuffer=this._gl.createBuffer()),it.useOffset&&(it.__webglOffsetBuffer=this._gl.createBuffer()),it.__webglVertexBuffer=this._gl.createBuffer(),it.__webglNormalBuffer=this._gl.createBuffer(),it.__webglColorBuffer=this._gl.createBuffer(),it.__webglFaceBuffer=this._gl.createBuffer(),it.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(it){it.__webglVertexBuffer=this._gl.createBuffer(),it.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(it,st,Mt){it.push({buffer:st,object:Mt,opaque:null,transparent:null})}setupMatrices(it,st){it._modelViewMatrix.multiplyMatrices(st.matrixWorldInverse,it.matrixWorld),it._normalMatrix.getInverse(it._modelViewMatrix),it._normalMatrix.transpose()}filterFallback(it){return this._gl.LINEAR}setTextureParameters(it,st){it==this._gl.TEXTURE_2D?(this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(st.magFilter)),this._gl.texParameteri(it,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(st.minFilter))):(this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(it,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(it,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(it,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(it,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(it,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(it){return it===g.UnsignedByteType?this._gl.UNSIGNED_BYTE:it===g.RGBAFormat?this._gl.RGBA:it===g.NearestFilter?this._gl.NEAREST:0}setupLights(it,st){var Mt,bt,Lt,pt=0,Dt=0,wt=0,Bt,jt,hr=this._lights,gr=hr.directional.colors,Cr=hr.directional.positions,wr=0,yr=0;for(Mt=0,bt=st.length;Mt<bt;Mt++)if(Lt=st[Mt],Bt=Lt.color,jt=Lt.intensity,Lt instanceof b.Light){if(this._direction.getPositionFromMatrix(Lt.matrixWorld),this._vector3.getPositionFromMatrix(Lt.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;Cr[yr]=this._direction.x,Cr[yr+1]=this._direction.y,Cr[yr+2]=this._direction.z,gr[yr]=Bt.r*jt,gr[yr+1]=Bt.g*jt,gr[yr+2]=Bt.b*jt,yr+=3,wr++}hr.ambient[0]=pt,hr.ambient[1]=Dt,hr.ambient[2]=wt,hr.directional.length=wr}initGL(){try{if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var it=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(it[6])}catch(st){console.error(st)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearColor(0,0,0,1),this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(it,st,Mt,bt,Lt,pt,Dt,gr){var Bt,jt,hr,gr,Cr,wr,yr;st?(Cr=it.length-1,wr=-1,yr=-1):(Cr=0,wr=it.length,yr=1);for(var xr=Cr;xr!==wr;xr+=yr)if(Bt=it[xr],Bt.render){if(jt=Bt.object,hr=Bt.buffer,gr=Bt[Mt],!gr)continue;Dt&&this.setBlending(!0),this.setDepthTest(gr.depthTest),this.setDepthWrite(gr.depthWrite),this.setPolygonOffset(gr.polygonOffset,gr.polygonOffsetFactor,gr.polygonOffsetUnits);var In=jt._modelViewMatrix.isReflected();this.setMaterialFaces(gr,In),this.renderBuffer(bt,Lt,pt,gr,hr,jt),(this._outlineEnabled||gr.outline)&&(gr.shaderID=="sphereimposter"?this.renderBuffer(bt,Lt,pt,this._outlineSphereImposterMaterial,hr,jt):gr.shaderID=="stickimposter"?this.renderBuffer(bt,Lt,pt,this._outlineStickImposterMaterial,hr,jt):!gr.wireframe&&gr.shaderID!=="basic"&&gr.opacity!==0&&this.renderBuffer(bt,Lt,pt,this._outlineMaterial,hr,jt))}}renderSprites(it,st,Mt){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(it,st,this._currentWidth,this._currentHeight,Mt),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(a,e,o)=>{o.r(e),o.d(e,{SpritePlugin:()=>h});var c=o("./src/WebGL/shaders/index.ts");class h{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init($){this.gl=$.context,this.renderer=$,this.precision=$.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var j=0;this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=-1,this.sprite.vertices[j++]=1,this.sprite.vertices[j++]=0,this.sprite.vertices[j++]=1,j=0,this.sprite.faces[j++]=0,this.sprite.faces[j++]=1,this.sprite.faces[j++]=2,this.sprite.faces[j++]=0,this.sprite.faces[j++]=2,this.sprite.faces[j++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(c.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const rt={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),rt.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),rt.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),rt.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),rt.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),rt.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),rt.color=this.gl.getUniformLocation(this.sprite.program,"color"),rt.map=this.gl.getUniformLocation(this.sprite.program,"map"),rt.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),rt.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),rt.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),rt.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),rt.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),rt.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),rt.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),rt.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),rt.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),rt.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),rt.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=rt}render($,j,rt,nt,ot){var _t,Et,It,it,st,Mt,bt,Lt,pt,Dt;if(!this.gl)throw new Error("WebGLRenderer not initialized");let wt=[];(_t=$==null?void 0:$.__webglSprites)===null||_t===void 0||_t.forEach(eo=>{(ot&&eo.material.depthTest==!1||!ot&&eo.material.depthTest)&&wt.push(eo)});let Bt=wt.length;if(!Bt)return;const jt=this.sprite.attributes,hr=this.sprite.uniforms;if(!hr)throw new Error("Uniforms not defined");var gr=rt*.5,Cr=nt*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(jt.position),this.gl.enableVertexAttribArray(jt.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(jt.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(jt.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(hr.projectionMatrix,!1,j.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(hr.map,0);var wr=0,yr=0,xr=$.fog;xr?(this.gl.uniform3f(hr.fogColor,xr.color.r,xr.color.g,xr.color.b),this.gl.uniform1f(hr.fogNear,xr.near),this.gl.uniform1f(hr.fogFar,xr.far),this.gl.uniform1i(hr.fogType,1),wr=1,yr=1):(this.gl.uniform1i(hr.fogType,0),wr=0,yr=0);var In;let rn,Sr,Tr,Ln,Fn=[];for(In=0;In<Bt;In++)rn=wt[In],Sr=rn.material,Sr&&(Sr.depthTest==!1&&!ot||!rn.visible||Sr.opacity===0||(Sr.useScreenCoordinates?rn.z=-rn.position.z:(rn._modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,rn.matrixWorld),rn.z=-rn._modelViewMatrix.elements[14])));for(wt.sort(g),In=0;In<Bt;In++)if(rn=wt[In],Sr=rn.material,!!Sr&&!(!rn.visible||Sr.opacity===0)&&Sr.map&&Sr.map.image&&Sr.map.image.width){this.gl.uniform1f((hr==null?void 0:hr.alphaTest)||null,Sr.alphaTest);var Or=Sr.map.image.width,Nn=Sr.map.image.height;Fn[0]=Or*this.renderer.devicePixelRatio/rt,Fn[1]=Nn*this.renderer.devicePixelRatio/nt,Sr.useScreenCoordinates===!0?(this.gl.uniform1i(hr.useScreenCoordinates,1),this.gl.uniform3f(hr.screenPosition,(rn.position.x*this.renderer.devicePixelRatio-gr)/gr,(Cr-rn.position.y*this.renderer.devicePixelRatio)/Cr,Math.max(0,Math.min(1,rn.position.z)))):(this.gl.uniform1i(hr.useScreenCoordinates,0),this.gl.uniformMatrix4fv(hr.modelViewMatrix,!1,rn._modelViewMatrix.elements)),$.fog&&Sr.fog?Ln=yr:Ln=0,wr!==Ln&&(this.gl.uniform1i(hr.fogType,Ln),wr=Ln),Tr=1/(Sr.scaleByViewport?nt:1),Fn[0]*=Tr*rn.scale.x,Fn[1]*=Tr*rn.scale.y;let eo=(Et=Sr==null?void 0:Sr.alignment)===null||Et===void 0?void 0:Et.x,uo=(It=Sr==null?void 0:Sr.alignment)===null||It===void 0?void 0:It.y;Sr.screenOffset&&(eo=(eo||0)+2*Sr.screenOffset.x/Or,uo=(uo||0)+2*Sr.screenOffset.y/Nn),this.gl.uniform2f(hr.uvScale,((it=Sr==null?void 0:Sr.uvScale)===null||it===void 0?void 0:it.x)||1,((st=Sr==null?void 0:Sr.uvScale)===null||st===void 0?void 0:st.y)||1),this.gl.uniform2f(hr.uvOffset,((Mt=Sr==null?void 0:Sr.uvOffset)===null||Mt===void 0?void 0:Mt.x)||0,((bt=Sr==null?void 0:Sr.uvOffset)===null||bt===void 0?void 0:bt.y)||0),this.gl.uniform2f(hr.alignment,eo||0,uo||0),this.gl.uniform1f(hr.opacity,Sr.opacity),this.gl.uniform3f(hr.color,((Lt=Sr==null?void 0:Sr.color)===null||Lt===void 0?void 0:Lt.r)||0,((pt=Sr==null?void 0:Sr.color)===null||pt===void 0?void 0:pt.g)||0,((Dt=Sr==null?void 0:Sr.color)===null||Dt===void 0?void 0:Dt.b)||0),this.gl.uniform1f(hr.rotation,rn.rotation),this.gl.uniform2fv(hr.scale,Fn),this.renderer.setDepthTest(Sr.depthTest),this.renderer.setDepthWrite(Sr.depthWrite),this.renderer.setTexture(Sr.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram($,j){if(!this.gl)throw new Error("WebGL Rendering context not found");var rt=this.gl.createProgram();if(!rt)throw new Error("Error creating webgl program");var nt=this.gl.createShader(this.gl.FRAGMENT_SHADER),ot=this.gl.createShader(this.gl.VERTEX_SHADER);if(!nt)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!ot)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var _t="precision "+j+` float;
`;if(this.gl.shaderSource(nt,_t+$.fragmentShader),this.gl.shaderSource(ot,_t+$.vertexShader),this.gl.compileShader(nt),this.gl.compileShader(ot),!this.gl.getShaderParameter(nt,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(ot,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(nt)} 
      ${this.gl.getShaderInfoLog(ot)}`);return this.gl.attachShader(rt,nt),this.gl.attachShader(rt,ot),this.gl.linkProgram(rt),this.gl.getProgramParameter(rt,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),rt}}function g(b,$){return b.z!==$.z?$.z-b.z:$.id-b.id}},"./src/WebGL/constants/Coloring.ts":(a,e,o)=>{o.r(e),o.d(e,{Coloring:()=>c});var c;(function(h){h[h.NoColors=0]="NoColors",h[h.FaceColors=1]="FaceColors",h[h.VertexColors=2]="VertexColors"})(c||(c={}))},"./src/WebGL/constants/Shading.ts":(a,e,o)=>{o.r(e),o.d(e,{Shading:()=>c});var c;(function(h){h[h.NoShading=0]="NoShading",h[h.FlatShading=1]="FlatShading",h[h.SmoothShading=2]="SmoothShading"})(c||(c={}))},"./src/WebGL/constants/Sides.ts":(a,e,o)=>{o.r(e),o.d(e,{BackSide:()=>h,DoubleSide:()=>g,FrontSide:()=>c});const c=0,h=1,g=2},"./src/WebGL/constants/SpriteAlignment.ts":(a,e,o)=>{o.r(e),o.d(e,{SpriteAlignment:()=>h});var c=o("./src/WebGL/math/index.ts");const h={topLeft:new c.Vector2(1,-1),topCenter:new c.Vector2(0,-1),topRight:new c.Vector2(-1,-1),centerLeft:new c.Vector2(1,0),center:new c.Vector2(0,0),centerRight:new c.Vector2(-1,0),bottomLeft:new c.Vector2(1,1),bottomCenter:new c.Vector2(0,1),bottomRight:new c.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(a,e,o)=>{o.r(e),o.d(e,{ClampToEdgeWrapping:()=>c,FloatType:()=>j,LinearFilter:()=>h,LinearMipMapLinearFilter:()=>b,NearestFilter:()=>g,R32Format:()=>ot,RFormat:()=>nt,RGBAFormat:()=>rt,UnsignedByteType:()=>$});const c=1001,h=1006,g=1007,b=1008,$=1009,j=1010,rt=1021,nt=1022,ot=1023},"./src/WebGL/constants/TextureOperations.ts":(a,e,o)=>{o.r(e),o.d(e,{TextureOperations:()=>c});var c;(function(h){h[h.MultiplyOperation=0]="MultiplyOperation",h[h.MixOperation=1]="MixOperation",h[h.AddOperation=2]="AddOperation"})(c||(c={}))},"./src/WebGL/constants/index.ts":(a,e,o)=>{o.r(e),o.d(e,{BackSide:()=>h.BackSide,ClampToEdgeWrapping:()=>$.ClampToEdgeWrapping,Coloring:()=>c.Coloring,DoubleSide:()=>h.DoubleSide,FloatType:()=>$.FloatType,FrontSide:()=>h.FrontSide,LinearFilter:()=>$.LinearFilter,LinearMipMapLinearFilter:()=>$.LinearMipMapLinearFilter,NearestFilter:()=>$.NearestFilter,R32Format:()=>$.R32Format,RFormat:()=>$.RFormat,RGBAFormat:()=>$.RGBAFormat,Shading:()=>g.Shading,SpriteAlignment:()=>b.SpriteAlignment,TextureOperations:()=>j.TextureOperations,UnsignedByteType:()=>$.UnsignedByteType});var c=o("./src/WebGL/constants/Coloring.ts"),h=o("./src/WebGL/constants/Sides.ts"),g=o("./src/WebGL/constants/Shading.ts"),b=o("./src/WebGL/constants/SpriteAlignment.ts"),$=o("./src/WebGL/constants/TextureConstants.ts"),j=o("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(a,e,o)=>{o.r(e),o.d(e,{EventDispatcher:()=>c});class c{constructor(){this.listeners={}}dispatchEvent(g){var b=this.listeners[g.type];if(b!==void 0){g.target=this;for(var $=0,j=b.length;$<j;$++)b[$].call(this,g)}}removeEventListener(g,b){if(!b)this.listeners[g]=[];else{var $=this.listeners[g].indexOf(b);$!==-1&&this.listeners[g].splice($,1)}}addEventListener(g,b){this.listeners[g]===void 0&&(this.listeners[g]=[]),this.listeners[g].indexOf(b)===-1&&this.listeners[g].push(b)}}},"./src/WebGL/core/Geometry.ts":(a,e,o)=>{o.r(e),o.d(e,{Geometry:()=>rt,GeometryGroup:()=>j,GeometryIDCount:()=>nt});var c=o("./src/WebGL/materials/LineBasicMaterial.ts"),h=o("./src/WebGL/core/EventDispatcher.ts"),g=o("./src/WebGL/math/index.ts"),b=o("./src/colors.ts");const $=65535;class j{constructor(_t=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=_t}setColors(_t){var Et=this.vertexArray,It=this.colorArray;if(!Et)throw new Error("vertex array not initialized");if(!It)throw new Error("color array not initialized");if(Et.length!=It.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var it=0;it<Et.length;it+=3){var st=_t(Et[it],Et[it+1],Et[it+2]);st instanceof b.Color||(st=b.CC.color(st)),It[it]=st.r,It[it+1]=st.g,It[it+2]=st.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var _t=new g.Vector3,Et,It,it,st,Mt=0;Mt<this.vertices;++Mt)Et=Mt*3,It=this.vertexArray[Et],it=this.vertexArray[Et+1],st=this.vertexArray[Et+2],_t.x+=It,_t.y+=it,_t.z+=st;return _t.divideScalar(this.vertices),_t}setNormals(){var _t=this.faceArray,Et=this.vertexArray,It=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!_t)throw new Error("face array not initialized");if(!Et)throw new Error("vertex array not initialized");if(!It)throw new Error("normal array not initialized");for(var it,st,Mt,bt,Lt,pt,Dt,wt=0;wt<_t.length/3;++wt)it=_t[wt*3]*3,st=_t[wt*3+1]*3,Mt=_t[wt*3+2]*3,bt=new g.Vector3(Et[it],Et[it+1],Et[it+2]),Lt=new g.Vector3(Et[st],Et[st+1],Et[st+2]),pt=new g.Vector3(Et[Mt],Et[Mt+1],Et[Mt+2]),bt.subVectors(bt,Lt),pt.subVectors(pt,Lt),pt.cross(bt),Dt=pt,Dt.normalize(),It[it]+=Dt.x,It[st]+=Dt.x,It[Mt]+=Dt.x,It[it+1]+=Dt.y,It[st+1]+=Dt.y,It[Mt+1]+=Dt.y,It[it+2]+=Dt.z,It[st+2]+=Dt.z,It[Mt+2]+=Dt.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var _t=this.faceArray,Et=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!_t)throw new Error("face array not initialized");for(var It=0;It<this.faceidx/3;++It){var it=It*3,st=it*2,Mt=_t[it],bt=_t[it+1],Lt=_t[it+2];Et[st]=Mt,Et[st+1]=bt,Et[st+2]=Mt,Et[st+3]=Lt,Et[st+4]=bt,Et[st+5]=Lt}}}vrml(_t,Et){var It,it,st,Mt,bt,Lt,pt,Dt,wt,Bt,jt,hr,gr,Cr,wr,yr,xr,In,rn="";if(rn+=_t+`Shape {
`+_t+` appearance Appearance {
`+_t+`  material Material {
`+_t+"   diffuseColor "+((It=Et==null?void 0:Et.color)===null||It===void 0?void 0:It.r)+" "+((it=Et==null?void 0:Et.color)===null||it===void 0?void 0:it.g)+" "+((st=Et==null?void 0:Et.color)===null||st===void 0?void 0:st.b)+`
`,Et.wireframe&&this.colorArray){let Tr=this.colorArray;rn+=_t+"    emissiveColor "+Tr[0]+" "+Tr[1]+" "+Tr[2]+`
`}Et!=null&&Et.transparent&&(rn+=_t+"   transparency "+(1-Et.opacity)+`
`),rn+=_t+`  }
`,rn+=_t+` }
`;var Sr=_t;if(_t+=" ",Et instanceof c.LineBasicMaterial||Et.wireframe){rn+=_t+`geometry IndexedLineSet {
`+_t+` colorPerVertex TRUE
`+_t+` coord Coordinate {
`+_t+`  point [
`;let Tr,Ln,Fn;for(let Or=0;Or<this.vertices;++Or){let Nn=Or*3;Tr=(Mt=this.vertexArray)===null||Mt===void 0?void 0:Mt[Nn],Ln=(bt=this.vertexArray)===null||bt===void 0?void 0:bt[Nn+1],Fn=(Lt=this.vertexArray)===null||Lt===void 0?void 0:Lt[Nn+2],rn+=_t+"   "+Tr+" "+Ln+" "+Fn+`,
`}if(rn+=_t+`  ]
`,rn+=_t+` }
`,this.colorArray&&!Et.wireframe){rn+=_t+` color Color {
`+_t+`  color [
`;for(let Or=0;Or<this.vertices;++Or){let Nn=Or*3;Tr=this.colorArray[Nn],Ln=this.colorArray[Nn+1],Fn=this.colorArray[Nn+2],rn+=_t+"   "+Tr+" "+Ln+" "+Fn+`,
`}rn+=_t+`  ]
`,rn+=_t+` }
`}if(rn+=_t+` coordIndex [
`,Et.wireframe&&this.faceArray)for(let Or=0;Or<this.faceidx;Or+=3)Tr=(pt=this.faceArray)===null||pt===void 0?void 0:pt[Or],Ln=(Dt=this.faceArray)===null||Dt===void 0?void 0:Dt[Or+1],Fn=(wt=this.faceArray)===null||wt===void 0?void 0:wt[Or+2],rn+=_t+"  "+Tr+", "+Ln+", "+Fn+`, -1,
`;else for(let Or=0;Or<this.vertices-1;Or+=2)rn+=_t+"  "+Or+", "+(Or+1)+`, -1,
`;rn+=_t+` ]
`,rn+=_t+`}
`}else{rn+=_t+`geometry IndexedFaceSet {
`+_t+` colorPerVertex TRUE
`+_t+` normalPerVertex TRUE
`+_t+` solid FALSE
`,rn+=_t+` coord Coordinate {
`+_t+`  point [
`;let Tr,Ln,Fn;for(let Or=0;Or<this.vertices;++Or){let Nn=Or*3;Tr=(Bt=this.vertexArray)===null||Bt===void 0?void 0:Bt[Nn],Ln=(jt=this.vertexArray)===null||jt===void 0?void 0:jt[Nn+1],Fn=(hr=this.vertexArray)===null||hr===void 0?void 0:hr[Nn+2],rn+=_t+"   "+Tr+" "+Ln+" "+Fn+`,
`}rn+=_t+`  ]
`,rn+=_t+` }
`,rn+=_t+` normal Normal {
`+_t+`  vector [
`;for(let Or=0;Or<this.vertices;++Or){let Nn=Or*3;Tr=(gr=this.normalArray)===null||gr===void 0?void 0:gr[Nn],Ln=(Cr=this.normalArray)===null||Cr===void 0?void 0:Cr[Nn+1],Fn=(wr=this.normalArray)===null||wr===void 0?void 0:wr[Nn+2],rn+=_t+"   "+Tr+" "+Ln+" "+Fn+`,
`}if(rn+=_t+`  ]
`,rn+=_t+` }
`,this.colorArray){rn+=_t+` color Color {
`+_t+`  color [
`;for(let Or=0;Or<this.vertices;++Or){let Nn=Or*3;Tr=this.colorArray[Nn],Ln=this.colorArray[Nn+1],Fn=this.colorArray[Nn+2],rn+=_t+"   "+Tr+" "+Ln+" "+Fn+`,
`}rn+=_t+`  ]
`,rn+=_t+` }
`}rn+=_t+` coordIndex [
`;for(let Or=0;Or<this.faceidx;Or+=3)Tr=(yr=this.faceArray)===null||yr===void 0?void 0:yr[Or],Ln=(xr=this.faceArray)===null||xr===void 0?void 0:xr[Or+1],Fn=(In=this.faceArray)===null||In===void 0?void 0:In[Or+2],rn+=_t+"  "+Tr+", "+Ln+", "+Fn+`, -1,
`;rn+=_t+` ]
`,rn+=_t+`}
`}return rn+=Sr+"}",rn}truncateArrayBuffers(_t=!0,Et=!1){var It=this.vertexArray,it=this.colorArray,st=this.normalArray,Mt=this.faceArray,bt=this.lineArray,Lt=this.radiusArray;this.vertexArray=(It==null?void 0:It.subarray(0,this.vertices*3))||null,this.colorArray=(it==null?void 0:it.subarray(0,this.vertices*3))||null,_t?(this.normalArray=(st==null?void 0:st.subarray(0,this.vertices*3))||null,this.faceArray=(Mt==null?void 0:Mt.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(bt==null?void 0:bt.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),Lt&&(this.radiusArray=Lt.subarray(0,this.vertices)),Et&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class rt extends h.EventDispatcher{constructor(_t=!1,Et=!1,It=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=nt++,this.mesh=_t,this.radii=Et,this.offset=It}updateGeoGroup(_t=0){var Et,It=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!It||It.vertices+_t>(((Et=It==null?void 0:It.vertexArray)===null||Et===void 0?void 0:Et.length)||0)/3)&&(It=this.addGeoGroup()),It}vrml(_t,Et){for(var It="",it=this.geometryGroups.length,st=0;st<it;st++){var Mt=this.geometryGroups[st];It+=Mt.vrml(_t,Et)+`,
`}return It}addGeoGroup(){var _t=new j(this.geometryGroups.length);return this.geometryGroups.push(_t),this.groups=this.geometryGroups.length,_t.vertexArray=new Float32Array($*3),_t.colorArray=new Float32Array($*3),this.mesh&&(_t.normalArray=new Float32Array($*3),_t.faceArray=new Uint16Array($*6),_t.lineArray=new Uint16Array($*6)),this.radii&&(_t.radiusArray=new Float32Array($)),_t.useOffset=this.offset,_t}setUpNormals(..._t){for(var Et=0;Et<this.groups;Et++){var It=this.geometryGroups[Et];It.setNormals(..._t)}}setColors(..._t){for(var Et=this.geometryGroups.length,It=0;It<Et;It++){var it=this.geometryGroups[It];it.setColors(..._t)}}setUpWireframe(..._t){for(var Et=0;Et<this.groups;Et++){var It=this.geometryGroups[Et];It.setLineIndices(..._t)}}initTypedArrays(){for(var _t=0;_t<this.groups;_t++){var Et=this.geometryGroups[_t];Et.__inittedArrays!==!0&&Et.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var _t=0,Et=0;Et<this.groups;Et++)_t+=this.geometryGroups[Et].vertices;return _t}}let nt=0},"./src/WebGL/core/Object3D.ts":(a,e,o)=>{o.r(e),o.d(e,{Light:()=>j,Object3D:()=>b,Object3DIDCount:()=>g,Scene:()=>$});var c=o("./src/WebGL/math/index.ts"),h=o("./src/colors.ts");let g=0;class b{constructor(){this.id=g++,this.name="",this.children=[],this.position=new c.Vector3,this.rotation=new c.Vector3,this.matrix=new c.Matrix4,this.matrixWorld=new c.Matrix4,this.quaternion=new c.Quaternion,this.eulerOrder="XYZ",this.up=new c.Vector3(0,1,0),this.scale=new c.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(nt){this.matrix.lookAt(nt,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof c.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(nt){if(nt===this){console.error("Can't add $3Dmol.Object3D to itself");return}nt.parent=this,this.children.push(nt);for(var ot=this;ot.parent!==void 0;)ot=ot.parent;ot!==void 0&&ot instanceof $&&ot.__addObject(nt)}remove(nt){var ot=this.children.indexOf(nt);if(ot!==-1){nt.parent=void 0,this.children.splice(ot,1);for(var _t=this;_t.parent!==void 0;)_t=_t.parent;_t!==void 0&&_t instanceof $&&_t.__removeObject(nt)}}vrml(nt){nt||(nt=" ");var ot=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),_t=0,Et=0,It=0;if(ot!=0){let Mt=Math.sin(ot/2);_t=this.quaternion.x/Mt,Et=this.quaternion.y/Mt,It=this.quaternion.z/Mt}var it=nt+`Transform {
`+nt+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+nt+" rotation "+_t+" "+Et+" "+It+" "+ot+`
`+nt+` children [
`;this.geometry&&(it+=this.geometry.vrml(nt,this.material));for(var st=0;st<this.children.length;st++)it+=this.children[st].vrml(nt+" ")+`,
`;return it+=` ]
`,it+="}",it}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof c.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(nt){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||nt===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var ot=0;ot<this.children.length;ot++)this.children[ot].updateMatrixWorld(!0)}clone(nt){nt===void 0&&(nt=new b),nt.name=this.name,nt.up.copy(this.up),nt.position.copy(this.position),nt.rotation instanceof c.Vector3&&this.rotation instanceof c.Vector3?nt.rotation.copy(this.rotation):nt.rotation=this.rotation,nt.eulerOrder=this.eulerOrder,nt.scale.copy(this.scale),nt.rotationAutoUpdate=this.rotationAutoUpdate,nt.matrix.copy(this.matrix),nt.matrixWorld.copy(this.matrixWorld),nt.quaternion.copy(this.quaternion),nt.matrixAutoUpdate=this.matrixAutoUpdate,nt.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,nt.useQuaternion=this.useQuaternion,nt.visible=this.visible;for(var ot=0;ot<this.children.length;ot++){var _t=this.children[ot];nt.add(_t.clone())}return nt}setVisible(nt){this.visible=nt;for(var ot=0;ot<this.children.length;ot++){var _t=this.children[ot];_t.setVisible(nt)}}}class $ extends b{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(nt){if(nt instanceof j)this.__lights.indexOf(nt)===-1&&this.__lights.push(nt),nt.target&&nt.target.parent===void 0&&this.add(nt.target);else if(this.__objects.indexOf(nt)===-1){this.__objects.push(nt),this.__objectsAdded.push(nt);var ot=this.__objectsRemoved.indexOf(nt);ot!==-1&&this.__objectsRemoved.splice(ot,1)}for(var _t=0;_t<nt.children.length;_t++)this.__addObject(nt.children[_t])}__removeObject(nt){var ot;if(nt instanceof j)ot=this.__lights.indexOf(nt),ot!==-1&&this.__lights.splice(ot,1);else if(ot=this.__objects.indexOf(nt),ot!==-1){this.__objects.splice(ot,1),this.__objectsRemoved.push(nt);var _t=this.__objectsAdded.indexOf(nt);_t!==-1&&this.__objectsAdded.splice(ot,1)}for(var Et=0;Et<nt.children.length;Et++)this.__removeObject(nt.children[Et])}}class j extends b{constructor(nt,ot=1){super(),this.position=new c.Vector3(0,1,0),this.target=new b,this.castShadow=!1,this.onlyShadow=!1,this.color=new h.Color(nt),this.intensity=ot}}},"./src/WebGL/core/Projector.ts":(a,e,o)=>{o.r(e),o.d(e,{Projector:()=>g});var c=o("./src/WebGL/math/index.ts");const h=new c.Matrix4;class g{static unprojectVector($,j){return j.projectionMatrixInverse.getInverse(j.projectionMatrix),h.multiplyMatrices(j.matrixWorld,j.projectionMatrixInverse),$.applyProjection(h)}static projectVector($,j){return j.matrixWorldInverse.getInverse(j.matrixWorld),h.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),$.applyProjection(h)}projectVector($,j){return g.projectVector($,j)}unprojectVector($,j){return g.unprojectVector($,j)}}},"./src/WebGL/core/Raycaster.ts":(a,e,o)=>{o.r(e),o.d(e,{Raycaster:()=>$,intersectObject:()=>Mt});var c=o("./src/WebGL/math/index.ts"),h=o("./src/WebGL/shapes/index.ts");const g=(bt,Lt)=>bt.distance-Lt.distance,b=new c.Matrix4;class ${constructor(Lt,pt,Dt,wt){this.precision=1e-4,this.linePrecision=.2,this.ray=new c.Ray(Lt,pt),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=wt||0,this.far=Dt||1/0}set(Lt,pt){this.ray.set(Lt,pt)}setFromCamera(Lt,pt){pt.ortho?(this.ray.origin.set(Lt.x,Lt.y,(pt.near+pt.far)/(pt.near-pt.far)).unproject(pt),this.ray.direction.set(0,0,-1).transformDirection(pt.matrixWorld)):(this.ray.origin.setFromMatrixPosition(pt.matrixWorld),this.ray.direction.set(Lt.x,Lt.y,Lt.z),pt.projectionMatrixInverse.getInverse(pt.projectionMatrix),b.multiplyMatrices(pt.matrixWorld,pt.projectionMatrixInverse),this.ray.direction.applyProjection(b),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(Lt,pt){for(var Dt=[],wt=0,Bt=pt.length;wt<Bt;wt++)Mt(Lt,pt[wt],this,Dt);return Dt.sort(g),Dt}}const j=bt=>Math.min(Math.max(bt,-1),1);var rt=new h.Sphere,nt=new h.Cylinder,ot=new h.Triangle,_t=new c.Vector3,Et=new c.Vector3,It=new c.Vector3,it=new c.Vector3,st=new c.Vector3;function Mt(bt,Lt,pt,Dt){if(st.getPositionFromMatrix(bt.matrixWorld),Lt.intersectionShape===void 0)return Dt;var wt=Lt.intersectionShape,Bt=pt.linePrecision;Bt*=bt.matrixWorld.getMaxScaleOnAxis();var jt=Bt*Bt;if(Lt.boundingSphere!==void 0&&Lt.boundingSphere instanceof h.Sphere&&(rt.copy(Lt.boundingSphere),rt.applyMatrix4(bt.matrixWorld),!pt.ray.isIntersectionSphere(rt)))return Dt;var hr,gr,Cr,wr,yr,xr,In,rn,Sr,Tr,Ln,Fn,Or,Nn;for(hr=0,gr=wt.triangle.length;hr<gr;hr++)if(wt.triangle[hr]instanceof h.Triangle){if(ot.copy(wt.triangle[hr]),ot.applyMatrix4(bt.matrixWorld),Cr=ot.getNormal(),wr=pt.ray.direction.dot(Cr),wr>=0||(_t.subVectors(ot.a,pt.ray.origin),In=Cr.dot(_t)/wr,In<0))continue;Et.copy(pt.ray.direction).multiplyScalar(In).add(pt.ray.origin),Et.sub(ot.a),It.copy(ot.b).sub(ot.a),it.copy(ot.c).sub(ot.a);var eo=It.dot(it),uo=It.lengthSq(),wo=it.lengthSq();if(Fn=(uo*Et.dot(it)-eo*Et.dot(It))/(uo*wo-eo*eo),Fn<0||Fn>1||(Ln=(Et.dot(It)-Fn*eo)/uo,Ln<0||Ln>1||Ln+Fn>1))continue;Dt.push({clickable:Lt,distance:In})}for(hr=0,gr=wt.cylinder.length;hr<gr;hr++)if(wt.cylinder[hr]instanceof h.Cylinder){if(nt.copy(wt.cylinder[hr]),nt.applyMatrix4(bt.matrixWorld),_t.subVectors(nt.c1,pt.ray.origin),yr=_t.dot(nt.direction),xr=_t.dot(pt.ray.direction),wr=j(pt.ray.direction.dot(nt.direction)),Sr=1-wr*wr,Sr===0)continue;Or=(wr*xr-yr)/Sr,Nn=(xr-wr*yr)/Sr,Et.copy(nt.direction).multiplyScalar(Or).add(nt.c1),It.copy(pt.ray.direction).multiplyScalar(Nn).add(pt.ray.origin),rn=it.subVectors(Et,It).lengthSq();var bo=nt.radius*nt.radius;if(rn<=bo){if(Tr=(wr*yr-xr)*(wr*yr-xr)-Sr*(_t.lengthSq()-yr*yr-bo),Tr<=0?Fn=In=Math.sqrt(rn):Fn=In=(xr-wr*yr-Math.sqrt(Tr))/Sr,Ln=wr*Fn-yr,Ln<0||Ln*Ln>nt.lengthSq()||Fn<0)continue;Dt.push({clickable:Lt,distance:In})}}for(hr=0,gr=wt.line.length;hr<gr;hr+=2){Et.copy(wt.line[hr]),Et.applyMatrix4(bt.matrixWorld),It.copy(wt.line[hr+1]),It.applyMatrix4(bt.matrixWorld),it.subVectors(It,Et);var es=it.lengthSq();it.normalize(),_t.subVectors(Et,pt.ray.origin);var rs=_t.dot(it);xr=_t.dot(pt.ray.direction),wr=j(pt.ray.direction.dot(it)),Sr=1-wr*wr,Sr!==0&&(Or=(wr*xr-rs)/Sr,Nn=(xr-wr*rs)/Sr,Et.add(it.multiplyScalar(Or)),It.copy(pt.ray.direction).multiplyScalar(Nn).add(pt.ray.origin),rn=it.subVectors(It,Et).lengthSq(),rn<jt&&Or*Or<es&&Dt.push({clickable:Lt,distance:Nn}))}for(hr=0,gr=wt.sphere.length;hr<gr;hr++)if(wt.sphere[hr]instanceof h.Sphere&&(rt.copy(wt.sphere[hr]),rt.applyMatrix4(bt.matrixWorld),pt.ray.isIntersectionSphere(rt))){Et.subVectors(rt.center,pt.ray.origin);var vo=Et.dot(pt.ray.direction);if(Tr=vo*vo-(Et.lengthSq()-rt.radius*rt.radius),vo<0)return Dt;Tr<=0?In=vo:In=vo-Math.sqrt(Tr),Dt.push({clickable:Lt,distance:In})}return Dt}},"./src/WebGL/core/Texture.ts":(a,e,o)=>{o.r(e),o.d(e,{Texture:()=>$,TextureIdCount:()=>j});var c=o("./src/WebGL/constants/TextureConstants.ts"),h=o("./src/WebGL/math/index.ts"),g=o("./src/WebGL/core/EventDispatcher.ts"),b=o("./src/WebGL/core/UVMapping.ts");class $ extends g.EventDispatcher{constructor(nt,ot){super(),this.id=j++,this.name="",this.image=nt,this.mapping=new b.UVMapping,this.wrapS=c.ClampToEdgeWrapping,this.wrapT=c.ClampToEdgeWrapping,this.anisotropy=1,ot?(this.format=c.RFormat,this.type=c.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=c.NearestFilter,this.minFilter=c.NearestFilter):(this.format=c.RGBAFormat,this.type=c.UnsignedByteType,this.offset=new h.Vector2(0,0),this.repeat=new h.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=c.LinearFilter,this.minFilter=c.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(nt=new $){return nt.image=this.image,nt.mapping=this.mapping,nt.wrapS=this.wrapS,nt.wrapT=this.wrapT,nt.magFilter=this.magFilter,nt.minFilter=this.minFilter,nt.anisotropy=this.anisotropy,nt.format=this.format,nt.type=this.type,nt.offset.copy(this.offset),nt.repeat.copy(this.repeat),nt.premultiplyAlpha=this.premultiplyAlpha,nt.flipY=this.flipY,nt.unpackAlignment=this.unpackAlignment,nt}dispose(){this.dispatchEvent({type:"dispose"})}}let j=0},"./src/WebGL/core/UVMapping.ts":(a,e,o)=>{o.r(e),o.d(e,{UVMapping:()=>c});class c{}},"./src/WebGL/core/index.ts":(a,e,o)=>{o.r(e),o.d(e,{EventDispatcher:()=>c.EventDispatcher,Geometry:()=>h.Geometry,GeometryGroup:()=>h.GeometryGroup,GeometryIDCount:()=>h.GeometryIDCount,Light:()=>g.Light,Object3D:()=>g.Object3D,Object3DIDCount:()=>g.Object3DIDCount,Projector:()=>b.Projector,Raycaster:()=>$.Raycaster,Scene:()=>g.Scene,Texture:()=>j.Texture,TextureIdCount:()=>j.TextureIdCount,UVMapping:()=>rt.UVMapping,intersectObject:()=>$.intersectObject});var c=o("./src/WebGL/core/EventDispatcher.ts"),h=o("./src/WebGL/core/Geometry.ts"),g=o("./src/WebGL/core/Object3D.ts"),b=o("./src/WebGL/core/Projector.ts"),$=o("./src/WebGL/core/Raycaster.ts"),j=o("./src/WebGL/core/Texture.ts"),rt=o("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(a,e,o)=>{o.r(e),o.d(e,{BackSide:()=>c.BackSide,Camera:()=>nt.Camera,ClampToEdgeWrapping:()=>c.ClampToEdgeWrapping,Coloring:()=>c.Coloring,Cylinder:()=>rt.Cylinder,DoubleSide:()=>c.DoubleSide,EventDispatcher:()=>h.EventDispatcher,FloatType:()=>c.FloatType,Fog:()=>ot.Fog,FrontSide:()=>c.FrontSide,Geometry:()=>h.Geometry,GeometryGroup:()=>h.GeometryGroup,GeometryIDCount:()=>h.GeometryIDCount,ImposterMaterial:()=>g.ImposterMaterial,InstancedMaterial:()=>g.InstancedMaterial,Light:()=>h.Light,Line:()=>$.Line,LineBasicMaterial:()=>g.LineBasicMaterial,LineStyle:()=>$.LineStyle,LinearFilter:()=>c.LinearFilter,LinearMipMapLinearFilter:()=>c.LinearMipMapLinearFilter,Material:()=>g.Material,MaterialIdCount:()=>g.MaterialIdCount,Matrix3:()=>b.Matrix3,Matrix4:()=>b.Matrix4,Mesh:()=>$.Mesh,MeshDoubleLambertMaterial:()=>g.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>g.MeshLambertMaterial,MeshOutlineMaterial:()=>g.MeshOutlineMaterial,NearestFilter:()=>c.NearestFilter,Object3D:()=>h.Object3D,Object3DIDCount:()=>h.Object3DIDCount,Projector:()=>h.Projector,Quaternion:()=>b.Quaternion,R32Format:()=>c.R32Format,RFormat:()=>c.RFormat,RGBAFormat:()=>c.RGBAFormat,Ray:()=>b.Ray,Raycaster:()=>h.Raycaster,Renderer:()=>_t.Renderer,Scene:()=>h.Scene,ShaderLib:()=>j.ShaderLib,ShaderUtils:()=>j.ShaderUtils,Shading:()=>c.Shading,Sphere:()=>rt.Sphere,SphereImposterMaterial:()=>g.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>g.SphereImposterOutlineMaterial,Sprite:()=>$.Sprite,SpriteAlignment:()=>c.SpriteAlignment,SpriteMaterial:()=>g.SpriteMaterial,SpritePlugin:()=>Et.SpritePlugin,StickImposterMaterial:()=>g.StickImposterMaterial,StickImposterOutlineMaterial:()=>g.StickImposterOutlineMaterial,Texture:()=>h.Texture,TextureIdCount:()=>h.TextureIdCount,TextureOperations:()=>c.TextureOperations,Triangle:()=>rt.Triangle,UVMapping:()=>h.UVMapping,UnsignedByteType:()=>c.UnsignedByteType,Vector2:()=>b.Vector2,Vector3:()=>b.Vector3,VolumetricMaterial:()=>g.VolumetricMaterial,basic:()=>j.basic,clamp:()=>b.clamp,clone:()=>j.clone,conversionMatrix3:()=>b.conversionMatrix3,degToRad:()=>b.degToRad,instanced:()=>j.instanced,intersectObject:()=>h.intersectObject,lambert:()=>j.lambert,lambertdouble:()=>j.lambertdouble,outline:()=>j.outline,screen:()=>j.screen,screenaa:()=>j.screenaa,sphereimposter:()=>j.sphereimposter,sphereimposteroutline:()=>j.sphereimposteroutline,sprite:()=>j.sprite,stickimposter:()=>j.stickimposter,stickimposteroutline:()=>j.stickimposteroutline,volumetric:()=>j.volumetric});var c=o("./src/WebGL/constants/index.ts"),h=o("./src/WebGL/core/index.ts"),g=o("./src/WebGL/materials/index.ts"),b=o("./src/WebGL/math/index.ts"),$=o("./src/WebGL/objects/index.ts"),j=o("./src/WebGL/shaders/index.ts"),rt=o("./src/WebGL/shapes/index.ts"),nt=o("./src/WebGL/Camera.ts"),ot=o("./src/WebGL/Fog.ts"),_t=o("./src/WebGL/Renderer.ts"),Et=o("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{ImposterMaterial:()=>j});var c=o("./src/WebGL/constants/Coloring.ts"),h=o("./src/WebGL/constants/Shading.ts"),g=o("./src/colors.ts"),b=o("./src/WebGL/math/index.ts"),$=o("./src/WebGL/materials/Material.ts");class j extends $.Material{constructor(nt){super(),this.color=new g.Color(16777215),this.ambient=new g.Color(1048575),this.emissive=new g.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new b.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=h.Shading.SmoothShading,this.shaderID=null,this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.setValues(nt)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.ambient.copy(this.ambient),nt.emissive.copy(this.emissive),nt.wrapAround=this.wrapAround,nt.wrapRGB.copy(this.wrapRGB),nt.map=this.map,nt.lightMap=this.lightMap,nt.specularMap=this.specularMap,nt.envMap=this.envMap,nt.combine=this.combine,nt.reflectivity=this.reflectivity,nt.refractionRatio=this.refractionRatio,nt.fog=this.fog,nt.shading=this.shading,nt.shaderID=this.shaderID,nt.vertexColors=this.vertexColors,nt.skinning=this.skinning,nt.morphTargets=this.morphTargets,nt.morphNormals=this.morphNormals,nt}}},"./src/WebGL/materials/InstancedMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{InstancedMaterial:()=>j});var c=o("./src/WebGL/constants/Coloring.ts"),h=o("./src/WebGL/constants/Shading.ts"),g=o("./src/colors.ts"),b=o("./src/WebGL/math/index.ts"),$=o("./src/WebGL/materials/Material.ts");class j extends $.Material{constructor(nt){super(),this.color=new g.Color(16777215),this.ambient=new g.Color(1048575),this.emissive=new g.Color(0),this.wrapAround=!1,this.wrapRGB=new b.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=h.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(nt)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.ambient.copy(this.ambient),nt.emissive.copy(this.emissive),nt.wrapAround=this.wrapAround,nt.wrapRGB.copy(this.wrapRGB),nt.map=this.map,nt.lightMap=this.lightMap,nt.specularMap=this.specularMap,nt.envMap=this.envMap,nt.combine=this.combine,nt.reflectivity=this.reflectivity,nt.refractionRatio=this.refractionRatio,nt.fog=this.fog,nt.shading=this.shading,nt.shaderID=this.shaderID,nt.vertexColors=this.vertexColors,nt.skinning=this.skinning,nt.morphTargets=this.morphTargets,nt.morphNormals=this.morphNormals,nt.sphere=this.sphere,nt}}},"./src/WebGL/materials/LineBasicMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{LineBasicMaterial:()=>g});var c=o("./src/colors.ts"),h=o("./src/WebGL/materials/Material.ts");class g extends h.Material{constructor($){super(),this.color=new c.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues($)}clone($=new g){return super.clone.call(this,$),$.color.copy(this.color),$}}},"./src/WebGL/materials/Material.ts":(a,e,o)=>{o.r(e),o.d(e,{Material:()=>$,MaterialIdCount:()=>j});var c=o("./src/WebGL/constants/Sides.ts"),h=o("./src/WebGL/core/index.ts"),g=o("./src/WebGL/math/index.ts"),b=o("./src/colors.ts");class $ extends h.EventDispatcher{constructor(){super(...arguments),this.id=j++,this.name="",this.side=c.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1}setValues(nt={}){if(nt!==void 0)for(var ot in nt){var _t=nt[ot];if(_t===void 0){console.warn("$3Dmol.Material: '"+ot+"' parameter is undefined.");continue}if(ot in this){var Et=this[ot];Et instanceof b.Color&&_t instanceof b.Color?Et.copy(_t):Et instanceof b.Color?Et.set(_t):Et instanceof g.Vector3&&_t instanceof g.Vector3?Et.copy(_t):this[ot]=_t}}}clone(nt=new $){return nt.name=this.name,nt.side=this.side,nt.opacity=this.opacity,nt.transparent=this.transparent,nt.depthTest=this.depthTest,nt.depthWrite=this.depthWrite,nt.stencilTest=this.stencilTest,nt.polygonOffset=this.polygonOffset,nt.polygonOffsetFactor=this.polygonOffsetFactor,nt.polygonOffsetUnits=this.polygonOffsetUnits,nt.alphaTest=this.alphaTest,nt.overdraw=this.overdraw,nt.visible=this.visible,nt}dispose(){this.dispatchEvent({type:"dispose"})}}let j=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{MeshDoubleLambertMaterial:()=>g});var c=o("./src/WebGL/constants/Sides.ts"),h=o("./src/WebGL/materials/MeshLambertMaterial.ts");class g extends h.MeshLambertMaterial{constructor($){super($),this.shaderID="lambertdouble",this.side=c.DoubleSide,this.outline=!1}clone($=new g){return super.clone.call(this,$),$}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{MeshLambertMaterial:()=>j});var c=o("./src/WebGL/constants/Coloring.ts"),h=o("./src/WebGL/constants/Shading.ts"),g=o("./src/WebGL/materials/Material.ts"),b=o("./src/colors.ts"),$=o("./src/WebGL/math/index.ts");class j extends g.Material{constructor(nt){super(),this.color=new b.Color(16777215),this.ambient=new b.Color(1048575),this.emissive=new b.Color(0),this.wrapAround=!1,this.wrapRGB=new $.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=h.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.setValues(nt)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.ambient.copy(this.ambient),nt.emissive.copy(this.emissive),nt.wrapAround=this.wrapAround,nt.wrapRGB.copy(this.wrapRGB),nt.map=this.map,nt.lightMap=this.lightMap,nt.specularMap=this.specularMap,nt.envMap=this.envMap,nt.combine=this.combine,nt.reflectivity=this.reflectivity,nt.refractionRatio=this.refractionRatio,nt.fog=this.fog,nt.shading=this.shading,nt.shaderID=this.shaderID,nt.vertexColors=this.vertexColors,nt.skinning=this.skinning,nt.morphTargets=this.morphTargets,nt.morphNormals=this.morphNormals,nt}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{MeshOutlineMaterial:()=>g});var c=o("./src/colors.ts"),h=o("./src/WebGL/materials/Material.ts");class g extends h.Material{constructor($){super(),$=$||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=$.color||new c.Color(0,0,0),this.outlineWidth=$.width||.1,this.outlinePushback=$.pushback||1}clone($=new g){return super.clone.call(this,$),$.fog=this.fog,$.shaderID=this.shaderID,$.wireframe=this.wireframe,$}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{SphereImposterMaterial:()=>h});var c=o("./src/WebGL/materials/ImposterMaterial.ts");class h extends c.ImposterMaterial{constructor(b){super(b),this.shaderID="sphereimposter",this.setValues(b)}clone(b=new h){return super.clone.call(this,b),b}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{SphereImposterOutlineMaterial:()=>g});var c=o("./src/colors.ts"),h=o("./src/WebGL/materials/ImposterMaterial.ts");class g extends h.ImposterMaterial{constructor($){super($),$=$||{},this.shaderID="sphereimposteroutline",this.outlineColor=$.color||new c.Color(0,0,0),this.outlineWidth=$.width||.1,this.outlinePushback=$.pushback||1,this.setValues($)}clone($=new g){return super.clone.call(this,$),$.outlineColor=this.outlineColor,$.outlineWidth=this.outlineWidth,$.outlinePushback=this.outlinePushback,$}}},"./src/WebGL/materials/SpriteMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{SpriteMaterial:()=>j});var c=o("./src/WebGL/constants/SpriteAlignment.ts"),h=o("./src/WebGL/core/Texture.ts"),g=o("./src/colors.ts"),b=o("./src/WebGL/math/index.ts"),$=o("./src/WebGL/materials/Material.ts");class j extends $.Material{constructor(nt){super(),this.color=new g.Color(16777215),this.map=new h.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new b.Vector2(0,0),this.uvScale=new b.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=c.SpriteAlignment.center.clone(),this.setValues(nt),nt=nt||{},nt.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),nt.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),nt.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(nt=new j){return super.clone.call(this,nt),nt.color.copy(this.color),nt.map=this.map,nt.useScreenCoordinates=this.useScreenCoordinates,nt.screenOffset=this.screenOffset,nt.sizeAttenuation=this.sizeAttenuation,nt.scaleByViewport=this.scaleByViewPort,nt.alignment.copy(this.alignment),nt.uvOffset.copy(this.uvOffset),nt}}},"./src/WebGL/materials/StickImposterMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{StickImposterMaterial:()=>h});var c=o("./src/WebGL/materials/ImposterMaterial.ts");class h extends c.ImposterMaterial{constructor(b){super(b),this.shaderID="stickimposter",this.setValues(b)}clone(b=new h){return super.clone.call(this,b),b}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{StickImposterOutlineMaterial:()=>g});var c=o("./src/colors.ts"),h=o("./src/WebGL/materials/ImposterMaterial.ts");class g extends h.ImposterMaterial{constructor($={}){super($),this.shaderID="stickimposteroutline",this.outlineColor=new c.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,$.color&&(this.outlineColor=$.color),$.width&&(this.outlineWidth=$.width),$.pushback&&(this.outlinePushback=$.pushback),this.setValues($)}clone($=new g){return super.clone.call(this,$),$.outlineColor=this.outlineColor,$.outlineWidth=this.outlineWidth,$.outlinePushback=this.outlinePushback,$}}},"./src/WebGL/materials/VolumetricMaterial.ts":(a,e,o)=>{o.r(e),o.d(e,{VolumetricMaterial:()=>b});var c=o("./src/WebGL/constants/Sides.ts"),h=o("./src/colors.ts"),g=o("./src/WebGL/materials/Material.ts");class b extends g.Material{constructor(j){super(),this.transparent=!1,this.volumetric=!0,this.color=new h.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=c.FrontSide,this.setValues(j)}clone(j=new b){return super.clone.call(this,j),j.transparent=this.transparent,j.volumetric=this.volumetric,j.color=this.color,j.transferfn=this.transferfn,j.map=this.map,j.extent=this.extent,j.maxdepth=this.maxdepth,j.unit=this.unit,j.texmatrix=this.texmatrix,j.transfermin=this.transfermin,j.transfermax=this.transfermax,j.subsamples=this.subsamples,j.shaderID=this.shaderID,j.side=this.side,j}}},"./src/WebGL/materials/index.ts":(a,e,o)=>{o.r(e),o.d(e,{ImposterMaterial:()=>c.ImposterMaterial,InstancedMaterial:()=>h.InstancedMaterial,LineBasicMaterial:()=>g.LineBasicMaterial,Material:()=>b.Material,MaterialIdCount:()=>b.MaterialIdCount,MeshDoubleLambertMaterial:()=>$.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>j.MeshLambertMaterial,MeshOutlineMaterial:()=>rt.MeshOutlineMaterial,SphereImposterMaterial:()=>nt.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>ot.SphereImposterOutlineMaterial,SpriteMaterial:()=>_t.SpriteMaterial,StickImposterMaterial:()=>Et.StickImposterMaterial,StickImposterOutlineMaterial:()=>It.StickImposterOutlineMaterial,VolumetricMaterial:()=>it.VolumetricMaterial});var c=o("./src/WebGL/materials/ImposterMaterial.ts"),h=o("./src/WebGL/materials/InstancedMaterial.ts"),g=o("./src/WebGL/materials/LineBasicMaterial.ts"),b=o("./src/WebGL/materials/Material.ts"),$=o("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),j=o("./src/WebGL/materials/MeshLambertMaterial.ts"),rt=o("./src/WebGL/materials/MeshOutlineMaterial.ts"),nt=o("./src/WebGL/materials/SphereImposterMaterial.ts"),ot=o("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),_t=o("./src/WebGL/materials/SpriteMaterial.ts"),Et=o("./src/WebGL/materials/StickImposterMaterial.ts"),It=o("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),it=o("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(a,e,o)=>{o.r(e),o.d(e,{Quaternion:()=>c});class c{constructor(g,b,$,j){this.x=g||0,this.y=b||0,this.z=$||0,this.w=j!==void 0?j:1}set(g,b,$,j){return this.x=g,this.y=b,this.z=$,this.w=j,this}copy(g){return this.x=g.x,this.y=g.y,this.z=g.z,this.w=g.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let g=this.length();return g===0?(this.x=0,this.y=0,this.z=0,this.w=1):(g=1/g,this.x*=g,this.y*=g,this.z*=g,this.w*=g),this}multiply(g){return this.multiplyQuaternions(this,g)}multiplyScalar(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this}multiplyQuaternions(g,b){const $=g.x,j=g.y,rt=g.z,nt=g.w,ot=b.x,_t=b.y,Et=b.z,It=b.w;return this.x=$*It+nt*ot+j*Et-rt*_t,this.y=j*It+nt*_t+rt*ot-$*Et,this.z=rt*It+nt*Et+$*_t-j*ot,this.w=nt*It-$*ot-j*_t-rt*Et,this}sub(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z,this.w-=g.w,this}clone(){return new c(this.x,this.y,this.z,this.w)}setFromEuler(g){const b=Math.cos(g.x/2),$=Math.cos(g.y/2),j=Math.cos(g.z/2),rt=Math.sin(g.x/2),nt=Math.sin(g.y/2),ot=Math.sin(g.z/2);return this.x=rt*$*j+b*nt*ot,this.y=b*nt*j-rt*$*ot,this.z=b*$*ot+rt*nt*j,this.w=b*$*j-rt*nt*ot,this}}},"./src/WebGL/math/Vector2.ts":(a,e,o)=>{o.r(e),o.d(e,{Vector2:()=>c});class c{constructor(g,b){this.x=g||0,this.y=b||0}set(g,b){return this.x=g,this.y=b,this}subVectors(g,b){return this.x=g.x-b.x,this.y=g.y-b.y,this}copy(g){return this.x=g.x,this.y=g.y,this}clone(){return new c(this.x,this.y)}}},"./src/WebGL/math/index.ts":(a,e,o)=>{o.r(e),o.d(e,{Matrix3:()=>j.Matrix3,Matrix4:()=>j.Matrix4,Quaternion:()=>c.Quaternion,Ray:()=>j.Ray,Vector2:()=>h.Vector2,Vector3:()=>j.Vector3,clamp:()=>g.clamp,conversionMatrix3:()=>b.conversionMatrix3,degToRad:()=>$.degToRad});var c=o("./src/WebGL/math/Quaternion.ts"),h=o("./src/WebGL/math/Vector2.ts"),g=o("./src/WebGL/math/utils/clamp.ts"),b=o("./src/WebGL/math/utils/conversionMatrix3.ts"),$=o("./src/WebGL/math/utils/degToRad.ts"),j=o("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(a,e,o)=>{o.r(e),o.d(e,{Matrix3:()=>_t,Matrix4:()=>nt,Ray:()=>Et,Vector3:()=>ot});var c=o("./src/WebGL/math/utils/degToRad.ts"),h=o("./src/WebGL/math/utils/clamp.ts"),g,b,$,j,rt;class nt{constructor(it=1,st=0,Mt=0,bt=0,Lt=0,pt=1,Dt=0,wt=0,Bt=0,jt=0,hr=1,gr=0,Cr=0,wr=0,yr=0,xr=1){typeof it<"u"&&typeof it!="number"?this.elements=new Float32Array(it):(this.elements=new Float32Array(16),this.elements[0]=it,this.elements[4]=st,this.elements[8]=Mt,this.elements[12]=bt,this.elements[1]=Lt,this.elements[5]=pt,this.elements[9]=Dt,this.elements[13]=wt,this.elements[2]=Bt,this.elements[6]=jt,this.elements[10]=hr,this.elements[14]=gr,this.elements[3]=Cr,this.elements[7]=wr,this.elements[11]=yr,this.elements[15]=xr)}makeScale(it,st,Mt){throw new Error("Method not implemented.")}set(it,st,Mt,bt,Lt,pt,Dt,wt,Bt,jt,hr,gr,Cr,wr,yr,xr){const In=this.elements;return In[0]=it,In[4]=st,In[8]=Mt,In[12]=bt,In[1]=Lt,In[5]=pt,In[9]=Dt,In[13]=wt,In[2]=Bt,In[6]=jt,In[10]=hr,In[14]=gr,In[3]=Cr,In[7]=wr,In[11]=yr,In[15]=xr,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(it){const st=it.elements;return this.set(st[0],st[4],st[8],st[12],st[1],st[5],st[9],st[13],st[2],st[6],st[10],st[14],st[3],st[7],st[11],st[15]),this}matrix3FromTopLeft(){const it=this.elements;return new _t(it[0],it[4],it[8],it[1],it[5],it[9],it[2],it[6],it[10])}setRotationFromEuler(it,st){const Mt=this.elements,{x:bt,y:Lt,z:pt}=it,Dt=Math.cos(bt),wt=Math.sin(bt),Bt=Math.cos(Lt),jt=Math.sin(Lt),hr=Math.cos(pt),gr=Math.sin(pt);if(st===void 0||st==="XYZ"){const Cr=Dt*hr,wr=Dt*gr,yr=wt*hr,xr=wt*gr;Mt[0]=Bt*hr,Mt[4]=-Bt*gr,Mt[8]=jt,Mt[1]=wr+yr*jt,Mt[5]=Cr-xr*jt,Mt[9]=-wt*Bt,Mt[2]=xr-Cr*jt,Mt[6]=yr+wr*jt,Mt[10]=Dt*Bt}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${st}`);return this}setRotationFromQuaternion(it){const st=this.elements,{x:Mt,y:bt,z:Lt,w:pt}=it,Dt=Mt+Mt,wt=bt+bt,Bt=Lt+Lt,jt=Mt*Dt,hr=Mt*wt,gr=Mt*Bt,Cr=bt*wt,wr=bt*Bt,yr=Lt*Bt,xr=pt*Dt,In=pt*wt,rn=pt*Bt;return st[0]=1-(Cr+yr),st[4]=hr-rn,st[8]=gr+In,st[1]=hr+rn,st[5]=1-(jt+yr),st[9]=wr-xr,st[2]=gr-In,st[6]=wr+xr,st[10]=1-(jt+Cr),this}multiplyMatrices(it,st){const Mt=it.elements,bt=st.elements,Lt=this.elements,pt=Mt[0],Dt=Mt[4],wt=Mt[8],Bt=Mt[12],jt=Mt[1],hr=Mt[5],gr=Mt[9],Cr=Mt[13],wr=Mt[2],yr=Mt[6],xr=Mt[10],In=Mt[14],rn=Mt[3],Sr=Mt[7],Tr=Mt[11],Ln=Mt[15],Fn=bt[0],Or=bt[4],Nn=bt[8],eo=bt[12],uo=bt[1],wo=bt[5],bo=bt[9],es=bt[13],rs=bt[2],vo=bt[6],gs=bt[10],cs=bt[14],Gs=bt[3],$n=bt[7],Kn=bt[11],Bn=bt[15];return Lt[0]=pt*Fn+Dt*uo+wt*rs+Bt*Gs,Lt[4]=pt*Or+Dt*wo+wt*vo+Bt*$n,Lt[8]=pt*Nn+Dt*bo+wt*gs+Bt*Kn,Lt[12]=pt*eo+Dt*es+wt*cs+Bt*Bn,Lt[1]=jt*Fn+hr*uo+gr*rs+Cr*Gs,Lt[5]=jt*Or+hr*wo+gr*vo+Cr*$n,Lt[9]=jt*Nn+hr*bo+gr*gs+Cr*Kn,Lt[13]=jt*eo+hr*es+gr*cs+Cr*Bn,Lt[2]=wr*Fn+yr*uo+xr*rs+In*Gs,Lt[6]=wr*Or+yr*wo+xr*vo+In*$n,Lt[10]=wr*Nn+yr*bo+xr*gs+In*Kn,Lt[14]=wr*eo+yr*es+xr*cs+In*Bn,Lt[3]=rn*Fn+Sr*uo+Tr*rs+Ln*Gs,Lt[7]=rn*Or+Sr*wo+Tr*vo+Ln*$n,Lt[11]=rn*Nn+Sr*bo+Tr*gs+Ln*Kn,Lt[15]=rn*eo+Sr*es+Tr*cs+Ln*Bn,this}multiplyScalar(it){const st=this.elements;return st[0]*=it,st[4]*=it,st[8]*=it,st[12]*=it,st[1]*=it,st[5]*=it,st[9]*=it,st[13]*=it,st[2]*=it,st[6]*=it,st[10]*=it,st[14]*=it,st[3]*=it,st[7]*=it,st[11]*=it,st[15]*=it,this}makeTranslation(it,st,Mt){return this.set(1,0,0,it,0,1,0,st,0,0,1,Mt,0,0,0,1),this}snap(it){const st=Math.pow(10,4),Mt=this.elements;for(let bt=0;bt<16;bt++){const Lt=Math.round(Mt[bt]);Lt===Math.round(Mt[bt]*st)/st&&(Mt[bt]=Lt)}return this}transpose(){const it=this.elements;let st;return st=it[1],it[1]=it[4],it[4]=st,st=it[2],it[2]=it[8],it[8]=st,st=it[6],it[6]=it[9],it[9]=st,st=it[3],it[3]=it[12],it[12]=st,st=it[7],it[7]=it[13],it[13]=st,st=it[11],it[11]=it[14],it[14]=st,this}setPosition(it){const st=this.elements;return st[12]=it.x,st[13]=it.y,st[14]=it.z,this}translate(it){const st=this.elements;return st[12]+=it.x,st[13]+=it.y,st[14]+=it.z,this}getInverse(it,st){const Mt=this.elements,bt=it.elements,Lt=bt[0],pt=bt[4],Dt=bt[8],wt=bt[12],Bt=bt[1],jt=bt[5],hr=bt[9],gr=bt[13],Cr=bt[2],wr=bt[6],yr=bt[10],xr=bt[14],In=bt[3],rn=bt[7],Sr=bt[11],Tr=bt[15];Mt[0]=hr*xr*rn-gr*yr*rn+gr*wr*Sr-jt*xr*Sr-hr*wr*Tr+jt*yr*Tr,Mt[4]=wt*yr*rn-Dt*xr*rn-wt*wr*Sr+pt*xr*Sr+Dt*wr*Tr-pt*yr*Tr,Mt[8]=Dt*gr*rn-wt*hr*rn+wt*jt*Sr-pt*gr*Sr-Dt*jt*Tr+pt*hr*Tr,Mt[12]=wt*hr*wr-Dt*gr*wr-wt*jt*yr+pt*gr*yr+Dt*jt*xr-pt*hr*xr,Mt[1]=gr*yr*In-hr*xr*In-gr*Cr*Sr+Bt*xr*Sr+hr*Cr*Tr-Bt*yr*Tr,Mt[5]=Dt*xr*In-wt*yr*In+wt*Cr*Sr-Lt*xr*Sr-Dt*Cr*Tr+Lt*yr*Tr,Mt[9]=wt*hr*In-Dt*gr*In-wt*Bt*Sr+Lt*gr*Sr+Dt*Bt*Tr-Lt*hr*Tr,Mt[13]=Dt*gr*Cr-wt*hr*Cr+wt*Bt*yr-Lt*gr*yr-Dt*Bt*xr+Lt*hr*xr,Mt[2]=jt*xr*In-gr*wr*In+gr*Cr*rn-Bt*xr*rn-jt*Cr*Tr+Bt*wr*Tr,Mt[6]=wt*wr*In-pt*xr*In-wt*Cr*rn+Lt*xr*rn+pt*Cr*Tr-Lt*wr*Tr,Mt[10]=pt*gr*In-wt*jt*In+wt*Bt*rn-Lt*gr*rn-pt*Bt*Tr+Lt*jt*Tr,Mt[14]=wt*jt*Cr-pt*gr*Cr-wt*Bt*wr+Lt*gr*wr+pt*Bt*xr-Lt*jt*xr,Mt[3]=hr*wr*In-jt*yr*In-hr*Cr*rn+Bt*yr*rn+jt*Cr*Sr-Bt*wr*Sr,Mt[7]=pt*yr*In-Dt*wr*In+Dt*Cr*rn-Lt*yr*rn-pt*Cr*Sr+Lt*wr*Sr,Mt[11]=Dt*jt*In-pt*hr*In-Dt*Bt*rn+Lt*hr*rn+pt*Bt*Sr-Lt*jt*Sr,Mt[15]=pt*hr*Cr-Dt*jt*Cr+Dt*Bt*wr-Lt*hr*wr-pt*Bt*yr+Lt*jt*yr;const Ln=Lt*Mt[0]+Bt*Mt[4]+Cr*Mt[8]+In*Mt[12];if(Ln===0){const Fn="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(st)throw new Error(Fn);return console.warn(Fn),this.identity(),this}return this.multiplyScalar(1/Ln),this}isReflected(){const it=this.elements,st=it[0],Mt=it[4],bt=it[8],Lt=it[1],pt=it[5],Dt=it[9],wt=it[2],Bt=it[6],jt=it[10];return st*pt*jt+Lt*Bt*bt+wt*Mt*Dt-wt*pt*bt-Lt*Mt*jt-st*Bt*Dt<0}scale(it){const st=this.elements,{x:Mt}=it,{y:bt}=it,{z:Lt}=it;return st[0]*=Mt,st[4]*=bt,st[8]*=Lt,st[1]*=Mt,st[5]*=bt,st[9]*=Lt,st[2]*=Mt,st[6]*=bt,st[10]*=Lt,st[3]*=Mt,st[7]*=bt,st[11]*=Lt,this}getMaxScaleOnAxis(){const it=this.elements,st=it[0]*it[0]+it[1]*it[1]+it[2]*it[2],Mt=it[4]*it[4]+it[5]*it[5]+it[6]*it[6],bt=it[8]*it[8]+it[9]*it[9]+it[10]*it[10];return Math.sqrt(Math.max(st,Math.max(Mt,bt)))}makeFrustum(it,st,Mt,bt,Lt,pt){const Dt=this.elements,wt=2*Lt/(st-it),Bt=2*Lt/(bt-Mt),jt=(st+it)/(st-it),hr=(bt+Mt)/(bt-Mt),gr=-(pt+Lt)/(pt-Lt),Cr=-2*pt*Lt/(pt-Lt);return Dt[0]=wt,Dt[4]=0,Dt[8]=jt,Dt[12]=0,Dt[1]=0,Dt[5]=Bt,Dt[9]=hr,Dt[13]=0,Dt[2]=0,Dt[6]=0,Dt[10]=gr,Dt[14]=Cr,Dt[3]=0,Dt[7]=0,Dt[11]=-1,Dt[15]=0,this}makePerspective(it,st,Mt,bt){const Lt=Mt*Math.tan((0,c.degToRad)(it*.5)),pt=-Lt,Dt=pt*st,wt=Lt*st;return this.makeFrustum(Dt,wt,pt,Lt,Mt,bt)}makeOrthographic(it,st,Mt,bt,Lt,pt){const Dt=this.elements,wt=1/(st-it),Bt=1/(Mt-bt),jt=1/(pt-Lt),hr=(st+it)*wt,gr=(Mt+bt)*Bt,Cr=(pt+Lt)*jt;return Dt[0]=2*wt,Dt[4]=0,Dt[8]=0,Dt[12]=-hr,Dt[1]=0,Dt[5]=2*Bt,Dt[9]=0,Dt[13]=-gr,Dt[2]=0,Dt[6]=0,Dt[10]=-2*jt,Dt[14]=-Cr,Dt[3]=0,Dt[7]=0,Dt[11]=0,Dt[15]=1,this}isEqual(it){const st=it.elements,Mt=this.elements;return Mt[0]===st[0]&&Mt[4]===st[4]&&Mt[8]===st[8]&&Mt[12]===st[12]&&Mt[1]===st[1]&&Mt[5]===st[5]&&Mt[9]===st[9]&&Mt[13]===st[13]&&Mt[2]===st[2]&&Mt[6]===st[6]&&Mt[10]===st[10]&&Mt[14]===st[14]&&Mt[3]===st[3]&&Mt[7]===st[7]&&Mt[11]===st[11]&&Mt[15]===st[15]}clone(){const it=this.elements;return new nt(it[0],it[4],it[8],it[12],it[1],it[5],it[9],it[13],it[2],it[6],it[10],it[14],it[3],it[7],it[11],it[15])}isIdentity(){const it=this.elements;return it[0]===1&&it[4]===0&&it[8]===0&&it[12]===0&&it[1]===0&&it[5]===1&&it[9]===0&&it[13]===0&&it[2]===0&&it[6]===0&&it[10]===1&&it[14]===0&&it[3]===0&&it[7]===0&&it[11]===0&&it[15]===1}isNearlyIdentity(it){return this.clone().snap(it).isIdentity()}getScale(it){const st=this.elements;return it=it||new ot,$.set(st[0],st[1],st[2]),j.set(st[4],st[5],st[6]),rt.set(st[8],st[9],st[10]),it.x=$.length(),it.y=j.length(),it.z=rt.length(),it}lookAt(it,st,Mt){const bt=this.elements;return rt.subVectors(it,st).normalize(),rt.length()===0&&(rt.z=1),$.crossVectors(Mt,rt).normalize(),$.length()===0&&(rt.x+=1e-4,$.crossVectors(Mt,rt).normalize()),j.crossVectors(rt,$),bt[0]=$.x,bt[4]=j.x,bt[8]=rt.x,bt[1]=$.y,bt[5]=j.y,bt[9]=rt.y,bt[2]=$.z,bt[6]=j.z,bt[10]=rt.z,this}compose(it,st,Mt){const bt=this.elements;return g.identity(),g.setRotationFromQuaternion(st),b.makeScale(Mt.x,Mt.y,Mt.z),this.multiplyMatrices(g,b),bt[12]=it.x,bt[13]=it.y,bt[14]=it.z,this}}g=new nt,b=new nt;class ot{constructor(it,st,Mt){this.x=it||0,this.y=st||0,this.z=Mt||0,this.atomid=void 0}set(it,st,Mt){return this.x=it,this.y=st,this.z=Mt,this}copy(it){return this.x=it.x,this.y=it.y,this.z=it.z,this}add(it){return this.x+=it.x,this.y+=it.y,this.z+=it.z,this}addVectors(it,st){return this.x=it.x+st.x,this.y=it.y+st.y,this.z=it.z+st.z,this}multiplyVectors(it,st){return this.x=it.x*st.x,this.y=it.y*st.y,this.z=it.z*st.z,this}sub(it){return this.x-=it.x,this.y-=it.y,this.z-=it.z,this}subVectors(it,st){return this.x=it.x-st.x,this.y=it.y-st.y,this.z=it.z-st.z,this}multiplyScalar(it){return this.x*=it,this.y*=it,this.z*=it,this}divideScalar(it){return it!==0?(this.x/=it,this.y/=it,this.z/=it):(this.x=0,this.y=0,this.z=0),this}max(it){return this.x=Math.max(this.x,it.x),this.y=Math.max(this.y,it.y),this.z=Math.max(this.z,it.z),this}min(it){return this.x=Math.min(this.x,it.x),this.y=Math.min(this.y,it.y),this.z=Math.min(this.z,it.z),this}distanceTo(it){return Math.sqrt(this.distanceToSquared(it))}distanceToSquared(it){const st=this.x-it.x,Mt=this.y-it.y,bt=this.z-it.z;return st*st+Mt*Mt+bt*bt}applyMatrix3(it){const{x:st}=this,{y:Mt}=this,{z:bt}=this,Lt=it.elements;return this.x=Lt[0]*st+Lt[3]*Mt+Lt[6]*bt,this.y=Lt[1]*st+Lt[4]*Mt+Lt[7]*bt,this.z=Lt[2]*st+Lt[5]*Mt+Lt[8]*bt,this}applyMatrix4(it){const{x:st}=this,{y:Mt}=this,{z:bt}=this,Lt=it.elements;return this.x=Lt[0]*st+Lt[4]*Mt+Lt[8]*bt+Lt[12],this.y=Lt[1]*st+Lt[5]*Mt+Lt[9]*bt+Lt[13],this.z=Lt[2]*st+Lt[6]*Mt+Lt[10]*bt+Lt[14],this}applyProjection(it){const{x:st}=this,{y:Mt}=this,{z:bt}=this,Lt=it.elements,pt=Lt[3]*st+Lt[7]*Mt+Lt[11]*bt+Lt[15];return this.x=(Lt[0]*st+Lt[4]*Mt+Lt[8]*bt+Lt[12])/pt,this.y=(Lt[1]*st+Lt[5]*Mt+Lt[9]*bt+Lt[13])/pt,this.z=(Lt[2]*st+Lt[6]*Mt+Lt[10]*bt+Lt[14])/pt,this}applyQuaternion(it){const{x:st}=this,{y:Mt}=this,{z:bt}=this,Lt=it.x,pt=it.y,Dt=it.z,wt=it.w,Bt={};Bt.x=2*(Mt*Dt-bt*pt),Bt.y=2*(bt*Lt-st*Dt),Bt.z=2*(st*pt-Mt*Lt);const jt={};return jt.x=Bt.y*Dt-Bt.z*pt,jt.y=Bt.z*Lt-Bt.x*Dt,jt.z=Bt.x*pt-Bt.y*Lt,this.x=st+wt*Bt.x+jt.x,this.y=Mt+wt*Bt.y+jt.y,this.z=bt+wt*Bt.z+jt.z,this}negate(){return this.multiplyScalar(-1)}dot(it){return this.x*it.x+this.y*it.y+this.z*it.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(it){const{x:st}=this,{y:Mt}=this,{z:bt}=this;return this.x=Mt*it.z-bt*it.y,this.y=bt*it.x-st*it.z,this.z=st*it.y-Mt*it.x,this}crossVectors(it,st){return this.x=it.y*st.z-it.z*st.y,this.y=it.z*st.x-it.x*st.z,this.z=it.x*st.y-it.y*st.x,this}equals(it){return this.x==it.x&&this.y==it.y&&this.z==it.z}getPositionFromMatrix(it){return this.x=it.elements[12],this.y=it.elements[13],this.z=it.elements[14],this}setEulerFromRotationMatrix(it,st){const Mt=it.elements,bt=Mt[0],Lt=Mt[4],pt=Mt[8],Dt=Mt[5],wt=Mt[9],Bt=Mt[6],jt=Mt[10];return st===void 0||st==="XYZ"?(this.y=Math.asin((0,h.clamp)(pt,-1,1)),Math.abs(pt)<.99999?(this.x=Math.atan2(-wt,jt),this.z=Math.atan2(-Lt,bt)):(this.x=Math.atan2(Bt,Dt),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${st}`),this}rotateAboutVector(it,st){it.normalize();const Mt=Math.cos(st),bt=Math.sin(st),Lt=this.clone().multiplyScalar(Mt),pt=it.clone().cross(this).multiplyScalar(bt),Dt=it.clone().multiplyScalar(it.clone().dot(this)).multiplyScalar(1-Mt),wt=Lt.add(pt).add(Dt);return this.x=wt.x,this.y=wt.y,this.z=wt.z,this}setFromMatrixPosition(it){const st=it.elements;return this.x=st[12],this.y=st[13],this.z=st[14],this}transformDirection(it){const{x:st}=this,{y:Mt}=this,{z:bt}=this,Lt=it.elements;return this.x=Lt[0]*st+Lt[4]*Mt+Lt[8]*bt,this.y=Lt[1]*st+Lt[5]*Mt+Lt[9]*bt,this.z=Lt[2]*st+Lt[6]*Mt+Lt[10]*bt,this.normalize()}clone(){return new ot(this.x,this.y,this.z)}unproject(it){const st=g;return st.multiplyMatrices(it.matrixWorld,st.getInverse(it.projectionMatrix)),this.applyMatrix4(st)}}$=new ot,j=new ot,rt=new ot;class _t{constructor(it=1,st=0,Mt=0,bt=0,Lt=1,pt=0,Dt=0,wt=0,Bt=1){this.elements=new Float32Array(9),this.set(it,st,Mt,bt,Lt,pt,Dt,wt,Bt)}set(it,st,Mt,bt,Lt,pt,Dt,wt,Bt){const jt=this.elements;return jt[0]=it,jt[3]=st,jt[6]=Mt,jt[1]=bt,jt[4]=Lt,jt[7]=pt,jt[2]=Dt,jt[5]=wt,jt[8]=Bt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(it){const st=it.elements;this.set(st[0],st[3],st[6],st[1],st[4],st[7],st[2],st[5],st[8])}multiplyScalar(it){const st=this.elements;return st[0]*=it,st[3]*=it,st[6]*=it,st[1]*=it,st[4]*=it,st[7]*=it,st[2]*=it,st[5]*=it,st[8]*=it,this}getInverse3(it){const st=it.elements,Mt=this.elements;Mt[0]=st[4]*st[8]-st[5]*st[7],Mt[3]=st[6]*st[5]-st[3]*st[8],Mt[6]=st[3]*st[7]-st[6]*st[4],Mt[1]=st[7]*st[2]-st[1]*st[8],Mt[4]=st[0]*st[8]-st[6]*st[2],Mt[7]=st[1]*st[6]-st[0]*st[7],Mt[2]=st[1]*st[5]-st[2]*st[4],Mt[5]=st[2]*st[3]-st[0]*st[5],Mt[8]=st[0]*st[4]-st[1]*st[3];const bt=st[0]*Mt[0]+st[3]*Mt[1]+st[6]*Mt[2];return this.multiplyScalar(1/bt),this}getInverse(it,st){const Mt=it.elements,bt=this.elements;bt[0]=Mt[10]*Mt[5]-Mt[6]*Mt[9],bt[1]=-Mt[10]*Mt[1]+Mt[2]*Mt[9],bt[2]=Mt[6]*Mt[1]-Mt[2]*Mt[5],bt[3]=-Mt[10]*Mt[4]+Mt[6]*Mt[8],bt[4]=Mt[10]*Mt[0]-Mt[2]*Mt[8],bt[5]=-Mt[6]*Mt[0]+Mt[2]*Mt[4],bt[6]=Mt[9]*Mt[4]-Mt[5]*Mt[8],bt[7]=-Mt[9]*Mt[0]+Mt[1]*Mt[8],bt[8]=Mt[5]*Mt[0]-Mt[1]*Mt[4];const Lt=Mt[0]*bt[0]+Mt[1]*bt[3]+Mt[2]*bt[6];if(Lt===0){const pt="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(st)throw new Error(pt);return console.warn(pt),this.identity(),this}return this.multiplyScalar(1/Lt),this}getDeterminant(){const it=this.elements;return it[0]*it[4]*it[8]+it[1]*it[5]*it[6]+it[2]*it[3]*it[7]-it[2]*it[4]*it[6]-it[1]*it[3]*it[8]-it[0]*it[5]*it[7]}transpose(){let it;const st=this.elements;return it=st[1],st[1]=st[3],st[3]=it,it=st[2],st[2]=st[6],st[6]=it,it=st[5],st[5]=st[7],st[7]=it,this}clone(){const it=this.elements;return new _t(it[0],it[3],it[6],it[1],it[4],it[7],it[2],it[5],it[8])}getMatrix4(){const it=this.elements;return new nt(it[0],it[3],it[6],0,it[1],it[4],it[7],0,it[2],it[5],it[8],0)}}class Et{constructor(it,st){this.origin=it!==void 0?it:new ot,this.direction=st!==void 0?st:new ot}set(it,st){return this.origin.copy(it),this.direction.copy(st),this}copy(it){return this.origin.copy(it.origin),this.direction.copy(it.direction),this}at(it,st){return(st||new ot).copy(this.direction).multiplyScalar(it).add(this.origin)}recast(it){const st=$;return this.origin.copy(this.at(it,st)),this}closestPointToPoint(it,st){const Mt=st||new ot;Mt.subVectors(it,this.origin);const bt=Mt.dot(this.direction);return Mt.copy(this.direction).multiplyScalar(bt).add(this.origin)}distanceToPoint(it){const st=$,Mt=st.subVectors(it,this.origin).dot(this.direction);return st.copy(this.direction).multiplyScalar(Mt).add(this.origin),st.distanceTo(it)}isIntersectionCylinder(){}isIntersectionSphere(it){return this.distanceToPoint(it.center)<=it.radius}isIntersectionPlane(it){return it.normal.dot(this.direction)!==0||it.distanceToPoint(this.origin)===0}distanceToPlane(it){const st=it.normal.dot(this.direction);return st===0?it.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(it.normal)+it.constant)/st}intersectPlane(it,st){const Mt=this.distanceToPlane(it);if(Mt!==void 0)return this.at(Mt,st)}applyMatrix4(it){return this.direction.add(this.origin).applyMatrix4(it),this.origin.applyMatrix4(it),this.direction.sub(this.origin),this}clone(){return new Et().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(a,e,o)=>{o.r(e),o.d(e,{clamp:()=>c});function c(h,g,b){return Math.min(Math.max(h,g),b)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(a,e,o)=>{o.r(e),o.d(e,{conversionMatrix3:()=>h});var c=o("./src/WebGL/math/math.ts");function h(g,b,$,j,rt,nt){j=j*Math.PI/180,rt=rt*Math.PI/180,nt=nt*Math.PI/180;const ot=st=>st*st,_t=Math.cos(j),Et=Math.cos(rt),It=Math.cos(nt),it=Math.sin(nt);return new c.Matrix3(g,b*It,$*Et,0,b*it,$*(_t-Et*It)/it,0,0,$*Math.sqrt(1-ot(_t)-ot(Et)-ot(It)+2*_t*Et*It)/it)}},"./src/WebGL/math/utils/degToRad.ts":(a,e,o)=>{o.r(e),o.d(e,{degToRad:()=>h});const c=Math.PI/180;function h(g){return g*c}},"./src/WebGL/objects/Line.ts":(a,e,o)=>{o.r(e),o.d(e,{Line:()=>b,LineStyle:()=>g});var c=o("./src/WebGL/materials/index.ts"),h=o("./src/WebGL/core/index.ts"),g;(function($){$[$.LineStrip=0]="LineStrip",$[$.LinePieces=1]="LinePieces"})(g||(g={}));class b extends h.Object3D{constructor(j,rt=new c.LineBasicMaterial({color:Math.random()*16777215}),nt=g.LineStrip){super(),this.geometry=j,this.material=rt,this.type=nt}clone(j=new b(this.geometry,this.material,this.type)){return super.clone.call(this,j),j}}},"./src/WebGL/objects/Mesh.ts":(a,e,o)=>{o.r(e),o.d(e,{Mesh:()=>h});var c=o("./src/WebGL/core/index.ts");class h extends c.Object3D{constructor(b,$){super(),this.geometry=b,this.material=$}clone(b){return b===void 0&&(b=new h(this.geometry,this.material)),super.clone.call(this,b),b}}},"./src/WebGL/objects/Sprite.ts":(a,e,o)=>{o.r(e),o.d(e,{Sprite:()=>g});var c=o("./src/WebGL/materials/index.ts"),h=o("./src/WebGL/core/index.ts");class g extends h.Object3D{constructor($=new c.SpriteMaterial){super(),this.material=$,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone($=new g(this.material)){return h.Object3D.prototype.clone.call(this,$),$}}},"./src/WebGL/objects/index.ts":(a,e,o)=>{o.r(e),o.d(e,{Line:()=>c.Line,LineStyle:()=>c.LineStyle,Mesh:()=>h.Mesh,Sprite:()=>g.Sprite});var c=o("./src/WebGL/objects/Line.ts"),h=o("./src/WebGL/objects/Mesh.ts"),g=o("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(a,e,o)=>{o.r(e)},"./src/WebGL/shaders/index.ts":(a,e,o)=>{o.r(e),o.d(e,{ShaderLib:()=>c.ShaderLib,ShaderUtils:()=>h.ShaderUtils,basic:()=>c.basic,clone:()=>h.clone,instanced:()=>c.instanced,lambert:()=>c.lambert,lambertdouble:()=>c.lambertdouble,outline:()=>c.outline,screen:()=>c.screen,screenaa:()=>c.screenaa,sphereimposter:()=>c.sphereimposter,sphereimposteroutline:()=>c.sphereimposteroutline,sprite:()=>c.sprite,stickimposter:()=>c.stickimposter,stickimposteroutline:()=>c.stickimposteroutline,volumetric:()=>c.volumetric});var c=o("./src/WebGL/shaders/lib/index.ts"),h=o("./src/WebGL/shaders/utils/index.ts");o("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(a,e,o)=>{o.r(e),o.d(e,{basic:()=>b});var c=o("./src/WebGL/shaders/lib/basic/uniforms.ts"),h=o("./src/WebGL/shaders/lib/basic/basic.frag"),g=o("./src/WebGL/shaders/lib/basic/basic.vert");const b={vertexShader:g.default.replace("#define GLSLIFY 1",""),fragmentShader:h.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/index.ts":(a,e,o)=>{o.r(e),o.d(e,{ShaderLib:()=>st,basic:()=>c.basic,instanced:()=>h.instanced,lambert:()=>g.lambert,lambertdouble:()=>b.lambertdouble,outline:()=>$.outline,screen:()=>j.screen,screenaa:()=>rt.screenaa,sphereimposter:()=>nt.sphereimposter,sphereimposteroutline:()=>ot.sphereimposteroutline,sprite:()=>_t.sprite,stickimposter:()=>Et.stickimposter,stickimposteroutline:()=>It.stickimposteroutline,volumetric:()=>it.volumetric});var c=o("./src/WebGL/shaders/lib/basic/index.ts"),h=o("./src/WebGL/shaders/lib/instanced/index.ts"),g=o("./src/WebGL/shaders/lib/lambert/index.ts"),b=o("./src/WebGL/shaders/lib/lambertdouble/index.ts"),$=o("./src/WebGL/shaders/lib/outline/index.ts"),j=o("./src/WebGL/shaders/lib/screen/index.ts"),rt=o("./src/WebGL/shaders/lib/screenaa/index.ts"),nt=o("./src/WebGL/shaders/lib/sphereimposter/index.ts"),ot=o("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),_t=o("./src/WebGL/shaders/lib/sprite/index.ts"),Et=o("./src/WebGL/shaders/lib/stickimposter/index.ts"),It=o("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),it=o("./src/WebGL/shaders/lib/volumetric/index.ts");const st={basic:c.basic,instanced:h.instanced,lambert:g.lambert,lambertdouble:b.lambertdouble,outline:$.outline,screen:j.screen,screenaa:rt.screenaa,sphereimposter:nt.sphereimposter,sphereimposteroutline:ot.sphereimposteroutline,sprite:_t.sprite,stickimposter:Et.stickimposter,stickimposteroutline:It.stickimposteroutline,volumetric:it.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(a,e,o)=>{o.r(e),o.d(e,{instanced:()=>b});var c=o("./src/WebGL/shaders/lib/instanced/uniforms.ts"),h=o("./src/WebGL/shaders/lib/instanced/instanced.frag"),g=o("./src/WebGL/shaders/lib/instanced/instanced.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(a,e,o)=>{o.r(e),o.d(e,{lambert:()=>b});var c=o("./src/WebGL/shaders/lib/lambert/uniforms.ts"),h=o("./src/WebGL/shaders/lib/lambert/lambert.frag"),g=o("./src/WebGL/shaders/lib/lambert/lambert.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(a,e,o)=>{o.r(e),o.d(e,{lambertdouble:()=>b});var c=o("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),h=o("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),g=o("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(a,e,o)=>{o.r(e),o.d(e,{outline:()=>b});var c=o("./src/WebGL/shaders/lib/outline/uniforms.ts"),h=o("./src/WebGL/shaders/lib/outline/outline.frag"),g=o("./src/WebGL/shaders/lib/outline/outline.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new c.Color(0,0,0)},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/screen/index.ts":(a,e,o)=>{o.r(e),o.d(e,{screen:()=>b});var c=o("./src/WebGL/shaders/lib/screen/uniforms.ts"),h=o("./src/WebGL/shaders/lib/screen/screen.frag"),g=o("./src/WebGL/shaders/lib/screen/screen.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(a,e,o)=>{o.r(e),o.d(e,{screenaa:()=>b});var c=o("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),h=o("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),g=o("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(a,e,o)=>{o.r(e),o.d(e,{sphereimposter:()=>b});var c=o("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),h=o("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),g=o("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");const b={vertexShader:g.default.replace("#define GLSLIFY 1",""),fragmentShader:h.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(a,e,o)=>{o.r(e),o.d(e,{sphereimposteroutline:()=>b});var c=o("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),h=o("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),g=o("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new c.Color(0,0,0)},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/sprite/index.ts":(a,e,o)=>{o.r(e),o.d(e,{sprite:()=>b});var c=o("./src/WebGL/shaders/lib/sprite/uniforms.ts"),h=o("./src/WebGL/shaders/lib/sprite/sprite.frag"),g=o("./src/WebGL/shaders/lib/sprite/sprite.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(a,e,o)=>{o.r(e),o.d(e,{stickimposter:()=>$});var c=o("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),h=o("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),g=o("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),b=o("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const $={fragmentShader:[h.default,g.default].join(`
`).replace("#define GLSLIFY 1",""),vertexShader:b.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(a,e,o)=>{o.r(e),o.d(e,{stickimposteroutline:()=>b});var c=o("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),h=o("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),g=o("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const b={fragmentShader:(h.default+"gl_FragColor = vec4(color,1.0);}").replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new c.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(a,e,o)=>{o.r(e),o.d(e,{volumetric:()=>b});var c=o("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),h=o("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),g=o("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const b={fragmentShader:h.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(a,e,o)=>{o.r(e),o.d(e,{uniforms:()=>h});var c=o("./src/colors.ts");const h={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(a,e,o)=>{o.r(e),o.d(e,{clone:()=>h});var c=o("./src/colors.ts");function h(g){let b={};for(const j in g){b[j]={},b[j].type=g[j].type;var $=g[j].value;$ instanceof c.Color?b[j].value=$.clone():typeof $=="number"?b[j].value=$:$ instanceof Array?b[j].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return b}},"./src/WebGL/shaders/utils/index.ts":(a,e,o)=>{o.r(e),o.d(e,{ShaderUtils:()=>g,clone:()=>c.clone});var c=o("./src/WebGL/shaders/utils/clone.ts"),h=o("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag");const g={clone:c.clone,stickimposterFragmentShader:h.default}},"./src/WebGL/shapes/Cylinder.ts":(a,e,o)=>{o.r(e),o.d(e,{Cylinder:()=>g});var c=o("./src/WebGL/math/index.ts");let h=new c.Vector3;class g{constructor($=new c.Vector3,j=new c.Vector3,rt=0){this.c1=$,this.c2=j,this.radius=rt,this.direction=new c.Vector3().subVectors(this.c2,this.c1).normalize()}copy($){return this.c1.copy($.c1),this.c2.copy($.c2),this.direction.copy($.direction),this.radius=$.radius,this}lengthSq(){return h.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4($){return this.direction.add(this.c1).applyMatrix4($),this.c1.applyMatrix4($),this.c2.applyMatrix4($),this.direction.sub(this.c1).normalize(),this.radius=this.radius*$.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(a,e,o)=>{o.r(e),o.d(e,{Sphere:()=>h});var c=o("./src/WebGL/math/index.ts");class h{constructor(b={x:0,y:0,z:0},$=0){this.center=new c.Vector3(b.x,b.y,b.z),this.radius=$}set(b,$){return this.center.copy(b),this.radius=$,this}copy(b){return this.center.copy(b.center),this.radius=b.radius,this}applyMatrix4(b){return this.center.applyMatrix4(b),this.radius=this.radius*b.getMaxScaleOnAxis(),this}translate(b){return this.center.add(b),this}equals(b){return b.center.equals(this.center)&&b.radius===this.radius}clone(){return new h().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(a,e,o)=>{o.r(e),o.d(e,{Triangle:()=>g});var c=o("./src/WebGL/math/index.ts");const h=new c.Vector3;class g{constructor($=new c.Vector3,j=new c.Vector3,rt=new c.Vector3){this.a=$,this.b=j,this.c=rt}copy($){return this.a.copy($.a),this.b.copy($.b),this.c.copy($.c),this}applyMatrix4($){return this.a.applyMatrix4($),this.b.applyMatrix4($),this.c.applyMatrix4($),this}getNormal(){var $=this.a.clone();return $.sub(this.b),h.subVectors(this.c,this.b),$.cross(h),$.normalize(),$}}},"./src/WebGL/shapes/index.ts":(a,e,o)=>{o.r(e),o.d(e,{Cylinder:()=>h.Cylinder,Sphere:()=>c.Sphere,Triangle:()=>g.Triangle});var c=o("./src/WebGL/shapes/Sphere.ts"),h=o("./src/WebGL/shapes/Cylinder.ts"),g=o("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{autoinit:()=>autoinit,autoload:()=>autoload,processing_autoinit:()=>processing_autoinit,viewers:()=>viewers});var _GLViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/GLViewer.ts"),_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ProteinSurface4.ts"),_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utilities.ts"),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/colors.ts"),autoinit=!1,processing_autoinit=!1,viewers={};function autoload(viewer,callback){var i,dataname,type;if(document.querySelector(".viewer_3Dmoljs")!=null&&(autoinit=!0),autoinit){processing_autoinit=!0,viewer=viewer??null;var nviewers=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(viewerdiv=>{var datauri=[],datatypes=[],uri="";viewerdiv.style.position=="static"&&(viewerdiv.style.position="relative");var UI=null;if(type=null,viewerdiv.dataset.pdb)datauri.push("https://files.rcsb.org/view/"+viewerdiv.dataset.pdb+".pdb"),datatypes.push("pdb");else if(viewerdiv.dataset.cid)datatypes.push("sdf"),datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+viewerdiv.dataset.cid+"/SDF?record_type=3d");else if(viewerdiv.dataset.href||viewerdiv.dataset.url){viewerdiv.dataset.href?uri=viewerdiv.dataset.href:uri=viewerdiv.dataset.url,datauri.push(uri),type=uri.substring(uri.lastIndexOf(".")+1),datatypes.push(type);var molName=uri.substring(uri.lastIndexOf("/")+1,uri.lastIndexOf("."));molName=="/"&&(molName=uri.substring(uri.lastIndexOf("/")+1)),viewerdiv.dataset[datatypes[datatypes.length-1]]=molName}var divdata=viewerdiv.dataset;for(i in divdata)i.substring(0,3)==="pdb"&&i!=="pdb"?(datauri.push("https://files.rcsb.org/view/"+divdata[i]+".pdb"),datatypes.push("pdb")):i.substring(0,4)==="href"&&i!=="href"?(uri=divdata[i],datauri.push(uri),datatypes.push(uri.substring(uri.lastIndexOf(".")+1))):i.substring(0,3)==="cid"&&i!=="cid"&&(datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+divdata[i]+"/SDF?record_type=3d"),datatypes.push("sdf"));var options={};viewerdiv.dataset.options&&(options=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.options));var bgcolor=_colors__WEBPACK_IMPORTED_MODULE_3__.CC.color(viewerdiv.dataset.backgroundcolor),bgalpha=viewerdiv.dataset.backgroundalpha;bgalpha=bgalpha==null?1:parseFloat(bgalpha);var style={line:{}};viewerdiv.dataset.style&&(style=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.style));var select={};viewerdiv.dataset.select&&(select=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.select));var selectstylelist=[],surfaces=[],labels=[],zoomto={},spin=null,d=viewerdiv.dataset,stylere=/style(.+)/,surfre=/surface(.*)/,reslabre=/labelres(.*)/,keys=[];for(dataname in d)Object.prototype.hasOwnProperty.call(d,dataname)&&keys.push(dataname);for(keys.sort(),i=0;i<keys.length;i++){dataname=keys[i];var m=stylere.exec(dataname),selname,newsel,styleobj;m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),selectstylelist.push([newsel,styleobj])),m=surfre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),surfaces.push([newsel,styleobj])),m=reslabre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),labels.push([newsel,styleobj])),dataname=="zoomto"&&(zoomto=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname])),dataname=="spin"&&(spin=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]))}var applyStyles=function(a){for(a.setStyle(select,style),UI&&UI.createSelectionAndStyle(select,style),i=0;i<selectstylelist.length;i++){let e=selectstylelist[i][0]||{},o=selectstylelist[i][1]||{line:{}};a.setStyle(e,o),UI&&UI.createSelectionAndStyle(select,style)}for(i=0;i<surfaces.length;i++){let e=surfaces[i][0]||{},o=surfaces[i][1]||{};UI?a.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,o,e,e).then(c=>{UI.loadSurface("VDW",e,o,c)}):a.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,o,e,e)}for(i=0;i<labels.length;i++){let e=labels[i][0]||{},o=labels[i][1]||{};a.addResLabels(e,o)}a.render(),a.zoomTo(zoomto),spin&&a.spin(spin.axis,spin.speed)},glviewer=viewer;try{var config=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.config)||{};config.backgroundColor===void 0&&(config.backgroundColor=bgcolor),config.backgroundAlpha===void 0&&(config.backgroundAlpha=bgalpha),glviewer==null?glviewer=viewers[viewerdiv.id||nviewers++]=(0,_GLViewer__WEBPACK_IMPORTED_MODULE_0__.createViewer)(viewerdiv,config):(glviewer.setBackgroundColor(bgcolor,bgalpha),glviewer.setConfig(config),UI&&UI.initiateUI()),viewerdiv.dataset.ui&&$3Dmol.StateManager&&(UI=new $3Dmol.StateManager(glviewer))}catch(a){console.log(a),viewerdiv.textContent="WebGL appears to be disabled."}if(datauri.length!=0){let i=0;var process=function(moldata){uri=datauri[i];var type=viewerdiv.dataset.type||viewerdiv.dataset.datatype||datatypes[i];if(glviewer.addModel(moldata,type,options),UI){var modelName=viewerdiv.dataset[datatypes[i]];UI.setModelTitle(modelName)}if(i+=1,i<datauri.length)(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[i]).then(process);else{if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}};(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[0]).then(process)}else{if(viewerdiv.dataset.element){var moldataid="#"+viewerdiv.dataset.element,molelem=document.querySelector(moldataid),moldata=molelem?molelem.textContent:"";type=viewerdiv.dataset.type||viewerdiv.dataset.datatype,glviewer.addModel(moldata,type,options)}if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&autoload()}},"./src/colors.ts":(a,e,o)=>{o.r(e),o.d(e,{CC:()=>h,Color:()=>c,builtinColorSchemes:()=>ot,chains:()=>nt,elementColors:()=>j,htmlColors:()=>g,residues:()=>rt,ssColors:()=>b});class c{constructor(Et,It,it){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof Et=="number"?(this.r=Et||0,this.g=It||0,this.b=it||0,this):this.set(Et||0)}set(Et){return Et instanceof c?Et.clone():(typeof Et=="number"?this.setHex(Et):typeof Et=="object"&&(this.r=(Et==null?void 0:Et.r)||0,this.g=(Et==null?void 0:Et.g)||0,this.b=(Et==null?void 0:Et.b)||0),this)}setHex(Et){return Et=Math.floor(Et),this.r=(Et>>16&255)/255,this.g=(Et>>8&255)/255,this.b=(Et&255)/255,this}getHex(){var Et=Math.round(this.r*255),It=Math.round(this.g*255),it=Math.round(this.b*255);return Et<<16|It<<8|it}clone(){return new c(this.r,this.g,this.b)}copy(Et){return this.r=Et.r,this.g=Et.g,this.b=Et.b,this}scaled(){var Et={};return Et.r=Math.round(this.r*255),Et.g=Math.round(this.g*255),Et.b=Math.round(this.b*255),Et.a=1,Et}}class h{static color(Et){if(!Et)return h.cache[0];if(Et instanceof c)return Et;if(typeof Et=="number"&&typeof h.cache[Et]<"u")return h.cache[Et];if(Et&&Array.isArray(Et))return Et.map(h.color);let It=h.getHex(Et),it=new c(It);return h.cache[It]=it,it}static getHex(Et){var It;if(Array.isArray(Et))return Et.map(h.getHex);if(typeof Et=="string"){let it=Et;if(!isNaN(parseInt(it)))return parseInt(it);if(it=it.trim(),it.length==4&&it[0]=="#"&&(it="#"+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]),it.length==7&&it[0]=="#")return parseInt(it.substring(1),16);let st=h.rgbRegEx.exec(it);if(st){st[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let Mt=0;for(let bt=2;bt<5;bt++){Mt*=256;let Lt=st[bt].endsWith("%")?255*parseFloat(st[bt])/100:parseFloat(st[bt]);Mt+=Math.round(Lt)}return Mt}return((It=window==null?void 0:window.$3Dmol)===null||It===void 0?void 0:It.htmlColors[Et.toLowerCase()])||0}return Et}}h.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,h.cache={0:new c(0)};const g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},b={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},$={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},j={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:$,defaultColors:Object.assign({},$),greenCarbon:Object.assign(Object.assign({},$),{C:65280}),cyanCarbon:Object.assign(Object.assign({},$),{C:65535}),magentaCarbon:Object.assign(Object.assign({},$),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},$),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},$),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},$),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},$),{C:8388736}),blueCarbon:Object.assign(Object.assign({},$),{C:255})},rt={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},nt={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},ot={ssPyMol:{prop:"ss",map:b.pyMol},ssJmol:{prop:"ss",map:b.Jmol},Jmol:{prop:"elem",map:j.Jmol},amino:{prop:"resn",map:rt.amino},shapely:{prop:"resn",map:rt.shapely},nucleic:{prop:"resn",map:rt.nucleic},chain:{prop:"chain",map:nt.atom},rasmol:{prop:"elem",map:j.rasmol},default:{prop:"elem",map:j.defaultColors},greenCarbon:{prop:"elem",map:j.greenCarbon},chainHetatm:{prop:"chain",map:nt.hetatm},cyanCarbon:{prop:"elem",map:j.cyanCarbon},magentaCarbon:{prop:"elem",map:j.magentaCarbon},purpleCarbon:{prop:"elem",map:j.purpleCarbon},whiteCarbon:{prop:"elem",map:j.whiteCarbon},orangeCarbon:{prop:"elem",map:j.orangeCarbon},yellowCarbon:{prop:"elem",map:j.yellowCarbon},blueCarbon:{prop:"elem",map:j.blueCarbon}}},"./src/glcartoon.ts":(a,e,o)=>{o.r(e),o.d(e,{drawCartoon:()=>wr,subdivide_spline:()=>nt});var c=o("./src/WebGL/math/index.ts"),h=o("./src/WebGL/shapes/index.ts"),g=o("./src/WebGL/index.ts"),b=o("./src/Gradient.ts"),$=o("./src/colors.ts"),j=o("./src/GLDraw.ts"),rt=o("./src/utilities.ts");function nt(yr,xr){var In=[],rn=yr;rn=[],rn.push(yr[0]);var Sr,Tr,Ln,Fn,Or,Nn,eo,uo,wo;for(Sr=1,Tr=yr.length-1;Sr<Tr;Sr++)if(Or=yr[Sr],Nn=yr[Sr+1],Or.smoothen){var bo=new c.Vector3((Or.x+Nn.x)/2,(Or.y+Nn.y)/2,(Or.z+Nn.z)/2);bo.atom=Or.atom,rn.push(bo)}else rn.push(Or);for(rn.push(yr[yr.length-1]),Sr=-1,Ln=rn.length;Sr<=Ln-3;Sr++)if(Fn=rn[Sr===-1?0:Sr],Or=rn[Sr+1],Nn=rn[Sr+2],eo=rn[Sr===Ln-3?Ln-1:Sr+3],uo=new c.Vector3().subVectors(Nn,Fn).multiplyScalar(.5),wo=new c.Vector3().subVectors(eo,Or).multiplyScalar(.5),!Nn.skip)for(var es=0;es<xr;es++){var rs=1/xr*es,vo=Or.x+rs*uo.x+rs*rs*(-3*Or.x+3*Nn.x-2*uo.x-wo.x)+rs*rs*rs*(2*Or.x-2*Nn.x+uo.x+wo.x),gs=Or.y+rs*uo.y+rs*rs*(-3*Or.y+3*Nn.y-2*uo.y-wo.y)+rs*rs*rs*(2*Or.y-2*Nn.y+uo.y+wo.y),cs=Or.z+rs*uo.z+rs*rs*(-3*Or.z+3*Nn.z-2*uo.z-wo.z)+rs*rs*rs*(2*Or.z-2*Nn.z+uo.z+wo.z),Gs=new c.Vector3(vo,gs,cs);es<xr/2?Gs.atom=Or.atom:Gs.atom=Nn.atom,In.push(Gs)}return In.push(rn[rn.length-1]),In}const ot=.5,_t=1.3,Et=.8,It=.4,it=.4;function st(yr,xr,In,rn){for(var Sr,Tr,Ln,Fn,Or=0,Nn=xr.length;Or<Nn;Or++){Fn=Math.round(Or*(rn.length-1)/Nn),Ln=$.CC.color(rn[Fn]);var eo=yr.updateGeoGroup(2),uo=eo.vertexArray,wo=eo.colorArray,bo=eo.faceArray;Sr=eo.vertices,Tr=Sr*3,uo[Tr]=xr[Or].x,uo[Tr+1]=xr[Or].y,uo[Tr+2]=xr[Or].z,uo[Tr+3]=In[Or].x,uo[Tr+4]=In[Or].y,uo[Tr+5]=In[Or].z;for(var es=0;es<6;++es)wo[Tr+3*es]=Ln.r,wo[Tr+1+3*es]=Ln.g,wo[Tr+2+3*es]=Ln.b;if(Or>0){var rs=[Sr,Sr+1,Sr-1,Sr-2],vo=eo.faceidx;bo[vo]=rs[0],bo[vo+1]=rs[1],bo[vo+2]=rs[3],bo[vo+3]=rs[1],bo[vo+4]=rs[2],bo[vo+5]=rs[3],eo.faceidx+=6}eo.vertices+=2}}function Mt(yr,xr,In,rn,Sr,Tr,Ln){var Fn,Or,Nn,eo;if(Nn=xr.length,Nn<2||xr[0].length<2)return;for(Fn=0;Fn<Nn;Fn++)xr[Fn]=nt(xr[Fn],rn);if(eo=xr[0].length,!Sr)return st(yr,xr[0],xr[Nn-1],In);var uo,wo,bo,es,rs,vo,gs=[],cs=[],Gs=[];for(Or=0;Or<Nn;Or++)gs.push(.25+1.5*Math.sqrt((Nn-1)*Or-Math.pow(Or,2))/(Nn-1)),cs.push(.5),Gs.push(2*(Math.pow(Or/Nn,2)-Or/Nn)+.6);var $n=[];for(Or=0;Or<Nn*2-1;Or++)$n[Or]=[Or,Or+1,Or+1-2*Nn,Or-2*Nn];$n[Nn*2-1]=[Or,Or+1-2*Nn,Or+1-4*Nn,Or-2*Nn];var Kn,Bn,co,vs,Ts,Fs,Os,Ns,Ps,Ks;let Bs=yr.updateGeoGroup();for(Fn=0;Fn<eo;Fn++){let Vn=yr.groups,qn=!1;Bs=yr.updateGeoGroup(2*Nn),Vn!=yr.groups&&Fn>0&&(Fn=Fn-1,qn=!0),Fs=Math.round(Fn*(In.length-1)/eo),Ts=$.CC.color(In[Fs]),rs=bo,vo=es,bo=[],es=[],uo=[],xr[0][Fn].atom!==void 0&&(vs=xr[0][Fn].atom,Ln==="oval"?wo=gs:Ln==="rectangle"?wo=cs:Ln==="parabola"&&(wo=Gs)),wo||(wo=cs);var _l,Cl;for(Or=0;Or<Nn;Or++)Fn<eo-1?_l=xr[Or][Fn+1].clone().sub(xr[Or][Fn]):_l=xr[Or][Fn-1].clone().sub(xr[Or][Fn]).negate(),Or<Nn-1?Cl=xr[Or+1][Fn].clone().sub(xr[Or][Fn]):Cl=xr[Or-1][Fn].clone().sub(xr[Or][Fn]).negate(),uo[Or]=Cl.cross(_l).normalize().multiplyScalar(Sr*wo[Or]);for(Or=0;Or<Nn;Or++)bo[Or]=xr[Or][Fn].clone().add(uo[Or].clone().negate());for(Or=0;Or<Nn;Or++)es[Or]=xr[Or][Fn].clone().add(uo[Or]);for(Os=Bs.vertexArray,Ns=Bs.colorArray,Ps=Bs.faceArray,Kn=Bs.vertices,Bn=Kn*3,Or=0;Or<Nn;Or++)Os[Bn+3*Or+0]=bo[Or].x,Os[Bn+3*Or+1]=bo[Or].y,Os[Bn+3*Or+2]=bo[Or].z;for(Or=0;Or<Nn;Or++)Os[Bn+3*Or+0+3*Nn]=es[Nn-1-Or].x,Os[Bn+3*Or+1+3*Nn]=es[Nn-1-Or].y,Os[Bn+3*Or+2+3*Nn]=es[Nn-1-Or].z;for(Or=0;Or<2*Nn;++Or)Ns[Bn+3*Or+0]=Ts.r,Ns[Bn+3*Or+1]=Ts.g,Ns[Bn+3*Or+2]=Ts.b;if(Fn>0&&!qn){for(Or=0;Or<Nn*2;Or++)Ks=[Kn+$n[Or][0],Kn+$n[Or][1],Kn+$n[Or][2],Kn+$n[Or][3]],co=Bs.faceidx,Ps[co]=Ks[0],Ps[co+1]=Ks[1],Ps[co+2]=Ks[3],Ps[co+3]=Ks[1],Ps[co+4]=Ks[2],Ps[co+5]=Ks[3],Bs.faceidx+=6;if(vs.clickable||vs.hoverable){var Zn=[];Zn.push(new h.Triangle(rs[0],bo[0],bo[Nn-1])),Zn.push(new h.Triangle(rs[0],bo[Nn-1],rs[Nn-1])),Zn.push(new h.Triangle(rs[Nn-1],bo[Nn-1],es[Nn-1])),Zn.push(new h.Triangle(rs[Nn-1],es[Nn-1],vo[Nn-1])),Zn.push(new h.Triangle(es[0],vo[0],vo[Nn-1])),Zn.push(new h.Triangle(es[Nn-1],es[0],vo[Nn-1])),Zn.push(new h.Triangle(bo[0],rs[0],vo[0])),Zn.push(new h.Triangle(es[0],bo[0],vo[0]));for(Or in Zn)vs.intersectionShape.triangle.push(Zn[Or])}}Bs.vertices+=2*Nn}for(Os=Bs.vertexArray,Ns=Bs.colorArray,Ps=Bs.faceArray,Kn=Bs.vertices,Bn=Kn*3,co=Bs.faceidx,Fn=0;Fn<Nn-1;Fn++)Ks=[Fn,Fn+1,2*Nn-2-Fn,2*Nn-1-Fn],co=Bs.faceidx,Ps[co]=Ks[0],Ps[co+1]=Ks[1],Ps[co+2]=Ks[3],Ps[co+3]=Ks[1],Ps[co+4]=Ks[2],Ps[co+5]=Ks[3],Bs.faceidx+=6;for(Fn=0;Fn<Nn-1;Fn++)Ks=[Kn-1-Fn,Kn-2-Fn,Kn-2*Nn+Fn+1,Kn-2*Nn+Fn],co=Bs.faceidx,Ps[co]=Ks[0],Ps[co+1]=Ks[1],Ps[co+2]=Ks[3],Ps[co+3]=Ks[1],Ps[co+4]=Ks[2],Ps[co+5]=Ks[3],Bs.faceidx+=6}function bt(yr,xr,In,rn,Sr,Tr){if(!(xr.length<2)){var Ln,Fn;if(Ln=xr[0],Fn=xr[xr.length-1],Ln=nt(Ln,rn),Fn=nt(Fn,rn),!Sr)return st(yr,Ln,Fn,In);var Or=[],Nn,eo,uo,wo,bo,es=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],rs,vo,gs,cs,Gs,$n,Kn,Bn,co,vs,Ts,Fs,Os,Ns,Ps,Ks,Bs;for(Bn=0,co=Ln.length;Bn<co;Bn++){if(Gs=Math.round(Bn*(In.length-1)/co),cs=$.CC.color(In[Gs]),Or.push(eo=Ln[Bn]),Or.push(eo),Or.push(uo=Fn[Bn]),Or.push(uo),Bn<co-1){var _l=Ln[Bn+1].clone().sub(Ln[Bn]),Cl=Fn[Bn].clone().sub(Ln[Bn]);Nn=Cl.cross(_l).normalize().multiplyScalar(Sr)}for(Or.push(wo=Ln[Bn].clone().add(Nn)),Or.push(wo),Or.push(bo=Fn[Bn].clone().add(Nn)),Or.push(bo),eo.atom!==void 0&&($n=eo.atom),Ns=yr.updateGeoGroup(8),Ps=Ns.vertexArray,Ks=Ns.colorArray,Bs=Ns.faceArray,rs=Ns.vertices,vo=rs*3,Ps[vo]=eo.x,Ps[vo+1]=eo.y,Ps[vo+2]=eo.z,Ps[vo+3]=eo.x,Ps[vo+4]=eo.y,Ps[vo+5]=eo.z,Ps[vo+6]=uo.x,Ps[vo+7]=uo.y,Ps[vo+8]=uo.z,Ps[vo+9]=uo.x,Ps[vo+10]=uo.y,Ps[vo+11]=uo.z,Ps[vo+12]=wo.x,Ps[vo+13]=wo.y,Ps[vo+14]=wo.z,Ps[vo+15]=wo.x,Ps[vo+16]=wo.y,Ps[vo+17]=wo.z,Ps[vo+18]=bo.x,Ps[vo+19]=bo.y,Ps[vo+20]=bo.z,Ps[vo+21]=bo.x,Ps[vo+22]=bo.y,Ps[vo+23]=bo.z,vs=0;vs<8;++vs)Ks[vo+3*vs]=cs.r,Ks[vo+1+3*vs]=cs.g,Ks[vo+2+3*vs]=cs.b;if(Bn>0){var Zn=Kn!==void 0&&$n!==void 0&&Kn.serial!==$n.serial;for(vs=0;vs<4;vs++){var Vn=[rs+es[vs][0],rs+es[vs][1],rs+es[vs][2],rs+es[vs][3]];if(gs=Ns.faceidx,Bs[gs]=Vn[0],Bs[gs+1]=Vn[1],Bs[gs+2]=Vn[3],Bs[gs+3]=Vn[1],Bs[gs+4]=Vn[2],Bs[gs+5]=Vn[3],Ns.faceidx+=6,$n.clickable||Kn.clickable||$n.hoverable||Kn.hoverable){var qn=Or[Vn[3]].clone(),hs=Or[Vn[0]].clone(),us=Or[Vn[2]].clone(),xs=Or[Vn[1]].clone();if(qn.atom=Or[Vn[3]].atom||null,us.atom=Or[Vn[2]].atom||null,hs.atom=Or[Vn[0]].atom||null,xs.atom=Or[Vn[1]].atom||null,Zn){var Rs=qn.clone().add(hs).multiplyScalar(.5),zn=us.clone().add(xs).multiplyScalar(.5),ds=qn.clone().add(xs).multiplyScalar(.5);vs%2===0?((Kn.clickable||Kn.hoverable)&&(Ts=new h.Triangle(Rs,ds,qn),Fs=new h.Triangle(zn,us,ds),Os=new h.Triangle(ds,us,qn),Kn.intersectionShape.triangle.push(Ts),Kn.intersectionShape.triangle.push(Fs),Kn.intersectionShape.triangle.push(Os)),($n.clickable||$n.hoverable)&&(Ts=new h.Triangle(hs,xs,ds),Fs=new h.Triangle(xs,zn,ds),Os=new h.Triangle(hs,ds,Rs),$n.intersectionShape.triangle.push(Ts),$n.intersectionShape.triangle.push(Fs),$n.intersectionShape.triangle.push(Os))):(($n.clickable||$n.hoverable)&&(Ts=new h.Triangle(Rs,ds,qn),Fs=new h.Triangle(zn,us,ds),Os=new h.Triangle(ds,us,qn),$n.intersectionShape.triangle.push(Ts),$n.intersectionShape.triangle.push(Fs),$n.intersectionShape.triangle.push(Os)),(Kn.clickable||Kn.hoverable)&&(Ts=new h.Triangle(hs,xs,ds),Fs=new h.Triangle(xs,zn,ds),Os=new h.Triangle(hs,ds,Rs),Kn.intersectionShape.triangle.push(Ts),Kn.intersectionShape.triangle.push(Fs),Kn.intersectionShape.triangle.push(Os)))}else($n.clickable||$n.hoverable)&&(Ts=new h.Triangle(hs,xs,qn),Fs=new h.Triangle(xs,us,qn),$n.intersectionShape.triangle.push(Ts),$n.intersectionShape.triangle.push(Fs))}}}Ns.vertices+=8,Kn=$n}var _s=Or.length-8;for(Ns=yr.updateGeoGroup(8),Ps=Ns.vertexArray,Ks=Ns.colorArray,Bs=Ns.faceArray,rs=Ns.vertices,vo=rs*3,gs=Ns.faceidx,Bn=0;Bn<4;Bn++){Or.push(Or[Bn*2]),Or.push(Or[_s+Bn*2]);var ks=Or[Bn*2],as=Or[_s+Bn*2];Ps[vo+6*Bn]=ks.x,Ps[vo+1+6*Bn]=ks.y,Ps[vo+2+6*Bn]=ks.z,Ps[vo+3+6*Bn]=as.x,Ps[vo+4+6*Bn]=as.y,Ps[vo+5+6*Bn]=as.z,Ks[vo+6*Bn]=cs.r,Ks[vo+1+6*Bn]=cs.g,Ks[vo+2+6*Bn]=cs.b,Ks[vo+3+6*Bn]=cs.r,Ks[vo+4+6*Bn]=cs.g,Ks[vo+5+6*Bn]=cs.b}_s+=8,Ts=[rs,rs+2,rs+6,rs+4],Fs=[rs+1,rs+5,rs+7,rs+3],Bs[gs]=Ts[0],Bs[gs+1]=Ts[1],Bs[gs+2]=Ts[3],Bs[gs+3]=Ts[1],Bs[gs+4]=Ts[2],Bs[gs+5]=Ts[3],Bs[gs+6]=Fs[0],Bs[gs+7]=Fs[1],Bs[gs+8]=Fs[3],Bs[gs+9]=Fs[1],Bs[gs+10]=Fs[2],Bs[gs+11]=Fs[3],Ns.faceidx+=12,Ns.vertices+=8}}function Lt(yr,xr,In,rn,Sr,Tr,Ln){(!Ln||Ln==="default")&&(Ln="rectangle"),Ln==="edged"?bt(yr,xr,In,rn,Sr):(Ln==="rectangle"||Ln==="oval"||Ln==="parabola")&&Mt(yr,xr,In,rn,Sr,Tr,Ln)}function pt(yr){return yr&&yr.elem==="C"&&yr.atom==="CA"}function Dt(yr,xr){if(yr&&xr&&yr.chain===xr.chain){if(!yr.hetflag&&!xr.hetflag&&yr.reschain===xr.reschain&&(yr.resi===xr.resi||yr.resi===xr.resi-1))return!0;if(yr.resi<xr.resi){var In=yr.x-xr.x,rn=yr.y-xr.y,Sr=yr.z-xr.z,Tr=In*In+rn*rn+Sr*Sr;if(yr.atom=="CA"&&xr.atom=="CA"&&Tr<16||(yr.atom=="P"||xr.atom=="P")&&Tr<64)return!0}}return!1}function wt(yr,xr,In,rn,Sr){if(!(xr==null||xr.vertices==0)){Sr&&(xr.initTypedArrays(),xr.setUpNormals());var Tr=new g.MeshDoubleLambertMaterial;Tr.vertexColors=g.Coloring.FaceColors,typeof In=="number"&&In>=0&&In<1&&(Tr.transparent=!0,Tr.opacity=In),Tr.outline=rn;var Ln=new g.Mesh(xr,Tr);yr.add(Ln)}}function Bt(yr,xr,In,rn,Sr,Tr,Ln,Fn,Or){var Nn,eo,uo,wo,bo,es;if(!(!rn||!Sr||!Ln)){var rs=Sr.sub(rn);rs.normalize();var vo=Fn[Or];for(eo=Or+1;eo<Fn.length&&(vo=Fn[eo],vo.atom!=Ln.atom);eo++);if(vo=vo?new c.Vector3(vo.x,vo.y,vo.z):new c.Vector3(0,0,0),vo.sub(rn),Ln.ss==="arrow start"){var gs=vo.clone().multiplyScalar(.3).cross(Sr);rn.add(gs);var cs=vo.clone().cross(rs).normalize();rs.rotateAboutVector(cs,.43)}for(Ln.style.cartoon.ribbon?Nn=Ln.style.cartoon.thickness||It:Ln.style.cartoon.width?Nn=Ln.style.cartoon.width:Ln.ss==="c"?Ln.atom==="P"?Nn=Et:Nn=ot:Ln.ss==="arrow start"?(Nn=_t,bo=!0):Ln.ss==="arrow end"||Ln.ss==="h"&&Ln.style.cartoon.tubes||Ln.ss==="tube start"?Nn=ot:Nn=_t,Tr!=null&&rs.dot(Tr)<0&&rs.negate(),rs.multiplyScalar(Nn),eo=0;eo<xr;eo++)uo=-1+eo*2/(xr-1),wo=new c.Vector3(rn.x+uo*rs.x,rn.y+uo*rs.y,rn.z+uo*rs.z),wo.atom=Ln,In&&Ln.ss==="s"&&(wo.smoothen=!0),yr[eo].push(wo);if(bo)for(rs.multiplyScalar(2),eo=0;eo<xr;eo++)uo=-1+eo*2/(xr-1),wo=new c.Vector3(rn.x+uo*rs.x,rn.y+uo*rs.y,rn.z+uo*rs.z),wo.atom=Ln,wo.smoothen=!1,wo.skip=!0,yr[eo].push(wo);return es=Ln.style.cartoon.style||"default",yr.style?yr.style!=es&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),yr.style="default"):yr.style=es,(Ln.ss==="arrow start"||Ln.ss==="arrow end")&&(Ln.ss="s"),bo}}const jt={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},hr={DA:!0,DG:!0,A:!0,G:!0},gr={DT:!0,DC:!0,U:!0,C:!0,T:!0},Cr={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function wr(yr,xr,In,rn=10){let Sr=rn,Tr=rn;var Ln,Fn,Or,Nn,eo,uo,wo,bo,es,rs,vo,gs,cs,Gs,$n,Kn,Bn,co,vs=new g.Geometry(!0),Ts=new g.Geometry(!0),Fs=[],Os=[],Ns=1,Ps=!1,Ks={};for(var Bs in b.Gradient.builtinGradients)b.Gradient.builtinGradients.hasOwnProperty(Bs)&&(Ks[Bs]=new b.Gradient.builtinGradients[Bs](In[1],In[0]));var _l=function(Un,As){return In&&As.color==="spectrum"?As.colorscheme in Ks?Ks[As.colorscheme].valueToHex(Un.resi):Ks.sinebow.valueToHex(Un.resi):(0,rt.getColorFromStyle)(Un,As).getHex()};for(bo=0;bo<Sr;bo++)Os[bo]=[];var Cl=!1,Zn=!1,Vn=[];for(bo in xr){if(Nn=xr[bo],Nn.elem==="C"&&Nn.atom==="CA"){var qn=Dt(Or,Nn);qn&&Nn.ss==="s"?Cl=!0:Cl&&(Or&&Fn&&Or.style.cartoon.arrows&&Fn.style.cartoon.arrows&&(Or.ss="arrow end",Fn.ss="arrow start"),Cl=!1),qn&&(Or.ss==="h"||Or.ss=="tube start")&&Or.style.cartoon.tubes?!Zn&&Or.ss!="tube start"&&Nn.style.cartoon.tubes&&(Nn.ss="tube start",Zn=!0):Zn&&(Or.ss==="tube start"?Or.ss="tube end":Fn&&Fn.style.cartoon.tubes&&(Fn.ss="tube end"),Zn=!1),Fn=Or,Or=Nn}Nn&&Nn.atom in jt&&Vn.push(Nn)}Zn&&Or.style.cartoon.tubes&&(Or.ss="tube end",Zn=!1);var hs=function(Un){Os[0].length>0&&Lt(Ts,Os,Fs,Tr,wo,Ns,Os.style);var As=[],yl=null;if(Un){for(bo=0;bo<Sr;bo++)As[bo]=Os[bo][Os[bo].length-1];yl=Fs[Fs.length-1]}for(Os=[],bo=0;bo<Sr;bo++)Os[bo]=[];if(Fs=[],Un){for(bo=0;bo<Sr;bo++)Os[bo].push(As[bo]);Fs.push(yl)}wt(yr,Ts,Ns,Ps,!0),wt(yr,vs,Ns,Ps,!1),Ts=new g.Geometry(!0),vs=new g.Geometry(!0)};Or=void 0;for(var us=0;us<Vn.length;us++){Nn=Vn[us];var xs=Nn.resn.trim(),Rs=xs in Cr;if(Ns=1,Ln=Nn.style.cartoon,Or&&Or.style.cartoon&&(Ns=Or.style.cartoon.opacity),Or&&Or.style.cartoon&&Or.style.cartoon.outline&&(Ps=Or.style.cartoon.outline),Or&&Or.style.cartoon&&(!Nn.style.cartoon||Or.style.cartoon.opacity!=Nn.style.cartoon.opacity)&&hs(Or.chain==Nn.chain),Ln.style==="trace"){if(!Nn.hetflag&&(Nn.elem==="C"&&Nn.atom==="CA"||Rs&&Nn.atom==="P"||Nn.atom==="BB")){if(uo=_l(Nn,Ln),(0,rt.isNumeric)(Ln.thickness)?wo=Ln.thickness:wo=It,Dt(Or,Nn))if(uo==eo){var zn=$.CC.color(uo);j.GLDraw.drawCylinder(vs,Or,Nn,wo,zn,2,2)}else{var ds=new c.Vector3().addVectors(Or,Nn).multiplyScalar(.5),_s=$.CC.color(eo),ks=$.CC.color(uo);j.GLDraw.drawCylinder(vs,Or,ds,wo,_s,2,0),j.GLDraw.drawCylinder(vs,ds,Nn,wo,ks,0,2)}if((Nn.clickable===!0||Nn.hoverable)&&Nn.intersectionShape!==void 0){var as=new c.Vector3(Nn.x,Nn.y,Nn.z);Nn.intersectionShape.sphere.push(new h.Sphere(as,wo))}Or=Nn,eo=uo}}else{if(pt(Nn)||Rs&&(Nn.atom==="P"||Nn.atom.indexOf("O5")==0)){if(co)if(Nn.ss==="tube end")co=!1,Bn=new c.Vector3(Nn.x,Nn.y,Nn.z),j.GLDraw.drawCylinder(vs,Kn,Bn,2,$.CC.color(eo),1,1),Nn.ss="h";else if(Or.chain!=Nn.chain||Or.ss==="tube end")co=!1,Or.ss="h",Bn=new c.Vector3(Or.x,Or.y,Or.z),j.GLDraw.drawCylinder(vs,Kn,Bn,2,$.CC.color(eo),1,1);else continue;if(Or&&(!Dt(Or,Nn)||Or.ss==="tube start")){for(Or.ss==="tube start"&&(co=!0,Kn=new c.Vector3(Or.x,Or.y,Or.z),Or.ss="h"),$n&&(gs?Gs=new c.Vector3().addVectors(Or,gs).multiplyScalar(.5):Gs=new c.Vector3(Or.x,Or.y,Or.z),j.GLDraw.drawCylinder(vs,Gs,$n,it,$.CC.color($n.color),0,2),Bt(Os,Sr,!0,gs,cs,vo,Or,Vn,us),Fs.push(uo),Gs=null,$n=null),Os[0].length>0&&Lt(Ts,Os,Fs,Tr,wo,Ns,Os.style),Os=[],bo=0;bo<Sr;bo++)Os[bo]=[];Fs=[]}if(Or===void 0||Or.rescode!=Nn.rescode||Or.resi!=Nn.resi){if($n&&Or!=null){Gs=new c.Vector3().addVectors(Or,Nn).multiplyScalar(.5);var Ls=Gs.clone().sub($n).multiplyScalar(.02);Gs.add(Ls),j.GLDraw.drawCylinder(vs,Gs,$n,it,$.CC.color($n.color),0,2),Gs=null,$n=null}uo=_l(Nn,Ln),Fs.push(uo),(0,rt.isNumeric)(Ln.thickness)?wo=Ln.thickness:wo=It,Or=Nn,es=new c.Vector3(Or.x,Or.y,Or.z),es.resi=Or.resi,eo=uo}(Nn.clickable===!0||Nn.hoverable===!0)&&(Nn.intersectionShape===void 0||Nn.intersectionShape.triangle===void 0)&&(Nn.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else Or!=null&&(pt(Or)&&Nn.atom==="O"||Rs&&Or.atom==="P"&&(Nn.atom==="OP2"||Nn.atom==="O2P")||Rs&&Or.atom.indexOf("O5")==0&&Nn.atom.indexOf("C5")==0)?(rs=new c.Vector3(Nn.x,Nn.y,Nn.z),rs.resi=Nn.resi,(Nn.atom==="OP2"||Nn.atom==="O2P")&&(cs=new c.Vector3(Nn.x,Nn.y,Nn.z))):Rs&&Nn.atom.indexOf("O3")==0?gs=new c.Vector3(Nn.x,Nn.y,Nn.z):(Nn.atom==="N1"&&xs in hr||Nn.atom==="N3"&&xs in gr)&&($n=new c.Vector3(Nn.x,Nn.y,Nn.z),$n.color=(0,rt.getColorFromStyle)(Nn,Ln).getHex());rs&&es&&rs.resi===es.resi&&(Bt(Os,Sr,!0,es,rs,vo,Or,Vn,us),vo=rs,es=null,rs=null,Fs.push(uo))}}$n&&(gs?Gs=new c.Vector3().addVectors(Or,gs).multiplyScalar(.5):Gs=new c.Vector3(Or.x,Or.y,Or.z),j.GLDraw.drawCylinder(vs,Gs,$n,it,$.CC.color($n.color),0,2),Bt(Os,Sr,!0,gs,cs,vo,Or,Vn,us),Fs.push(uo)),hs(!1)}},"./src/index.ts":(a,e,o)=>{o.r(e),o.d(e,{CAP:()=>it.CAP,CC:()=>h.CC,Color:()=>h.Color,CustomLinear:()=>c.CustomLinear,Cylinder:()=>rt.Cylinder,GLDraw:()=>it.GLDraw,GLModel:()=>Mt.GLModel,GLShape:()=>It.GLShape,GLViewer:()=>bt.GLViewer,GLVolumetricRender:()=>Et.GLVolumetricRender,Gradient:()=>c.Gradient,GradientType:()=>c.GradientType,Label:()=>g.Label,LabelCount:()=>g.LabelCount,MarchingCube:()=>ot.MarchingCube,MarchingCubeInitializer:()=>ot.MarchingCubeInitializer,Matrix3:()=>j.Matrix3,Matrix4:()=>j.Matrix4,Parsers:()=>$.Parsers,PausableTimer:()=>nt.PausableTimer,PointGrid:()=>ot.PointGrid,ProteinSurface:()=>ot.ProteinSurface,Quaternion:()=>j.Quaternion,ROYGB:()=>c.ROYGB,RWB:()=>c.RWB,Ray:()=>j.Ray,Sinebow:()=>c.Sinebow,Sphere:()=>rt.Sphere,SurfaceType:()=>ot.SurfaceType,Triangle:()=>rt.Triangle,Vector2:()=>j.Vector2,Vector3:()=>j.Vector3,VolumeData:()=>_t.VolumeData,adjustVolumeStyle:()=>nt.adjustVolumeStyle,applyPartialCharges:()=>b.applyPartialCharges,autoinit:()=>Lt.autoinit,autoload:()=>Lt.autoload,base64ToArray:()=>nt.base64ToArray,bondLength:()=>$.bondLength,builtinColorSchemes:()=>h.builtinColorSchemes,builtinGradients:()=>c.builtinGradients,chains:()=>h.chains,clamp:()=>j.clamp,conversionMatrix3:()=>j.conversionMatrix3,createStereoViewer:()=>bt.createStereoViewer,createViewer:()=>bt.createViewer,createViewerGrid:()=>bt.createViewerGrid,deepCopy:()=>nt.deepCopy,degToRad:()=>j.degToRad,download:()=>nt.download,drawCartoon:()=>st.drawCartoon,elementColors:()=>h.elementColors,extend:()=>nt.extend,get:()=>nt.get,getAtomProperty:()=>nt.getAtomProperty,getColorFromStyle:()=>nt.getColorFromStyle,getElement:()=>nt.getElement,getExtent:()=>nt.getExtent,getGradient:()=>c.getGradient,getPropertyRange:()=>nt.getPropertyRange,getbin:()=>nt.getbin,htmlColors:()=>h.htmlColors,isEmptyObject:()=>nt.isEmptyObject,isNumeric:()=>nt.isNumeric,makeFunction:()=>nt.makeFunction,mergeGeos:()=>nt.mergeGeos,normalizeValue:()=>c.normalizeValue,partialCharges:()=>b.partialCharges,processing_autoinit:()=>Lt.processing_autoinit,residues:()=>h.residues,setBondLength:()=>$.setBondLength,setSyncSurface:()=>ot.setSyncSurface,specStringToObject:()=>nt.specStringToObject,splitMesh:()=>It.splitMesh,ssColors:()=>h.ssColors,subdivide_spline:()=>st.subdivide_spline,syncSurface:()=>ot.syncSurface,viewers:()=>Lt.viewers});var c=o("./src/Gradient.ts"),h=o("./src/colors.ts"),g=o("./src/Label.ts"),b=o("./src/partialCharges.ts"),$=o("./src/parsers/index.ts"),j=o("./src/WebGL/math/index.ts"),rt=o("./src/WebGL/shapes/index.ts"),nt=o("./src/utilities.ts"),ot=o("./src/ProteinSurface4.ts"),_t=o("./src/VolumeData.ts"),Et=o("./src/VolumetricRender.ts"),It=o("./src/GLShape.ts"),it=o("./src/GLDraw.ts"),st=o("./src/glcartoon.ts"),Mt=o("./src/GLModel.ts"),bt=o("./src/GLViewer.ts"),Lt=o("./src/autoload.ts");o("./src/specs.ts"),window&&(window.$3Dmol=e)},"./src/parsers/CDJSON.ts":(a,e,o)=>{o.r(e),o.d(e,{CDJSON:()=>c});function c(h,g){var b=[[]];typeof h=="string"&&(h=JSON.parse(h));for(var $=h.m,j=$[0].a,rt=$[0].b,nt=$[0].s,ot=g!==void 0&&g.parseStyle!==void 0?g.parseStyle:nt!==void 0,_t=b[b.length-1].length,Et=0;Et<j.length;Et++){var It=j[Et],it={};it.id=It.i,it.x=It.x,it.y=It.y,it.z=It.z||0,it.bonds=[],it.bondOrder=[];var st=It.l||"C";it.elem=st[0].toUpperCase()+st.substring(1).toLowerCase(),it.serial=b[b.length-1].length,ot&&(it.style=nt[It.s||0]),b[b.length-1].push(it)}for(let Mt=0;Mt<rt.length;Mt++){let bt=rt[Mt],Lt=bt.b+_t,pt=bt.e+_t,Dt=bt.o||1,wt=b[b.length-1][Lt],Bt=b[b.length-1][pt];wt.bonds.push(pt),wt.bondOrder.push(Dt),Bt.bonds.push(Lt),Bt.bondOrder.push(Dt)}return b}},"./src/parsers/CIF.ts":(a,e,o)=>{o.r(e),o.d(e,{CIF:()=>$});var c=o("./src/parsers/utils/computeSecondaryStructure.ts"),h=o("./src/parsers/utils/processSymmetries.ts"),g=o("./src/WebGL/index.ts"),b=o("./src/parsers/utils/assignPDBBonds.ts");function $(j,rt={}){var nt=[],ot=!rt.doAssembly,_t=nt.modelData=[],Et=rt.assignBonds===void 0?!0:rt.assignBonds,It=function(Vn,qn,hs,us){return new g.Vector3(qn,hs,us).applyMatrix3(Vn)};function it(Vn,qn){for(var hs=[],us=0,xs=0;xs<Vn.length;){for(;Vn.substring(xs,xs+qn.length)!==qn&&xs<Vn.length;)if(Vn[xs]==="'"){for(xs++;xs<Vn.length&&Vn[xs]!=="'";)xs++;for(;Vn.substring(xs,xs+qn.length)!==qn&&xs<Vn.length;)xs++}else if(Vn[xs]==='"'){for(xs++;xs<Vn.length&&Vn[xs]!=='"';)xs++;xs++}else xs++;hs.push(Vn.substring(us,xs)),us=xs=xs+qn.length}return hs}var st=j.split(/\r?\n|\r/),Mt=[],bt=!1;for(let Vn=0;Vn<st.length;Vn++){var Lt=st[Vn].split("#")[0];if(bt?Lt[0]===";"&&(bt=!1):Lt[0]===";"&&(bt=!0),bt||Lt!==""){if(!bt&&(Lt=Lt.trim(),Lt[0]==="_")){var pt=Lt.split(/\s/)[0].indexOf(".");if(pt>-1){let qn=Lt.split("");qn[pt]="_",Lt=qn.join(""),Lt=Lt.substring(0,pt)+"_"+Lt.substring(pt+1)}}Mt.push(Lt)}}for(var Dt=0;Dt<Mt.length;){for(;!Mt[Dt].startsWith("data_")||Mt[Dt]==="data_global";)Dt++;Dt++;for(var wt={};Dt<Mt.length&&!Mt[Dt].startsWith("data_");)if(Mt[Dt][0]===void 0)Dt++;else if(Mt[Dt][0]==="_"){var Bt=Mt[Dt].split(/\s/)[0].toLowerCase(),jt=wt[Bt]=wt[Bt]||[],hr=Mt[Dt].substring(Mt[Dt].indexOf(Bt)+Bt.length);if(hr==="")if(Dt++,Mt[Dt][0]===";"){var gr=Mt[Dt].substring(1);for(Dt++;Mt[Dt]!==";";)gr=gr+`
`+Mt[Dt],Dt++;jt.push(gr)}else jt.push(Mt[Dt]);else jt.push(hr.trim());Dt++}else if(Mt[Dt].substring(0,5)==="loop_"){Dt++;for(var Cr=[];Mt[Dt]===""||Mt[Dt][0]==="_";){if(Mt[Dt]!==""){let Vn=Mt[Dt].split(/\s/)[0].toLowerCase(),qn=wt[Vn]=wt[Vn]||[];Cr.push(qn)}Dt++}for(var wr=0;Dt<Mt.length&&Mt[Dt][0]!=="_"&&!Mt[Dt].startsWith("loop_")&&!Mt[Dt].startsWith("data_");){let Vn=it(Mt[Dt]," ");for(var yr=0;yr<Vn.length;yr++)Vn[yr]!==""&&(Cr[wr].push(Vn[yr]),wr=(wr+1)%Cr.length);Dt++}}else Dt++;_t.push({symmetries:[]}),nt.push([]);var xr=wt._atom_site_id!==void 0?wt._atom_site_id.length:wt._atom_site_label.length,In;if(wt._cell_length_a!==void 0){var rn=parseFloat(wt._cell_length_a),Sr=parseFloat(wt._cell_length_b),Tr=parseFloat(wt._cell_length_c),Ln=parseFloat(wt._cell_angle_alpha)||90,Fn=parseFloat(wt._cell_angle_beta)||90,Or=parseFloat(wt._cell_angle_gamma)||90;In=(0,g.conversionMatrix3)(rn,Sr,Tr,Ln,Fn,Or),_t[_t.length-1].cryst={a:rn,b:Sr,c:Tr,alpha:Ln,beta:Fn,gamma:Or}}for(var Nn=0;Nn<xr;Nn++)if(!(wt._atom_site_group_pdb!==void 0&&wt._atom_site_group_pdb[Nn]==="TER")){var eo={};if(wt._atom_site_cartn_x!==void 0)eo.x=parseFloat(wt._atom_site_cartn_x[Nn]),eo.y=parseFloat(wt._atom_site_cartn_y[Nn]),eo.z=parseFloat(wt._atom_site_cartn_z[Nn]);else{var uo=It(In,parseFloat(wt._atom_site_fract_x[Nn]),parseFloat(wt._atom_site_fract_y[Nn]),parseFloat(wt._atom_site_fract_z[Nn]));eo.x=uo.x,eo.y=uo.y,eo.z=uo.z}eo.chain=wt._atom_site_auth_asym_id?wt._atom_site_auth_asym_id[Nn]:wt._atom_site_label_asym_id?wt._atom_site_label_asym_id[Nn]:void 0,eo.resi=wt._atom_site_auth_seq_id?parseInt(wt._atom_site_auth_seq_id[Nn]):wt._atom_site_label_seq_id?wt._atom_site_label_seq_id[Nn]:void 0,eo.resn=wt._atom_site_auth_comp_id?wt._atom_site_auth_comp_id[Nn].trim():wt._atom_site_label_comp_id?wt._atom_site_label_comp_id[Nn].trim():void 0,eo.atom=wt._atom_site_auth_atom_id?wt._atom_site_auth_atom_id[Nn].replace(/"/gm,""):wt._atom_site_label_atom_id?wt._atom_site_label_atom_id[Nn].replace(/"/gm,""):void 0,eo.hetflag=!wt._atom_site_group_pdb||wt._atom_site_group_pdb[Nn]==="HETA"||wt._atom_site_group_pdb[Nn]==="HETATM";var wo="X";wt._atom_site_type_symbol?wo=wt._atom_site_type_symbol[Nn].replace(/\(?\+?\d+.*/,""):wt._atom_site_label&&(wo=wt._atom_site_label[Nn].split("_")[0].replace(/\(?\d+.*/,"")),eo.elem=wo[0].toUpperCase()+wo.substring(1,2).toLowerCase(),eo.bonds=[],eo.ss="c",eo.serial=Nn,eo.bondOrder=[],eo.properties={},nt[nt.length-1].push(eo)}if(wt._pdbx_struct_oper_list_id!==void 0&&!ot)for(let Vn=0;Vn<wt._pdbx_struct_oper_list_id.length;Vn++){var bo=parseFloat(wt["_pdbx_struct_oper_list_matrix[1][1]"][Vn]),es=parseFloat(wt["_pdbx_struct_oper_list_matrix[1][2]"][Vn]),rs=parseFloat(wt["_pdbx_struct_oper_list_matrix[1][3]"][Vn]),vo=parseFloat(wt["_pdbx_struct_oper_list_vector[1]"][Vn]),gs=parseFloat(wt["_pdbx_struct_oper_list_matrix[2][1]"][Vn]),cs=parseFloat(wt["_pdbx_struct_oper_list_matrix[2][2]"][Vn]),Gs=parseFloat(wt["_pdbx_struct_oper_list_matrix[2][3]"][Vn]),$n=parseFloat(wt["_pdbx_struct_oper_list_vector[2]"][Vn]),Kn=parseFloat(wt["_pdbx_struct_oper_list_matrix[3][1]"][Vn]),Bn=parseFloat(wt["_pdbx_struct_oper_list_matrix[3][2]"][Vn]),co=parseFloat(wt["_pdbx_struct_oper_list_matrix[3][3]"][Vn]),vs=parseFloat(wt["_pdbx_struct_oper_list_vector[3]"][Vn]),Ts=new g.Matrix4(bo,es,rs,vo,gs,cs,Gs,$n,Kn,Bn,co,vs);_t[_t.length-1].symmetries.push(Ts)}var Fs=function(Vn){var qn=Vn.match("-");Vn=Vn.replace(/[-xyz]/g,"");var hs=Vn.split("/"),us,xs;return hs[1]===void 0?xs=1:xs=parseInt(hs[1]),hs[0]===""?us=1:us=parseInt(hs[0]),us/xs*(qn?-1:1)};if(wt._symmetry_equiv_pos_as_xyz!==void 0&&!ot)for(var Os=0;Os<wt._symmetry_equiv_pos_as_xyz.length;Os++){var Ns=wt._symmetry_equiv_pos_as_xyz[Os].replace(/["' ]/g,""),Ps=Ns.split(",").map(function(qn){return qn.replace(/-/g,"+-")});let Vn=new g.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let qn=0;qn<3;qn++){var Ks=Ps[qn].split("+");for(let hs=0;hs<Ks.length;hs++){var Bs=Ks[hs];if(Bs!==""){var _l=Fs(Bs);Bs.match("x")?Vn.elements[qn+0]=_l:Bs.match("y")?Vn.elements[qn+4]=_l:Bs.match("z")?Vn.elements[qn+8]=_l:Vn.elements[qn+12]=_l}}}var Cl=In.getMatrix4(),Zn=new g.Matrix4().getInverse(Cl,!0);Vn=new g.Matrix4().multiplyMatrices(Vn,Zn),Vn=new g.Matrix4().multiplyMatrices(Cl,Vn),_t[_t.length-1].symmetries.push(Vn)}}for(let Vn=0;Vn<nt.length;Vn++)Et&&!(rt.duplicateAssemblyAtoms&&!rt.dontConnectDuplicatedAtoms)&&(0,b.assignPDBBonds)(nt[Vn],rt),(0,c.computeSecondaryStructure)(nt[Vn],rt.hbondCutoff),(0,h.processSymmetries)(_t[Vn].symmetries,nt[Vn],rt,_t[Vn].cryst),rt.duplicateAssemblyAtoms&&!rt.dontConnectDuplicatedAtoms&&Et&&(0,b.assignPDBBonds)(nt[Vn],rt);return nt}},"./src/parsers/CUBE.ts":(a,e,o)=>{o.r(e),o.d(e,{CUBE:()=>b});var c=o("./src/WebGL/index.ts"),h=o("./src/parsers/utils/assignBonds.ts"),g=o("./src/parsers/utils/anumToSymbol.ts");function b($,j){j=j||{};var rt=[[]],nt=$.split(/\r?\n/),ot=j.assignBonds===void 0?!0:j.assignBonds;if(nt.length<6)return rt;var _t=nt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Et=Math.abs(parseFloat(_t[0]));let It={};var it=It.origin=new c.Vector3(parseFloat(_t[1]),parseFloat(_t[2]),parseFloat(_t[3]));_t=nt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),_t=nt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var st=_t[0]>0?.529177:1;it.multiplyScalar(st);var Mt=Math.abs(_t[0]),bt=new c.Vector3(parseFloat(_t[1]),parseFloat(_t[2]),parseFloat(_t[3])).multiplyScalar(st);_t=nt[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Lt=Math.abs(_t[0]),pt=new c.Vector3(parseFloat(_t[1]),parseFloat(_t[2]),parseFloat(_t[3])).multiplyScalar(st);_t=nt[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Dt=Math.abs(_t[0]),wt=new c.Vector3(parseFloat(_t[1]),parseFloat(_t[2]),parseFloat(_t[3])).multiplyScalar(st);if(It.size={x:Mt,y:Lt,z:Dt},It.unit=new c.Vector3(bt.x,pt.y,wt.z),bt.y!=0||bt.z!=0||pt.x!=0||pt.z!=0||wt.x!=0||wt.y!=0){It.matrix4=new c.Matrix4(bt.x,pt.x,wt.x,0,bt.y,pt.y,wt.y,0,bt.z,pt.z,wt.z,0,0,0,0,1);let yr=new c.Matrix4().makeTranslation(it.x,it.y,it.z);It.matrix4=It.matrix4.multiplyMatrices(yr,It.matrix4),It.matrix=It.matrix4.matrix3FromTopLeft(),It.origin=new c.Vector3(0,0,0),It.unit=new c.Vector3(1,1,1)}rt.modelData=[{cryst:It}],nt=nt.splice(6,Et);for(var Bt=rt[rt.length-1].length,jt=Bt+nt.length,hr=Bt;hr<jt;++hr){var gr={};gr.serial=hr;var Cr=nt[hr-Bt],wr=Cr.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");gr.elem=g.anumToSymbol[wr[0]],gr.x=parseFloat(wr[2])*st,gr.y=parseFloat(wr[3])*st,gr.z=parseFloat(wr[4])*st,gr.hetflag=!0,gr.bonds=[],gr.bondOrder=[],gr.properties={},rt[rt.length-1].push(gr)}if(ot)for(let yr=0;yr<rt.length;yr++)(0,h.assignBonds)(rt[yr],j);return rt}},"./src/parsers/GRO.ts":(a,e,o)=>{o.r(e),o.d(e,{GRO:()=>g});var c=o("./src/parsers/utils/assignPDBBonds.ts"),h=o("./src/parsers/utils/atomNameToElem.ts");function g(b,$){for(var j=[],rt=b.split(/\r?\n|\r/);rt.length>0&&!(rt.length<3);){var nt=parseInt(rt[1]);if(isNaN(nt)||nt<=0||rt.length<nt+3)break;var ot=[];j.push(ot);for(var _t=2,Et=ot.length,It=Et+nt,it=Et;it<It;it++){var st=rt[_t++],Mt={};Mt.serial=it,Mt.atom=st.slice(10,15).trim(),Mt.elem=(0,h.atomNameToElem)(Mt.atom,!0),Mt.x=10*parseFloat(st.slice(20,28)),Mt.y=10*parseFloat(st.slice(28,36)),Mt.z=10*parseFloat(st.slice(36,44)),Mt.resi=parseInt(st.slice(0,5)),Mt.resn=st.slice(5,10).trim(),Mt.bonds=[],Mt.bondOrder=[],Mt.properties={},st.length>44&&(Mt.dx=10*parseFloat(st.slice(44,52)),Mt.dy=10*parseFloat(st.slice(52,60)),Mt.dz=10*parseFloat(st.slice(60,68))),ot[it]=Mt}if(rt.length<=_t+3){var bt=rt[_t++],Lt=bt.trim().split(/\s+/);if(Lt.length==3){for(var pt=0;pt<3;pt++)Lt[pt]=parseFloat(Lt[pt])*10;j.box=Lt}}rt.splice(0,++_t)}for(let Dt=0;Dt<j.length;Dt++)(0,c.assignPDBBonds)(j[Dt],$);return j}},"./src/parsers/LAMMPSTRJ.ts":(a,e,o)=>{o.r(e),o.d(e,{LAMMPSTRJ:()=>h});var c=o("./src/parsers/utils/assignBonds.ts");function h(g,b){for(var $=[],j={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"},rt=g.split(/\r?\n|\r/),nt=0,ot=0,_t=0;_t<rt.length-9;){for(var Et=_t;Et<rt.length;Et++)if(rt[Et].match(/ITEM: NUMBER OF ATOMS/)&&(ot=parseInt(rt[Et+1])),rt[Et].match(/ITEM: ATOMS/)){nt=Et+1;break}var It=rt[nt-1].replace("ITEM: ATOMS ","").split(" ");$.push([]);for(let Dt=nt;Dt<nt+ot;Dt++){for(var it={},st={},Mt=rt[Dt].split(" "),bt=0;bt<Mt.length;bt++){var Lt=j[It[bt]];Lt!=null&&(Lt=="serial"?it[Lt]=parseInt(Mt[bt]):Lt=="x"||Lt=="y"||Lt==="z"?it[Lt]=parseFloat(Mt[bt]):Lt=="charge"||Lt=="radius"?st[Lt]=parseFloat(Mt[bt]):it[Lt]=Mt[bt]),it.properties=st,it.bonds=[],it.bondOrder=[]}$[$.length-1][Dt-nt]=it}_t=nt+ot-1}if(b.assignBonds)for(var pt=0;pt<$.length;pt++)(0,c.assignBonds)($[pt],b);return $}},"./src/parsers/MMTF.ts":(a,e,o)=>{o.r(e),o.d(e,{MMTFparser:()=>ot});var c=o("./src/utilities.ts"),h=o("./src/WebGL/index.ts"),g=o("./src/parsers/utils/computeSecondaryStructure.ts"),b=o("./src/parsers/utils/processSymmetries.ts"),$=o("./src/vendor/mmtf.js"),j=function(_t){return String.fromCharCode.apply(null,_t).replace(/\0/g,"")},rt=function(_t){return _t==0||_t==2||_t==4?"h":_t==3?"s":"c"};let nt=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function ot(_t,Et){var It=!Et.keepH,it=Et.altLoc?Et.altLoc:"A",st=!!Et.noSecondaryStructure,Mt=!Et.noComputeSecondaryStructure,bt=!Et.doAssembly,Lt=Et.assemblyIndex?Et.assemblyIndex:0;typeof _t=="string"?_t=(0,c.base64ToArray)(_t):_t=new Uint8Array(_t);var pt=$.decode(_t),Dt=[[]],wt=Dt.modelData=[],Bt=0,jt=0,hr=0,gr=pt.secStructList,Cr=pt.bFactorList,wr=pt.altLocList,yr=pt.occupancyList,xr=pt.bondAtomList,In=pt.bondOrderList,rn=pt.numModels;if(rn==0)return Dt;Et.multimodel||(rn=1);var Sr,Tr,Ln,Fn,Or,Nn,eo=[];if(!bt&&pt.bioAssemblyList&&pt.bioAssemblyList.length>0){var uo=pt.bioAssemblyList[Lt].transformList;for(Sr=0,Nn=uo.length;Sr<Nn;Sr++){var wo=new h.Matrix4(uo[Sr].matrix);wo.transpose(),eo.push(wo)}}var bo=null;if(pt.unitCell){var es=pt.unitCell;bo={a:es[0],b:es[1],c:es[2],alpha:es[3],beta:es[4],gamma:es[5]}}let rs=[];pt.entityList.forEach(fs=>{fs.chainIndexList.forEach(Yn=>{rs[Yn]=fs.type=="polymer"})});var vo=0;for(Or=0;Or<rn;Or++){var gs=pt.chainsPerModel[Or],cs=Dt[Dt.length-1],Gs=[];for(wt.push({symmetries:eo,cryst:bo}),Sr=0;Sr<gs;++Sr){var $n=pt.groupsPerChain[Bt],Kn=j(pt.chainIdList.subarray(Bt*4,Bt*4+4));pt.chainNameList&&(Kn=j(pt.chainNameList.subarray(Bt*4,Bt*4+4)));var Bn=jt,co="";for(Tr=0;Tr<$n;++Tr){var vs=pt.groupList[pt.groupTypeList[jt]],Ts=vs.atomNameList.length,Fs=0,Os=!1,Ns=!1;if(gr){Fs=gr[jt];var Ps=rt(Fs);(jt==0||Ps!=co)&&(Os=!0),co=Ps;var Ks=jt+1;(Ks>=gr.length||rt(gr[Ks]!=Ps))&&(Ns=!0)}var Bs=pt.groupIdList[jt],_l=vs.groupName;let fs=vs.chemCompType;var Cl=hr;let Yn=nt.has(fs)||!rs[Bt];for(Ln=0;Ln<Ts;++Ln){var Zn=vs.elementList[Ln];if(It&&Zn=="H"){hr+=1;continue}var Vn="";Cr&&(Vn=Cr[hr]);var qn="";wr&&wr[hr]&&(qn=String.fromCharCode(wr[hr]));var hs="";if(yr&&(hs=yr[hr]),qn!=""&&qn!=it&&it!="*"){hr+=1;continue}var us=pt.atomIdList[hr],xs=vs.atomNameList[Ln],Rs=0;vs.atomChargeList&&(Rs=vs.atomChargeList[Ln]);var zn=pt.xCoordList[hr],ds=pt.yCoordList[hr],_s=pt.zCoordList[hr];Gs[hr]=cs.length,cs.push({resn:_l,x:zn,y:ds,z:_s,elem:Zn,hetflag:Yn,chain:Kn,resi:Bs,icode:qn,rescode:Bs+(qn!=" "?"^"+qn:""),serial:us,altLoc:qn,index:hr,atom:xs,bonds:[],ss:rt(Fs),ssbegin:Os,ssend:Ns,bondOrder:[],properties:{charge:Rs,occupancy:hs},b:Vn}),hr+=1}var ks=vs.bondAtomList;for(Ln=0,Fn=vs.bondOrderList.length;Ln<Fn;++Ln){var as=Cl+ks[Ln*2],Ls=Cl+ks[Ln*2+1],Un=vs.bondOrderList[Ln],As=Gs[as],yl=Gs[Ls],Er=cs[As],ys=cs[yl];Er&&ys&&(Er.bonds.push(yl),Er.bondOrder.push(Un),ys.bonds.push(As),ys.bondOrder.push(Un))}jt+=1}for(jt=Bn,Tr=0;Tr<$n;++Tr)jt+=1;Bt+=1}if(xr)for(let fs=vo,Yn=xr.length;fs<Yn;fs+=2){let is=xr[fs],Es=xr[fs+1],zs=In?In[fs/2]:1;if(is>=hr){vo=fs;break}let Js=Gs[is],Hs=Gs[Es],Al=cs[Js],Zl=cs[Hs];Al&&Zl&&(Al.bonds.push(Hs),Al.bondOrder.push(zs),Zl.bonds.push(Js),Zl.bondOrder.push(zs))}Et.multimodel&&(Et.onemol||Dt.push([]))}if(!bt)for(let fs=0;fs<Dt.length;fs++)(0,b.processSymmetries)(wt[fs].symmetries,Dt[fs],Et,wt[fs].cryst);return Mt&&!st&&(0,g.computeSecondaryStructure)(Dt,Et.hbondCutoff),Dt}},"./src/parsers/MOL2.ts":(a,e,o)=>{o.r(e),o.d(e,{MOL2:()=>h});let c={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function h(g,b){var $=[[]],j=!1;typeof b.keepH<"u"&&(j=!b.keepH);var rt=g.search(/@<TRIPOS>MOLECULE/),nt=g.search(/@<TRIPOS>ATOM/);if(rt==-1||nt==-1)return $;for(var ot=g.substring(rt).split(/\r?\n|\r/);ot.length>0;){var _t=[],Et=ot[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),It=parseInt(Et[0]),it=0;Et.length>1&&(it=parseInt(Et[1]));var st=4,Mt;for(Mt=3;Mt<ot.length;Mt++)if(ot[Mt]=="@<TRIPOS>ATOM"){st=Mt+1;break}var bt=$[$.length-1].length,Lt=bt+It,pt;for(Mt=bt;Mt<Lt;Mt++){pt=ot[st++],Et=pt.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Dt={},wt=Et[5];if(c[wt]!==void 0?wt=c[wt]:(wt=wt.split(".")[0],wt=wt[0].toUpperCase()+wt.substring(1).toLowerCase()),Dt.atom=Et[1],Dt.elem=wt,!(Dt.elem=="H"&&j)){var Bt=$[$.length-1].length,jt=parseInt(Et[0]);Dt.serial=jt,Dt.x=parseFloat(Et[2]),Dt.y=parseFloat(Et[3]),Dt.z=parseFloat(Et[4]),Dt.atom=Et[5];var hr=parseFloat(Et[8]);Dt.index=Bt,Dt.bonds=[],Dt.bondOrder=[],Dt.properties={charge:hr,partialCharge:hr},_t[jt]=Bt,$[$.length-1].push(Dt)}}for(var gr=!1;st<ot.length;)if(ot[st++]=="@<TRIPOS>BOND"){gr=!0;break}if(gr&&it)for(Mt=0;Mt<it;Mt++){pt=ot[st++],Et=pt.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Cr=parseInt(Et[1]),wr=$[$.length-1][_t[Cr]],yr=parseInt(Et[2]),xr=$[$.length-1][_t[yr]],In=parseInt(Et[3]);isNaN(In)&&(In=1),wr!==void 0&&xr!==void 0&&(wr.bonds.push(_t[yr]),wr.bondOrder.push(In),xr.bonds.push(_t[Cr]),xr.bondOrder.push(In))}if(b.multimodel){b.onemol||$.push([]),ot.splice(0,st),g=ot.join(`
`);continue}else break}return $}},"./src/parsers/PDB.ts":(a,e,o)=>{o.r(e),o.d(e,{PDB:()=>h});var c=o("./src/parsers/utils/getSinglePDB.ts");function h(g,b){b=b||{};var $=[],j={};$.modelData=[];for(var rt=g.split(/\r?\n|\r/);rt.length>0;){var nt=(0,c.getSinglePDB)(rt,b,j),ot=nt[0],_t=nt[1];if(rt=nt[2],ot.length!=0){if(b.multimodel&&b.onemol&&$.length>0)for(var Et=$[0].length,It=0;It<ot.length;It++){var it=ot[It];it.index=It;for(var st=0;st<it.bonds.length;st++)it.bonds[st]+=Et;$[0].push(it)}else $.modelData.push(_t),$.push(ot);if(!b.multimodel)break}}return $}},"./src/parsers/PQR.ts":(a,e,o)=>{o.r(e),o.d(e,{PQR:()=>g});var c=o("./src/parsers/utils/assignPDBBonds.ts"),h=o("./src/parsers/utils/computeSecondaryStructure.ts");function g(b,$){var j=[[]],rt=!$.noSecondaryStructure;j.modelData=[{symmetries:[]}];var nt=[],ot=b.split(/\r?\n|\r/),_t;for(let gr=0;gr<ot.length;gr++){_t=ot[gr].replace(/^\s*/,"");var Et=_t.substring(0,6);if(Et.indexOf("END")==0)if($.multimodel){$.onemol||j.push([]);continue}else break;else if(Et=="ATOM  "||Et=="HETATM"){var It;let Cr=parseInt(_t.substring(6,11)),wr=_t.substring(12,16).replace(/ /g,""),yr=_t.substring(17,20).trim(),xr=_t.substring(21,22),In=parseInt(_t.substring(22,26));var it=_t.substring(30).trim().split(/\s+/),st=parseFloat(it[0]),Mt=parseFloat(it[1]),bt=parseFloat(it[2]),Lt=parseFloat(it[3]),pt=parseFloat(it[4]),Dt=wr[0];wr.length>1&&wr[1].toUpperCase()!=wr[1]&&(Dt=wr.substring(0,2)),_t[0]=="H"?It=!0:It=!1,nt[Cr]=j[j.length-1].length,j[j.length-1].push({resn:yr,x:st,y:Mt,z:bt,elem:Dt,hetflag:It,chain:xr,resi:In,serial:Cr,atom:wr,bonds:[],ss:"c",bondOrder:[],properties:{charge:Lt,partialCharge:Lt,radius:pt},pdbline:_t})}else if(Et=="CONECT"){var wt=parseInt(_t.substring(6,11)),Bt=j[j.length-1][nt[wt]];for(let Cr=0;Cr<4;Cr++){var jt=parseInt(_t.substring([11,16,21,26][Cr],[11,16,21,26][Cr]+5)),hr=j[j.length-1][nt[jt]];Bt!==void 0&&hr!==void 0&&(Bt.bonds.push(nt[jt]),Bt.bondOrder.push(1))}}}for(let gr=0;gr<j.length;gr++)(0,c.assignPDBBonds)(j[gr],$),rt&&(0,h.computeSecondaryStructure)(j[gr],$.hbondCutoff);return j}},"./src/parsers/PRMTOP.ts":(a,e,o)=>{o.r(e),o.d(e,{PRMTOP:()=>c});function c(h){var g=[],b,$=0,j=h.split(/\r?\n|\r/);if(j.length>0&&j[0].includes("VERSION")){var rt=j.filter(function(st){return st.includes("POINTERS")||st.includes("ATOM_NAME")||st.includes("CHARGE")||st.includes("RADII")||st.includes("BONDS_INC_HYDROGEN")||st.includes("BONDS_WITHOUT_HYDROGEN")}),nt=It("POINTERS");if(nt==-1)return[];var ot=it(nt),_t=parseInt(j[nt+1].slice(0,ot[1]));if(isNaN(_t)||_t<=0)return[];if(nt=It("ATOM_NAME"),nt==-1)return[];ot=it(nt);var Et=ot[0];for(let st=0;st<_t/ot[0];st++){st==parseInt(_t/ot[0])&&(Et=_t%ot[0]);for(let Mt=0;Mt<Et;Mt++){let bt={},Lt={charge:"",radii:""};bt.serial=$,bt.x=0,bt.y=0,bt.z=0,bt.atom=j[nt+1].slice(ot[1]*Mt,ot[1]*(Mt+1)),bt.elem=j[nt+1].slice(ot[1]*Mt,ot[1]*Mt+1),bt.properties=Lt,bt.bonds=[],bt.bondOrder=[],g.push(bt),$++}nt++}if(nt=It("CHARGE"),nt!=-1){ot=it(nt),$=0,Et=ot[0];for(let st=0;st<_t/ot[0];st++){st==parseInt(_t/ot[0])&&(Et=_t%ot[0]);for(let Mt=0;Mt<Et;Mt++)g[$].properties.charge=parseFloat(j[nt+1].slice(ot[1]*Mt,ot[1]*(Mt+1))),$++;nt++}}if(nt=It("RADII"),nt!=-1){ot=it(nt),$=0,Et=ot[0];for(let st=0;st<_t/ot[0];st++){st==parseInt(_t/ot[0])&&(Et=_t%ot[0]);for(let Mt=0;Mt<Et;Mt++)g[$].properties.radii=parseFloat(j[nt+1].slice(ot[1]*Mt,ot[1]*(Mt+1))),$++;nt++}}if(nt=It("BONDS_WITHOUT_HYDROGEN"),nt!=-1)for(ot=it(nt),$=0,Et=ot[0],nt=nt+1;!j[nt].match(/^%FLAG/);){j[nt+1].match(/^%FLAG/)&&(Et=_t%ot[0]);for(let st=0;st<Et;st++)$%3==0?b=parseInt(j[nt].slice(ot[1]*st,ot[1]*(st+1))/3):$%3==1&&g[b].bonds.push(parseInt(j[nt].slice(ot[1]*st,ot[1]*(st+1))/3)),$++;nt++}if(nt=It("BONDS_INC_HYDROGEN"),nt!=-1)for(ot=it(nt),$=0,Et=ot[0],nt=nt+1;!j[nt].match(/^%FLAG/);){j[nt+1].match(/^%FLAG/)&&(Et=_t%ot[0]);for(let st=0;st<Et;st++)$%3==0?b=parseInt(j[nt].slice(ot[1]*st,ot[1]*(st+1))/3):$%3==1&&g[b].bonds.push(parseInt(j[nt].slice(ot[1]*st,ot[1]*(st+1))/3)),$++;nt++}}else return[];function It(st){var Mt=j.indexOf(rt.filter(function(bt){return bt.includes(st)})[0]);if(Number.isInteger(Mt)&&Mt>0){for(;!j[Mt].includes("FORMAT");)Mt++;return Mt}else return-1}function it(st){var Mt=j[st].match(/\((\d*)\S*/),bt=j[st].match(/[a-zA-Z](\d*)\)\s*/);return bt==null&&(bt=j[st].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[Mt[1],bt[1]]}return[g]}},"./src/parsers/SDF.ts":(a,e,o)=>{o.r(e),o.d(e,{SDF:()=>g});var c=function(b,$){var j=[[]],rt=!1;for(typeof $.keepH<"u"&&(rt=!$.keepH);b.length>0&&!(b.length<4);){var nt=parseInt(b[3].substring(0,3));if(isNaN(nt)||nt<=0)break;var ot=parseInt(b[3].substring(3,6)),_t=4;if(b.length<4+nt+ot)break;var Et=[],It=j[j.length-1].length,it=It+nt,st,Mt;for(st=It;st<it;st++,_t++){Mt=b[_t];var bt={},Lt=Mt.substring(31,34).replace(/ /g,"");bt.atom=bt.elem=Lt[0].toUpperCase()+Lt.substring(1).toLowerCase(),(bt.elem!=="H"||!rt)&&(bt.serial=st,Et[st]=j[j.length-1].length,bt.x=parseFloat(Mt.substring(0,10)),bt.y=parseFloat(Mt.substring(10,20)),bt.z=parseFloat(Mt.substring(20,30)),bt.hetflag=!0,bt.bonds=[],bt.bondOrder=[],bt.properties={},bt.index=j[j.length-1].length,j[j.length-1].push(bt))}for(st=0;st<ot;st++,_t++){Mt=b[_t];var pt=Et[parseInt(Mt.substring(0,3))-1+It],Dt=Et[parseInt(Mt.substring(3,6))-1+It],wt=parseFloat(Mt.substring(6));typeof pt<"u"&&typeof Dt<"u"&&(j[j.length-1][pt].bonds.push(Dt),j[j.length-1][pt].bondOrder.push(wt),j[j.length-1][Dt].bonds.push(pt),j[j.length-1][Dt].bondOrder.push(wt))}if($.multimodel){for($.onemol||j.push([]);b[_t]!=="$$$$"&&_t<b.length;)_t++;b.splice(0,++_t)}else break}return j},h=function(b,$){var j=[[]],rt=!1;for(typeof $.keepH<"u"&&(rt=!$.keepH);b.length>0&&!(b.length<8||!b[4].startsWith("M  V30 BEGIN CTAB")||!b[5].startsWith("M  V30 COUNTS")||b[5].length<14);){var nt=b[5].substring(13).match(/\S+/g);if(nt.length<2)break;var ot=parseInt(nt[0]);if(isNaN(ot)||ot<=0)break;var _t=parseInt(nt[1]),Et=7;if(b.length<8+ot+_t)break;var It=[],it=j[j.length-1].length,st=it+ot,Mt,bt;for(Mt=it;Mt<st;Mt++,Et++){bt=b[Et];var Lt=bt.substring(6).match(/\S+/g);if(Lt.length>4){var pt={},Dt=Lt[1].replace(/ /g,"");pt.atom=pt.elem=Dt[0].toUpperCase()+Dt.substring(1).toLowerCase(),(pt.elem!=="H"||!rt)&&(pt.serial=Mt,It[Mt]=j[j.length-1].length,pt.x=parseFloat(Lt[2]),pt.y=parseFloat(Lt[3]),pt.z=parseFloat(Lt[4]),pt.hetflag=!0,pt.bonds=[],pt.bondOrder=[],pt.properties={},pt.index=j[j.length-1].length,j[j.length-1].push(pt))}}if(b[Et]==="M  V30 END ATOM")Et++;else break;if(_t!==0&&b[Et]==="M  V30 BEGIN BOND")Et++;else break;for(Mt=0;Mt<_t;Mt++,Et++){bt=b[Et];var wt=bt.substring(6).match(/\S+/g);if(wt.length>3){var Bt=It[parseInt(wt[2])-1+it],jt=It[parseInt(wt[3])-1+it],hr=parseFloat(wt[1]);typeof Bt<"u"&&typeof jt<"u"&&(j[j.length-1][Bt].bonds.push(jt),j[j.length-1][Bt].bondOrder.push(hr),j[j.length-1][jt].bonds.push(Bt),j[j.length-1][jt].bondOrder.push(hr))}}if($.multimodel){for($.onemol||j.push([]);b[Et]!=="$$$$"&&Et<b.length;)Et++;b.splice(0,++Et)}else break}return j};function g(b,$){var j="V2000",rt=b.split(/\r?\n|\r/);return rt.length>3&&rt[3].length>38&&(j=rt[3].substring(34,39)),j==="V2000"?c(rt,$):j==="V3000"?h(rt,$):[[""]]}},"./src/parsers/VASP.ts":(a,e,o)=>{o.r(e),o.d(e,{VASP:()=>h});var c=o("./src/WebGL/index.ts");function h(g){var b=[[]],$={},j=g.replace(/^\s+/,"").split(/\r?\n/);if(j.length<3)return b;if(j[1].match(/\d+/))$.length=parseFloat(j[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),b;if($.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),b;$.xVec=new Float32Array(j[2].replace(/^\s+/,"").split(/\s+/)),$.yVec=new Float32Array(j[3].replace(/^\s+/,"").split(/\s+/)),$.zVec=new Float32Array(j[4].replace(/^\s+/,"").split(/\s+/));var rt=new c.Matrix3($.xVec[0],$.xVec[1],$.xVec[2],$.yVec[0],$.yVec[1],$.yVec[2],$.zVec[0],$.zVec[1],$.zVec[2]);rt.multiplyScalar($.length),b.modelData=[{symmetries:[],cryst:{matrix:rt}}];var nt=j[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/),ot=new Int16Array(j[6].replace(/^\s+/,"").split(/\s+/)),_t=j[7].replace(/\s+/,"");if(_t.match(/C/))_t="cartesian";else if(_t.match(/D/))_t="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),b;if(nt.length!=ot.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(nt),console.log(ot),b;j.splice(0,8);for(var Et=0,It=0,it=nt.length;It<it;It++){for(var st=nt[It],Mt=0,bt=ot[It];Mt<bt;Mt++){var Lt=new Float32Array(j[Et+Mt].replace(/^\s+/,"").split(/\s+/)),pt={};pt.elem=st,_t=="cartesian"?(pt.x=$.length*Lt[0],pt.y=$.length*Lt[1],pt.z=$.length*Lt[2]):(pt.x=$.length*(Lt[0]*$.xVec[0]+Lt[1]*$.yVec[0]+Lt[2]*$.zVec[0]),pt.y=$.length*(Lt[0]*$.xVec[1]+Lt[1]*$.yVec[1]+Lt[2]*$.zVec[1]),pt.z=$.length*(Lt[0]*$.xVec[2]+Lt[1]*$.yVec[2]+Lt[2]*$.zVec[2])),pt.bonds=[],b[0].push(pt)}Et+=ot[It]}return b}},"./src/parsers/XYZ.ts":(a,e,o)=>{o.r(e),o.d(e,{XYZ:()=>g});var c=o("./src/WebGL/index.ts"),h=o("./src/parsers/utils/assignBonds.ts");function g(b,$){$=$||{};for(var j=[[]],rt=$.assignBonds===void 0?!0:$.assignBonds,nt=b.split(/\r?\n|\r/);nt.length>0&&!(nt.length<3);){var ot=parseInt(nt[0]);if(isNaN(ot)||ot<=0||nt.length<ot+2)break;var _t=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,Et=_t.exec(nt[1]);if(Et!=null&&Et.length>1){var It=new Float32Array(Et[1].split(/\s+/)),it=new c.Matrix3(It[0],It[3],It[6],It[1],It[4],It[7],It[2],It[5],It[8]);j.modelData=[{cryst:{matrix:it}}]}for(var st=2,Mt=j[j.length-1].length,bt=Mt+ot,Lt=Mt;Lt<bt;Lt++){var pt=nt[st++],Dt=pt.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),wt={};wt.serial=Lt;var Bt=Dt[0];wt.atom=wt.elem=Bt[0].toUpperCase()+Bt.substring(1,2).toLowerCase(),wt.x=parseFloat(Dt[1]),wt.y=parseFloat(Dt[2]),wt.z=parseFloat(Dt[3]),wt.hetflag=!0,wt.bonds=[],wt.bondOrder=[],wt.properties={},j[j.length-1][Lt]=wt,Dt.length>=7&&(wt.dx=parseFloat(Dt[4]),wt.dy=parseFloat(Dt[5]),wt.dz=parseFloat(Dt[6]))}if($.multimodel)j.push([]),nt.splice(0,st);else break}if(rt)for(let hr=0;hr<j.length;hr++)(0,h.assignBonds)(j[hr],$);if($.onemol){var jt=j;j=[],j.push(jt[0]);for(let hr=1;hr<jt.length;hr++){let gr=j[0].length;for(let Cr=0;Cr<jt[hr].length;Cr++){let wr=jt[hr][Cr];for(let yr=0;yr<wr.bonds.length;yr++)wr.bonds[yr]=wr.bonds[yr]+gr;wr.index=j[0].length,wr.serial=j[0].length,j[0].push(wr)}}}return j}},"./src/parsers/index.ts":(a,e,o)=>{o.r(e),o.d(e,{Parsers:()=>Mt,bondLength:()=>st.bondLength,setBondLength:()=>st.setBondLength});var c=o("./src/parsers/VASP.ts"),h=o("./src/parsers/CUBE.ts"),g=o("./src/parsers/XYZ.ts"),b=o("./src/parsers/SDF.ts"),$=o("./src/parsers/CDJSON.ts"),j=o("./src/parsers/CIF.ts"),rt=o("./src/parsers/MOL2.ts"),nt=o("./src/parsers/PDB.ts"),ot=o("./src/parsers/PQR.ts"),_t=o("./src/parsers/MMTF.ts"),Et=o("./src/parsers/PRMTOP.ts"),It=o("./src/parsers/GRO.ts"),it=o("./src/parsers/LAMMPSTRJ.ts"),st=o("./src/parsers/utils/bondLength.ts");const Mt={vasp:c.VASP,VASP:c.VASP,cube:h.CUBE,CUBE:h.CUBE,xyz:g.XYZ,XYZ:g.XYZ,sdf:b.SDF,SDF:b.SDF,json:$.CDJSON,cdjson:$.CDJSON,CDJSON:$.CDJSON,mcif:j.CIF,cif:j.CIF,CIF:j.CIF,mol2:rt.MOL2,MOL2:rt.MOL2,pdb:nt.PDB,PDB:nt.PDB,pdbqt:nt.PDB,PDBQT:nt.PDB,pqr:ot.PQR,PQR:ot.PQR,mmtf:_t.MMTFparser,MMTF:_t.MMTFparser,prmtop:Et.PRMTOP,PRMTOP:Et.PRMTOP,gro:It.GRO,GRO:It.GRO,lammpstrj:it.LAMMPSTRJ,LAMMPSTRJ:it.LAMMPSTRJ}},"./src/parsers/utils/anumToSymbol.ts":(a,e,o)=>{o.r(e),o.d(e,{anumToSymbol:()=>c});const c={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(a,e,o)=>{o.r(e),o.d(e,{areConnected:()=>g});var c=o("./src/parsers/utils/bondLength.ts");const h=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function g(b,$,j){if(j&&j.unboundCations&&(h.has(b.elem)||h.has($.elem)))return!1;let rt=(0,c.bondLength)(b.elem)+(0,c.bondLength)($.elem);rt+=.25,rt*=rt;let nt=b.x-$.x;if(nt*=nt,nt>rt)return!1;let ot=b.y-$.y;if(ot*=ot,ot>rt)return!1;let _t=b.z-$.z;if(_t*=_t,_t>rt)return!1;const Et=nt+ot+_t;return!(isNaN(Et)||Et<.5||Et>rt||b.altLoc!==$.altLoc&&b.altLoc!==" "&&$.altLoc!==" ")}},"./src/parsers/utils/assignBackboneHBonds.ts":(a,e,o)=>{o.r(e),o.d(e,{assignBackboneHBonds:()=>c});function c(h,g){const b=g||3.2,$=b*b,j=[];for(let rt=0,nt=h.length;rt<nt;rt++){h[rt].index=rt;const ot=h[rt];!ot.hetflag&&(ot.atom==="N"||ot.atom==="O")&&(j.push(ot),ot.hbondOther=null,ot.hbondDistanceSq=Number.POSITIVE_INFINITY)}j.sort(function(rt,nt){return rt.z-nt.z});for(let rt=0,nt=j.length;rt<nt;rt++){const ot=j[rt];for(let _t=rt+1;_t<nt;_t++){const Et=j[_t],It=Et.z-ot.z;if(It>b)break;if(Et.atom==ot.atom)continue;const it=Math.abs(Et.y-ot.y);if(it>b)continue;const st=Math.abs(Et.x-ot.x);if(st>b)continue;const Mt=st*st+it*it+It*It;Mt>$||Et.chain==ot.chain&&Math.abs(Et.resi-ot.resi)<4||(Mt<ot.hbondDistanceSq&&(ot.hbondOther=Et,ot.hbondDistanceSq=Mt),Mt<Et.hbondDistanceSq&&(Et.hbondOther=ot,Et.hbondDistanceSq=Mt))}}}},"./src/parsers/utils/assignBonds.ts":(a,e,o)=>{o.r(e),o.d(e,{assignBonds:()=>b});var c=o("./src/parsers/utils/areConnected.ts");const h=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],g=4.95;function b($,j){for(let ot=0,_t=$.length;ot<_t;ot++)$[ot].index||($[ot].index=ot);const rt={x:{y:{z:[]}}};for(let ot=0;ot<$.length;ot++){const _t=$[ot],Et=Math.floor(_t.x/g),It=Math.floor(_t.y/g),it=Math.floor(_t.z/g);rt[Et]||(rt[Et]={}),rt[Et][It]||(rt[Et][It]={}),rt[Et][It][it]||(rt[Et][It][it]=[]),rt[Et][It][it].push(_t)}function nt(ot,_t){for(let Et=0;Et<ot.length;Et++){const It=ot[Et];for(let it=0;it<_t.length;it++){const st=_t[it];if((0,c.areConnected)(It,st,j)){const Mt=It.bonds.indexOf(st.index),bt=st.bonds.indexOf(It.index);Mt===-1&&bt===-1?(It.bonds.push(st.index),It.bondOrder.push(1),st.bonds.push(It.index),st.bondOrder.push(1)):Mt===-1?(It.bonds.push(st.index),It.bondOrder.push(st.bondOrder[bt])):bt===-1&&(st.bonds.push(It.index),st.bondOrder.push(It.bondOrder[Mt]))}}}}for(let ot in rt){const _t=parseInt(ot);for(let Et in rt[_t]){const It=parseInt(Et);for(let it in rt[_t][It]){const st=parseInt(it),Mt=rt[_t][It][st];for(let bt=0;bt<Mt.length;bt++){const Lt=Mt[bt];for(let pt=bt+1;pt<Mt.length;pt++){const Dt=Mt[pt];(0,c.areConnected)(Lt,Dt,j)&&Lt.bonds.indexOf(Dt.index)==-1&&(Lt.bonds.push(Dt.index),Lt.bondOrder.push(1),Dt.bonds.push(Lt.index),Dt.bondOrder.push(1))}}for(let bt=0;bt<h.length;bt++){const Lt=h[bt];if(!rt[_t+Lt.x]||!rt[_t+Lt.x][It+Lt.y]||!rt[_t+Lt.x][It+Lt.y][st+Lt.z])continue;const pt=rt[_t+Lt.x][It+Lt.y][st+Lt.z];nt(Mt,pt)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(a,e,o)=>{o.r(e),o.d(e,{assignPDBBonds:()=>b});var c=o("./src/parsers/utils/areConnected.ts"),h=o("./src/parsers/utils/assignBonds.ts"),g=o("./src/parsers/utils/standardResidues.ts");function b($,j){const rt=[],nt=[];for(let It=0,it=$.length;It<it;It++){const st=$[It];st.index=It,st.hetflag||!g.standardResidues.has(st.resn)?nt.push(st):rt.push(st)}(0,h.assignBonds)(nt,j),rt.sort(function(It,it){return It.chain!==it.chain?It.chain<it.chain?-1:1:It.resi-it.resi});let ot=-1,_t=-1,Et;for(let It=0,it=rt.length;It<it;It++){const st=rt[It];st.resi!==ot&&(ot=st.resi,Et||_t++,Et=!1),st.reschain=_t;for(let Mt=It+1;Mt<rt.length;Mt++){const bt=rt[Mt];if(bt.chain!==st.chain||bt.resi-st.resi>1)break;(0,c.areConnected)(st,bt,j)&&(st.bonds.indexOf(bt.index)===-1&&(st.bonds.push(bt.index),st.bondOrder.push(1),bt.bonds.push(st.index),bt.bondOrder.push(1)),st.resi!==bt.resi&&(Et=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(a,e,o)=>{o.r(e),o.d(e,{atomNameToElem:()=>h});var c=o("./src/parsers/utils/bondLength.ts");function h(g,b){let $=g.replace(/ /g,"");return $.length>0&&$[0]==="H"&&$!=="Hg"&&$!=="He"&&$!=="Hf"&&$!=="Hs"&&$!=="Ho"&&($="H"),$.length>1&&($=$[0].toUpperCase()+$.substring(1).toLowerCase(),c.bondTable[$]===void 0?$=$[0]:b&&($==="Ca"||$==="Cd")&&($="C")),$}},"./src/parsers/utils/bondLength.ts":(a,e,o)=>{o.r(e),o.d(e,{bondLength:()=>h,bondTable:()=>c,setBondLength:()=>g});let c={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function h(b){return c[b]||1.6}function g(b,$){$<0&&($=0),c[b]=$}},"./src/parsers/utils/computeSecondaryStructure.ts":(a,e,o)=>{o.r(e),o.d(e,{computeSecondaryStructure:()=>h});var c=o("./src/parsers/utils/assignBackboneHBonds.ts");function h(g,b){(0,c.assignBackboneHBonds)(g,b);const $={};let j,rt,nt,ot,_t,Et;for(j=0,rt=g.length;j<rt;j++)if(_t=g[j],$[_t.chain]===void 0&&($[_t.chain]=[]),isFinite(_t.hbondDistanceSq)){const It=_t.hbondOther;$[It.chain]===void 0&&($[It.chain]=[]),Math.abs(It.resi-_t.resi)===4&&($[_t.chain][_t.resi]="h")}for(nt in $)for(ot=1;ot<$[nt].length-1;ot++){const It=$[nt][ot-1],it=$[nt][ot+1];Et=$[nt][ot],It=="h"&&It==it&&Et!=It&&($[nt][ot]=It)}for(j=0,rt=g.length;j<rt;j++)_t=g[j],isFinite(_t.hbondDistanceSq)&&$[_t.chain][_t.resi]!="h"&&_t.ss!=="h"&&($[_t.chain][_t.resi]="maybesheet");for(let It=0,it=g.length;It<it;It++)if(_t=g[It],isFinite(_t.hbondDistanceSq)&&$[_t.chain][_t.resi]=="maybesheet"){let st=_t.hbondOther,Mt=$[st.chain][st.resi];(Mt=="maybesheet"||Mt=="s")&&($[_t.chain][_t.resi]="s",$[st.chain][st.resi]="s")}for(let It in $){for(let it=1;it<$[It].length-1;it++){const st=$[It][it-1],Mt=$[It][it+1];Et=$[It][it],st=="s"&&st==Mt&&Et!=st&&($[It][it]=st)}for(let it=0;it<$[It].length;it++){const st=$[It][it];(st=="h"||st=="s")&&$[It][it-1]!=st&&$[It][it+1]!=st&&delete $[It][it]}}for(j=0,rt=g.length;j<rt;j++)_t=g[j],Et=$[_t.chain][_t.resi],delete _t.hbondOther,delete _t.hbondDistanceSq,!(Et===void 0||Et==="maybesheet")&&(_t.ss=Et,$[_t.chain][_t.resi-1]!=Et&&(_t.ssbegin=!0),$[_t.chain][_t.resi+1]!=Et&&(_t.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(a,e,o)=>{o.r(e),o.d(e,{getSinglePDB:()=>ot});var c=o("./src/WebGL/index.ts"),h=o("./src/parsers/utils/atomNameToElem.ts"),g=o("./src/parsers/utils/bondLength.ts"),b=o("./src/parsers/utils/computeSecondaryStructure.ts"),$=o("./src/parsers/utils/isEmpty.ts"),j=o("./src/parsers/utils/processSymmetries.ts"),rt=o("./src/parsers/utils/assignPDBBonds.ts"),nt=o("./src/parsers/utils/validateBonds.ts");function ot(_t,Et,It){const it=[],st=Et.assignBonds===void 0?!0:Et.assignBonds,Mt=!Et.keepH,bt=!!Et.noSecondaryStructure,Lt=!Et.noComputeSecondaryStructure,pt=!Et.doAssembly,Dt=Et.altLoc?Et.altLoc:"A",wt={symmetries:[],cryst:void 0};let Bt,jt=[];const hr=[];let gr;const Cr={};for(let wr=0;wr<_t.length;wr++){gr=_t[wr].replace(/^\s*/,"");const yr=gr.substring(0,6);let xr,In,rn;if(yr.indexOf("END")===0){if(jt=_t.slice(wr+1),yr==="END")for(const Sr in It)It.hasOwnProperty(Sr)&&delete It[Sr];break}else if(yr==="ATOM  "||yr==="HETATM"){let Sr,Tr,Ln,Fn,Or,Nn,eo,uo,wo,bo,es,rs;if(es=gr.substring(16,17),es!==" "&&es!==Dt&&Dt!=="*"||(bo=parseInt(gr.substring(6,11)),Bt=gr.substring(12,16).replace(/ /g,""),Sr=gr.substring(17,20).replace(/ /g,""),Tr=gr.substring(21,22),Ln=parseInt(gr.substring(22,26)),Fn=gr.substring(26,27),Or=parseFloat(gr.substring(30,38)),Nn=parseFloat(gr.substring(38,46)),eo=parseFloat(gr.substring(46,54)),rs=parseFloat(gr.substring(60,68)),wo=gr.substring(76,78).replace(/ /g,""),wo===""||g.bondTable[wo]===void 0?wo=(0,h.atomNameToElem)(gr.substring(12,14),gr[0]=="A"):wo=wo[0].toUpperCase()+wo.substring(1).toLowerCase(),wo==="H"&&Mt))continue;yr[0]=="H"?uo=!0:uo=!1,hr[bo]=it.length,it.push({resn:Sr,x:Or,y:Nn,z:eo,elem:wo,hetflag:uo,altLoc:es,chain:Tr,resi:Ln,icode:Fn,rescode:Ln+(Fn!==" "?"^"+Fn:""),serial:bo,atom:Bt,bonds:[],ss:"c",bondOrder:[],properties:{},b:rs,pdbline:gr})}else if(yr==="SHEET "){xr=gr.substring(21,22),In=parseInt(gr.substring(22,26)),rn=parseInt(gr.substring(33,37)),xr in It||(It[xr]={}),It[xr][In]="s1";for(let Sr=In+1;Sr<rn;Sr++)It[xr][Sr]="s";It[xr][rn]="s2"}else if(yr==="CONECT"){const Sr=parseInt(gr.substring(6,11)),Tr=hr[Sr],Ln=it[Tr],Fn=[11,16,21,26];for(let Or=0;Or<4;Or++){const Nn=parseInt(gr.substring(Fn[Or],Fn[Or]+5)),eo=hr[Nn];let uo=Tr+":"+eo;const wo=it[eo];if(Ln!==void 0&&wo!==void 0)if(!Cr[uo])Cr[uo]=1,(Ln.bonds.length==0||Ln.bonds[Ln.bonds.length-1]!==eo)&&(Ln.bonds.push(eo),Ln.bondOrder.push(1));else{Cr[uo]+=1;for(let bo=0;bo<Ln.bonds.length;bo++)if(Ln.bonds[bo]==eo){const es=Cr[uo];es>=4?Ln.bondOrder[bo]=1:Ln.bondOrder[bo]=es}}}}else if(yr==="HELIX "){xr=gr.substring(19,20),In=parseInt(gr.substring(21,25)),rn=parseInt(gr.substring(33,37)),xr in It||(It[xr]={}),It[xr][In]="h1";for(let Sr=In+1;Sr<rn;Sr++)It[xr][Sr]="h";It[xr][rn]="h2"}else if(!pt&&yr==="REMARK"&&gr.substring(13,18)==="BIOMT"){let Sr,Tr=new c.Matrix4;for(Sr=1;Sr<=3;Sr++)if(gr=_t[wr].replace(/^\s*/,""),parseInt(gr.substring(18,19))==Sr)Tr.elements[Sr-1]=parseFloat(gr.substring(23,33)),Tr.elements[Sr-1+4]=parseFloat(gr.substring(33,43)),Tr.elements[Sr-1+8]=parseFloat(gr.substring(43,53)),Tr.elements[Sr-1+12]=parseFloat(gr.substring(53)),wr++;else for(;gr.substring(13,18)==="BIOMT";)wr++,gr=_t[wr].replace(/^\s*/,"");Tr.elements[3]=0,Tr.elements[7]=0,Tr.elements[11]=0,Tr.elements[15]=1,wt.symmetries.push(Tr),wr--}else if(yr==="CRYST1"){let Sr,Tr,Ln,Fn,Or,Nn;Sr=parseFloat(gr.substring(7,15)),Tr=parseFloat(gr.substring(16,24)),Ln=parseFloat(gr.substring(25,33)),Fn=parseFloat(gr.substring(34,40)),Or=parseFloat(gr.substring(41,47)),Nn=parseFloat(gr.substring(48,54)),wt.cryst={a:Sr,b:Tr,c:Ln,alpha:Fn,beta:Or,gamma:Nn}}else if(yr==="ANISOU"){const Sr=parseInt(gr.substring(6,11)),Tr=hr[Sr],Ln=it[Tr];if(Ln){const Fn=gr.substring(30).trim().split(/\s+/),Or={u11:parseInt(Fn[0]),u22:parseInt(Fn[1]),u33:parseInt(Fn[2]),u12:parseInt(Fn[3]),u13:parseInt(Fn[4]),u23:parseInt(Fn[5])};Ln.uMat=Or}}}if((0,nt.validateBonds)(it,hr),st&&(0,rt.assignPDBBonds)(it,Et),pt||(0,j.processSymmetries)(wt.symmetries,it,Et,wt.cryst),Lt&&!bt&&(0,b.computeSecondaryStructure)(it,Et.hbondCutoff),!(0,$.isEmpty)(It))for(let wr=0;wr<it.length;wr++){const yr=it[wr];if(yr!==void 0&&yr.chain in It&&yr.resi in It[yr.chain]){const xr=It[yr.chain][yr.resi];yr.ss=xr[0],xr.length>1&&(xr[1]=="1"?yr.ssbegin=!0:xr[1]=="2"&&(yr.ssend=!0))}}return[it,wt,jt]}},"./src/parsers/utils/isEmpty.ts":(a,e,o)=>{o.r(e),o.d(e,{isEmpty:()=>c});function c(h){for(const g in h)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(a,e,o)=>{o.r(e),o.d(e,{processSymmetries:()=>h});var c=o("./src/WebGL/index.ts");function h(g,b,$,j){const rt=!$.duplicateAssemblyAtoms,nt=b.length;let ot=nt,_t=-1,Et=null,It=null;($.normalizeAssembly||$.wrapAtoms)&&j&&(Et=(0,c.conversionMatrix3)(j.a,j.b,j.c,j.alpha,j.beta,j.gamma),It=new c.Matrix3,It.getInverse3(Et));let it=function(bt){let Lt=bt.clone().applyMatrix3(It);const pt=[Lt.x,Lt.y,Lt.z],Dt=[0,0,0];for(let Bt=0;Bt<3;Bt++){for(;pt[Bt]<-.001;)pt[Bt]+=1,Dt[Bt]+=1;for(;pt[Bt]>1.001;)pt[Bt]-=1,Dt[Bt]-=1}const wt=new c.Vector3(Dt[0],Dt[1],Dt[2]);return wt.applyMatrix3(Et),wt};if($.normalizeAssembly&&j)for(let bt=0;bt<g.length;bt++){const Lt=new c.Vector3(0,0,0);for(let Dt=0;Dt<nt;Dt++){const wt=new c.Vector3(b[Dt].x,b[Dt].y,b[Dt].z);wt.applyMatrix4(g[bt]),Lt.add(wt)}Lt.divideScalar(nt);const pt=it(Lt);g[bt].isNearlyIdentity()&&pt.lengthSq()>.001&&(_t=bt),g[bt].translate(pt)}if(rt){if(g.length>1)for(let bt=0;bt<b.length;bt++){var st=[];for(let Lt=0;Lt<g.length;Lt++)if(!g[Lt].isNearlyIdentity()){var Mt=new c.Vector3;Mt.set(b[bt].x,b[bt].y,b[bt].z),Mt.applyMatrix4(g[Lt]),st.push(Mt)}b[bt].symmetries=st}}else{for(let bt=0;bt<nt;bt++)b[bt].sym=-1;for(let bt=0;bt<g.length;bt++)if(!g[bt].isNearlyIdentity()&&_t!=bt){let Lt=new c.Vector3;for(let pt=0;pt<nt;pt++){const Dt=[];for(let Bt=0;Bt<b[pt].bonds.length;Bt++)Dt.push(b[pt].bonds[Bt]+ot);if(Lt.set(b[pt].x,b[pt].y,b[pt].z),Lt.applyMatrix4(g[bt]),$.wrapAtoms&&j){let Bt=it(Lt);Lt.add(Bt)}const wt={};for(const Bt in b[pt])wt[Bt]=b[pt][Bt];wt.x=Lt.x,wt.y=Lt.y,wt.z=Lt.z,wt.bonds=Dt,wt.sym=bt,wt.index=b.length,b.push(wt)}ot=b.length}else for(let Lt=0;Lt<nt;Lt++)b[Lt].sym=bt;if($.wrapAtoms&&j){let bt=new c.Vector3;for(let Lt=0;Lt<nt;Lt++){bt.set(b[Lt].x,b[Lt].y,b[Lt].z);let pt=it(bt);bt.add(pt),b[Lt].x=bt.x,b[Lt].y=bt.y,b[Lt].z=bt.z}}if(_t>=0){const bt=new c.Vector3;for(let Lt=0;Lt<nt;Lt++)bt.set(b[Lt].x,b[Lt].y,b[Lt].z),bt.applyMatrix4(g[_t]),b[Lt].x=bt.x,b[Lt].y=bt.y,b[Lt].z=bt.z}g.length=0}}},"./src/parsers/utils/standardResidues.ts":(a,e,o)=>{o.r(e),o.d(e,{standardResidues:()=>c});const c=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(a,e,o)=>{o.r(e),o.d(e,{validateBonds:()=>c});function c(h,g){for(let b=0,$=h.length;b<$;b++){const j=h[b];for(let rt=0;rt<j.bonds.length;rt++){const nt=j.bonds[rt],ot=h[nt],_t=g[j.serial];ot&&_t&&ot.bonds.indexOf(_t)<0&&(ot.bonds.push(_t),ot.bondOrder.push(j.bondOrder[rt]))}}}},"./src/partialCharges.ts":(a,e,o)=>{o.r(e),o.d(e,{applyPartialCharges:()=>h,partialCharges:()=>c});const c={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function h(g,b){if((!b||typeof g.partialCharge>"u")&&g.resn&&g.atom){var $=g.resn+":"+g.atom;g.properties.partialCharge=c[$]}}},"./src/specs.ts":(a,e,o)=>{o.r(e)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts");function extend(a,e){for(var o in e)e.hasOwnProperty(o)&&e[o]!==void 0&&(a[o]=e[o]);return a}function deepCopy(a){let e,o,c;if(a==null)return{};if(typeof a!="object"||a===null)return a;e=Array.isArray(a)?[]:{};for(c in a)o=a[c],e[c]=deepCopy(o);return e}function isNumeric(a){var e=typeof a;return(e==="number"||e==="string")&&!isNaN(a-parseFloat(a))}function isEmptyObject(a){var e;for(e in a)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?null:callback}function adjustVolumeStyle(a){a&&(a.volformat&&!(a.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(a.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(a.voldata,a.volformat)),a.volscheme&&(a.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(a.volscheme)))}function getExtent(a,e){var o,c,h,g,b,$,j,rt,nt,ot,_t=!e;if(o=c=h=9999,g=b=$=-9999,j=rt=nt=ot=0,a.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var Et=0;Et<a.length;Et++){var It=a[Et];if(!(typeof It>"u"||!isFinite(It.x)||!isFinite(It.y)||!isFinite(It.z))&&(ot++,j+=It.x,rt+=It.y,nt+=It.z,o=o<It.x?o:It.x,c=c<It.y?c:It.y,h=h<It.z?h:It.z,g=g>It.x?g:It.x,b=b>It.y?b:It.y,$=$>It.z?$:It.z,It.symmetries&&_t))for(var it=0;it<It.symmetries.length;it++)ot++,j+=It.symmetries[it].x,rt+=It.symmetries[it].y,nt+=It.symmetries[it].z,o=o<It.symmetries[it].x?o:It.symmetries[it].x,c=c<It.symmetries[it].y?c:It.symmetries[it].y,h=h<It.symmetries[it].z?h:It.symmetries[it].z,g=g>It.symmetries[it].x?g:It.symmetries[it].x,b=b>It.symmetries[it].y?b:It.symmetries[it].y,$=$>It.symmetries[it].z?$:It.symmetries[it].z}return[[o,c,h],[g,b,$],[j/ot,rt/ot,nt/ot]]}function getPropertyRange(a,e){for(var o=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,h=0,g=a.length;h<g;h++){var b=a[h],$=getAtomProperty(b,e);$!=null&&($<o&&(o=$),$>c&&(c=$))}return!isFinite(o)&&!isFinite(c)?o=c=0:isFinite(o)?isFinite(c)||(c=o):o=c,[o,c]}class PausableTimer{constructor(e,o,c){this.total_time_run=0,this.fn=e,this.arg=c,this.countdown=o,this.start_time=new Date().getTime(),this.ident=setTimeout(e,o,c)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(a){for(var e=window.atob(a),o=e.length,c=new Uint8Array(o),h=0;h<o;h++)c[h]=e.charCodeAt(h);return c}function getAtomProperty(a,e){var o=null;return a.properties&&typeof a.properties[e]<"u"?o=a.properties[e]:typeof a[e]<"u"&&(o=a[e]),o}function mergeGeos(a,e){var o=e.geometry;o!==void 0&&a.geometryGroups.push(o.geometryGroups[0])}function specStringToObject(a){if(typeof a=="object"||typeof a>"u"||a==null)return a;try{return JSON.parse(a)}catch{}a=a.replace(/%7E/g,"~");var e=function(_t){return isNumeric(_t)?Math.floor(parseFloat(_t))==parseInt(_t)||_t.indexOf(".")>=0?parseFloat(_t):parseInt(_t):_t==="true"?!0:_t==="false"?!1:_t},o={};if(a==="all")return o;for(var c=a.split(";"),h=0;h<c.length;h++){var g=c[h].split(":"),b=g[0],$={},j=g[1];if(j)if(j=j.replace(/~/g,"="),j.indexOf("=")!==-1)for(var rt=j.split(","),nt=0;nt<rt.length;nt++){var ot=rt[nt].split("=",2);$[ot[0]]=e(ot[1])}else j.indexOf(",")!==-1?$=j.split(","):$=e(j);o[b]=$}return o}function checkStatus(a){if(!a.ok)throw new Error(`HTTP ${a.status} - ${a.statusText}`);return a}function get(a,e){var o=fetch(a).then(checkStatus).then(c=>c.text());return e?o.then(e):o}function getbin(a,e,o,c){var h;return o=="POST"?h=fetch(a,{method:"POST",body:c}).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()):h=fetch(a).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()),e?h.then(e):h}function download(a,e,o,c){var h="",g="",b="",$="",j=null,rt=e.addModel();if(a.indexOf(":")<0&&(a.length==4?a="pdb:"+a:isNaN(a)?a="url:"+a:a="cid:"+a),a.substring(0,5)==="mmtf:")g=o&&o.pdbUri?o.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",a=a.substring(5).toUpperCase(),$=g+a,o&&typeof o.noComputeSecondaryStructure>"u"&&(o.noComputeSecondaryStructure=!0),j=new Promise(function(ot){getbin($).then(function(_t){rt.addMolData(_t,"mmtf",o),e.zoomTo(),e.render(),ot(rt)},function(){console.log("fetch of "+$+" failed.")})});else{if(a.substring(0,4)==="pdb:"){if(h="mmtf",o&&o.format&&(h=o.format),o&&typeof o.noComputeSecondaryStructure>"u"&&(o.noComputeSecondaryStructure=!0),a=a.substring(4).toUpperCase(),!a.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}h=="mmtf"?(b=o&&o.mmtfUri?o.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",$=b+a.toUpperCase()):(g=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",$=g+a+"."+h)}else if(a.substring(0,4)=="cid:"){if(h="sdf",a=a.substring(4),!a.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}$="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}else a.substring(0,4)=="url:"&&($=a.substring(4),h=$);var nt=function(ot){rt.addMolData(ot,h,o),e.zoomTo(),e.render()};j=new Promise(function(ot){h=="mmtf"?getbin($).then(function(_t){nt(_t),ot(rt)}).catch(function(){g=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",$=g+a+".pdb",h="pdb",console.log("falling back to pdb format"),get($).then(function(_t){nt(_t),ot(rt)}).catch(function(_t){nt(""),ot(rt),console.log("fetch of "+$+" failed: "+_t.statusText)})}):get($).then(function(_t){nt(_t),ot(rt)}).catch(function(_t){nt(""),ot(rt),console.log("fetch of "+$+" failed: "+_t.statusText)})})}return c?(j.then(function(ot){c(ot)}),rt):j}function getColorFromStyle(a,e){let o=e.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]<"u")o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o];else if(typeof o=="string"&&o.endsWith("Carbon")){let g=o.substring(0,o.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[g]<"u"){let b=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);b.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[g],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]={prop:"elem",map:b},o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]}}let c=a.color;if(typeof e.color<"u"&&e.color!="spectrum"&&(c=e.color),typeof o<"u"){let g,b;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o]<"u")o=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o],typeof o[a[o.prop]]<"u"&&(c=o.map[a[o.prop]]);else if(typeof o[a[o.prop]]<"u")c=o.map[a[o.prop]];else if(typeof o.prop<"u"&&typeof o.gradient<"u"){g=o.prop;var h=o.gradient;typeof _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[h]<"u"&&(h=new _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[h](o.min,o.max,o.mid?o.mid:o.colors));let $=h.range()||[-1,1];b=getAtomProperty(a,g),b!=null&&(c=h.valueToHex(b,$))}else typeof o.prop<"u"&&typeof o.map<"u"?(g=o.prop,b=getAtomProperty(a,g),typeof o.map[b]<"u"&&(c=o.map[b])):typeof e.colorscheme[a.elem]<"u"?c=e.colorscheme[a.elem]:console.log("Could not interpret colorscheme "+o)}else typeof e.colorfunc<"u"&&(c=e.colorfunc(a));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(c)}function getElement(a){let e=a;return typeof a=="string"?e=document.querySelector("#"+a):typeof a=="object"&&a.get&&(e=a.get(0)),e}},"./node_modules/upng-js/UPNG.js":(a,e,o)=>{(function(){var c={},h;a.exports=c,h=o("./node_modules/upng-js/node_modules/pako/index.js"),function(g,b){g.toRGBA8=function($){var j=$.width,rt=$.height;if($.tabs.acTL==null)return[g.toRGBA8.decodeImage($.data,j,rt,$).buffer];var nt=[];$.frames[0].data==null&&($.frames[0].data=$.data);for(var ot,_t=new Uint8Array(j*rt*4),Et=0;Et<$.frames.length;Et++){var It=$.frames[Et],it=It.rect.x,st=It.rect.y,Mt=It.rect.width,bt=It.rect.height,Lt=g.toRGBA8.decodeImage(It.data,Mt,bt,$);if(Et==0?ot=Lt:It.blend==0?g._copyTile(Lt,Mt,bt,ot,j,rt,it,st,0):It.blend==1&&g._copyTile(Lt,Mt,bt,ot,j,rt,it,st,1),nt.push(ot.buffer),ot=ot.slice(0),It.dispose!=0){if(It.dispose==1)g._copyTile(_t,Mt,bt,ot,j,rt,it,st,0);else if(It.dispose==2){for(var pt=Et-1;$.frames[pt].dispose==2;)pt--;ot=new Uint8Array(nt[pt]).slice(0)}}}return nt},g.toRGBA8.decodeImage=function($,j,rt,nt){var ot=j*rt,_t=g.decode._getBPP(nt),Et=Math.ceil(j*_t/8),It=new Uint8Array(ot*4),it=new Uint32Array(It.buffer),st=nt.ctype,Mt=nt.depth,bt=g._bin.readUshort;if(st==6){var Lt=ot<<2;if(Mt==8)for(var pt=0;pt<Lt;pt++)It[pt]=$[pt];if(Mt==16)for(var pt=0;pt<Lt;pt++)It[pt]=$[pt<<1]}else if(st==2){var Dt=nt.tabs.tRNS,wt=-1,Bt=-1,jt=-1;if(Dt&&(wt=Dt[0],Bt=Dt[1],jt=Dt[2]),Mt==8)for(var pt=0;pt<ot;pt++){var hr=pt<<2,gr=pt*3;It[hr]=$[gr],It[hr+1]=$[gr+1],It[hr+2]=$[gr+2],It[hr+3]=255,wt!=-1&&$[gr]==wt&&$[gr+1]==Bt&&$[gr+2]==jt&&(It[hr+3]=0)}if(Mt==16)for(var pt=0;pt<ot;pt++){var hr=pt<<2,gr=pt*6;It[hr]=$[gr],It[hr+1]=$[gr+2],It[hr+2]=$[gr+4],It[hr+3]=255,wt!=-1&&bt($,gr)==wt&&bt($,gr+2)==Bt&&bt($,gr+4)==jt&&(It[hr+3]=0)}}else if(st==3){var Cr=nt.tabs.PLTE,wr=nt.tabs.tRNS,yr=wr?wr.length:0;if(Mt==1)for(var xr=0;xr<rt;xr++)for(var In=xr*Et,rn=xr*j,pt=0;pt<j;pt++){var hr=rn+pt<<2,Sr=$[In+(pt>>3)]>>7-((pt&7)<<0)&1,Tr=3*Sr;It[hr]=Cr[Tr],It[hr+1]=Cr[Tr+1],It[hr+2]=Cr[Tr+2],It[hr+3]=Sr<yr?wr[Sr]:255}if(Mt==2)for(var xr=0;xr<rt;xr++)for(var In=xr*Et,rn=xr*j,pt=0;pt<j;pt++){var hr=rn+pt<<2,Sr=$[In+(pt>>2)]>>6-((pt&3)<<1)&3,Tr=3*Sr;It[hr]=Cr[Tr],It[hr+1]=Cr[Tr+1],It[hr+2]=Cr[Tr+2],It[hr+3]=Sr<yr?wr[Sr]:255}if(Mt==4)for(var xr=0;xr<rt;xr++)for(var In=xr*Et,rn=xr*j,pt=0;pt<j;pt++){var hr=rn+pt<<2,Sr=$[In+(pt>>1)]>>4-((pt&1)<<2)&15,Tr=3*Sr;It[hr]=Cr[Tr],It[hr+1]=Cr[Tr+1],It[hr+2]=Cr[Tr+2],It[hr+3]=Sr<yr?wr[Sr]:255}if(Mt==8)for(var pt=0;pt<ot;pt++){var hr=pt<<2,Sr=$[pt],Tr=3*Sr;It[hr]=Cr[Tr],It[hr+1]=Cr[Tr+1],It[hr+2]=Cr[Tr+2],It[hr+3]=Sr<yr?wr[Sr]:255}}else if(st==4){if(Mt==8)for(var pt=0;pt<ot;pt++){var hr=pt<<2,Ln=pt<<1,Fn=$[Ln];It[hr]=Fn,It[hr+1]=Fn,It[hr+2]=Fn,It[hr+3]=$[Ln+1]}if(Mt==16)for(var pt=0;pt<ot;pt++){var hr=pt<<2,Ln=pt<<2,Fn=$[Ln];It[hr]=Fn,It[hr+1]=Fn,It[hr+2]=Fn,It[hr+3]=$[Ln+2]}}else if(st==0){var wt=nt.tabs.tRNS?nt.tabs.tRNS:-1;if(Mt==1)for(var pt=0;pt<ot;pt++){var Fn=255*($[pt>>3]>>7-(pt&7)&1),Or=Fn==wt*255?0:255;it[pt]=Or<<24|Fn<<16|Fn<<8|Fn}if(Mt==2)for(var pt=0;pt<ot;pt++){var Fn=85*($[pt>>2]>>6-((pt&3)<<1)&3),Or=Fn==wt*85?0:255;it[pt]=Or<<24|Fn<<16|Fn<<8|Fn}if(Mt==4)for(var pt=0;pt<ot;pt++){var Fn=17*($[pt>>1]>>4-((pt&1)<<2)&15),Or=Fn==wt*17?0:255;it[pt]=Or<<24|Fn<<16|Fn<<8|Fn}if(Mt==8)for(var pt=0;pt<ot;pt++){var Fn=$[pt],Or=Fn==wt?0:255;it[pt]=Or<<24|Fn<<16|Fn<<8|Fn}if(Mt==16)for(var pt=0;pt<ot;pt++){var Fn=$[pt<<1],Or=bt($,pt<<1)==wt?0:255;it[pt]=Or<<24|Fn<<16|Fn<<8|Fn}}return It},g.decode=function($){for(var j=new Uint8Array($),rt=8,nt=g._bin,ot=nt.readUshort,_t=nt.readUint,Et={tabs:{},frames:[]},It=new Uint8Array(j.length),it=0,st,Mt=0,bt=[137,80,78,71,13,10,26,10],Lt=0;Lt<8;Lt++)if(j[Lt]!=bt[Lt])throw"The input is not a PNG file!";for(;rt<j.length;){var pt=nt.readUint(j,rt);rt+=4;var Dt=nt.readASCII(j,rt,4);if(rt+=4,Dt=="IHDR")g.decode._IHDR(j,rt,Et);else if(Dt=="IDAT"){for(var Lt=0;Lt<pt;Lt++)It[it+Lt]=j[rt+Lt];it+=pt}else if(Dt=="acTL")Et.tabs[Dt]={num_frames:_t(j,rt),num_plays:_t(j,rt+4)},st=new Uint8Array(j.length);else if(Dt=="fcTL"){if(Mt!=0){var wt=Et.frames[Et.frames.length-1];wt.data=g.decode._decompress(Et,st.slice(0,Mt),wt.rect.width,wt.rect.height),Mt=0}var Bt={x:_t(j,rt+12),y:_t(j,rt+16),width:_t(j,rt+4),height:_t(j,rt+8)},jt=ot(j,rt+22);jt=ot(j,rt+20)/(jt==0?100:jt);var hr={rect:Bt,delay:Math.round(jt*1e3),dispose:j[rt+24],blend:j[rt+25]};Et.frames.push(hr)}else if(Dt=="fdAT"){for(var Lt=0;Lt<pt-4;Lt++)st[Mt+Lt]=j[rt+Lt+4];Mt+=pt-4}else if(Dt=="pHYs")Et.tabs[Dt]=[nt.readUint(j,rt),nt.readUint(j,rt+4),j[rt+8]];else if(Dt=="cHRM"){Et.tabs[Dt]=[];for(var Lt=0;Lt<8;Lt++)Et.tabs[Dt].push(nt.readUint(j,rt+Lt*4))}else if(Dt=="tEXt"){Et.tabs[Dt]==null&&(Et.tabs[Dt]={});var gr=nt.nextZero(j,rt),Cr=nt.readASCII(j,rt,gr-rt),wr=nt.readASCII(j,gr+1,rt+pt-gr-1);Et.tabs[Dt][Cr]=wr}else if(Dt=="iTXt"){Et.tabs[Dt]==null&&(Et.tabs[Dt]={});var gr=0,yr=rt;gr=nt.nextZero(j,yr);var Cr=nt.readASCII(j,yr,gr-yr);yr=gr+1,j[yr],j[yr+1],yr+=2,gr=nt.nextZero(j,yr),nt.readASCII(j,yr,gr-yr),yr=gr+1,gr=nt.nextZero(j,yr),nt.readUTF8(j,yr,gr-yr),yr=gr+1;var wr=nt.readUTF8(j,yr,pt-(yr-rt));Et.tabs[Dt][Cr]=wr}else if(Dt=="PLTE")Et.tabs[Dt]=nt.readBytes(j,rt,pt);else if(Dt=="hIST"){var xr=Et.tabs.PLTE.length/3;Et.tabs[Dt]=[];for(var Lt=0;Lt<xr;Lt++)Et.tabs[Dt].push(ot(j,rt+Lt*2))}else if(Dt=="tRNS")Et.ctype==3?Et.tabs[Dt]=nt.readBytes(j,rt,pt):Et.ctype==0?Et.tabs[Dt]=ot(j,rt):Et.ctype==2&&(Et.tabs[Dt]=[ot(j,rt),ot(j,rt+2),ot(j,rt+4)]);else if(Dt=="gAMA")Et.tabs[Dt]=nt.readUint(j,rt)/1e5;else if(Dt=="sRGB")Et.tabs[Dt]=j[rt];else if(Dt=="bKGD")Et.ctype==0||Et.ctype==4?Et.tabs[Dt]=[ot(j,rt)]:Et.ctype==2||Et.ctype==6?Et.tabs[Dt]=[ot(j,rt),ot(j,rt+2),ot(j,rt+4)]:Et.ctype==3&&(Et.tabs[Dt]=j[rt]);else if(Dt=="IEND"){if(Mt!=0){var wt=Et.frames[Et.frames.length-1];wt.data=g.decode._decompress(Et,st.slice(0,Mt),wt.rect.width,wt.rect.height),Mt=0}Et.data=g.decode._decompress(Et,It,Et.width,Et.height);break}rt+=pt,nt.readUint(j,rt),rt+=4}return delete Et.compress,delete Et.interlace,delete Et.filter,Et},g.decode._decompress=function($,j,rt,nt){return $.compress==0&&(j=g.decode._inflate(j)),$.interlace==0?j=g.decode._filterZero(j,$,0,rt,nt):$.interlace==1&&(j=g.decode._readInterlace(j,$)),j},g.decode._inflate=function($){return b.inflate($)},g.decode._readInterlace=function($,j){for(var rt=j.width,nt=j.height,ot=g.decode._getBPP(j),_t=ot>>3,Et=Math.ceil(rt*ot/8),It=new Uint8Array(nt*Et),it=0,st=[0,0,4,0,2,0,1],Mt=[0,4,0,2,0,1,0],bt=[8,8,8,4,4,2,2],Lt=[8,8,4,4,2,2,1],pt=0;pt<7;){for(var Dt=bt[pt],wt=Lt[pt],Bt=0,jt=0,hr=st[pt];hr<nt;)hr+=Dt,jt++;for(var gr=Mt[pt];gr<rt;)gr+=wt,Bt++;var Cr=Math.ceil(Bt*ot/8);g.decode._filterZero($,j,it,Bt,jt);for(var wr=0,yr=st[pt];yr<nt;){for(var xr=Mt[pt],In=it+wr*Cr<<3;xr<rt;){if(ot==1){var rn=$[In>>3];rn=rn>>7-(In&7)&1,It[yr*Et+(xr>>3)]|=rn<<7-((xr&3)<<0)}if(ot==2){var rn=$[In>>3];rn=rn>>6-(In&7)&3,It[yr*Et+(xr>>2)]|=rn<<6-((xr&3)<<1)}if(ot==4){var rn=$[In>>3];rn=rn>>4-(In&7)&15,It[yr*Et+(xr>>1)]|=rn<<4-((xr&1)<<2)}if(ot>=8)for(var Sr=yr*Et+xr*_t,Tr=0;Tr<_t;Tr++)It[Sr+Tr]=$[(In>>3)+Tr];In+=ot,xr+=wt}wr++,yr+=Dt}Bt*jt!=0&&(it+=jt*(1+Cr)),pt=pt+1}return It},g.decode._getBPP=function($){var j=[1,null,3,1,2,null,4][$.ctype];return j*$.depth},g.decode._filterZero=function($,j,rt,nt,ot){var _t=g.decode._getBPP(j),Et=Math.ceil(nt*_t/8),It=g.decode._paeth;_t=Math.ceil(_t/8);for(var it=0;it<ot;it++){var st=rt+it*Et,Mt=st+it+1,bt=$[Mt-1];if(bt==0)for(var Lt=0;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt];else if(bt==1){for(var Lt=0;Lt<_t;Lt++)$[st+Lt]=$[Mt+Lt];for(var Lt=_t;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt]+$[st+Lt-_t]&255}else if(it==0){for(var Lt=0;Lt<_t;Lt++)$[st+Lt]=$[Mt+Lt];if(bt==2)for(var Lt=_t;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt]&255;if(bt==3)for(var Lt=_t;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt]+($[st+Lt-_t]>>1)&255;if(bt==4)for(var Lt=_t;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt]+It($[st+Lt-_t],0,0)&255}else{if(bt==2)for(var Lt=0;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt]+$[st+Lt-Et]&255;if(bt==3){for(var Lt=0;Lt<_t;Lt++)$[st+Lt]=$[Mt+Lt]+($[st+Lt-Et]>>1)&255;for(var Lt=_t;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt]+($[st+Lt-Et]+$[st+Lt-_t]>>1)&255}if(bt==4){for(var Lt=0;Lt<_t;Lt++)$[st+Lt]=$[Mt+Lt]+It(0,$[st+Lt-Et],0)&255;for(var Lt=_t;Lt<Et;Lt++)$[st+Lt]=$[Mt+Lt]+It($[st+Lt-_t],$[st+Lt-Et],$[st+Lt-_t-Et])&255}}}return $},g.decode._paeth=function($,j,rt){var nt=$+j-rt,ot=Math.abs(nt-$),_t=Math.abs(nt-j),Et=Math.abs(nt-rt);return ot<=_t&&ot<=Et?$:_t<=Et?j:rt},g.decode._IHDR=function($,j,rt){var nt=g._bin;rt.width=nt.readUint($,j),j+=4,rt.height=nt.readUint($,j),j+=4,rt.depth=$[j],j++,rt.ctype=$[j],j++,rt.compress=$[j],j++,rt.filter=$[j],j++,rt.interlace=$[j],j++},g._bin={nextZero:function($,j){for(;$[j]!=0;)j++;return j},readUshort:function($,j){return $[j]<<8|$[j+1]},writeUshort:function($,j,rt){$[j]=rt>>8&255,$[j+1]=rt&255},readUint:function($,j){return $[j]*16777216+($[j+1]<<16|$[j+2]<<8|$[j+3])},writeUint:function($,j,rt){$[j]=rt>>24&255,$[j+1]=rt>>16&255,$[j+2]=rt>>8&255,$[j+3]=rt&255},readASCII:function($,j,rt){for(var nt="",ot=0;ot<rt;ot++)nt+=String.fromCharCode($[j+ot]);return nt},writeASCII:function($,j,rt){for(var nt=0;nt<rt.length;nt++)$[j+nt]=rt.charCodeAt(nt)},readBytes:function($,j,rt){for(var nt=[],ot=0;ot<rt;ot++)nt.push($[j+ot]);return nt},pad:function($){return $.length<2?"0"+$:$},readUTF8:function($,j,rt){for(var nt="",ot,_t=0;_t<rt;_t++)nt+="%"+g._bin.pad($[j+_t].toString(16));try{ot=decodeURIComponent(nt)}catch{return g._bin.readASCII($,j,rt)}return ot}},g._copyTile=function($,j,rt,nt,ot,_t,Et,It,it){for(var st=Math.min(j,ot),Mt=Math.min(rt,_t),bt=0,Lt=0,pt=0;pt<Mt;pt++)for(var Dt=0;Dt<st;Dt++)if(Et>=0&&It>=0?(bt=pt*j+Dt<<2,Lt=(It+pt)*ot+Et+Dt<<2):(bt=(-It+pt)*j-Et+Dt<<2,Lt=pt*ot+Dt<<2),it==0)nt[Lt]=$[bt],nt[Lt+1]=$[bt+1],nt[Lt+2]=$[bt+2],nt[Lt+3]=$[bt+3];else if(it==1){var wt=$[bt+3]*.00392156862745098,Bt=$[bt]*wt,jt=$[bt+1]*wt,hr=$[bt+2]*wt,gr=nt[Lt+3]*(1/255),Cr=nt[Lt]*gr,wr=nt[Lt+1]*gr,yr=nt[Lt+2]*gr,xr=1-wt,In=wt+gr*xr,rn=In==0?0:1/In;nt[Lt+3]=255*In,nt[Lt+0]=(Bt+Cr*xr)*rn,nt[Lt+1]=(jt+wr*xr)*rn,nt[Lt+2]=(hr+yr*xr)*rn}else if(it==2){var wt=$[bt+3],Bt=$[bt],jt=$[bt+1],hr=$[bt+2],gr=nt[Lt+3],Cr=nt[Lt],wr=nt[Lt+1],yr=nt[Lt+2];wt==gr&&Bt==Cr&&jt==wr&&hr==yr?(nt[Lt]=0,nt[Lt+1]=0,nt[Lt+2]=0,nt[Lt+3]=0):(nt[Lt]=Bt,nt[Lt+1]=jt,nt[Lt+2]=hr,nt[Lt+3]=wt)}else if(it==3){var wt=$[bt+3],Bt=$[bt],jt=$[bt+1],hr=$[bt+2],gr=nt[Lt+3],Cr=nt[Lt],wr=nt[Lt+1],yr=nt[Lt+2];if(wt==gr&&Bt==Cr&&jt==wr&&hr==yr)continue;if(wt<220&&gr>20)return!1}return!0},g.encode=function($,j,rt,nt,ot,_t){nt==null&&(nt=0),_t==null&&(_t=!1);for(var Et=new Uint8Array($[0].byteLength*$.length+100),It=[137,80,78,71,13,10,26,10],it=0;it<8;it++)Et[it]=It[it];var st=8,Mt=g._bin,bt=g.crc.crc,Lt=Mt.writeUint,pt=Mt.writeUshort,Dt=Mt.writeASCII,wt=g.encode.compressPNG($,j,rt,nt,_t);Lt(Et,st,13),st+=4,Dt(Et,st,"IHDR"),st+=4,Lt(Et,st,j),st+=4,Lt(Et,st,rt),st+=4,Et[st]=wt.depth,st++,Et[st]=wt.ctype,st++,Et[st]=0,st++,Et[st]=0,st++,Et[st]=0,st++,Lt(Et,st,bt(Et,st-17,17)),st+=4,Lt(Et,st,1),st+=4,Dt(Et,st,"sRGB"),st+=4,Et[st]=1,st++,Lt(Et,st,bt(Et,st-5,5)),st+=4;var Bt=$.length>1;if(Bt&&(Lt(Et,st,8),st+=4,Dt(Et,st,"acTL"),st+=4,Lt(Et,st,$.length),st+=4,Lt(Et,st,0),st+=4,Lt(Et,st,bt(Et,st-12,12)),st+=4),wt.ctype==3){var jt=wt.plte.length;Lt(Et,st,jt*3),st+=4,Dt(Et,st,"PLTE"),st+=4;for(var it=0;it<jt;it++){var hr=it*3,gr=wt.plte[it],Cr=gr&255,wr=gr>>8&255,yr=gr>>16&255;Et[st+hr+0]=Cr,Et[st+hr+1]=wr,Et[st+hr+2]=yr}if(st+=jt*3,Lt(Et,st,bt(Et,st-jt*3-4,jt*3+4)),st+=4,wt.gotAlpha){Lt(Et,st,jt),st+=4,Dt(Et,st,"tRNS"),st+=4;for(var it=0;it<jt;it++)Et[st+it]=wt.plte[it]>>24&255;st+=jt,Lt(Et,st,bt(Et,st-jt-4,jt+4)),st+=4}}for(var xr=0,In=0;In<wt.frames.length;In++){var rn=wt.frames[In];Bt&&(Lt(Et,st,26),st+=4,Dt(Et,st,"fcTL"),st+=4,Lt(Et,st,xr++),st+=4,Lt(Et,st,rn.rect.width),st+=4,Lt(Et,st,rn.rect.height),st+=4,Lt(Et,st,rn.rect.x),st+=4,Lt(Et,st,rn.rect.y),st+=4,pt(Et,st,ot[In]),st+=2,pt(Et,st,1e3),st+=2,Et[st]=rn.dispose,st++,Et[st]=rn.blend,st++,Lt(Et,st,bt(Et,st-30,30)),st+=4);var Sr=rn.cimg,jt=Sr.length;Lt(Et,st,jt+(In==0?0:4)),st+=4;var Tr=st;Dt(Et,st,In==0?"IDAT":"fdAT"),st+=4,In!=0&&(Lt(Et,st,xr++),st+=4);for(var it=0;it<jt;it++)Et[st+it]=Sr[it];st+=jt,Lt(Et,st,bt(Et,Tr,st-Tr)),st+=4}return Lt(Et,st,0),st+=4,Dt(Et,st,"IEND"),st+=4,Lt(Et,st,bt(Et,st-4,4)),st+=4,Et.buffer.slice(0,st)},g.encode.compressPNG=function($,j,rt,nt,ot){for(var _t=g.encode.compress($,j,rt,nt,!1,ot),Et=0;Et<$.length;Et++){var It=_t.frames[Et];It.rect.width;var it=It.rect.height,st=It.bpl,Mt=It.bpp,bt=new Uint8Array(it*st+it);It.cimg=g.encode._filterZero(It.img,it,Mt,st,bt)}return _t},g.encode.compress=function($,j,rt,nt,ot,_t){_t==null&&(_t=!1);for(var Et=6,It=8,it=4,st=255,Mt=0;Mt<$.length;Mt++)for(var bt=new Uint8Array($[Mt]),Lt=bt.length,pt=0;pt<Lt;pt+=4)st&=bt[pt+3];var Dt=st!=255,wt={},Bt=[];if($.length!=0&&(wt[0]=0,Bt.push(0),nt!=0&&nt--),nt!=0){var jt=g.quantize($,nt,ot);$=jt.bufs;for(var pt=0;pt<jt.plte.length;pt++){var hr=jt.plte[pt].est.rgba;wt[hr]==null&&(wt[hr]=Bt.length,Bt.push(hr))}}else for(var Mt=0;Mt<$.length;Mt++)for(var gr=new Uint32Array($[Mt]),Lt=gr.length,pt=0;pt<Lt;pt++){var hr=gr[pt];if((pt<j||hr!=gr[pt-1]&&hr!=gr[pt-j])&&wt[hr]==null&&(wt[hr]=Bt.length,Bt.push(hr),Bt.length>=300))break}var Cr=Dt?ot:!1,wr=Bt.length;wr<=256&&_t==!1&&(wr<=2?It=1:wr<=4?It=2:wr<=16?It=4:It=8,ot&&(It=8),Dt=!0);for(var yr=[],Mt=0;Mt<$.length;Mt++){var xr=new Uint8Array($[Mt]),In=new Uint32Array(xr.buffer),rn=0,Sr=0,Tr=j,Ln=rt,Fn=0;if(Mt!=0&&!Cr){for(var Or=ot||Mt==1||yr[yr.length-2].dispose==2?1:2,Nn=0,eo=1e9,uo=0;uo<Or;uo++){for(var $n=new Uint8Array($[Mt-1-uo]),wo=new Uint32Array($[Mt-1-uo]),bo=j,es=rt,rs=-1,vo=-1,gs=0;gs<rt;gs++)for(var cs=0;cs<j;cs++){var pt=gs*j+cs;In[pt]!=wo[pt]&&(cs<bo&&(bo=cs),cs>rs&&(rs=cs),gs<es&&(es=gs),gs>vo&&(vo=gs))}var Gs=rs==-1?1:(rs-bo+1)*(vo-es+1);Gs<eo&&(eo=Gs,Nn=uo,rs==-1?(rn=Sr=0,Tr=Ln=1):(rn=bo,Sr=es,Tr=rs-bo+1,Ln=vo-es+1))}var $n=new Uint8Array($[Mt-1-Nn]);Nn==1&&(yr[yr.length-1].dispose=2);var Kn=new Uint8Array(Tr*Ln*4);new Uint32Array(Kn.buffer),g._copyTile($n,j,rt,Kn,Tr,Ln,-rn,-Sr,0),g._copyTile(xr,j,rt,Kn,Tr,Ln,-rn,-Sr,3)?(g._copyTile(xr,j,rt,Kn,Tr,Ln,-rn,-Sr,2),Fn=1):(g._copyTile(xr,j,rt,Kn,Tr,Ln,-rn,-Sr,0),Fn=0),xr=Kn,In=new Uint32Array(xr.buffer)}var Bn=4*Tr;if(wr<=256&&_t==!1){Bn=Math.ceil(It*Tr/8);for(var Kn=new Uint8Array(Bn*Ln),gs=0;gs<Ln;gs++){var pt=gs*Bn,co=gs*Tr;if(It==8)for(var cs=0;cs<Tr;cs++)Kn[pt+cs]=wt[In[co+cs]];else if(It==4)for(var cs=0;cs<Tr;cs++)Kn[pt+(cs>>1)]|=wt[In[co+cs]]<<4-(cs&1)*4;else if(It==2)for(var cs=0;cs<Tr;cs++)Kn[pt+(cs>>2)]|=wt[In[co+cs]]<<6-(cs&3)*2;else if(It==1)for(var cs=0;cs<Tr;cs++)Kn[pt+(cs>>3)]|=wt[In[co+cs]]<<7-(cs&7)*1}xr=Kn,Et=3,it=1}else if(Dt==!1&&$.length==1){for(var Kn=new Uint8Array(Tr*Ln*3),vs=Tr*Ln,pt=0;pt<vs;pt++){var Ts=pt*3,Fs=pt*4;Kn[Ts]=xr[Fs],Kn[Ts+1]=xr[Fs+1],Kn[Ts+2]=xr[Fs+2]}xr=Kn,Et=2,it=3,Bn=3*Tr}yr.push({rect:{x:rn,y:Sr,width:Tr,height:Ln},img:xr,bpl:Bn,bpp:it,blend:Fn,dispose:Cr?1:0})}return{ctype:Et,depth:It,plte:Bt,gotAlpha:Dt,frames:yr}},g.encode._filterZero=function($,j,rt,nt,ot){for(var _t=[],Et=0;Et<5;Et++)if(!(j*nt>5e5&&(Et==2||Et==3||Et==4))){for(var It=0;It<j;It++)g.encode._filterLine(ot,$,It,nt,rt,Et);if(_t.push(b.deflate(ot)),rt==1)break}for(var it,st=1e9,Mt=0;Mt<_t.length;Mt++)_t[Mt].length<st&&(it=Mt,st=_t[Mt].length);return _t[it]},g.encode._filterLine=function($,j,rt,nt,ot,_t){var Et=rt*nt,It=Et+rt,it=g.decode._paeth;if($[It]=_t,It++,_t==0)for(var st=0;st<nt;st++)$[It+st]=j[Et+st];else if(_t==1){for(var st=0;st<ot;st++)$[It+st]=j[Et+st];for(var st=ot;st<nt;st++)$[It+st]=j[Et+st]-j[Et+st-ot]+256&255}else if(rt==0){for(var st=0;st<ot;st++)$[It+st]=j[Et+st];if(_t==2)for(var st=ot;st<nt;st++)$[It+st]=j[Et+st];if(_t==3)for(var st=ot;st<nt;st++)$[It+st]=j[Et+st]-(j[Et+st-ot]>>1)+256&255;if(_t==4)for(var st=ot;st<nt;st++)$[It+st]=j[Et+st]-it(j[Et+st-ot],0,0)+256&255}else{if(_t==2)for(var st=0;st<nt;st++)$[It+st]=j[Et+st]+256-j[Et+st-nt]&255;if(_t==3){for(var st=0;st<ot;st++)$[It+st]=j[Et+st]+256-(j[Et+st-nt]>>1)&255;for(var st=ot;st<nt;st++)$[It+st]=j[Et+st]+256-(j[Et+st-nt]+j[Et+st-ot]>>1)&255}if(_t==4){for(var st=0;st<ot;st++)$[It+st]=j[Et+st]+256-it(0,j[Et+st-nt],0)&255;for(var st=ot;st<nt;st++)$[It+st]=j[Et+st]+256-it(j[Et+st-ot],j[Et+st-nt],j[Et+st-ot-nt])&255}}},g.crc={table:function(){for(var $=new Uint32Array(256),j=0;j<256;j++){for(var rt=j,nt=0;nt<8;nt++)rt&1?rt=3988292384^rt>>>1:rt=rt>>>1;$[j]=rt}return $}(),update:function($,j,rt,nt){for(var ot=0;ot<nt;ot++)$=g.crc.table[($^j[rt+ot])&255]^$>>>8;return $},crc:function($,j,rt){return g.crc.update(4294967295,$,j,rt)^4294967295}},g.quantize=function($,j,rt){for(var nt=[],ot=0,_t=0;_t<$.length;_t++)nt.push(g.encode.alphaMul(new Uint8Array($[_t]),rt)),ot+=$[_t].byteLength;for(var Et=new Uint8Array(ot),It=new Uint32Array(Et.buffer),it=0,_t=0;_t<nt.length;_t++){for(var st=nt[_t],Mt=st.length,bt=0;bt<Mt;bt++)Et[it+bt]=st[bt];it+=Mt}var Lt={i0:0,i1:Et.length,bst:null,est:null,tdst:0,left:null,right:null};Lt.bst=g.quantize.stats(Et,Lt.i0,Lt.i1),Lt.est=g.quantize.estats(Lt.bst);for(var pt=[Lt];pt.length<j;){for(var Dt=0,wt=0,_t=0;_t<pt.length;_t++)pt[_t].est.L>Dt&&(Dt=pt[_t].est.L,wt=_t);if(Dt<.001)break;var Bt=pt[wt],jt=g.quantize.splitPixels(Et,It,Bt.i0,Bt.i1,Bt.est.e,Bt.est.eMq255),hr={i0:Bt.i0,i1:jt,bst:null,est:null,tdst:0,left:null,right:null};hr.bst=g.quantize.stats(Et,hr.i0,hr.i1),hr.est=g.quantize.estats(hr.bst);var gr={i0:jt,i1:Bt.i1,bst:null,est:null,tdst:0,left:null,right:null};gr.bst={R:[],m:[],N:Bt.bst.N-hr.bst.N};for(var _t=0;_t<16;_t++)gr.bst.R[_t]=Bt.bst.R[_t]-hr.bst.R[_t];for(var _t=0;_t<4;_t++)gr.bst.m[_t]=Bt.bst.m[_t]-hr.bst.m[_t];gr.est=g.quantize.estats(gr.bst),Bt.left=hr,Bt.right=gr,pt[wt]=hr,pt.push(gr)}pt.sort(function(Or,Nn){return Nn.bst.N-Or.bst.N});for(var Cr=0;Cr<nt.length;Cr++){for(var wr=g.quantize.planeDst,yr=new Uint8Array(nt[Cr].buffer),xr=new Uint32Array(nt[Cr].buffer),In=yr.length,_t=0;_t<In;_t+=4){for(var rn=yr[_t]*.00392156862745098,Sr=yr[_t+1]*.00392156862745098,Tr=yr[_t+2]*.00392156862745098,Ln=yr[_t+3]*.00392156862745098,Fn=Lt;Fn.left;)Fn=wr(Fn.est,rn,Sr,Tr,Ln)<=0?Fn.left:Fn.right;xr[_t>>2]=Fn.est.rgba}nt[Cr]=xr.buffer}return{bufs:nt,plte:pt}},g.quantize.getNearest=function($,j,rt,nt,ot){if($.left==null)return $.tdst=g.quantize.dist($.est.q,j,rt,nt,ot),$;var _t=g.quantize.planeDst($.est,j,rt,nt,ot),Et=$.left,It=$.right;_t>0&&(Et=$.right,It=$.left);var it=g.quantize.getNearest(Et,j,rt,nt,ot);if(it.tdst<=_t*_t)return it;var st=g.quantize.getNearest(It,j,rt,nt,ot);return st.tdst<it.tdst?st:it},g.quantize.planeDst=function($,j,rt,nt,ot){var _t=$.e;return _t[0]*j+_t[1]*rt+_t[2]*nt+_t[3]*ot-$.eMq},g.quantize.dist=function($,j,rt,nt,ot){var _t=j-$[0],Et=rt-$[1],It=nt-$[2],it=ot-$[3];return _t*_t+Et*Et+It*It+it*it},g.quantize.splitPixels=function($,j,rt,nt,ot,_t){var Et=g.quantize.vecDot;for(nt-=4;rt<nt;){for(;Et($,rt,ot)<=_t;)rt+=4;for(;Et($,nt,ot)>_t;)nt-=4;if(rt>=nt)break;var It=j[rt>>2];j[rt>>2]=j[nt>>2],j[nt>>2]=It,rt+=4,nt-=4}for(;Et($,rt,ot)>_t;)rt-=4;return rt+4},g.quantize.vecDot=function($,j,rt){return $[j]*rt[0]+$[j+1]*rt[1]+$[j+2]*rt[2]+$[j+3]*rt[3]},g.quantize.stats=function($,j,rt){for(var nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ot=[0,0,0,0],_t=rt-j>>2,Et=j;Et<rt;Et+=4){var It=$[Et]*.00392156862745098,it=$[Et+1]*(1/255),st=$[Et+2]*(1/255),Mt=$[Et+3]*(1/255);ot[0]+=It,ot[1]+=it,ot[2]+=st,ot[3]+=Mt,nt[0]+=It*It,nt[1]+=It*it,nt[2]+=It*st,nt[3]+=It*Mt,nt[5]+=it*it,nt[6]+=it*st,nt[7]+=it*Mt,nt[10]+=st*st,nt[11]+=st*Mt,nt[15]+=Mt*Mt}return nt[4]=nt[1],nt[8]=nt[2],nt[12]=nt[3],nt[9]=nt[6],nt[13]=nt[7],nt[14]=nt[11],{R:nt,m:ot,N:_t}},g.quantize.estats=function($){var j=$.R,rt=$.m,nt=$.N,ot=rt[0],_t=rt[1],Et=rt[2],It=rt[3],it=nt==0?0:1/nt,st=[j[0]-ot*ot*it,j[1]-ot*_t*it,j[2]-ot*Et*it,j[3]-ot*It*it,j[4]-_t*ot*it,j[5]-_t*_t*it,j[6]-_t*Et*it,j[7]-_t*It*it,j[8]-Et*ot*it,j[9]-Et*_t*it,j[10]-Et*Et*it,j[11]-Et*It*it,j[12]-It*ot*it,j[13]-It*_t*it,j[14]-It*Et*it,j[15]-It*It*it],Mt=st,bt=g.M4,Lt=[.5,.5,.5,.5],pt=0,Dt=0;if(nt!=0)for(var wt=0;wt<10&&(Lt=bt.multVec(Mt,Lt),Dt=Math.sqrt(bt.dot(Lt,Lt)),Lt=bt.sml(1/Dt,Lt),!(Math.abs(Dt-pt)<1e-9));wt++)pt=Dt;var Bt=[ot*it,_t*it,Et*it,It*it],jt=bt.dot(bt.sml(255,Bt),Lt),hr=Bt[3]<.001?0:1/Bt[3];return{Cov:st,q:Bt,e:Lt,L:pt,eMq255:jt,eMq:bt.dot(Lt,Bt),rgba:(Math.round(255*Bt[3])<<24|Math.round(255*Bt[2]*hr)<<16|Math.round(255*Bt[1]*hr)<<8|Math.round(255*Bt[0]*hr)<<0)>>>0}},g.M4={multVec:function($,j){return[$[0]*j[0]+$[1]*j[1]+$[2]*j[2]+$[3]*j[3],$[4]*j[0]+$[5]*j[1]+$[6]*j[2]+$[7]*j[3],$[8]*j[0]+$[9]*j[1]+$[10]*j[2]+$[11]*j[3],$[12]*j[0]+$[13]*j[1]+$[14]*j[2]+$[15]*j[3]]},dot:function($,j){return $[0]*j[0]+$[1]*j[1]+$[2]*j[2]+$[3]*j[3]},sml:function($,j){return[$*j[0],$*j[1],$*j[2],$*j[3]]}},g.encode.alphaMul=function($,j){for(var rt=new Uint8Array($.length),nt=$.length>>2,ot=0;ot<nt;ot++){var _t=ot<<2,Et=$[_t+3];j&&(Et=Et<128?0:255);var It=Et*(1/255);rt[_t+0]=$[_t+0]*It,rt[_t+1]=$[_t+1]*It,rt[_t+2]=$[_t+2]*It,rt[_t+3]=Et}return rt}}(c,h)})()},"./node_modules/upng-js/node_modules/pako/index.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,h=o("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),g=o("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),b=o("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),$={};c($,h,g,b),a.exports=$},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),h=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),g=o("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),b=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),j=Object.prototype.toString,rt=0,nt=4,ot=0,_t=1,Et=2,It=-1,it=0,st=8;function Mt(Dt){if(!(this instanceof Mt))return new Mt(Dt);this.options=h.assign({level:It,method:st,chunkSize:16384,windowBits:15,memLevel:8,strategy:it,to:""},Dt||{});var wt=this.options;wt.raw&&wt.windowBits>0?wt.windowBits=-wt.windowBits:wt.gzip&&wt.windowBits>0&&wt.windowBits<16&&(wt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $,this.strm.avail_out=0;var Bt=c.deflateInit2(this.strm,wt.level,wt.method,wt.windowBits,wt.memLevel,wt.strategy);if(Bt!==ot)throw new Error(b[Bt]);if(wt.header&&c.deflateSetHeader(this.strm,wt.header),wt.dictionary){var jt;if(typeof wt.dictionary=="string"?jt=g.string2buf(wt.dictionary):j.call(wt.dictionary)==="[object ArrayBuffer]"?jt=new Uint8Array(wt.dictionary):jt=wt.dictionary,Bt=c.deflateSetDictionary(this.strm,jt),Bt!==ot)throw new Error(b[Bt]);this._dict_set=!0}}Mt.prototype.push=function(Dt,wt){var Bt=this.strm,jt=this.options.chunkSize,hr,gr;if(this.ended)return!1;gr=wt===~~wt?wt:wt===!0?nt:rt,typeof Dt=="string"?Bt.input=g.string2buf(Dt):j.call(Dt)==="[object ArrayBuffer]"?Bt.input=new Uint8Array(Dt):Bt.input=Dt,Bt.next_in=0,Bt.avail_in=Bt.input.length;do{if(Bt.avail_out===0&&(Bt.output=new h.Buf8(jt),Bt.next_out=0,Bt.avail_out=jt),hr=c.deflate(Bt,gr),hr!==_t&&hr!==ot)return this.onEnd(hr),this.ended=!0,!1;(Bt.avail_out===0||Bt.avail_in===0&&(gr===nt||gr===Et))&&(this.options.to==="string"?this.onData(g.buf2binstring(h.shrinkBuf(Bt.output,Bt.next_out))):this.onData(h.shrinkBuf(Bt.output,Bt.next_out)))}while((Bt.avail_in>0||Bt.avail_out===0)&&hr!==_t);return gr===nt?(hr=c.deflateEnd(this.strm),this.onEnd(hr),this.ended=!0,hr===ot):(gr===Et&&(this.onEnd(ot),Bt.avail_out=0),!0)},Mt.prototype.onData=function(Dt){this.chunks.push(Dt)},Mt.prototype.onEnd=function(Dt){Dt===ot&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=Dt,this.msg=this.strm.msg};function bt(Dt,wt){var Bt=new Mt(wt);if(Bt.push(Dt,!0),Bt.err)throw Bt.msg||b[Bt.err];return Bt.result}function Lt(Dt,wt){return wt=wt||{},wt.raw=!0,bt(Dt,wt)}function pt(Dt,wt){return wt=wt||{},wt.gzip=!0,bt(Dt,wt)}e.Deflate=Mt,e.deflate=bt,e.deflateRaw=Lt,e.gzip=pt},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),h=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),g=o("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),b=o("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),j=o("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),rt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),nt=Object.prototype.toString;function ot(It){if(!(this instanceof ot))return new ot(It);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},It||{});var it=this.options;it.raw&&it.windowBits>=0&&it.windowBits<16&&(it.windowBits=-it.windowBits,it.windowBits===0&&(it.windowBits=-15)),it.windowBits>=0&&it.windowBits<16&&!(It&&It.windowBits)&&(it.windowBits+=32),it.windowBits>15&&it.windowBits<48&&(it.windowBits&15||(it.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var st=c.inflateInit2(this.strm,it.windowBits);if(st!==b.Z_OK)throw new Error($[st]);if(this.header=new rt,c.inflateGetHeader(this.strm,this.header),it.dictionary&&(typeof it.dictionary=="string"?it.dictionary=g.string2buf(it.dictionary):nt.call(it.dictionary)==="[object ArrayBuffer]"&&(it.dictionary=new Uint8Array(it.dictionary)),it.raw&&(st=c.inflateSetDictionary(this.strm,it.dictionary),st!==b.Z_OK)))throw new Error($[st])}ot.prototype.push=function(It,it){var st=this.strm,Mt=this.options.chunkSize,bt=this.options.dictionary,Lt,pt,Dt,wt,Bt,jt=!1;if(this.ended)return!1;pt=it===~~it?it:it===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof It=="string"?st.input=g.binstring2buf(It):nt.call(It)==="[object ArrayBuffer]"?st.input=new Uint8Array(It):st.input=It,st.next_in=0,st.avail_in=st.input.length;do{if(st.avail_out===0&&(st.output=new h.Buf8(Mt),st.next_out=0,st.avail_out=Mt),Lt=c.inflate(st,b.Z_NO_FLUSH),Lt===b.Z_NEED_DICT&&bt&&(Lt=c.inflateSetDictionary(this.strm,bt)),Lt===b.Z_BUF_ERROR&&jt===!0&&(Lt=b.Z_OK,jt=!1),Lt!==b.Z_STREAM_END&&Lt!==b.Z_OK)return this.onEnd(Lt),this.ended=!0,!1;st.next_out&&(st.avail_out===0||Lt===b.Z_STREAM_END||st.avail_in===0&&(pt===b.Z_FINISH||pt===b.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Dt=g.utf8border(st.output,st.next_out),wt=st.next_out-Dt,Bt=g.buf2string(st.output,Dt),st.next_out=wt,st.avail_out=Mt-wt,wt&&h.arraySet(st.output,st.output,Dt,wt,0),this.onData(Bt)):this.onData(h.shrinkBuf(st.output,st.next_out))),st.avail_in===0&&st.avail_out===0&&(jt=!0)}while((st.avail_in>0||st.avail_out===0)&&Lt!==b.Z_STREAM_END);return Lt===b.Z_STREAM_END&&(pt=b.Z_FINISH),pt===b.Z_FINISH?(Lt=c.inflateEnd(this.strm),this.onEnd(Lt),this.ended=!0,Lt===b.Z_OK):(pt===b.Z_SYNC_FLUSH&&(this.onEnd(b.Z_OK),st.avail_out=0),!0)},ot.prototype.onData=function(It){this.chunks.push(It)},ot.prototype.onEnd=function(It){It===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=It,this.msg=this.strm.msg};function _t(It,it){var st=new ot(it);if(st.push(It,!0),st.err)throw st.msg||$[st.err];return st.result}function Et(It,it){return it=it||{},it.raw=!0,_t(It,it)}e.Inflate=ot,e.inflate=_t,e.inflateRaw=Et,e.ungzip=_t},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(a,e)=>{var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(b,$){return Object.prototype.hasOwnProperty.call(b,$)}e.assign=function(b){for(var $=Array.prototype.slice.call(arguments,1);$.length;){var j=$.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(var rt in j)c(j,rt)&&(b[rt]=j[rt])}}return b},e.shrinkBuf=function(b,$){return b.length===$?b:b.subarray?b.subarray(0,$):(b.length=$,b)};var h={arraySet:function(b,$,j,rt,nt){if($.subarray&&b.subarray){b.set($.subarray(j,j+rt),nt);return}for(var ot=0;ot<rt;ot++)b[nt+ot]=$[j+ot]},flattenChunks:function(b){var $,j,rt,nt,ot,_t;for(rt=0,$=0,j=b.length;$<j;$++)rt+=b[$].length;for(_t=new Uint8Array(rt),nt=0,$=0,j=b.length;$<j;$++)ot=b[$],_t.set(ot,nt),nt+=ot.length;return _t}},g={arraySet:function(b,$,j,rt,nt){for(var ot=0;ot<rt;ot++)b[nt+ot]=$[j+ot]},flattenChunks:function(b){return[].concat.apply([],b)}};e.setTyped=function(b){b?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,h)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,g))},e.setTyped(o)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var b=new c.Buf8(256),$=0;$<256;$++)b[$]=$>=252?6:$>=248?5:$>=240?4:$>=224?3:$>=192?2:1;b[254]=b[254]=1,e.string2buf=function(rt){var nt,ot,_t,Et,It,it=rt.length,st=0;for(Et=0;Et<it;Et++)ot=rt.charCodeAt(Et),(ot&64512)===55296&&Et+1<it&&(_t=rt.charCodeAt(Et+1),(_t&64512)===56320&&(ot=65536+(ot-55296<<10)+(_t-56320),Et++)),st+=ot<128?1:ot<2048?2:ot<65536?3:4;for(nt=new c.Buf8(st),It=0,Et=0;It<st;Et++)ot=rt.charCodeAt(Et),(ot&64512)===55296&&Et+1<it&&(_t=rt.charCodeAt(Et+1),(_t&64512)===56320&&(ot=65536+(ot-55296<<10)+(_t-56320),Et++)),ot<128?nt[It++]=ot:ot<2048?(nt[It++]=192|ot>>>6,nt[It++]=128|ot&63):ot<65536?(nt[It++]=224|ot>>>12,nt[It++]=128|ot>>>6&63,nt[It++]=128|ot&63):(nt[It++]=240|ot>>>18,nt[It++]=128|ot>>>12&63,nt[It++]=128|ot>>>6&63,nt[It++]=128|ot&63);return nt};function j(rt,nt){if(nt<65534&&(rt.subarray&&g||!rt.subarray&&h))return String.fromCharCode.apply(null,c.shrinkBuf(rt,nt));for(var ot="",_t=0;_t<nt;_t++)ot+=String.fromCharCode(rt[_t]);return ot}e.buf2binstring=function(rt){return j(rt,rt.length)},e.binstring2buf=function(rt){for(var nt=new c.Buf8(rt.length),ot=0,_t=nt.length;ot<_t;ot++)nt[ot]=rt.charCodeAt(ot);return nt},e.buf2string=function(rt,nt){var ot,_t,Et,It,it=nt||rt.length,st=new Array(it*2);for(_t=0,ot=0;ot<it;){if(Et=rt[ot++],Et<128){st[_t++]=Et;continue}if(It=b[Et],It>4){st[_t++]=65533,ot+=It-1;continue}for(Et&=It===2?31:It===3?15:7;It>1&&ot<it;)Et=Et<<6|rt[ot++]&63,It--;if(It>1){st[_t++]=65533;continue}Et<65536?st[_t++]=Et:(Et-=65536,st[_t++]=55296|Et>>10&1023,st[_t++]=56320|Et&1023)}return j(st,_t)},e.utf8border=function(rt,nt){var ot;for(nt=nt||rt.length,nt>rt.length&&(nt=rt.length),ot=nt-1;ot>=0&&(rt[ot]&192)===128;)ot--;return ot<0||ot===0?nt:ot+b[rt[ot]]>nt?ot:nt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":a=>{function e(o,c,h,g){for(var b=o&65535|0,$=o>>>16&65535|0,j=0;h!==0;){j=h>2e3?2e3:h,h-=j;do b=b+c[g++]|0,$=$+b|0;while(--j);b%=65521,$%=65521}return b|$<<16|0}a.exports=e},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":a=>{a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":a=>{function e(){for(var h,g=[],b=0;b<256;b++){h=b;for(var $=0;$<8;$++)h=h&1?3988292384^h>>>1:h>>>1;g[b]=h}return g}var o=e();function c(h,g,b,$){var j=o,rt=$+b;h^=-1;for(var nt=$;nt<rt;nt++)h=h>>>8^j[(h^g[nt])&255];return h^-1}a.exports=c},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=o("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),g=o("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),b=o("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),j=0,rt=1,nt=3,ot=4,_t=5,Et=0,It=1,it=-2,st=-3,Mt=-5,bt=-1,Lt=1,pt=2,Dt=3,wt=4,Bt=0,jt=2,hr=8,gr=9,Cr=15,wr=8,yr=29,xr=256,In=xr+1+yr,rn=30,Sr=19,Tr=2*In+1,Ln=15,Fn=3,Or=258,Nn=Or+Fn+1,eo=32,uo=42,wo=69,bo=73,es=91,rs=103,vo=113,gs=666,cs=1,Gs=2,$n=3,Kn=4,Bn=3;function co(Er,ys){return Er.msg=$[ys],ys}function vs(Er){return(Er<<1)-(Er>4?9:0)}function Ts(Er){for(var ys=Er.length;--ys>=0;)Er[ys]=0}function Fs(Er){var ys=Er.state,fs=ys.pending;fs>Er.avail_out&&(fs=Er.avail_out),fs!==0&&(c.arraySet(Er.output,ys.pending_buf,ys.pending_out,fs,Er.next_out),Er.next_out+=fs,ys.pending_out+=fs,Er.total_out+=fs,Er.avail_out-=fs,ys.pending-=fs,ys.pending===0&&(ys.pending_out=0))}function Os(Er,ys){h._tr_flush_block(Er,Er.block_start>=0?Er.block_start:-1,Er.strstart-Er.block_start,ys),Er.block_start=Er.strstart,Fs(Er.strm)}function Ns(Er,ys){Er.pending_buf[Er.pending++]=ys}function Ps(Er,ys){Er.pending_buf[Er.pending++]=ys>>>8&255,Er.pending_buf[Er.pending++]=ys&255}function Ks(Er,ys,fs,Yn){var is=Er.avail_in;return is>Yn&&(is=Yn),is===0?0:(Er.avail_in-=is,c.arraySet(ys,Er.input,Er.next_in,is,fs),Er.state.wrap===1?Er.adler=g(Er.adler,ys,is,fs):Er.state.wrap===2&&(Er.adler=b(Er.adler,ys,is,fs)),Er.next_in+=is,Er.total_in+=is,is)}function Bs(Er,ys){var fs=Er.max_chain_length,Yn=Er.strstart,is,Es,zs=Er.prev_length,Js=Er.nice_match,Hs=Er.strstart>Er.w_size-Nn?Er.strstart-(Er.w_size-Nn):0,Al=Er.window,Zl=Er.w_mask,Ll=Er.prev,Wl=Er.strstart+Or,Xl=Al[Yn+zs-1],yu=Al[Yn+zs];Er.prev_length>=Er.good_match&&(fs>>=2),Js>Er.lookahead&&(Js=Er.lookahead);do if(is=ys,!(Al[is+zs]!==yu||Al[is+zs-1]!==Xl||Al[is]!==Al[Yn]||Al[++is]!==Al[Yn+1])){Yn+=2,is++;do;while(Al[++Yn]===Al[++is]&&Al[++Yn]===Al[++is]&&Al[++Yn]===Al[++is]&&Al[++Yn]===Al[++is]&&Al[++Yn]===Al[++is]&&Al[++Yn]===Al[++is]&&Al[++Yn]===Al[++is]&&Al[++Yn]===Al[++is]&&Yn<Wl);if(Es=Or-(Wl-Yn),Yn=Wl-Or,Es>zs){if(Er.match_start=ys,zs=Es,Es>=Js)break;Xl=Al[Yn+zs-1],yu=Al[Yn+zs]}}while((ys=Ll[ys&Zl])>Hs&&--fs!==0);return zs<=Er.lookahead?zs:Er.lookahead}function _l(Er){var ys=Er.w_size,fs,Yn,is,Es,zs;do{if(Es=Er.window_size-Er.lookahead-Er.strstart,Er.strstart>=ys+(ys-Nn)){c.arraySet(Er.window,Er.window,ys,ys,0),Er.match_start-=ys,Er.strstart-=ys,Er.block_start-=ys,Yn=Er.hash_size,fs=Yn;do is=Er.head[--fs],Er.head[fs]=is>=ys?is-ys:0;while(--Yn);Yn=ys,fs=Yn;do is=Er.prev[--fs],Er.prev[fs]=is>=ys?is-ys:0;while(--Yn);Es+=ys}if(Er.strm.avail_in===0)break;if(Yn=Ks(Er.strm,Er.window,Er.strstart+Er.lookahead,Es),Er.lookahead+=Yn,Er.lookahead+Er.insert>=Fn)for(zs=Er.strstart-Er.insert,Er.ins_h=Er.window[zs],Er.ins_h=(Er.ins_h<<Er.hash_shift^Er.window[zs+1])&Er.hash_mask;Er.insert&&(Er.ins_h=(Er.ins_h<<Er.hash_shift^Er.window[zs+Fn-1])&Er.hash_mask,Er.prev[zs&Er.w_mask]=Er.head[Er.ins_h],Er.head[Er.ins_h]=zs,zs++,Er.insert--,!(Er.lookahead+Er.insert<Fn)););}while(Er.lookahead<Nn&&Er.strm.avail_in!==0)}function Cl(Er,ys){var fs=65535;for(fs>Er.pending_buf_size-5&&(fs=Er.pending_buf_size-5);;){if(Er.lookahead<=1){if(_l(Er),Er.lookahead===0&&ys===j)return cs;if(Er.lookahead===0)break}Er.strstart+=Er.lookahead,Er.lookahead=0;var Yn=Er.block_start+fs;if((Er.strstart===0||Er.strstart>=Yn)&&(Er.lookahead=Er.strstart-Yn,Er.strstart=Yn,Os(Er,!1),Er.strm.avail_out===0)||Er.strstart-Er.block_start>=Er.w_size-Nn&&(Os(Er,!1),Er.strm.avail_out===0))return cs}return Er.insert=0,ys===ot?(Os(Er,!0),Er.strm.avail_out===0?$n:Kn):(Er.strstart>Er.block_start&&(Os(Er,!1),Er.strm.avail_out),cs)}function Zn(Er,ys){for(var fs,Yn;;){if(Er.lookahead<Nn){if(_l(Er),Er.lookahead<Nn&&ys===j)return cs;if(Er.lookahead===0)break}if(fs=0,Er.lookahead>=Fn&&(Er.ins_h=(Er.ins_h<<Er.hash_shift^Er.window[Er.strstart+Fn-1])&Er.hash_mask,fs=Er.prev[Er.strstart&Er.w_mask]=Er.head[Er.ins_h],Er.head[Er.ins_h]=Er.strstart),fs!==0&&Er.strstart-fs<=Er.w_size-Nn&&(Er.match_length=Bs(Er,fs)),Er.match_length>=Fn)if(Yn=h._tr_tally(Er,Er.strstart-Er.match_start,Er.match_length-Fn),Er.lookahead-=Er.match_length,Er.match_length<=Er.max_lazy_match&&Er.lookahead>=Fn){Er.match_length--;do Er.strstart++,Er.ins_h=(Er.ins_h<<Er.hash_shift^Er.window[Er.strstart+Fn-1])&Er.hash_mask,fs=Er.prev[Er.strstart&Er.w_mask]=Er.head[Er.ins_h],Er.head[Er.ins_h]=Er.strstart;while(--Er.match_length!==0);Er.strstart++}else Er.strstart+=Er.match_length,Er.match_length=0,Er.ins_h=Er.window[Er.strstart],Er.ins_h=(Er.ins_h<<Er.hash_shift^Er.window[Er.strstart+1])&Er.hash_mask;else Yn=h._tr_tally(Er,0,Er.window[Er.strstart]),Er.lookahead--,Er.strstart++;if(Yn&&(Os(Er,!1),Er.strm.avail_out===0))return cs}return Er.insert=Er.strstart<Fn-1?Er.strstart:Fn-1,ys===ot?(Os(Er,!0),Er.strm.avail_out===0?$n:Kn):Er.last_lit&&(Os(Er,!1),Er.strm.avail_out===0)?cs:Gs}function Vn(Er,ys){for(var fs,Yn,is;;){if(Er.lookahead<Nn){if(_l(Er),Er.lookahead<Nn&&ys===j)return cs;if(Er.lookahead===0)break}if(fs=0,Er.lookahead>=Fn&&(Er.ins_h=(Er.ins_h<<Er.hash_shift^Er.window[Er.strstart+Fn-1])&Er.hash_mask,fs=Er.prev[Er.strstart&Er.w_mask]=Er.head[Er.ins_h],Er.head[Er.ins_h]=Er.strstart),Er.prev_length=Er.match_length,Er.prev_match=Er.match_start,Er.match_length=Fn-1,fs!==0&&Er.prev_length<Er.max_lazy_match&&Er.strstart-fs<=Er.w_size-Nn&&(Er.match_length=Bs(Er,fs),Er.match_length<=5&&(Er.strategy===Lt||Er.match_length===Fn&&Er.strstart-Er.match_start>4096)&&(Er.match_length=Fn-1)),Er.prev_length>=Fn&&Er.match_length<=Er.prev_length){is=Er.strstart+Er.lookahead-Fn,Yn=h._tr_tally(Er,Er.strstart-1-Er.prev_match,Er.prev_length-Fn),Er.lookahead-=Er.prev_length-1,Er.prev_length-=2;do++Er.strstart<=is&&(Er.ins_h=(Er.ins_h<<Er.hash_shift^Er.window[Er.strstart+Fn-1])&Er.hash_mask,fs=Er.prev[Er.strstart&Er.w_mask]=Er.head[Er.ins_h],Er.head[Er.ins_h]=Er.strstart);while(--Er.prev_length!==0);if(Er.match_available=0,Er.match_length=Fn-1,Er.strstart++,Yn&&(Os(Er,!1),Er.strm.avail_out===0))return cs}else if(Er.match_available){if(Yn=h._tr_tally(Er,0,Er.window[Er.strstart-1]),Yn&&Os(Er,!1),Er.strstart++,Er.lookahead--,Er.strm.avail_out===0)return cs}else Er.match_available=1,Er.strstart++,Er.lookahead--}return Er.match_available&&(Yn=h._tr_tally(Er,0,Er.window[Er.strstart-1]),Er.match_available=0),Er.insert=Er.strstart<Fn-1?Er.strstart:Fn-1,ys===ot?(Os(Er,!0),Er.strm.avail_out===0?$n:Kn):Er.last_lit&&(Os(Er,!1),Er.strm.avail_out===0)?cs:Gs}function qn(Er,ys){for(var fs,Yn,is,Es,zs=Er.window;;){if(Er.lookahead<=Or){if(_l(Er),Er.lookahead<=Or&&ys===j)return cs;if(Er.lookahead===0)break}if(Er.match_length=0,Er.lookahead>=Fn&&Er.strstart>0&&(is=Er.strstart-1,Yn=zs[is],Yn===zs[++is]&&Yn===zs[++is]&&Yn===zs[++is])){Es=Er.strstart+Or;do;while(Yn===zs[++is]&&Yn===zs[++is]&&Yn===zs[++is]&&Yn===zs[++is]&&Yn===zs[++is]&&Yn===zs[++is]&&Yn===zs[++is]&&Yn===zs[++is]&&is<Es);Er.match_length=Or-(Es-is),Er.match_length>Er.lookahead&&(Er.match_length=Er.lookahead)}if(Er.match_length>=Fn?(fs=h._tr_tally(Er,1,Er.match_length-Fn),Er.lookahead-=Er.match_length,Er.strstart+=Er.match_length,Er.match_length=0):(fs=h._tr_tally(Er,0,Er.window[Er.strstart]),Er.lookahead--,Er.strstart++),fs&&(Os(Er,!1),Er.strm.avail_out===0))return cs}return Er.insert=0,ys===ot?(Os(Er,!0),Er.strm.avail_out===0?$n:Kn):Er.last_lit&&(Os(Er,!1),Er.strm.avail_out===0)?cs:Gs}function hs(Er,ys){for(var fs;;){if(Er.lookahead===0&&(_l(Er),Er.lookahead===0)){if(ys===j)return cs;break}if(Er.match_length=0,fs=h._tr_tally(Er,0,Er.window[Er.strstart]),Er.lookahead--,Er.strstart++,fs&&(Os(Er,!1),Er.strm.avail_out===0))return cs}return Er.insert=0,ys===ot?(Os(Er,!0),Er.strm.avail_out===0?$n:Kn):Er.last_lit&&(Os(Er,!1),Er.strm.avail_out===0)?cs:Gs}function us(Er,ys,fs,Yn,is){this.good_length=Er,this.max_lazy=ys,this.nice_length=fs,this.max_chain=Yn,this.func=is}var xs;xs=[new us(0,0,0,0,Cl),new us(4,4,8,4,Zn),new us(4,5,16,8,Zn),new us(4,6,32,32,Zn),new us(4,4,16,16,Vn),new us(8,16,32,32,Vn),new us(8,16,128,128,Vn),new us(8,32,128,256,Vn),new us(32,128,258,1024,Vn),new us(32,258,258,4096,Vn)];function Rs(Er){Er.window_size=2*Er.w_size,Ts(Er.head),Er.max_lazy_match=xs[Er.level].max_lazy,Er.good_match=xs[Er.level].good_length,Er.nice_match=xs[Er.level].nice_length,Er.max_chain_length=xs[Er.level].max_chain,Er.strstart=0,Er.block_start=0,Er.lookahead=0,Er.insert=0,Er.match_length=Er.prev_length=Fn-1,Er.match_available=0,Er.ins_h=0}function zn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(Tr*2),this.dyn_dtree=new c.Buf16((2*rn+1)*2),this.bl_tree=new c.Buf16((2*Sr+1)*2),Ts(this.dyn_ltree),Ts(this.dyn_dtree),Ts(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(Ln+1),this.heap=new c.Buf16(2*In+1),Ts(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*In+1),Ts(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ds(Er){var ys;return!Er||!Er.state?co(Er,it):(Er.total_in=Er.total_out=0,Er.data_type=jt,ys=Er.state,ys.pending=0,ys.pending_out=0,ys.wrap<0&&(ys.wrap=-ys.wrap),ys.status=ys.wrap?uo:vo,Er.adler=ys.wrap===2?0:1,ys.last_flush=j,h._tr_init(ys),Et)}function _s(Er){var ys=ds(Er);return ys===Et&&Rs(Er.state),ys}function ks(Er,ys){return!Er||!Er.state||Er.state.wrap!==2?it:(Er.state.gzhead=ys,Et)}function as(Er,ys,fs,Yn,is,Es){if(!Er)return it;var zs=1;if(ys===bt&&(ys=6),Yn<0?(zs=0,Yn=-Yn):Yn>15&&(zs=2,Yn-=16),is<1||is>gr||fs!==hr||Yn<8||Yn>15||ys<0||ys>9||Es<0||Es>wt)return co(Er,it);Yn===8&&(Yn=9);var Js=new zn;return Er.state=Js,Js.strm=Er,Js.wrap=zs,Js.gzhead=null,Js.w_bits=Yn,Js.w_size=1<<Js.w_bits,Js.w_mask=Js.w_size-1,Js.hash_bits=is+7,Js.hash_size=1<<Js.hash_bits,Js.hash_mask=Js.hash_size-1,Js.hash_shift=~~((Js.hash_bits+Fn-1)/Fn),Js.window=new c.Buf8(Js.w_size*2),Js.head=new c.Buf16(Js.hash_size),Js.prev=new c.Buf16(Js.w_size),Js.lit_bufsize=1<<is+6,Js.pending_buf_size=Js.lit_bufsize*4,Js.pending_buf=new c.Buf8(Js.pending_buf_size),Js.d_buf=1*Js.lit_bufsize,Js.l_buf=3*Js.lit_bufsize,Js.level=ys,Js.strategy=Es,Js.method=fs,_s(Er)}function Ls(Er,ys){return as(Er,ys,hr,Cr,wr,Bt)}function Un(Er,ys){var fs,Yn,is,Es;if(!Er||!Er.state||ys>_t||ys<0)return Er?co(Er,it):it;if(Yn=Er.state,!Er.output||!Er.input&&Er.avail_in!==0||Yn.status===gs&&ys!==ot)return co(Er,Er.avail_out===0?Mt:it);if(Yn.strm=Er,fs=Yn.last_flush,Yn.last_flush=ys,Yn.status===uo)if(Yn.wrap===2)Er.adler=0,Ns(Yn,31),Ns(Yn,139),Ns(Yn,8),Yn.gzhead?(Ns(Yn,(Yn.gzhead.text?1:0)+(Yn.gzhead.hcrc?2:0)+(Yn.gzhead.extra?4:0)+(Yn.gzhead.name?8:0)+(Yn.gzhead.comment?16:0)),Ns(Yn,Yn.gzhead.time&255),Ns(Yn,Yn.gzhead.time>>8&255),Ns(Yn,Yn.gzhead.time>>16&255),Ns(Yn,Yn.gzhead.time>>24&255),Ns(Yn,Yn.level===9?2:Yn.strategy>=pt||Yn.level<2?4:0),Ns(Yn,Yn.gzhead.os&255),Yn.gzhead.extra&&Yn.gzhead.extra.length&&(Ns(Yn,Yn.gzhead.extra.length&255),Ns(Yn,Yn.gzhead.extra.length>>8&255)),Yn.gzhead.hcrc&&(Er.adler=b(Er.adler,Yn.pending_buf,Yn.pending,0)),Yn.gzindex=0,Yn.status=wo):(Ns(Yn,0),Ns(Yn,0),Ns(Yn,0),Ns(Yn,0),Ns(Yn,0),Ns(Yn,Yn.level===9?2:Yn.strategy>=pt||Yn.level<2?4:0),Ns(Yn,Bn),Yn.status=vo);else{var zs=hr+(Yn.w_bits-8<<4)<<8,Js=-1;Yn.strategy>=pt||Yn.level<2?Js=0:Yn.level<6?Js=1:Yn.level===6?Js=2:Js=3,zs|=Js<<6,Yn.strstart!==0&&(zs|=eo),zs+=31-zs%31,Yn.status=vo,Ps(Yn,zs),Yn.strstart!==0&&(Ps(Yn,Er.adler>>>16),Ps(Yn,Er.adler&65535)),Er.adler=1}if(Yn.status===wo)if(Yn.gzhead.extra){for(is=Yn.pending;Yn.gzindex<(Yn.gzhead.extra.length&65535)&&!(Yn.pending===Yn.pending_buf_size&&(Yn.gzhead.hcrc&&Yn.pending>is&&(Er.adler=b(Er.adler,Yn.pending_buf,Yn.pending-is,is)),Fs(Er),is=Yn.pending,Yn.pending===Yn.pending_buf_size));)Ns(Yn,Yn.gzhead.extra[Yn.gzindex]&255),Yn.gzindex++;Yn.gzhead.hcrc&&Yn.pending>is&&(Er.adler=b(Er.adler,Yn.pending_buf,Yn.pending-is,is)),Yn.gzindex===Yn.gzhead.extra.length&&(Yn.gzindex=0,Yn.status=bo)}else Yn.status=bo;if(Yn.status===bo)if(Yn.gzhead.name){is=Yn.pending;do{if(Yn.pending===Yn.pending_buf_size&&(Yn.gzhead.hcrc&&Yn.pending>is&&(Er.adler=b(Er.adler,Yn.pending_buf,Yn.pending-is,is)),Fs(Er),is=Yn.pending,Yn.pending===Yn.pending_buf_size)){Es=1;break}Yn.gzindex<Yn.gzhead.name.length?Es=Yn.gzhead.name.charCodeAt(Yn.gzindex++)&255:Es=0,Ns(Yn,Es)}while(Es!==0);Yn.gzhead.hcrc&&Yn.pending>is&&(Er.adler=b(Er.adler,Yn.pending_buf,Yn.pending-is,is)),Es===0&&(Yn.gzindex=0,Yn.status=es)}else Yn.status=es;if(Yn.status===es)if(Yn.gzhead.comment){is=Yn.pending;do{if(Yn.pending===Yn.pending_buf_size&&(Yn.gzhead.hcrc&&Yn.pending>is&&(Er.adler=b(Er.adler,Yn.pending_buf,Yn.pending-is,is)),Fs(Er),is=Yn.pending,Yn.pending===Yn.pending_buf_size)){Es=1;break}Yn.gzindex<Yn.gzhead.comment.length?Es=Yn.gzhead.comment.charCodeAt(Yn.gzindex++)&255:Es=0,Ns(Yn,Es)}while(Es!==0);Yn.gzhead.hcrc&&Yn.pending>is&&(Er.adler=b(Er.adler,Yn.pending_buf,Yn.pending-is,is)),Es===0&&(Yn.status=rs)}else Yn.status=rs;if(Yn.status===rs&&(Yn.gzhead.hcrc?(Yn.pending+2>Yn.pending_buf_size&&Fs(Er),Yn.pending+2<=Yn.pending_buf_size&&(Ns(Yn,Er.adler&255),Ns(Yn,Er.adler>>8&255),Er.adler=0,Yn.status=vo)):Yn.status=vo),Yn.pending!==0){if(Fs(Er),Er.avail_out===0)return Yn.last_flush=-1,Et}else if(Er.avail_in===0&&vs(ys)<=vs(fs)&&ys!==ot)return co(Er,Mt);if(Yn.status===gs&&Er.avail_in!==0)return co(Er,Mt);if(Er.avail_in!==0||Yn.lookahead!==0||ys!==j&&Yn.status!==gs){var Hs=Yn.strategy===pt?hs(Yn,ys):Yn.strategy===Dt?qn(Yn,ys):xs[Yn.level].func(Yn,ys);if((Hs===$n||Hs===Kn)&&(Yn.status=gs),Hs===cs||Hs===$n)return Er.avail_out===0&&(Yn.last_flush=-1),Et;if(Hs===Gs&&(ys===rt?h._tr_align(Yn):ys!==_t&&(h._tr_stored_block(Yn,0,0,!1),ys===nt&&(Ts(Yn.head),Yn.lookahead===0&&(Yn.strstart=0,Yn.block_start=0,Yn.insert=0))),Fs(Er),Er.avail_out===0))return Yn.last_flush=-1,Et}return ys!==ot?Et:Yn.wrap<=0?It:(Yn.wrap===2?(Ns(Yn,Er.adler&255),Ns(Yn,Er.adler>>8&255),Ns(Yn,Er.adler>>16&255),Ns(Yn,Er.adler>>24&255),Ns(Yn,Er.total_in&255),Ns(Yn,Er.total_in>>8&255),Ns(Yn,Er.total_in>>16&255),Ns(Yn,Er.total_in>>24&255)):(Ps(Yn,Er.adler>>>16),Ps(Yn,Er.adler&65535)),Fs(Er),Yn.wrap>0&&(Yn.wrap=-Yn.wrap),Yn.pending!==0?Et:It)}function As(Er){var ys;return!Er||!Er.state?it:(ys=Er.state.status,ys!==uo&&ys!==wo&&ys!==bo&&ys!==es&&ys!==rs&&ys!==vo&&ys!==gs?co(Er,it):(Er.state=null,ys===vo?co(Er,st):Et))}function yl(Er,ys){var fs=ys.length,Yn,is,Es,zs,Js,Hs,Al,Zl;if(!Er||!Er.state||(Yn=Er.state,zs=Yn.wrap,zs===2||zs===1&&Yn.status!==uo||Yn.lookahead))return it;for(zs===1&&(Er.adler=g(Er.adler,ys,fs,0)),Yn.wrap=0,fs>=Yn.w_size&&(zs===0&&(Ts(Yn.head),Yn.strstart=0,Yn.block_start=0,Yn.insert=0),Zl=new c.Buf8(Yn.w_size),c.arraySet(Zl,ys,fs-Yn.w_size,Yn.w_size,0),ys=Zl,fs=Yn.w_size),Js=Er.avail_in,Hs=Er.next_in,Al=Er.input,Er.avail_in=fs,Er.next_in=0,Er.input=ys,_l(Yn);Yn.lookahead>=Fn;){is=Yn.strstart,Es=Yn.lookahead-(Fn-1);do Yn.ins_h=(Yn.ins_h<<Yn.hash_shift^Yn.window[is+Fn-1])&Yn.hash_mask,Yn.prev[is&Yn.w_mask]=Yn.head[Yn.ins_h],Yn.head[Yn.ins_h]=is,is++;while(--Es);Yn.strstart=is,Yn.lookahead=Fn-1,_l(Yn)}return Yn.strstart+=Yn.lookahead,Yn.block_start=Yn.strstart,Yn.insert=Yn.lookahead,Yn.lookahead=0,Yn.match_length=Yn.prev_length=Fn-1,Yn.match_available=0,Er.next_in=Hs,Er.input=Al,Er.avail_in=Js,Yn.wrap=zs,Et}e.deflateInit=Ls,e.deflateInit2=as,e.deflateReset=_s,e.deflateResetKeep=ds,e.deflateSetHeader=ks,e.deflate=Un,e.deflateEnd=As,e.deflateSetDictionary=yl,e.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":a=>{function e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a.exports=e},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":a=>{var e=30,o=12;a.exports=function(c,h){var g,b,$,j,rt,nt,ot,_t,Et,It,it,st,Mt,bt,Lt,pt,Dt,wt,Bt,jt,hr,gr,Cr,wr,yr;g=c.state,b=c.next_in,wr=c.input,$=b+(c.avail_in-5),j=c.next_out,yr=c.output,rt=j-(h-c.avail_out),nt=j+(c.avail_out-257),ot=g.dmax,_t=g.wsize,Et=g.whave,It=g.wnext,it=g.window,st=g.hold,Mt=g.bits,bt=g.lencode,Lt=g.distcode,pt=(1<<g.lenbits)-1,Dt=(1<<g.distbits)-1;e:do{Mt<15&&(st+=wr[b++]<<Mt,Mt+=8,st+=wr[b++]<<Mt,Mt+=8),wt=bt[st&pt];t:for(;;){if(Bt=wt>>>24,st>>>=Bt,Mt-=Bt,Bt=wt>>>16&255,Bt===0)yr[j++]=wt&65535;else if(Bt&16){jt=wt&65535,Bt&=15,Bt&&(Mt<Bt&&(st+=wr[b++]<<Mt,Mt+=8),jt+=st&(1<<Bt)-1,st>>>=Bt,Mt-=Bt),Mt<15&&(st+=wr[b++]<<Mt,Mt+=8,st+=wr[b++]<<Mt,Mt+=8),wt=Lt[st&Dt];r:for(;;){if(Bt=wt>>>24,st>>>=Bt,Mt-=Bt,Bt=wt>>>16&255,Bt&16){if(hr=wt&65535,Bt&=15,Mt<Bt&&(st+=wr[b++]<<Mt,Mt+=8,Mt<Bt&&(st+=wr[b++]<<Mt,Mt+=8)),hr+=st&(1<<Bt)-1,hr>ot){c.msg="invalid distance too far back",g.mode=e;break e}if(st>>>=Bt,Mt-=Bt,Bt=j-rt,hr>Bt){if(Bt=hr-Bt,Bt>Et&&g.sane){c.msg="invalid distance too far back",g.mode=e;break e}if(gr=0,Cr=it,It===0){if(gr+=_t-Bt,Bt<jt){jt-=Bt;do yr[j++]=it[gr++];while(--Bt);gr=j-hr,Cr=yr}}else if(It<Bt){if(gr+=_t+It-Bt,Bt-=It,Bt<jt){jt-=Bt;do yr[j++]=it[gr++];while(--Bt);if(gr=0,It<jt){Bt=It,jt-=Bt;do yr[j++]=it[gr++];while(--Bt);gr=j-hr,Cr=yr}}}else if(gr+=It-Bt,Bt<jt){jt-=Bt;do yr[j++]=it[gr++];while(--Bt);gr=j-hr,Cr=yr}for(;jt>2;)yr[j++]=Cr[gr++],yr[j++]=Cr[gr++],yr[j++]=Cr[gr++],jt-=3;jt&&(yr[j++]=Cr[gr++],jt>1&&(yr[j++]=Cr[gr++]))}else{gr=j-hr;do yr[j++]=yr[gr++],yr[j++]=yr[gr++],yr[j++]=yr[gr++],jt-=3;while(jt>2);jt&&(yr[j++]=yr[gr++],jt>1&&(yr[j++]=yr[gr++]))}}else if(Bt&64){c.msg="invalid distance code",g.mode=e;break e}else{wt=Lt[(wt&65535)+(st&(1<<Bt)-1)];continue r}break}}else if(Bt&64)if(Bt&32){g.mode=o;break e}else{c.msg="invalid literal/length code",g.mode=e;break e}else{wt=bt[(wt&65535)+(st&(1<<Bt)-1)];continue t}break}}while(b<$&&j<nt);jt=Mt>>3,b-=jt,Mt-=jt<<3,st&=(1<<Mt)-1,c.next_in=b,c.next_out=j,c.avail_in=b<$?5+($-b):5-(b-$),c.avail_out=j<nt?257+(nt-j):257-(j-nt),g.hold=st,g.bits=Mt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=o("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),g=o("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),b=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),j=0,rt=1,nt=2,ot=4,_t=5,Et=6,It=0,it=1,st=2,Mt=-2,bt=-3,Lt=-4,pt=-5,Dt=8,wt=1,Bt=2,jt=3,hr=4,gr=5,Cr=6,wr=7,yr=8,xr=9,In=10,rn=11,Sr=12,Tr=13,Ln=14,Fn=15,Or=16,Nn=17,eo=18,uo=19,wo=20,bo=21,es=22,rs=23,vo=24,gs=25,cs=26,Gs=27,$n=28,Kn=29,Bn=30,co=31,vs=32,Ts=852,Fs=592,Os=15,Ns=Os;function Ps(as){return(as>>>24&255)+(as>>>8&65280)+((as&65280)<<8)+((as&255)<<24)}function Ks(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Bs(as){var Ls;return!as||!as.state?Mt:(Ls=as.state,as.total_in=as.total_out=Ls.total=0,as.msg="",Ls.wrap&&(as.adler=Ls.wrap&1),Ls.mode=wt,Ls.last=0,Ls.havedict=0,Ls.dmax=32768,Ls.head=null,Ls.hold=0,Ls.bits=0,Ls.lencode=Ls.lendyn=new c.Buf32(Ts),Ls.distcode=Ls.distdyn=new c.Buf32(Fs),Ls.sane=1,Ls.back=-1,It)}function _l(as){var Ls;return!as||!as.state?Mt:(Ls=as.state,Ls.wsize=0,Ls.whave=0,Ls.wnext=0,Bs(as))}function Cl(as,Ls){var Un,As;return!as||!as.state||(As=as.state,Ls<0?(Un=0,Ls=-Ls):(Un=(Ls>>4)+1,Ls<48&&(Ls&=15)),Ls&&(Ls<8||Ls>15))?Mt:(As.window!==null&&As.wbits!==Ls&&(As.window=null),As.wrap=Un,As.wbits=Ls,_l(as))}function Zn(as,Ls){var Un,As;return as?(As=new Ks,as.state=As,As.window=null,Un=Cl(as,Ls),Un!==It&&(as.state=null),Un):Mt}function Vn(as){return Zn(as,Ns)}var qn=!0,hs,us;function xs(as){if(qn){var Ls;for(hs=new c.Buf32(512),us=new c.Buf32(32),Ls=0;Ls<144;)as.lens[Ls++]=8;for(;Ls<256;)as.lens[Ls++]=9;for(;Ls<280;)as.lens[Ls++]=7;for(;Ls<288;)as.lens[Ls++]=8;for($(rt,as.lens,0,288,hs,0,as.work,{bits:9}),Ls=0;Ls<32;)as.lens[Ls++]=5;$(nt,as.lens,0,32,us,0,as.work,{bits:5}),qn=!1}as.lencode=hs,as.lenbits=9,as.distcode=us,as.distbits=5}function Rs(as,Ls,Un,As){var yl,Er=as.state;return Er.window===null&&(Er.wsize=1<<Er.wbits,Er.wnext=0,Er.whave=0,Er.window=new c.Buf8(Er.wsize)),As>=Er.wsize?(c.arraySet(Er.window,Ls,Un-Er.wsize,Er.wsize,0),Er.wnext=0,Er.whave=Er.wsize):(yl=Er.wsize-Er.wnext,yl>As&&(yl=As),c.arraySet(Er.window,Ls,Un-As,yl,Er.wnext),As-=yl,As?(c.arraySet(Er.window,Ls,Un-As,As,0),Er.wnext=As,Er.whave=Er.wsize):(Er.wnext+=yl,Er.wnext===Er.wsize&&(Er.wnext=0),Er.whave<Er.wsize&&(Er.whave+=yl))),0}function zn(as,Ls){var Un,As,yl,Er,ys,fs,Yn,is,Es,zs,Js,Hs,Al,Zl,Ll=0,Wl,Xl,yu,lu,zu,Uu,tu,au,uu=new c.Buf8(4),gu,bu,Mu=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!as||!as.state||!as.output||!as.input&&as.avail_in!==0)return Mt;Un=as.state,Un.mode===Sr&&(Un.mode=Tr),ys=as.next_out,yl=as.output,Yn=as.avail_out,Er=as.next_in,As=as.input,fs=as.avail_in,is=Un.hold,Es=Un.bits,zs=fs,Js=Yn,au=It;e:for(;;)switch(Un.mode){case wt:if(Un.wrap===0){Un.mode=Tr;break}for(;Es<16;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(Un.wrap&2&&is===35615){Un.check=0,uu[0]=is&255,uu[1]=is>>>8&255,Un.check=g(Un.check,uu,2,0),is=0,Es=0,Un.mode=Bt;break}if(Un.flags=0,Un.head&&(Un.head.done=!1),!(Un.wrap&1)||(((is&255)<<8)+(is>>8))%31){as.msg="incorrect header check",Un.mode=Bn;break}if((is&15)!==Dt){as.msg="unknown compression method",Un.mode=Bn;break}if(is>>>=4,Es-=4,tu=(is&15)+8,Un.wbits===0)Un.wbits=tu;else if(tu>Un.wbits){as.msg="invalid window size",Un.mode=Bn;break}Un.dmax=1<<tu,as.adler=Un.check=1,Un.mode=is&512?In:Sr,is=0,Es=0;break;case Bt:for(;Es<16;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(Un.flags=is,(Un.flags&255)!==Dt){as.msg="unknown compression method",Un.mode=Bn;break}if(Un.flags&57344){as.msg="unknown header flags set",Un.mode=Bn;break}Un.head&&(Un.head.text=is>>8&1),Un.flags&512&&(uu[0]=is&255,uu[1]=is>>>8&255,Un.check=g(Un.check,uu,2,0)),is=0,Es=0,Un.mode=jt;case jt:for(;Es<32;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}Un.head&&(Un.head.time=is),Un.flags&512&&(uu[0]=is&255,uu[1]=is>>>8&255,uu[2]=is>>>16&255,uu[3]=is>>>24&255,Un.check=g(Un.check,uu,4,0)),is=0,Es=0,Un.mode=hr;case hr:for(;Es<16;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}Un.head&&(Un.head.xflags=is&255,Un.head.os=is>>8),Un.flags&512&&(uu[0]=is&255,uu[1]=is>>>8&255,Un.check=g(Un.check,uu,2,0)),is=0,Es=0,Un.mode=gr;case gr:if(Un.flags&1024){for(;Es<16;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}Un.length=is,Un.head&&(Un.head.extra_len=is),Un.flags&512&&(uu[0]=is&255,uu[1]=is>>>8&255,Un.check=g(Un.check,uu,2,0)),is=0,Es=0}else Un.head&&(Un.head.extra=null);Un.mode=Cr;case Cr:if(Un.flags&1024&&(Hs=Un.length,Hs>fs&&(Hs=fs),Hs&&(Un.head&&(tu=Un.head.extra_len-Un.length,Un.head.extra||(Un.head.extra=new Array(Un.head.extra_len)),c.arraySet(Un.head.extra,As,Er,Hs,tu)),Un.flags&512&&(Un.check=g(Un.check,As,Hs,Er)),fs-=Hs,Er+=Hs,Un.length-=Hs),Un.length))break e;Un.length=0,Un.mode=wr;case wr:if(Un.flags&2048){if(fs===0)break e;Hs=0;do tu=As[Er+Hs++],Un.head&&tu&&Un.length<65536&&(Un.head.name+=String.fromCharCode(tu));while(tu&&Hs<fs);if(Un.flags&512&&(Un.check=g(Un.check,As,Hs,Er)),fs-=Hs,Er+=Hs,tu)break e}else Un.head&&(Un.head.name=null);Un.length=0,Un.mode=yr;case yr:if(Un.flags&4096){if(fs===0)break e;Hs=0;do tu=As[Er+Hs++],Un.head&&tu&&Un.length<65536&&(Un.head.comment+=String.fromCharCode(tu));while(tu&&Hs<fs);if(Un.flags&512&&(Un.check=g(Un.check,As,Hs,Er)),fs-=Hs,Er+=Hs,tu)break e}else Un.head&&(Un.head.comment=null);Un.mode=xr;case xr:if(Un.flags&512){for(;Es<16;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(is!==(Un.check&65535)){as.msg="header crc mismatch",Un.mode=Bn;break}is=0,Es=0}Un.head&&(Un.head.hcrc=Un.flags>>9&1,Un.head.done=!0),as.adler=Un.check=0,Un.mode=Sr;break;case In:for(;Es<32;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}as.adler=Un.check=Ps(is),is=0,Es=0,Un.mode=rn;case rn:if(Un.havedict===0)return as.next_out=ys,as.avail_out=Yn,as.next_in=Er,as.avail_in=fs,Un.hold=is,Un.bits=Es,st;as.adler=Un.check=1,Un.mode=Sr;case Sr:if(Ls===_t||Ls===Et)break e;case Tr:if(Un.last){is>>>=Es&7,Es-=Es&7,Un.mode=Gs;break}for(;Es<3;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}switch(Un.last=is&1,is>>>=1,Es-=1,is&3){case 0:Un.mode=Ln;break;case 1:if(xs(Un),Un.mode=wo,Ls===Et){is>>>=2,Es-=2;break e}break;case 2:Un.mode=Nn;break;case 3:as.msg="invalid block type",Un.mode=Bn}is>>>=2,Es-=2;break;case Ln:for(is>>>=Es&7,Es-=Es&7;Es<32;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if((is&65535)!==(is>>>16^65535)){as.msg="invalid stored block lengths",Un.mode=Bn;break}if(Un.length=is&65535,is=0,Es=0,Un.mode=Fn,Ls===Et)break e;case Fn:Un.mode=Or;case Or:if(Hs=Un.length,Hs){if(Hs>fs&&(Hs=fs),Hs>Yn&&(Hs=Yn),Hs===0)break e;c.arraySet(yl,As,Er,Hs,ys),fs-=Hs,Er+=Hs,Yn-=Hs,ys+=Hs,Un.length-=Hs;break}Un.mode=Sr;break;case Nn:for(;Es<14;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(Un.nlen=(is&31)+257,is>>>=5,Es-=5,Un.ndist=(is&31)+1,is>>>=5,Es-=5,Un.ncode=(is&15)+4,is>>>=4,Es-=4,Un.nlen>286||Un.ndist>30){as.msg="too many length or distance symbols",Un.mode=Bn;break}Un.have=0,Un.mode=eo;case eo:for(;Un.have<Un.ncode;){for(;Es<3;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}Un.lens[Mu[Un.have++]]=is&7,is>>>=3,Es-=3}for(;Un.have<19;)Un.lens[Mu[Un.have++]]=0;if(Un.lencode=Un.lendyn,Un.lenbits=7,gu={bits:Un.lenbits},au=$(j,Un.lens,0,19,Un.lencode,0,Un.work,gu),Un.lenbits=gu.bits,au){as.msg="invalid code lengths set",Un.mode=Bn;break}Un.have=0,Un.mode=uo;case uo:for(;Un.have<Un.nlen+Un.ndist;){for(;Ll=Un.lencode[is&(1<<Un.lenbits)-1],Wl=Ll>>>24,Xl=Ll>>>16&255,yu=Ll&65535,!(Wl<=Es);){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(yu<16)is>>>=Wl,Es-=Wl,Un.lens[Un.have++]=yu;else{if(yu===16){for(bu=Wl+2;Es<bu;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(is>>>=Wl,Es-=Wl,Un.have===0){as.msg="invalid bit length repeat",Un.mode=Bn;break}tu=Un.lens[Un.have-1],Hs=3+(is&3),is>>>=2,Es-=2}else if(yu===17){for(bu=Wl+3;Es<bu;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}is>>>=Wl,Es-=Wl,tu=0,Hs=3+(is&7),is>>>=3,Es-=3}else{for(bu=Wl+7;Es<bu;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}is>>>=Wl,Es-=Wl,tu=0,Hs=11+(is&127),is>>>=7,Es-=7}if(Un.have+Hs>Un.nlen+Un.ndist){as.msg="invalid bit length repeat",Un.mode=Bn;break}for(;Hs--;)Un.lens[Un.have++]=tu}}if(Un.mode===Bn)break;if(Un.lens[256]===0){as.msg="invalid code -- missing end-of-block",Un.mode=Bn;break}if(Un.lenbits=9,gu={bits:Un.lenbits},au=$(rt,Un.lens,0,Un.nlen,Un.lencode,0,Un.work,gu),Un.lenbits=gu.bits,au){as.msg="invalid literal/lengths set",Un.mode=Bn;break}if(Un.distbits=6,Un.distcode=Un.distdyn,gu={bits:Un.distbits},au=$(nt,Un.lens,Un.nlen,Un.ndist,Un.distcode,0,Un.work,gu),Un.distbits=gu.bits,au){as.msg="invalid distances set",Un.mode=Bn;break}if(Un.mode=wo,Ls===Et)break e;case wo:Un.mode=bo;case bo:if(fs>=6&&Yn>=258){as.next_out=ys,as.avail_out=Yn,as.next_in=Er,as.avail_in=fs,Un.hold=is,Un.bits=Es,b(as,Js),ys=as.next_out,yl=as.output,Yn=as.avail_out,Er=as.next_in,As=as.input,fs=as.avail_in,is=Un.hold,Es=Un.bits,Un.mode===Sr&&(Un.back=-1);break}for(Un.back=0;Ll=Un.lencode[is&(1<<Un.lenbits)-1],Wl=Ll>>>24,Xl=Ll>>>16&255,yu=Ll&65535,!(Wl<=Es);){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(Xl&&!(Xl&240)){for(lu=Wl,zu=Xl,Uu=yu;Ll=Un.lencode[Uu+((is&(1<<lu+zu)-1)>>lu)],Wl=Ll>>>24,Xl=Ll>>>16&255,yu=Ll&65535,!(lu+Wl<=Es);){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}is>>>=lu,Es-=lu,Un.back+=lu}if(is>>>=Wl,Es-=Wl,Un.back+=Wl,Un.length=yu,Xl===0){Un.mode=cs;break}if(Xl&32){Un.back=-1,Un.mode=Sr;break}if(Xl&64){as.msg="invalid literal/length code",Un.mode=Bn;break}Un.extra=Xl&15,Un.mode=es;case es:if(Un.extra){for(bu=Un.extra;Es<bu;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}Un.length+=is&(1<<Un.extra)-1,is>>>=Un.extra,Es-=Un.extra,Un.back+=Un.extra}Un.was=Un.length,Un.mode=rs;case rs:for(;Ll=Un.distcode[is&(1<<Un.distbits)-1],Wl=Ll>>>24,Xl=Ll>>>16&255,yu=Ll&65535,!(Wl<=Es);){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(!(Xl&240)){for(lu=Wl,zu=Xl,Uu=yu;Ll=Un.distcode[Uu+((is&(1<<lu+zu)-1)>>lu)],Wl=Ll>>>24,Xl=Ll>>>16&255,yu=Ll&65535,!(lu+Wl<=Es);){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}is>>>=lu,Es-=lu,Un.back+=lu}if(is>>>=Wl,Es-=Wl,Un.back+=Wl,Xl&64){as.msg="invalid distance code",Un.mode=Bn;break}Un.offset=yu,Un.extra=Xl&15,Un.mode=vo;case vo:if(Un.extra){for(bu=Un.extra;Es<bu;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}Un.offset+=is&(1<<Un.extra)-1,is>>>=Un.extra,Es-=Un.extra,Un.back+=Un.extra}if(Un.offset>Un.dmax){as.msg="invalid distance too far back",Un.mode=Bn;break}Un.mode=gs;case gs:if(Yn===0)break e;if(Hs=Js-Yn,Un.offset>Hs){if(Hs=Un.offset-Hs,Hs>Un.whave&&Un.sane){as.msg="invalid distance too far back",Un.mode=Bn;break}Hs>Un.wnext?(Hs-=Un.wnext,Al=Un.wsize-Hs):Al=Un.wnext-Hs,Hs>Un.length&&(Hs=Un.length),Zl=Un.window}else Zl=yl,Al=ys-Un.offset,Hs=Un.length;Hs>Yn&&(Hs=Yn),Yn-=Hs,Un.length-=Hs;do yl[ys++]=Zl[Al++];while(--Hs);Un.length===0&&(Un.mode=bo);break;case cs:if(Yn===0)break e;yl[ys++]=Un.length,Yn--,Un.mode=bo;break;case Gs:if(Un.wrap){for(;Es<32;){if(fs===0)break e;fs--,is|=As[Er++]<<Es,Es+=8}if(Js-=Yn,as.total_out+=Js,Un.total+=Js,Js&&(as.adler=Un.check=Un.flags?g(Un.check,yl,Js,ys-Js):h(Un.check,yl,Js,ys-Js)),Js=Yn,(Un.flags?is:Ps(is))!==Un.check){as.msg="incorrect data check",Un.mode=Bn;break}is=0,Es=0}Un.mode=$n;case $n:if(Un.wrap&&Un.flags){for(;Es<32;){if(fs===0)break e;fs--,is+=As[Er++]<<Es,Es+=8}if(is!==(Un.total&4294967295)){as.msg="incorrect length check",Un.mode=Bn;break}is=0,Es=0}Un.mode=Kn;case Kn:au=it;break e;case Bn:au=bt;break e;case co:return Lt;case vs:default:return Mt}return as.next_out=ys,as.avail_out=Yn,as.next_in=Er,as.avail_in=fs,Un.hold=is,Un.bits=Es,(Un.wsize||Js!==as.avail_out&&Un.mode<Bn&&(Un.mode<Gs||Ls!==ot))&&Rs(as,as.output,as.next_out,Js-as.avail_out),zs-=as.avail_in,Js-=as.avail_out,as.total_in+=zs,as.total_out+=Js,Un.total+=Js,Un.wrap&&Js&&(as.adler=Un.check=Un.flags?g(Un.check,yl,Js,as.next_out-Js):h(Un.check,yl,Js,as.next_out-Js)),as.data_type=Un.bits+(Un.last?64:0)+(Un.mode===Sr?128:0)+(Un.mode===wo||Un.mode===Fn?256:0),(zs===0&&Js===0||Ls===ot)&&au===It&&(au=pt),au}function ds(as){if(!as||!as.state)return Mt;var Ls=as.state;return Ls.window&&(Ls.window=null),as.state=null,It}function _s(as,Ls){var Un;return!as||!as.state||(Un=as.state,!(Un.wrap&2))?Mt:(Un.head=Ls,Ls.done=!1,It)}function ks(as,Ls){var Un=Ls.length,As,yl,Er;return!as||!as.state||(As=as.state,As.wrap!==0&&As.mode!==rn)?Mt:As.mode===rn&&(yl=1,yl=h(yl,Ls,Un,0),yl!==As.check)?bt:(Er=Rs(as,Ls,Un,Un),Er?(As.mode=co,Lt):(As.havedict=1,It))}e.inflateReset=_l,e.inflateReset2=Cl,e.inflateResetKeep=Bs,e.inflateInit=Vn,e.inflateInit2=Zn,e.inflate=zn,e.inflateEnd=ds,e.inflateGetHeader=_s,e.inflateSetDictionary=ks,e.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=15,g=852,b=592,$=0,j=1,rt=2,nt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ot=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Et=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(It,it,st,Mt,bt,Lt,pt,Dt){var wt=Dt.bits,Bt=0,jt=0,hr=0,gr=0,Cr=0,wr=0,yr=0,xr=0,In=0,rn=0,Sr,Tr,Ln,Fn,Or,Nn=null,eo=0,uo,wo=new c.Buf16(h+1),bo=new c.Buf16(h+1),es=null,rs=0,vo,gs,cs;for(Bt=0;Bt<=h;Bt++)wo[Bt]=0;for(jt=0;jt<Mt;jt++)wo[it[st+jt]]++;for(Cr=wt,gr=h;gr>=1&&wo[gr]===0;gr--);if(Cr>gr&&(Cr=gr),gr===0)return bt[Lt++]=20971520,bt[Lt++]=20971520,Dt.bits=1,0;for(hr=1;hr<gr&&wo[hr]===0;hr++);for(Cr<hr&&(Cr=hr),xr=1,Bt=1;Bt<=h;Bt++)if(xr<<=1,xr-=wo[Bt],xr<0)return-1;if(xr>0&&(It===$||gr!==1))return-1;for(bo[1]=0,Bt=1;Bt<h;Bt++)bo[Bt+1]=bo[Bt]+wo[Bt];for(jt=0;jt<Mt;jt++)it[st+jt]!==0&&(pt[bo[it[st+jt]]++]=jt);if(It===$?(Nn=es=pt,uo=19):It===j?(Nn=nt,eo-=257,es=ot,rs-=257,uo=256):(Nn=_t,es=Et,uo=-1),rn=0,jt=0,Bt=hr,Or=Lt,wr=Cr,yr=0,Ln=-1,In=1<<Cr,Fn=In-1,It===j&&In>g||It===rt&&In>b)return 1;for(;;){vo=Bt-yr,pt[jt]<uo?(gs=0,cs=pt[jt]):pt[jt]>uo?(gs=es[rs+pt[jt]],cs=Nn[eo+pt[jt]]):(gs=96,cs=0),Sr=1<<Bt-yr,Tr=1<<wr,hr=Tr;do Tr-=Sr,bt[Or+(rn>>yr)+Tr]=vo<<24|gs<<16|cs|0;while(Tr!==0);for(Sr=1<<Bt-1;rn&Sr;)Sr>>=1;if(Sr!==0?(rn&=Sr-1,rn+=Sr):rn=0,jt++,--wo[Bt]===0){if(Bt===gr)break;Bt=it[st+pt[jt]]}if(Bt>Cr&&(rn&Fn)!==Ln){for(yr===0&&(yr=Cr),Or+=hr,wr=Bt-yr,xr=1<<wr;wr+yr<gr&&(xr-=wo[wr+yr],!(xr<=0));)wr++,xr<<=1;if(In+=1<<wr,It===j&&In>g||It===rt&&In>b)return 1;Ln=rn&Fn,bt[Ln]=Cr<<24|wr<<16|Or-Lt|0}}return rn!==0&&(bt[Or+rn]=Bt-yr<<24|4194304|0),Dt.bits=Cr,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":a=>{a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(a,e,o)=>{var c=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),h=4,g=0,b=1,$=2;function j(zn){for(var ds=zn.length;--ds>=0;)zn[ds]=0}var rt=0,nt=1,ot=2,_t=3,Et=258,It=29,it=256,st=it+1+It,Mt=30,bt=19,Lt=2*st+1,pt=15,Dt=16,wt=7,Bt=256,jt=16,hr=17,gr=18,Cr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],wr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],yr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],xr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],In=512,rn=new Array((st+2)*2);j(rn);var Sr=new Array(Mt*2);j(Sr);var Tr=new Array(In);j(Tr);var Ln=new Array(Et-_t+1);j(Ln);var Fn=new Array(It);j(Fn);var Or=new Array(Mt);j(Or);function Nn(zn,ds,_s,ks,as){this.static_tree=zn,this.extra_bits=ds,this.extra_base=_s,this.elems=ks,this.max_length=as,this.has_stree=zn&&zn.length}var eo,uo,wo;function bo(zn,ds){this.dyn_tree=zn,this.max_code=0,this.stat_desc=ds}function es(zn){return zn<256?Tr[zn]:Tr[256+(zn>>>7)]}function rs(zn,ds){zn.pending_buf[zn.pending++]=ds&255,zn.pending_buf[zn.pending++]=ds>>>8&255}function vo(zn,ds,_s){zn.bi_valid>Dt-_s?(zn.bi_buf|=ds<<zn.bi_valid&65535,rs(zn,zn.bi_buf),zn.bi_buf=ds>>Dt-zn.bi_valid,zn.bi_valid+=_s-Dt):(zn.bi_buf|=ds<<zn.bi_valid&65535,zn.bi_valid+=_s)}function gs(zn,ds,_s){vo(zn,_s[ds*2],_s[ds*2+1])}function cs(zn,ds){var _s=0;do _s|=zn&1,zn>>>=1,_s<<=1;while(--ds>0);return _s>>>1}function Gs(zn){zn.bi_valid===16?(rs(zn,zn.bi_buf),zn.bi_buf=0,zn.bi_valid=0):zn.bi_valid>=8&&(zn.pending_buf[zn.pending++]=zn.bi_buf&255,zn.bi_buf>>=8,zn.bi_valid-=8)}function $n(zn,ds){var _s=ds.dyn_tree,ks=ds.max_code,as=ds.stat_desc.static_tree,Ls=ds.stat_desc.has_stree,Un=ds.stat_desc.extra_bits,As=ds.stat_desc.extra_base,yl=ds.stat_desc.max_length,Er,ys,fs,Yn,is,Es,zs=0;for(Yn=0;Yn<=pt;Yn++)zn.bl_count[Yn]=0;for(_s[zn.heap[zn.heap_max]*2+1]=0,Er=zn.heap_max+1;Er<Lt;Er++)ys=zn.heap[Er],Yn=_s[_s[ys*2+1]*2+1]+1,Yn>yl&&(Yn=yl,zs++),_s[ys*2+1]=Yn,!(ys>ks)&&(zn.bl_count[Yn]++,is=0,ys>=As&&(is=Un[ys-As]),Es=_s[ys*2],zn.opt_len+=Es*(Yn+is),Ls&&(zn.static_len+=Es*(as[ys*2+1]+is)));if(zs!==0){do{for(Yn=yl-1;zn.bl_count[Yn]===0;)Yn--;zn.bl_count[Yn]--,zn.bl_count[Yn+1]+=2,zn.bl_count[yl]--,zs-=2}while(zs>0);for(Yn=yl;Yn!==0;Yn--)for(ys=zn.bl_count[Yn];ys!==0;)fs=zn.heap[--Er],!(fs>ks)&&(_s[fs*2+1]!==Yn&&(zn.opt_len+=(Yn-_s[fs*2+1])*_s[fs*2],_s[fs*2+1]=Yn),ys--)}}function Kn(zn,ds,_s){var ks=new Array(pt+1),as=0,Ls,Un;for(Ls=1;Ls<=pt;Ls++)ks[Ls]=as=as+_s[Ls-1]<<1;for(Un=0;Un<=ds;Un++){var As=zn[Un*2+1];As!==0&&(zn[Un*2]=cs(ks[As]++,As))}}function Bn(){var zn,ds,_s,ks,as,Ls=new Array(pt+1);for(_s=0,ks=0;ks<It-1;ks++)for(Fn[ks]=_s,zn=0;zn<1<<Cr[ks];zn++)Ln[_s++]=ks;for(Ln[_s-1]=ks,as=0,ks=0;ks<16;ks++)for(Or[ks]=as,zn=0;zn<1<<wr[ks];zn++)Tr[as++]=ks;for(as>>=7;ks<Mt;ks++)for(Or[ks]=as<<7,zn=0;zn<1<<wr[ks]-7;zn++)Tr[256+as++]=ks;for(ds=0;ds<=pt;ds++)Ls[ds]=0;for(zn=0;zn<=143;)rn[zn*2+1]=8,zn++,Ls[8]++;for(;zn<=255;)rn[zn*2+1]=9,zn++,Ls[9]++;for(;zn<=279;)rn[zn*2+1]=7,zn++,Ls[7]++;for(;zn<=287;)rn[zn*2+1]=8,zn++,Ls[8]++;for(Kn(rn,st+1,Ls),zn=0;zn<Mt;zn++)Sr[zn*2+1]=5,Sr[zn*2]=cs(zn,5);eo=new Nn(rn,Cr,it+1,st,pt),uo=new Nn(Sr,wr,0,Mt,pt),wo=new Nn(new Array(0),yr,0,bt,wt)}function co(zn){var ds;for(ds=0;ds<st;ds++)zn.dyn_ltree[ds*2]=0;for(ds=0;ds<Mt;ds++)zn.dyn_dtree[ds*2]=0;for(ds=0;ds<bt;ds++)zn.bl_tree[ds*2]=0;zn.dyn_ltree[Bt*2]=1,zn.opt_len=zn.static_len=0,zn.last_lit=zn.matches=0}function vs(zn){zn.bi_valid>8?rs(zn,zn.bi_buf):zn.bi_valid>0&&(zn.pending_buf[zn.pending++]=zn.bi_buf),zn.bi_buf=0,zn.bi_valid=0}function Ts(zn,ds,_s,ks){vs(zn),ks&&(rs(zn,_s),rs(zn,~_s)),c.arraySet(zn.pending_buf,zn.window,ds,_s,zn.pending),zn.pending+=_s}function Fs(zn,ds,_s,ks){var as=ds*2,Ls=_s*2;return zn[as]<zn[Ls]||zn[as]===zn[Ls]&&ks[ds]<=ks[_s]}function Os(zn,ds,_s){for(var ks=zn.heap[_s],as=_s<<1;as<=zn.heap_len&&(as<zn.heap_len&&Fs(ds,zn.heap[as+1],zn.heap[as],zn.depth)&&as++,!Fs(ds,ks,zn.heap[as],zn.depth));)zn.heap[_s]=zn.heap[as],_s=as,as<<=1;zn.heap[_s]=ks}function Ns(zn,ds,_s){var ks,as,Ls=0,Un,As;if(zn.last_lit!==0)do ks=zn.pending_buf[zn.d_buf+Ls*2]<<8|zn.pending_buf[zn.d_buf+Ls*2+1],as=zn.pending_buf[zn.l_buf+Ls],Ls++,ks===0?gs(zn,as,ds):(Un=Ln[as],gs(zn,Un+it+1,ds),As=Cr[Un],As!==0&&(as-=Fn[Un],vo(zn,as,As)),ks--,Un=es(ks),gs(zn,Un,_s),As=wr[Un],As!==0&&(ks-=Or[Un],vo(zn,ks,As)));while(Ls<zn.last_lit);gs(zn,Bt,ds)}function Ps(zn,ds){var _s=ds.dyn_tree,ks=ds.stat_desc.static_tree,as=ds.stat_desc.has_stree,Ls=ds.stat_desc.elems,Un,As,yl=-1,Er;for(zn.heap_len=0,zn.heap_max=Lt,Un=0;Un<Ls;Un++)_s[Un*2]!==0?(zn.heap[++zn.heap_len]=yl=Un,zn.depth[Un]=0):_s[Un*2+1]=0;for(;zn.heap_len<2;)Er=zn.heap[++zn.heap_len]=yl<2?++yl:0,_s[Er*2]=1,zn.depth[Er]=0,zn.opt_len--,as&&(zn.static_len-=ks[Er*2+1]);for(ds.max_code=yl,Un=zn.heap_len>>1;Un>=1;Un--)Os(zn,_s,Un);Er=Ls;do Un=zn.heap[1],zn.heap[1]=zn.heap[zn.heap_len--],Os(zn,_s,1),As=zn.heap[1],zn.heap[--zn.heap_max]=Un,zn.heap[--zn.heap_max]=As,_s[Er*2]=_s[Un*2]+_s[As*2],zn.depth[Er]=(zn.depth[Un]>=zn.depth[As]?zn.depth[Un]:zn.depth[As])+1,_s[Un*2+1]=_s[As*2+1]=Er,zn.heap[1]=Er++,Os(zn,_s,1);while(zn.heap_len>=2);zn.heap[--zn.heap_max]=zn.heap[1],$n(zn,ds),Kn(_s,yl,zn.bl_count)}function Ks(zn,ds,_s){var ks,as=-1,Ls,Un=ds[0*2+1],As=0,yl=7,Er=4;for(Un===0&&(yl=138,Er=3),ds[(_s+1)*2+1]=65535,ks=0;ks<=_s;ks++)Ls=Un,Un=ds[(ks+1)*2+1],!(++As<yl&&Ls===Un)&&(As<Er?zn.bl_tree[Ls*2]+=As:Ls!==0?(Ls!==as&&zn.bl_tree[Ls*2]++,zn.bl_tree[jt*2]++):As<=10?zn.bl_tree[hr*2]++:zn.bl_tree[gr*2]++,As=0,as=Ls,Un===0?(yl=138,Er=3):Ls===Un?(yl=6,Er=3):(yl=7,Er=4))}function Bs(zn,ds,_s){var ks,as=-1,Ls,Un=ds[0*2+1],As=0,yl=7,Er=4;for(Un===0&&(yl=138,Er=3),ks=0;ks<=_s;ks++)if(Ls=Un,Un=ds[(ks+1)*2+1],!(++As<yl&&Ls===Un)){if(As<Er)do gs(zn,Ls,zn.bl_tree);while(--As!==0);else Ls!==0?(Ls!==as&&(gs(zn,Ls,zn.bl_tree),As--),gs(zn,jt,zn.bl_tree),vo(zn,As-3,2)):As<=10?(gs(zn,hr,zn.bl_tree),vo(zn,As-3,3)):(gs(zn,gr,zn.bl_tree),vo(zn,As-11,7));As=0,as=Ls,Un===0?(yl=138,Er=3):Ls===Un?(yl=6,Er=3):(yl=7,Er=4)}}function _l(zn){var ds;for(Ks(zn,zn.dyn_ltree,zn.l_desc.max_code),Ks(zn,zn.dyn_dtree,zn.d_desc.max_code),Ps(zn,zn.bl_desc),ds=bt-1;ds>=3&&zn.bl_tree[xr[ds]*2+1]===0;ds--);return zn.opt_len+=3*(ds+1)+5+5+4,ds}function Cl(zn,ds,_s,ks){var as;for(vo(zn,ds-257,5),vo(zn,_s-1,5),vo(zn,ks-4,4),as=0;as<ks;as++)vo(zn,zn.bl_tree[xr[as]*2+1],3);Bs(zn,zn.dyn_ltree,ds-1),Bs(zn,zn.dyn_dtree,_s-1)}function Zn(zn){var ds=4093624447,_s;for(_s=0;_s<=31;_s++,ds>>>=1)if(ds&1&&zn.dyn_ltree[_s*2]!==0)return g;if(zn.dyn_ltree[18]!==0||zn.dyn_ltree[20]!==0||zn.dyn_ltree[26]!==0)return b;for(_s=32;_s<it;_s++)if(zn.dyn_ltree[_s*2]!==0)return b;return g}var Vn=!1;function qn(zn){Vn||(Bn(),Vn=!0),zn.l_desc=new bo(zn.dyn_ltree,eo),zn.d_desc=new bo(zn.dyn_dtree,uo),zn.bl_desc=new bo(zn.bl_tree,wo),zn.bi_buf=0,zn.bi_valid=0,co(zn)}function hs(zn,ds,_s,ks){vo(zn,(rt<<1)+(ks?1:0),3),Ts(zn,ds,_s,!0)}function us(zn){vo(zn,nt<<1,3),gs(zn,Bt,rn),Gs(zn)}function xs(zn,ds,_s,ks){var as,Ls,Un=0;zn.level>0?(zn.strm.data_type===$&&(zn.strm.data_type=Zn(zn)),Ps(zn,zn.l_desc),Ps(zn,zn.d_desc),Un=_l(zn),as=zn.opt_len+3+7>>>3,Ls=zn.static_len+3+7>>>3,Ls<=as&&(as=Ls)):as=Ls=_s+5,_s+4<=as&&ds!==-1?hs(zn,ds,_s,ks):zn.strategy===h||Ls===as?(vo(zn,(nt<<1)+(ks?1:0),3),Ns(zn,rn,Sr)):(vo(zn,(ot<<1)+(ks?1:0),3),Cl(zn,zn.l_desc.max_code+1,zn.d_desc.max_code+1,Un+1),Ns(zn,zn.dyn_ltree,zn.dyn_dtree)),co(zn),ks&&vs(zn)}function Rs(zn,ds,_s){return zn.pending_buf[zn.d_buf+zn.last_lit*2]=ds>>>8&255,zn.pending_buf[zn.d_buf+zn.last_lit*2+1]=ds&255,zn.pending_buf[zn.l_buf+zn.last_lit]=_s&255,zn.last_lit++,ds===0?zn.dyn_ltree[_s*2]++:(zn.matches++,ds--,zn.dyn_ltree[(Ln[_s]+it+1)*2]++,zn.dyn_dtree[es(ds)*2]++),zn.last_lit===zn.lit_bufsize-1}e._tr_init=qn,e._tr_stored_block=hs,e._tr_flush_block=xs,e._tr_tally=Rs,e._tr_align=us},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":a=>{function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a.exports=e},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=(function(){self.onmessage=function(a){var e=a.data,o=e.type;if(o<0)self.atomData=e.atoms,self.volume=e.volume,self.ps=new ProteinSurface;else{var c=self.ps;c.initparm(e.expandedExtent,o!=1,self.volume),c.fillvoxels(self.atomData,e.extendedAtoms),c.buildboundary(),(o===4||o===2)&&(c.fastdistancemap(),c.boundingatom(!1),c.fillvoxelswaals(self.atomData,e.extendedAtoms)),c.marchingcube(o);var h=c.getFacesAndVertices(e.atomsToShow);self.postMessage(h)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":a=>{typeof a.exports=="object"&&(a.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(a,e){(function(o,c){c(e)})(this,function(o){function c(Zn,Vn,qn){for(var hs=(Zn.byteLength,0),us=qn.length;us>hs;hs++){var xs=qn.charCodeAt(hs);if(128>xs)Zn.setUint8(Vn++,xs>>>0&127|0);else if(2048>xs)Zn.setUint8(Vn++,xs>>>6&31|192),Zn.setUint8(Vn++,xs>>>0&63|128);else if(65536>xs)Zn.setUint8(Vn++,xs>>>12&15|224),Zn.setUint8(Vn++,xs>>>6&63|128),Zn.setUint8(Vn++,xs>>>0&63|128);else{if(!(1114112>xs))throw new Error("bad codepoint "+xs);Zn.setUint8(Vn++,xs>>>18&7|240),Zn.setUint8(Vn++,xs>>>12&63|128),Zn.setUint8(Vn++,xs>>>6&63|128),Zn.setUint8(Vn++,xs>>>0&63|128)}}}function h(Zn){for(var Vn=0,qn=0,hs=Zn.length;hs>qn;qn++){var us=Zn.charCodeAt(qn);if(128>us)Vn+=1;else if(2048>us)Vn+=2;else if(65536>us)Vn+=3;else{if(!(1114112>us))throw new Error("bad codepoint "+us);Vn+=4}}return Vn}function g(Zn,Vn,qn){var hs=typeof Zn;if(hs==="string"){var us=h(Zn);if(32>us)return Vn.setUint8(qn,160|us),c(Vn,qn+1,Zn),1+us;if(256>us)return Vn.setUint8(qn,217),Vn.setUint8(qn+1,us),c(Vn,qn+2,Zn),2+us;if(65536>us)return Vn.setUint8(qn,218),Vn.setUint16(qn+1,us),c(Vn,qn+3,Zn),3+us;if(4294967296>us)return Vn.setUint8(qn,219),Vn.setUint32(qn+1,us),c(Vn,qn+5,Zn),5+us}if(Zn instanceof Uint8Array){var us=Zn.byteLength,xs=new Uint8Array(Vn.buffer);if(256>us)return Vn.setUint8(qn,196),Vn.setUint8(qn+1,us),xs.set(Zn,qn+2),2+us;if(65536>us)return Vn.setUint8(qn,197),Vn.setUint16(qn+1,us),xs.set(Zn,qn+3),3+us;if(4294967296>us)return Vn.setUint8(qn,198),Vn.setUint32(qn+1,us),xs.set(Zn,qn+5),5+us}if(hs==="number"){if(!isFinite(Zn))throw new Error("Number not finite: "+Zn);if(Math.floor(Zn)!==Zn)return Vn.setUint8(qn,203),Vn.setFloat64(qn+1,Zn),9;if(Zn>=0){if(128>Zn)return Vn.setUint8(qn,Zn),1;if(256>Zn)return Vn.setUint8(qn,204),Vn.setUint8(qn+1,Zn),2;if(65536>Zn)return Vn.setUint8(qn,205),Vn.setUint16(qn+1,Zn),3;if(4294967296>Zn)return Vn.setUint8(qn,206),Vn.setUint32(qn+1,Zn),5;throw new Error("Number too big 0x"+Zn.toString(16))}if(Zn>=-32)return Vn.setInt8(qn,Zn),1;if(Zn>=-128)return Vn.setUint8(qn,208),Vn.setInt8(qn+1,Zn),2;if(Zn>=-32768)return Vn.setUint8(qn,209),Vn.setInt16(qn+1,Zn),3;if(Zn>=-2147483648)return Vn.setUint8(qn,210),Vn.setInt32(qn+1,Zn),5;throw new Error("Number too small -0x"+(-Zn).toString(16).substr(1))}if(Zn===null)return Vn.setUint8(qn,192),1;if(hs==="boolean")return Vn.setUint8(qn,Zn?195:194),1;if(hs==="object"){var us,ds=0,Rs=Array.isArray(Zn);if(Rs)us=Zn.length;else{var zn=Object.keys(Zn);us=zn.length}var ds;if(16>us?(Vn.setUint8(qn,us|(Rs?144:128)),ds=1):65536>us?(Vn.setUint8(qn,Rs?220:222),Vn.setUint16(qn+1,us),ds=3):4294967296>us&&(Vn.setUint8(qn,Rs?221:223),Vn.setUint32(qn+1,us),ds=5),Rs)for(var _s=0;us>_s;_s++)ds+=g(Zn[_s],Vn,qn+ds);else for(var _s=0;us>_s;_s++){var ks=zn[_s];ds+=g(ks,Vn,qn+ds),ds+=g(Zn[ks],Vn,qn+ds)}return ds}throw new Error("Unknown type "+hs)}function b(Zn){var Vn=typeof Zn;if(Vn==="string"){var qn=h(Zn);if(32>qn)return 1+qn;if(256>qn)return 2+qn;if(65536>qn)return 3+qn;if(4294967296>qn)return 5+qn}if(Zn instanceof Uint8Array){var qn=Zn.byteLength;if(256>qn)return 2+qn;if(65536>qn)return 3+qn;if(4294967296>qn)return 5+qn}if(Vn==="number"){if(Math.floor(Zn)!==Zn)return 9;if(Zn>=0){if(128>Zn)return 1;if(256>Zn)return 2;if(65536>Zn)return 3;if(4294967296>Zn)return 5;throw new Error("Number too big 0x"+Zn.toString(16))}if(Zn>=-32)return 1;if(Zn>=-128)return 2;if(Zn>=-32768)return 3;if(Zn>=-2147483648)return 5;throw new Error("Number too small -0x"+Zn.toString(16).substr(1))}if(Vn==="boolean"||Zn===null)return 1;if(Vn==="object"){var qn,hs=0;if(Array.isArray(Zn)){qn=Zn.length;for(var us=0;qn>us;us++)hs+=b(Zn[us])}else{var xs=Object.keys(Zn);qn=xs.length;for(var us=0;qn>us;us++){var Rs=xs[us];hs+=b(Rs)+b(Zn[Rs])}}if(16>qn)return 1+hs;if(65536>qn)return 3+hs;if(4294967296>qn)return 5+hs;throw new Error("Array or object too long 0x"+qn.toString(16))}throw new Error("Unknown type "+Vn)}function $(Zn){var Vn=new ArrayBuffer(b(Zn)),qn=new DataView(Vn);return g(Zn,qn,0),new Uint8Array(Vn)}function j(Zn,Vn,qn){return Vn?new Zn(Vn.buffer,Vn.byteOffset,Vn.byteLength/(qn||1)):void 0}function rt(Zn){return j(DataView,Zn)}function nt(Zn){return j(Uint8Array,Zn)}function ot(Zn){return j(Int8Array,Zn)}function _t(Zn){return j(Int32Array,Zn,4)}function Et(Zn){return j(Float32Array,Zn,4)}function It(Zn,Vn){var qn=Zn.length/2;Vn||(Vn=new Int16Array(qn));for(var hs=0,us=0;qn>hs;++hs,us+=2)Vn[hs]=Zn[us]<<8^Zn[us+1]<<0;return Vn}function it(Zn,Vn){var qn=Zn.length;Vn||(Vn=new Uint8Array(2*qn));for(var hs=rt(Vn),us=0;qn>us;++us)hs.setInt16(2*us,Zn[us]);return nt(Vn)}function st(Zn,Vn){var qn=Zn.length/4;Vn||(Vn=new Int32Array(qn));for(var hs=0,us=0;qn>hs;++hs,us+=4)Vn[hs]=Zn[us]<<24^Zn[us+1]<<16^Zn[us+2]<<8^Zn[us+3]<<0;return Vn}function Mt(Zn,Vn){var qn=Zn.length;Vn||(Vn=new Uint8Array(4*qn));for(var hs=rt(Vn),us=0;qn>us;++us)hs.setInt32(4*us,Zn[us]);return nt(Vn)}function bt(Zn,Vn){var qn=Zn.length;Vn||(Vn=new Float32Array(qn/4));for(var hs=rt(Vn),us=rt(Zn),xs=0,Rs=0,zn=qn/4;zn>xs;++xs,Rs+=4)hs.setFloat32(Rs,us.getFloat32(Rs),!0);return Vn}function Lt(Zn,Vn,qn){var hs=Zn.length,us=1/Vn;qn||(qn=new Float32Array(hs));for(var xs=0;hs>xs;++xs)qn[xs]=Zn[xs]*us;return qn}function pt(Zn,Vn,qn){var hs=Zn.length;qn||(qn=new Int32Array(hs));for(var us=0;hs>us;++us)qn[us]=Math.round(Zn[us]*Vn);return qn}function Dt(Zn,Vn){var qn,hs;if(!Vn){var us=0;for(qn=0,hs=Zn.length;hs>qn;qn+=2)us+=Zn[qn+1];Vn=new Zn.constructor(us)}var xs=0;for(qn=0,hs=Zn.length;hs>qn;qn+=2)for(var Rs=Zn[qn],zn=Zn[qn+1],ds=0;zn>ds;++ds)Vn[xs]=Rs,++xs;return Vn}function wt(Zn){if(Zn.length===0)return new Int32Array;var Vn,qn,hs=2;for(Vn=1,qn=Zn.length;qn>Vn;++Vn)Zn[Vn-1]!==Zn[Vn]&&(hs+=2);var us=new Int32Array(hs),xs=0,Rs=1;for(Vn=1,qn=Zn.length;qn>Vn;++Vn)Zn[Vn-1]!==Zn[Vn]?(us[xs]=Zn[Vn-1],us[xs+1]=Rs,Rs=1,xs+=2):++Rs;return us[xs]=Zn[Zn.length-1],us[xs+1]=Rs,us}function Bt(Zn,Vn){var qn=Zn.length;Vn||(Vn=new Zn.constructor(qn)),qn&&(Vn[0]=Zn[0]);for(var hs=1;qn>hs;++hs)Vn[hs]=Zn[hs]+Vn[hs-1];return Vn}function jt(Zn,Vn){var qn=Zn.length;Vn||(Vn=new Zn.constructor(qn)),Vn[0]=Zn[0];for(var hs=1;qn>hs;++hs)Vn[hs]=Zn[hs]-Zn[hs-1];return Vn}function hr(Zn,Vn){var qn,hs,us=Zn instanceof Int8Array?127:32767,xs=-us-1,Rs=Zn.length;if(!Vn){var zn=0;for(qn=0;Rs>qn;++qn)Zn[qn]<us&&Zn[qn]>xs&&++zn;Vn=new Int32Array(zn)}for(qn=0,hs=0;Rs>qn;){for(var ds=0;Zn[qn]===us||Zn[qn]===xs;)ds+=Zn[qn],++qn;ds+=Zn[qn],++qn,Vn[hs]=ds,++hs}return Vn}function gr(Zn,Vn){var qn,hs=Vn?127:32767,us=-hs-1,xs=Zn.length,Rs=0;for(qn=0;xs>qn;++qn){var zn=Zn[qn];zn===0?++Rs:zn>0?(Rs+=Math.ceil(zn/hs),zn%hs===0&&(Rs+=1)):(Rs+=Math.ceil(zn/us),zn%us===0&&(Rs+=1))}var ds=Vn?new Int8Array(Rs):new Int16Array(Rs),_s=0;for(qn=0;xs>qn;++qn){var zn=Zn[qn];if(zn>=0)for(;zn>=hs;)ds[_s]=hs,++_s,zn-=hs;else for(;us>=zn;)ds[_s]=us,++_s,zn-=us;ds[_s]=zn,++_s}return ds}function Cr(Zn,Vn){return Bt(Dt(Zn),Vn)}function wr(Zn){return wt(jt(Zn))}function yr(Zn,Vn,qn){return Lt(Dt(Zn,_t(qn)),Vn,qn)}function xr(Zn,Vn){return wt(pt(Zn,Vn))}function In(Zn,Vn,qn){return Lt(Bt(Zn,_t(qn)),Vn,qn)}function rn(Zn,Vn,qn){return jt(pt(Zn,Vn),qn)}function Sr(Zn,Vn,qn){return Lt(hr(Zn,_t(qn)),Vn,qn)}function Tr(Zn,Vn,qn){var hs=hr(Zn,_t(qn));return In(hs,Vn,Et(hs))}function Ln(Zn,Vn,qn){return gr(rn(Zn,Vn),qn)}function Fn(xs){var Vn=rt(xs),qn=Vn.getInt32(0),hs=Vn.getInt32(4),us=xs.subarray(8,12),xs=xs.subarray(12);return[qn,xs,hs,us]}function Or(Zn,Vn,qn,hs){var us=new ArrayBuffer(12+hs.byteLength),xs=new Uint8Array(us),Rs=new DataView(us);return Rs.setInt32(0,Zn),Rs.setInt32(4,Vn),qn&&xs.set(qn,8),xs.set(hs,12),xs}function Nn(Zn){var Vn=Zn.length,qn=nt(Zn);return Or(2,Vn,void 0,qn)}function eo(Zn){var Vn=Zn.length,qn=Mt(Zn);return Or(4,Vn,void 0,qn)}function uo(Zn,Vn){var qn=Zn.length/Vn,hs=Mt([Vn]),us=nt(Zn);return Or(5,qn,hs,us)}function wo(Zn){var Vn=Zn.length,qn=Mt(wt(Zn));return Or(6,Vn,void 0,qn)}function bo(Zn){var Vn=Zn.length,qn=Mt(wr(Zn));return Or(8,Vn,void 0,qn)}function es(Zn,Vn){var qn=Zn.length,hs=Mt([Vn]),us=Mt(xr(Zn,Vn));return Or(9,qn,hs,us)}function rs(Zn,Vn){var qn=Zn.length,hs=Mt([Vn]),us=it(Ln(Zn,Vn));return Or(10,qn,hs,us)}function vo(Zn){var Vn={};return Os.forEach(function(qn){Zn[qn]!==void 0&&(Vn[qn]=Zn[qn])}),Zn.bondAtomList&&(Vn.bondAtomList=eo(Zn.bondAtomList)),Zn.bondOrderList&&(Vn.bondOrderList=Nn(Zn.bondOrderList)),Vn.xCoordList=rs(Zn.xCoordList,1e3),Vn.yCoordList=rs(Zn.yCoordList,1e3),Vn.zCoordList=rs(Zn.zCoordList,1e3),Zn.bFactorList&&(Vn.bFactorList=rs(Zn.bFactorList,100)),Zn.atomIdList&&(Vn.atomIdList=bo(Zn.atomIdList)),Zn.altLocList&&(Vn.altLocList=wo(Zn.altLocList)),Zn.occupancyList&&(Vn.occupancyList=es(Zn.occupancyList,100)),Vn.groupIdList=bo(Zn.groupIdList),Vn.groupTypeList=eo(Zn.groupTypeList),Zn.secStructList&&(Vn.secStructList=Nn(Zn.secStructList)),Zn.insCodeList&&(Vn.insCodeList=wo(Zn.insCodeList)),Zn.sequenceIndexList&&(Vn.sequenceIndexList=bo(Zn.sequenceIndexList)),Vn.chainIdList=uo(Zn.chainIdList,4),Zn.chainNameList&&(Vn.chainNameList=uo(Zn.chainNameList,4)),Vn}function gs(Zn){function Vn(ds){for(var _s={},ks=0;ds>ks;ks++){var as=xs();_s[as]=xs()}return _s}function qn(ds){var _s=Zn.subarray(Rs,Rs+ds);return Rs+=ds,_s}function hs(ds){var _s=Zn.subarray(Rs,Rs+ds);Rs+=ds;var ks=65535;if(ds>ks){for(var as=[],Ls=0;Ls<_s.length;Ls+=ks)as.push(String.fromCharCode.apply(null,_s.subarray(Ls,Ls+ks)));return as.join("")}return String.fromCharCode.apply(null,_s)}function us(ds){for(var _s=new Array(ds),ks=0;ds>ks;ks++)_s[ks]=xs();return _s}function xs(){var ds,_s,ks=Zn[Rs];if(!(128&ks))return Rs++,ks;if((240&ks)===128)return _s=15&ks,Rs++,Vn(_s);if((240&ks)===144)return _s=15&ks,Rs++,us(_s);if((224&ks)===160)return _s=31&ks,Rs++,hs(_s);if((224&ks)===224)return ds=zn.getInt8(Rs),Rs++,ds;switch(ks){case 192:return Rs++,null;case 194:return Rs++,!1;case 195:return Rs++,!0;case 196:return _s=zn.getUint8(Rs+1),Rs+=2,qn(_s);case 197:return _s=zn.getUint16(Rs+1),Rs+=3,qn(_s);case 198:return _s=zn.getUint32(Rs+1),Rs+=5,qn(_s);case 202:return ds=zn.getFloat32(Rs+1),Rs+=5,ds;case 203:return ds=zn.getFloat64(Rs+1),Rs+=9,ds;case 204:return ds=Zn[Rs+1],Rs+=2,ds;case 205:return ds=zn.getUint16(Rs+1),Rs+=3,ds;case 206:return ds=zn.getUint32(Rs+1),Rs+=5,ds;case 208:return ds=zn.getInt8(Rs+1),Rs+=2,ds;case 209:return ds=zn.getInt16(Rs+1),Rs+=3,ds;case 210:return ds=zn.getInt32(Rs+1),Rs+=5,ds;case 217:return _s=zn.getUint8(Rs+1),Rs+=2,hs(_s);case 218:return _s=zn.getUint16(Rs+1),Rs+=3,hs(_s);case 219:return _s=zn.getUint32(Rs+1),Rs+=5,hs(_s);case 220:return _s=zn.getUint16(Rs+1),Rs+=3,us(_s);case 221:return _s=zn.getUint32(Rs+1),Rs+=5,us(_s);case 222:return _s=zn.getUint16(Rs+1),Rs+=3,Vn(_s);case 223:return _s=zn.getUint32(Rs+1),Rs+=5,Vn(_s)}throw new Error("Unknown type 0x"+ks.toString(16))}var Rs=0,zn=new DataView(Zn.buffer);return xs()}function cs(Zn,Vn,qn,hs){switch(Zn){case 1:return bt(Vn);case 2:return ot(Vn);case 3:return It(Vn);case 4:return st(Vn);case 5:return nt(Vn);case 6:return Dt(st(Vn),new Uint8Array(qn));case 7:return Dt(st(Vn));case 8:return Cr(st(Vn));case 9:return yr(st(Vn),st(hs)[0]);case 10:return Tr(It(Vn),st(hs)[0]);case 11:return Lt(It(Vn),st(hs)[0]);case 12:return Sr(It(Vn),st(hs)[0]);case 13:return Sr(ot(Vn),st(hs)[0]);case 14:return hr(It(Vn));case 15:return hr(ot(Vn))}}function Gs(Zn,Vn){Vn=Vn||{};var qn=Vn.ignoreFields,hs={};return Ps.forEach(function(us){var xs=qn?qn.indexOf(us)!==-1:!1,Rs=Zn[us];xs||Rs===void 0||(Rs instanceof Uint8Array?hs[us]=cs.apply(null,Fn(Rs)):hs[us]=Rs)}),hs}function $n(Zn){return String.fromCharCode.apply(null,Zn).replace(/\0/g,"")}function Kn(Zn,Vn,qn){qn=qn||{};var hs,us,xs,Rs,zn,ds,_s=qn.firstModelOnly,ks=Vn.onModel,as=Vn.onChain,Ls=Vn.onGroup,Un=Vn.onAtom,As=Vn.onBond,yl=0,Er=0,ys=0,fs=0,Yn=0,is=-1,Es=Zn.chainNameList,zs=Zn.secStructList,Js=Zn.insCodeList,Hs=Zn.sequenceIndexList,Al=Zn.atomIdList,Zl=Zn.bFactorList,Ll=Zn.altLocList,Wl=Zn.occupancyList,Xl=Zn.bondAtomList,yu=Zn.bondOrderList;for(hs=0,us=Zn.chainsPerModel.length;us>hs&&!(_s&&yl>0);++hs){var lu=Zn.chainsPerModel[yl];for(ks&&ks({chainCount:lu,modelIndex:yl}),xs=0;lu>xs;++xs){var zu=Zn.groupsPerChain[Er];if(as){var Uu=$n(Zn.chainIdList.subarray(4*Er,4*Er+4)),tu=null;Es&&(tu=$n(Es.subarray(4*Er,4*Er+4))),as({groupCount:zu,chainIndex:Er,modelIndex:yl,chainId:Uu,chainName:tu})}for(Rs=0;zu>Rs;++Rs){var au=Zn.groupList[Zn.groupTypeList[ys]],uu=au.atomNameList.length;if(Ls){var gu=null;zs&&(gu=zs[ys]);var bu=null;Zn.insCodeList&&(bu=String.fromCharCode(Js[ys]));var Mu=null;Hs&&(Mu=Hs[ys]),Ls({atomCount:uu,groupIndex:ys,chainIndex:Er,modelIndex:yl,groupId:Zn.groupIdList[ys],groupType:Zn.groupTypeList[ys],groupName:au.groupName,singleLetterCode:au.singleLetterCode,chemCompType:au.chemCompType,secStruct:gu,insCode:bu,sequenceIndex:Mu})}for(zn=0;uu>zn;++zn){if(Un){var np=null;Al&&(np=Al[fs]);var lp=null;Zl&&(lp=Zl[fs]);var Tp=null;Ll&&(Tp=String.fromCharCode(Ll[fs]));var ip=null;Wl&&(ip=Wl[fs]),Un({atomIndex:fs,groupIndex:ys,chainIndex:Er,modelIndex:yl,atomId:np,element:au.elementList[zn],atomName:au.atomNameList[zn],formalCharge:au.formalChargeList[zn],xCoord:Zn.xCoordList[fs],yCoord:Zn.yCoordList[fs],zCoord:Zn.zCoordList[fs],bFactor:lp,altLoc:Tp,occupancy:ip})}fs+=1}if(As){var up=au.bondAtomList;for(zn=0,ds=au.bondOrderList.length;ds>zn;++zn)As({atomIndex1:fs-uu+up[2*zn],atomIndex2:fs-uu+up[2*zn+1],bondOrder:au.bondOrderList[zn]})}ys+=1}Er+=1}if(Yn=is+1,is=fs-1,As&&Xl)for(zn=0,ds=Xl.length;ds>zn;zn+=2){var Ou=Xl[zn],qu=Xl[zn+1];(Ou>=Yn&&is>=Ou||qu>=Yn&&is>=qu)&&As({atomIndex1:Ou,atomIndex2:qu,bondOrder:yu?yu[zn/2]:null})}yl+=1}}function Bn(Zn){return $(vo(Zn))}function co(Zn,Vn){Zn instanceof ArrayBuffer&&(Zn=new Uint8Array(Zn));var qn;return qn=Zn instanceof Uint8Array?gs(Zn):Zn,Gs(qn,Vn)}function vs(Zn,Vn,qn,hs){function us(){try{var Rs=co(xs.response);qn(Rs)}catch(zn){hs(zn)}}var xs=new XMLHttpRequest;xs.addEventListener("load",us,!0),xs.addEventListener("error",hs,!0),xs.responseType="arraybuffer",xs.open("GET",Vn+Zn.toUpperCase()),xs.send()}function Ts(Zn,Vn,qn){vs(Zn,_l,Vn,qn)}function Fs(Zn,Vn,qn){vs(Zn,Cl,Vn,qn)}var Os=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],Ns=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Ps=Os.concat(Ns),Ks="v1.0.1",Bs="//mmtf.rcsb.org/v1.0/",_l=Bs+"full/",Cl=Bs+"reduced/";o.encode=Bn,o.decode=co,o.traverse=Kn,o.fetch=Ts,o.fetchReduced=Fs,o.version=Ks,o.fetchUrl=_l,o.fetchReducedUrl=Cl,o.encodeMsgpack=$,o.encodeMmtf=vo,o.decodeMsgpack=gs,o.decodeMmtf=Gs})},"./node_modules/pako/dist/pako.esm.mjs":(a,e,o)=>{o.r(e),o.d(e,{Deflate:()=>qm,Inflate:()=>ev,constants:()=>iv,default:()=>Hv,deflate:()=>Qm,deflateRaw:()=>Zm,gzip:()=>Jm,inflate:()=>tv,inflateRaw:()=>rv,ungzip:()=>nv});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const c=4,h=0,g=1,b=2;function $(rr){let Wn=rr.length;for(;--Wn>=0;)rr[Wn]=0}const j=0,rt=1,nt=2,ot=3,_t=258,Et=29,It=256,it=It+1+Et,st=30,Mt=19,bt=2*it+1,Lt=15,pt=16,Dt=7,wt=256,Bt=16,jt=17,hr=18,gr=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Cr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),yr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xr=512,In=new Array((it+2)*2);$(In);const rn=new Array(st*2);$(rn);const Sr=new Array(xr);$(Sr);const Tr=new Array(_t-ot+1);$(Tr);const Ln=new Array(Et);$(Ln);const Fn=new Array(st);$(Fn);function Or(rr,Wn,vr,ao,po){this.static_tree=rr,this.extra_bits=Wn,this.extra_base=vr,this.elems=ao,this.max_length=po,this.has_stree=rr&&rr.length}let Nn,eo,uo;function wo(rr,Wn){this.dyn_tree=rr,this.max_code=0,this.stat_desc=Wn}const bo=rr=>rr<256?Sr[rr]:Sr[256+(rr>>>7)],es=(rr,Wn)=>{rr.pending_buf[rr.pending++]=Wn&255,rr.pending_buf[rr.pending++]=Wn>>>8&255},rs=(rr,Wn,vr)=>{rr.bi_valid>pt-vr?(rr.bi_buf|=Wn<<rr.bi_valid&65535,es(rr,rr.bi_buf),rr.bi_buf=Wn>>pt-rr.bi_valid,rr.bi_valid+=vr-pt):(rr.bi_buf|=Wn<<rr.bi_valid&65535,rr.bi_valid+=vr)},vo=(rr,Wn,vr)=>{rs(rr,vr[Wn*2],vr[Wn*2+1])},gs=(rr,Wn)=>{let vr=0;do vr|=rr&1,rr>>>=1,vr<<=1;while(--Wn>0);return vr>>>1},cs=rr=>{rr.bi_valid===16?(es(rr,rr.bi_buf),rr.bi_buf=0,rr.bi_valid=0):rr.bi_valid>=8&&(rr.pending_buf[rr.pending++]=rr.bi_buf&255,rr.bi_buf>>=8,rr.bi_valid-=8)},Gs=(rr,Wn)=>{const vr=Wn.dyn_tree,ao=Wn.max_code,po=Wn.stat_desc.static_tree,ts=Wn.stat_desc.has_stree,Is=Wn.stat_desc.extra_bits,ws=Wn.stat_desc.extra_base,Dl=Wn.stat_desc.max_length;let ps,Ds,pu,Sl,Qs,wu,Eu=0;for(Sl=0;Sl<=Lt;Sl++)rr.bl_count[Sl]=0;for(vr[rr.heap[rr.heap_max]*2+1]=0,ps=rr.heap_max+1;ps<bt;ps++)Ds=rr.heap[ps],Sl=vr[vr[Ds*2+1]*2+1]+1,Sl>Dl&&(Sl=Dl,Eu++),vr[Ds*2+1]=Sl,!(Ds>ao)&&(rr.bl_count[Sl]++,Qs=0,Ds>=ws&&(Qs=Is[Ds-ws]),wu=vr[Ds*2],rr.opt_len+=wu*(Sl+Qs),ts&&(rr.static_len+=wu*(po[Ds*2+1]+Qs)));if(Eu!==0){do{for(Sl=Dl-1;rr.bl_count[Sl]===0;)Sl--;rr.bl_count[Sl]--,rr.bl_count[Sl+1]+=2,rr.bl_count[Dl]--,Eu-=2}while(Eu>0);for(Sl=Dl;Sl!==0;Sl--)for(Ds=rr.bl_count[Sl];Ds!==0;)pu=rr.heap[--ps],!(pu>ao)&&(vr[pu*2+1]!==Sl&&(rr.opt_len+=(Sl-vr[pu*2+1])*vr[pu*2],vr[pu*2+1]=Sl),Ds--)}},$n=(rr,Wn,vr)=>{const ao=new Array(Lt+1);let po=0,ts,Is;for(ts=1;ts<=Lt;ts++)po=po+vr[ts-1]<<1,ao[ts]=po;for(Is=0;Is<=Wn;Is++){let ws=rr[Is*2+1];ws!==0&&(rr[Is*2]=gs(ao[ws]++,ws))}},Kn=()=>{let rr,Wn,vr,ao,po;const ts=new Array(Lt+1);for(vr=0,ao=0;ao<Et-1;ao++)for(Ln[ao]=vr,rr=0;rr<1<<gr[ao];rr++)Tr[vr++]=ao;for(Tr[vr-1]=ao,po=0,ao=0;ao<16;ao++)for(Fn[ao]=po,rr=0;rr<1<<Cr[ao];rr++)Sr[po++]=ao;for(po>>=7;ao<st;ao++)for(Fn[ao]=po<<7,rr=0;rr<1<<Cr[ao]-7;rr++)Sr[256+po++]=ao;for(Wn=0;Wn<=Lt;Wn++)ts[Wn]=0;for(rr=0;rr<=143;)In[rr*2+1]=8,rr++,ts[8]++;for(;rr<=255;)In[rr*2+1]=9,rr++,ts[9]++;for(;rr<=279;)In[rr*2+1]=7,rr++,ts[7]++;for(;rr<=287;)In[rr*2+1]=8,rr++,ts[8]++;for($n(In,it+1,ts),rr=0;rr<st;rr++)rn[rr*2+1]=5,rn[rr*2]=gs(rr,5);Nn=new Or(In,gr,It+1,it,Lt),eo=new Or(rn,Cr,0,st,Lt),uo=new Or(new Array(0),wr,0,Mt,Dt)},Bn=rr=>{let Wn;for(Wn=0;Wn<it;Wn++)rr.dyn_ltree[Wn*2]=0;for(Wn=0;Wn<st;Wn++)rr.dyn_dtree[Wn*2]=0;for(Wn=0;Wn<Mt;Wn++)rr.bl_tree[Wn*2]=0;rr.dyn_ltree[wt*2]=1,rr.opt_len=rr.static_len=0,rr.sym_next=rr.matches=0},co=rr=>{rr.bi_valid>8?es(rr,rr.bi_buf):rr.bi_valid>0&&(rr.pending_buf[rr.pending++]=rr.bi_buf),rr.bi_buf=0,rr.bi_valid=0},vs=(rr,Wn,vr,ao)=>{const po=Wn*2,ts=vr*2;return rr[po]<rr[ts]||rr[po]===rr[ts]&&ao[Wn]<=ao[vr]},Ts=(rr,Wn,vr)=>{const ao=rr.heap[vr];let po=vr<<1;for(;po<=rr.heap_len&&(po<rr.heap_len&&vs(Wn,rr.heap[po+1],rr.heap[po],rr.depth)&&po++,!vs(Wn,ao,rr.heap[po],rr.depth));)rr.heap[vr]=rr.heap[po],vr=po,po<<=1;rr.heap[vr]=ao},Fs=(rr,Wn,vr)=>{let ao,po,ts=0,Is,ws;if(rr.sym_next!==0)do ao=rr.pending_buf[rr.sym_buf+ts++]&255,ao+=(rr.pending_buf[rr.sym_buf+ts++]&255)<<8,po=rr.pending_buf[rr.sym_buf+ts++],ao===0?vo(rr,po,Wn):(Is=Tr[po],vo(rr,Is+It+1,Wn),ws=gr[Is],ws!==0&&(po-=Ln[Is],rs(rr,po,ws)),ao--,Is=bo(ao),vo(rr,Is,vr),ws=Cr[Is],ws!==0&&(ao-=Fn[Is],rs(rr,ao,ws)));while(ts<rr.sym_next);vo(rr,wt,Wn)},Os=(rr,Wn)=>{const vr=Wn.dyn_tree,ao=Wn.stat_desc.static_tree,po=Wn.stat_desc.has_stree,ts=Wn.stat_desc.elems;let Is,ws,Dl=-1,ps;for(rr.heap_len=0,rr.heap_max=bt,Is=0;Is<ts;Is++)vr[Is*2]!==0?(rr.heap[++rr.heap_len]=Dl=Is,rr.depth[Is]=0):vr[Is*2+1]=0;for(;rr.heap_len<2;)ps=rr.heap[++rr.heap_len]=Dl<2?++Dl:0,vr[ps*2]=1,rr.depth[ps]=0,rr.opt_len--,po&&(rr.static_len-=ao[ps*2+1]);for(Wn.max_code=Dl,Is=rr.heap_len>>1;Is>=1;Is--)Ts(rr,vr,Is);ps=ts;do Is=rr.heap[1],rr.heap[1]=rr.heap[rr.heap_len--],Ts(rr,vr,1),ws=rr.heap[1],rr.heap[--rr.heap_max]=Is,rr.heap[--rr.heap_max]=ws,vr[ps*2]=vr[Is*2]+vr[ws*2],rr.depth[ps]=(rr.depth[Is]>=rr.depth[ws]?rr.depth[Is]:rr.depth[ws])+1,vr[Is*2+1]=vr[ws*2+1]=ps,rr.heap[1]=ps++,Ts(rr,vr,1);while(rr.heap_len>=2);rr.heap[--rr.heap_max]=rr.heap[1],Gs(rr,Wn),$n(vr,Dl,rr.bl_count)},Ns=(rr,Wn,vr)=>{let ao,po=-1,ts,Is=Wn[0*2+1],ws=0,Dl=7,ps=4;for(Is===0&&(Dl=138,ps=3),Wn[(vr+1)*2+1]=65535,ao=0;ao<=vr;ao++)ts=Is,Is=Wn[(ao+1)*2+1],!(++ws<Dl&&ts===Is)&&(ws<ps?rr.bl_tree[ts*2]+=ws:ts!==0?(ts!==po&&rr.bl_tree[ts*2]++,rr.bl_tree[Bt*2]++):ws<=10?rr.bl_tree[jt*2]++:rr.bl_tree[hr*2]++,ws=0,po=ts,Is===0?(Dl=138,ps=3):ts===Is?(Dl=6,ps=3):(Dl=7,ps=4))},Ps=(rr,Wn,vr)=>{let ao,po=-1,ts,Is=Wn[0*2+1],ws=0,Dl=7,ps=4;for(Is===0&&(Dl=138,ps=3),ao=0;ao<=vr;ao++)if(ts=Is,Is=Wn[(ao+1)*2+1],!(++ws<Dl&&ts===Is)){if(ws<ps)do vo(rr,ts,rr.bl_tree);while(--ws!==0);else ts!==0?(ts!==po&&(vo(rr,ts,rr.bl_tree),ws--),vo(rr,Bt,rr.bl_tree),rs(rr,ws-3,2)):ws<=10?(vo(rr,jt,rr.bl_tree),rs(rr,ws-3,3)):(vo(rr,hr,rr.bl_tree),rs(rr,ws-11,7));ws=0,po=ts,Is===0?(Dl=138,ps=3):ts===Is?(Dl=6,ps=3):(Dl=7,ps=4)}},Ks=rr=>{let Wn;for(Ns(rr,rr.dyn_ltree,rr.l_desc.max_code),Ns(rr,rr.dyn_dtree,rr.d_desc.max_code),Os(rr,rr.bl_desc),Wn=Mt-1;Wn>=3&&rr.bl_tree[yr[Wn]*2+1]===0;Wn--);return rr.opt_len+=3*(Wn+1)+5+5+4,Wn},Bs=(rr,Wn,vr,ao)=>{let po;for(rs(rr,Wn-257,5),rs(rr,vr-1,5),rs(rr,ao-4,4),po=0;po<ao;po++)rs(rr,rr.bl_tree[yr[po]*2+1],3);Ps(rr,rr.dyn_ltree,Wn-1),Ps(rr,rr.dyn_dtree,vr-1)},_l=rr=>{let Wn=4093624447,vr;for(vr=0;vr<=31;vr++,Wn>>>=1)if(Wn&1&&rr.dyn_ltree[vr*2]!==0)return h;if(rr.dyn_ltree[9*2]!==0||rr.dyn_ltree[10*2]!==0||rr.dyn_ltree[13*2]!==0)return g;for(vr=32;vr<It;vr++)if(rr.dyn_ltree[vr*2]!==0)return g;return h};let Cl=!1;const Zn=rr=>{Cl||(Kn(),Cl=!0),rr.l_desc=new wo(rr.dyn_ltree,Nn),rr.d_desc=new wo(rr.dyn_dtree,eo),rr.bl_desc=new wo(rr.bl_tree,uo),rr.bi_buf=0,rr.bi_valid=0,Bn(rr)},Vn=(rr,Wn,vr,ao)=>{rs(rr,(j<<1)+(ao?1:0),3),co(rr),es(rr,vr),es(rr,~vr),vr&&rr.pending_buf.set(rr.window.subarray(Wn,Wn+vr),rr.pending),rr.pending+=vr},qn=rr=>{rs(rr,rt<<1,3),vo(rr,wt,In),cs(rr)},hs=(rr,Wn,vr,ao)=>{let po,ts,Is=0;rr.level>0?(rr.strm.data_type===b&&(rr.strm.data_type=_l(rr)),Os(rr,rr.l_desc),Os(rr,rr.d_desc),Is=Ks(rr),po=rr.opt_len+3+7>>>3,ts=rr.static_len+3+7>>>3,ts<=po&&(po=ts)):po=ts=vr+5,vr+4<=po&&Wn!==-1?Vn(rr,Wn,vr,ao):rr.strategy===c||ts===po?(rs(rr,(rt<<1)+(ao?1:0),3),Fs(rr,In,rn)):(rs(rr,(nt<<1)+(ao?1:0),3),Bs(rr,rr.l_desc.max_code+1,rr.d_desc.max_code+1,Is+1),Fs(rr,rr.dyn_ltree,rr.dyn_dtree)),Bn(rr),ao&&co(rr)},us=(rr,Wn,vr)=>(rr.pending_buf[rr.sym_buf+rr.sym_next++]=Wn,rr.pending_buf[rr.sym_buf+rr.sym_next++]=Wn>>8,rr.pending_buf[rr.sym_buf+rr.sym_next++]=vr,Wn===0?rr.dyn_ltree[vr*2]++:(rr.matches++,Wn--,rr.dyn_ltree[(Tr[vr]+It+1)*2]++,rr.dyn_dtree[bo(Wn)*2]++),rr.sym_next===rr.sym_end);var xs=Zn,Rs=Vn,zn=hs,ds=us,_s=qn,ks={_tr_init:xs,_tr_stored_block:Rs,_tr_flush_block:zn,_tr_tally:ds,_tr_align:_s},as=(rr,Wn,vr,ao)=>{let po=rr&65535|0,ts=rr>>>16&65535|0,Is=0;for(;vr!==0;){Is=vr>2e3?2e3:vr,vr-=Is;do po=po+Wn[ao++]|0,ts=ts+po|0;while(--Is);po%=65521,ts%=65521}return po|ts<<16|0};const Ls=()=>{let rr,Wn=[];for(var vr=0;vr<256;vr++){rr=vr;for(var ao=0;ao<8;ao++)rr=rr&1?3988292384^rr>>>1:rr>>>1;Wn[vr]=rr}return Wn},Un=new Uint32Array(Ls());var As=(rr,Wn,vr,ao)=>{const po=Un,ts=ao+vr;rr^=-1;for(let Is=ao;Is<ts;Is++)rr=rr>>>8^po[(rr^Wn[Is])&255];return rr^-1},yl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Er={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ys,_tr_stored_block:fs,_tr_flush_block:Yn,_tr_tally:is,_tr_align:Es}=ks,{Z_NO_FLUSH:zs,Z_PARTIAL_FLUSH:Js,Z_FULL_FLUSH:Hs,Z_FINISH:Al,Z_BLOCK:Zl,Z_OK:Ll,Z_STREAM_END:Wl,Z_STREAM_ERROR:Xl,Z_DATA_ERROR:yu,Z_BUF_ERROR:lu,Z_DEFAULT_COMPRESSION:zu,Z_FILTERED:Uu,Z_HUFFMAN_ONLY:tu,Z_RLE:au,Z_FIXED:uu,Z_DEFAULT_STRATEGY:gu,Z_UNKNOWN:bu,Z_DEFLATED:Mu}=Er,np=9,lp=15,Tp=8,ip=286,up=30,Ou=19,qu=2*ip+1,ep=15,Bl=3,Nu=258,xu=Nu+Bl+1,_u=32,Bu=42,cp=57,mp=69,Gu=73,op=91,vp=103,ju=113,sp=666,Au=1,tp=2,hu=3,dp=4,yp=3,rp=(rr,Wn)=>(rr.msg=yl[Wn],Wn),Ip=rr=>rr*2-(rr>4?9:0),$u=rr=>{let Wn=rr.length;for(;--Wn>=0;)rr[Wn]=0},pp=rr=>{let Wn,vr,ao,po=rr.w_size;Wn=rr.hash_size,ao=Wn;do vr=rr.head[--ao],rr.head[ao]=vr>=po?vr-po:0;while(--Wn);Wn=po,ao=Wn;do vr=rr.prev[--ao],rr.prev[ao]=vr>=po?vr-po:0;while(--Wn)};let Qn=(rr,Wn,vr)=>(Wn<<rr.hash_shift^vr)&rr.hash_mask;const lo=rr=>{const Wn=rr.state;let vr=Wn.pending;vr>rr.avail_out&&(vr=rr.avail_out),vr!==0&&(rr.output.set(Wn.pending_buf.subarray(Wn.pending_out,Wn.pending_out+vr),rr.next_out),rr.next_out+=vr,Wn.pending_out+=vr,rr.total_out+=vr,rr.avail_out-=vr,Wn.pending-=vr,Wn.pending===0&&(Wn.pending_out=0))},ns=(rr,Wn)=>{Yn(rr,rr.block_start>=0?rr.block_start:-1,rr.strstart-rr.block_start,Wn),rr.block_start=rr.strstart,lo(rr.strm)},Cs=(rr,Wn)=>{rr.pending_buf[rr.pending++]=Wn},Us=(rr,Wn)=>{rr.pending_buf[rr.pending++]=Wn>>>8&255,rr.pending_buf[rr.pending++]=Wn&255},Tl=(rr,Wn,vr,ao)=>{let po=rr.avail_in;return po>ao&&(po=ao),po===0?0:(rr.avail_in-=po,Wn.set(rr.input.subarray(rr.next_in,rr.next_in+po),vr),rr.state.wrap===1?rr.adler=as(rr.adler,Wn,po,vr):rr.state.wrap===2&&(rr.adler=As(rr.adler,Wn,po,vr)),rr.next_in+=po,rr.total_in+=po,po)},zl=(rr,Wn)=>{let vr=rr.max_chain_length,ao=rr.strstart,po,ts,Is=rr.prev_length,ws=rr.nice_match;const Dl=rr.strstart>rr.w_size-xu?rr.strstart-(rr.w_size-xu):0,ps=rr.window,Ds=rr.w_mask,pu=rr.prev,Sl=rr.strstart+Nu;let Qs=ps[ao+Is-1],wu=ps[ao+Is];rr.prev_length>=rr.good_match&&(vr>>=2),ws>rr.lookahead&&(ws=rr.lookahead);do if(po=Wn,!(ps[po+Is]!==wu||ps[po+Is-1]!==Qs||ps[po]!==ps[ao]||ps[++po]!==ps[ao+1])){ao+=2,po++;do;while(ps[++ao]===ps[++po]&&ps[++ao]===ps[++po]&&ps[++ao]===ps[++po]&&ps[++ao]===ps[++po]&&ps[++ao]===ps[++po]&&ps[++ao]===ps[++po]&&ps[++ao]===ps[++po]&&ps[++ao]===ps[++po]&&ao<Sl);if(ts=Nu-(Sl-ao),ao=Sl-Nu,ts>Is){if(rr.match_start=Wn,Is=ts,ts>=ws)break;Qs=ps[ao+Is-1],wu=ps[ao+Is]}}while((Wn=pu[Wn&Ds])>Dl&&--vr!==0);return Is<=rr.lookahead?Is:rr.lookahead},vu=rr=>{const Wn=rr.w_size;let vr,ao,po;do{if(ao=rr.window_size-rr.lookahead-rr.strstart,rr.strstart>=Wn+(Wn-xu)&&(rr.window.set(rr.window.subarray(Wn,Wn+Wn-ao),0),rr.match_start-=Wn,rr.strstart-=Wn,rr.block_start-=Wn,rr.insert>rr.strstart&&(rr.insert=rr.strstart),pp(rr),ao+=Wn),rr.strm.avail_in===0)break;if(vr=Tl(rr.strm,rr.window,rr.strstart+rr.lookahead,ao),rr.lookahead+=vr,rr.lookahead+rr.insert>=Bl)for(po=rr.strstart-rr.insert,rr.ins_h=rr.window[po],rr.ins_h=Qn(rr,rr.ins_h,rr.window[po+1]);rr.insert&&(rr.ins_h=Qn(rr,rr.ins_h,rr.window[po+Bl-1]),rr.prev[po&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=po,po++,rr.insert--,!(rr.lookahead+rr.insert<Bl)););}while(rr.lookahead<xu&&rr.strm.avail_in!==0)},Su=(rr,Wn)=>{let vr=rr.pending_buf_size-5>rr.w_size?rr.w_size:rr.pending_buf_size-5,ao,po,ts,Is=0,ws=rr.strm.avail_in;do{if(ao=65535,ts=rr.bi_valid+42>>3,rr.strm.avail_out<ts||(ts=rr.strm.avail_out-ts,po=rr.strstart-rr.block_start,ao>po+rr.strm.avail_in&&(ao=po+rr.strm.avail_in),ao>ts&&(ao=ts),ao<vr&&(ao===0&&Wn!==Al||Wn===zs||ao!==po+rr.strm.avail_in)))break;Is=Wn===Al&&ao===po+rr.strm.avail_in?1:0,fs(rr,0,0,Is),rr.pending_buf[rr.pending-4]=ao,rr.pending_buf[rr.pending-3]=ao>>8,rr.pending_buf[rr.pending-2]=~ao,rr.pending_buf[rr.pending-1]=~ao>>8,lo(rr.strm),po&&(po>ao&&(po=ao),rr.strm.output.set(rr.window.subarray(rr.block_start,rr.block_start+po),rr.strm.next_out),rr.strm.next_out+=po,rr.strm.avail_out-=po,rr.strm.total_out+=po,rr.block_start+=po,ao-=po),ao&&(Tl(rr.strm,rr.strm.output,rr.strm.next_out,ao),rr.strm.next_out+=ao,rr.strm.avail_out-=ao,rr.strm.total_out+=ao)}while(Is===0);return ws-=rr.strm.avail_in,ws&&(ws>=rr.w_size?(rr.matches=2,rr.window.set(rr.strm.input.subarray(rr.strm.next_in-rr.w_size,rr.strm.next_in),0),rr.strstart=rr.w_size,rr.insert=rr.strstart):(rr.window_size-rr.strstart<=ws&&(rr.strstart-=rr.w_size,rr.window.set(rr.window.subarray(rr.w_size,rr.w_size+rr.strstart),0),rr.matches<2&&rr.matches++,rr.insert>rr.strstart&&(rr.insert=rr.strstart)),rr.window.set(rr.strm.input.subarray(rr.strm.next_in-ws,rr.strm.next_in),rr.strstart),rr.strstart+=ws,rr.insert+=ws>rr.w_size-rr.insert?rr.w_size-rr.insert:ws),rr.block_start=rr.strstart),rr.high_water<rr.strstart&&(rr.high_water=rr.strstart),Is?dp:Wn!==zs&&Wn!==Al&&rr.strm.avail_in===0&&rr.strstart===rr.block_start?tp:(ts=rr.window_size-rr.strstart,rr.strm.avail_in>ts&&rr.block_start>=rr.w_size&&(rr.block_start-=rr.w_size,rr.strstart-=rr.w_size,rr.window.set(rr.window.subarray(rr.w_size,rr.w_size+rr.strstart),0),rr.matches<2&&rr.matches++,ts+=rr.w_size,rr.insert>rr.strstart&&(rr.insert=rr.strstart)),ts>rr.strm.avail_in&&(ts=rr.strm.avail_in),ts&&(Tl(rr.strm,rr.window,rr.strstart,ts),rr.strstart+=ts,rr.insert+=ts>rr.w_size-rr.insert?rr.w_size-rr.insert:ts),rr.high_water<rr.strstart&&(rr.high_water=rr.strstart),ts=rr.bi_valid+42>>3,ts=rr.pending_buf_size-ts>65535?65535:rr.pending_buf_size-ts,vr=ts>rr.w_size?rr.w_size:ts,po=rr.strstart-rr.block_start,(po>=vr||(po||Wn===Al)&&Wn!==zs&&rr.strm.avail_in===0&&po<=ts)&&(ao=po>ts?ts:po,Is=Wn===Al&&rr.strm.avail_in===0&&ao===po?1:0,fs(rr,rr.block_start,ao,Is),rr.block_start+=ao,lo(rr.strm)),Is?hu:Au)},Tu=(rr,Wn)=>{let vr,ao;for(;;){if(rr.lookahead<xu){if(vu(rr),rr.lookahead<xu&&Wn===zs)return Au;if(rr.lookahead===0)break}if(vr=0,rr.lookahead>=Bl&&(rr.ins_h=Qn(rr,rr.ins_h,rr.window[rr.strstart+Bl-1]),vr=rr.prev[rr.strstart&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=rr.strstart),vr!==0&&rr.strstart-vr<=rr.w_size-xu&&(rr.match_length=zl(rr,vr)),rr.match_length>=Bl)if(ao=is(rr,rr.strstart-rr.match_start,rr.match_length-Bl),rr.lookahead-=rr.match_length,rr.match_length<=rr.max_lazy_match&&rr.lookahead>=Bl){rr.match_length--;do rr.strstart++,rr.ins_h=Qn(rr,rr.ins_h,rr.window[rr.strstart+Bl-1]),vr=rr.prev[rr.strstart&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=rr.strstart;while(--rr.match_length!==0);rr.strstart++}else rr.strstart+=rr.match_length,rr.match_length=0,rr.ins_h=rr.window[rr.strstart],rr.ins_h=Qn(rr,rr.ins_h,rr.window[rr.strstart+1]);else ao=is(rr,0,rr.window[rr.strstart]),rr.lookahead--,rr.strstart++;if(ao&&(ns(rr,!1),rr.strm.avail_out===0))return Au}return rr.insert=rr.strstart<Bl-1?rr.strstart:Bl-1,Wn===Al?(ns(rr,!0),rr.strm.avail_out===0?hu:dp):rr.sym_next&&(ns(rr,!1),rr.strm.avail_out===0)?Au:tp},Iu=(rr,Wn)=>{let vr,ao,po;for(;;){if(rr.lookahead<xu){if(vu(rr),rr.lookahead<xu&&Wn===zs)return Au;if(rr.lookahead===0)break}if(vr=0,rr.lookahead>=Bl&&(rr.ins_h=Qn(rr,rr.ins_h,rr.window[rr.strstart+Bl-1]),vr=rr.prev[rr.strstart&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=rr.strstart),rr.prev_length=rr.match_length,rr.prev_match=rr.match_start,rr.match_length=Bl-1,vr!==0&&rr.prev_length<rr.max_lazy_match&&rr.strstart-vr<=rr.w_size-xu&&(rr.match_length=zl(rr,vr),rr.match_length<=5&&(rr.strategy===Uu||rr.match_length===Bl&&rr.strstart-rr.match_start>4096)&&(rr.match_length=Bl-1)),rr.prev_length>=Bl&&rr.match_length<=rr.prev_length){po=rr.strstart+rr.lookahead-Bl,ao=is(rr,rr.strstart-1-rr.prev_match,rr.prev_length-Bl),rr.lookahead-=rr.prev_length-1,rr.prev_length-=2;do++rr.strstart<=po&&(rr.ins_h=Qn(rr,rr.ins_h,rr.window[rr.strstart+Bl-1]),vr=rr.prev[rr.strstart&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=rr.strstart);while(--rr.prev_length!==0);if(rr.match_available=0,rr.match_length=Bl-1,rr.strstart++,ao&&(ns(rr,!1),rr.strm.avail_out===0))return Au}else if(rr.match_available){if(ao=is(rr,0,rr.window[rr.strstart-1]),ao&&ns(rr,!1),rr.strstart++,rr.lookahead--,rr.strm.avail_out===0)return Au}else rr.match_available=1,rr.strstart++,rr.lookahead--}return rr.match_available&&(ao=is(rr,0,rr.window[rr.strstart-1]),rr.match_available=0),rr.insert=rr.strstart<Bl-1?rr.strstart:Bl-1,Wn===Al?(ns(rr,!0),rr.strm.avail_out===0?hu:dp):rr.sym_next&&(ns(rr,!1),rr.strm.avail_out===0)?Au:tp},Jp=(rr,Wn)=>{let vr,ao,po,ts;const Is=rr.window;for(;;){if(rr.lookahead<=Nu){if(vu(rr),rr.lookahead<=Nu&&Wn===zs)return Au;if(rr.lookahead===0)break}if(rr.match_length=0,rr.lookahead>=Bl&&rr.strstart>0&&(po=rr.strstart-1,ao=Is[po],ao===Is[++po]&&ao===Is[++po]&&ao===Is[++po])){ts=rr.strstart+Nu;do;while(ao===Is[++po]&&ao===Is[++po]&&ao===Is[++po]&&ao===Is[++po]&&ao===Is[++po]&&ao===Is[++po]&&ao===Is[++po]&&ao===Is[++po]&&po<ts);rr.match_length=Nu-(ts-po),rr.match_length>rr.lookahead&&(rr.match_length=rr.lookahead)}if(rr.match_length>=Bl?(vr=is(rr,1,rr.match_length-Bl),rr.lookahead-=rr.match_length,rr.strstart+=rr.match_length,rr.match_length=0):(vr=is(rr,0,rr.window[rr.strstart]),rr.lookahead--,rr.strstart++),vr&&(ns(rr,!1),rr.strm.avail_out===0))return Au}return rr.insert=0,Wn===Al?(ns(rr,!0),rr.strm.avail_out===0?hu:dp):rr.sym_next&&(ns(rr,!1),rr.strm.avail_out===0)?Au:tp},Om=(rr,Wn)=>{let vr;for(;;){if(rr.lookahead===0&&(vu(rr),rr.lookahead===0)){if(Wn===zs)return Au;break}if(rr.match_length=0,vr=is(rr,0,rr.window[rr.strstart]),rr.lookahead--,rr.strstart++,vr&&(ns(rr,!1),rr.strm.avail_out===0))return Au}return rr.insert=0,Wn===Al?(ns(rr,!0),rr.strm.avail_out===0?hu:dp):rr.sym_next&&(ns(rr,!1),rr.strm.avail_out===0)?Au:tp};function ap(rr,Wn,vr,ao,po){this.good_length=rr,this.max_lazy=Wn,this.nice_length=vr,this.max_chain=ao,this.func=po}const Lp=[new ap(0,0,0,0,Su),new ap(4,4,8,4,Tu),new ap(4,5,16,8,Tu),new ap(4,6,32,32,Tu),new ap(4,4,16,16,Iu),new ap(8,16,32,32,Iu),new ap(8,16,128,128,Iu),new ap(8,32,128,256,Iu),new ap(32,128,258,1024,Iu),new ap(32,258,258,4096,Iu)],Am=rr=>{rr.window_size=2*rr.w_size,$u(rr.head),rr.max_lazy_match=Lp[rr.level].max_lazy,rr.good_match=Lp[rr.level].good_length,rr.nice_match=Lp[rr.level].nice_length,rr.max_chain_length=Lp[rr.level].max_chain,rr.strstart=0,rr.block_start=0,rr.lookahead=0,rr.insert=0,rr.match_length=rr.prev_length=Bl-1,rr.match_available=0,rr.ins_h=0};function Tm(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Mu,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(qu*2),this.dyn_dtree=new Uint16Array((2*up+1)*2),this.bl_tree=new Uint16Array((2*Ou+1)*2),$u(this.dyn_ltree),$u(this.dyn_dtree),$u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ep+1),this.heap=new Uint16Array(2*ip+1),$u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ip+1),$u(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fp=rr=>{if(!rr)return 1;const Wn=rr.state;return!Wn||Wn.strm!==rr||Wn.status!==Bu&&Wn.status!==cp&&Wn.status!==mp&&Wn.status!==Gu&&Wn.status!==op&&Wn.status!==vp&&Wn.status!==ju&&Wn.status!==sp?1:0},hm=rr=>{if(Fp(rr))return rp(rr,Xl);rr.total_in=rr.total_out=0,rr.data_type=bu;const Wn=rr.state;return Wn.pending=0,Wn.pending_out=0,Wn.wrap<0&&(Wn.wrap=-Wn.wrap),Wn.status=Wn.wrap===2?cp:Wn.wrap?Bu:ju,rr.adler=Wn.wrap===2?0:1,Wn.last_flush=-2,ys(Wn),Ll},_h=rr=>{const Wn=hm(rr);return Wn===Ll&&Am(rr.state),Wn},_f=(rr,Wn)=>Fp(rr)||rr.state.wrap!==2?Xl:(rr.state.gzhead=Wn,Ll),_g=(rr,Wn,vr,ao,po,ts)=>{if(!rr)return Xl;let Is=1;if(Wn===zu&&(Wn=6),ao<0?(Is=0,ao=-ao):ao>15&&(Is=2,ao-=16),po<1||po>np||vr!==Mu||ao<8||ao>15||Wn<0||Wn>9||ts<0||ts>uu||ao===8&&Is!==1)return rp(rr,Xl);ao===8&&(ao=9);const ws=new Tm;return rr.state=ws,ws.strm=rr,ws.status=Bu,ws.wrap=Is,ws.gzhead=null,ws.w_bits=ao,ws.w_size=1<<ws.w_bits,ws.w_mask=ws.w_size-1,ws.hash_bits=po+7,ws.hash_size=1<<ws.hash_bits,ws.hash_mask=ws.hash_size-1,ws.hash_shift=~~((ws.hash_bits+Bl-1)/Bl),ws.window=new Uint8Array(ws.w_size*2),ws.head=new Uint16Array(ws.hash_size),ws.prev=new Uint16Array(ws.w_size),ws.lit_bufsize=1<<po+6,ws.pending_buf_size=ws.lit_bufsize*4,ws.pending_buf=new Uint8Array(ws.pending_buf_size),ws.sym_buf=ws.lit_bufsize,ws.sym_end=(ws.lit_bufsize-1)*3,ws.level=Wn,ws.strategy=ts,ws.method=vr,_h(rr)},em=(rr,Wn)=>_g(rr,Wn,Mu,lp,Tp,gu),fm=(rr,Wn)=>{if(Fp(rr)||Wn>Zl||Wn<0)return rr?rp(rr,Xl):Xl;const vr=rr.state;if(!rr.output||rr.avail_in!==0&&!rr.input||vr.status===sp&&Wn!==Al)return rp(rr,rr.avail_out===0?lu:Xl);const ao=vr.last_flush;if(vr.last_flush=Wn,vr.pending!==0){if(lo(rr),rr.avail_out===0)return vr.last_flush=-1,Ll}else if(rr.avail_in===0&&Ip(Wn)<=Ip(ao)&&Wn!==Al)return rp(rr,lu);if(vr.status===sp&&rr.avail_in!==0)return rp(rr,lu);if(vr.status===Bu&&vr.wrap===0&&(vr.status=ju),vr.status===Bu){let po=Mu+(vr.w_bits-8<<4)<<8,ts=-1;if(vr.strategy>=tu||vr.level<2?ts=0:vr.level<6?ts=1:vr.level===6?ts=2:ts=3,po|=ts<<6,vr.strstart!==0&&(po|=_u),po+=31-po%31,Us(vr,po),vr.strstart!==0&&(Us(vr,rr.adler>>>16),Us(vr,rr.adler&65535)),rr.adler=1,vr.status=ju,lo(rr),vr.pending!==0)return vr.last_flush=-1,Ll}if(vr.status===cp){if(rr.adler=0,Cs(vr,31),Cs(vr,139),Cs(vr,8),vr.gzhead)Cs(vr,(vr.gzhead.text?1:0)+(vr.gzhead.hcrc?2:0)+(vr.gzhead.extra?4:0)+(vr.gzhead.name?8:0)+(vr.gzhead.comment?16:0)),Cs(vr,vr.gzhead.time&255),Cs(vr,vr.gzhead.time>>8&255),Cs(vr,vr.gzhead.time>>16&255),Cs(vr,vr.gzhead.time>>24&255),Cs(vr,vr.level===9?2:vr.strategy>=tu||vr.level<2?4:0),Cs(vr,vr.gzhead.os&255),vr.gzhead.extra&&vr.gzhead.extra.length&&(Cs(vr,vr.gzhead.extra.length&255),Cs(vr,vr.gzhead.extra.length>>8&255)),vr.gzhead.hcrc&&(rr.adler=As(rr.adler,vr.pending_buf,vr.pending,0)),vr.gzindex=0,vr.status=mp;else if(Cs(vr,0),Cs(vr,0),Cs(vr,0),Cs(vr,0),Cs(vr,0),Cs(vr,vr.level===9?2:vr.strategy>=tu||vr.level<2?4:0),Cs(vr,yp),vr.status=ju,lo(rr),vr.pending!==0)return vr.last_flush=-1,Ll}if(vr.status===mp){if(vr.gzhead.extra){let po=vr.pending,ts=(vr.gzhead.extra.length&65535)-vr.gzindex;for(;vr.pending+ts>vr.pending_buf_size;){let ws=vr.pending_buf_size-vr.pending;if(vr.pending_buf.set(vr.gzhead.extra.subarray(vr.gzindex,vr.gzindex+ws),vr.pending),vr.pending=vr.pending_buf_size,vr.gzhead.hcrc&&vr.pending>po&&(rr.adler=As(rr.adler,vr.pending_buf,vr.pending-po,po)),vr.gzindex+=ws,lo(rr),vr.pending!==0)return vr.last_flush=-1,Ll;po=0,ts-=ws}let Is=new Uint8Array(vr.gzhead.extra);vr.pending_buf.set(Is.subarray(vr.gzindex,vr.gzindex+ts),vr.pending),vr.pending+=ts,vr.gzhead.hcrc&&vr.pending>po&&(rr.adler=As(rr.adler,vr.pending_buf,vr.pending-po,po)),vr.gzindex=0}vr.status=Gu}if(vr.status===Gu){if(vr.gzhead.name){let po=vr.pending,ts;do{if(vr.pending===vr.pending_buf_size){if(vr.gzhead.hcrc&&vr.pending>po&&(rr.adler=As(rr.adler,vr.pending_buf,vr.pending-po,po)),lo(rr),vr.pending!==0)return vr.last_flush=-1,Ll;po=0}vr.gzindex<vr.gzhead.name.length?ts=vr.gzhead.name.charCodeAt(vr.gzindex++)&255:ts=0,Cs(vr,ts)}while(ts!==0);vr.gzhead.hcrc&&vr.pending>po&&(rr.adler=As(rr.adler,vr.pending_buf,vr.pending-po,po)),vr.gzindex=0}vr.status=op}if(vr.status===op){if(vr.gzhead.comment){let po=vr.pending,ts;do{if(vr.pending===vr.pending_buf_size){if(vr.gzhead.hcrc&&vr.pending>po&&(rr.adler=As(rr.adler,vr.pending_buf,vr.pending-po,po)),lo(rr),vr.pending!==0)return vr.last_flush=-1,Ll;po=0}vr.gzindex<vr.gzhead.comment.length?ts=vr.gzhead.comment.charCodeAt(vr.gzindex++)&255:ts=0,Cs(vr,ts)}while(ts!==0);vr.gzhead.hcrc&&vr.pending>po&&(rr.adler=As(rr.adler,vr.pending_buf,vr.pending-po,po))}vr.status=vp}if(vr.status===vp){if(vr.gzhead.hcrc){if(vr.pending+2>vr.pending_buf_size&&(lo(rr),vr.pending!==0))return vr.last_flush=-1,Ll;Cs(vr,rr.adler&255),Cs(vr,rr.adler>>8&255),rr.adler=0}if(vr.status=ju,lo(rr),vr.pending!==0)return vr.last_flush=-1,Ll}if(rr.avail_in!==0||vr.lookahead!==0||Wn!==zs&&vr.status!==sp){let po=vr.level===0?Su(vr,Wn):vr.strategy===tu?Om(vr,Wn):vr.strategy===au?Jp(vr,Wn):Lp[vr.level].func(vr,Wn);if((po===hu||po===dp)&&(vr.status=sp),po===Au||po===hu)return rr.avail_out===0&&(vr.last_flush=-1),Ll;if(po===tp&&(Wn===Js?Es(vr):Wn!==Zl&&(fs(vr,0,0,!1),Wn===Hs&&($u(vr.head),vr.lookahead===0&&(vr.strstart=0,vr.block_start=0,vr.insert=0))),lo(rr),rr.avail_out===0))return vr.last_flush=-1,Ll}return Wn!==Al?Ll:vr.wrap<=0?Wl:(vr.wrap===2?(Cs(vr,rr.adler&255),Cs(vr,rr.adler>>8&255),Cs(vr,rr.adler>>16&255),Cs(vr,rr.adler>>24&255),Cs(vr,rr.total_in&255),Cs(vr,rr.total_in>>8&255),Cs(vr,rr.total_in>>16&255),Cs(vr,rr.total_in>>24&255)):(Us(vr,rr.adler>>>16),Us(vr,rr.adler&65535)),lo(rr),vr.wrap>0&&(vr.wrap=-vr.wrap),vr.pending!==0?Ll:Wl)},gm=rr=>{if(Fp(rr))return Xl;const Wn=rr.state.status;return rr.state=null,Wn===ju?rp(rr,yu):Ll},tm=(rr,Wn)=>{let vr=Wn.length;if(Fp(rr))return Xl;const ao=rr.state,po=ao.wrap;if(po===2||po===1&&ao.status!==Bu||ao.lookahead)return Xl;if(po===1&&(rr.adler=as(rr.adler,Wn,vr,0)),ao.wrap=0,vr>=ao.w_size){po===0&&($u(ao.head),ao.strstart=0,ao.block_start=0,ao.insert=0);let Dl=new Uint8Array(ao.w_size);Dl.set(Wn.subarray(vr-ao.w_size,vr),0),Wn=Dl,vr=ao.w_size}const ts=rr.avail_in,Is=rr.next_in,ws=rr.input;for(rr.avail_in=vr,rr.next_in=0,rr.input=Wn,vu(ao);ao.lookahead>=Bl;){let Dl=ao.strstart,ps=ao.lookahead-(Bl-1);do ao.ins_h=Qn(ao,ao.ins_h,ao.window[Dl+Bl-1]),ao.prev[Dl&ao.w_mask]=ao.head[ao.ins_h],ao.head[ao.ins_h]=Dl,Dl++;while(--ps);ao.strstart=Dl,ao.lookahead=Bl-1,vu(ao)}return ao.strstart+=ao.lookahead,ao.block_start=ao.strstart,ao.insert=ao.lookahead,ao.lookahead=0,ao.match_length=ao.prev_length=Bl-1,ao.match_available=0,rr.next_in=Is,rr.input=ws,rr.avail_in=ts,ao.wrap=po,Ll};var Pm=em,Dm=_g,Mm=_h,Np=hm,mm=_f,rm=fm,Im=gm,Lm=tm,Fm="pako deflate (from Nodeca project)",Ht={deflateInit:Pm,deflateInit2:Dm,deflateReset:Mm,deflateResetKeep:Np,deflateSetHeader:mm,deflate:rm,deflateEnd:Im,deflateSetDictionary:Lm,deflateInfo:Fm};const mr=(rr,Wn)=>Object.prototype.hasOwnProperty.call(rr,Wn);var br=function(rr){const Wn=Array.prototype.slice.call(arguments,1);for(;Wn.length;){const vr=Wn.shift();if(vr){if(typeof vr!="object")throw new TypeError(vr+"must be non-object");for(const ao in vr)mr(vr,ao)&&(rr[ao]=vr[ao])}}return rr},tn=rr=>{let Wn=0;for(let ao=0,po=rr.length;ao<po;ao++)Wn+=rr[ao].length;const vr=new Uint8Array(Wn);for(let ao=0,po=0,ts=rr.length;ao<ts;ao++){let Is=rr[ao];vr.set(Is,po),po+=Is.length}return vr},Gn={assign:br,flattenChunks:tn};let Hn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Hn=!1}const Jn=new Uint8Array(256);for(let rr=0;rr<256;rr++)Jn[rr]=rr>=252?6:rr>=248?5:rr>=240?4:rr>=224?3:rr>=192?2:1;Jn[254]=Jn[254]=1;var ss=rr=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(rr);let Wn,vr,ao,po,ts,Is=rr.length,ws=0;for(po=0;po<Is;po++)vr=rr.charCodeAt(po),(vr&64512)===55296&&po+1<Is&&(ao=rr.charCodeAt(po+1),(ao&64512)===56320&&(vr=65536+(vr-55296<<10)+(ao-56320),po++)),ws+=vr<128?1:vr<2048?2:vr<65536?3:4;for(Wn=new Uint8Array(ws),ts=0,po=0;ts<ws;po++)vr=rr.charCodeAt(po),(vr&64512)===55296&&po+1<Is&&(ao=rr.charCodeAt(po+1),(ao&64512)===56320&&(vr=65536+(vr-55296<<10)+(ao-56320),po++)),vr<128?Wn[ts++]=vr:vr<2048?(Wn[ts++]=192|vr>>>6,Wn[ts++]=128|vr&63):vr<65536?(Wn[ts++]=224|vr>>>12,Wn[ts++]=128|vr>>>6&63,Wn[ts++]=128|vr&63):(Wn[ts++]=240|vr>>>18,Wn[ts++]=128|vr>>>12&63,Wn[ts++]=128|vr>>>6&63,Wn[ts++]=128|vr&63);return Wn};const ls=(rr,Wn)=>{if(Wn<65534&&rr.subarray&&Hn)return String.fromCharCode.apply(null,rr.length===Wn?rr:rr.subarray(0,Wn));let vr="";for(let ao=0;ao<Wn;ao++)vr+=String.fromCharCode(rr[ao]);return vr};var bs=(rr,Wn)=>{const vr=Wn||rr.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(rr.subarray(0,Wn));let ao,po;const ts=new Array(vr*2);for(po=0,ao=0;ao<vr;){let Is=rr[ao++];if(Is<128){ts[po++]=Is;continue}let ws=Jn[Is];if(ws>4){ts[po++]=65533,ao+=ws-1;continue}for(Is&=ws===2?31:ws===3?15:7;ws>1&&ao<vr;)Is=Is<<6|rr[ao++]&63,ws--;if(ws>1){ts[po++]=65533;continue}Is<65536?ts[po++]=Is:(Is-=65536,ts[po++]=55296|Is>>10&1023,ts[po++]=56320|Is&1023)}return ls(ts,po)},$s=(rr,Wn)=>{Wn=Wn||rr.length,Wn>rr.length&&(Wn=rr.length);let vr=Wn-1;for(;vr>=0&&(rr[vr]&192)===128;)vr--;return vr<0||vr===0?Wn:vr+Jn[rr[vr]]>Wn?vr:Wn},Xs={string2buf:ss,buf2string:bs,utf8border:$s};function Ms(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var js=Ms;const Ml=Object.prototype.toString,{Z_NO_FLUSH:Vl,Z_SYNC_FLUSH:Il,Z_FULL_FLUSH:Pu,Z_FINISH:Ru,Z_OK:ku,Z_STREAM_END:cu,Z_DEFAULT_COMPRESSION:Hl,Z_DEFAULT_STRATEGY:Wu,Z_DEFLATED:nu}=Er;function fu(rr){this.options=Gn.assign({level:Hl,method:nu,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wu},rr||{});let Wn=this.options;Wn.raw&&Wn.windowBits>0?Wn.windowBits=-Wn.windowBits:Wn.gzip&&Wn.windowBits>0&&Wn.windowBits<16&&(Wn.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new js,this.strm.avail_out=0;let vr=Ht.deflateInit2(this.strm,Wn.level,Wn.method,Wn.windowBits,Wn.memLevel,Wn.strategy);if(vr!==ku)throw new Error(yl[vr]);if(Wn.header&&Ht.deflateSetHeader(this.strm,Wn.header),Wn.dictionary){let ao;if(typeof Wn.dictionary=="string"?ao=Xs.string2buf(Wn.dictionary):Ml.call(Wn.dictionary)==="[object ArrayBuffer]"?ao=new Uint8Array(Wn.dictionary):ao=Wn.dictionary,vr=Ht.deflateSetDictionary(this.strm,ao),vr!==ku)throw new Error(yl[vr]);this._dict_set=!0}}fu.prototype.push=function(rr,Wn){const vr=this.strm,ao=this.options.chunkSize;let po,ts;if(this.ended)return!1;for(Wn===~~Wn?ts=Wn:ts=Wn===!0?Ru:Vl,typeof rr=="string"?vr.input=Xs.string2buf(rr):Ml.call(rr)==="[object ArrayBuffer]"?vr.input=new Uint8Array(rr):vr.input=rr,vr.next_in=0,vr.avail_in=vr.input.length;;){if(vr.avail_out===0&&(vr.output=new Uint8Array(ao),vr.next_out=0,vr.avail_out=ao),(ts===Il||ts===Pu)&&vr.avail_out<=6){this.onData(vr.output.subarray(0,vr.next_out)),vr.avail_out=0;continue}if(po=Ht.deflate(vr,ts),po===cu)return vr.next_out>0&&this.onData(vr.output.subarray(0,vr.next_out)),po=Ht.deflateEnd(this.strm),this.onEnd(po),this.ended=!0,po===ku;if(vr.avail_out===0){this.onData(vr.output);continue}if(ts>0&&vr.next_out>0){this.onData(vr.output.subarray(0,vr.next_out)),vr.avail_out=0;continue}if(vr.avail_in===0)break}return!0},fu.prototype.onData=function(rr){this.chunks.push(rr)},fu.prototype.onEnd=function(rr){rr===ku&&(this.result=Gn.flattenChunks(this.chunks)),this.chunks=[],this.err=rr,this.msg=this.strm.msg};function xp(rr,Wn){const vr=new fu(Wn);if(vr.push(rr,!0),vr.err)throw vr.msg||yl[vr.err];return vr.result}function Vp(rr,Wn){return Wn=Wn||{},Wn.raw=!0,xp(rr,Wn)}function Ku(rr,Wn){return Wn=Wn||{},Wn.gzip=!0,xp(rr,Wn)}var Sp=fu,Ep=xp,Hu=Vp,_p=Ku,Qu=Er,Cp={Deflate:Sp,deflate:Ep,deflateRaw:Hu,gzip:_p,constants:Qu};const $p=16209,Rp=16191;var nm=function(rr,Wn){let vr,ao,po,ts,Is,ws,Dl,ps,Ds,pu,Sl,Qs,wu,Eu,iu,Ql,Yl,Pl,Ul,Fu,su,ru,Cu,Gl;const Jl=rr.state;vr=rr.next_in,Cu=rr.input,ao=vr+(rr.avail_in-5),po=rr.next_out,Gl=rr.output,ts=po-(Wn-rr.avail_out),Is=po+(rr.avail_out-257),ws=Jl.dmax,Dl=Jl.wsize,ps=Jl.whave,Ds=Jl.wnext,pu=Jl.window,Sl=Jl.hold,Qs=Jl.bits,wu=Jl.lencode,Eu=Jl.distcode,iu=(1<<Jl.lenbits)-1,Ql=(1<<Jl.distbits)-1;e:do{Qs<15&&(Sl+=Cu[vr++]<<Qs,Qs+=8,Sl+=Cu[vr++]<<Qs,Qs+=8),Yl=wu[Sl&iu];t:for(;;){if(Pl=Yl>>>24,Sl>>>=Pl,Qs-=Pl,Pl=Yl>>>16&255,Pl===0)Gl[po++]=Yl&65535;else if(Pl&16){Ul=Yl&65535,Pl&=15,Pl&&(Qs<Pl&&(Sl+=Cu[vr++]<<Qs,Qs+=8),Ul+=Sl&(1<<Pl)-1,Sl>>>=Pl,Qs-=Pl),Qs<15&&(Sl+=Cu[vr++]<<Qs,Qs+=8,Sl+=Cu[vr++]<<Qs,Qs+=8),Yl=Eu[Sl&Ql];r:for(;;){if(Pl=Yl>>>24,Sl>>>=Pl,Qs-=Pl,Pl=Yl>>>16&255,Pl&16){if(Fu=Yl&65535,Pl&=15,Qs<Pl&&(Sl+=Cu[vr++]<<Qs,Qs+=8,Qs<Pl&&(Sl+=Cu[vr++]<<Qs,Qs+=8)),Fu+=Sl&(1<<Pl)-1,Fu>ws){rr.msg="invalid distance too far back",Jl.mode=$p;break e}if(Sl>>>=Pl,Qs-=Pl,Pl=po-ts,Fu>Pl){if(Pl=Fu-Pl,Pl>ps&&Jl.sane){rr.msg="invalid distance too far back",Jl.mode=$p;break e}if(su=0,ru=pu,Ds===0){if(su+=Dl-Pl,Pl<Ul){Ul-=Pl;do Gl[po++]=pu[su++];while(--Pl);su=po-Fu,ru=Gl}}else if(Ds<Pl){if(su+=Dl+Ds-Pl,Pl-=Ds,Pl<Ul){Ul-=Pl;do Gl[po++]=pu[su++];while(--Pl);if(su=0,Ds<Ul){Pl=Ds,Ul-=Pl;do Gl[po++]=pu[su++];while(--Pl);su=po-Fu,ru=Gl}}}else if(su+=Ds-Pl,Pl<Ul){Ul-=Pl;do Gl[po++]=pu[su++];while(--Pl);su=po-Fu,ru=Gl}for(;Ul>2;)Gl[po++]=ru[su++],Gl[po++]=ru[su++],Gl[po++]=ru[su++],Ul-=3;Ul&&(Gl[po++]=ru[su++],Ul>1&&(Gl[po++]=ru[su++]))}else{su=po-Fu;do Gl[po++]=Gl[su++],Gl[po++]=Gl[su++],Gl[po++]=Gl[su++],Ul-=3;while(Ul>2);Ul&&(Gl[po++]=Gl[su++],Ul>1&&(Gl[po++]=Gl[su++]))}}else if(Pl&64){rr.msg="invalid distance code",Jl.mode=$p;break e}else{Yl=Eu[(Yl&65535)+(Sl&(1<<Pl)-1)];continue r}break}}else if(Pl&64)if(Pl&32){Jl.mode=Rp;break e}else{rr.msg="invalid literal/length code",Jl.mode=$p;break e}else{Yl=wu[(Yl&65535)+(Sl&(1<<Pl)-1)];continue t}break}}while(vr<ao&&po<Is);Ul=Qs>>3,vr-=Ul,Qs-=Ul<<3,Sl&=(1<<Qs)-1,rr.next_in=vr,rr.next_out=po,rr.avail_in=vr<ao?5+(ao-vr):5-(vr-ao),rr.avail_out=po<Is?257+(Is-po):257-(po-Is),Jl.hold=Sl,Jl.bits=Qs};const eu=15,wp=852,im=592,zp=0,om=1,kp=2,Nm=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vm=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$m=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),km=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Gp=(rr,Wn,vr,ao,po,ts,Is,ws)=>{const Dl=ws.bits;let ps=0,Ds=0,pu=0,Sl=0,Qs=0,wu=0,Eu=0,iu=0,Ql=0,Yl=0,Pl,Ul,Fu,su,ru,Cu=null,Gl;const Jl=new Uint16Array(eu+1),Xu=new Uint16Array(eu+1);let Hp=null,ov,Sm,Em;for(ps=0;ps<=eu;ps++)Jl[ps]=0;for(Ds=0;Ds<ao;Ds++)Jl[Wn[vr+Ds]]++;for(Qs=Dl,Sl=eu;Sl>=1&&Jl[Sl]===0;Sl--);if(Qs>Sl&&(Qs=Sl),Sl===0)return po[ts++]=1<<24|64<<16|0,po[ts++]=1<<24|64<<16|0,ws.bits=1,0;for(pu=1;pu<Sl&&Jl[pu]===0;pu++);for(Qs<pu&&(Qs=pu),iu=1,ps=1;ps<=eu;ps++)if(iu<<=1,iu-=Jl[ps],iu<0)return-1;if(iu>0&&(rr===zp||Sl!==1))return-1;for(Xu[1]=0,ps=1;ps<eu;ps++)Xu[ps+1]=Xu[ps]+Jl[ps];for(Ds=0;Ds<ao;Ds++)Wn[vr+Ds]!==0&&(Is[Xu[Wn[vr+Ds]]++]=Ds);if(rr===zp?(Cu=Hp=Is,Gl=20):rr===om?(Cu=Nm,Hp=vm,Gl=257):(Cu=$m,Hp=km,Gl=0),Yl=0,Ds=0,ps=pu,ru=ts,wu=Qs,Eu=0,Fu=-1,Ql=1<<Qs,su=Ql-1,rr===om&&Ql>wp||rr===kp&&Ql>im)return 1;for(;;){ov=ps-Eu,Is[Ds]+1<Gl?(Sm=0,Em=Is[Ds]):Is[Ds]>=Gl?(Sm=Hp[Is[Ds]-Gl],Em=Cu[Is[Ds]-Gl]):(Sm=96,Em=0),Pl=1<<ps-Eu,Ul=1<<wu,pu=Ul;do Ul-=Pl,po[ru+(Yl>>Eu)+Ul]=ov<<24|Sm<<16|Em|0;while(Ul!==0);for(Pl=1<<ps-1;Yl&Pl;)Pl>>=1;if(Pl!==0?(Yl&=Pl-1,Yl+=Pl):Yl=0,Ds++,--Jl[ps]===0){if(ps===Sl)break;ps=Wn[vr+Is[Ds]]}if(ps>Qs&&(Yl&su)!==Fu){for(Eu===0&&(Eu=Qs),ru+=pu,wu=ps-Eu,iu=1<<wu;wu+Eu<Sl&&(iu-=Jl[wu+Eu],!(iu<=0));)wu++,iu<<=1;if(Ql+=1<<wu,rr===om&&Ql>wp||rr===kp&&Ql>im)return 1;Fu=Yl&su,po[Fu]=Qs<<24|wu<<16|ru-ts|0}}return Yl!==0&&(po[ru+Yl]=ps-Eu<<24|64<<16|0),ws.bits=Qs,0};const Up=0,ym=1,_m=2,{Z_FINISH:Cm,Z_BLOCK:Bp,Z_TREES:Kp,Z_OK:hp,Z_STREAM_END:fp,Z_NEED_DICT:gp,Z_STREAM_ERROR:Zu,Z_DATA_ERROR:sm,Z_MEM_ERROR:am,Z_BUF_ERROR:Gm,Z_DEFLATED:du}=Er,Op=16180,Ju=16181,_c=16182,Yp=16183,lm=16184,wm=16185,bm=16186,um=16187,bp=16188,Xp=16189,jp=16190,_d=16191,Pp=16192,qp=16193,cm=16194,Wp=16195,Qp=16196,Zp=16197,xm=16198,so=16199,os=16200,ms=16201,Ws=16202,Ss=16203,Vs=16204,qs=16205,xl=16206,Ol=16207,Fl=16208,Rl=16209,Nl=16210,Kl=16211,mu=852,$l=592,Du=15,Lu=rr=>(rr>>>24&255)+(rr>>>8&65280)+((rr&65280)<<8)+((rr&255)<<24);function Yu(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ou=rr=>{if(!rr)return 1;const Wn=rr.state;return!Wn||Wn.strm!==rr||Wn.mode<Op||Wn.mode>Kl?1:0},Dp=rr=>{if(ou(rr))return Zu;const Wn=rr.state;return rr.total_in=rr.total_out=Wn.total=0,rr.msg="",Wn.wrap&&(rr.adler=Wn.wrap&1),Wn.mode=Op,Wn.last=0,Wn.havedict=0,Wn.flags=-1,Wn.dmax=32768,Wn.head=null,Wn.hold=0,Wn.bits=0,Wn.lencode=Wn.lendyn=new Int32Array(mu),Wn.distcode=Wn.distdyn=new Int32Array($l),Wn.sane=1,Wn.back=-1,hp},Mp=rr=>{if(ou(rr))return Zu;const Wn=rr.state;return Wn.wsize=0,Wn.whave=0,Wn.wnext=0,Dp(rr)},Vu=(rr,Wn)=>{let vr;if(ou(rr))return Zu;const ao=rr.state;return Wn<0?(vr=0,Wn=-Wn):(vr=(Wn>>4)+5,Wn<48&&(Wn&=15)),Wn&&(Wn<8||Wn>15)?Zu:(ao.window!==null&&ao.wbits!==Wn&&(ao.window=null),ao.wrap=vr,ao.wbits=Wn,Mp(rr))},zm=(rr,Wn)=>{if(!rr)return Zu;const vr=new Yu;rr.state=vr,vr.strm=rr,vr.window=null,vr.mode=Op;const ao=Vu(rr,Wn);return ao!==hp&&(rr.state=null),ao},sv=rr=>zm(rr,Du);let Um=!0,Bm,jm;const av=rr=>{if(Um){Bm=new Int32Array(512),jm=new Int32Array(32);let Wn=0;for(;Wn<144;)rr.lens[Wn++]=8;for(;Wn<256;)rr.lens[Wn++]=9;for(;Wn<280;)rr.lens[Wn++]=7;for(;Wn<288;)rr.lens[Wn++]=8;for(Gp(ym,rr.lens,0,288,Bm,0,rr.work,{bits:9}),Wn=0;Wn<32;)rr.lens[Wn++]=5;Gp(_m,rr.lens,0,32,jm,0,rr.work,{bits:5}),Um=!1}rr.lencode=Bm,rr.lenbits=9,rr.distcode=jm,rr.distbits=5},Km=(rr,Wn,vr,ao)=>{let po;const ts=rr.state;return ts.window===null&&(ts.wsize=1<<ts.wbits,ts.wnext=0,ts.whave=0,ts.window=new Uint8Array(ts.wsize)),ao>=ts.wsize?(ts.window.set(Wn.subarray(vr-ts.wsize,vr),0),ts.wnext=0,ts.whave=ts.wsize):(po=ts.wsize-ts.wnext,po>ao&&(po=ao),ts.window.set(Wn.subarray(vr-ao,vr-ao+po),ts.wnext),ao-=po,ao?(ts.window.set(Wn.subarray(vr-ao,vr),0),ts.wnext=ao,ts.whave=ts.wsize):(ts.wnext+=po,ts.wnext===ts.wsize&&(ts.wnext=0),ts.whave<ts.wsize&&(ts.whave+=po))),0},lv=(rr,Wn)=>{let vr,ao,po,ts,Is,ws,Dl,ps,Ds,pu,Sl,Qs,wu,Eu,iu=0,Ql,Yl,Pl,Ul,Fu,su,ru,Cu;const Gl=new Uint8Array(4);let Jl,Xu;const Hp=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ou(rr)||!rr.output||!rr.input&&rr.avail_in!==0)return Zu;vr=rr.state,vr.mode===_d&&(vr.mode=Pp),Is=rr.next_out,po=rr.output,Dl=rr.avail_out,ts=rr.next_in,ao=rr.input,ws=rr.avail_in,ps=vr.hold,Ds=vr.bits,pu=ws,Sl=Dl,Cu=hp;e:for(;;)switch(vr.mode){case Op:if(vr.wrap===0){vr.mode=Pp;break}for(;Ds<16;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(vr.wrap&2&&ps===35615){vr.wbits===0&&(vr.wbits=15),vr.check=0,Gl[0]=ps&255,Gl[1]=ps>>>8&255,vr.check=As(vr.check,Gl,2,0),ps=0,Ds=0,vr.mode=Ju;break}if(vr.head&&(vr.head.done=!1),!(vr.wrap&1)||(((ps&255)<<8)+(ps>>8))%31){rr.msg="incorrect header check",vr.mode=Rl;break}if((ps&15)!==du){rr.msg="unknown compression method",vr.mode=Rl;break}if(ps>>>=4,Ds-=4,ru=(ps&15)+8,vr.wbits===0&&(vr.wbits=ru),ru>15||ru>vr.wbits){rr.msg="invalid window size",vr.mode=Rl;break}vr.dmax=1<<vr.wbits,vr.flags=0,rr.adler=vr.check=1,vr.mode=ps&512?Xp:_d,ps=0,Ds=0;break;case Ju:for(;Ds<16;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(vr.flags=ps,(vr.flags&255)!==du){rr.msg="unknown compression method",vr.mode=Rl;break}if(vr.flags&57344){rr.msg="unknown header flags set",vr.mode=Rl;break}vr.head&&(vr.head.text=ps>>8&1),vr.flags&512&&vr.wrap&4&&(Gl[0]=ps&255,Gl[1]=ps>>>8&255,vr.check=As(vr.check,Gl,2,0)),ps=0,Ds=0,vr.mode=_c;case _c:for(;Ds<32;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}vr.head&&(vr.head.time=ps),vr.flags&512&&vr.wrap&4&&(Gl[0]=ps&255,Gl[1]=ps>>>8&255,Gl[2]=ps>>>16&255,Gl[3]=ps>>>24&255,vr.check=As(vr.check,Gl,4,0)),ps=0,Ds=0,vr.mode=Yp;case Yp:for(;Ds<16;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}vr.head&&(vr.head.xflags=ps&255,vr.head.os=ps>>8),vr.flags&512&&vr.wrap&4&&(Gl[0]=ps&255,Gl[1]=ps>>>8&255,vr.check=As(vr.check,Gl,2,0)),ps=0,Ds=0,vr.mode=lm;case lm:if(vr.flags&1024){for(;Ds<16;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}vr.length=ps,vr.head&&(vr.head.extra_len=ps),vr.flags&512&&vr.wrap&4&&(Gl[0]=ps&255,Gl[1]=ps>>>8&255,vr.check=As(vr.check,Gl,2,0)),ps=0,Ds=0}else vr.head&&(vr.head.extra=null);vr.mode=wm;case wm:if(vr.flags&1024&&(Qs=vr.length,Qs>ws&&(Qs=ws),Qs&&(vr.head&&(ru=vr.head.extra_len-vr.length,vr.head.extra||(vr.head.extra=new Uint8Array(vr.head.extra_len)),vr.head.extra.set(ao.subarray(ts,ts+Qs),ru)),vr.flags&512&&vr.wrap&4&&(vr.check=As(vr.check,ao,Qs,ts)),ws-=Qs,ts+=Qs,vr.length-=Qs),vr.length))break e;vr.length=0,vr.mode=bm;case bm:if(vr.flags&2048){if(ws===0)break e;Qs=0;do ru=ao[ts+Qs++],vr.head&&ru&&vr.length<65536&&(vr.head.name+=String.fromCharCode(ru));while(ru&&Qs<ws);if(vr.flags&512&&vr.wrap&4&&(vr.check=As(vr.check,ao,Qs,ts)),ws-=Qs,ts+=Qs,ru)break e}else vr.head&&(vr.head.name=null);vr.length=0,vr.mode=um;case um:if(vr.flags&4096){if(ws===0)break e;Qs=0;do ru=ao[ts+Qs++],vr.head&&ru&&vr.length<65536&&(vr.head.comment+=String.fromCharCode(ru));while(ru&&Qs<ws);if(vr.flags&512&&vr.wrap&4&&(vr.check=As(vr.check,ao,Qs,ts)),ws-=Qs,ts+=Qs,ru)break e}else vr.head&&(vr.head.comment=null);vr.mode=bp;case bp:if(vr.flags&512){for(;Ds<16;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(vr.wrap&4&&ps!==(vr.check&65535)){rr.msg="header crc mismatch",vr.mode=Rl;break}ps=0,Ds=0}vr.head&&(vr.head.hcrc=vr.flags>>9&1,vr.head.done=!0),rr.adler=vr.check=0,vr.mode=_d;break;case Xp:for(;Ds<32;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}rr.adler=vr.check=Lu(ps),ps=0,Ds=0,vr.mode=jp;case jp:if(vr.havedict===0)return rr.next_out=Is,rr.avail_out=Dl,rr.next_in=ts,rr.avail_in=ws,vr.hold=ps,vr.bits=Ds,gp;rr.adler=vr.check=1,vr.mode=_d;case _d:if(Wn===Bp||Wn===Kp)break e;case Pp:if(vr.last){ps>>>=Ds&7,Ds-=Ds&7,vr.mode=xl;break}for(;Ds<3;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}switch(vr.last=ps&1,ps>>>=1,Ds-=1,ps&3){case 0:vr.mode=qp;break;case 1:if(av(vr),vr.mode=so,Wn===Kp){ps>>>=2,Ds-=2;break e}break;case 2:vr.mode=Qp;break;case 3:rr.msg="invalid block type",vr.mode=Rl}ps>>>=2,Ds-=2;break;case qp:for(ps>>>=Ds&7,Ds-=Ds&7;Ds<32;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if((ps&65535)!==(ps>>>16^65535)){rr.msg="invalid stored block lengths",vr.mode=Rl;break}if(vr.length=ps&65535,ps=0,Ds=0,vr.mode=cm,Wn===Kp)break e;case cm:vr.mode=Wp;case Wp:if(Qs=vr.length,Qs){if(Qs>ws&&(Qs=ws),Qs>Dl&&(Qs=Dl),Qs===0)break e;po.set(ao.subarray(ts,ts+Qs),Is),ws-=Qs,ts+=Qs,Dl-=Qs,Is+=Qs,vr.length-=Qs;break}vr.mode=_d;break;case Qp:for(;Ds<14;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(vr.nlen=(ps&31)+257,ps>>>=5,Ds-=5,vr.ndist=(ps&31)+1,ps>>>=5,Ds-=5,vr.ncode=(ps&15)+4,ps>>>=4,Ds-=4,vr.nlen>286||vr.ndist>30){rr.msg="too many length or distance symbols",vr.mode=Rl;break}vr.have=0,vr.mode=Zp;case Zp:for(;vr.have<vr.ncode;){for(;Ds<3;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}vr.lens[Hp[vr.have++]]=ps&7,ps>>>=3,Ds-=3}for(;vr.have<19;)vr.lens[Hp[vr.have++]]=0;if(vr.lencode=vr.lendyn,vr.lenbits=7,Jl={bits:vr.lenbits},Cu=Gp(Up,vr.lens,0,19,vr.lencode,0,vr.work,Jl),vr.lenbits=Jl.bits,Cu){rr.msg="invalid code lengths set",vr.mode=Rl;break}vr.have=0,vr.mode=xm;case xm:for(;vr.have<vr.nlen+vr.ndist;){for(;iu=vr.lencode[ps&(1<<vr.lenbits)-1],Ql=iu>>>24,Yl=iu>>>16&255,Pl=iu&65535,!(Ql<=Ds);){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(Pl<16)ps>>>=Ql,Ds-=Ql,vr.lens[vr.have++]=Pl;else{if(Pl===16){for(Xu=Ql+2;Ds<Xu;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(ps>>>=Ql,Ds-=Ql,vr.have===0){rr.msg="invalid bit length repeat",vr.mode=Rl;break}ru=vr.lens[vr.have-1],Qs=3+(ps&3),ps>>>=2,Ds-=2}else if(Pl===17){for(Xu=Ql+3;Ds<Xu;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}ps>>>=Ql,Ds-=Ql,ru=0,Qs=3+(ps&7),ps>>>=3,Ds-=3}else{for(Xu=Ql+7;Ds<Xu;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}ps>>>=Ql,Ds-=Ql,ru=0,Qs=11+(ps&127),ps>>>=7,Ds-=7}if(vr.have+Qs>vr.nlen+vr.ndist){rr.msg="invalid bit length repeat",vr.mode=Rl;break}for(;Qs--;)vr.lens[vr.have++]=ru}}if(vr.mode===Rl)break;if(vr.lens[256]===0){rr.msg="invalid code -- missing end-of-block",vr.mode=Rl;break}if(vr.lenbits=9,Jl={bits:vr.lenbits},Cu=Gp(ym,vr.lens,0,vr.nlen,vr.lencode,0,vr.work,Jl),vr.lenbits=Jl.bits,Cu){rr.msg="invalid literal/lengths set",vr.mode=Rl;break}if(vr.distbits=6,vr.distcode=vr.distdyn,Jl={bits:vr.distbits},Cu=Gp(_m,vr.lens,vr.nlen,vr.ndist,vr.distcode,0,vr.work,Jl),vr.distbits=Jl.bits,Cu){rr.msg="invalid distances set",vr.mode=Rl;break}if(vr.mode=so,Wn===Kp)break e;case so:vr.mode=os;case os:if(ws>=6&&Dl>=258){rr.next_out=Is,rr.avail_out=Dl,rr.next_in=ts,rr.avail_in=ws,vr.hold=ps,vr.bits=Ds,nm(rr,Sl),Is=rr.next_out,po=rr.output,Dl=rr.avail_out,ts=rr.next_in,ao=rr.input,ws=rr.avail_in,ps=vr.hold,Ds=vr.bits,vr.mode===_d&&(vr.back=-1);break}for(vr.back=0;iu=vr.lencode[ps&(1<<vr.lenbits)-1],Ql=iu>>>24,Yl=iu>>>16&255,Pl=iu&65535,!(Ql<=Ds);){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(Yl&&!(Yl&240)){for(Ul=Ql,Fu=Yl,su=Pl;iu=vr.lencode[su+((ps&(1<<Ul+Fu)-1)>>Ul)],Ql=iu>>>24,Yl=iu>>>16&255,Pl=iu&65535,!(Ul+Ql<=Ds);){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}ps>>>=Ul,Ds-=Ul,vr.back+=Ul}if(ps>>>=Ql,Ds-=Ql,vr.back+=Ql,vr.length=Pl,Yl===0){vr.mode=qs;break}if(Yl&32){vr.back=-1,vr.mode=_d;break}if(Yl&64){rr.msg="invalid literal/length code",vr.mode=Rl;break}vr.extra=Yl&15,vr.mode=ms;case ms:if(vr.extra){for(Xu=vr.extra;Ds<Xu;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}vr.length+=ps&(1<<vr.extra)-1,ps>>>=vr.extra,Ds-=vr.extra,vr.back+=vr.extra}vr.was=vr.length,vr.mode=Ws;case Ws:for(;iu=vr.distcode[ps&(1<<vr.distbits)-1],Ql=iu>>>24,Yl=iu>>>16&255,Pl=iu&65535,!(Ql<=Ds);){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(!(Yl&240)){for(Ul=Ql,Fu=Yl,su=Pl;iu=vr.distcode[su+((ps&(1<<Ul+Fu)-1)>>Ul)],Ql=iu>>>24,Yl=iu>>>16&255,Pl=iu&65535,!(Ul+Ql<=Ds);){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}ps>>>=Ul,Ds-=Ul,vr.back+=Ul}if(ps>>>=Ql,Ds-=Ql,vr.back+=Ql,Yl&64){rr.msg="invalid distance code",vr.mode=Rl;break}vr.offset=Pl,vr.extra=Yl&15,vr.mode=Ss;case Ss:if(vr.extra){for(Xu=vr.extra;Ds<Xu;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}vr.offset+=ps&(1<<vr.extra)-1,ps>>>=vr.extra,Ds-=vr.extra,vr.back+=vr.extra}if(vr.offset>vr.dmax){rr.msg="invalid distance too far back",vr.mode=Rl;break}vr.mode=Vs;case Vs:if(Dl===0)break e;if(Qs=Sl-Dl,vr.offset>Qs){if(Qs=vr.offset-Qs,Qs>vr.whave&&vr.sane){rr.msg="invalid distance too far back",vr.mode=Rl;break}Qs>vr.wnext?(Qs-=vr.wnext,wu=vr.wsize-Qs):wu=vr.wnext-Qs,Qs>vr.length&&(Qs=vr.length),Eu=vr.window}else Eu=po,wu=Is-vr.offset,Qs=vr.length;Qs>Dl&&(Qs=Dl),Dl-=Qs,vr.length-=Qs;do po[Is++]=Eu[wu++];while(--Qs);vr.length===0&&(vr.mode=os);break;case qs:if(Dl===0)break e;po[Is++]=vr.length,Dl--,vr.mode=os;break;case xl:if(vr.wrap){for(;Ds<32;){if(ws===0)break e;ws--,ps|=ao[ts++]<<Ds,Ds+=8}if(Sl-=Dl,rr.total_out+=Sl,vr.total+=Sl,vr.wrap&4&&Sl&&(rr.adler=vr.check=vr.flags?As(vr.check,po,Sl,Is-Sl):as(vr.check,po,Sl,Is-Sl)),Sl=Dl,vr.wrap&4&&(vr.flags?ps:Lu(ps))!==vr.check){rr.msg="incorrect data check",vr.mode=Rl;break}ps=0,Ds=0}vr.mode=Ol;case Ol:if(vr.wrap&&vr.flags){for(;Ds<32;){if(ws===0)break e;ws--,ps+=ao[ts++]<<Ds,Ds+=8}if(vr.wrap&4&&ps!==(vr.total&4294967295)){rr.msg="incorrect length check",vr.mode=Rl;break}ps=0,Ds=0}vr.mode=Fl;case Fl:Cu=fp;break e;case Rl:Cu=sm;break e;case Nl:return am;case Kl:default:return Zu}return rr.next_out=Is,rr.avail_out=Dl,rr.next_in=ts,rr.avail_in=ws,vr.hold=ps,vr.bits=Ds,(vr.wsize||Sl!==rr.avail_out&&vr.mode<Rl&&(vr.mode<xl||Wn!==Cm))&&Km(rr,rr.output,rr.next_out,Sl-rr.avail_out),pu-=rr.avail_in,Sl-=rr.avail_out,rr.total_in+=pu,rr.total_out+=Sl,vr.total+=Sl,vr.wrap&4&&Sl&&(rr.adler=vr.check=vr.flags?As(vr.check,po,Sl,rr.next_out-Sl):as(vr.check,po,Sl,rr.next_out-Sl)),rr.data_type=vr.bits+(vr.last?64:0)+(vr.mode===_d?128:0)+(vr.mode===so||vr.mode===cm?256:0),(pu===0&&Sl===0||Wn===Cm)&&Cu===hp&&(Cu=Gm),Cu},uv=rr=>{if(ou(rr))return Zu;let Wn=rr.state;return Wn.window&&(Wn.window=null),rr.state=null,hp},cv=(rr,Wn)=>{if(ou(rr))return Zu;const vr=rr.state;return vr.wrap&2?(vr.head=Wn,Wn.done=!1,hp):Zu},dv=(rr,Wn)=>{const vr=Wn.length;let ao,po,ts;return ou(rr)||(ao=rr.state,ao.wrap!==0&&ao.mode!==jp)?Zu:ao.mode===jp&&(po=1,po=as(po,Wn,vr,0),po!==ao.check)?sm:(ts=Km(rr,Wn,vr,vr),ts?(ao.mode=Nl,am):(ao.havedict=1,hp))};var pv=Mp,hv=Vu,fv=Dp,gv=sv,mv=zm,vv=lv,yv=uv,_v=cv,Cv=dv,wv="pako inflate (from Nodeca project)",Ap={inflateReset:pv,inflateReset2:hv,inflateResetKeep:fv,inflateInit:gv,inflateInit2:mv,inflate:vv,inflateEnd:yv,inflateGetHeader:_v,inflateSetDictionary:Cv,inflateInfo:wv};function bv(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xv=bv;const Ym=Object.prototype.toString,{Z_NO_FLUSH:Sv,Z_FINISH:Ev,Z_OK:dm,Z_STREAM_END:Wm,Z_NEED_DICT:Hm,Z_STREAM_ERROR:Rv,Z_DATA_ERROR:Xm,Z_MEM_ERROR:Ov}=Er;function pm(rr){this.options=Gn.assign({chunkSize:65536,windowBits:15,to:""},rr||{});const Wn=this.options;Wn.raw&&Wn.windowBits>=0&&Wn.windowBits<16&&(Wn.windowBits=-Wn.windowBits,Wn.windowBits===0&&(Wn.windowBits=-15)),Wn.windowBits>=0&&Wn.windowBits<16&&!(rr&&rr.windowBits)&&(Wn.windowBits+=32),Wn.windowBits>15&&Wn.windowBits<48&&(Wn.windowBits&15||(Wn.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new js,this.strm.avail_out=0;let vr=Ap.inflateInit2(this.strm,Wn.windowBits);if(vr!==dm)throw new Error(yl[vr]);if(this.header=new xv,Ap.inflateGetHeader(this.strm,this.header),Wn.dictionary&&(typeof Wn.dictionary=="string"?Wn.dictionary=Xs.string2buf(Wn.dictionary):Ym.call(Wn.dictionary)==="[object ArrayBuffer]"&&(Wn.dictionary=new Uint8Array(Wn.dictionary)),Wn.raw&&(vr=Ap.inflateSetDictionary(this.strm,Wn.dictionary),vr!==dm)))throw new Error(yl[vr])}pm.prototype.push=function(rr,Wn){const vr=this.strm,ao=this.options.chunkSize,po=this.options.dictionary;let ts,Is,ws;if(this.ended)return!1;for(Wn===~~Wn?Is=Wn:Is=Wn===!0?Ev:Sv,Ym.call(rr)==="[object ArrayBuffer]"?vr.input=new Uint8Array(rr):vr.input=rr,vr.next_in=0,vr.avail_in=vr.input.length;;){for(vr.avail_out===0&&(vr.output=new Uint8Array(ao),vr.next_out=0,vr.avail_out=ao),ts=Ap.inflate(vr,Is),ts===Hm&&po&&(ts=Ap.inflateSetDictionary(vr,po),ts===dm?ts=Ap.inflate(vr,Is):ts===Xm&&(ts=Hm));vr.avail_in>0&&ts===Wm&&vr.state.wrap>0&&rr[vr.next_in]!==0;)Ap.inflateReset(vr),ts=Ap.inflate(vr,Is);switch(ts){case Rv:case Xm:case Hm:case Ov:return this.onEnd(ts),this.ended=!0,!1}if(ws=vr.avail_out,vr.next_out&&(vr.avail_out===0||ts===Wm))if(this.options.to==="string"){let Dl=Xs.utf8border(vr.output,vr.next_out),ps=vr.next_out-Dl,Ds=Xs.buf2string(vr.output,Dl);vr.next_out=ps,vr.avail_out=ao-ps,ps&&vr.output.set(vr.output.subarray(Dl,Dl+ps),0),this.onData(Ds)}else this.onData(vr.output.length===vr.next_out?vr.output:vr.output.subarray(0,vr.next_out));if(!(ts===dm&&ws===0)){if(ts===Wm)return ts=Ap.inflateEnd(this.strm),this.onEnd(ts),this.ended=!0,!0;if(vr.avail_in===0)break}}return!0},pm.prototype.onData=function(rr){this.chunks.push(rr)},pm.prototype.onEnd=function(rr){rr===dm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gn.flattenChunks(this.chunks)),this.chunks=[],this.err=rr,this.msg=this.strm.msg};function Vm(rr,Wn){const vr=new pm(Wn);if(vr.push(rr),vr.err)throw vr.msg||yl[vr.err];return vr.result}function Av(rr,Wn){return Wn=Wn||{},Wn.raw=!0,Vm(rr,Wn)}var Tv=pm,Pv=Vm,Dv=Av,Mv=Vm,Iv=Er,Lv={Inflate:Tv,inflate:Pv,inflateRaw:Dv,ungzip:Mv,constants:Iv};const{Deflate:Fv,deflate:Nv,deflateRaw:$v,gzip:kv}=Cp,{Inflate:Gv,inflate:Bv,inflateRaw:jv,ungzip:Wv}=Lv;var qm=Fv,Qm=Nv,Zm=$v,Jm=kv,ev=Gv,tv=Bv,rv=jv,nv=Wv,iv=Er,Hv={Deflate:qm,deflate:Qm,deflateRaw:Zm,gzip:Jm,Inflate:ev,inflate:tv,inflateRaw:rv,ungzip:nv,constants:iv}}},__webpack_module_cache__={};function __webpack_require__(a){var e=__webpack_module_cache__[a];if(e!==void 0)return e.exports;var o=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=a=>{var e=a&&a.__esModule?()=>a.default:()=>a;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(a,e)=>{for(var o in e)__webpack_require__.o(e,o)&&!__webpack_require__.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:e[o]})},__webpack_require__.o=(a,e)=>Object.prototype.hasOwnProperty.call(a,e),__webpack_require__.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())})(_3Dmol);var _3DmolExports=_3Dmol.exports;const covalentRadii={H:.31,He:.28,Li:1.28,Be:.96,B:.84,C:.76,N:.71,O:.66,F:.57,Ne:.58,Na:1.66,Mg:1.41,Al:1.21,Si:1.11,P:1.07,S:1.05,Cl:1.02,Ar:1.06,K:2.03,Ca:1.76,Sc:1.7,Ti:1.6,V:1.53,Cr:1.39,Mn:1.61,Fe:1.52,Co:1.5,Ni:1.24,Cu:1.32,Zn:1.22,Ga:1.22,Ge:1.2,As:1.19,Se:1.2,Br:1.2,Kr:1.16,Rb:2.2,Sr:1.95,Y:1.9,Zr:1.75,Nb:1.64,Mo:1.54,Tc:1.47,Ru:1.46,Rh:1.42,Pd:1.39,Ag:1.45,Cd:1.44,In:1.42,Sn:1.39,Sb:1.39,Te:1.38,I:1.39,Xe:1.4,Cs:2.44,Ba:2.15,La:2.07,Ce:2.04,Pr:2.03,Nd:2.01,Pm:1.99,Sm:1.98,Eu:1.98,Gd:1.96,Tb:1.94,Dy:1.92,Ho:1.92,Er:1.89,Tm:1.9,Yb:1.87,Lu:1.75,Hf:1.87,Ta:1.7,W:1.62,Re:1.51,Os:1.44,Ir:1.41,Pt:1.36,Au:1.36,Hg:1.32,Tl:1.45,Pb:1.46,Bi:1.48,Po:1.4,At:1.5,Rn:1.5,Fr:2.6,Ra:2.21,Ac:2.15,Th:2.06,Pa:2,U:1.96,Np:1.9,Pu:1.87,Am:1.8,Cm:1.69};function mod(a,e){return(a%e+e)%e}function setCustomBondLengths(){function a(e,o){_3DmolExports.setBondLength(e,o)}Object.keys(covalentRadii).forEach(e=>{a(e,covalentRadii[e])})}class Visualizer3dmol extends React.Component{constructor(e){super(e),setCustomBondLengths(),this.viewer=null,this.model=null,this.divId="gldiv-"+(Math.random()+1).toString(36).substring(7)}componentDidMount(){let e={backgroundColor:"white",orthographic:!0};this.viewer=_3DmolExports.createViewer(this.divId,e),this.updateView()}componentDidUpdate(e){(e.viewerParams!=this.props.viewerParams||e.cifText!=this.props.cifText)&&this.updateView()}custom3dmolSetup(){if(this.model=this.viewer.addModel(),this.props.cifText){let e=_3DmolExports.Parsers.CIF(this.props.cifText),o=e[0],c=e.modelData[0].cryst;this.model.setCrystData(c.a,c.b,c.c,c.alpha,c.beta,c.gamma);let h=this.model.modelData.cryst.matrix,g=new _3DmolExports.Matrix3().getInverse3(h),b=[],$=[];o.forEach(rt=>{let nt=new _3DmolExports.Vector3(rt.x,rt.y,rt.z);if(this.props.viewerParams.packedCell){let ot=nt.clone().applyMatrix3(g);nt=new _3DmolExports.Vector3(mod(ot.x,1),mod(ot.y,1),mod(ot.z,1)).applyMatrix3(h)}$.push({elem:rt.elem,x:nt.x,y:nt.y,z:nt.z})});let j=this.props.viewerParams.supercell;for(let rt=-1;rt<j[0]+1;rt++)for(let nt=-1;nt<j[1]+1;nt++)for(let ot=-1;ot<j[2]+1;ot++){let _t=new _3DmolExports.Vector3(rt,nt,ot);if(_t.applyMatrix3(h),rt==-1||rt==j[0]||nt==-1||nt==j[1]||ot==-1||ot==j[2])if(this.props.viewerParams.packedCell)$.forEach(Et=>{let It=new _3DmolExports.Vector3(Et.x,Et.y,Et.z);It.add(_t);let it=It.clone().applyMatrix3(g);it.x>-1e-4&&it.x<j[0]+1e-4&&it.y>-1e-4&&it.y<j[1]+1e-4&&it.z>-1e-4&&it.z<j[2]+1e-4&&b.push({elem:Et.elem,x:It.x,y:It.y,z:It.z})});else continue;else $.forEach(Et=>{b.push({elem:Et.elem,x:Et.x+_t.x,y:Et.y+_t.y,z:Et.z+_t.z})})}this.model.addAtoms(b)}}updateView(){this.viewer.removeAllModels(),this.custom3dmolSetup();let e={sphere:{scale:.3,colorscheme:"Jmol"}};this.props.viewerParams.vdwRadius&&(e.sphere.scale=1),this.props.viewerParams.bonds&&(e.stick={radius:.15,colorscheme:"Jmol"}),this.viewer.setStyle(e),this.viewer.addUnitCell(this.model),this.model.assignBonds(),this.viewer.removeAllLabels(),this.props.viewerParams.atomLabels&&this.model.atoms.forEach(o=>{this.viewer.addLabel(o.elem,{position:{x:o.x,y:o.y,z:o.z},fontColor:"black",bold:!0,fontSize:18,showBackground:!1,backgroundOpacity:1,inFront:!0},null,!0)}),this.viewer.zoomTo(),this.viewer.zoom(1.4),this.viewer.render()}handleEvent(e,o){e=="camera"&&(o=="x"&&this.viewer.setView([0,0,0,0,-.5,-.5,-.5,.5]),o=="y"&&this.viewer.setView([0,0,0,0,.5,.5,.5,.5]),o=="z"&&this.viewer.setView([0,0,0,0,0,0,0,1]),this.viewer.zoomTo(),this.viewer.zoom(1.4))}render(){return jsxRuntimeExports.jsx("div",{id:this.divId,className:"gldiv",children:"No data!"})}}class StructureWindow extends React.Component{constructor(e){super(e)}render(){let e="structure-window";this.props.mouseEnabled||(e+=" disable-mouse");let o="Interaction off",c="mouse-disabled-note";return this.props.mouseEnabled&&(o="Interaction on",c="mouse-disabled-note on"),jsxRuntimeExports.jsxs("div",{className:"structure-window-outer",children:[jsxRuntimeExports.jsx("div",{onClick:()=>this.props.setMouseEnabledState(!0),children:jsxRuntimeExports.jsx("div",{className:e,children:jsxRuntimeExports.jsx(Visualizer3dmol,{ref:this.props.visualizerRef,viewerParams:this.props.viewerParams,cifText:this.props.cifText})})}),jsxRuntimeExports.jsx("div",{className:c,onClick:()=>this.props.setMouseEnabledState(!this.props.mouseEnabled),children:o})]})}}const StructureVisualizer=a=>{const[e,o]=reactExports.useState({supercell:a.initSupercell||[2,2,2],bonds:!0,packedCell:!0,atomLabels:!1,vdwRadius:!1}),[c,h]=reactExports.useState(!1),g=reactExports.useRef(null),b=reactExports.useRef(null);reactExports.useEffect(()=>{const nt=ot=>{b&&!b.current.contains(ot.target)&&h(!1)};return document.addEventListener("mousedown",nt),()=>{document.removeEventListener("mousedown",nt)}},[]);const $=nt=>{h(nt)},j=(nt,ot)=>{o(_t=>({..._t,[nt]:ot}))},rt=(nt,ot)=>{g.current.handleEvent(nt,ot)};return jsxRuntimeExports.jsxs("div",{ref:b,className:"structure-visualizer",children:[jsxRuntimeExports.jsx(StructureWindow,{visualizerRef:g,viewerParams:e,cifText:a.cifText,mouseEnabled:c,setMouseEnabledState:$}),jsxRuntimeExports.jsx(ControlBox,{viewerParams:e,onViewerParamChange:j,onViewerEvent:rt})]})};function floatFormatter(a,e=1){return a>=1e5||a<.01&&a!==0?a.toExponential(e):a.toFixed(e)}function InfoBox(a){let e=a.compoundInfo;function o(c,h,g=3,b=1){if(!(c in e))return jsxRuntimeExports$1.jsx("span",{children:"N/A"});let $=e[c].value||0;return $*=b,jsxRuntimeExports$1.jsxs("span",{children:[$.toFixed(g)," ",h," ",jsxRuntimeExports$1.jsx(Ka,{explore_url:EXPLORE_URL,uuid:e[c].uuid})]})}return jsxRuntimeExports$1.jsxs("div",{className:"info-box",children:[jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["Formula: ",$a(e.formula)]}),jsxRuntimeExports$1.jsxs("li",{children:["Space group: ",Qa(e.space_group)]}),jsxRuntimeExports$1.jsxs("li",{children:["Point group: ",Qa(e.point_group)]}),jsxRuntimeExports$1.jsxs("li",{children:["Prototype: ",$a(e.prototype)]}),jsxRuntimeExports$1.jsxs("li",{children:["Abundance: ",floatFormatter(e.abundance)]}),jsxRuntimeExports$1.jsxs("li",{children:["Band gap: ",o("band_gap","eV")]})]})}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Magnetic properties"}),jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["Magnetic state: ",e.magnetic_state_long]}),jsxRuntimeExports$1.jsxs("li",{children:["Total magnetization:"," ",o("total_magnetization","µB/cell",2)]}),jsxRuntimeExports$1.jsxs("li",{children:["Absolute magnetization:"," ",o("absolute_magnetization","µB/cell",2)]})]})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Binding energies"}),jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["DF2-C09:"," ",o("binding_energy_per_substructure_per_unit_area_df2","meV/Å²",1,1e3)]}),jsxRuntimeExports$1.jsxs("li",{children:["rVV10:"," ",o("binding_energy_per_substructure_per_unit_area_rvv10","meV/Å²",1,1e3)]})]})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Delta in interlayer distance (vdW vs revPBE)"}),jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["Δ",jsxRuntimeExports$1.jsx("sub",{children:"DF2"}),": ",o("delta_df2","%",1,100)]}),jsxRuntimeExports$1.jsxs("li",{children:["Δ",jsxRuntimeExports$1.jsx("sub",{children:"rVV10"}),": ",o("delta_rvv10","%",1,100)]})]})]})]})}function OverviewSection(a){return jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs("div",{className:"overview-section",children:[jsxRuntimeExports$1.jsxs("div",{className:"structure-view-section",children:[jsxRuntimeExports$1.jsxs("div",{className:"subsection-title-container",children:[jsxRuntimeExports$1.jsx("b",{children:"Structure"})," ",jsxRuntimeExports$1.jsx(Ka,{explore_url:EXPLORE_URL,uuid:a.compoundInfo.structure_2D})]}),jsxRuntimeExports$1.jsx(StructureVisualizer,{cifText:a.cifText,initSupercell:[3,3,1]}),jsxRuntimeExports$1.jsx("div",{className:"download-button-container",children:jsxRuntimeExports$1.jsx(za,{aiida_rest_url:"https://aiida.materialscloud.org/mc2d/api/v4",uuid:a.compoundInfo.structure_2D})})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"subsection-title-container",children:jsxRuntimeExports$1.jsx("b",{children:"Info and properties"})}),jsxRuntimeExports$1.jsx("div",{className:"general-info-section",children:jsxRuntimeExports$1.jsx(InfoBox,{compoundInfo:a.compoundInfo})})]})]})})}function extractIntId(a){return parseInt(a.split(/-|\//)[1])}function SelectionSection(a){const e=useNavigate();let o=a.currentStructure.compound,c=`${a.currentStructure.id}`,h=[];return a.sameFormulaStructures.ids.forEach((g,b)=>{let $=a.sameFormulaStructures.spacegrps[b];h.push({id:g,sg:$})}),h.sort((g,b)=>extractIntId(g.id)-extractIntId(b.id)),jsxRuntimeExports$1.jsxs("div",{className:"selection-section",children:[jsxRuntimeExports$1.jsx("b",{children:"Related structures"}),jsxRuntimeExports$1.jsx("br",{}),jsxRuntimeExports$1.jsxs("span",{children:["Structures with this chemical formula",jsxRuntimeExports$1.jsx(Form$1.Select,{size:"sm",style:{width:"340px",display:"inline",margin:"4px 6px 2px 6px"},value:c,onChange:g=>{e(`/discover-mc2d-react//#/details/${o}/${g.target.value}`)},children:h.map(g=>jsxRuntimeExports$1.jsxs("option",{value:g.id,children:[g.id," (spacegroup ",g.sg,")"]},g.id))})]})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(a){return a+.5|0}const lim=(a,e,o)=>Math.max(Math.min(a,o),e);function p2b(a){return lim(round(a*2.55),0,255)}function n2b(a){return lim(round(a*255),0,255)}function b2n(a){return lim(round(a/2.55)/100,0,1)}function n2p(a){return lim(round(a*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=a=>hex[a&15],h2=a=>hex[(a&240)>>4]+hex[a&15],eq=a=>(a&240)>>4===(a&15),isShort=a=>eq(a.r)&&eq(a.g)&&eq(a.b)&&eq(a.a);function hexParse(a){var e=a.length,o;return a[0]==="#"&&(e===4||e===5?o={r:255&map$1[a[1]]*17,g:255&map$1[a[2]]*17,b:255&map$1[a[3]]*17,a:e===5?map$1[a[4]]*17:255}:(e===7||e===9)&&(o={r:map$1[a[1]]<<4|map$1[a[2]],g:map$1[a[3]]<<4|map$1[a[4]],b:map$1[a[5]]<<4|map$1[a[6]],a:e===9?map$1[a[7]]<<4|map$1[a[8]]:255})),o}const alpha=(a,e)=>a<255?e(a):"";function hexString(a){var e=isShort(a)?h1:h2;return a?"#"+e(a.r)+e(a.g)+e(a.b)+alpha(a.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(a,e,o){const c=e*Math.min(o,1-o),h=(g,b=(g+a/30)%12)=>o-c*Math.max(Math.min(b-3,9-b,1),-1);return[h(0),h(8),h(4)]}function hsv2rgbn(a,e,o){const c=(h,g=(h+a/60)%6)=>o-o*e*Math.max(Math.min(g,4-g,1),0);return[c(5),c(3),c(1)]}function hwb2rgbn(a,e,o){const c=hsl2rgbn(a,1,.5);let h;for(e+o>1&&(h=1/(e+o),e*=h,o*=h),h=0;h<3;h++)c[h]*=1-e-o,c[h]+=e;return c}function hueValue(a,e,o,c,h){return a===h?(e-o)/c+(e<o?6:0):e===h?(o-a)/c+2:(a-e)/c+4}function rgb2hsl(a){const o=a.r/255,c=a.g/255,h=a.b/255,g=Math.max(o,c,h),b=Math.min(o,c,h),$=(g+b)/2;let j,rt,nt;return g!==b&&(nt=g-b,rt=$>.5?nt/(2-g-b):nt/(g+b),j=hueValue(o,c,h,nt,g),j=j*60+.5),[j|0,rt||0,$]}function calln(a,e,o,c){return(Array.isArray(e)?a(e[0],e[1],e[2]):a(e,o,c)).map(n2b)}function hsl2rgb(a,e,o){return calln(hsl2rgbn,a,e,o)}function hwb2rgb(a,e,o){return calln(hwb2rgbn,a,e,o)}function hsv2rgb(a,e,o){return calln(hsv2rgbn,a,e,o)}function hue(a){return(a%360+360)%360}function hueParse(a){const e=HUE_RE.exec(a);let o=255,c;if(!e)return;e[5]!==c&&(o=e[6]?p2b(+e[5]):n2b(+e[5]));const h=hue(+e[2]),g=+e[3]/100,b=+e[4]/100;return e[1]==="hwb"?c=hwb2rgb(h,g,b):e[1]==="hsv"?c=hsv2rgb(h,g,b):c=hsl2rgb(h,g,b),{r:c[0],g:c[1],b:c[2],a:o}}function rotate(a,e){var o=rgb2hsl(a);o[0]=hue(o[0]+e),o=hsl2rgb(o),a.r=o[0],a.g=o[1],a.b=o[2]}function hslString(a){if(!a)return;const e=rgb2hsl(a),o=e[0],c=n2p(e[1]),h=n2p(e[2]);return a.a<255?`hsla(${o}, ${c}%, ${h}%, ${b2n(a.a)})`:`hsl(${o}, ${c}%, ${h}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const a={},e=Object.keys(names$1),o=Object.keys(map$2);let c,h,g,b,$;for(c=0;c<e.length;c++){for(b=$=e[c],h=0;h<o.length;h++)g=o[h],$=$.replace(g,map$2[g]);g=parseInt(names$1[b],16),a[$]=[g>>16&255,g>>8&255,g&255]}return a}let names;function nameParse(a){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[a.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(a){const e=RGB_RE.exec(a);let o=255,c,h,g;if(e){if(e[7]!==c){const b=+e[7];o=e[8]?p2b(b):lim(b*255,0,255)}return c=+e[1],h=+e[3],g=+e[5],c=255&(e[2]?p2b(c):lim(c,0,255)),h=255&(e[4]?p2b(h):lim(h,0,255)),g=255&(e[6]?p2b(g):lim(g,0,255)),{r:c,g:h,b:g,a:o}}}function rgbString(a){return a&&(a.a<255?`rgba(${a.r}, ${a.g}, ${a.b}, ${b2n(a.a)})`:`rgb(${a.r}, ${a.g}, ${a.b})`)}const to=a=>a<=.0031308?a*12.92:Math.pow(a,1/2.4)*1.055-.055,from=a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4);function interpolate$1(a,e,o){const c=from(b2n(a.r)),h=from(b2n(a.g)),g=from(b2n(a.b));return{r:n2b(to(c+o*(from(b2n(e.r))-c))),g:n2b(to(h+o*(from(b2n(e.g))-h))),b:n2b(to(g+o*(from(b2n(e.b))-g))),a:a.a+o*(e.a-a.a)}}function modHSL(a,e,o){if(a){let c=rgb2hsl(a);c[e]=Math.max(0,Math.min(c[e]+c[e]*o,e===0?360:1)),c=hsl2rgb(c),a.r=c[0],a.g=c[1],a.b=c[2]}}function clone$1(a,e){return a&&Object.assign(e||{},a)}function fromObject(a){var e={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(e={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(e.a=n2b(a[3]))):(e=clone$1(a,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(a){return a.charAt(0)==="r"?rgbParse(a):hueParse(a)}class Color{constructor(e){if(e instanceof Color)return e;const o=typeof e;let c;o==="object"?c=fromObject(e):o==="string"&&(c=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,o){if(e){const c=this.rgb,h=e.rgb;let g;const b=o===g?.5:o,$=2*b-1,j=c.a-h.a,rt=(($*j===-1?$:($+j)/(1+$*j))+1)/2;g=1-rt,c.r=255&rt*c.r+g*h.r+.5,c.g=255&rt*c.g+g*h.g+.5,c.b=255&rt*c.b+g*h.b+.5,c.a=b*c.a+(1-b)*h.a,this.rgb=c}return this}interpolate(e,o){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,o)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const o=this._rgb;return o.a*=1-e,this}greyscale(){const e=this._rgb,o=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=o,this}opaquer(e){const o=this._rgb;return o.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let a=0;return()=>a++})();function isNullOrUndef(a){return a===null||typeof a>"u"}function isArray(a){if(Array.isArray&&Array.isArray(a))return!0;const e=Object.prototype.toString.call(a);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function isNumberFinite(a){return(typeof a=="number"||a instanceof Number)&&isFinite(+a)}function finiteOrDefault(a,e){return isNumberFinite(a)?a:e}function valueOrDefault(a,e){return typeof a>"u"?e:a}const toPercentage=(a,e)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100:+a/e,toDimension=(a,e)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100*e:+a;function callback(a,e,o){if(a&&typeof a.call=="function")return a.apply(o,e)}function each(a,e,o,c){let h,g,b;if(isArray(a))if(g=a.length,c)for(h=g-1;h>=0;h--)e.call(o,a[h],h);else for(h=0;h<g;h++)e.call(o,a[h],h);else if(isObject(a))for(b=Object.keys(a),g=b.length,h=0;h<g;h++)e.call(o,a[b[h]],b[h])}function _elementsEqual(a,e){let o,c,h,g;if(!a||!e||a.length!==e.length)return!1;for(o=0,c=a.length;o<c;++o)if(h=a[o],g=e[o],h.datasetIndex!==g.datasetIndex||h.index!==g.index)return!1;return!0}function clone(a){if(isArray(a))return a.map(clone);if(isObject(a)){const e=Object.create(null),o=Object.keys(a),c=o.length;let h=0;for(;h<c;++h)e[o[h]]=clone(a[o[h]]);return e}return a}function isValidKey(a){return["__proto__","prototype","constructor"].indexOf(a)===-1}function _merger(a,e,o,c){if(!isValidKey(a))return;const h=e[a],g=o[a];isObject(h)&&isObject(g)?merge(h,g,c):e[a]=clone(g)}function merge(a,e,o){const c=isArray(e)?e:[e],h=c.length;if(!isObject(a))return a;o=o||{};const g=o.merger||_merger;let b;for(let $=0;$<h;++$){if(b=c[$],!isObject(b))continue;const j=Object.keys(b);for(let rt=0,nt=j.length;rt<nt;++rt)g(j[rt],a,b,o)}return a}function mergeIf(a,e){return merge(a,e,{merger:_mergerIf})}function _mergerIf(a,e,o){if(!isValidKey(a))return;const c=e[a],h=o[a];isObject(c)&&isObject(h)?mergeIf(c,h):Object.prototype.hasOwnProperty.call(e,a)||(e[a]=clone(h))}const keyResolvers={"":a=>a,x:a=>a.x,y:a=>a.y};function _splitKey(a){const e=a.split("."),o=[];let c="";for(const h of e)c+=h,c.endsWith("\\")?c=c.slice(0,-1)+".":(o.push(c),c="");return o}function _getKeyResolver(a){const e=_splitKey(a);return o=>{for(const c of e){if(c==="")break;o=o&&o[c]}return o}}function resolveObjectKey(a,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(a)}function _capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)}const defined=a=>typeof a<"u",isFunction=a=>typeof a=="function",setsEqual=(a,e)=>{if(a.size!==e.size)return!1;for(const o of a)if(!e.has(o))return!1;return!0};function _isClickEvent(a){return a.type==="mouseup"||a.type==="click"||a.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(a,e,o){return Math.abs(a-e)<o}function niceNum(a){const e=Math.round(a);a=almostEquals(a,e,a/1e3)?e:a;const o=Math.pow(10,Math.floor(log10(a))),c=a/o;return(c<=1?1:c<=2?2:c<=5?5:10)*o}function _factorize(a){const e=[],o=Math.sqrt(a);let c;for(c=1;c<o;c++)a%c===0&&(e.push(c),e.push(a/c));return o===(o|0)&&e.push(o),e.sort((h,g)=>h-g).pop(),e}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function almostWhole(a,e){const o=Math.round(a);return o-e<=a&&o+e>=a}function _setMinAndMaxByKey(a,e,o){let c,h,g;for(c=0,h=a.length;c<h;c++)g=a[c][o],isNaN(g)||(e.min=Math.min(e.min,g),e.max=Math.max(e.max,g))}function toRadians(a){return a*(PI/180)}function toDegrees(a){return a*(180/PI)}function _decimalPlaces(a){if(!isNumberFinite(a))return;let e=1,o=0;for(;Math.round(a*e)/e!==a;)e*=10,o++;return o}function getAngleFromPoint(a,e){const o=e.x-a.x,c=e.y-a.y,h=Math.sqrt(o*o+c*c);let g=Math.atan2(c,o);return g<-.5*PI&&(g+=TAU),{angle:g,distance:h}}function distanceBetweenPoints(a,e){return Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2))}function _angleDiff(a,e){return(a-e+PITAU)%TAU-PI}function _normalizeAngle(a){return(a%TAU+TAU)%TAU}function _angleBetween(a,e,o,c){const h=_normalizeAngle(a),g=_normalizeAngle(e),b=_normalizeAngle(o),$=_normalizeAngle(g-h),j=_normalizeAngle(b-h),rt=_normalizeAngle(h-g),nt=_normalizeAngle(h-b);return h===g||h===b||c&&g===b||$>j&&rt<nt}function _limitValue(a,e,o){return Math.max(e,Math.min(o,a))}function _int16Range(a){return _limitValue(a,-32768,32767)}function _isBetween(a,e,o,c=1e-6){return a>=Math.min(e,o)-c&&a<=Math.max(e,o)+c}function _lookup(a,e,o){o=o||(b=>a[b]<e);let c=a.length-1,h=0,g;for(;c-h>1;)g=h+c>>1,o(g)?h=g:c=g;return{lo:h,hi:c}}const _lookupByKey=(a,e,o,c)=>_lookup(a,o,c?h=>{const g=a[h][e];return g<o||g===o&&a[h+1][e]===o}:h=>a[h][e]<o),_rlookupByKey=(a,e,o)=>_lookup(a,o,c=>a[c][e]>=o);function _filterBetween(a,e,o){let c=0,h=a.length;for(;c<h&&a[c]<e;)c++;for(;h>c&&a[h-1]>o;)h--;return c>0||h<a.length?a.slice(c,h):a}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(a,e){if(a._chartjs){a._chartjs.listeners.push(e);return}Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(o=>{const c="_onData"+_capitalize(o),h=a[o];Object.defineProperty(a,o,{configurable:!0,enumerable:!1,value(...g){const b=h.apply(this,g);return a._chartjs.listeners.forEach($=>{typeof $[c]=="function"&&$[c](...g)}),b}})})}function unlistenArrayEvents(a,e){const o=a._chartjs;if(!o)return;const c=o.listeners,h=c.indexOf(e);h!==-1&&c.splice(h,1),!(c.length>0)&&(arrayEvents.forEach(g=>{delete a[g]}),delete a._chartjs)}function _arrayUnique(a){const e=new Set(a);return e.size===a.length?a:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(a){return a()}:window.requestAnimationFrame}();function throttled(a,e){let o=[],c=!1;return function(...h){o=h,c||(c=!0,requestAnimFrame.call(window,()=>{c=!1,a.apply(e,o)}))}}function debounce$1(a,e){let o;return function(...c){return e?(clearTimeout(o),o=setTimeout(a,e,c)):a.apply(this,c),e}}const _toLeftRightCenter=a=>a==="start"?"left":a==="end"?"right":"center",_alignStartEnd=(a,e,o)=>a==="start"?e:a==="end"?o:(e+o)/2,_textX=(a,e,o,c)=>a===(c?"left":"right")?o:a==="center"?(e+o)/2:e;function _getStartAndCountOfVisiblePoints(a,e,o){const c=e.length;let h=0,g=c;if(a._sorted){const{iScale:b,_parsed:$}=a,j=b.axis,{min:rt,max:nt,minDefined:ot,maxDefined:_t}=b.getUserBounds();ot&&(h=_limitValue(Math.min(_lookupByKey($,j,rt).lo,o?c:_lookupByKey(e,j,b.getPixelForValue(rt)).lo),0,c-1)),_t?g=_limitValue(Math.max(_lookupByKey($,b.axis,nt,!0).hi+1,o?0:_lookupByKey(e,j,b.getPixelForValue(nt),!0).hi+1),h,c)-h:g=c-h}return{start:h,count:g}}function _scaleRangesChanged(a){const{xScale:e,yScale:o,_scaleRanges:c}=a,h={xmin:e.min,xmax:e.max,ymin:o.min,ymax:o.max};if(!c)return a._scaleRanges=h,!0;const g=c.xmin!==e.min||c.xmax!==e.max||c.ymin!==o.min||c.ymax!==o.max;return Object.assign(c,h),g}const atEdge=a=>a===0||a===1,elasticIn=(a,e,o)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-e)*TAU/o)),elasticOut=(a,e,o)=>Math.pow(2,-10*a)*Math.sin((a-e)*TAU/o)+1,effects={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*HALF_PI)+1,easeOutSine:a=>Math.sin(a*HALF_PI),easeInOutSine:a=>-.5*(Math.cos(PI*a)-1),easeInExpo:a=>a===0?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>a===1?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>atEdge(a)?a:a<.5?.5*Math.pow(2,10*(a*2-1)):.5*(-Math.pow(2,-10*(a*2-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>atEdge(a)?a:elasticIn(a,.075,.3),easeOutElastic:a=>atEdge(a)?a:elasticOut(a,.075,.3),easeInOutElastic(a){return atEdge(a)?a:a<.5?.5*elasticIn(a*2,.1125,.45):.5+.5*elasticOut(a*2-1,.1125,.45)},easeInBack(a){return a*a*((1.70158+1)*a-1.70158)},easeOutBack(a){return(a-=1)*a*((1.70158+1)*a+1.70158)+1},easeInOutBack(a){let e=1.70158;return(a/=.5)<1?.5*(a*a*(((e*=1.525)+1)*a-e)):.5*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)},easeInBounce:a=>1-effects.easeOutBounce(1-a),easeOutBounce(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:a=>a<.5?effects.easeInBounce(a*2)*.5:effects.easeOutBounce(a*2-1)*.5+.5};function isPatternOrGradient(a){if(a&&typeof a=="object"){const e=a.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(a){return isPatternOrGradient(a)?a:new Color(a)}function getHoverColor(a){return isPatternOrGradient(a)?a:new Color(a).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),a.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(a,e){e=e||{};const o=a+JSON.stringify(e);let c=intlCache.get(o);return c||(c=new Intl.NumberFormat(a,e),intlCache.set(o,c)),c}function formatNumber(a,e,o){return getNumberFormat(e,o).format(a)}const formatters={values(a){return isArray(a)?a:""+a},numeric(a,e,o){if(a===0)return"0";const c=this.chart.options.locale;let h,g=a;if(o.length>1){const rt=Math.max(Math.abs(o[0].value),Math.abs(o[o.length-1].value));(rt<1e-4||rt>1e15)&&(h="scientific"),g=calculateDelta(a,o)}const b=log10(Math.abs(g)),$=isNaN(b)?1:Math.max(Math.min(-1*Math.floor(b),20),0),j={notation:h,minimumFractionDigits:$,maximumFractionDigits:$};return Object.assign(j,this.options.ticks.format),formatNumber(a,c,j)},logarithmic(a,e,o){if(a===0)return"0";const c=o[e].significand||a/Math.pow(10,Math.floor(log10(a)));return[1,2,3,5,10,15].includes(c)||e>.8*o.length?formatters.numeric.call(this,a,e,o):""}};function calculateDelta(a,e){let o=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(o)>=1&&a!==Math.floor(a)&&(o=a-Math.floor(a)),o}var Ticks={formatters};function applyScaleDefaults(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,o)=>o.lineWidth,tickColor:(e,o)=>o.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(a,e){if(!e)return a;const o=e.split(".");for(let c=0,h=o.length;c<h;++c){const g=o[c];a=a[g]||(a[g]=Object.create(null))}return a}function set(a,e,o){return typeof e=="string"?merge(getScope$1(a,e),o):merge(getScope$1(a,""),e)}class Defaults{constructor(e,o){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=c=>c.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(c,h)=>getHoverColor(h.backgroundColor),this.hoverBorderColor=(c,h)=>getHoverColor(h.borderColor),this.hoverColor=(c,h)=>getHoverColor(h.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(o)}set(e,o){return set(this,e,o)}get(e){return getScope$1(this,e)}describe(e,o){return set(descriptors,e,o)}override(e,o){return set(overrides,e,o)}route(e,o,c,h){const g=getScope$1(this,e),b=getScope$1(this,c),$="_"+o;Object.defineProperties(g,{[$]:{value:g[o],writable:!0},[o]:{enumerable:!0,get(){const j=this[$],rt=b[h];return isObject(j)?Object.assign({},rt,j):valueOrDefault(j,rt)},set(j){this[$]=j}}})}apply(e){e.forEach(o=>o(this))}}var defaults=new Defaults({_scriptable:a=>!a.startsWith("on"),_indexable:a=>a!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(a){return!a||isNullOrUndef(a.size)||isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function _measureText(a,e,o,c,h){let g=e[h];return g||(g=e[h]=a.measureText(h).width,o.push(h)),g>c&&(c=g),c}function _longestText(a,e,o,c){c=c||{};let h=c.data=c.data||{},g=c.garbageCollect=c.garbageCollect||[];c.font!==e&&(h=c.data={},g=c.garbageCollect=[],c.font=e),a.save(),a.font=e;let b=0;const $=o.length;let j,rt,nt,ot,_t;for(j=0;j<$;j++)if(ot=o[j],ot!=null&&!isArray(ot))b=_measureText(a,h,g,b,ot);else if(isArray(ot))for(rt=0,nt=ot.length;rt<nt;rt++)_t=ot[rt],_t!=null&&!isArray(_t)&&(b=_measureText(a,h,g,b,_t));a.restore();const Et=g.length/2;if(Et>o.length){for(j=0;j<Et;j++)delete h[g[j]];g.splice(0,Et)}return b}function _alignPixel(a,e,o){const c=a.currentDevicePixelRatio,h=o!==0?Math.max(o/2,.5):0;return Math.round((e-h)*c)/c+h}function clearCanvas(a,e){e=e||a.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,a.width,a.height),e.restore()}function drawPoint$1(a,e,o,c){drawPointLegend(a,e,o,c,null)}function drawPointLegend(a,e,o,c,h){let g,b,$,j,rt,nt,ot,_t;const Et=e.pointStyle,It=e.rotation,it=e.radius;let st=(It||0)*RAD_PER_DEG;if(Et&&typeof Et=="object"&&(g=Et.toString(),g==="[object HTMLImageElement]"||g==="[object HTMLCanvasElement]")){a.save(),a.translate(o,c),a.rotate(st),a.drawImage(Et,-Et.width/2,-Et.height/2,Et.width,Et.height),a.restore();return}if(!(isNaN(it)||it<=0)){switch(a.beginPath(),Et){default:h?a.ellipse(o,c,h/2,it,0,0,TAU):a.arc(o,c,it,0,TAU),a.closePath();break;case"triangle":nt=h?h/2:it,a.moveTo(o+Math.sin(st)*nt,c-Math.cos(st)*it),st+=TWO_THIRDS_PI,a.lineTo(o+Math.sin(st)*nt,c-Math.cos(st)*it),st+=TWO_THIRDS_PI,a.lineTo(o+Math.sin(st)*nt,c-Math.cos(st)*it),a.closePath();break;case"rectRounded":rt=it*.516,j=it-rt,b=Math.cos(st+QUARTER_PI)*j,ot=Math.cos(st+QUARTER_PI)*(h?h/2-rt:j),$=Math.sin(st+QUARTER_PI)*j,_t=Math.sin(st+QUARTER_PI)*(h?h/2-rt:j),a.arc(o-ot,c-$,rt,st-PI,st-HALF_PI),a.arc(o+_t,c-b,rt,st-HALF_PI,st),a.arc(o+ot,c+$,rt,st,st+HALF_PI),a.arc(o-_t,c+b,rt,st+HALF_PI,st+PI),a.closePath();break;case"rect":if(!It){j=Math.SQRT1_2*it,nt=h?h/2:j,a.rect(o-nt,c-j,2*nt,2*j);break}st+=QUARTER_PI;case"rectRot":ot=Math.cos(st)*(h?h/2:it),b=Math.cos(st)*it,$=Math.sin(st)*it,_t=Math.sin(st)*(h?h/2:it),a.moveTo(o-ot,c-$),a.lineTo(o+_t,c-b),a.lineTo(o+ot,c+$),a.lineTo(o-_t,c+b),a.closePath();break;case"crossRot":st+=QUARTER_PI;case"cross":ot=Math.cos(st)*(h?h/2:it),b=Math.cos(st)*it,$=Math.sin(st)*it,_t=Math.sin(st)*(h?h/2:it),a.moveTo(o-ot,c-$),a.lineTo(o+ot,c+$),a.moveTo(o+_t,c-b),a.lineTo(o-_t,c+b);break;case"star":ot=Math.cos(st)*(h?h/2:it),b=Math.cos(st)*it,$=Math.sin(st)*it,_t=Math.sin(st)*(h?h/2:it),a.moveTo(o-ot,c-$),a.lineTo(o+ot,c+$),a.moveTo(o+_t,c-b),a.lineTo(o-_t,c+b),st+=QUARTER_PI,ot=Math.cos(st)*(h?h/2:it),b=Math.cos(st)*it,$=Math.sin(st)*it,_t=Math.sin(st)*(h?h/2:it),a.moveTo(o-ot,c-$),a.lineTo(o+ot,c+$),a.moveTo(o+_t,c-b),a.lineTo(o-_t,c+b);break;case"line":b=h?h/2:Math.cos(st)*it,$=Math.sin(st)*it,a.moveTo(o-b,c-$),a.lineTo(o+b,c+$);break;case"dash":a.moveTo(o,c),a.lineTo(o+Math.cos(st)*(h?h/2:it),c+Math.sin(st)*it);break;case!1:a.closePath();break}a.fill(),e.borderWidth>0&&a.stroke()}}function _isPointInArea(a,e,o){return o=o||.5,!e||a&&a.x>e.left-o&&a.x<e.right+o&&a.y>e.top-o&&a.y<e.bottom+o}function clipArea(a,e){a.save(),a.beginPath(),a.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),a.clip()}function unclipArea(a){a.restore()}function _steppedLineTo(a,e,o,c,h){if(!e)return a.lineTo(o.x,o.y);if(h==="middle"){const g=(e.x+o.x)/2;a.lineTo(g,e.y),a.lineTo(g,o.y)}else h==="after"!=!!c?a.lineTo(e.x,o.y):a.lineTo(o.x,e.y);a.lineTo(o.x,o.y)}function _bezierCurveTo(a,e,o,c){if(!e)return a.lineTo(o.x,o.y);a.bezierCurveTo(c?e.cp1x:e.cp2x,c?e.cp1y:e.cp2y,c?o.cp2x:o.cp1x,c?o.cp2y:o.cp1y,o.x,o.y)}function setRenderOpts(a,e){e.translation&&a.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||a.rotate(e.rotation),e.color&&(a.fillStyle=e.color),e.textAlign&&(a.textAlign=e.textAlign),e.textBaseline&&(a.textBaseline=e.textBaseline)}function decorateText(a,e,o,c,h){if(h.strikethrough||h.underline){const g=a.measureText(c),b=e-g.actualBoundingBoxLeft,$=e+g.actualBoundingBoxRight,j=o-g.actualBoundingBoxAscent,rt=o+g.actualBoundingBoxDescent,nt=h.strikethrough?(j+rt)/2:rt;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=h.decorationWidth||2,a.moveTo(b,nt),a.lineTo($,nt),a.stroke()}}function drawBackdrop(a,e){const o=a.fillStyle;a.fillStyle=e.color,a.fillRect(e.left,e.top,e.width,e.height),a.fillStyle=o}function renderText(a,e,o,c,h,g={}){const b=isArray(e)?e:[e],$=g.strokeWidth>0&&g.strokeColor!=="";let j,rt;for(a.save(),a.font=h.string,setRenderOpts(a,g),j=0;j<b.length;++j)rt=b[j],g.backdrop&&drawBackdrop(a,g.backdrop),$&&(g.strokeColor&&(a.strokeStyle=g.strokeColor),isNullOrUndef(g.strokeWidth)||(a.lineWidth=g.strokeWidth),a.strokeText(rt,o,c,g.maxWidth)),a.fillText(rt,o,c,g.maxWidth),decorateText(a,o,c,rt,g),c+=Number(h.lineHeight);a.restore()}function addRoundedRectPath(a,e){const{x:o,y:c,w:h,h:g,radius:b}=e;a.arc(o+b.topLeft,c+b.topLeft,b.topLeft,1.5*PI,PI,!0),a.lineTo(o,c+g-b.bottomLeft),a.arc(o+b.bottomLeft,c+g-b.bottomLeft,b.bottomLeft,PI,HALF_PI,!0),a.lineTo(o+h-b.bottomRight,c+g),a.arc(o+h-b.bottomRight,c+g-b.bottomRight,b.bottomRight,HALF_PI,0,!0),a.lineTo(o+h,c+b.topRight),a.arc(o+h-b.topRight,c+b.topRight,b.topRight,0,-HALF_PI,!0),a.lineTo(o+b.topLeft,c)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(a,e){const o=(""+a).match(LINE_HEIGHT);if(!o||o[1]==="normal")return e*1.2;switch(a=+o[2],o[3]){case"px":return a;case"%":a/=100;break}return e*a}const numberOrZero=a=>+a||0;function _readValueToProps(a,e){const o={},c=isObject(e),h=c?Object.keys(e):e,g=isObject(a)?c?b=>valueOrDefault(a[b],a[e[b]]):b=>a[b]:()=>a;for(const b of h)o[b]=numberOrZero(g(b));return o}function toTRBL(a){return _readValueToProps(a,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(a){return _readValueToProps(a,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(a){const e=toTRBL(a);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(a,e){a=a||{},e=e||defaults.font;let o=valueOrDefault(a.size,e.size);typeof o=="string"&&(o=parseInt(o,10));let c=valueOrDefault(a.style,e.style);c&&!(""+c).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+c+'"'),c=void 0);const h={family:valueOrDefault(a.family,e.family),lineHeight:toLineHeight(valueOrDefault(a.lineHeight,e.lineHeight),o),size:o,style:c,weight:valueOrDefault(a.weight,e.weight),string:""};return h.string=toFontString(h),h}function resolve$1(a,e,o,c){let h=!0,g,b,$;for(g=0,b=a.length;g<b;++g)if($=a[g],$!==void 0&&(e!==void 0&&typeof $=="function"&&($=$(e),h=!1),o!==void 0&&isArray($)&&($=$[o%$.length],h=!1),$!==void 0))return c&&!h&&(c.cacheable=!1),$}function _addGrace(a,e,o){const{min:c,max:h}=a,g=toDimension(e,(h-c)/2),b=($,j)=>o&&$===0?0:$+j;return{min:b(c,-Math.abs(g)),max:b(h,g)}}function createContext(a,e){return Object.assign(Object.create(a),e)}function _createResolver(a,e=[""],o,c,h=()=>a[0]){const g=o||a;typeof c>"u"&&(c=_resolve("_fallback",a));const b={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:g,_fallback:c,_getTarget:h,override:$=>_createResolver([$,...a],e,g,c)};return new Proxy(b,{deleteProperty($,j){return delete $[j],delete $._keys,delete a[0][j],!0},get($,j){return _cached($,j,()=>_resolveWithPrefixes(j,e,a,$))},getOwnPropertyDescriptor($,j){return Reflect.getOwnPropertyDescriptor($._scopes[0],j)},getPrototypeOf(){return Reflect.getPrototypeOf(a[0])},has($,j){return getKeysFromAllScopes($).includes(j)},ownKeys($){return getKeysFromAllScopes($)},set($,j,rt){const nt=$._storage||($._storage=h());return $[j]=nt[j]=rt,delete $._keys,!0}})}function _attachContext(a,e,o,c){const h={_cacheable:!1,_proxy:a,_context:e,_subProxy:o,_stack:new Set,_descriptors:_descriptors(a,c),setContext:g=>_attachContext(a,g,o,c),override:g=>_attachContext(a.override(g),e,o,c)};return new Proxy(h,{deleteProperty(g,b){return delete g[b],delete a[b],!0},get(g,b,$){return _cached(g,b,()=>_resolveWithContext(g,b,$))},getOwnPropertyDescriptor(g,b){return g._descriptors.allKeys?Reflect.has(a,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,b)},getPrototypeOf(){return Reflect.getPrototypeOf(a)},has(g,b){return Reflect.has(a,b)},ownKeys(){return Reflect.ownKeys(a)},set(g,b,$){return a[b]=$,delete g[b],!0}})}function _descriptors(a,e={scriptable:!0,indexable:!0}){const{_scriptable:o=e.scriptable,_indexable:c=e.indexable,_allKeys:h=e.allKeys}=a;return{allKeys:h,scriptable:o,indexable:c,isScriptable:isFunction(o)?o:()=>o,isIndexable:isFunction(c)?c:()=>c}}const readKey=(a,e)=>a?a+_capitalize(e):e,needsSubResolver=(a,e)=>isObject(e)&&a!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(a,e,o){if(Object.prototype.hasOwnProperty.call(a,e))return a[e];const c=o();return a[e]=c,c}function _resolveWithContext(a,e,o){const{_proxy:c,_context:h,_subProxy:g,_descriptors:b}=a;let $=c[e];return isFunction($)&&b.isScriptable(e)&&($=_resolveScriptable(e,$,a,o)),isArray($)&&$.length&&($=_resolveArray(e,$,a,b.isIndexable)),needsSubResolver(e,$)&&($=_attachContext($,h,g&&g[e],b)),$}function _resolveScriptable(a,e,o,c){const{_proxy:h,_context:g,_subProxy:b,_stack:$}=o;if($.has(a))throw new Error("Recursion detected: "+Array.from($).join("->")+"->"+a);$.add(a);let j=e(g,b||c);return $.delete(a),needsSubResolver(a,j)&&(j=createSubResolver(h._scopes,h,a,j)),j}function _resolveArray(a,e,o,c){const{_proxy:h,_context:g,_subProxy:b,_descriptors:$}=o;if(typeof g.index<"u"&&c(a))return e[g.index%e.length];if(isObject(e[0])){const j=e,rt=h._scopes.filter(nt=>nt!==j);e=[];for(const nt of j){const ot=createSubResolver(rt,h,a,nt);e.push(_attachContext(ot,g,b&&b[a],$))}}return e}function resolveFallback(a,e,o){return isFunction(a)?a(e,o):a}const getScope=(a,e)=>a===!0?e:typeof a=="string"?resolveObjectKey(e,a):void 0;function addScopes(a,e,o,c,h){for(const g of e){const b=getScope(o,g);if(b){a.add(b);const $=resolveFallback(b._fallback,o,h);if(typeof $<"u"&&$!==o&&$!==c)return $}else if(b===!1&&typeof c<"u"&&o!==c)return null}return!1}function createSubResolver(a,e,o,c){const h=e._rootScopes,g=resolveFallback(e._fallback,o,c),b=[...a,...h],$=new Set;$.add(c);let j=addScopesFromKey($,b,o,g||o,c);return j===null||typeof g<"u"&&g!==o&&(j=addScopesFromKey($,b,g,j,c),j===null)?!1:_createResolver(Array.from($),[""],h,g,()=>subGetTarget(e,o,c))}function addScopesFromKey(a,e,o,c,h){for(;o;)o=addScopes(a,e,o,c,h);return o}function subGetTarget(a,e,o){const c=a._getTarget();e in c||(c[e]={});const h=c[e];return isArray(h)&&isObject(o)?o:h||{}}function _resolveWithPrefixes(a,e,o,c){let h;for(const g of e)if(h=_resolve(readKey(g,a),o),typeof h<"u")return needsSubResolver(a,h)?createSubResolver(o,c,a,h):h}function _resolve(a,e){for(const o of e){if(!o)continue;const c=o[a];if(typeof c<"u")return c}}function getKeysFromAllScopes(a){let e=a._keys;return e||(e=a._keys=resolveKeysFromAllScopes(a._scopes)),e}function resolveKeysFromAllScopes(a){const e=new Set;for(const o of a)for(const c of Object.keys(o).filter(h=>!h.startsWith("_")))e.add(c);return Array.from(e)}function _parseObjectDataRadialScale(a,e,o,c){const{iScale:h}=a,{key:g="r"}=this._parsing,b=new Array(c);let $,j,rt,nt;for($=0,j=c;$<j;++$)rt=$+o,nt=e[rt],b[$]={r:h.parse(resolveObjectKey(nt,g),rt)};return b}const EPSILON$1=Number.EPSILON||1e-14,getPoint=(a,e)=>e<a.length&&!a[e].skip&&a[e],getValueAxis=a=>a==="x"?"y":"x";function splineCurve(a,e,o,c){const h=a.skip?e:a,g=e,b=o.skip?e:o,$=distanceBetweenPoints(g,h),j=distanceBetweenPoints(b,g);let rt=$/($+j),nt=j/($+j);rt=isNaN(rt)?0:rt,nt=isNaN(nt)?0:nt;const ot=c*rt,_t=c*nt;return{previous:{x:g.x-ot*(b.x-h.x),y:g.y-ot*(b.y-h.y)},next:{x:g.x+_t*(b.x-h.x),y:g.y+_t*(b.y-h.y)}}}function monotoneAdjust(a,e,o){const c=a.length;let h,g,b,$,j,rt=getPoint(a,0);for(let nt=0;nt<c-1;++nt)if(j=rt,rt=getPoint(a,nt+1),!(!j||!rt)){if(almostEquals(e[nt],0,EPSILON$1)){o[nt]=o[nt+1]=0;continue}h=o[nt]/e[nt],g=o[nt+1]/e[nt],$=Math.pow(h,2)+Math.pow(g,2),!($<=9)&&(b=3/Math.sqrt($),o[nt]=h*b*e[nt],o[nt+1]=g*b*e[nt])}}function monotoneCompute(a,e,o="x"){const c=getValueAxis(o),h=a.length;let g,b,$,j=getPoint(a,0);for(let rt=0;rt<h;++rt){if(b=$,$=j,j=getPoint(a,rt+1),!$)continue;const nt=$[o],ot=$[c];b&&(g=(nt-b[o])/3,$[`cp1${o}`]=nt-g,$[`cp1${c}`]=ot-g*e[rt]),j&&(g=(j[o]-nt)/3,$[`cp2${o}`]=nt+g,$[`cp2${c}`]=ot+g*e[rt])}}function splineCurveMonotone(a,e="x"){const o=getValueAxis(e),c=a.length,h=Array(c).fill(0),g=Array(c);let b,$,j,rt=getPoint(a,0);for(b=0;b<c;++b)if($=j,j=rt,rt=getPoint(a,b+1),!!j){if(rt){const nt=rt[e]-j[e];h[b]=nt!==0?(rt[o]-j[o])/nt:0}g[b]=$?rt?sign(h[b-1])!==sign(h[b])?0:(h[b-1]+h[b])/2:h[b-1]:h[b]}monotoneAdjust(a,h,g),monotoneCompute(a,g,e)}function capControlPoint(a,e,o){return Math.max(Math.min(a,o),e)}function capBezierPoints(a,e){let o,c,h,g,b,$=_isPointInArea(a[0],e);for(o=0,c=a.length;o<c;++o)b=g,g=$,$=o<c-1&&_isPointInArea(a[o+1],e),g&&(h=a[o],b&&(h.cp1x=capControlPoint(h.cp1x,e.left,e.right),h.cp1y=capControlPoint(h.cp1y,e.top,e.bottom)),$&&(h.cp2x=capControlPoint(h.cp2x,e.left,e.right),h.cp2y=capControlPoint(h.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(a,e,o,c,h){let g,b,$,j;if(e.spanGaps&&(a=a.filter(rt=>!rt.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(a,h);else{let rt=c?a[a.length-1]:a[0];for(g=0,b=a.length;g<b;++g)$=a[g],j=splineCurve(rt,$,a[Math.min(g+1,b-(c?0:1))%b],e.tension),$.cp1x=j.previous.x,$.cp1y=j.previous.y,$.cp2x=j.next.x,$.cp2y=j.next.y,rt=$}e.capBezierPoints&&capBezierPoints(a,o)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(a){let e=a.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(a,e,o){let c;return typeof a=="string"?(c=parseInt(a,10),a.indexOf("%")!==-1&&(c=c/100*e.parentNode[o])):c=a,c}const getComputedStyle$1=a=>a.ownerDocument.defaultView.getComputedStyle(a,null);function getStyle(a,e){return getComputedStyle$1(a).getPropertyValue(e)}const positions$1=["top","right","bottom","left"];function getPositionedStyle(a,e,o){const c={};o=o?"-"+o:"";for(let h=0;h<4;h++){const g=positions$1[h];c[g]=parseFloat(a[e+"-"+g+o])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}const useOffsetPos=(a,e,o)=>(a>0||e>0)&&(!o||!o.shadowRoot);function getCanvasPosition(a,e){const o=a.touches,c=o&&o.length?o[0]:a,{offsetX:h,offsetY:g}=c;let b=!1,$,j;if(useOffsetPos(h,g,a.target))$=h,j=g;else{const rt=e.getBoundingClientRect();$=c.clientX-rt.left,j=c.clientY-rt.top,b=!0}return{x:$,y:j,box:b}}function getRelativePosition$1(a,e){if("native"in a)return a;const{canvas:o,currentDevicePixelRatio:c}=e,h=getComputedStyle$1(o),g=h.boxSizing==="border-box",b=getPositionedStyle(h,"padding"),$=getPositionedStyle(h,"border","width"),{x:j,y:rt,box:nt}=getCanvasPosition(a,o),ot=b.left+(nt&&$.left),_t=b.top+(nt&&$.top);let{width:Et,height:It}=e;return g&&(Et-=b.width+$.width,It-=b.height+$.height),{x:Math.round((j-ot)/Et*o.width/c),y:Math.round((rt-_t)/It*o.height/c)}}function getContainerSize(a,e,o){let c,h;if(e===void 0||o===void 0){const g=_getParentNode(a);if(!g)e=a.clientWidth,o=a.clientHeight;else{const b=g.getBoundingClientRect(),$=getComputedStyle$1(g),j=getPositionedStyle($,"border","width"),rt=getPositionedStyle($,"padding");e=b.width-rt.width-j.width,o=b.height-rt.height-j.height,c=parseMaxStyle($.maxWidth,g,"clientWidth"),h=parseMaxStyle($.maxHeight,g,"clientHeight")}}return{width:e,height:o,maxWidth:c||INFINITY,maxHeight:h||INFINITY}}const round1=a=>Math.round(a*10)/10;function getMaximumSize(a,e,o,c){const h=getComputedStyle$1(a),g=getPositionedStyle(h,"margin"),b=parseMaxStyle(h.maxWidth,a,"clientWidth")||INFINITY,$=parseMaxStyle(h.maxHeight,a,"clientHeight")||INFINITY,j=getContainerSize(a,e,o);let{width:rt,height:nt}=j;if(h.boxSizing==="content-box"){const _t=getPositionedStyle(h,"border","width"),Et=getPositionedStyle(h,"padding");rt-=Et.width+_t.width,nt-=Et.height+_t.height}return rt=Math.max(0,rt-g.width),nt=Math.max(0,c?rt/c:nt-g.height),rt=round1(Math.min(rt,b,j.maxWidth)),nt=round1(Math.min(nt,$,j.maxHeight)),rt&&!nt&&(nt=round1(rt/2)),(e!==void 0||o!==void 0)&&c&&j.height&&nt>j.height&&(nt=j.height,rt=round1(Math.floor(nt*c))),{width:rt,height:nt}}function retinaScale(a,e,o){const c=e||1,h=Math.floor(a.height*c),g=Math.floor(a.width*c);a.height=Math.floor(a.height),a.width=Math.floor(a.width);const b=a.canvas;return b.style&&(o||!b.style.height&&!b.style.width)&&(b.style.height=`${a.height}px`,b.style.width=`${a.width}px`),a.currentDevicePixelRatio!==c||b.height!==h||b.width!==g?(a.currentDevicePixelRatio=c,b.height=h,b.width=g,a.ctx.setTransform(c,0,0,c,0,0),!0):!1}const supportsEventListenerOptions=function(){let a=!1;try{const e={get passive(){return a=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return a}();function readUsedSize(a,e){const o=getStyle(a,e),c=o&&o.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function _pointInLine(a,e,o,c){return{x:a.x+o*(e.x-a.x),y:a.y+o*(e.y-a.y)}}function _steppedInterpolation(a,e,o,c){return{x:a.x+o*(e.x-a.x),y:c==="middle"?o<.5?a.y:e.y:c==="after"?o<1?a.y:e.y:o>0?e.y:a.y}}function _bezierInterpolation(a,e,o,c){const h={x:a.cp2x,y:a.cp2y},g={x:e.cp1x,y:e.cp1y},b=_pointInLine(a,h,o),$=_pointInLine(h,g,o),j=_pointInLine(g,e,o),rt=_pointInLine(b,$,o),nt=_pointInLine($,j,o);return _pointInLine(rt,nt,o)}const getRightToLeftAdapter=function(a,e){return{x(o){return a+a+e-o},setWidth(o){e=o},textAlign(o){return o==="center"?o:o==="right"?"left":"right"},xPlus(o,c){return o-c},leftForLtr(o,c){return o-c}}},getLeftToRightAdapter=function(){return{x(a){return a},setWidth(a){},textAlign(a){return a},xPlus(a,e){return a+e},leftForLtr(a,e){return a}}};function getRtlAdapter(a,e,o){return a?getRightToLeftAdapter(e,o):getLeftToRightAdapter()}function overrideTextDirection(a,e){let o,c;(e==="ltr"||e==="rtl")&&(o=a.canvas.style,c=[o.getPropertyValue("direction"),o.getPropertyPriority("direction")],o.setProperty("direction",e,"important"),a.prevTextDirection=c)}function restoreTextDirection(a,e){e!==void 0&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(a){return a==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,o)=>e-o,normalize:e=>e}}function normalizeSegment({start:a,end:e,count:o,loop:c,style:h}){return{start:a%o,end:e%o,loop:c&&(e-a+1)%o===0,style:h}}function getSegment(a,e,o){const{property:c,start:h,end:g}=o,{between:b,normalize:$}=propertyFn(c),j=e.length;let{start:rt,end:nt,loop:ot}=a,_t,Et;if(ot){for(rt+=j,nt+=j,_t=0,Et=j;_t<Et&&b($(e[rt%j][c]),h,g);++_t)rt--,nt--;rt%=j,nt%=j}return nt<rt&&(nt+=j),{start:rt,end:nt,loop:ot,style:a.style}}function _boundSegment(a,e,o){if(!o)return[a];const{property:c,start:h,end:g}=o,b=e.length,{compare:$,between:j,normalize:rt}=propertyFn(c),{start:nt,end:ot,loop:_t,style:Et}=getSegment(a,e,o),It=[];let it=!1,st=null,Mt,bt,Lt;const pt=()=>j(h,Lt,Mt)&&$(h,Lt)!==0,Dt=()=>$(g,Mt)===0||j(g,Lt,Mt),wt=()=>it||pt(),Bt=()=>!it||Dt();for(let jt=nt,hr=nt;jt<=ot;++jt)bt=e[jt%b],!bt.skip&&(Mt=rt(bt[c]),Mt!==Lt&&(it=j(Mt,h,g),st===null&&wt()&&(st=$(Mt,h)===0?jt:hr),st!==null&&Bt()&&(It.push(normalizeSegment({start:st,end:jt,loop:_t,count:b,style:Et})),st=null),hr=jt,Lt=Mt));return st!==null&&It.push(normalizeSegment({start:st,end:ot,loop:_t,count:b,style:Et})),It}function _boundSegments(a,e){const o=[],c=a.segments;for(let h=0;h<c.length;h++){const g=_boundSegment(c[h],a.points,e);g.length&&o.push(...g)}return o}function findStartAndEnd(a,e,o,c){let h=0,g=e-1;if(o&&!c)for(;h<e&&!a[h].skip;)h++;for(;h<e&&a[h].skip;)h++;for(h%=e,o&&(g+=h);g>h&&a[g%e].skip;)g--;return g%=e,{start:h,end:g}}function solidSegments(a,e,o,c){const h=a.length,g=[];let b=e,$=a[e],j;for(j=e+1;j<=o;++j){const rt=a[j%h];rt.skip||rt.stop?$.skip||(c=!1,g.push({start:e%h,end:(j-1)%h,loop:c}),e=b=rt.stop?j:null):(b=j,$.skip&&(e=j)),$=rt}return b!==null&&g.push({start:e%h,end:b%h,loop:c}),g}function _computeSegments(a,e){const o=a.points,c=a.options.spanGaps,h=o.length;if(!h)return[];const g=!!a._loop,{start:b,end:$}=findStartAndEnd(o,h,g,c);if(c===!0)return splitByStyles(a,[{start:b,end:$,loop:g}],o,e);const j=$<b?$+h:$,rt=!!a._fullLoop&&b===0&&$===h-1;return splitByStyles(a,solidSegments(o,b,j,rt),o,e)}function splitByStyles(a,e,o,c){return!c||!c.setContext||!o?e:doSplitByStyles(a,e,o,c)}function doSplitByStyles(a,e,o,c){const h=a._chart.getContext(),g=readStyle(a.options),{_datasetIndex:b,options:{spanGaps:$}}=a,j=o.length,rt=[];let nt=g,ot=e[0].start,_t=ot;function Et(It,it,st,Mt){const bt=$?-1:1;if(It!==it){for(It+=j;o[It%j].skip;)It-=bt;for(;o[it%j].skip;)it+=bt;It%j!==it%j&&(rt.push({start:It%j,end:it%j,loop:st,style:Mt}),nt=Mt,ot=it%j)}}for(const It of e){ot=$?ot:It.start;let it=o[ot%j],st;for(_t=ot+1;_t<=It.end;_t++){const Mt=o[_t%j];st=readStyle(c.setContext(createContext(h,{type:"segment",p0:it,p1:Mt,p0DataIndex:(_t-1)%j,p1DataIndex:_t%j,datasetIndex:b}))),styleChanged(st,nt)&&Et(ot,_t-1,It.loop,nt),it=Mt,nt=st}ot<_t-1&&Et(ot,_t-1,It.loop,nt)}return rt}function readStyle(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function styleChanged(a,e){if(!e)return!1;const o=[],c=function(h,g){return isPatternOrGradient(g)?(o.includes(g)||o.push(g),o.indexOf(g)):g};return JSON.stringify(a,c)!==JSON.stringify(e,c)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,o,c,h){const g=o.listeners[h],b=o.duration;g.forEach($=>$({chart:e,initial:o.initial,numSteps:b,currentStep:Math.min(c-o.start,b)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let o=0;this._charts.forEach((c,h)=>{if(!c.running||!c.items.length)return;const g=c.items;let b=g.length-1,$=!1,j;for(;b>=0;--b)j=g[b],j._active?(j._total>c.duration&&(c.duration=j._total),j.tick(e),$=!0):(g[b]=g[g.length-1],g.pop());$&&(h.draw(),this._notify(h,c,e,"progress")),g.length||(c.running=!1,this._notify(h,c,e,"complete"),c.initial=!1),o+=g.length}),this._lastDate=e,o===0&&(this._running=!1)}_getAnims(e){const o=this._charts;let c=o.get(e);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},o.set(e,c)),c}listen(e,o,c){this._getAnims(e).listeners[o].push(c)}add(e,o){!o||!o.length||this._getAnims(e).items.push(...o)}has(e){return this._getAnims(e).items.length>0}start(e){const o=this._charts.get(e);o&&(o.running=!0,o.start=Date.now(),o.duration=o.items.reduce((c,h)=>Math.max(c,h._duration),0),this._refresh())}running(e){if(!this._running)return!1;const o=this._charts.get(e);return!(!o||!o.running||!o.items.length)}stop(e){const o=this._charts.get(e);if(!o||!o.items.length)return;const c=o.items;let h=c.length-1;for(;h>=0;--h)c[h].cancel();o.items=[],this._notify(e,o,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(a,e,o){return o>.5?e:a},color(a,e,o){const c=color(a||transparent),h=c.valid&&color(e||transparent);return h&&h.valid?h.mix(c,o).hexString():e},number(a,e,o){return a+(e-a)*o}};class Animation{constructor(e,o,c,h){const g=o[c];h=resolve$1([e.to,h,g,e.from]);const b=resolve$1([e.from,g,h]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof b],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=o,this._prop=c,this._from=b,this._to=h,this._promises=void 0}active(){return this._active}update(e,o,c){if(this._active){this._notify(!1);const h=this._target[this._prop],g=c-this._start,b=this._duration-g;this._start=c,this._duration=Math.floor(Math.max(b,e.duration)),this._total+=g,this._loop=!!e.loop,this._to=resolve$1([e.to,o,h,e.from]),this._from=resolve$1([e.from,h,o])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const o=e-this._start,c=this._duration,h=this._prop,g=this._from,b=this._loop,$=this._to;let j;if(this._active=g!==$&&(b||o<c),!this._active){this._target[h]=$,this._notify(!0);return}if(o<0){this._target[h]=g;return}j=o/c%2,j=b&&j>1?2-j:j,j=this._easing(Math.min(1,Math.max(0,j))),this._target[h]=this._fn(g,$,j)}wait(){const e=this._promises||(this._promises=[]);return new Promise((o,c)=>{e.push({res:o,rej:c})})}_notify(e){const o=e?"res":"rej",c=this._promises||[];for(let h=0;h<c.length;h++)c[h][o]()}}class Animations{constructor(e,o){this._chart=e,this._properties=new Map,this.configure(o)}configure(e){if(!isObject(e))return;const o=Object.keys(defaults.animation),c=this._properties;Object.getOwnPropertyNames(e).forEach(h=>{const g=e[h];if(!isObject(g))return;const b={};for(const $ of o)b[$]=g[$];(isArray(g.properties)&&g.properties||[h]).forEach($=>{($===h||!c.has($))&&c.set($,b)})})}_animateOptions(e,o){const c=o.options,h=resolveTargetOptions(e,c);if(!h)return[];const g=this._createAnimations(h,c);return c.$shared&&awaitAll(e.options.$animations,c).then(()=>{e.options=c},()=>{}),g}_createAnimations(e,o){const c=this._properties,h=[],g=e.$animations||(e.$animations={}),b=Object.keys(o),$=Date.now();let j;for(j=b.length-1;j>=0;--j){const rt=b[j];if(rt.charAt(0)==="$")continue;if(rt==="options"){h.push(...this._animateOptions(e,o));continue}const nt=o[rt];let ot=g[rt];const _t=c.get(rt);if(ot)if(_t&&ot.active()){ot.update(_t,nt,$);continue}else ot.cancel();if(!_t||!_t.duration){e[rt]=nt;continue}g[rt]=ot=new Animation(_t,e,rt,nt),h.push(ot)}return h}update(e,o){if(this._properties.size===0){Object.assign(e,o);return}const c=this._createAnimations(e,o);if(c.length)return animator.add(this._chart,c),!0}}function awaitAll(a,e){const o=[],c=Object.keys(e);for(let h=0;h<c.length;h++){const g=a[c[h]];g&&g.active()&&o.push(g.wait())}return Promise.all(o)}function resolveTargetOptions(a,e){if(!e)return;let o=a.options;if(!o){a.options=e;return}return o.$shared&&(a.options=o=Object.assign({},o,{$shared:!1,$animations:{}})),o}function scaleClip(a,e){const o=a&&a.options||{},c=o.reverse,h=o.min===void 0?e:0,g=o.max===void 0?e:0;return{start:c?g:h,end:c?h:g}}function defaultClip(a,e,o){if(o===!1)return!1;const c=scaleClip(a,o),h=scaleClip(e,o);return{top:h.end,right:c.end,bottom:h.start,left:c.start}}function toClip(a){let e,o,c,h;return isObject(a)?(e=a.top,o=a.right,c=a.bottom,h=a.left):e=o=c=h=a,{top:e,right:o,bottom:c,left:h,disabled:a===!1}}function getSortedDatasetIndices(a,e){const o=[],c=a._getSortedDatasetMetas(e);let h,g;for(h=0,g=c.length;h<g;++h)o.push(c[h].index);return o}function applyStack(a,e,o,c={}){const h=a.keys,g=c.mode==="single";let b,$,j,rt;if(e!==null){for(b=0,$=h.length;b<$;++b){if(j=+h[b],j===o){if(c.all)continue;break}rt=a.values[j],isNumberFinite(rt)&&(g||e===0||sign(e)===sign(rt))&&(e+=rt)}return e}}function convertObjectDataToArray(a){const e=Object.keys(a),o=new Array(e.length);let c,h,g;for(c=0,h=e.length;c<h;++c)g=e[c],o[c]={x:g,y:a[g]};return o}function isStacked(a,e){const o=a&&a.options.stacked;return o||o===void 0&&e.stack!==void 0}function getStackKey(a,e,o){return`${a.id}.${e.id}.${o.stack||o.type}`}function getUserBounds(a){const{min:e,max:o,minDefined:c,maxDefined:h}=a.getUserBounds();return{min:c?e:Number.NEGATIVE_INFINITY,max:h?o:Number.POSITIVE_INFINITY}}function getOrCreateStack(a,e,o){const c=a[e]||(a[e]={});return c[o]||(c[o]={})}function getLastIndexInStack(a,e,o,c){for(const h of e.getMatchingVisibleMetas(c).reverse()){const g=a[h.index];if(o&&g>0||!o&&g<0)return h.index}return null}function updateStacks(a,e){const{chart:o,_cachedMeta:c}=a,h=o._stacks||(o._stacks={}),{iScale:g,vScale:b,index:$}=c,j=g.axis,rt=b.axis,nt=getStackKey(g,b,c),ot=e.length;let _t;for(let Et=0;Et<ot;++Et){const It=e[Et],{[j]:it,[rt]:st}=It,Mt=It._stacks||(It._stacks={});_t=Mt[rt]=getOrCreateStack(h,nt,it),_t[$]=st,_t._top=getLastIndexInStack(_t,b,!0,c.type),_t._bottom=getLastIndexInStack(_t,b,!1,c.type);const bt=_t._visualValues||(_t._visualValues={});bt[$]=st}}function getFirstScaleId(a,e){const o=a.scales;return Object.keys(o).filter(c=>o[c].axis===e).shift()}function createDatasetContext(a,e){return createContext(a,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(a,e,o){return createContext(a,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:o,index:e,mode:"default",type:"data"})}function clearStacks(a,e){const o=a.controller.index,c=a.vScale&&a.vScale.axis;if(c){e=e||a._parsed;for(const h of e){const g=h._stacks;if(!g||g[c]===void 0||g[c][o]===void 0)return;delete g[c][o],g[c]._visualValues!==void 0&&g[c]._visualValues[o]!==void 0&&delete g[c]._visualValues[o]}}}const isDirectUpdateMode=a=>a==="reset"||a==="none",cloneIfNotShared=(a,e)=>e?a:Object.assign({},a),createStack=(a,e,o)=>a&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(o,!0),values:null};class DatasetController{constructor(e,o){this.chart=e,this._ctx=e.ctx,this.index=o,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,o=this._cachedMeta,c=this.getDataset(),h=(ot,_t,Et,It)=>ot==="x"?_t:ot==="r"?It:Et,g=o.xAxisID=valueOrDefault(c.xAxisID,getFirstScaleId(e,"x")),b=o.yAxisID=valueOrDefault(c.yAxisID,getFirstScaleId(e,"y")),$=o.rAxisID=valueOrDefault(c.rAxisID,getFirstScaleId(e,"r")),j=o.indexAxis,rt=o.iAxisID=h(j,g,b,$),nt=o.vAxisID=h(j,b,g,$);o.xScale=this.getScaleForId(g),o.yScale=this.getScaleForId(b),o.rScale=this.getScaleForId($),o.iScale=this.getScaleForId(rt),o.vScale=this.getScaleForId(nt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const o=this._cachedMeta;return e===o.iScale?o.vScale:o.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),o=e.data||(e.data=[]),c=this._data;if(isObject(o))this._data=convertObjectDataToArray(o);else if(c!==o){if(c){unlistenArrayEvents(c,this);const h=this._cachedMeta;clearStacks(h),h._parsed=[]}o&&Object.isExtensible(o)&&listenArrayEvents(o,this),this._syncList=[],this._data=o}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const o=this._cachedMeta,c=this.getDataset();let h=!1;this._dataCheck();const g=o._stacked;o._stacked=isStacked(o.vScale,o),o.stack!==c.stack&&(h=!0,clearStacks(o),o.stack=c.stack),this._resyncElements(e),(h||g!==o._stacked)&&updateStacks(this,o._parsed)}configure(){const e=this.chart.config,o=e.datasetScopeKeys(this._type),c=e.getOptionScopes(this.getDataset(),o,!0);this.options=e.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,o){const{_cachedMeta:c,_data:h}=this,{iScale:g,_stacked:b}=c,$=g.axis;let j=e===0&&o===h.length?!0:c._sorted,rt=e>0&&c._parsed[e-1],nt,ot,_t;if(this._parsing===!1)c._parsed=h,c._sorted=!0,_t=h;else{isArray(h[e])?_t=this.parseArrayData(c,h,e,o):isObject(h[e])?_t=this.parseObjectData(c,h,e,o):_t=this.parsePrimitiveData(c,h,e,o);const Et=()=>ot[$]===null||rt&&ot[$]<rt[$];for(nt=0;nt<o;++nt)c._parsed[nt+e]=ot=_t[nt],j&&(Et()&&(j=!1),rt=ot);c._sorted=j}b&&updateStacks(this,_t)}parsePrimitiveData(e,o,c,h){const{iScale:g,vScale:b}=e,$=g.axis,j=b.axis,rt=g.getLabels(),nt=g===b,ot=new Array(h);let _t,Et,It;for(_t=0,Et=h;_t<Et;++_t)It=_t+c,ot[_t]={[$]:nt||g.parse(rt[It],It),[j]:b.parse(o[It],It)};return ot}parseArrayData(e,o,c,h){const{xScale:g,yScale:b}=e,$=new Array(h);let j,rt,nt,ot;for(j=0,rt=h;j<rt;++j)nt=j+c,ot=o[nt],$[j]={x:g.parse(ot[0],nt),y:b.parse(ot[1],nt)};return $}parseObjectData(e,o,c,h){const{xScale:g,yScale:b}=e,{xAxisKey:$="x",yAxisKey:j="y"}=this._parsing,rt=new Array(h);let nt,ot,_t,Et;for(nt=0,ot=h;nt<ot;++nt)_t=nt+c,Et=o[_t],rt[nt]={x:g.parse(resolveObjectKey(Et,$),_t),y:b.parse(resolveObjectKey(Et,j),_t)};return rt}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,o,c){const h=this.chart,g=this._cachedMeta,b=o[e.axis],$={keys:getSortedDatasetIndices(h,!0),values:o._stacks[e.axis]._visualValues};return applyStack($,b,g.index,{mode:c})}updateRangeFromParsed(e,o,c,h){const g=c[o.axis];let b=g===null?NaN:g;const $=h&&c._stacks[o.axis];h&&$&&(h.values=$,b=applyStack(h,g,this._cachedMeta.index)),e.min=Math.min(e.min,b),e.max=Math.max(e.max,b)}getMinMax(e,o){const c=this._cachedMeta,h=c._parsed,g=c._sorted&&e===c.iScale,b=h.length,$=this._getOtherScale(e),j=createStack(o,c,this.chart),rt={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:nt,max:ot}=getUserBounds($);let _t,Et;function It(){Et=h[_t];const it=Et[$.axis];return!isNumberFinite(Et[e.axis])||nt>it||ot<it}for(_t=0;_t<b&&!(!It()&&(this.updateRangeFromParsed(rt,e,Et,j),g));++_t);if(g){for(_t=b-1;_t>=0;--_t)if(!It()){this.updateRangeFromParsed(rt,e,Et,j);break}}return rt}getAllParsedValues(e){const o=this._cachedMeta._parsed,c=[];let h,g,b;for(h=0,g=o.length;h<g;++h)b=o[h][e.axis],isNumberFinite(b)&&c.push(b);return c}getMaxOverflow(){return!1}getLabelAndValue(e){const o=this._cachedMeta,c=o.iScale,h=o.vScale,g=this.getParsed(e);return{label:c?""+c.getLabelForValue(g[c.axis]):"",value:h?""+h.getLabelForValue(g[h.axis]):""}}_update(e){const o=this._cachedMeta;this.update(e||"default"),o._clip=toClip(valueOrDefault(this.options.clip,defaultClip(o.xScale,o.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,o=this.chart,c=this._cachedMeta,h=c.data||[],g=o.chartArea,b=[],$=this._drawStart||0,j=this._drawCount||h.length-$,rt=this.options.drawActiveElementsOnTop;let nt;for(c.dataset&&c.dataset.draw(e,g,$,j),nt=$;nt<$+j;++nt){const ot=h[nt];ot.hidden||(ot.active&&rt?b.push(ot):ot.draw(e,g))}for(nt=0;nt<b.length;++nt)b[nt].draw(e,g)}getStyle(e,o){const c=o?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(e||0,c)}getContext(e,o,c){const h=this.getDataset();let g;if(e>=0&&e<this._cachedMeta.data.length){const b=this._cachedMeta.data[e];g=b.$context||(b.$context=createDataContext(this.getContext(),e,b)),g.parsed=this.getParsed(e),g.raw=h.data[e],g.index=g.dataIndex=e}else g=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),g.dataset=h,g.index=g.datasetIndex=this.index;return g.active=!!o,g.mode=c,g}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,o){return this._resolveElementOptions(this.dataElementType.id,o,e)}_resolveElementOptions(e,o="default",c){const h=o==="active",g=this._cachedDataOpts,b=e+"-"+o,$=g[b],j=this.enableOptionSharing&&defined(c);if($)return cloneIfNotShared($,j);const rt=this.chart.config,nt=rt.datasetElementScopeKeys(this._type,e),ot=h?[`${e}Hover`,"hover",e,""]:[e,""],_t=rt.getOptionScopes(this.getDataset(),nt),Et=Object.keys(defaults.elements[e]),It=()=>this.getContext(c,h,o),it=rt.resolveNamedOptions(_t,Et,It,ot);return it.$shared&&(it.$shared=j,g[b]=Object.freeze(cloneIfNotShared(it,j))),it}_resolveAnimations(e,o,c){const h=this.chart,g=this._cachedDataOpts,b=`animation-${o}`,$=g[b];if($)return $;let j;if(h.options.animation!==!1){const nt=this.chart.config,ot=nt.datasetAnimationScopeKeys(this._type,o),_t=nt.getOptionScopes(this.getDataset(),ot);j=nt.createResolver(_t,this.getContext(e,c,o))}const rt=new Animations(h,j&&j.animations);return j&&j._cacheable&&(g[b]=Object.freeze(rt)),rt}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,o){return!o||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,o){const c=this.resolveDataElementOptions(e,o),h=this._sharedOptions,g=this.getSharedOptions(c),b=this.includeOptions(o,g)||g!==h;return this.updateSharedOptions(g,o,c),{sharedOptions:g,includeOptions:b}}updateElement(e,o,c,h){isDirectUpdateMode(h)?Object.assign(e,c):this._resolveAnimations(o,h).update(e,c)}updateSharedOptions(e,o,c){e&&!isDirectUpdateMode(o)&&this._resolveAnimations(void 0,o).update(e,c)}_setStyle(e,o,c,h){e.active=h;const g=this.getStyle(o,h);this._resolveAnimations(o,c,h).update(e,{options:!h&&this.getSharedOptions(g)||g})}removeHoverStyle(e,o,c){this._setStyle(e,c,"active",!1)}setHoverStyle(e,o,c){this._setStyle(e,c,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const o=this._data,c=this._cachedMeta.data;for(const[$,j,rt]of this._syncList)this[$](j,rt);this._syncList=[];const h=c.length,g=o.length,b=Math.min(g,h);b&&this.parse(0,b),g>h?this._insertElements(h,g-h,e):g<h&&this._removeElements(g,h-g)}_insertElements(e,o,c=!0){const h=this._cachedMeta,g=h.data,b=e+o;let $;const j=rt=>{for(rt.length+=o,$=rt.length-1;$>=b;$--)rt[$]=rt[$-o]};for(j(g),$=e;$<b;++$)g[$]=new this.dataElementType;this._parsing&&j(h._parsed),this.parse(e,o),c&&this.updateElements(g,e,o,"reset")}updateElements(e,o,c,h){}_removeElements(e,o){const c=this._cachedMeta;if(this._parsing){const h=c._parsed.splice(e,o);c._stacked&&clearStacks(c,h)}c.data.splice(e,o)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[o,c,h]=e;this[o](c,h)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,o){o&&this._sync(["_removeElements",e,o]);const c=arguments.length-2;c&&this._sync(["_insertElements",e,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}El(DatasetController,"defaults",{}),El(DatasetController,"datasetElementType",null),El(DatasetController,"dataElementType",null);function getAllScaleValues(a,e){if(!a._cache.$bar){const o=a.getMatchingVisibleMetas(e);let c=[];for(let h=0,g=o.length;h<g;h++)c=c.concat(o[h].controller.getAllParsedValues(a));a._cache.$bar=_arrayUnique(c.sort((h,g)=>h-g))}return a._cache.$bar}function computeMinSampleSize(a){const e=a.iScale,o=getAllScaleValues(e,a.type);let c=e._length,h,g,b,$;const j=()=>{b===32767||b===-32768||(defined($)&&(c=Math.min(c,Math.abs(b-$)||c)),$=b)};for(h=0,g=o.length;h<g;++h)b=e.getPixelForValue(o[h]),j();for($=void 0,h=0,g=e.ticks.length;h<g;++h)b=e.getPixelForTick(h),j();return c}function computeFitCategoryTraits(a,e,o,c){const h=o.barThickness;let g,b;return isNullOrUndef(h)?(g=e.min*o.categoryPercentage,b=o.barPercentage):(g=h*c,b=1),{chunk:g/c,ratio:b,start:e.pixels[a]-g/2}}function computeFlexCategoryTraits(a,e,o,c){const h=e.pixels,g=h[a];let b=a>0?h[a-1]:null,$=a<h.length-1?h[a+1]:null;const j=o.categoryPercentage;b===null&&(b=g-($===null?e.end-e.start:$-g)),$===null&&($=g+g-b);const rt=g-(g-Math.min(b,$))/2*j;return{chunk:Math.abs($-b)/2*j/c,ratio:o.barPercentage,start:rt}}function parseFloatBar(a,e,o,c){const h=o.parse(a[0],c),g=o.parse(a[1],c),b=Math.min(h,g),$=Math.max(h,g);let j=b,rt=$;Math.abs(b)>Math.abs($)&&(j=$,rt=b),e[o.axis]=rt,e._custom={barStart:j,barEnd:rt,start:h,end:g,min:b,max:$}}function parseValue(a,e,o,c){return isArray(a)?parseFloatBar(a,e,o,c):e[o.axis]=o.parse(a,c),e}function parseArrayOrPrimitive(a,e,o,c){const h=a.iScale,g=a.vScale,b=h.getLabels(),$=h===g,j=[];let rt,nt,ot,_t;for(rt=o,nt=o+c;rt<nt;++rt)_t=e[rt],ot={},ot[h.axis]=$||h.parse(b[rt],rt),j.push(parseValue(_t,ot,g,rt));return j}function isFloatBar(a){return a&&a.barStart!==void 0&&a.barEnd!==void 0}function barSign(a,e,o){return a!==0?sign(a):(e.isHorizontal()?1:-1)*(e.min>=o?1:-1)}function borderProps(a){let e,o,c,h,g;return a.horizontal?(e=a.base>a.x,o="left",c="right"):(e=a.base<a.y,o="bottom",c="top"),e?(h="end",g="start"):(h="start",g="end"),{start:o,end:c,reverse:e,top:h,bottom:g}}function setBorderSkipped(a,e,o,c){let h=e.borderSkipped;const g={};if(!h){a.borderSkipped=g;return}if(h===!0){a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:b,end:$,reverse:j,top:rt,bottom:nt}=borderProps(a);h==="middle"&&o&&(a.enableBorderRadius=!0,(o._top||0)===c?h=rt:(o._bottom||0)===c?h=nt:(g[parseEdge(nt,b,$,j)]=!0,h=rt)),g[parseEdge(h,b,$,j)]=!0,a.borderSkipped=g}function parseEdge(a,e,o,c){return c?(a=swap(a,e,o),a=startEnd(a,o,e)):a=startEnd(a,e,o),a}function swap(a,e,o){return a===e?o:a===o?e:a}function startEnd(a,e,o){return a==="start"?e:a==="end"?o:a}function setInflateAmount(a,{inflateAmount:e},o){a.inflateAmount=e==="auto"?o===1?.33:0:e}class BarController extends DatasetController{parsePrimitiveData(e,o,c,h){return parseArrayOrPrimitive(e,o,c,h)}parseArrayData(e,o,c,h){return parseArrayOrPrimitive(e,o,c,h)}parseObjectData(e,o,c,h){const{iScale:g,vScale:b}=e,{xAxisKey:$="x",yAxisKey:j="y"}=this._parsing,rt=g.axis==="x"?$:j,nt=b.axis==="x"?$:j,ot=[];let _t,Et,It,it;for(_t=c,Et=c+h;_t<Et;++_t)it=o[_t],It={},It[g.axis]=g.parse(resolveObjectKey(it,rt),_t),ot.push(parseValue(resolveObjectKey(it,nt),It,b,_t));return ot}updateRangeFromParsed(e,o,c,h){super.updateRangeFromParsed(e,o,c,h);const g=c._custom;g&&o===this._cachedMeta.vScale&&(e.min=Math.min(e.min,g.min),e.max=Math.max(e.max,g.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const o=this._cachedMeta,{iScale:c,vScale:h}=o,g=this.getParsed(e),b=g._custom,$=isFloatBar(b)?"["+b.start+", "+b.end+"]":""+h.getLabelForValue(g[h.axis]);return{label:""+c.getLabelForValue(g[c.axis]),value:$}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const o=this._cachedMeta;this.updateElements(o.data,0,o.data.length,e)}updateElements(e,o,c,h){const g=h==="reset",{index:b,_cachedMeta:{vScale:$}}=this,j=$.getBasePixel(),rt=$.isHorizontal(),nt=this._getRuler(),{sharedOptions:ot,includeOptions:_t}=this._getSharedOptions(o,h);for(let Et=o;Et<o+c;Et++){const It=this.getParsed(Et),it=g||isNullOrUndef(It[$.axis])?{base:j,head:j}:this._calculateBarValuePixels(Et),st=this._calculateBarIndexPixels(Et,nt),Mt=(It._stacks||{})[$.axis],bt={horizontal:rt,base:it.base,enableBorderRadius:!Mt||isFloatBar(It._custom)||b===Mt._top||b===Mt._bottom,x:rt?it.head:st.center,y:rt?st.center:it.head,height:rt?st.size:Math.abs(it.size),width:rt?Math.abs(it.size):st.size};_t&&(bt.options=ot||this.resolveDataElementOptions(Et,e[Et].active?"active":h));const Lt=bt.options||e[Et].options;setBorderSkipped(bt,Lt,Mt,b),setInflateAmount(bt,Lt,nt.ratio),this.updateElement(e[Et],Et,bt,h)}}_getStacks(e,o){const{iScale:c}=this._cachedMeta,h=c.getMatchingVisibleMetas(this._type).filter(j=>j.controller.options.grouped),g=c.options.stacked,b=[],$=j=>{const rt=j.controller.getParsed(o),nt=rt&&rt[j.vScale.axis];if(isNullOrUndef(nt)||isNaN(nt))return!0};for(const j of h)if(!(o!==void 0&&$(j))&&((g===!1||b.indexOf(j.stack)===-1||g===void 0&&j.stack===void 0)&&b.push(j.stack),j.index===e))break;return b.length||b.push(void 0),b}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,o,c){const h=this._getStacks(e,c),g=o!==void 0?h.indexOf(o):-1;return g===-1?h.length-1:g}_getRuler(){const e=this.options,o=this._cachedMeta,c=o.iScale,h=[];let g,b;for(g=0,b=o.data.length;g<b;++g)h.push(c.getPixelForValue(this.getParsed(g)[c.axis],g));const $=e.barThickness;return{min:$||computeMinSampleSize(o),pixels:h,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:e.grouped,ratio:$?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:o,_stacked:c,index:h},options:{base:g,minBarLength:b}}=this,$=g||0,j=this.getParsed(e),rt=j._custom,nt=isFloatBar(rt);let ot=j[o.axis],_t=0,Et=c?this.applyStack(o,j,c):ot,It,it;Et!==ot&&(_t=Et-ot,Et=ot),nt&&(ot=rt.barStart,Et=rt.barEnd-rt.barStart,ot!==0&&sign(ot)!==sign(rt.barEnd)&&(_t=0),_t+=ot);const st=!isNullOrUndef(g)&&!nt?g:_t;let Mt=o.getPixelForValue(st);if(this.chart.getDataVisibility(e)?It=o.getPixelForValue(_t+Et):It=Mt,it=It-Mt,Math.abs(it)<b){it=barSign(it,o,$)*b,ot===$&&(Mt-=it/2);const bt=o.getPixelForDecimal(0),Lt=o.getPixelForDecimal(1),pt=Math.min(bt,Lt),Dt=Math.max(bt,Lt);Mt=Math.max(Math.min(Mt,Dt),pt),It=Mt+it,c&&!nt&&(j._stacks[o.axis]._visualValues[h]=o.getValueForPixel(It)-o.getValueForPixel(Mt))}if(Mt===o.getPixelForValue($)){const bt=sign(it)*o.getLineWidthForValue($)/2;Mt+=bt,it-=bt}return{size:it,base:Mt,head:It,center:It+it/2}}_calculateBarIndexPixels(e,o){const c=o.scale,h=this.options,g=h.skipNull,b=valueOrDefault(h.maxBarThickness,1/0);let $,j;if(o.grouped){const rt=g?this._getStackCount(e):o.stackCount,nt=h.barThickness==="flex"?computeFlexCategoryTraits(e,o,h,rt):computeFitCategoryTraits(e,o,h,rt),ot=this._getStackIndex(this.index,this._cachedMeta.stack,g?e:void 0);$=nt.start+nt.chunk*ot+nt.chunk/2,j=Math.min(b,nt.chunk*nt.ratio)}else $=c.getPixelForValue(this.getParsed(e)[c.axis],e),j=Math.min(b,o.min*o.ratio);return{base:$-j/2,head:$+j/2,center:$,size:j}}draw(){const e=this._cachedMeta,o=e.vScale,c=e.data,h=c.length;let g=0;for(;g<h;++g)this.getParsed(g)[o.axis]!==null&&c[g].draw(this._ctx)}}El(BarController,"id","bar"),El(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),El(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,o,c,h){const g=super.parsePrimitiveData(e,o,c,h);for(let b=0;b<g.length;b++)g[b]._custom=this.resolveDataElementOptions(b+c).radius;return g}parseArrayData(e,o,c,h){const g=super.parseArrayData(e,o,c,h);for(let b=0;b<g.length;b++){const $=o[c+b];g[b]._custom=valueOrDefault($[2],this.resolveDataElementOptions(b+c).radius)}return g}parseObjectData(e,o,c,h){const g=super.parseObjectData(e,o,c,h);for(let b=0;b<g.length;b++){const $=o[c+b];g[b]._custom=valueOrDefault($&&$.r&&+$.r,this.resolveDataElementOptions(b+c).radius)}return g}getMaxOverflow(){const e=this._cachedMeta.data;let o=0;for(let c=e.length-1;c>=0;--c)o=Math.max(o,e[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}getLabelAndValue(e){const o=this._cachedMeta,c=this.chart.data.labels||[],{xScale:h,yScale:g}=o,b=this.getParsed(e),$=h.getLabelForValue(b.x),j=g.getLabelForValue(b.y),rt=b._custom;return{label:c[e]||"",value:"("+$+", "+j+(rt?", "+rt:"")+")"}}update(e){const o=this._cachedMeta.data;this.updateElements(o,0,o.length,e)}updateElements(e,o,c,h){const g=h==="reset",{iScale:b,vScale:$}=this._cachedMeta,{sharedOptions:j,includeOptions:rt}=this._getSharedOptions(o,h),nt=b.axis,ot=$.axis;for(let _t=o;_t<o+c;_t++){const Et=e[_t],It=!g&&this.getParsed(_t),it={},st=it[nt]=g?b.getPixelForDecimal(.5):b.getPixelForValue(It[nt]),Mt=it[ot]=g?$.getBasePixel():$.getPixelForValue(It[ot]);it.skip=isNaN(st)||isNaN(Mt),rt&&(it.options=j||this.resolveDataElementOptions(_t,Et.active?"active":h),g&&(it.options.radius=0)),this.updateElement(Et,_t,it,h)}}resolveDataElementOptions(e,o){const c=this.getParsed(e);let h=super.resolveDataElementOptions(e,o);h.$shared&&(h=Object.assign({},h,{$shared:!1}));const g=h.radius;return o!=="active"&&(h.radius=0),h.radius+=valueOrDefault(c&&c._custom,g),h}}El(BubbleController,"id","bubble"),El(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),El(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function getRatioAndOffset(a,e,o){let c=1,h=1,g=0,b=0;if(e<TAU){const $=a,j=$+e,rt=Math.cos($),nt=Math.sin($),ot=Math.cos(j),_t=Math.sin(j),Et=(Lt,pt,Dt)=>_angleBetween(Lt,$,j,!0)?1:Math.max(pt,pt*o,Dt,Dt*o),It=(Lt,pt,Dt)=>_angleBetween(Lt,$,j,!0)?-1:Math.min(pt,pt*o,Dt,Dt*o),it=Et(0,rt,ot),st=Et(HALF_PI,nt,_t),Mt=It(PI,rt,ot),bt=It(PI+HALF_PI,nt,_t);c=(it-Mt)/2,h=(st-bt)/2,g=-(it+Mt)/2,b=-(st+bt)/2}return{ratioX:c,ratioY:h,offsetX:g,offsetY:b}}class DoughnutController extends DatasetController{constructor(e,o){super(e,o),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,o){const c=this.getDataset().data,h=this._cachedMeta;if(this._parsing===!1)h._parsed=c;else{let g=j=>+c[j];if(isObject(c[e])){const{key:j="value"}=this._parsing;g=rt=>+resolveObjectKey(c[rt],j)}let b,$;for(b=e,$=e+o;b<$;++b)h._parsed[b]=g(b)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,o=-TAU;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)&&this.chart.getDatasetMeta(c).type===this._type){const h=this.chart.getDatasetMeta(c).controller,g=h._getRotation(),b=h._getCircumference();e=Math.min(e,g),o=Math.max(o,g+b)}return{rotation:e,circumference:o-e}}update(e){const o=this.chart,{chartArea:c}=o,h=this._cachedMeta,g=h.data,b=this.getMaxBorderWidth()+this.getMaxOffset(g)+this.options.spacing,$=Math.max((Math.min(c.width,c.height)-b)/2,0),j=Math.min(toPercentage(this.options.cutout,$),1),rt=this._getRingWeight(this.index),{circumference:nt,rotation:ot}=this._getRotationExtents(),{ratioX:_t,ratioY:Et,offsetX:It,offsetY:it}=getRatioAndOffset(ot,nt,j),st=(c.width-b)/_t,Mt=(c.height-b)/Et,bt=Math.max(Math.min(st,Mt)/2,0),Lt=toDimension(this.options.radius,bt),pt=Math.max(Lt*j,0),Dt=(Lt-pt)/this._getVisibleDatasetWeightTotal();this.offsetX=It*Lt,this.offsetY=it*Lt,h.total=this.calculateTotal(),this.outerRadius=Lt-Dt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Dt*rt,0),this.updateElements(g,0,g.length,e)}_circumference(e,o){const c=this.options,h=this._cachedMeta,g=this._getCircumference();return o&&c.animation.animateRotate||!this.chart.getDataVisibility(e)||h._parsed[e]===null||h.data[e].hidden?0:this.calculateCircumference(h._parsed[e]*g/TAU)}updateElements(e,o,c,h){const g=h==="reset",b=this.chart,$=b.chartArea,rt=b.options.animation,nt=($.left+$.right)/2,ot=($.top+$.bottom)/2,_t=g&&rt.animateScale,Et=_t?0:this.innerRadius,It=_t?0:this.outerRadius,{sharedOptions:it,includeOptions:st}=this._getSharedOptions(o,h);let Mt=this._getRotation(),bt;for(bt=0;bt<o;++bt)Mt+=this._circumference(bt,g);for(bt=o;bt<o+c;++bt){const Lt=this._circumference(bt,g),pt=e[bt],Dt={x:nt+this.offsetX,y:ot+this.offsetY,startAngle:Mt,endAngle:Mt+Lt,circumference:Lt,outerRadius:It,innerRadius:Et};st&&(Dt.options=it||this.resolveDataElementOptions(bt,pt.active?"active":h)),Mt+=Lt,this.updateElement(pt,bt,Dt,h)}}calculateTotal(){const e=this._cachedMeta,o=e.data;let c=0,h;for(h=0;h<o.length;h++){const g=e._parsed[h];g!==null&&!isNaN(g)&&this.chart.getDataVisibility(h)&&!o[h].hidden&&(c+=Math.abs(g))}return c}calculateCircumference(e){const o=this._cachedMeta.total;return o>0&&!isNaN(e)?TAU*(Math.abs(e)/o):0}getLabelAndValue(e){const o=this._cachedMeta,c=this.chart,h=c.data.labels||[],g=formatNumber(o._parsed[e],c.options.locale);return{label:h[e]||"",value:g}}getMaxBorderWidth(e){let o=0;const c=this.chart;let h,g,b,$,j;if(!e){for(h=0,g=c.data.datasets.length;h<g;++h)if(c.isDatasetVisible(h)){b=c.getDatasetMeta(h),e=b.data,$=b.controller;break}}if(!e)return 0;for(h=0,g=e.length;h<g;++h)j=$.resolveDataElementOptions(h),j.borderAlign!=="inner"&&(o=Math.max(o,j.borderWidth||0,j.hoverBorderWidth||0));return o}getMaxOffset(e){let o=0;for(let c=0,h=e.length;c<h;++c){const g=this.resolveDataElementOptions(c);o=Math.max(o,g.offset||0,g.hoverOffset||0)}return o}_getRingWeightOffset(e){let o=0;for(let c=0;c<e;++c)this.chart.isDatasetVisible(c)&&(o+=this._getRingWeight(c));return o}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}El(DoughnutController,"id","doughnut"),El(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),El(DoughnutController,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),El(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const o=e.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:c,color:h}}=e.legend.options;return o.labels.map((g,b)=>{const j=e.getDatasetMeta(0).controller.getStyle(b);return{text:g,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:h,lineWidth:j.borderWidth,pointStyle:c,hidden:!e.getDataVisibility(b),index:b}})}return[]}},onClick(e,o,c){c.chart.toggleDataVisibility(o.index),c.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const o=this._cachedMeta,{dataset:c,data:h=[],_dataset:g}=o,b=this.chart._animationsDisabled;let{start:$,count:j}=_getStartAndCountOfVisiblePoints(o,h,b);this._drawStart=$,this._drawCount=j,_scaleRangesChanged(o)&&($=0,j=h.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!g._decimated,c.points=h;const rt=this.resolveDatasetElementOptions(e);this.options.showLine||(rt.borderWidth=0),rt.segment=this.options.segment,this.updateElement(c,void 0,{animated:!b,options:rt},e),this.updateElements(h,$,j,e)}updateElements(e,o,c,h){const g=h==="reset",{iScale:b,vScale:$,_stacked:j,_dataset:rt}=this._cachedMeta,{sharedOptions:nt,includeOptions:ot}=this._getSharedOptions(o,h),_t=b.axis,Et=$.axis,{spanGaps:It,segment:it}=this.options,st=isNumber(It)?It:Number.POSITIVE_INFINITY,Mt=this.chart._animationsDisabled||g||h==="none",bt=o+c,Lt=e.length;let pt=o>0&&this.getParsed(o-1);for(let Dt=0;Dt<Lt;++Dt){const wt=e[Dt],Bt=Mt?wt:{};if(Dt<o||Dt>=bt){Bt.skip=!0;continue}const jt=this.getParsed(Dt),hr=isNullOrUndef(jt[Et]),gr=Bt[_t]=b.getPixelForValue(jt[_t],Dt),Cr=Bt[Et]=g||hr?$.getBasePixel():$.getPixelForValue(j?this.applyStack($,jt,j):jt[Et],Dt);Bt.skip=isNaN(gr)||isNaN(Cr)||hr,Bt.stop=Dt>0&&Math.abs(jt[_t]-pt[_t])>st,it&&(Bt.parsed=jt,Bt.raw=rt.data[Dt]),ot&&(Bt.options=nt||this.resolveDataElementOptions(Dt,wt.active?"active":h)),Mt||this.updateElement(wt,Dt,Bt,h),pt=jt}}getMaxOverflow(){const e=this._cachedMeta,o=e.dataset,c=o.options&&o.options.borderWidth||0,h=e.data||[];if(!h.length)return c;const g=h[0].size(this.resolveDataElementOptions(0)),b=h[h.length-1].size(this.resolveDataElementOptions(h.length-1));return Math.max(c,g,b)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}El(LineController,"id","line"),El(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),El(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(e,o){super(e,o),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const o=this._cachedMeta,c=this.chart,h=c.data.labels||[],g=formatNumber(o._parsed[e].r,c.options.locale);return{label:h[e]||"",value:g}}parseObjectData(e,o,c,h){return _parseObjectDataRadialScale.bind(this)(e,o,c,h)}update(e){const o=this._cachedMeta.data;this._updateRadius(),this.updateElements(o,0,o.length,e)}getMinMax(){const e=this._cachedMeta,o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((c,h)=>{const g=this.getParsed(h).r;!isNaN(g)&&this.chart.getDataVisibility(h)&&(g<o.min&&(o.min=g),g>o.max&&(o.max=g))}),o}_updateRadius(){const e=this.chart,o=e.chartArea,c=e.options,h=Math.min(o.right-o.left,o.bottom-o.top),g=Math.max(h/2,0),b=Math.max(c.cutoutPercentage?g/100*c.cutoutPercentage:1,0),$=(g-b)/e.getVisibleDatasetCount();this.outerRadius=g-$*this.index,this.innerRadius=this.outerRadius-$}updateElements(e,o,c,h){const g=h==="reset",b=this.chart,j=b.options.animation,rt=this._cachedMeta.rScale,nt=rt.xCenter,ot=rt.yCenter,_t=rt.getIndexAngle(0)-.5*PI;let Et=_t,It;const it=360/this.countVisibleElements();for(It=0;It<o;++It)Et+=this._computeAngle(It,h,it);for(It=o;It<o+c;It++){const st=e[It];let Mt=Et,bt=Et+this._computeAngle(It,h,it),Lt=b.getDataVisibility(It)?rt.getDistanceFromCenterForValue(this.getParsed(It).r):0;Et=bt,g&&(j.animateScale&&(Lt=0),j.animateRotate&&(Mt=bt=_t));const pt={x:nt,y:ot,innerRadius:0,outerRadius:Lt,startAngle:Mt,endAngle:bt,options:this.resolveDataElementOptions(It,st.active?"active":h)};this.updateElement(st,It,pt,h)}}countVisibleElements(){const e=this._cachedMeta;let o=0;return e.data.forEach((c,h)=>{!isNaN(this.getParsed(h).r)&&this.chart.getDataVisibility(h)&&o++}),o}_computeAngle(e,o,c){return this.chart.getDataVisibility(e)?toRadians(this.resolveDataElementOptions(e,o).angle||c):0}}El(PolarAreaController,"id","polarArea"),El(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),El(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const o=e.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:c,color:h}}=e.legend.options;return o.labels.map((g,b)=>{const j=e.getDatasetMeta(0).controller.getStyle(b);return{text:g,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:h,lineWidth:j.borderWidth,pointStyle:c,hidden:!e.getDataVisibility(b),index:b}})}return[]}},onClick(e,o,c){c.chart.toggleDataVisibility(o.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}El(PieController,"id","pie"),El(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class RadarController extends DatasetController{getLabelAndValue(e){const o=this._cachedMeta.vScale,c=this.getParsed(e);return{label:o.getLabels()[e],value:""+o.getLabelForValue(c[o.axis])}}parseObjectData(e,o,c,h){return _parseObjectDataRadialScale.bind(this)(e,o,c,h)}update(e){const o=this._cachedMeta,c=o.dataset,h=o.data||[],g=o.iScale.getLabels();if(c.points=h,e!=="resize"){const b=this.resolveDatasetElementOptions(e);this.options.showLine||(b.borderWidth=0);const $={_loop:!0,_fullLoop:g.length===h.length,options:b};this.updateElement(c,void 0,$,e)}this.updateElements(h,0,h.length,e)}updateElements(e,o,c,h){const g=this._cachedMeta.rScale,b=h==="reset";for(let $=o;$<o+c;$++){const j=e[$],rt=this.resolveDataElementOptions($,j.active?"active":h),nt=g.getPointPositionForValue($,this.getParsed($).r),ot=b?g.xCenter:nt.x,_t=b?g.yCenter:nt.y,Et={x:ot,y:_t,angle:nt.angle,skip:isNaN(ot)||isNaN(_t),options:rt};this.updateElement(j,$,Et,h)}}}El(RadarController,"id","radar"),El(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),El(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ScatterController extends DatasetController{getLabelAndValue(e){const o=this._cachedMeta,c=this.chart.data.labels||[],{xScale:h,yScale:g}=o,b=this.getParsed(e),$=h.getLabelForValue(b.x),j=g.getLabelForValue(b.y);return{label:c[e]||"",value:"("+$+", "+j+")"}}update(e){const o=this._cachedMeta,{data:c=[]}=o,h=this.chart._animationsDisabled;let{start:g,count:b}=_getStartAndCountOfVisiblePoints(o,c,h);if(this._drawStart=g,this._drawCount=b,_scaleRangesChanged(o)&&(g=0,b=c.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:$,_dataset:j}=o;$._chart=this.chart,$._datasetIndex=this.index,$._decimated=!!j._decimated,$.points=c;const rt=this.resolveDatasetElementOptions(e);rt.segment=this.options.segment,this.updateElement($,void 0,{animated:!h,options:rt},e)}else this.datasetElementType&&(delete o.dataset,this.datasetElementType=!1);this.updateElements(c,g,b,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,o,c,h){const g=h==="reset",{iScale:b,vScale:$,_stacked:j,_dataset:rt}=this._cachedMeta,nt=this.resolveDataElementOptions(o,h),ot=this.getSharedOptions(nt),_t=this.includeOptions(h,ot),Et=b.axis,It=$.axis,{spanGaps:it,segment:st}=this.options,Mt=isNumber(it)?it:Number.POSITIVE_INFINITY,bt=this.chart._animationsDisabled||g||h==="none";let Lt=o>0&&this.getParsed(o-1);for(let pt=o;pt<o+c;++pt){const Dt=e[pt],wt=this.getParsed(pt),Bt=bt?Dt:{},jt=isNullOrUndef(wt[It]),hr=Bt[Et]=b.getPixelForValue(wt[Et],pt),gr=Bt[It]=g||jt?$.getBasePixel():$.getPixelForValue(j?this.applyStack($,wt,j):wt[It],pt);Bt.skip=isNaN(hr)||isNaN(gr)||jt,Bt.stop=pt>0&&Math.abs(wt[Et]-Lt[Et])>Mt,st&&(Bt.parsed=wt,Bt.raw=rt.data[pt]),_t&&(Bt.options=ot||this.resolveDataElementOptions(pt,Dt.active?"active":h)),bt||this.updateElement(Dt,pt,Bt,h),Lt=wt}this.updateSharedOptions(ot,h,nt)}getMaxOverflow(){const e=this._cachedMeta,o=e.data||[];if(!this.options.showLine){let $=0;for(let j=o.length-1;j>=0;--j)$=Math.max($,o[j].size(this.resolveDataElementOptions(j))/2);return $>0&&$}const c=e.dataset,h=c.options&&c.options.borderWidth||0;if(!o.length)return h;const g=o[0].size(this.resolveDataElementOptions(0)),b=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(h,g,b)/2}}El(ScatterController,"id","scatter"),El(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),El(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PieController,PolarAreaController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){El(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(a,e,o,c){const{controller:h,data:g,_sorted:b}=a,$=h._cachedMeta.iScale;if($&&e===$.axis&&e!=="r"&&b&&g.length){const j=$._reversePixels?_rlookupByKey:_lookupByKey;if(c){if(h._sharedOptions){const rt=g[0],nt=typeof rt.getRange=="function"&&rt.getRange(e);if(nt){const ot=j(g,e,o-nt),_t=j(g,e,o+nt);return{lo:ot.lo,hi:_t.hi}}}}else return j(g,e,o)}return{lo:0,hi:g.length-1}}function evaluateInteractionItems(a,e,o,c,h){const g=a.getSortedVisibleDatasetMetas(),b=o[e];for(let $=0,j=g.length;$<j;++$){const{index:rt,data:nt}=g[$],{lo:ot,hi:_t}=binarySearch(g[$],e,b,h);for(let Et=ot;Et<=_t;++Et){const It=nt[Et];It.skip||c(It,rt,Et)}}}function getDistanceMetricForAxis(a){const e=a.indexOf("x")!==-1,o=a.indexOf("y")!==-1;return function(c,h){const g=e?Math.abs(c.x-h.x):0,b=o?Math.abs(c.y-h.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}}function getIntersectItems(a,e,o,c,h){const g=[];return!h&&!a.isPointInArea(e)||evaluateInteractionItems(a,o,e,function($,j,rt){!h&&!_isPointInArea($,a.chartArea,0)||$.inRange(e.x,e.y,c)&&g.push({element:$,datasetIndex:j,index:rt})},!0),g}function getNearestRadialItems(a,e,o,c){let h=[];function g(b,$,j){const{startAngle:rt,endAngle:nt}=b.getProps(["startAngle","endAngle"],c),{angle:ot}=getAngleFromPoint(b,{x:e.x,y:e.y});_angleBetween(ot,rt,nt)&&h.push({element:b,datasetIndex:$,index:j})}return evaluateInteractionItems(a,o,e,g),h}function getNearestCartesianItems(a,e,o,c,h,g){let b=[];const $=getDistanceMetricForAxis(o);let j=Number.POSITIVE_INFINITY;function rt(nt,ot,_t){const Et=nt.inRange(e.x,e.y,h);if(c&&!Et)return;const It=nt.getCenterPoint(h);if(!(!!g||a.isPointInArea(It))&&!Et)return;const st=$(e,It);st<j?(b=[{element:nt,datasetIndex:ot,index:_t}],j=st):st===j&&b.push({element:nt,datasetIndex:ot,index:_t})}return evaluateInteractionItems(a,o,e,rt),b}function getNearestItems(a,e,o,c,h,g){return!g&&!a.isPointInArea(e)?[]:o==="r"&&!c?getNearestRadialItems(a,e,o,h):getNearestCartesianItems(a,e,o,c,h,g)}function getAxisItems(a,e,o,c,h){const g=[],b=o==="x"?"inXRange":"inYRange";let $=!1;return evaluateInteractionItems(a,o,e,(j,rt,nt)=>{j[b](e[o],h)&&(g.push({element:j,datasetIndex:rt,index:nt}),$=$||j.inRange(e.x,e.y,h))}),c&&!$?[]:g}var Interaction={evaluateInteractionItems,modes:{index(a,e,o,c){const h=getRelativePosition$1(e,a),g=o.axis||"x",b=o.includeInvisible||!1,$=o.intersect?getIntersectItems(a,h,g,c,b):getNearestItems(a,h,g,!1,c,b),j=[];return $.length?(a.getSortedVisibleDatasetMetas().forEach(rt=>{const nt=$[0].index,ot=rt.data[nt];ot&&!ot.skip&&j.push({element:ot,datasetIndex:rt.index,index:nt})}),j):[]},dataset(a,e,o,c){const h=getRelativePosition$1(e,a),g=o.axis||"xy",b=o.includeInvisible||!1;let $=o.intersect?getIntersectItems(a,h,g,c,b):getNearestItems(a,h,g,!1,c,b);if($.length>0){const j=$[0].datasetIndex,rt=a.getDatasetMeta(j).data;$=[];for(let nt=0;nt<rt.length;++nt)$.push({element:rt[nt],datasetIndex:j,index:nt})}return $},point(a,e,o,c){const h=getRelativePosition$1(e,a),g=o.axis||"xy",b=o.includeInvisible||!1;return getIntersectItems(a,h,g,c,b)},nearest(a,e,o,c){const h=getRelativePosition$1(e,a),g=o.axis||"xy",b=o.includeInvisible||!1;return getNearestItems(a,h,g,o.intersect,c,b)},x(a,e,o,c){const h=getRelativePosition$1(e,a);return getAxisItems(a,h,"x",o.intersect,c)},y(a,e,o,c){const h=getRelativePosition$1(e,a);return getAxisItems(a,h,"y",o.intersect,c)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(a,e){return a.filter(o=>o.pos===e)}function filterDynamicPositionByAxis(a,e){return a.filter(o=>STATIC_POSITIONS.indexOf(o.pos)===-1&&o.box.axis===e)}function sortByWeight(a,e){return a.sort((o,c)=>{const h=e?c:o,g=e?o:c;return h.weight===g.weight?h.index-g.index:h.weight-g.weight})}function wrapBoxes(a){const e=[];let o,c,h,g,b,$;for(o=0,c=(a||[]).length;o<c;++o)h=a[o],{position:g,options:{stack:b,stackWeight:$=1}}=h,e.push({index:o,box:h,pos:g,horizontal:h.isHorizontal(),weight:h.weight,stack:b&&g+b,stackWeight:$});return e}function buildStacks(a){const e={};for(const o of a){const{stack:c,pos:h,stackWeight:g}=o;if(!c||!STATIC_POSITIONS.includes(h))continue;const b=e[c]||(e[c]={count:0,placed:0,weight:0,size:0});b.count++,b.weight+=g}return e}function setLayoutDims(a,e){const o=buildStacks(a),{vBoxMaxWidth:c,hBoxMaxHeight:h}=e;let g,b,$;for(g=0,b=a.length;g<b;++g){$=a[g];const{fullSize:j}=$.box,rt=o[$.stack],nt=rt&&$.stackWeight/rt.weight;$.horizontal?($.width=nt?nt*c:j&&e.availableWidth,$.height=h):($.width=c,$.height=nt?nt*h:j&&e.availableHeight)}return o}function buildLayoutBoxes(a){const e=wrapBoxes(a),o=sortByWeight(e.filter(rt=>rt.box.fullSize),!0),c=sortByWeight(filterByPosition(e,"left"),!0),h=sortByWeight(filterByPosition(e,"right")),g=sortByWeight(filterByPosition(e,"top"),!0),b=sortByWeight(filterByPosition(e,"bottom")),$=filterDynamicPositionByAxis(e,"x"),j=filterDynamicPositionByAxis(e,"y");return{fullSize:o,leftAndTop:c.concat(g),rightAndBottom:h.concat(j).concat(b).concat($),chartArea:filterByPosition(e,"chartArea"),vertical:c.concat(h).concat(j),horizontal:g.concat(b).concat($)}}function getCombinedMax(a,e,o,c){return Math.max(a[o],e[o])+Math.max(a[c],e[c])}function updateMaxPadding(a,e){a.top=Math.max(a.top,e.top),a.left=Math.max(a.left,e.left),a.bottom=Math.max(a.bottom,e.bottom),a.right=Math.max(a.right,e.right)}function updateDims(a,e,o,c){const{pos:h,box:g}=o,b=a.maxPadding;if(!isObject(h)){o.size&&(a[h]-=o.size);const ot=c[o.stack]||{size:0,count:1};ot.size=Math.max(ot.size,o.horizontal?g.height:g.width),o.size=ot.size/ot.count,a[h]+=o.size}g.getPadding&&updateMaxPadding(b,g.getPadding());const $=Math.max(0,e.outerWidth-getCombinedMax(b,a,"left","right")),j=Math.max(0,e.outerHeight-getCombinedMax(b,a,"top","bottom")),rt=$!==a.w,nt=j!==a.h;return a.w=$,a.h=j,o.horizontal?{same:rt,other:nt}:{same:nt,other:rt}}function handleMaxPadding(a){const e=a.maxPadding;function o(c){const h=Math.max(e[c]-a[c],0);return a[c]+=h,h}a.y+=o("top"),a.x+=o("left"),o("right"),o("bottom")}function getMargins(a,e){const o=e.maxPadding;function c(h){const g={left:0,top:0,right:0,bottom:0};return h.forEach(b=>{g[b]=Math.max(e[b],o[b])}),g}return c(a?["left","right"]:["top","bottom"])}function fitBoxes(a,e,o,c){const h=[];let g,b,$,j,rt,nt;for(g=0,b=a.length,rt=0;g<b;++g){$=a[g],j=$.box,j.update($.width||e.w,$.height||e.h,getMargins($.horizontal,e));const{same:ot,other:_t}=updateDims(e,o,$,c);rt|=ot&&h.length,nt=nt||_t,j.fullSize||h.push($)}return rt&&fitBoxes(h,e,o,c)||nt}function setBoxDims(a,e,o,c,h){a.top=o,a.left=e,a.right=e+c,a.bottom=o+h,a.width=c,a.height=h}function placeBoxes(a,e,o,c){const h=o.padding;let{x:g,y:b}=e;for(const $ of a){const j=$.box,rt=c[$.stack]||{count:1,placed:0,weight:1},nt=$.stackWeight/rt.weight||1;if($.horizontal){const ot=e.w*nt,_t=rt.size||j.height;defined(rt.start)&&(b=rt.start),j.fullSize?setBoxDims(j,h.left,b,o.outerWidth-h.right-h.left,_t):setBoxDims(j,e.left+rt.placed,b,ot,_t),rt.start=b,rt.placed+=ot,b=j.bottom}else{const ot=e.h*nt,_t=rt.size||j.width;defined(rt.start)&&(g=rt.start),j.fullSize?setBoxDims(j,g,h.top,_t,o.outerHeight-h.bottom-h.top):setBoxDims(j,g,e.top+rt.placed,_t,ot),rt.start=g,rt.placed+=ot,g=j.right}}e.x=g,e.y=b}var layouts={addBox(a,e){a.boxes||(a.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(o){e.draw(o)}}]},a.boxes.push(e)},removeBox(a,e){const o=a.boxes?a.boxes.indexOf(e):-1;o!==-1&&a.boxes.splice(o,1)},configure(a,e,o){e.fullSize=o.fullSize,e.position=o.position,e.weight=o.weight},update(a,e,o,c){if(!a)return;const h=toPadding(a.options.layout.padding),g=Math.max(e-h.width,0),b=Math.max(o-h.height,0),$=buildLayoutBoxes(a.boxes),j=$.vertical,rt=$.horizontal;each(a.boxes,it=>{typeof it.beforeLayout=="function"&&it.beforeLayout()});const nt=j.reduce((it,st)=>st.box.options&&st.box.options.display===!1?it:it+1,0)||1,ot=Object.freeze({outerWidth:e,outerHeight:o,padding:h,availableWidth:g,availableHeight:b,vBoxMaxWidth:g/2/nt,hBoxMaxHeight:b/2}),_t=Object.assign({},h);updateMaxPadding(_t,toPadding(c));const Et=Object.assign({maxPadding:_t,w:g,h:b,x:h.left,y:h.top},h),It=setLayoutDims(j.concat(rt),ot);fitBoxes($.fullSize,Et,ot,It),fitBoxes(j,Et,ot,It),fitBoxes(rt,Et,ot,It)&&fitBoxes(j,Et,ot,It),handleMaxPadding(Et),placeBoxes($.leftAndTop,Et,ot,It),Et.x+=Et.w,Et.y+=Et.h,placeBoxes($.rightAndBottom,Et,ot,It),a.chartArea={left:Et.left,top:Et.top,right:Et.left+Et.w,bottom:Et.top+Et.h,height:Et.h,width:Et.w},each($.chartArea,it=>{const st=it.box;Object.assign(st,a.chartArea),st.update(Et.w,Et.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,o){}releaseContext(e){return!1}addEventListener(e,o,c){}removeEventListener(e,o,c){}getDevicePixelRatio(){return 1}getMaximumSize(e,o,c,h){return o=Math.max(0,o||e.width),c=c||e.height,{width:o,height:Math.max(0,h?Math.floor(o/h):c)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=a=>a===null||a==="";function initCanvas(a,e){const o=a.style,c=a.getAttribute("height"),h=a.getAttribute("width");if(a[EXPANDO_KEY]={initial:{height:c,width:h,style:{display:o.display,height:o.height,width:o.width}}},o.display=o.display||"block",o.boxSizing=o.boxSizing||"border-box",isNullOrEmpty(h)){const g=readUsedSize(a,"width");g!==void 0&&(a.width=g)}if(isNullOrEmpty(c))if(a.style.height==="")a.height=a.width/(e||2);else{const g=readUsedSize(a,"height");g!==void 0&&(a.height=g)}return a}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(a,e,o){a.addEventListener(e,o,eventListenerOptions)}function removeListener(a,e,o){a.canvas.removeEventListener(e,o,eventListenerOptions)}function fromNativeEvent(a,e){const o=EVENT_TYPES[a.type]||a.type,{x:c,y:h}=getRelativePosition$1(a,e);return{type:o,chart:e,native:a,x:c!==void 0?c:null,y:h!==void 0?h:null}}function nodeListContains(a,e){for(const o of a)if(o===e||o.contains(e))return!0}function createAttachObserver(a,e,o){const c=a.canvas,h=new MutationObserver(g=>{let b=!1;for(const $ of g)b=b||nodeListContains($.addedNodes,c),b=b&&!nodeListContains($.removedNodes,c);b&&o()});return h.observe(document,{childList:!0,subtree:!0}),h}function createDetachObserver(a,e,o){const c=a.canvas,h=new MutationObserver(g=>{let b=!1;for(const $ of g)b=b||nodeListContains($.removedNodes,c),b=b&&!nodeListContains($.addedNodes,c);b&&o()});return h.observe(document,{childList:!0,subtree:!0}),h}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const a=window.devicePixelRatio;a!==oldDevicePixelRatio&&(oldDevicePixelRatio=a,drpListeningCharts.forEach((e,o)=>{o.currentDevicePixelRatio!==a&&e()}))}function listenDevicePixelRatioChanges(a,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(a,e)}function unlistenDevicePixelRatioChanges(a){drpListeningCharts.delete(a),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(a,e,o){const c=a.canvas,h=c&&_getParentNode(c);if(!h)return;const g=throttled(($,j)=>{const rt=h.clientWidth;o($,j),rt<h.clientWidth&&o()},window),b=new ResizeObserver($=>{const j=$[0],rt=j.contentRect.width,nt=j.contentRect.height;rt===0&&nt===0||g(rt,nt)});return b.observe(h),listenDevicePixelRatioChanges(a,g),b}function releaseObserver(a,e,o){o&&o.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(a)}function createProxyAndListen(a,e,o){const c=a.canvas,h=throttled(g=>{a.ctx!==null&&o(fromNativeEvent(g,a))},a);return addListener(c,e,h),h}class DomPlatform extends BasePlatform{acquireContext(e,o){const c=e&&e.getContext&&e.getContext("2d");return c&&c.canvas===e?(initCanvas(e,o),c):null}releaseContext(e){const o=e.canvas;if(!o[EXPANDO_KEY])return!1;const c=o[EXPANDO_KEY].initial;["height","width"].forEach(g=>{const b=c[g];isNullOrUndef(b)?o.removeAttribute(g):o.setAttribute(g,b)});const h=c.style||{};return Object.keys(h).forEach(g=>{o.style[g]=h[g]}),o.width=o.width,delete o[EXPANDO_KEY],!0}addEventListener(e,o,c){this.removeEventListener(e,o);const h=e.$proxies||(e.$proxies={}),b={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[o]||createProxyAndListen;h[o]=b(e,o,c)}removeEventListener(e,o){const c=e.$proxies||(e.$proxies={}),h=c[o];if(!h)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[o]||removeListener)(e,o,h),c[o]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,o,c,h){return getMaximumSize(e,o,c,h)}isAttached(e){const o=_getParentNode(e);return!!(o&&o.isConnected)}}function _detectPlatform(a){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var Rm;let Element$1=(Rm=class{constructor(){El(this,"x");El(this,"y");El(this,"active",!1);El(this,"options");El(this,"$animations")}tooltipPosition(e){const{x:o,y:c}=this.getProps(["x","y"],e);return{x:o,y:c}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,o){const c=this.$animations;if(!o||!c)return this;const h={};return e.forEach(g=>{h[g]=c[g]&&c[g].active()?c[g]._to:this[g]}),h}},El(Rm,"defaults",{}),El(Rm,"defaultRoutes"),Rm);function autoSkip(a,e){const o=a.options.ticks,c=determineMaxTicks(a),h=Math.min(o.maxTicksLimit||c,c),g=o.major.enabled?getMajorIndices(e):[],b=g.length,$=g[0],j=g[b-1],rt=[];if(b>h)return skipMajors(e,rt,g,b/h),rt;const nt=calculateSpacing(g,e,h);if(b>0){let ot,_t;const Et=b>1?Math.round((j-$)/(b-1)):null;for(skip(e,rt,nt,isNullOrUndef(Et)?0:$-Et,$),ot=0,_t=b-1;ot<_t;ot++)skip(e,rt,nt,g[ot],g[ot+1]);return skip(e,rt,nt,j,isNullOrUndef(Et)?e.length:j+Et),rt}return skip(e,rt,nt),rt}function determineMaxTicks(a){const e=a.options.offset,o=a._tickSize(),c=a._length/o+(e?0:1),h=a._maxLength/o;return Math.floor(Math.min(c,h))}function calculateSpacing(a,e,o){const c=getEvenSpacing(a),h=e.length/o;if(!c)return Math.max(h,1);const g=_factorize(c);for(let b=0,$=g.length-1;b<$;b++){const j=g[b];if(j>h)return j}return Math.max(h,1)}function getMajorIndices(a){const e=[];let o,c;for(o=0,c=a.length;o<c;o++)a[o].major&&e.push(o);return e}function skipMajors(a,e,o,c){let h=0,g=o[0],b;for(c=Math.ceil(c),b=0;b<a.length;b++)b===g&&(e.push(a[b]),h++,g=o[h*c])}function skip(a,e,o,c,h){const g=valueOrDefault(c,0),b=Math.min(valueOrDefault(h,a.length),a.length);let $=0,j,rt,nt;for(o=Math.ceil(o),h&&(j=h-c,o=j/Math.floor(j/o)),nt=g;nt<0;)$++,nt=Math.round(g+$*o);for(rt=Math.max(g,0);rt<b;rt++)rt===nt&&(e.push(a[rt]),$++,nt=Math.round(g+$*o))}function getEvenSpacing(a){const e=a.length;let o,c;if(e<2)return!1;for(c=a[0],o=1;o<e;++o)if(a[o]-a[o-1]!==c)return!1;return c}const reverseAlign=a=>a==="left"?"right":a==="right"?"left":a,offsetFromEdge=(a,e,o)=>e==="top"||e==="left"?a[e]+o:a[e]-o,getTicksLimit=(a,e)=>Math.min(e||a,a);function sample(a,e){const o=[],c=a.length/e,h=a.length;let g=0;for(;g<h;g+=c)o.push(a[Math.floor(g)]);return o}function getPixelForGridLine(a,e,o){const c=a.ticks.length,h=Math.min(e,c-1),g=a._startPixel,b=a._endPixel,$=1e-6;let j=a.getPixelForTick(h),rt;if(!(o&&(c===1?rt=Math.max(j-g,b-j):e===0?rt=(a.getPixelForTick(1)-j)/2:rt=(j-a.getPixelForTick(h-1))/2,j+=h<e?rt:-rt,j<g-$||j>b+$)))return j}function garbageCollect(a,e){each(a,o=>{const c=o.gc,h=c.length/2;let g;if(h>e){for(g=0;g<h;++g)delete o.data[c[g]];c.splice(0,h)}})}function getTickMarkLength(a){return a.drawTicks?a.tickLength:0}function getTitleHeight(a,e){if(!a.display)return 0;const o=toFont(a.font,e),c=toPadding(a.padding);return(isArray(a.text)?a.text.length:1)*o.lineHeight+c.height}function createScaleContext(a,e){return createContext(a,{scale:e,type:"scale"})}function createTickContext(a,e,o){return createContext(a,{tick:o,index:e,type:"tick"})}function titleAlign(a,e,o){let c=_toLeftRightCenter(a);return(o&&e!=="right"||!o&&e==="right")&&(c=reverseAlign(c)),c}function titleArgs(a,e,o,c){const{top:h,left:g,bottom:b,right:$,chart:j}=a,{chartArea:rt,scales:nt}=j;let ot=0,_t,Et,It;const it=b-h,st=$-g;if(a.isHorizontal()){if(Et=_alignStartEnd(c,g,$),isObject(o)){const Mt=Object.keys(o)[0],bt=o[Mt];It=nt[Mt].getPixelForValue(bt)+it-e}else o==="center"?It=(rt.bottom+rt.top)/2+it-e:It=offsetFromEdge(a,o,e);_t=$-g}else{if(isObject(o)){const Mt=Object.keys(o)[0],bt=o[Mt];Et=nt[Mt].getPixelForValue(bt)-st+e}else o==="center"?Et=(rt.left+rt.right)/2-st+e:Et=offsetFromEdge(a,o,e);It=_alignStartEnd(c,b,h),ot=o==="left"?-HALF_PI:HALF_PI}return{titleX:Et,titleY:It,maxWidth:_t,rotation:ot}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,o){return e}getUserBounds(){let{_userMin:e,_userMax:o,_suggestedMin:c,_suggestedMax:h}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),o=finiteOrDefault(o,Number.NEGATIVE_INFINITY),c=finiteOrDefault(c,Number.POSITIVE_INFINITY),h=finiteOrDefault(h,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,c),max:finiteOrDefault(o,h),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(o)}}getMinMax(e){let{min:o,max:c,minDefined:h,maxDefined:g}=this.getUserBounds(),b;if(h&&g)return{min:o,max:c};const $=this.getMatchingVisibleMetas();for(let j=0,rt=$.length;j<rt;++j)b=$[j].controller.getMinMax(this,e),h||(o=Math.min(o,b.min)),g||(c=Math.max(c,b.max));return o=g&&o>c?c:o,c=h&&o>c?o:c,{min:finiteOrDefault(o,finiteOrDefault(c,o)),max:finiteOrDefault(c,finiteOrDefault(o,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,o,c){const{beginAtZero:h,grace:g,ticks:b}=this.options,$=b.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=o,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,g,h),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const j=$<this.ticks.length;this._convertTicksToLabels(j?sample(this.ticks,$):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),j&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,o,c;this.isHorizontal()?(o=this.left,c=this.right):(o=this.top,c=this.bottom,e=!e),this._startPixel=o,this._endPixel=c,this._reversePixels=e,this._length=c-o,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const o=this.options.ticks;let c,h,g;for(c=0,h=e.length;c<h;c++)g=e[c],g.label=callback(o.callback,[g.value,c,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,o=e.ticks,c=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),h=o.minRotation||0,g=o.maxRotation;let b=h,$,j,rt;if(!this._isVisible()||!o.display||h>=g||c<=1||!this.isHorizontal()){this.labelRotation=h;return}const nt=this._getLabelSizes(),ot=nt.widest.width,_t=nt.highest.height,Et=_limitValue(this.chart.width-ot,0,this.maxWidth);$=e.offset?this.maxWidth/c:Et/(c-1),ot+6>$&&($=Et/(c-(e.offset?.5:1)),j=this.maxHeight-getTickMarkLength(e.grid)-o.padding-getTitleHeight(e.title,this.chart.options.font),rt=Math.sqrt(ot*ot+_t*_t),b=toDegrees(Math.min(Math.asin(_limitValue((nt.highest.height+6)/$,-1,1)),Math.asin(_limitValue(j/rt,-1,1))-Math.asin(_limitValue(_t/rt,-1,1)))),b=Math.max(h,Math.min(g,b))),this.labelRotation=b}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:o,options:{ticks:c,title:h,grid:g}}=this,b=this._isVisible(),$=this.isHorizontal();if(b){const j=getTitleHeight(h,o.options.font);if($?(e.width=this.maxWidth,e.height=getTickMarkLength(g)+j):(e.height=this.maxHeight,e.width=getTickMarkLength(g)+j),c.display&&this.ticks.length){const{first:rt,last:nt,widest:ot,highest:_t}=this._getLabelSizes(),Et=c.padding*2,It=toRadians(this.labelRotation),it=Math.cos(It),st=Math.sin(It);if($){const Mt=c.mirror?0:st*ot.width+it*_t.height;e.height=Math.min(this.maxHeight,e.height+Mt+Et)}else{const Mt=c.mirror?0:it*ot.width+st*_t.height;e.width=Math.min(this.maxWidth,e.width+Mt+Et)}this._calculatePadding(rt,nt,st,it)}}this._handleMargins(),$?(this.width=this._length=o.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=o.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,o,c,h){const{ticks:{align:g,padding:b},position:$}=this.options,j=this.labelRotation!==0,rt=$!=="top"&&this.axis==="x";if(this.isHorizontal()){const nt=this.getPixelForTick(0)-this.left,ot=this.right-this.getPixelForTick(this.ticks.length-1);let _t=0,Et=0;j?rt?(_t=h*e.width,Et=c*o.height):(_t=c*e.height,Et=h*o.width):g==="start"?Et=o.width:g==="end"?_t=e.width:g!=="inner"&&(_t=e.width/2,Et=o.width/2),this.paddingLeft=Math.max((_t-nt+b)*this.width/(this.width-nt),0),this.paddingRight=Math.max((Et-ot+b)*this.width/(this.width-ot),0)}else{let nt=o.height/2,ot=e.height/2;g==="start"?(nt=0,ot=e.height):g==="end"&&(nt=o.height,ot=0),this.paddingTop=nt+b,this.paddingBottom=ot+b}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:o}=this.options;return o==="top"||o==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let o,c;for(o=0,c=e.length;o<c;o++)isNullOrUndef(e[o].label)&&(e.splice(o,1),c--,o--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const o=this.options.ticks.sampleSize;let c=this.ticks;o<c.length&&(c=sample(c,o)),this._labelSizes=e=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,o,c){const{ctx:h,_longestTextCache:g}=this,b=[],$=[],j=Math.floor(o/getTicksLimit(o,c));let rt=0,nt=0,ot,_t,Et,It,it,st,Mt,bt,Lt,pt,Dt;for(ot=0;ot<o;ot+=j){if(It=e[ot].label,it=this._resolveTickFontOptions(ot),h.font=st=it.string,Mt=g[st]=g[st]||{data:{},gc:[]},bt=it.lineHeight,Lt=pt=0,!isNullOrUndef(It)&&!isArray(It))Lt=_measureText(h,Mt.data,Mt.gc,Lt,It),pt=bt;else if(isArray(It))for(_t=0,Et=It.length;_t<Et;++_t)Dt=It[_t],!isNullOrUndef(Dt)&&!isArray(Dt)&&(Lt=_measureText(h,Mt.data,Mt.gc,Lt,Dt),pt+=bt);b.push(Lt),$.push(pt),rt=Math.max(Lt,rt),nt=Math.max(pt,nt)}garbageCollect(g,o);const wt=b.indexOf(rt),Bt=$.indexOf(nt),jt=hr=>({width:b[hr]||0,height:$[hr]||0});return{first:jt(0),last:jt(o-1),widest:jt(wt),highest:jt(Bt),widths:b,heights:$}}getLabelForValue(e){return e}getPixelForValue(e,o){return NaN}getValueForPixel(e){}getPixelForTick(e){const o=this.ticks;return e<0||e>o.length-1?null:this.getPixelForValue(o[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const o=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,o,0):o)}getDecimalForPixel(e){const o=(e-this._startPixel)/this._length;return this._reversePixels?1-o:o}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:o}=this;return e<0&&o<0?o:e>0&&o>0?e:0}getContext(e){const o=this.ticks||[];if(e>=0&&e<o.length){const c=o[e];return c.$context||(c.$context=createTickContext(this.getContext(),e,c))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,o=toRadians(this.labelRotation),c=Math.abs(Math.cos(o)),h=Math.abs(Math.sin(o)),g=this._getLabelSizes(),b=e.autoSkipPadding||0,$=g?g.widest.width+b:0,j=g?g.highest.height+b:0;return this.isHorizontal()?j*c>$*h?$/c:j/h:j*h<$*c?j/c:$/h}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const o=this.axis,c=this.chart,h=this.options,{grid:g,position:b,border:$}=h,j=g.offset,rt=this.isHorizontal(),ot=this.ticks.length+(j?1:0),_t=getTickMarkLength(g),Et=[],It=$.setContext(this.getContext()),it=It.display?It.width:0,st=it/2,Mt=function(rn){return _alignPixel(c,rn,it)};let bt,Lt,pt,Dt,wt,Bt,jt,hr,gr,Cr,wr,yr;if(b==="top")bt=Mt(this.bottom),Bt=this.bottom-_t,hr=bt-st,Cr=Mt(e.top)+st,yr=e.bottom;else if(b==="bottom")bt=Mt(this.top),Cr=e.top,yr=Mt(e.bottom)-st,Bt=bt+st,hr=this.top+_t;else if(b==="left")bt=Mt(this.right),wt=this.right-_t,jt=bt-st,gr=Mt(e.left)+st,wr=e.right;else if(b==="right")bt=Mt(this.left),gr=e.left,wr=Mt(e.right)-st,wt=bt+st,jt=this.left+_t;else if(o==="x"){if(b==="center")bt=Mt((e.top+e.bottom)/2+.5);else if(isObject(b)){const rn=Object.keys(b)[0],Sr=b[rn];bt=Mt(this.chart.scales[rn].getPixelForValue(Sr))}Cr=e.top,yr=e.bottom,Bt=bt+st,hr=Bt+_t}else if(o==="y"){if(b==="center")bt=Mt((e.left+e.right)/2);else if(isObject(b)){const rn=Object.keys(b)[0],Sr=b[rn];bt=Mt(this.chart.scales[rn].getPixelForValue(Sr))}wt=bt-st,jt=wt-_t,gr=e.left,wr=e.right}const xr=valueOrDefault(h.ticks.maxTicksLimit,ot),In=Math.max(1,Math.ceil(ot/xr));for(Lt=0;Lt<ot;Lt+=In){const rn=this.getContext(Lt),Sr=g.setContext(rn),Tr=$.setContext(rn),Ln=Sr.lineWidth,Fn=Sr.color,Or=Tr.dash||[],Nn=Tr.dashOffset,eo=Sr.tickWidth,uo=Sr.tickColor,wo=Sr.tickBorderDash||[],bo=Sr.tickBorderDashOffset;pt=getPixelForGridLine(this,Lt,j),pt!==void 0&&(Dt=_alignPixel(c,pt,Ln),rt?wt=jt=gr=wr=Dt:Bt=hr=Cr=yr=Dt,Et.push({tx1:wt,ty1:Bt,tx2:jt,ty2:hr,x1:gr,y1:Cr,x2:wr,y2:yr,width:Ln,color:Fn,borderDash:Or,borderDashOffset:Nn,tickWidth:eo,tickColor:uo,tickBorderDash:wo,tickBorderDashOffset:bo}))}return this._ticksLength=ot,this._borderValue=bt,Et}_computeLabelItems(e){const o=this.axis,c=this.options,{position:h,ticks:g}=c,b=this.isHorizontal(),$=this.ticks,{align:j,crossAlign:rt,padding:nt,mirror:ot}=g,_t=getTickMarkLength(c.grid),Et=_t+nt,It=ot?-nt:Et,it=-toRadians(this.labelRotation),st=[];let Mt,bt,Lt,pt,Dt,wt,Bt,jt,hr,gr,Cr,wr,yr="middle";if(h==="top")wt=this.bottom-It,Bt=this._getXAxisLabelAlignment();else if(h==="bottom")wt=this.top+It,Bt=this._getXAxisLabelAlignment();else if(h==="left"){const In=this._getYAxisLabelAlignment(_t);Bt=In.textAlign,Dt=In.x}else if(h==="right"){const In=this._getYAxisLabelAlignment(_t);Bt=In.textAlign,Dt=In.x}else if(o==="x"){if(h==="center")wt=(e.top+e.bottom)/2+Et;else if(isObject(h)){const In=Object.keys(h)[0],rn=h[In];wt=this.chart.scales[In].getPixelForValue(rn)+Et}Bt=this._getXAxisLabelAlignment()}else if(o==="y"){if(h==="center")Dt=(e.left+e.right)/2-Et;else if(isObject(h)){const In=Object.keys(h)[0],rn=h[In];Dt=this.chart.scales[In].getPixelForValue(rn)}Bt=this._getYAxisLabelAlignment(_t).textAlign}o==="y"&&(j==="start"?yr="top":j==="end"&&(yr="bottom"));const xr=this._getLabelSizes();for(Mt=0,bt=$.length;Mt<bt;++Mt){Lt=$[Mt],pt=Lt.label;const In=g.setContext(this.getContext(Mt));jt=this.getPixelForTick(Mt)+g.labelOffset,hr=this._resolveTickFontOptions(Mt),gr=hr.lineHeight,Cr=isArray(pt)?pt.length:1;const rn=Cr/2,Sr=In.color,Tr=In.textStrokeColor,Ln=In.textStrokeWidth;let Fn=Bt;b?(Dt=jt,Bt==="inner"&&(Mt===bt-1?Fn=this.options.reverse?"left":"right":Mt===0?Fn=this.options.reverse?"right":"left":Fn="center"),h==="top"?rt==="near"||it!==0?wr=-Cr*gr+gr/2:rt==="center"?wr=-xr.highest.height/2-rn*gr+gr:wr=-xr.highest.height+gr/2:rt==="near"||it!==0?wr=gr/2:rt==="center"?wr=xr.highest.height/2-rn*gr:wr=xr.highest.height-Cr*gr,ot&&(wr*=-1),it!==0&&!In.showLabelBackdrop&&(Dt+=gr/2*Math.sin(it))):(wt=jt,wr=(1-Cr)*gr/2);let Or;if(In.showLabelBackdrop){const Nn=toPadding(In.backdropPadding),eo=xr.heights[Mt],uo=xr.widths[Mt];let wo=wr-Nn.top,bo=0-Nn.left;switch(yr){case"middle":wo-=eo/2;break;case"bottom":wo-=eo;break}switch(Bt){case"center":bo-=uo/2;break;case"right":bo-=uo;break;case"inner":Mt===bt-1?bo-=uo:Mt>0&&(bo-=uo/2);break}Or={left:bo,top:wo,width:uo+Nn.width,height:eo+Nn.height,color:In.backdropColor}}st.push({label:pt,font:hr,textOffset:wr,options:{rotation:it,color:Sr,strokeColor:Tr,strokeWidth:Ln,textAlign:Fn,textBaseline:yr,translation:[Dt,wt],backdrop:Or}})}return st}_getXAxisLabelAlignment(){const{position:e,ticks:o}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let h="center";return o.align==="start"?h="left":o.align==="end"?h="right":o.align==="inner"&&(h="inner"),h}_getYAxisLabelAlignment(e){const{position:o,ticks:{crossAlign:c,mirror:h,padding:g}}=this.options,b=this._getLabelSizes(),$=e+g,j=b.widest.width;let rt,nt;return o==="left"?h?(nt=this.right+g,c==="near"?rt="left":c==="center"?(rt="center",nt+=j/2):(rt="right",nt+=j)):(nt=this.right-$,c==="near"?rt="right":c==="center"?(rt="center",nt-=j/2):(rt="left",nt=this.left)):o==="right"?h?(nt=this.left+g,c==="near"?rt="right":c==="center"?(rt="center",nt-=j/2):(rt="left",nt-=j)):(nt=this.left+$,c==="near"?rt="left":c==="center"?(rt="center",nt+=j/2):(rt="right",nt=this.right)):rt="right",{textAlign:rt,x:nt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,o=this.options.position;if(o==="left"||o==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(o==="top"||o==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:o},left:c,top:h,width:g,height:b}=this;o&&(e.save(),e.fillStyle=o,e.fillRect(c,h,g,b),e.restore())}getLineWidthForValue(e){const o=this.options.grid;if(!this._isVisible()||!o.display)return 0;const h=this.ticks.findIndex(g=>g.value===e);return h>=0?o.setContext(this.getContext(h)).lineWidth:0}drawGrid(e){const o=this.options.grid,c=this.ctx,h=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let g,b;const $=(j,rt,nt)=>{!nt.width||!nt.color||(c.save(),c.lineWidth=nt.width,c.strokeStyle=nt.color,c.setLineDash(nt.borderDash||[]),c.lineDashOffset=nt.borderDashOffset,c.beginPath(),c.moveTo(j.x,j.y),c.lineTo(rt.x,rt.y),c.stroke(),c.restore())};if(o.display)for(g=0,b=h.length;g<b;++g){const j=h[g];o.drawOnChartArea&&$({x:j.x1,y:j.y1},{x:j.x2,y:j.y2},j),o.drawTicks&&$({x:j.tx1,y:j.ty1},{x:j.tx2,y:j.ty2},{color:j.tickColor,width:j.tickWidth,borderDash:j.tickBorderDash,borderDashOffset:j.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:o,options:{border:c,grid:h}}=this,g=c.setContext(this.getContext()),b=c.display?g.width:0;if(!b)return;const $=h.setContext(this.getContext(0)).lineWidth,j=this._borderValue;let rt,nt,ot,_t;this.isHorizontal()?(rt=_alignPixel(e,this.left,b)-b/2,nt=_alignPixel(e,this.right,$)+$/2,ot=_t=j):(ot=_alignPixel(e,this.top,b)-b/2,_t=_alignPixel(e,this.bottom,$)+$/2,rt=nt=j),o.save(),o.lineWidth=g.width,o.strokeStyle=g.color,o.beginPath(),o.moveTo(rt,ot),o.lineTo(nt,_t),o.stroke(),o.restore()}drawLabels(e){if(!this.options.ticks.display)return;const c=this.ctx,h=this._computeLabelArea();h&&clipArea(c,h);const g=this.getLabelItems(e);for(const b of g){const $=b.options,j=b.font,rt=b.label,nt=b.textOffset;renderText(c,rt,0,nt,j,$)}h&&unclipArea(c)}drawTitle(){const{ctx:e,options:{position:o,title:c,reverse:h}}=this;if(!c.display)return;const g=toFont(c.font),b=toPadding(c.padding),$=c.align;let j=g.lineHeight/2;o==="bottom"||o==="center"||isObject(o)?(j+=b.bottom,isArray(c.text)&&(j+=g.lineHeight*(c.text.length-1))):j+=b.top;const{titleX:rt,titleY:nt,maxWidth:ot,rotation:_t}=titleArgs(this,j,o,$);renderText(e,c.text,0,0,g,{color:c.color,maxWidth:ot,rotation:_t,textAlign:titleAlign($,o,h),textBaseline:"middle",translation:[rt,nt]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,o=e.ticks&&e.ticks.z||0,c=valueOrDefault(e.grid&&e.grid.z,-1),h=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:o,draw:g=>{this.draw(g)}}]:[{z:c,draw:g=>{this.drawBackground(),this.drawGrid(g),this.drawTitle()}},{z:h,draw:()=>{this.drawBorder()}},{z:o,draw:g=>{this.drawLabels(g)}}]}getMatchingVisibleMetas(e){const o=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",h=[];let g,b;for(g=0,b=o.length;g<b;++g){const $=o[g];$[c]===this.id&&(!e||$.type===e)&&h.push($)}return h}_resolveTickFontOptions(e){const o=this.options.ticks.setContext(this.getContext(e));return toFont(o.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,o,c){this.type=e,this.scope=o,this.override=c,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const o=Object.getPrototypeOf(e);let c;isIChartComponent(o)&&(c=this.register(o));const h=this.items,g=e.id,b=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+e);return g in h||(h[g]=e,registerDefaults(e,b,c),this.override&&defaults.override(e.id,e.overrides)),b}get(e){return this.items[e]}unregister(e){const o=this.items,c=e.id,h=this.scope;c in o&&delete o[c],h&&c in defaults[h]&&(delete defaults[h][c],this.override&&delete overrides[c])}}function registerDefaults(a,e,o){const c=merge(Object.create(null),[o?defaults.get(o):{},defaults.get(e),a.defaults]);defaults.set(e,c),a.defaultRoutes&&routeDefaults(e,a.defaultRoutes),a.descriptors&&defaults.describe(e,a.descriptors)}function routeDefaults(a,e){Object.keys(e).forEach(o=>{const c=o.split("."),h=c.pop(),g=[a].concat(c).join("."),b=e[o].split("."),$=b.pop(),j=b.join(".");defaults.route(g,h,j,$)})}function isIChartComponent(a){return"id"in a&&"defaults"in a}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,o,c){[...o].forEach(h=>{const g=c||this._getRegistryForType(h);c||g.isForType(h)||g===this.plugins&&h.id?this._exec(e,g,h):each(h,b=>{const $=c||this._getRegistryForType(b);this._exec(e,$,b)})})}_exec(e,o,c){const h=_capitalize(e);callback(c["before"+h],[],c),o[e](c),callback(c["after"+h],[],c)}_getRegistryForType(e){for(let o=0;o<this._typedRegistries.length;o++){const c=this._typedRegistries[o];if(c.isForType(e))return c}return this.plugins}_get(e,o,c){const h=o.get(e);if(h===void 0)throw new Error('"'+e+'" is not a registered '+c+".");return h}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,o,c,h){o==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const g=h?this._descriptors(e).filter(h):this._descriptors(e),b=this._notify(g,e,o,c);return o==="afterDestroy"&&(this._notify(g,e,"stop"),this._notify(this._init,e,"uninstall")),b}_notify(e,o,c,h){h=h||{};for(const g of e){const b=g.plugin,$=b[c],j=[o,h,g.options];if(callback($,j,b)===!1&&h.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const o=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),o}_createDescriptors(e,o){const c=e&&e.config,h=valueOrDefault(c.options&&c.options.plugins,{}),g=allPlugins(c);return h===!1&&!o?[]:createDescriptors(e,g,h,o)}_notifyStateChanges(e){const o=this._oldCache||[],c=this._cache,h=(g,b)=>g.filter($=>!b.some(j=>$.plugin.id===j.plugin.id));this._notify(h(o,c),e,"stop"),this._notify(h(c,o),e,"start")}}function allPlugins(a){const e={},o=[],c=Object.keys(registry.plugins.items);for(let g=0;g<c.length;g++)o.push(registry.getPlugin(c[g]));const h=a.plugins||[];for(let g=0;g<h.length;g++){const b=h[g];o.indexOf(b)===-1&&(o.push(b),e[b.id]=!0)}return{plugins:o,localIds:e}}function getOpts(a,e){return!e&&a===!1?null:a===!0?{}:a}function createDescriptors(a,{plugins:e,localIds:o},c,h){const g=[],b=a.getContext();for(const $ of e){const j=$.id,rt=getOpts(c[j],h);rt!==null&&g.push({plugin:$,options:pluginOpts(a.config,{plugin:$,local:o[j]},rt,b)})}return g}function pluginOpts(a,{plugin:e,local:o},c,h){const g=a.pluginScopeKeys(e),b=a.getOptionScopes(c,g);return o&&e.defaults&&b.push(e.defaults),a.createResolver(b,h,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(a,e){const o=defaults.datasets[a]||{};return((e.datasets||{})[a]||{}).indexAxis||e.indexAxis||o.indexAxis||"x"}function getAxisFromDefaultScaleID(a,e){let o=a;return a==="_index_"?o=e:a==="_value_"&&(o=e==="x"?"y":"x"),o}function getDefaultScaleIDFromAxis(a,e){return a===e?"_index_":"_value_"}function idMatchesAxis(a){if(a==="x"||a==="y"||a==="r")return a}function axisFromPosition(a){if(a==="top"||a==="bottom")return"x";if(a==="left"||a==="right")return"y"}function determineAxis(a,...e){if(idMatchesAxis(a))return a;for(const o of e){const c=o.axis||axisFromPosition(o.position)||a.length>1&&idMatchesAxis(a[0].toLowerCase());if(c)return c}throw new Error(`Cannot determine type of '${a}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(a,e,o){if(o[e+"AxisID"]===a)return{axis:e}}function retrieveAxisFromDatasets(a,e){if(e.data&&e.data.datasets){const o=e.data.datasets.filter(c=>c.xAxisID===a||c.yAxisID===a);if(o.length)return getAxisFromDataset(a,"x",o[0])||getAxisFromDataset(a,"y",o[0])}return{}}function mergeScaleConfig(a,e){const o=overrides[a.type]||{scales:{}},c=e.scales||{},h=getIndexAxis(a.type,e),g=Object.create(null);return Object.keys(c).forEach(b=>{const $=c[b];if(!isObject($))return console.error(`Invalid scale configuration for scale: ${b}`);if($._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${b}`);const j=determineAxis(b,$,retrieveAxisFromDatasets(b,a),defaults.scales[$.type]),rt=getDefaultScaleIDFromAxis(j,h),nt=o.scales||{};g[b]=mergeIf(Object.create(null),[{axis:j},$,nt[j],nt[rt]])}),a.data.datasets.forEach(b=>{const $=b.type||a.type,j=b.indexAxis||getIndexAxis($,e),nt=(overrides[$]||{}).scales||{};Object.keys(nt).forEach(ot=>{const _t=getAxisFromDefaultScaleID(ot,j),Et=b[_t+"AxisID"]||_t;g[Et]=g[Et]||Object.create(null),mergeIf(g[Et],[{axis:_t},c[Et],nt[ot]])})}),Object.keys(g).forEach(b=>{const $=g[b];mergeIf($,[defaults.scales[$.type],defaults.scale])}),g}function initOptions(a){const e=a.options||(a.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(a,e)}function initData(a){return a=a||{},a.datasets=a.datasets||[],a.labels=a.labels||[],a}function initConfig(a){return a=a||{},a.data=initData(a.data),initOptions(a),a}const keyCache=new Map,keysCached=new Set;function cachedKeys(a,e){let o=keyCache.get(a);return o||(o=e(),keyCache.set(a,o),keysCached.add(o)),o}const addIfFound=(a,e,o)=>{const c=resolveObjectKey(e,o);c!==void 0&&a.add(c)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,o){return cachedKeys(`${e}.transition.${o}`,()=>[[`datasets.${e}.transitions.${o}`,`transitions.${o}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,o){return cachedKeys(`${e}-${o}`,()=>[[`datasets.${e}.elements.${o}`,`datasets.${e}`,`elements.${o}`,""]])}pluginScopeKeys(e){const o=e.id,c=this.type;return cachedKeys(`${c}-plugin-${o}`,()=>[[`plugins.${o}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,o){const c=this._scopeCache;let h=c.get(e);return(!h||o)&&(h=new Map,c.set(e,h)),h}getOptionScopes(e,o,c){const{options:h,type:g}=this,b=this._cachedScopes(e,c),$=b.get(o);if($)return $;const j=new Set;o.forEach(nt=>{e&&(j.add(e),nt.forEach(ot=>addIfFound(j,e,ot))),nt.forEach(ot=>addIfFound(j,h,ot)),nt.forEach(ot=>addIfFound(j,overrides[g]||{},ot)),nt.forEach(ot=>addIfFound(j,defaults,ot)),nt.forEach(ot=>addIfFound(j,descriptors,ot))});const rt=Array.from(j);return rt.length===0&&rt.push(Object.create(null)),keysCached.has(o)&&b.set(o,rt),rt}chartOptionScopes(){const{options:e,type:o}=this;return[e,overrides[o]||{},defaults.datasets[o]||{},{type:o},defaults,descriptors]}resolveNamedOptions(e,o,c,h=[""]){const g={$shared:!0},{resolver:b,subPrefixes:$}=getResolver(this._resolverCache,e,h);let j=b;if(needContext(b,o)){g.$shared=!1,c=isFunction(c)?c():c;const rt=this.createResolver(e,c,$);j=_attachContext(b,c,rt)}for(const rt of o)g[rt]=j[rt];return g}createResolver(e,o,c=[""],h){const{resolver:g}=getResolver(this._resolverCache,e,c);return isObject(o)?_attachContext(g,o,void 0,h):g}}function getResolver(a,e,o){let c=a.get(e);c||(c=new Map,a.set(e,c));const h=o.join();let g=c.get(h);return g||(g={resolver:_createResolver(e,o),subPrefixes:o.filter($=>!$.toLowerCase().includes("hover"))},c.set(h,g)),g}const hasFunction=a=>isObject(a)&&Object.getOwnPropertyNames(a).some(e=>isFunction(a[e]));function needContext(a,e){const{isScriptable:o,isIndexable:c}=_descriptors(a);for(const h of e){const g=o(h),b=c(h),$=(b||g)&&a[h];if(g&&(isFunction($)||hasFunction($))||b&&isArray($))return!0}return!1}var version$2="4.4.1";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(a,e){return a==="top"||a==="bottom"||KNOWN_POSITIONS.indexOf(a)===-1&&e==="x"}function compare2Level(a,e){return function(o,c){return o[a]===c[a]?o[e]-c[e]:o[a]-c[a]}}function onAnimationsComplete(a){const e=a.chart,o=e.options.animation;e.notifyPlugins("afterRender"),callback(o&&o.onComplete,[a],e)}function onAnimationProgress(a){const e=a.chart,o=e.options.animation;callback(o&&o.onProgress,[a],e)}function getCanvas(a){return _isDomSupported()&&typeof a=="string"?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}const instances={},getChart=a=>{const e=getCanvas(a);return Object.values(instances).filter(o=>o.canvas===e).pop()};function moveNumericKeys(a,e,o){const c=Object.keys(a);for(const h of c){const g=+h;if(g>=e){const b=a[h];delete a[h],(o>0||g>e)&&(a[g+o]=b)}}}function determineLastEvent(a,e,o,c){return!o||a.type==="mouseout"?null:c?e:a}function getSizeForArea(a,e,o){return a.options.clip?a[o]:e[o]}function getDatasetArea(a,e){const{xScale:o,yScale:c}=a;return o&&c?{left:getSizeForArea(o,e,"left"),right:getSizeForArea(o,e,"right"),top:getSizeForArea(c,e,"top"),bottom:getSizeForArea(c,e,"bottom")}:e}class Chart{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,o){const c=this.config=new Config(o),h=getCanvas(e),g=getChart(h);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas with ID '"+g.canvas.id+"' can be reused.");const b=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||_detectPlatform(h)),this.platform.updateConfig(c);const $=this.platform.acquireContext(h,b.aspectRatio),j=$&&$.canvas,rt=j&&j.height,nt=j&&j.width;if(this.id=uid(),this.ctx=$,this.canvas=j,this.width=nt,this.height=rt,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$1(ot=>this.update(ot),b.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!$||!j){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:o},width:c,height:h,_aspectRatio:g}=this;return isNullOrUndef(e)?o&&g?g:h?c/h:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,o){animator.running(this)?this._resizeBeforeDraw={width:e,height:o}:this._resize(e,o)}_resize(e,o){const c=this.options,h=this.canvas,g=c.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(h,e,o,g),$=c.devicePixelRatio||this.platform.getDevicePixelRatio(),j=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,retinaScale(this,$,!0)&&(this.notifyPlugins("resize",{size:b}),callback(c.onResize,[this,b],this),this.attached&&this._doResize(j)&&this.render())}ensureScalesHaveIDs(){const o=this.options.scales||{};each(o,(c,h)=>{c.id=h})}buildOrUpdateScales(){const e=this.options,o=e.scales,c=this.scales,h=Object.keys(c).reduce((b,$)=>(b[$]=!1,b),{});let g=[];o&&(g=g.concat(Object.keys(o).map(b=>{const $=o[b],j=determineAxis(b,$),rt=j==="r",nt=j==="x";return{options:$,dposition:rt?"chartArea":nt?"bottom":"left",dtype:rt?"radialLinear":nt?"category":"linear"}}))),each(g,b=>{const $=b.options,j=$.id,rt=determineAxis(j,$),nt=valueOrDefault($.type,b.dtype);($.position===void 0||positionIsHorizontal($.position,rt)!==positionIsHorizontal(b.dposition))&&($.position=b.dposition),h[j]=!0;let ot=null;if(j in c&&c[j].type===nt)ot=c[j];else{const _t=registry.getScale(nt);ot=new _t({id:j,type:nt,ctx:this.ctx,chart:this}),c[ot.id]=ot}ot.init($,e)}),each(h,(b,$)=>{b||delete c[$]}),each(c,b=>{layouts.configure(this,b,b.options),layouts.addBox(this,b)})}_updateMetasets(){const e=this._metasets,o=this.data.datasets.length,c=e.length;if(e.sort((h,g)=>h.index-g.index),c>o){for(let h=o;h<c;++h)this._destroyDatasetMeta(h);e.splice(o,c-o)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:o}}=this;e.length>o.length&&delete this._stacks,e.forEach((c,h)=>{o.filter(g=>g===c._dataset).length===0&&this._destroyDatasetMeta(h)})}buildOrUpdateControllers(){const e=[],o=this.data.datasets;let c,h;for(this._removeUnreferencedMetasets(),c=0,h=o.length;c<h;c++){const g=o[c];let b=this.getDatasetMeta(c);const $=g.type||this.config.type;if(b.type&&b.type!==$&&(this._destroyDatasetMeta(c),b=this.getDatasetMeta(c)),b.type=$,b.indexAxis=g.indexAxis||getIndexAxis($,this.options),b.order=g.order||0,b.index=c,b.label=""+g.label,b.visible=this.isDatasetVisible(c),b.controller)b.controller.updateIndex(c),b.controller.linkScales();else{const j=registry.getController($),{datasetElementType:rt,dataElementType:nt}=defaults.datasets[$];Object.assign(j,{dataElementType:registry.getElement(nt),datasetElementType:rt&&registry.getElement(rt)}),b.controller=new j(this,c),e.push(b.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,o)=>{this.getDatasetMeta(o).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const o=this.config;o.update();const c=this._options=o.createResolver(o.chartOptionScopes(),this.getContext()),h=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let rt=0,nt=this.data.datasets.length;rt<nt;rt++){const{controller:ot}=this.getDatasetMeta(rt),_t=!h&&g.indexOf(ot)===-1;ot.buildOrUpdateElements(_t),b=Math.max(+ot.getMaxOverflow(),b)}b=this._minPadding=c.layout.autoPadding?b:0,this._updateLayout(b),h||each(g,rt=>{rt.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:$,_lastEvent:j}=this;j?this._eventHandler(j,!0):$.length&&this._updateHoverStyles($,$,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,o=new Set(Object.keys(this._listeners)),c=new Set(e.events);(!setsEqual(o,c)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,o=this._getUniformDataChanges()||[];for(const{method:c,start:h,count:g}of o){const b=c==="_removeElements"?-g:g;moveNumericKeys(e,h,b)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const o=this.data.datasets.length,c=g=>new Set(e.filter(b=>b[0]===g).map((b,$)=>$+","+b.splice(1).join(","))),h=c(0);for(let g=1;g<o;g++)if(!setsEqual(h,c(g)))return;return Array.from(h).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const o=this.chartArea,c=o.width<=0||o.height<=0;this._layers=[],each(this.boxes,h=>{c&&h.position==="chartArea"||(h.configure&&h.configure(),this._layers.push(...h._layers()))},this),this._layers.forEach((h,g)=>{h._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let o=0,c=this.data.datasets.length;o<c;++o)this.getDatasetMeta(o).controller.configure();for(let o=0,c=this.data.datasets.length;o<c;++o)this._updateDataset(o,isFunction(e)?e({datasetIndex:o}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,o){const c=this.getDatasetMeta(e),h={meta:c,index:e,mode:o,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",h)!==!1&&(c.controller._update(o),h.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",h))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:c,height:h}=this._resizeBeforeDraw;this._resize(c,h),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const o=this._layers;for(e=0;e<o.length&&o[e].z<=0;++e)o[e].draw(this.chartArea);for(this._drawDatasets();e<o.length;++e)o[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const o=this._sortedMetasets,c=[];let h,g;for(h=0,g=o.length;h<g;++h){const b=o[h];(!e||b.visible)&&c.push(b)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let o=e.length-1;o>=0;--o)this._drawDataset(e[o]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const o=this.ctx,c=e._clip,h=!c.disabled,g=getDatasetArea(e,this.chartArea),b={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",b)!==!1&&(h&&clipArea(o,{left:c.left===!1?0:g.left-c.left,right:c.right===!1?this.width:g.right+c.right,top:c.top===!1?0:g.top-c.top,bottom:c.bottom===!1?this.height:g.bottom+c.bottom}),e.controller.draw(),h&&unclipArea(o),b.cancelable=!1,this.notifyPlugins("afterDatasetDraw",b))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,o,c,h){const g=Interaction.modes[o];return typeof g=="function"?g(this,e,c,h):[]}getDatasetMeta(e){const o=this.data.datasets[e],c=this._metasets;let h=c.filter(g=>g&&g._dataset===o).pop();return h||(h={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:o&&o.order||0,index:e,_dataset:o,_parsed:[],_sorted:!1},c.push(h)),h}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const o=this.data.datasets[e];if(!o)return!1;const c=this.getDatasetMeta(e);return typeof c.hidden=="boolean"?!c.hidden:!o.hidden}setDatasetVisibility(e,o){const c=this.getDatasetMeta(e);c.hidden=!o}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,o,c){const h=c?"show":"hide",g=this.getDatasetMeta(e),b=g.controller._resolveAnimations(void 0,h);defined(o)?(g.data[o].hidden=!c,this.update()):(this.setDatasetVisibility(e,c),b.update(g,{visible:c}),this.update($=>$.datasetIndex===e?h:void 0))}hide(e,o){this._updateVisibility(e,o,!1)}show(e,o){this._updateVisibility(e,o,!0)}_destroyDatasetMeta(e){const o=this._metasets[e];o&&o.controller&&o.controller._destroy(),delete this._metasets[e]}_stop(){let e,o;for(this.stop(),animator.remove(this),e=0,o=this.data.datasets.length;e<o;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:o}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,o),this.platform.releaseContext(o),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,o=this.platform,c=(g,b)=>{o.addEventListener(this,g,b),e[g]=b},h=(g,b,$)=>{g.offsetX=b,g.offsetY=$,this._eventHandler(g)};each(this.options.events,g=>c(g,h))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,o=this.platform,c=(j,rt)=>{o.addEventListener(this,j,rt),e[j]=rt},h=(j,rt)=>{e[j]&&(o.removeEventListener(this,j,rt),delete e[j])},g=(j,rt)=>{this.canvas&&this.resize(j,rt)};let b;const $=()=>{h("attach",$),this.attached=!0,this.resize(),c("resize",g),c("detach",b)};b=()=>{this.attached=!1,h("resize",g),this._stop(),this._resize(0,0),c("attach",$)},o.isAttached(this.canvas)?$():b()}unbindEvents(){each(this._listeners,(e,o)=>{this.platform.removeEventListener(this,o,e)}),this._listeners={},each(this._responsiveListeners,(e,o)=>{this.platform.removeEventListener(this,o,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,o,c){const h=c?"set":"remove";let g,b,$,j;for(o==="dataset"&&(g=this.getDatasetMeta(e[0].datasetIndex),g.controller["_"+h+"DatasetHoverStyle"]()),$=0,j=e.length;$<j;++$){b=e[$];const rt=b&&this.getDatasetMeta(b.datasetIndex).controller;rt&&rt[h+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const o=this._active||[],c=e.map(({datasetIndex:g,index:b})=>{const $=this.getDatasetMeta(g);if(!$)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:$.data[b],index:b}});!_elementsEqual(c,o)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,o))}notifyPlugins(e,o,c){return this._plugins.notify(this,e,o,c)}isPluginEnabled(e){return this._plugins._cache.filter(o=>o.plugin.id===e).length===1}_updateHoverStyles(e,o,c){const h=this.options.hover,g=(j,rt)=>j.filter(nt=>!rt.some(ot=>nt.datasetIndex===ot.datasetIndex&&nt.index===ot.index)),b=g(o,e),$=c?e:g(e,o);b.length&&this.updateHoverStyle(b,h.mode,!1),$.length&&h.mode&&this.updateHoverStyle($,h.mode,!0)}_eventHandler(e,o){const c={event:e,replay:o,cancelable:!0,inChartArea:this.isPointInArea(e)},h=b=>(b.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",c,h)===!1)return;const g=this._handleEvent(e,o,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,h),(g||c.changed)&&this.render(),this}_handleEvent(e,o,c){const{_active:h=[],options:g}=this,b=o,$=this._getActiveElements(e,h,c,b),j=_isClickEvent(e),rt=determineLastEvent(e,this._lastEvent,c,j);c&&(this._lastEvent=null,callback(g.onHover,[e,$,this],this),j&&callback(g.onClick,[e,$,this],this));const nt=!_elementsEqual($,h);return(nt||o)&&(this._active=$,this._updateHoverStyles($,h,o)),this._lastEvent=rt,nt}_getActiveElements(e,o,c,h){if(e.type==="mouseout")return[];if(!c)return o;const g=this.options.hover;return this.getElementsAtEventForMode(e,g.mode,g,h)}}El(Chart,"defaults",defaults),El(Chart,"instances",instances),El(Chart,"overrides",overrides),El(Chart,"registry",registry),El(Chart,"version",version$2),El(Chart,"getChart",getChart);function invalidatePlugins(){return each(Chart.instances,a=>a._plugins.invalidate())}function clipArc(a,e,o){const{startAngle:c,pixelMargin:h,x:g,y:b,outerRadius:$,innerRadius:j}=e;let rt=h/$;a.beginPath(),a.arc(g,b,$,c-rt,o+rt),j>h?(rt=h/j,a.arc(g,b,j,o+rt,c-rt,!0)):a.arc(g,b,h,o+HALF_PI,c-HALF_PI),a.closePath(),a.clip()}function toRadiusCorners(a){return _readValueToProps(a,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(a,e,o,c){const h=toRadiusCorners(a.options.borderRadius),g=(o-e)/2,b=Math.min(g,c*e/2),$=j=>{const rt=(o-Math.min(g,j))*c/2;return _limitValue(j,0,Math.min(g,rt))};return{outerStart:$(h.outerStart),outerEnd:$(h.outerEnd),innerStart:_limitValue(h.innerStart,0,b),innerEnd:_limitValue(h.innerEnd,0,b)}}function rThetaToXY(a,e,o,c){return{x:o+a*Math.cos(e),y:c+a*Math.sin(e)}}function pathArc(a,e,o,c,h,g){const{x:b,y:$,startAngle:j,pixelMargin:rt,innerRadius:nt}=e,ot=Math.max(e.outerRadius+c+o-rt,0),_t=nt>0?nt+c+o+rt:0;let Et=0;const It=h-j;if(c){const In=nt>0?nt-c:0,rn=ot>0?ot-c:0,Sr=(In+rn)/2,Tr=Sr!==0?It*Sr/(Sr+c):It;Et=(It-Tr)/2}const it=Math.max(.001,It*ot-o/PI)/ot,st=(It-it)/2,Mt=j+st+Et,bt=h-st-Et,{outerStart:Lt,outerEnd:pt,innerStart:Dt,innerEnd:wt}=parseBorderRadius$1(e,_t,ot,bt-Mt),Bt=ot-Lt,jt=ot-pt,hr=Mt+Lt/Bt,gr=bt-pt/jt,Cr=_t+Dt,wr=_t+wt,yr=Mt+Dt/Cr,xr=bt-wt/wr;if(a.beginPath(),g){const In=(hr+gr)/2;if(a.arc(b,$,ot,hr,In),a.arc(b,$,ot,In,gr),pt>0){const Ln=rThetaToXY(jt,gr,b,$);a.arc(Ln.x,Ln.y,pt,gr,bt+HALF_PI)}const rn=rThetaToXY(wr,bt,b,$);if(a.lineTo(rn.x,rn.y),wt>0){const Ln=rThetaToXY(wr,xr,b,$);a.arc(Ln.x,Ln.y,wt,bt+HALF_PI,xr+Math.PI)}const Sr=(bt-wt/_t+(Mt+Dt/_t))/2;if(a.arc(b,$,_t,bt-wt/_t,Sr,!0),a.arc(b,$,_t,Sr,Mt+Dt/_t,!0),Dt>0){const Ln=rThetaToXY(Cr,yr,b,$);a.arc(Ln.x,Ln.y,Dt,yr+Math.PI,Mt-HALF_PI)}const Tr=rThetaToXY(Bt,Mt,b,$);if(a.lineTo(Tr.x,Tr.y),Lt>0){const Ln=rThetaToXY(Bt,hr,b,$);a.arc(Ln.x,Ln.y,Lt,Mt-HALF_PI,hr)}}else{a.moveTo(b,$);const In=Math.cos(hr)*ot+b,rn=Math.sin(hr)*ot+$;a.lineTo(In,rn);const Sr=Math.cos(gr)*ot+b,Tr=Math.sin(gr)*ot+$;a.lineTo(Sr,Tr)}a.closePath()}function drawArc(a,e,o,c,h){const{fullCircles:g,startAngle:b,circumference:$}=e;let j=e.endAngle;if(g){pathArc(a,e,o,c,j,h);for(let rt=0;rt<g;++rt)a.fill();isNaN($)||(j=b+($%TAU||TAU))}return pathArc(a,e,o,c,j,h),a.fill(),j}function drawBorder(a,e,o,c,h){const{fullCircles:g,startAngle:b,circumference:$,options:j}=e,{borderWidth:rt,borderJoinStyle:nt,borderDash:ot,borderDashOffset:_t}=j,Et=j.borderAlign==="inner";if(!rt)return;a.setLineDash(ot||[]),a.lineDashOffset=_t,Et?(a.lineWidth=rt*2,a.lineJoin=nt||"round"):(a.lineWidth=rt,a.lineJoin=nt||"bevel");let It=e.endAngle;if(g){pathArc(a,e,o,c,It,h);for(let it=0;it<g;++it)a.stroke();isNaN($)||(It=b+($%TAU||TAU))}Et&&clipArc(a,e,It),g||(pathArc(a,e,o,c,It,h),a.stroke())}class ArcElement extends Element$1{constructor(o){super();El(this,"circumference");El(this,"endAngle");El(this,"fullCircles");El(this,"innerRadius");El(this,"outerRadius");El(this,"pixelMargin");El(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,o&&Object.assign(this,o)}inRange(o,c,h){const g=this.getProps(["x","y"],h),{angle:b,distance:$}=getAngleFromPoint(g,{x:o,y:c}),{startAngle:j,endAngle:rt,innerRadius:nt,outerRadius:ot,circumference:_t}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],h),Et=(this.options.spacing+this.options.borderWidth)/2,it=valueOrDefault(_t,rt-j)>=TAU||_angleBetween(b,j,rt),st=_isBetween($,nt+Et,ot+Et);return it&&st}getCenterPoint(o){const{x:c,y:h,startAngle:g,endAngle:b,innerRadius:$,outerRadius:j}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],o),{offset:rt,spacing:nt}=this.options,ot=(g+b)/2,_t=($+j+nt+rt)/2;return{x:c+Math.cos(ot)*_t,y:h+Math.sin(ot)*_t}}tooltipPosition(o){return this.getCenterPoint(o)}draw(o){const{options:c,circumference:h}=this,g=(c.offset||0)/4,b=(c.spacing||0)/2,$=c.circular;if(this.pixelMargin=c.borderAlign==="inner"?.33:0,this.fullCircles=h>TAU?Math.floor(h/TAU):0,h===0||this.innerRadius<0||this.outerRadius<0)return;o.save();const j=(this.startAngle+this.endAngle)/2;o.translate(Math.cos(j)*g,Math.sin(j)*g);const rt=1-Math.sin(Math.min(PI,h||0)),nt=g*rt;o.fillStyle=c.backgroundColor,o.strokeStyle=c.borderColor,drawArc(o,this,nt,b,$),drawBorder(o,this,nt,b,$),o.restore()}}El(ArcElement,"id","arc"),El(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),El(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),El(ArcElement,"descriptors",{_scriptable:!0,_indexable:o=>o!=="borderDash"});function setStyle(a,e,o=e){a.lineCap=valueOrDefault(o.borderCapStyle,e.borderCapStyle),a.setLineDash(valueOrDefault(o.borderDash,e.borderDash)),a.lineDashOffset=valueOrDefault(o.borderDashOffset,e.borderDashOffset),a.lineJoin=valueOrDefault(o.borderJoinStyle,e.borderJoinStyle),a.lineWidth=valueOrDefault(o.borderWidth,e.borderWidth),a.strokeStyle=valueOrDefault(o.borderColor,e.borderColor)}function lineTo(a,e,o){a.lineTo(o.x,o.y)}function getLineMethod(a){return a.stepped?_steppedLineTo:a.tension||a.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(a,e,o={}){const c=a.length,{start:h=0,end:g=c-1}=o,{start:b,end:$}=e,j=Math.max(h,b),rt=Math.min(g,$),nt=h<b&&g<b||h>$&&g>$;return{count:c,start:j,loop:e.loop,ilen:rt<j&&!nt?c+rt-j:rt-j}}function pathSegment(a,e,o,c){const{points:h,options:g}=e,{count:b,start:$,loop:j,ilen:rt}=pathVars(h,o,c),nt=getLineMethod(g);let{move:ot=!0,reverse:_t}=c||{},Et,It,it;for(Et=0;Et<=rt;++Et)It=h[($+(_t?rt-Et:Et))%b],!It.skip&&(ot?(a.moveTo(It.x,It.y),ot=!1):nt(a,it,It,_t,g.stepped),it=It);return j&&(It=h[($+(_t?rt:0))%b],nt(a,it,It,_t,g.stepped)),!!j}function fastPathSegment(a,e,o,c){const h=e.points,{count:g,start:b,ilen:$}=pathVars(h,o,c),{move:j=!0,reverse:rt}=c||{};let nt=0,ot=0,_t,Et,It,it,st,Mt;const bt=pt=>(b+(rt?$-pt:pt))%g,Lt=()=>{it!==st&&(a.lineTo(nt,st),a.lineTo(nt,it),a.lineTo(nt,Mt))};for(j&&(Et=h[bt(0)],a.moveTo(Et.x,Et.y)),_t=0;_t<=$;++_t){if(Et=h[bt(_t)],Et.skip)continue;const pt=Et.x,Dt=Et.y,wt=pt|0;wt===It?(Dt<it?it=Dt:Dt>st&&(st=Dt),nt=(ot*nt+pt)/++ot):(Lt(),a.lineTo(pt,Dt),It=wt,ot=0,it=st=Dt),Mt=Dt}Lt()}function _getSegmentMethod(a){const e=a.options,o=e.borderDash&&e.borderDash.length;return!a._decimated&&!a._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!o?fastPathSegment:pathSegment}function _getInterpolationMethod(a){return a.stepped?_steppedInterpolation:a.tension||a.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(a,e,o,c){let h=e._path;h||(h=e._path=new Path2D,e.path(h,o,c)&&h.closePath()),setStyle(a,e.options),a.stroke(h)}function strokePathDirect(a,e,o,c){const{segments:h,options:g}=e,b=_getSegmentMethod(e);for(const $ of h)setStyle(a,g,$.style),a.beginPath(),b(a,e,$,{start:o,end:o+c-1})&&a.closePath(),a.stroke()}const usePath2D=typeof Path2D=="function";function draw$2(a,e,o,c){usePath2D&&!e.options.segment?strokePathWithCache(a,e,o,c):strokePathDirect(a,e,o,c)}class LineElement extends Element$1{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,o){const c=this.options;if((c.tension||c.cubicInterpolationMode==="monotone")&&!c.stepped&&!this._pointsUpdated){const h=c.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,c,e,h,o),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,o=this.points;return e.length&&o[e[0].start]}last(){const e=this.segments,o=this.points,c=e.length;return c&&o[e[c-1].end]}interpolate(e,o){const c=this.options,h=e[o],g=this.points,b=_boundSegments(this,{property:o,start:h,end:h});if(!b.length)return;const $=[],j=_getInterpolationMethod(c);let rt,nt;for(rt=0,nt=b.length;rt<nt;++rt){const{start:ot,end:_t}=b[rt],Et=g[ot],It=g[_t];if(Et===It){$.push(Et);continue}const it=Math.abs((h-Et[o])/(It[o]-Et[o])),st=j(Et,It,it,c.stepped);st[o]=e[o],$.push(st)}return $.length===1?$[0]:$}pathSegment(e,o,c){return _getSegmentMethod(this)(e,this,o,c)}path(e,o,c){const h=this.segments,g=_getSegmentMethod(this);let b=this._loop;o=o||0,c=c||this.points.length-o;for(const $ of h)b&=g(e,this,$,{start:o,end:o+c-1});return!!b}draw(e,o,c,h){const g=this.options||{};(this.points||[]).length&&g.borderWidth&&(e.save(),draw$2(e,this,c,h),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}El(LineElement,"id","line"),El(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),El(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),El(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function inRange$1(a,e,o,c){const h=a.options,{[o]:g}=a.getProps([o],c);return Math.abs(e-g)<h.radius+h.hitRadius}class PointElement extends Element$1{constructor(o){super();El(this,"parsed");El(this,"skip");El(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,o&&Object.assign(this,o)}inRange(o,c,h){const g=this.options,{x:b,y:$}=this.getProps(["x","y"],h);return Math.pow(o-b,2)+Math.pow(c-$,2)<Math.pow(g.hitRadius+g.radius,2)}inXRange(o,c){return inRange$1(this,o,"x",c)}inYRange(o,c){return inRange$1(this,o,"y",c)}getCenterPoint(o){const{x:c,y:h}=this.getProps(["x","y"],o);return{x:c,y:h}}size(o){o=o||this.options||{};let c=o.radius||0;c=Math.max(c,c&&o.hoverRadius||0);const h=c&&o.borderWidth||0;return(c+h)*2}draw(o,c){const h=this.options;this.skip||h.radius<.1||!_isPointInArea(this,c,this.size(h)/2)||(o.strokeStyle=h.borderColor,o.lineWidth=h.borderWidth,o.fillStyle=h.backgroundColor,drawPoint$1(o,h,this.x,this.y))}getRange(){const o=this.options||{};return o.radius+o.hitRadius}}El(PointElement,"id","point"),El(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),El(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(a,e){const{x:o,y:c,base:h,width:g,height:b}=a.getProps(["x","y","base","width","height"],e);let $,j,rt,nt,ot;return a.horizontal?(ot=b/2,$=Math.min(o,h),j=Math.max(o,h),rt=c-ot,nt=c+ot):(ot=g/2,$=o-ot,j=o+ot,rt=Math.min(c,h),nt=Math.max(c,h)),{left:$,top:rt,right:j,bottom:nt}}function skipOrLimit(a,e,o,c){return a?0:_limitValue(e,o,c)}function parseBorderWidth(a,e,o){const c=a.options.borderWidth,h=a.borderSkipped,g=toTRBL(c);return{t:skipOrLimit(h.top,g.top,0,o),r:skipOrLimit(h.right,g.right,0,e),b:skipOrLimit(h.bottom,g.bottom,0,o),l:skipOrLimit(h.left,g.left,0,e)}}function parseBorderRadius(a,e,o){const{enableBorderRadius:c}=a.getProps(["enableBorderRadius"]),h=a.options.borderRadius,g=toTRBLCorners(h),b=Math.min(e,o),$=a.borderSkipped,j=c||isObject(h);return{topLeft:skipOrLimit(!j||$.top||$.left,g.topLeft,0,b),topRight:skipOrLimit(!j||$.top||$.right,g.topRight,0,b),bottomLeft:skipOrLimit(!j||$.bottom||$.left,g.bottomLeft,0,b),bottomRight:skipOrLimit(!j||$.bottom||$.right,g.bottomRight,0,b)}}function boundingRects(a){const e=getBarBounds(a),o=e.right-e.left,c=e.bottom-e.top,h=parseBorderWidth(a,o/2,c/2),g=parseBorderRadius(a,o/2,c/2);return{outer:{x:e.left,y:e.top,w:o,h:c,radius:g},inner:{x:e.left+h.l,y:e.top+h.t,w:o-h.l-h.r,h:c-h.t-h.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(h.t,h.l)),topRight:Math.max(0,g.topRight-Math.max(h.t,h.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(h.b,h.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(h.b,h.r))}}}}function inRange(a,e,o,c){const h=e===null,g=o===null,$=a&&!(h&&g)&&getBarBounds(a,c);return $&&(h||_isBetween(e,$.left,$.right))&&(g||_isBetween(o,$.top,$.bottom))}function hasRadius(a){return a.topLeft||a.topRight||a.bottomLeft||a.bottomRight}function addNormalRectPath(a,e){a.rect(e.x,e.y,e.w,e.h)}function inflateRect(a,e,o={}){const c=a.x!==o.x?-e:0,h=a.y!==o.y?-e:0,g=(a.x+a.w!==o.x+o.w?e:0)-c,b=(a.y+a.h!==o.y+o.h?e:0)-h;return{x:a.x+c,y:a.y+h,w:a.w+g,h:a.h+b,radius:a.radius}}class BarElement extends Element$1{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:o,options:{borderColor:c,backgroundColor:h}}=this,{inner:g,outer:b}=boundingRects(this),$=hasRadius(b.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(b.w!==g.w||b.h!==g.h)&&(e.beginPath(),$(e,inflateRect(b,o,g)),e.clip(),$(e,inflateRect(g,-o,b)),e.fillStyle=c,e.fill("evenodd")),e.beginPath(),$(e,inflateRect(g,o)),e.fillStyle=h,e.fill(),e.restore()}inRange(e,o,c){return inRange(this,e,o,c)}inXRange(e,o){return inRange(this,e,null,o)}inYRange(e,o){return inRange(this,null,e,o)}getCenterPoint(e){const{x:o,y:c,base:h,horizontal:g}=this.getProps(["x","y","base","horizontal"],e);return{x:g?(o+h)/2:o,y:g?c:(c+h)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}El(BarElement,"id","bar"),El(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),El(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=Object.freeze({__proto__:null,ArcElement,BarElement,LineElement,PointElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(a=>a.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(a){return BORDER_COLORS[a%BORDER_COLORS.length]}function getBackgroundColor(a){return BACKGROUND_COLORS[a%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(a,e){return a.borderColor=getBorderColor(e),a.backgroundColor=getBackgroundColor(e),++e}function colorizeDoughnutDataset(a,e){return a.backgroundColor=a.data.map(()=>getBorderColor(e++)),e}function colorizePolarAreaDataset(a,e){return a.backgroundColor=a.data.map(()=>getBackgroundColor(e++)),e}function getColorizer(a){let e=0;return(o,c)=>{const h=a.getDatasetMeta(c).controller;h instanceof DoughnutController?e=colorizeDoughnutDataset(o,e):h instanceof PolarAreaController?e=colorizePolarAreaDataset(o,e):h&&(e=colorizeDefaultDataset(o,e))}}function containsColorsDefinitions(a){let e;for(e in a)if(a[e].borderColor||a[e].backgroundColor)return!0;return!1}function containsColorsDefinition(a){return a&&(a.borderColor||a.backgroundColor)}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(a,e,o){if(!o.enabled)return;const{data:{datasets:c},options:h}=a.config,{elements:g}=h;if(!o.forceOverride&&(containsColorsDefinitions(c)||containsColorsDefinition(h)||g&&containsColorsDefinitions(g)))return;const b=getColorizer(a);c.forEach(b)}};function lttbDecimation(a,e,o,c,h){const g=h.samples||c;if(g>=o)return a.slice(e,e+o);const b=[],$=(o-2)/(g-2);let j=0;const rt=e+o-1;let nt=e,ot,_t,Et,It,it;for(b[j++]=a[nt],ot=0;ot<g-2;ot++){let st=0,Mt=0,bt;const Lt=Math.floor((ot+1)*$)+1+e,pt=Math.min(Math.floor((ot+2)*$)+1,o)+e,Dt=pt-Lt;for(bt=Lt;bt<pt;bt++)st+=a[bt].x,Mt+=a[bt].y;st/=Dt,Mt/=Dt;const wt=Math.floor(ot*$)+1+e,Bt=Math.min(Math.floor((ot+1)*$)+1,o)+e,{x:jt,y:hr}=a[nt];for(Et=It=-1,bt=wt;bt<Bt;bt++)It=.5*Math.abs((jt-st)*(a[bt].y-hr)-(jt-a[bt].x)*(Mt-hr)),It>Et&&(Et=It,_t=a[bt],it=bt);b[j++]=_t,nt=it}return b[j++]=a[rt],b}function minMaxDecimation(a,e,o,c){let h=0,g=0,b,$,j,rt,nt,ot,_t,Et,It,it;const st=[],Mt=e+o-1,bt=a[e].x,pt=a[Mt].x-bt;for(b=e;b<e+o;++b){$=a[b],j=($.x-bt)/pt*c,rt=$.y;const Dt=j|0;if(Dt===nt)rt<It?(It=rt,ot=b):rt>it&&(it=rt,_t=b),h=(g*h+$.x)/++g;else{const wt=b-1;if(!isNullOrUndef(ot)&&!isNullOrUndef(_t)){const Bt=Math.min(ot,_t),jt=Math.max(ot,_t);Bt!==Et&&Bt!==wt&&st.push({...a[Bt],x:h}),jt!==Et&&jt!==wt&&st.push({...a[jt],x:h})}b>0&&wt!==Et&&st.push(a[wt]),st.push($),nt=Dt,g=0,It=it=rt,ot=_t=Et=b}}return st}function cleanDecimatedDataset(a){if(a._decimated){const e=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function cleanDecimatedData(a){a.data.datasets.forEach(e=>{cleanDecimatedDataset(e)})}function getStartAndCountOfVisiblePointsSimplified(a,e){const o=e.length;let c=0,h;const{iScale:g}=a,{min:b,max:$,minDefined:j,maxDefined:rt}=g.getUserBounds();return j&&(c=_limitValue(_lookupByKey(e,g.axis,b).lo,0,o-1)),rt?h=_limitValue(_lookupByKey(e,g.axis,$).hi+1,c,o)-c:h=o-c,{start:c,count:h}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,e,o)=>{if(!o.enabled){cleanDecimatedData(a);return}const c=a.width;a.data.datasets.forEach((h,g)=>{const{_data:b,indexAxis:$}=h,j=a.getDatasetMeta(g),rt=b||h.data;if(resolve$1([$,a.options.indexAxis])==="y"||!j.controller.supportsDecimation)return;const nt=a.scales[j.xAxisID];if(nt.type!=="linear"&&nt.type!=="time"||a.options.parsing)return;let{start:ot,count:_t}=getStartAndCountOfVisiblePointsSimplified(j,rt);const Et=o.threshold||4*c;if(_t<=Et){cleanDecimatedDataset(h);return}isNullOrUndef(b)&&(h._data=rt,delete h.data,Object.defineProperty(h,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(it){this._data=it}}));let It;switch(o.algorithm){case"lttb":It=lttbDecimation(rt,ot,_t,c,o);break;case"min-max":It=minMaxDecimation(rt,ot,_t,c);break;default:throw new Error(`Unsupported decimation algorithm '${o.algorithm}'`)}h._decimated=It})},destroy(a){cleanDecimatedData(a)}};function _segments(a,e,o){const c=a.segments,h=a.points,g=e.points,b=[];for(const $ of c){let{start:j,end:rt}=$;rt=_findSegmentEnd(j,rt,h);const nt=_getBounds(o,h[j],h[rt],$.loop);if(!e.segments){b.push({source:$,target:nt,start:h[j],end:h[rt]});continue}const ot=_boundSegments(e,nt);for(const _t of ot){const Et=_getBounds(o,g[_t.start],g[_t.end],_t.loop),It=_boundSegment($,h,Et);for(const it of It)b.push({source:it,target:_t,start:{[o]:_getEdge(nt,Et,"start",Math.max)},end:{[o]:_getEdge(nt,Et,"end",Math.min)}})}}return b}function _getBounds(a,e,o,c){if(c)return;let h=e[a],g=o[a];return a==="angle"&&(h=_normalizeAngle(h),g=_normalizeAngle(g)),{property:a,start:h,end:g}}function _pointsFromSegments(a,e){const{x:o=null,y:c=null}=a||{},h=e.points,g=[];return e.segments.forEach(({start:b,end:$})=>{$=_findSegmentEnd(b,$,h);const j=h[b],rt=h[$];c!==null?(g.push({x:j.x,y:c}),g.push({x:rt.x,y:c})):o!==null&&(g.push({x:o,y:j.y}),g.push({x:o,y:rt.y}))}),g}function _findSegmentEnd(a,e,o){for(;e>a;e--){const c=o[e];if(!isNaN(c.x)&&!isNaN(c.y))break}return e}function _getEdge(a,e,o,c){return a&&e?c(a[o],e[o]):a?a[o]:e?e[o]:0}function _createBoundaryLine(a,e){let o=[],c=!1;return isArray(a)?(c=!0,o=a):o=_pointsFromSegments(a,e),o.length?new LineElement({points:o,options:{tension:0},_loop:c,_fullLoop:c}):null}function _shouldApplyFill(a){return a&&a.fill!==!1}function _resolveTarget(a,e,o){let h=a[e].fill;const g=[e];let b;if(!o)return h;for(;h!==!1&&g.indexOf(h)===-1;){if(!isNumberFinite(h))return h;if(b=a[h],!b)return!1;if(b.visible)return h;g.push(h),h=b.fill}return!1}function _decodeFill(a,e,o){const c=parseFillOption(a);if(isObject(c))return isNaN(c.value)?!1:c;let h=parseFloat(c);return isNumberFinite(h)&&Math.floor(h)===h?decodeTargetIndex(c[0],e,h,o):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function decodeTargetIndex(a,e,o,c){return(a==="-"||a==="+")&&(o=e+o),o===e||o<0||o>=c?!1:o}function _getTargetPixel(a,e){let o=null;return a==="start"?o=e.bottom:a==="end"?o=e.top:isObject(a)?o=e.getPixelForValue(a.value):e.getBasePixel&&(o=e.getBasePixel()),o}function _getTargetValue(a,e,o){let c;return a==="start"?c=o:a==="end"?c=e.options.reverse?e.min:e.max:isObject(a)?c=a.value:c=e.getBaseValue(),c}function parseFillOption(a){const e=a.options,o=e.fill;let c=valueOrDefault(o&&o.target,o);return c===void 0&&(c=!!e.backgroundColor),c===!1||c===null?!1:c===!0?"origin":c}function _buildStackLine(a){const{scale:e,index:o,line:c}=a,h=[],g=c.segments,b=c.points,$=getLinesBelow(e,o);$.push(_createBoundaryLine({x:null,y:e.bottom},c));for(let j=0;j<g.length;j++){const rt=g[j];for(let nt=rt.start;nt<=rt.end;nt++)addPointsBelow(h,b[nt],$)}return new LineElement({points:h,options:{}})}function getLinesBelow(a,e){const o=[],c=a.getMatchingVisibleMetas("line");for(let h=0;h<c.length;h++){const g=c[h];if(g.index===e)break;g.hidden||o.unshift(g.dataset)}return o}function addPointsBelow(a,e,o){const c=[];for(let h=0;h<o.length;h++){const g=o[h],{first:b,last:$,point:j}=findPoint(g,e,"x");if(!(!j||b&&$)){if(b)c.unshift(j);else if(a.push(j),!$)break}}a.push(...c)}function findPoint(a,e,o){const c=a.interpolate(e,o);if(!c)return{};const h=c[o],g=a.segments,b=a.points;let $=!1,j=!1;for(let rt=0;rt<g.length;rt++){const nt=g[rt],ot=b[nt.start][o],_t=b[nt.end][o];if(_isBetween(h,ot,_t)){$=h===ot,j=h===_t;break}}return{first:$,last:j,point:c}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,o,c){const{x:h,y:g,radius:b}=this;return o=o||{start:0,end:TAU},e.arc(h,g,b,o.end,o.start,!0),!c.bounds}interpolate(e){const{x:o,y:c,radius:h}=this,g=e.angle;return{x:o+Math.cos(g)*h,y:c+Math.sin(g)*h,angle:g}}}function _getTarget(a){const{chart:e,fill:o,line:c}=a;if(isNumberFinite(o))return getLineByIndex(e,o);if(o==="stack")return _buildStackLine(a);if(o==="shape")return!0;const h=computeBoundary(a);return h instanceof simpleArc?h:_createBoundaryLine(h,c)}function getLineByIndex(a,e){const o=a.getDatasetMeta(e);return o&&a.isDatasetVisible(e)?o.dataset:null}function computeBoundary(a){return(a.scale||{}).getPointPositionForValue?computeCircularBoundary(a):computeLinearBoundary(a)}function computeLinearBoundary(a){const{scale:e={},fill:o}=a,c=_getTargetPixel(o,e);if(isNumberFinite(c)){const h=e.isHorizontal();return{x:h?c:null,y:h?null:c}}return null}function computeCircularBoundary(a){const{scale:e,fill:o}=a,c=e.options,h=e.getLabels().length,g=c.reverse?e.max:e.min,b=_getTargetValue(o,e,g),$=[];if(c.grid.circular){const j=e.getPointPositionForValue(0,g);return new simpleArc({x:j.x,y:j.y,radius:e.getDistanceFromCenterForValue(b)})}for(let j=0;j<h;++j)$.push(e.getPointPositionForValue(j,b));return $}function _drawfill(a,e,o){const c=_getTarget(e),{line:h,scale:g,axis:b}=e,$=h.options,j=$.fill,rt=$.backgroundColor,{above:nt=rt,below:ot=rt}=j||{};c&&h.points.length&&(clipArea(a,o),doFill(a,{line:h,target:c,above:nt,below:ot,area:o,scale:g,axis:b}),unclipArea(a))}function doFill(a,e){const{line:o,target:c,above:h,below:g,area:b,scale:$}=e,j=o._loop?"angle":e.axis;a.save(),j==="x"&&g!==h&&(clipVertical(a,c,b.top),fill(a,{line:o,target:c,color:h,scale:$,property:j}),a.restore(),a.save(),clipVertical(a,c,b.bottom)),fill(a,{line:o,target:c,color:g,scale:$,property:j}),a.restore()}function clipVertical(a,e,o){const{segments:c,points:h}=e;let g=!0,b=!1;a.beginPath();for(const $ of c){const{start:j,end:rt}=$,nt=h[j],ot=h[_findSegmentEnd(j,rt,h)];g?(a.moveTo(nt.x,nt.y),g=!1):(a.lineTo(nt.x,o),a.lineTo(nt.x,nt.y)),b=!!e.pathSegment(a,$,{move:b}),b?a.closePath():a.lineTo(ot.x,o)}a.lineTo(e.first().x,o),a.closePath(),a.clip()}function fill(a,e){const{line:o,target:c,property:h,color:g,scale:b}=e,$=_segments(o,c,h);for(const{source:j,target:rt,start:nt,end:ot}of $){const{style:{backgroundColor:_t=g}={}}=j,Et=c!==!0;a.save(),a.fillStyle=_t,clipBounds(a,b,Et&&_getBounds(h,nt,ot)),a.beginPath();const It=!!o.pathSegment(a,j);let it;if(Et){It?a.closePath():interpolatedLineTo(a,c,ot,h);const st=!!c.pathSegment(a,rt,{move:It,reverse:!0});it=It&&st,it||interpolatedLineTo(a,c,nt,h)}a.closePath(),a.fill(it?"evenodd":"nonzero"),a.restore()}}function clipBounds(a,e,o){const{top:c,bottom:h}=e.chart.chartArea,{property:g,start:b,end:$}=o||{};g==="x"&&(a.beginPath(),a.rect(b,c,$-b,h-c),a.clip())}function interpolatedLineTo(a,e,o,c){const h=e.interpolate(o,c);h&&a.lineTo(h.x,h.y)}var index={id:"filler",afterDatasetsUpdate(a,e,o){const c=(a.data.datasets||[]).length,h=[];let g,b,$,j;for(b=0;b<c;++b)g=a.getDatasetMeta(b),$=g.dataset,j=null,$&&$.options&&$ instanceof LineElement&&(j={visible:a.isDatasetVisible(b),index:b,fill:_decodeFill($,b,c),chart:a,axis:g.controller.options.indexAxis,scale:g.vScale,line:$}),g.$filler=j,h.push(j);for(b=0;b<c;++b)j=h[b],!(!j||j.fill===!1)&&(j.fill=_resolveTarget(h,b,o.propagate))},beforeDraw(a,e,o){const c=o.drawTime==="beforeDraw",h=a.getSortedVisibleDatasetMetas(),g=a.chartArea;for(let b=h.length-1;b>=0;--b){const $=h[b].$filler;$&&($.line.updateControlPoints(g,$.axis),c&&$.fill&&_drawfill(a.ctx,$,g))}},beforeDatasetsDraw(a,e,o){if(o.drawTime!=="beforeDatasetsDraw")return;const c=a.getSortedVisibleDatasetMetas();for(let h=c.length-1;h>=0;--h){const g=c[h].$filler;_shouldApplyFill(g)&&_drawfill(a.ctx,g,a.chartArea)}},beforeDatasetDraw(a,e,o){const c=e.meta.$filler;!_shouldApplyFill(c)||o.drawTime!=="beforeDatasetDraw"||_drawfill(a.ctx,c,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(a,e)=>{let{boxHeight:o=e,boxWidth:c=e}=a;return a.usePointStyle&&(o=Math.min(o,e),c=a.pointStyleWidth||Math.min(c,e)),{boxWidth:c,boxHeight:o,itemHeight:Math.max(e,o)}},itemsEqual=(a,e)=>a!==null&&e!==null&&a.datasetIndex===e.datasetIndex&&a.index===e.index;class Legend extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,o,c){this.maxWidth=e,this.maxHeight=o,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let o=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(o=o.filter(c=>e.filter(c,this.chart.data))),e.sort&&(o=o.sort((c,h)=>e.sort(c,h,this.chart.data))),this.options.reverse&&o.reverse(),this.legendItems=o}fit(){const{options:e,ctx:o}=this;if(!e.display){this.width=this.height=0;return}const c=e.labels,h=toFont(c.font),g=h.size,b=this._computeTitleHeight(),{boxWidth:$,itemHeight:j}=getBoxSize(c,g);let rt,nt;o.font=h.string,this.isHorizontal()?(rt=this.maxWidth,nt=this._fitRows(b,g,$,j)+10):(nt=this.maxHeight,rt=this._fitCols(b,h,$,j)+10),this.width=Math.min(rt,e.maxWidth||this.maxWidth),this.height=Math.min(nt,e.maxHeight||this.maxHeight)}_fitRows(e,o,c,h){const{ctx:g,maxWidth:b,options:{labels:{padding:$}}}=this,j=this.legendHitBoxes=[],rt=this.lineWidths=[0],nt=h+$;let ot=e;g.textAlign="left",g.textBaseline="middle";let _t=-1,Et=-nt;return this.legendItems.forEach((It,it)=>{const st=c+o/2+g.measureText(It.text).width;(it===0||rt[rt.length-1]+st+2*$>b)&&(ot+=nt,rt[rt.length-(it>0?0:1)]=0,Et+=nt,_t++),j[it]={left:0,top:Et,row:_t,width:st,height:h},rt[rt.length-1]+=st+$}),ot}_fitCols(e,o,c,h){const{ctx:g,maxHeight:b,options:{labels:{padding:$}}}=this,j=this.legendHitBoxes=[],rt=this.columnSizes=[],nt=b-e;let ot=$,_t=0,Et=0,It=0,it=0;return this.legendItems.forEach((st,Mt)=>{const{itemWidth:bt,itemHeight:Lt}=calculateItemSize(c,o,g,st,h);Mt>0&&Et+Lt+2*$>nt&&(ot+=_t+$,rt.push({width:_t,height:Et}),It+=_t+$,it++,_t=Et=0),j[Mt]={left:It,top:Et,col:it,width:bt,height:Lt},_t=Math.max(_t,bt),Et+=Lt+$}),ot+=_t,rt.push({width:_t,height:Et}),ot}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:o,options:{align:c,labels:{padding:h},rtl:g}}=this,b=getRtlAdapter(g,this.left,this.width);if(this.isHorizontal()){let $=0,j=_alignStartEnd(c,this.left+h,this.right-this.lineWidths[$]);for(const rt of o)$!==rt.row&&($=rt.row,j=_alignStartEnd(c,this.left+h,this.right-this.lineWidths[$])),rt.top+=this.top+e+h,rt.left=b.leftForLtr(b.x(j),rt.width),j+=rt.width+h}else{let $=0,j=_alignStartEnd(c,this.top+e+h,this.bottom-this.columnSizes[$].height);for(const rt of o)rt.col!==$&&($=rt.col,j=_alignStartEnd(c,this.top+e+h,this.bottom-this.columnSizes[$].height)),rt.top=j,rt.left+=this.left+h,rt.left=b.leftForLtr(b.x(rt.left),rt.width),j+=rt.height+h}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:o,lineWidths:c,ctx:h}=this,{align:g,labels:b}=e,$=defaults.color,j=getRtlAdapter(e.rtl,this.left,this.width),rt=toFont(b.font),{padding:nt}=b,ot=rt.size,_t=ot/2;let Et;this.drawTitle(),h.textAlign=j.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=rt.string;const{boxWidth:It,boxHeight:it,itemHeight:st}=getBoxSize(b,ot),Mt=function(wt,Bt,jt){if(isNaN(It)||It<=0||isNaN(it)||it<0)return;h.save();const hr=valueOrDefault(jt.lineWidth,1);if(h.fillStyle=valueOrDefault(jt.fillStyle,$),h.lineCap=valueOrDefault(jt.lineCap,"butt"),h.lineDashOffset=valueOrDefault(jt.lineDashOffset,0),h.lineJoin=valueOrDefault(jt.lineJoin,"miter"),h.lineWidth=hr,h.strokeStyle=valueOrDefault(jt.strokeStyle,$),h.setLineDash(valueOrDefault(jt.lineDash,[])),b.usePointStyle){const gr={radius:it*Math.SQRT2/2,pointStyle:jt.pointStyle,rotation:jt.rotation,borderWidth:hr},Cr=j.xPlus(wt,It/2),wr=Bt+_t;drawPointLegend(h,gr,Cr,wr,b.pointStyleWidth&&It)}else{const gr=Bt+Math.max((ot-it)/2,0),Cr=j.leftForLtr(wt,It),wr=toTRBLCorners(jt.borderRadius);h.beginPath(),Object.values(wr).some(yr=>yr!==0)?addRoundedRectPath(h,{x:Cr,y:gr,w:It,h:it,radius:wr}):h.rect(Cr,gr,It,it),h.fill(),hr!==0&&h.stroke()}h.restore()},bt=function(wt,Bt,jt){renderText(h,jt.text,wt,Bt+st/2,rt,{strikethrough:jt.hidden,textAlign:j.textAlign(jt.textAlign)})},Lt=this.isHorizontal(),pt=this._computeTitleHeight();Lt?Et={x:_alignStartEnd(g,this.left+nt,this.right-c[0]),y:this.top+nt+pt,line:0}:Et={x:this.left+nt,y:_alignStartEnd(g,this.top+pt+nt,this.bottom-o[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const Dt=st+nt;this.legendItems.forEach((wt,Bt)=>{h.strokeStyle=wt.fontColor,h.fillStyle=wt.fontColor;const jt=h.measureText(wt.text).width,hr=j.textAlign(wt.textAlign||(wt.textAlign=b.textAlign)),gr=It+_t+jt;let Cr=Et.x,wr=Et.y;j.setWidth(this.width),Lt?Bt>0&&Cr+gr+nt>this.right&&(wr=Et.y+=Dt,Et.line++,Cr=Et.x=_alignStartEnd(g,this.left+nt,this.right-c[Et.line])):Bt>0&&wr+Dt>this.bottom&&(Cr=Et.x=Cr+o[Et.line].width+nt,Et.line++,wr=Et.y=_alignStartEnd(g,this.top+pt+nt,this.bottom-o[Et.line].height));const yr=j.x(Cr);if(Mt(yr,wr,wt),Cr=_textX(hr,Cr+It+_t,Lt?Cr+gr:this.right,e.rtl),bt(j.x(Cr),wr,wt),Lt)Et.x+=gr+nt;else if(typeof wt.text!="string"){const xr=rt.lineHeight;Et.y+=calculateLegendItemHeight(wt,xr)+nt}else Et.y+=Dt}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,o=e.title,c=toFont(o.font),h=toPadding(o.padding);if(!o.display)return;const g=getRtlAdapter(e.rtl,this.left,this.width),b=this.ctx,$=o.position,j=c.size/2,rt=h.top+j;let nt,ot=this.left,_t=this.width;if(this.isHorizontal())_t=Math.max(...this.lineWidths),nt=this.top+rt,ot=_alignStartEnd(e.align,ot,this.right-_t);else{const It=this.columnSizes.reduce((it,st)=>Math.max(it,st.height),0);nt=rt+_alignStartEnd(e.align,this.top,this.bottom-It-e.labels.padding-this._computeTitleHeight())}const Et=_alignStartEnd($,ot,ot+_t);b.textAlign=g.textAlign(_toLeftRightCenter($)),b.textBaseline="middle",b.strokeStyle=o.color,b.fillStyle=o.color,b.font=c.string,renderText(b,o.text,Et,nt,c)}_computeTitleHeight(){const e=this.options.title,o=toFont(e.font),c=toPadding(e.padding);return e.display?o.lineHeight+c.height:0}_getLegendItemAt(e,o){let c,h,g;if(_isBetween(e,this.left,this.right)&&_isBetween(o,this.top,this.bottom)){for(g=this.legendHitBoxes,c=0;c<g.length;++c)if(h=g[c],_isBetween(e,h.left,h.left+h.width)&&_isBetween(o,h.top,h.top+h.height))return this.legendItems[c]}return null}handleEvent(e){const o=this.options;if(!isListened(e.type,o))return;const c=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const h=this._hoveredItem,g=itemsEqual(h,c);h&&!g&&callback(o.onLeave,[e,h,this],this),this._hoveredItem=c,c&&!g&&callback(o.onHover,[e,c,this],this)}else c&&callback(o.onClick,[e,c,this],this)}}function calculateItemSize(a,e,o,c,h){const g=calculateItemWidth(c,a,e,o),b=calculateItemHeight(h,c,e.lineHeight);return{itemWidth:g,itemHeight:b}}function calculateItemWidth(a,e,o,c){let h=a.text;return h&&typeof h!="string"&&(h=h.reduce((g,b)=>g.length>b.length?g:b)),e+o.size/2+c.measureText(h).width}function calculateItemHeight(a,e,o){let c=a;return typeof e.text!="string"&&(c=calculateLegendItemHeight(e,o)),c}function calculateLegendItemHeight(a,e){const o=a.text?a.text.length:0;return e*o}function isListened(a,e){return!!((a==="mousemove"||a==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(a==="click"||a==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(a,e,o){const c=a.legend=new Legend({ctx:a.ctx,options:o,chart:a});layouts.configure(a,c,o),layouts.addBox(a,c)},stop(a){layouts.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,e,o){const c=a.legend;layouts.configure(a,c,o),c.options=o},afterUpdate(a){const e=a.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(a,e){e.replay||a.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,e,o){const c=e.datasetIndex,h=o.chart;h.isDatasetVisible(c)?(h.hide(c),e.hidden=!0):(h.show(c),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const e=a.data.datasets,{labels:{usePointStyle:o,pointStyle:c,textAlign:h,color:g,useBorderRadius:b,borderRadius:$}}=a.legend.options;return a._getSortedDatasetMetas().map(j=>{const rt=j.controller.getStyle(o?0:void 0),nt=toPadding(rt.borderWidth);return{text:e[j.index].label,fillStyle:rt.backgroundColor,fontColor:g,hidden:!j.visible,lineCap:rt.borderCapStyle,lineDash:rt.borderDash,lineDashOffset:rt.borderDashOffset,lineJoin:rt.borderJoinStyle,lineWidth:(nt.width+nt.height)/4,strokeStyle:rt.borderColor,pointStyle:c||rt.pointStyle,rotation:rt.rotation,textAlign:h||rt.textAlign,borderRadius:b&&($||rt.borderRadius),datasetIndex:j.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,o){const c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=o;const h=isArray(c.text)?c.text.length:1;this._padding=toPadding(c.padding);const g=h*toFont(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:o,left:c,bottom:h,right:g,options:b}=this,$=b.align;let j=0,rt,nt,ot;return this.isHorizontal()?(nt=_alignStartEnd($,c,g),ot=o+e,rt=g-c):(b.position==="left"?(nt=c+e,ot=_alignStartEnd($,h,o),j=PI*-.5):(nt=g-e,ot=_alignStartEnd($,o,h),j=PI*.5),rt=h-o),{titleX:nt,titleY:ot,maxWidth:rt,rotation:j}}draw(){const e=this.ctx,o=this.options;if(!o.display)return;const c=toFont(o.font),g=c.lineHeight/2+this._padding.top,{titleX:b,titleY:$,maxWidth:j,rotation:rt}=this._drawArgs(g);renderText(e,o.text,0,0,c,{color:o.color,maxWidth:j,rotation:rt,textAlign:_toLeftRightCenter(o.align),textBaseline:"middle",translation:[b,$]})}}function createTitle(a,e){const o=new Title({ctx:a.ctx,options:e,chart:a});layouts.configure(a,o,e),layouts.addBox(a,o),a.titleBlock=o}var plugin_title={id:"title",_element:Title,start(a,e,o){createTitle(a,o)},stop(a){const e=a.titleBlock;layouts.removeBox(a,e),delete a.titleBlock},beforeUpdate(a,e,o){const c=a.titleBlock;layouts.configure(a,c,o),c.options=o},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(a,e,o){const c=new Title({ctx:a.ctx,options:o,chart:a});layouts.configure(a,c,o),layouts.addBox(a,c),map.set(a,c)},stop(a){layouts.removeBox(a,map.get(a)),map.delete(a)},beforeUpdate(a,e,o){const c=map.get(a);layouts.configure(a,c,o),c.options=o},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(a){if(!a.length)return!1;let e,o,c=0,h=0,g=0;for(e=0,o=a.length;e<o;++e){const b=a[e].element;if(b&&b.hasValue()){const $=b.tooltipPosition();c+=$.x,h+=$.y,++g}}return{x:c/g,y:h/g}},nearest(a,e){if(!a.length)return!1;let o=e.x,c=e.y,h=Number.POSITIVE_INFINITY,g,b,$;for(g=0,b=a.length;g<b;++g){const j=a[g].element;if(j&&j.hasValue()){const rt=j.getCenterPoint(),nt=distanceBetweenPoints(e,rt);nt<h&&(h=nt,$=j)}}if($){const j=$.tooltipPosition();o=j.x,c=j.y}return{x:o,y:c}}};function pushOrConcat(a,e){return e&&(isArray(e)?Array.prototype.push.apply(a,e):a.push(e)),a}function splitNewlines(a){return(typeof a=="string"||a instanceof String)&&a.indexOf(`
`)>-1?a.split(`
`):a}function createTooltipItem(a,e){const{element:o,datasetIndex:c,index:h}=e,g=a.getDatasetMeta(c).controller,{label:b,value:$}=g.getLabelAndValue(h);return{chart:a,label:b,parsed:g.getParsed(h),raw:a.data.datasets[c].data[h],formattedValue:$,dataset:g.getDataset(),dataIndex:h,datasetIndex:c,element:o}}function getTooltipSize(a,e){const o=a.chart.ctx,{body:c,footer:h,title:g}=a,{boxWidth:b,boxHeight:$}=e,j=toFont(e.bodyFont),rt=toFont(e.titleFont),nt=toFont(e.footerFont),ot=g.length,_t=h.length,Et=c.length,It=toPadding(e.padding);let it=It.height,st=0,Mt=c.reduce((pt,Dt)=>pt+Dt.before.length+Dt.lines.length+Dt.after.length,0);if(Mt+=a.beforeBody.length+a.afterBody.length,ot&&(it+=ot*rt.lineHeight+(ot-1)*e.titleSpacing+e.titleMarginBottom),Mt){const pt=e.displayColors?Math.max($,j.lineHeight):j.lineHeight;it+=Et*pt+(Mt-Et)*j.lineHeight+(Mt-1)*e.bodySpacing}_t&&(it+=e.footerMarginTop+_t*nt.lineHeight+(_t-1)*e.footerSpacing);let bt=0;const Lt=function(pt){st=Math.max(st,o.measureText(pt).width+bt)};return o.save(),o.font=rt.string,each(a.title,Lt),o.font=j.string,each(a.beforeBody.concat(a.afterBody),Lt),bt=e.displayColors?b+2+e.boxPadding:0,each(c,pt=>{each(pt.before,Lt),each(pt.lines,Lt),each(pt.after,Lt)}),bt=0,o.font=nt.string,each(a.footer,Lt),o.restore(),st+=It.width,{width:st,height:it}}function determineYAlign(a,e){const{y:o,height:c}=e;return o<c/2?"top":o>a.height-c/2?"bottom":"center"}function doesNotFitWithAlign(a,e,o,c){const{x:h,width:g}=c,b=o.caretSize+o.caretPadding;if(a==="left"&&h+g+b>e.width||a==="right"&&h-g-b<0)return!0}function determineXAlign(a,e,o,c){const{x:h,width:g}=o,{width:b,chartArea:{left:$,right:j}}=a;let rt="center";return c==="center"?rt=h<=($+j)/2?"left":"right":h<=g/2?rt="left":h>=b-g/2&&(rt="right"),doesNotFitWithAlign(rt,a,e,o)&&(rt="center"),rt}function determineAlignment(a,e,o){const c=o.yAlign||e.yAlign||determineYAlign(a,o);return{xAlign:o.xAlign||e.xAlign||determineXAlign(a,e,o,c),yAlign:c}}function alignX(a,e){let{x:o,width:c}=a;return e==="right"?o-=c:e==="center"&&(o-=c/2),o}function alignY(a,e,o){let{y:c,height:h}=a;return e==="top"?c+=o:e==="bottom"?c-=h+o:c-=h/2,c}function getBackgroundPoint(a,e,o,c){const{caretSize:h,caretPadding:g,cornerRadius:b}=a,{xAlign:$,yAlign:j}=o,rt=h+g,{topLeft:nt,topRight:ot,bottomLeft:_t,bottomRight:Et}=toTRBLCorners(b);let It=alignX(e,$);const it=alignY(e,j,rt);return j==="center"?$==="left"?It+=rt:$==="right"&&(It-=rt):$==="left"?It-=Math.max(nt,_t)+h:$==="right"&&(It+=Math.max(ot,Et)+h),{x:_limitValue(It,0,c.width-e.width),y:_limitValue(it,0,c.height-e.height)}}function getAlignedX(a,e,o){const c=toPadding(o.padding);return e==="center"?a.x+a.width/2:e==="right"?a.x+a.width-c.right:a.x+c.left}function getBeforeAfterBodyLines(a){return pushOrConcat([],splitNewlines(a))}function createTooltipContext(a,e,o){return createContext(a,{tooltip:e,tooltipItems:o,type:"tooltip"})}function overrideCallbacks(a,e){const o=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return o?a.override(o):a}const defaultCallbacks={beforeTitle:noop,title(a){if(a.length>0){const e=a[0],o=e.chart.data.labels,c=o?o.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(c>0&&e.dataIndex<c)return o[e.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(a){if(this&&this.options&&this.options.mode==="dataset")return a.label+": "+a.formattedValue||a.formattedValue;let e=a.dataset.label||"";e&&(e+=": ");const o=a.formattedValue;return isNullOrUndef(o)||(e+=o),e},labelColor(a){const o=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:o.borderColor,backgroundColor:o.backgroundColor,borderWidth:o.borderWidth,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const o=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:o.pointStyle,rotation:o.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(a,e,o,c){const h=a[e].call(o,c);return typeof h>"u"?defaultCallbacks[e].call(o,c):h}class Tooltip extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const o=this.chart,c=this.options.setContext(this.getContext()),h=c.enabled&&o.options.animation&&c.animations,g=new Animations(this.chart,h);return h._cacheable&&(this._cachedAnimations=Object.freeze(g)),g}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,o){const{callbacks:c}=o,h=invokeCallbackWithFallback(c,"beforeTitle",this,e),g=invokeCallbackWithFallback(c,"title",this,e),b=invokeCallbackWithFallback(c,"afterTitle",this,e);let $=[];return $=pushOrConcat($,splitNewlines(h)),$=pushOrConcat($,splitNewlines(g)),$=pushOrConcat($,splitNewlines(b)),$}getBeforeBody(e,o){return getBeforeAfterBodyLines(invokeCallbackWithFallback(o.callbacks,"beforeBody",this,e))}getBody(e,o){const{callbacks:c}=o,h=[];return each(e,g=>{const b={before:[],lines:[],after:[]},$=overrideCallbacks(c,g);pushOrConcat(b.before,splitNewlines(invokeCallbackWithFallback($,"beforeLabel",this,g))),pushOrConcat(b.lines,invokeCallbackWithFallback($,"label",this,g)),pushOrConcat(b.after,splitNewlines(invokeCallbackWithFallback($,"afterLabel",this,g))),h.push(b)}),h}getAfterBody(e,o){return getBeforeAfterBodyLines(invokeCallbackWithFallback(o.callbacks,"afterBody",this,e))}getFooter(e,o){const{callbacks:c}=o,h=invokeCallbackWithFallback(c,"beforeFooter",this,e),g=invokeCallbackWithFallback(c,"footer",this,e),b=invokeCallbackWithFallback(c,"afterFooter",this,e);let $=[];return $=pushOrConcat($,splitNewlines(h)),$=pushOrConcat($,splitNewlines(g)),$=pushOrConcat($,splitNewlines(b)),$}_createItems(e){const o=this._active,c=this.chart.data,h=[],g=[],b=[];let $=[],j,rt;for(j=0,rt=o.length;j<rt;++j)$.push(createTooltipItem(this.chart,o[j]));return e.filter&&($=$.filter((nt,ot,_t)=>e.filter(nt,ot,_t,c))),e.itemSort&&($=$.sort((nt,ot)=>e.itemSort(nt,ot,c))),each($,nt=>{const ot=overrideCallbacks(e.callbacks,nt);h.push(invokeCallbackWithFallback(ot,"labelColor",this,nt)),g.push(invokeCallbackWithFallback(ot,"labelPointStyle",this,nt)),b.push(invokeCallbackWithFallback(ot,"labelTextColor",this,nt))}),this.labelColors=h,this.labelPointStyles=g,this.labelTextColors=b,this.dataPoints=$,$}update(e,o){const c=this.options.setContext(this.getContext()),h=this._active;let g,b=[];if(!h.length)this.opacity!==0&&(g={opacity:0});else{const $=positioners[c.position].call(this,h,this._eventPosition);b=this._createItems(c),this.title=this.getTitle(b,c),this.beforeBody=this.getBeforeBody(b,c),this.body=this.getBody(b,c),this.afterBody=this.getAfterBody(b,c),this.footer=this.getFooter(b,c);const j=this._size=getTooltipSize(this,c),rt=Object.assign({},$,j),nt=determineAlignment(this.chart,c,rt),ot=getBackgroundPoint(c,rt,nt,this.chart);this.xAlign=nt.xAlign,this.yAlign=nt.yAlign,g={opacity:1,x:ot.x,y:ot.y,width:j.width,height:j.height,caretX:$.x,caretY:$.y}}this._tooltipItems=b,this.$context=void 0,g&&this._resolveAnimations().update(this,g),e&&c.external&&c.external.call(this,{chart:this.chart,tooltip:this,replay:o})}drawCaret(e,o,c,h){const g=this.getCaretPosition(e,c,h);o.lineTo(g.x1,g.y1),o.lineTo(g.x2,g.y2),o.lineTo(g.x3,g.y3)}getCaretPosition(e,o,c){const{xAlign:h,yAlign:g}=this,{caretSize:b,cornerRadius:$}=c,{topLeft:j,topRight:rt,bottomLeft:nt,bottomRight:ot}=toTRBLCorners($),{x:_t,y:Et}=e,{width:It,height:it}=o;let st,Mt,bt,Lt,pt,Dt;return g==="center"?(pt=Et+it/2,h==="left"?(st=_t,Mt=st-b,Lt=pt+b,Dt=pt-b):(st=_t+It,Mt=st+b,Lt=pt-b,Dt=pt+b),bt=st):(h==="left"?Mt=_t+Math.max(j,nt)+b:h==="right"?Mt=_t+It-Math.max(rt,ot)-b:Mt=this.caretX,g==="top"?(Lt=Et,pt=Lt-b,st=Mt-b,bt=Mt+b):(Lt=Et+it,pt=Lt+b,st=Mt+b,bt=Mt-b),Dt=Lt),{x1:st,x2:Mt,x3:bt,y1:Lt,y2:pt,y3:Dt}}drawTitle(e,o,c){const h=this.title,g=h.length;let b,$,j;if(g){const rt=getRtlAdapter(c.rtl,this.x,this.width);for(e.x=getAlignedX(this,c.titleAlign,c),o.textAlign=rt.textAlign(c.titleAlign),o.textBaseline="middle",b=toFont(c.titleFont),$=c.titleSpacing,o.fillStyle=c.titleColor,o.font=b.string,j=0;j<g;++j)o.fillText(h[j],rt.x(e.x),e.y+b.lineHeight/2),e.y+=b.lineHeight+$,j+1===g&&(e.y+=c.titleMarginBottom-$)}}_drawColorBox(e,o,c,h,g){const b=this.labelColors[c],$=this.labelPointStyles[c],{boxHeight:j,boxWidth:rt}=g,nt=toFont(g.bodyFont),ot=getAlignedX(this,"left",g),_t=h.x(ot),Et=j<nt.lineHeight?(nt.lineHeight-j)/2:0,It=o.y+Et;if(g.usePointStyle){const it={radius:Math.min(rt,j)/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:1},st=h.leftForLtr(_t,rt)+rt/2,Mt=It+j/2;e.strokeStyle=g.multiKeyBackground,e.fillStyle=g.multiKeyBackground,drawPoint$1(e,it,st,Mt),e.strokeStyle=b.borderColor,e.fillStyle=b.backgroundColor,drawPoint$1(e,it,st,Mt)}else{e.lineWidth=isObject(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,e.strokeStyle=b.borderColor,e.setLineDash(b.borderDash||[]),e.lineDashOffset=b.borderDashOffset||0;const it=h.leftForLtr(_t,rt),st=h.leftForLtr(h.xPlus(_t,1),rt-2),Mt=toTRBLCorners(b.borderRadius);Object.values(Mt).some(bt=>bt!==0)?(e.beginPath(),e.fillStyle=g.multiKeyBackground,addRoundedRectPath(e,{x:it,y:It,w:rt,h:j,radius:Mt}),e.fill(),e.stroke(),e.fillStyle=b.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:st,y:It+1,w:rt-2,h:j-2,radius:Mt}),e.fill()):(e.fillStyle=g.multiKeyBackground,e.fillRect(it,It,rt,j),e.strokeRect(it,It,rt,j),e.fillStyle=b.backgroundColor,e.fillRect(st,It+1,rt-2,j-2))}e.fillStyle=this.labelTextColors[c]}drawBody(e,o,c){const{body:h}=this,{bodySpacing:g,bodyAlign:b,displayColors:$,boxHeight:j,boxWidth:rt,boxPadding:nt}=c,ot=toFont(c.bodyFont);let _t=ot.lineHeight,Et=0;const It=getRtlAdapter(c.rtl,this.x,this.width),it=function(jt){o.fillText(jt,It.x(e.x+Et),e.y+_t/2),e.y+=_t+g},st=It.textAlign(b);let Mt,bt,Lt,pt,Dt,wt,Bt;for(o.textAlign=b,o.textBaseline="middle",o.font=ot.string,e.x=getAlignedX(this,st,c),o.fillStyle=c.bodyColor,each(this.beforeBody,it),Et=$&&st!=="right"?b==="center"?rt/2+nt:rt+2+nt:0,pt=0,wt=h.length;pt<wt;++pt){for(Mt=h[pt],bt=this.labelTextColors[pt],o.fillStyle=bt,each(Mt.before,it),Lt=Mt.lines,$&&Lt.length&&(this._drawColorBox(o,e,pt,It,c),_t=Math.max(ot.lineHeight,j)),Dt=0,Bt=Lt.length;Dt<Bt;++Dt)it(Lt[Dt]),_t=ot.lineHeight;each(Mt.after,it)}Et=0,_t=ot.lineHeight,each(this.afterBody,it),e.y-=g}drawFooter(e,o,c){const h=this.footer,g=h.length;let b,$;if(g){const j=getRtlAdapter(c.rtl,this.x,this.width);for(e.x=getAlignedX(this,c.footerAlign,c),e.y+=c.footerMarginTop,o.textAlign=j.textAlign(c.footerAlign),o.textBaseline="middle",b=toFont(c.footerFont),o.fillStyle=c.footerColor,o.font=b.string,$=0;$<g;++$)o.fillText(h[$],j.x(e.x),e.y+b.lineHeight/2),e.y+=b.lineHeight+c.footerSpacing}}drawBackground(e,o,c,h){const{xAlign:g,yAlign:b}=this,{x:$,y:j}=e,{width:rt,height:nt}=c,{topLeft:ot,topRight:_t,bottomLeft:Et,bottomRight:It}=toTRBLCorners(h.cornerRadius);o.fillStyle=h.backgroundColor,o.strokeStyle=h.borderColor,o.lineWidth=h.borderWidth,o.beginPath(),o.moveTo($+ot,j),b==="top"&&this.drawCaret(e,o,c,h),o.lineTo($+rt-_t,j),o.quadraticCurveTo($+rt,j,$+rt,j+_t),b==="center"&&g==="right"&&this.drawCaret(e,o,c,h),o.lineTo($+rt,j+nt-It),o.quadraticCurveTo($+rt,j+nt,$+rt-It,j+nt),b==="bottom"&&this.drawCaret(e,o,c,h),o.lineTo($+Et,j+nt),o.quadraticCurveTo($,j+nt,$,j+nt-Et),b==="center"&&g==="left"&&this.drawCaret(e,o,c,h),o.lineTo($,j+ot),o.quadraticCurveTo($,j,$+ot,j),o.closePath(),o.fill(),h.borderWidth>0&&o.stroke()}_updateAnimationTarget(e){const o=this.chart,c=this.$animations,h=c&&c.x,g=c&&c.y;if(h||g){const b=positioners[e.position].call(this,this._active,this._eventPosition);if(!b)return;const $=this._size=getTooltipSize(this,e),j=Object.assign({},b,this._size),rt=determineAlignment(o,e,j),nt=getBackgroundPoint(e,j,rt,o);(h._to!==nt.x||g._to!==nt.y)&&(this.xAlign=rt.xAlign,this.yAlign=rt.yAlign,this.width=$.width,this.height=$.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,nt))}}_willRender(){return!!this.opacity}draw(e){const o=this.options.setContext(this.getContext());let c=this.opacity;if(!c)return;this._updateAnimationTarget(o);const h={width:this.width,height:this.height},g={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;const b=toPadding(o.padding),$=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&$&&(e.save(),e.globalAlpha=c,this.drawBackground(g,e,h,o),overrideTextDirection(e,o.textDirection),g.y+=b.top,this.drawTitle(g,e,o),this.drawBody(g,e,o),this.drawFooter(g,e,o),restoreTextDirection(e,o.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,o){const c=this._active,h=e.map(({datasetIndex:$,index:j})=>{const rt=this.chart.getDatasetMeta($);if(!rt)throw new Error("Cannot find a dataset at index "+$);return{datasetIndex:$,element:rt.data[j],index:j}}),g=!_elementsEqual(c,h),b=this._positionChanged(h,o);(g||b)&&(this._active=h,this._eventPosition=o,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,o,c=!0){if(o&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const h=this.options,g=this._active||[],b=this._getActiveElements(e,g,o,c),$=this._positionChanged(b,e),j=o||!_elementsEqual(b,g)||$;return j&&(this._active=b,(h.enabled||h.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,o))),j}_getActiveElements(e,o,c,h){const g=this.options;if(e.type==="mouseout")return[];if(!h)return o.filter($=>this.chart.data.datasets[$.datasetIndex]&&this.chart.getDatasetMeta($.datasetIndex).controller.getParsed($.index)!==void 0);const b=this.chart.getElementsAtEventForMode(e,g.mode,g,c);return g.reverse&&b.reverse(),b}_positionChanged(e,o){const{caretX:c,caretY:h,options:g}=this,b=positioners[g.position].call(this,e,o);return b!==!1&&(c!==b.x||h!==b.y)}}El(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(a,e,o){o&&(a.tooltip=new Tooltip({chart:a,options:o}))},beforeUpdate(a,e,o){a.tooltip&&a.tooltip.initialize(o)},reset(a,e,o){a.tooltip&&a.tooltip.initialize(o)},afterDraw(a){const e=a.tooltip;if(e&&e._willRender()){const o={tooltip:e};if(a.notifyPlugins("beforeTooltipDraw",{...o,cancelable:!0})===!1)return;e.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",o)}},afterEvent(a,e){if(a.tooltip){const o=e.replay;a.tooltip.handleEvent(e.event,o,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,e)=>e.bodyFont.size,boxWidth:(a,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>a!=="filter"&&a!=="itemSort"&&a!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(a,e,o,c)=>(typeof e=="string"?(o=a.push(e)-1,c.unshift({index:o,label:e})):isNaN(e)&&(o=null),o);function findOrAddLabel(a,e,o,c){const h=a.indexOf(e);if(h===-1)return addIfString(a,e,o,c);const g=a.lastIndexOf(e);return h!==g?o:h}const validIndex=(a,e)=>a===null?null:_limitValue(Math.round(a),0,e);function _getLabelForValue(a){const e=this.getLabels();return a>=0&&a<e.length?e[a]:a}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const o=this._addedLabels;if(o.length){const c=this.getLabels();for(const{index:h,label:g}of o)c[h]===g&&c.splice(h,1);this._addedLabels=[]}super.init(e)}parse(e,o){if(isNullOrUndef(e))return null;const c=this.getLabels();return o=isFinite(o)&&c[o]===e?o:findOrAddLabel(c,e,valueOrDefault(o,e),this._addedLabels),validIndex(o,c.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:o}=this.getUserBounds();let{min:c,max:h}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(c=0),o||(h=this.getLabels().length-1)),this.min=c,this.max=h}buildTicks(){const e=this.min,o=this.max,c=this.options.offset,h=[];let g=this.getLabels();g=e===0&&o===g.length-1?g:g.slice(e,o+1),this._valueRange=Math.max(g.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let b=e;b<=o;b++)h.push({value:b});return h}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const o=this.ticks;return e<0||e>o.length-1?null:this.getPixelForValue(o[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}El(CategoryScale,"id","category"),El(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(a,e){const o=[],{bounds:h,step:g,min:b,max:$,precision:j,count:rt,maxTicks:nt,maxDigits:ot,includeBounds:_t}=a,Et=g||1,It=nt-1,{min:it,max:st}=e,Mt=!isNullOrUndef(b),bt=!isNullOrUndef($),Lt=!isNullOrUndef(rt),pt=(st-it)/(ot+1);let Dt=niceNum((st-it)/It/Et)*Et,wt,Bt,jt,hr;if(Dt<1e-14&&!Mt&&!bt)return[{value:it},{value:st}];hr=Math.ceil(st/Dt)-Math.floor(it/Dt),hr>It&&(Dt=niceNum(hr*Dt/It/Et)*Et),isNullOrUndef(j)||(wt=Math.pow(10,j),Dt=Math.ceil(Dt*wt)/wt),h==="ticks"?(Bt=Math.floor(it/Dt)*Dt,jt=Math.ceil(st/Dt)*Dt):(Bt=it,jt=st),Mt&&bt&&g&&almostWhole(($-b)/g,Dt/1e3)?(hr=Math.round(Math.min(($-b)/Dt,nt)),Dt=($-b)/hr,Bt=b,jt=$):Lt?(Bt=Mt?b:Bt,jt=bt?$:jt,hr=rt-1,Dt=(jt-Bt)/hr):(hr=(jt-Bt)/Dt,almostEquals(hr,Math.round(hr),Dt/1e3)?hr=Math.round(hr):hr=Math.ceil(hr));const gr=Math.max(_decimalPlaces(Dt),_decimalPlaces(Bt));wt=Math.pow(10,isNullOrUndef(j)?gr:j),Bt=Math.round(Bt*wt)/wt,jt=Math.round(jt*wt)/wt;let Cr=0;for(Mt&&(_t&&Bt!==b?(o.push({value:b}),Bt<b&&Cr++,almostEquals(Math.round((Bt+Cr*Dt)*wt)/wt,b,relativeLabelSize(b,pt,a))&&Cr++):Bt<b&&Cr++);Cr<hr;++Cr){const wr=Math.round((Bt+Cr*Dt)*wt)/wt;if(bt&&wr>$)break;o.push({value:wr})}return bt&&_t&&jt!==$?o.length&&almostEquals(o[o.length-1].value,$,relativeLabelSize($,pt,a))?o[o.length-1].value=$:o.push({value:$}):(!bt||jt===$)&&o.push({value:jt}),o}function relativeLabelSize(a,e,{horizontal:o,minRotation:c}){const h=toRadians(c),g=(o?Math.sin(h):Math.cos(h))||.001,b=.75*e*(""+a).length;return Math.min(e/g,b)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,o){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:o,maxDefined:c}=this.getUserBounds();let{min:h,max:g}=this;const b=j=>h=o?h:j,$=j=>g=c?g:j;if(e){const j=sign(h),rt=sign(g);j<0&&rt<0?$(0):j>0&&rt>0&&b(0)}if(h===g){let j=g===0?1:Math.abs(g*.05);$(g+j),e||b(h-j)}this.min=h,this.max=g}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:o,stepSize:c}=e,h;return c?(h=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,h>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${h} ticks. Limiting to 1000.`),h=1e3)):(h=this.computeTickLimit(),o=o||11),o&&(h=Math.min(o,h)),h}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,o=e.ticks;let c=this.getTickLimit();c=Math.max(2,c);const h={maxTicks:c,bounds:e.bounds,min:e.min,max:e.max,precision:o.precision,step:o.stepSize,count:o.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:o.minRotation||0,includeBounds:o.includeBounds!==!1},g=this._range||this,b=generateTicks$1(h,g);return e.bounds==="ticks"&&_setMinAndMaxByKey(b,this,"value"),e.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}configure(){const e=this.ticks;let o=this.min,c=this.max;if(super.configure(),this.options.offset&&e.length){const h=(c-o)/Math.max(e.length-1,1)/2;o-=h,c+=h}this._startValue=o,this._endValue=c,this._valueRange=c-o}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:o}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(o)?o:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),o=e?this.width:this.height,c=toRadians(this.options.ticks.minRotation),h=(e?Math.sin(c):Math.cos(c))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(o/Math.min(40,g.lineHeight/h))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}El(LinearScale,"id","linear"),El(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const log10Floor=a=>Math.floor(log10(a)),changeExponent=(a,e)=>Math.pow(10,log10Floor(a)+e);function isMajor(a){return a/Math.pow(10,log10Floor(a))===1}function steps(a,e,o){const c=Math.pow(10,o),h=Math.floor(a/c);return Math.ceil(e/c)-h}function startExp(a,e){const o=e-a;let c=log10Floor(o);for(;steps(a,e,c)>10;)c++;for(;steps(a,e,c)<10;)c--;return Math.min(c,log10Floor(a))}function generateTicks(a,{min:e,max:o}){e=finiteOrDefault(a.min,e);const c=[],h=log10Floor(e);let g=startExp(e,o),b=g<0?Math.pow(10,Math.abs(g)):1;const $=Math.pow(10,g),j=h>g?Math.pow(10,h):0,rt=Math.round((e-j)*b)/b,nt=Math.floor((e-j)/$/10)*$*10;let ot=Math.floor((rt-nt)/Math.pow(10,g)),_t=finiteOrDefault(a.min,Math.round((j+nt+ot*Math.pow(10,g))*b)/b);for(;_t<o;)c.push({value:_t,major:isMajor(_t),significand:ot}),ot>=10?ot=ot<15?15:20:ot++,ot>=20&&(g++,ot=2,b=g>=0?1:b),_t=Math.round((j+nt+ot*Math.pow(10,g))*b)/b;const Et=finiteOrDefault(a.max,_t);return c.push({value:Et,major:isMajor(Et),significand:ot}),c}class LogarithmicScale extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,o){const c=LinearScaleBase.prototype.parse.apply(this,[e,o]);if(c===0){this._zero=!0;return}return isNumberFinite(c)&&c>0?c:null}determineDataLimits(){const{min:e,max:o}=this.getMinMax(!0);this.min=isNumberFinite(e)?Math.max(0,e):null,this.max=isNumberFinite(o)?Math.max(0,o):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=e===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:o}=this.getUserBounds();let c=this.min,h=this.max;const g=$=>c=e?c:$,b=$=>h=o?h:$;c===h&&(c<=0?(g(1),b(10)):(g(changeExponent(c,-1)),b(changeExponent(h,1)))),c<=0&&g(changeExponent(h,-1)),h<=0&&b(changeExponent(c,1)),this.min=c,this.max=h}buildTicks(){const e=this.options,o={min:this._userMin,max:this._userMax},c=generateTicks(o,this);return e.bounds==="ticks"&&_setMinAndMaxByKey(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(e){return e===void 0?"0":formatNumber(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=log10(e),this._valueRange=log10(this.max)-log10(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(log10(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const o=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+o*this._valueRange)}}El(LogarithmicScale,"id","logarithmic"),El(LogarithmicScale,"defaults",{ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}});function getTickBackdropHeight(a){const e=a.ticks;if(e.display&&a.display){const o=toPadding(e.backdropPadding);return valueOrDefault(e.font&&e.font.size,defaults.font.size)+o.height}return 0}function measureLabelSize$1(a,e,o){return o=isArray(o)?o:[o],{w:_longestText(a,e.string,o),h:o.length*e.lineHeight}}function determineLimits(a,e,o,c,h){return a===c||a===h?{start:e-o/2,end:e+o/2}:a<c||a>h?{start:e-o,end:e}:{start:e,end:e+o}}function fitWithPointLabels(a){const e={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},o=Object.assign({},e),c=[],h=[],g=a._pointLabels.length,b=a.options.pointLabels,$=b.centerPointLabels?PI/g:0;for(let j=0;j<g;j++){const rt=b.setContext(a.getPointLabelContext(j));h[j]=rt.padding;const nt=a.getPointPosition(j,a.drawingArea+h[j],$),ot=toFont(rt.font),_t=measureLabelSize$1(a.ctx,ot,a._pointLabels[j]);c[j]=_t;const Et=_normalizeAngle(a.getIndexAngle(j)+$),It=Math.round(toDegrees(Et)),it=determineLimits(It,nt.x,_t.w,0,180),st=determineLimits(It,nt.y,_t.h,90,270);updateLimits$1(o,e,Et,it,st)}a.setCenterPoint(e.l-o.l,o.r-e.r,e.t-o.t,o.b-e.b),a._pointLabelItems=buildPointLabelItems(a,c,h)}function updateLimits$1(a,e,o,c,h){const g=Math.abs(Math.sin(o)),b=Math.abs(Math.cos(o));let $=0,j=0;c.start<e.l?($=(e.l-c.start)/g,a.l=Math.min(a.l,e.l-$)):c.end>e.r&&($=(c.end-e.r)/g,a.r=Math.max(a.r,e.r+$)),h.start<e.t?(j=(e.t-h.start)/b,a.t=Math.min(a.t,e.t-j)):h.end>e.b&&(j=(h.end-e.b)/b,a.b=Math.max(a.b,e.b+j))}function createPointLabelItem(a,e,o){const c=a.drawingArea,{extra:h,additionalAngle:g,padding:b,size:$}=o,j=a.getPointPosition(e,c+h+b,g),rt=Math.round(toDegrees(_normalizeAngle(j.angle+HALF_PI))),nt=yForAngle(j.y,$.h,rt),ot=getTextAlignForAngle(rt),_t=leftForTextAlign(j.x,$.w,ot);return{visible:!0,x:j.x,y:nt,textAlign:ot,left:_t,top:nt,right:_t+$.w,bottom:nt+$.h}}function isNotOverlapped(a,e){if(!e)return!0;const{left:o,top:c,right:h,bottom:g}=a;return!(_isPointInArea({x:o,y:c},e)||_isPointInArea({x:o,y:g},e)||_isPointInArea({x:h,y:c},e)||_isPointInArea({x:h,y:g},e))}function buildPointLabelItems(a,e,o){const c=[],h=a._pointLabels.length,g=a.options,{centerPointLabels:b,display:$}=g.pointLabels,j={extra:getTickBackdropHeight(g)/2,additionalAngle:b?PI/h:0};let rt;for(let nt=0;nt<h;nt++){j.padding=o[nt],j.size=e[nt];const ot=createPointLabelItem(a,nt,j);c.push(ot),$==="auto"&&(ot.visible=isNotOverlapped(ot,rt),ot.visible&&(rt=ot))}return c}function getTextAlignForAngle(a){return a===0||a===180?"center":a<180?"left":"right"}function leftForTextAlign(a,e,o){return o==="right"?a-=e:o==="center"&&(a-=e/2),a}function yForAngle(a,e,o){return o===90||o===270?a-=e/2:(o>270||o<90)&&(a-=e),a}function drawPointLabelBox(a,e,o){const{left:c,top:h,right:g,bottom:b}=o,{backdropColor:$}=e;if(!isNullOrUndef($)){const j=toTRBLCorners(e.borderRadius),rt=toPadding(e.backdropPadding);a.fillStyle=$;const nt=c-rt.left,ot=h-rt.top,_t=g-c+rt.width,Et=b-h+rt.height;Object.values(j).some(It=>It!==0)?(a.beginPath(),addRoundedRectPath(a,{x:nt,y:ot,w:_t,h:Et,radius:j}),a.fill()):a.fillRect(nt,ot,_t,Et)}}function drawPointLabels(a,e){const{ctx:o,options:{pointLabels:c}}=a;for(let h=e-1;h>=0;h--){const g=a._pointLabelItems[h];if(!g.visible)continue;const b=c.setContext(a.getPointLabelContext(h));drawPointLabelBox(o,b,g);const $=toFont(b.font),{x:j,y:rt,textAlign:nt}=g;renderText(o,a._pointLabels[h],j,rt+$.lineHeight/2,$,{color:b.color,textAlign:nt,textBaseline:"middle"})}}function pathRadiusLine(a,e,o,c){const{ctx:h}=a;if(o)h.arc(a.xCenter,a.yCenter,e,0,TAU);else{let g=a.getPointPosition(0,e);h.moveTo(g.x,g.y);for(let b=1;b<c;b++)g=a.getPointPosition(b,e),h.lineTo(g.x,g.y)}}function drawRadiusLine(a,e,o,c,h){const g=a.ctx,b=e.circular,{color:$,lineWidth:j}=e;!b&&!c||!$||!j||o<0||(g.save(),g.strokeStyle=$,g.lineWidth=j,g.setLineDash(h.dash),g.lineDashOffset=h.dashOffset,g.beginPath(),pathRadiusLine(a,o,b,c),g.closePath(),g.stroke(),g.restore())}function createPointLabelContext(a,e,o){return createContext(a,{label:o,index:e,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=toPadding(getTickBackdropHeight(this.options)/2),o=this.width=this.maxWidth-e.width,c=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+o/2+e.left),this.yCenter=Math.floor(this.top+c/2+e.top),this.drawingArea=Math.floor(Math.min(o,c)/2)}determineDataLimits(){const{min:e,max:o}=this.getMinMax(!1);this.min=isNumberFinite(e)&&!isNaN(e)?e:0,this.max=isNumberFinite(o)&&!isNaN(o)?o:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(e){LinearScaleBase.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((o,c)=>{const h=callback(this.options.pointLabels.callback,[o,c],this);return h||h===0?h:""}).filter((o,c)=>this.chart.getDataVisibility(c))}fit(){const e=this.options;e.display&&e.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,o,c,h){this.xCenter+=Math.floor((e-o)/2),this.yCenter+=Math.floor((c-h)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,o,c,h))}getIndexAngle(e){const o=TAU/(this._pointLabels.length||1),c=this.options.startAngle||0;return _normalizeAngle(e*o+toRadians(c))}getDistanceFromCenterForValue(e){if(isNullOrUndef(e))return NaN;const o=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*o:(e-this.min)*o}getValueForDistanceFromCenter(e){if(isNullOrUndef(e))return NaN;const o=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-o:this.min+o}getPointLabelContext(e){const o=this._pointLabels||[];if(e>=0&&e<o.length){const c=o[e];return createPointLabelContext(this.getContext(),e,c)}}getPointPosition(e,o,c=0){const h=this.getIndexAngle(e)-HALF_PI+c;return{x:Math.cos(h)*o+this.xCenter,y:Math.sin(h)*o+this.yCenter,angle:h}}getPointPositionForValue(e,o){return this.getPointPosition(e,this.getDistanceFromCenterForValue(o))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:o,top:c,right:h,bottom:g}=this._pointLabelItems[e];return{left:o,top:c,right:h,bottom:g}}drawBackground(){const{backgroundColor:e,grid:{circular:o}}=this.options;if(e){const c=this.ctx;c.save(),c.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),o,this._pointLabels.length),c.closePath(),c.fillStyle=e,c.fill(),c.restore()}}drawGrid(){const e=this.ctx,o=this.options,{angleLines:c,grid:h,border:g}=o,b=this._pointLabels.length;let $,j,rt;if(o.pointLabels.display&&drawPointLabels(this,b),h.display&&this.ticks.forEach((nt,ot)=>{if(ot!==0){j=this.getDistanceFromCenterForValue(nt.value);const _t=this.getContext(ot),Et=h.setContext(_t),It=g.setContext(_t);drawRadiusLine(this,Et,j,b,It)}}),c.display){for(e.save(),$=b-1;$>=0;$--){const nt=c.setContext(this.getPointLabelContext($)),{color:ot,lineWidth:_t}=nt;!_t||!ot||(e.lineWidth=_t,e.strokeStyle=ot,e.setLineDash(nt.borderDash),e.lineDashOffset=nt.borderDashOffset,j=this.getDistanceFromCenterForValue(o.ticks.reverse?this.min:this.max),rt=this.getPointPosition($,j),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(rt.x,rt.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,o=this.options,c=o.ticks;if(!c.display)return;const h=this.getIndexAngle(0);let g,b;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(h),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(($,j)=>{if(j===0&&!o.reverse)return;const rt=c.setContext(this.getContext(j)),nt=toFont(rt.font);if(g=this.getDistanceFromCenterForValue(this.ticks[j].value),rt.showLabelBackdrop){e.font=nt.string,b=e.measureText($.label).width,e.fillStyle=rt.backdropColor;const ot=toPadding(rt.backdropPadding);e.fillRect(-b/2-ot.left,-g-nt.size/2-ot.top,b+ot.width,nt.size+ot.height)}renderText(e,$.label,0,-g,nt,{color:rt.color,strokeColor:rt.textStrokeColor,strokeWidth:rt.textStrokeWidth})}),e.restore()}drawTitle(){}}El(RadialLinearScale,"id","radialLinear"),El(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),El(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),El(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(a,e){return a-e}function parse(a,e){if(isNullOrUndef(e))return null;const o=a._adapter,{parser:c,round:h,isoWeekday:g}=a._parseOpts;let b=e;return typeof c=="function"&&(b=c(b)),isNumberFinite(b)||(b=typeof c=="string"?o.parse(b,c):o.parse(b)),b===null?null:(h&&(b=h==="week"&&(isNumber(g)||g===!0)?o.startOf(b,"isoWeek",g):o.startOf(b,h)),+b)}function determineUnitForAutoTicks(a,e,o,c){const h=UNITS.length;for(let g=UNITS.indexOf(a);g<h-1;++g){const b=INTERVALS[UNITS[g]],$=b.steps?b.steps:Number.MAX_SAFE_INTEGER;if(b.common&&Math.ceil((o-e)/($*b.size))<=c)return UNITS[g]}return UNITS[h-1]}function determineUnitForFormatting(a,e,o,c,h){for(let g=UNITS.length-1;g>=UNITS.indexOf(o);g--){const b=UNITS[g];if(INTERVALS[b].common&&a._adapter.diff(h,c,b)>=e-1)return b}return UNITS[o?UNITS.indexOf(o):0]}function determineMajorUnit(a){for(let e=UNITS.indexOf(a)+1,o=UNITS.length;e<o;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(a,e,o){if(!o)a[e]=!0;else if(o.length){const{lo:c,hi:h}=_lookup(o,e),g=o[c]>=e?o[c]:o[h];a[g]=!0}}function setMajorTicks(a,e,o,c){const h=a._adapter,g=+h.startOf(e[0].value,c),b=e[e.length-1].value;let $,j;for($=g;$<=b;$=+h.add($,1,c))j=o[$],j>=0&&(e[j].major=!0);return e}function ticksFromTimestamps(a,e,o){const c=[],h={},g=e.length;let b,$;for(b=0;b<g;++b)$=e[b],h[$]=b,c.push({value:$,major:!1});return g===0||!o?c:setMajorTicks(a,c,h,o)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,o={}){const c=e.time||(e.time={}),h=this._adapter=new adapters._date(e.adapters.date);h.init(o),mergeIf(c.displayFormats,h.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(e),this._normalized=o.normalized}parse(e,o){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,o=this._adapter,c=e.time.unit||"day";let{min:h,max:g,minDefined:b,maxDefined:$}=this.getUserBounds();function j(rt){!b&&!isNaN(rt.min)&&(h=Math.min(h,rt.min)),!$&&!isNaN(rt.max)&&(g=Math.max(g,rt.max))}(!b||!$)&&(j(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&j(this.getMinMax(!1))),h=isNumberFinite(h)&&!isNaN(h)?h:+o.startOf(Date.now(),c),g=isNumberFinite(g)&&!isNaN(g)?g:+o.endOf(Date.now(),c)+1,this.min=Math.min(h,g-1),this.max=Math.max(h+1,g)}_getLabelBounds(){const e=this.getLabelTimestamps();let o=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return e.length&&(o=e[0],c=e[e.length-1]),{min:o,max:c}}buildTicks(){const e=this.options,o=e.time,c=e.ticks,h=c.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&h.length&&(this.min=this._userMin||h[0],this.max=this._userMax||h[h.length-1]);const g=this.min,b=this.max,$=_filterBetween(h,g,b);return this._unit=o.unit||(c.autoSkip?determineUnitForAutoTicks(o.minUnit,this.min,this.max,this._getLabelCapacity(g)):determineUnitForFormatting(this,$.length,o.minUnit,this.min,this.max)),this._majorUnit=!c.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(h),e.reverse&&$.reverse(),ticksFromTimestamps(this,$,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o=0,c=0,h,g;this.options.offset&&e.length&&(h=this.getDecimalForValue(e[0]),e.length===1?o=1-h:o=(this.getDecimalForValue(e[1])-h)/2,g=this.getDecimalForValue(e[e.length-1]),e.length===1?c=g:c=(g-this.getDecimalForValue(e[e.length-2]))/2);const b=e.length<3?.5:.25;o=_limitValue(o,0,b),c=_limitValue(c,0,b),this._offsets={start:o,end:c,factor:1/(o+1+c)}}_generate(){const e=this._adapter,o=this.min,c=this.max,h=this.options,g=h.time,b=g.unit||determineUnitForAutoTicks(g.minUnit,o,c,this._getLabelCapacity(o)),$=valueOrDefault(h.ticks.stepSize,1),j=b==="week"?g.isoWeekday:!1,rt=isNumber(j)||j===!0,nt={};let ot=o,_t,Et;if(rt&&(ot=+e.startOf(ot,"isoWeek",j)),ot=+e.startOf(ot,rt?"day":b),e.diff(c,o,b)>1e5*$)throw new Error(o+" and "+c+" are too far apart with stepSize of "+$+" "+b);const It=h.ticks.source==="data"&&this.getDataTimestamps();for(_t=ot,Et=0;_t<c;_t=+e.add(_t,$,b),Et++)addTick(nt,_t,It);return(_t===c||h.bounds==="ticks"||Et===1)&&addTick(nt,_t,It),Object.keys(nt).sort(sorter).map(it=>+it)}getLabelForValue(e){const o=this._adapter,c=this.options.time;return c.tooltipFormat?o.format(e,c.tooltipFormat):o.format(e,c.displayFormats.datetime)}format(e,o){const h=this.options.time.displayFormats,g=this._unit,b=o||h[g];return this._adapter.format(e,b)}_tickFormatFunction(e,o,c,h){const g=this.options,b=g.ticks.callback;if(b)return callback(b,[e,o,c],this);const $=g.time.displayFormats,j=this._unit,rt=this._majorUnit,nt=j&&$[j],ot=rt&&$[rt],_t=c[o],Et=rt&&ot&&_t&&_t.major;return this._adapter.format(e,h||(Et?ot:nt))}generateTickLabels(e){let o,c,h;for(o=0,c=e.length;o<c;++o)h=e[o],h.label=this._tickFormatFunction(h.value,o,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const o=this._offsets,c=this.getDecimalForValue(e);return this.getPixelForDecimal((o.start+c)*o.factor)}getValueForPixel(e){const o=this._offsets,c=this.getDecimalForPixel(e)/o.factor-o.end;return this.min+c*(this.max-this.min)}_getLabelSize(e){const o=this.options.ticks,c=this.ctx.measureText(e).width,h=toRadians(this.isHorizontal()?o.maxRotation:o.minRotation),g=Math.cos(h),b=Math.sin(h),$=this._resolveTickFontOptions(0).size;return{w:c*g+$*b,h:c*b+$*g}}_getLabelCapacity(e){const o=this.options.time,c=o.displayFormats,h=c[o.unit]||c.millisecond,g=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),h),b=this._getLabelSize(g),$=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return $>0?$:1}getDataTimestamps(){let e=this._cache.data||[],o,c;if(e.length)return e;const h=this.getMatchingVisibleMetas();if(this._normalized&&h.length)return this._cache.data=h[0].controller.getAllParsedValues(this);for(o=0,c=h.length;o<c;++o)e=e.concat(h[o].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let o,c;if(e.length)return e;const h=this.getLabels();for(o=0,c=h.length;o<c;++o)e.push(parse(this,h[o]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}El(TimeScale,"id","time"),El(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(a,e,o){let c=0,h=a.length-1,g,b,$,j;o?(e>=a[c].pos&&e<=a[h].pos&&({lo:c,hi:h}=_lookupByKey(a,"pos",e)),{pos:g,time:$}=a[c],{pos:b,time:j}=a[h]):(e>=a[c].time&&e<=a[h].time&&({lo:c,hi:h}=_lookupByKey(a,"time",e)),{time:g,pos:$}=a[c],{time:b,pos:j}=a[h]);const rt=b-g;return rt?$+(j-$)*(e-g)/rt:$}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),o=this._table=this.buildLookupTable(e);this._minPos=interpolate(o,this.min),this._tableRange=interpolate(o,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:o,max:c}=this,h=[],g=[];let b,$,j,rt,nt;for(b=0,$=e.length;b<$;++b)rt=e[b],rt>=o&&rt<=c&&h.push(rt);if(h.length<2)return[{time:o,pos:0},{time:c,pos:1}];for(b=0,$=h.length;b<$;++b)nt=h[b+1],j=h[b-1],rt=h[b],Math.round((nt+j)/2)!==rt&&g.push({time:rt,pos:b/($-1)});return g}_generate(){const e=this.min,o=this.max;let c=super.getDataTimestamps();return(!c.includes(e)||!c.length)&&c.splice(0,0,e),(!c.includes(o)||c.length===1)&&c.push(o),c.sort((h,g)=>h-g)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const o=this.getDataTimestamps(),c=this.getLabelTimestamps();return o.length&&c.length?e=this.normalize(o.concat(c)):e=o.length?o:c,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const o=this._offsets,c=this.getDecimalForPixel(e)/o.factor-o.end;return interpolate(this._table,c*this._tableRange+this._minPos,!0)}}El(TimeSeriesScale,"id","timeseries"),El(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];var Ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var tr={exports:{}},pn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr;function Si(){if(Dr)return pn;Dr=1;var a=React,e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b($,j,rt){var nt,ot={},_t=null,Et=null;rt!==void 0&&(_t=""+rt),j.key!==void 0&&(_t=""+j.key),j.ref!==void 0&&(Et=j.ref);for(nt in j)c.call(j,nt)&&!g.hasOwnProperty(nt)&&(ot[nt]=j[nt]);if($&&$.defaultProps)for(nt in j=$.defaultProps,j)ot[nt]===void 0&&(ot[nt]=j[nt]);return{$$typeof:e,type:$,key:_t,ref:Et,props:ot,_owner:h.current}}return pn.Fragment=o,pn.jsx=b,pn.jsxs=b,pn}tr.exports=Si();var Re=tr.exports,Lr={exports:{}};(function(a){(function(e){var o=/^\s+/,c=/\s+$/,h=0,g=e.round,b=e.min,$=e.max,j=e.random;function rt($n,Kn){if($n=$n||"",Kn=Kn||{},$n instanceof rt)return $n;if(!(this instanceof rt))return new rt($n,Kn);var Bn=nt($n);this._originalInput=$n,this._r=Bn.r,this._g=Bn.g,this._b=Bn.b,this._a=Bn.a,this._roundA=g(100*this._a)/100,this._format=Kn.format||Bn.format,this._gradientType=Kn.gradientType,this._r<1&&(this._r=g(this._r)),this._g<1&&(this._g=g(this._g)),this._b<1&&(this._b=g(this._b)),this._ok=Bn.ok,this._tc_id=h++}rt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $n=this.toRgb();return($n.r*299+$n.g*587+$n.b*114)/1e3},getLuminance:function(){var $n=this.toRgb(),Kn,Bn,co,vs,Ts,Fs;return Kn=$n.r/255,Bn=$n.g/255,co=$n.b/255,Kn<=.03928?vs=Kn/12.92:vs=e.pow((Kn+.055)/1.055,2.4),Bn<=.03928?Ts=Bn/12.92:Ts=e.pow((Bn+.055)/1.055,2.4),co<=.03928?Fs=co/12.92:Fs=e.pow((co+.055)/1.055,2.4),.2126*vs+.7152*Ts+.0722*Fs},setAlpha:function($n){return this._a=Ln($n),this._roundA=g(100*this._a)/100,this},toHsv:function(){var $n=It(this._r,this._g,this._b);return{h:$n.h*360,s:$n.s,v:$n.v,a:this._a}},toHsvString:function(){var $n=It(this._r,this._g,this._b),Kn=g($n.h*360),Bn=g($n.s*100),co=g($n.v*100);return this._a==1?"hsv("+Kn+", "+Bn+"%, "+co+"%)":"hsva("+Kn+", "+Bn+"%, "+co+"%, "+this._roundA+")"},toHsl:function(){var $n=_t(this._r,this._g,this._b);return{h:$n.h*360,s:$n.s,l:$n.l,a:this._a}},toHslString:function(){var $n=_t(this._r,this._g,this._b),Kn=g($n.h*360),Bn=g($n.s*100),co=g($n.l*100);return this._a==1?"hsl("+Kn+", "+Bn+"%, "+co+"%)":"hsla("+Kn+", "+Bn+"%, "+co+"%, "+this._roundA+")"},toHex:function($n){return st(this._r,this._g,this._b,$n)},toHexString:function($n){return"#"+this.toHex($n)},toHex8:function($n){return Mt(this._r,this._g,this._b,this._a,$n)},toHex8String:function($n){return"#"+this.toHex8($n)},toRgb:function(){return{r:g(this._r),g:g(this._g),b:g(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+g(this._r)+", "+g(this._g)+", "+g(this._b)+")":"rgba("+g(this._r)+", "+g(this._g)+", "+g(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:g(Fn(this._r,255)*100)+"%",g:g(Fn(this._g,255)*100)+"%",b:g(Fn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+g(Fn(this._r,255)*100)+"%, "+g(Fn(this._g,255)*100)+"%, "+g(Fn(this._b,255)*100)+"%)":"rgba("+g(Fn(this._r,255)*100)+"%, "+g(Fn(this._g,255)*100)+"%, "+g(Fn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Sr[st(this._r,this._g,this._b,!0)]||!1},toFilter:function($n){var Kn="#"+bt(this._r,this._g,this._b,this._a),Bn=Kn,co=this._gradientType?"GradientType = 1, ":"";if($n){var vs=rt($n);Bn="#"+bt(vs._r,vs._g,vs._b,vs._a)}return"progid:DXImageTransform.Microsoft.gradient("+co+"startColorstr="+Kn+",endColorstr="+Bn+")"},toString:function($n){var Kn=!!$n;$n=$n||this._format;var Bn=!1,co=this._a<1&&this._a>=0,vs=!Kn&&co&&($n==="hex"||$n==="hex6"||$n==="hex3"||$n==="hex4"||$n==="hex8"||$n==="name");return vs?$n==="name"&&this._a===0?this.toName():this.toRgbString():($n==="rgb"&&(Bn=this.toRgbString()),$n==="prgb"&&(Bn=this.toPercentageRgbString()),($n==="hex"||$n==="hex6")&&(Bn=this.toHexString()),$n==="hex3"&&(Bn=this.toHexString(!0)),$n==="hex4"&&(Bn=this.toHex8String(!0)),$n==="hex8"&&(Bn=this.toHex8String()),$n==="name"&&(Bn=this.toName()),$n==="hsl"&&(Bn=this.toHslString()),$n==="hsv"&&(Bn=this.toHsvString()),Bn||this.toHexString())},clone:function(){return rt(this.toString())},_applyModification:function($n,Kn){var Bn=$n.apply(null,[this].concat([].slice.call(Kn)));return this._r=Bn._r,this._g=Bn._g,this._b=Bn._b,this.setAlpha(Bn._a),this},lighten:function(){return this._applyModification(wt,arguments)},brighten:function(){return this._applyModification(Bt,arguments)},darken:function(){return this._applyModification(jt,arguments)},desaturate:function(){return this._applyModification(Lt,arguments)},saturate:function(){return this._applyModification(pt,arguments)},greyscale:function(){return this._applyModification(Dt,arguments)},spin:function(){return this._applyModification(hr,arguments)},_applyCombination:function($n,Kn){return $n.apply(null,[this].concat([].slice.call(Kn)))},analogous:function(){return this._applyCombination(xr,arguments)},complement:function(){return this._applyCombination(gr,arguments)},monochromatic:function(){return this._applyCombination(In,arguments)},splitcomplement:function(){return this._applyCombination(yr,arguments)},triad:function(){return this._applyCombination(Cr,arguments)},tetrad:function(){return this._applyCombination(wr,arguments)}},rt.fromRatio=function($n,Kn){if(typeof $n=="object"){var Bn={};for(var co in $n)$n.hasOwnProperty(co)&&(co==="a"?Bn[co]=$n[co]:Bn[co]=bo($n[co]));$n=Bn}return rt($n,Kn)};function nt($n){var Kn={r:0,g:0,b:0},Bn=1,co=null,vs=null,Ts=null,Fs=!1,Os=!1;return typeof $n=="string"&&($n=cs($n)),typeof $n=="object"&&(gs($n.r)&&gs($n.g)&&gs($n.b)?(Kn=ot($n.r,$n.g,$n.b),Fs=!0,Os=String($n.r).substr(-1)==="%"?"prgb":"rgb"):gs($n.h)&&gs($n.s)&&gs($n.v)?(co=bo($n.s),vs=bo($n.v),Kn=it($n.h,co,vs),Fs=!0,Os="hsv"):gs($n.h)&&gs($n.s)&&gs($n.l)&&(co=bo($n.s),Ts=bo($n.l),Kn=Et($n.h,co,Ts),Fs=!0,Os="hsl"),$n.hasOwnProperty("a")&&(Bn=$n.a)),Bn=Ln(Bn),{ok:Fs,format:$n.format||Os,r:b(255,$(Kn.r,0)),g:b(255,$(Kn.g,0)),b:b(255,$(Kn.b,0)),a:Bn}}function ot($n,Kn,Bn){return{r:Fn($n,255)*255,g:Fn(Kn,255)*255,b:Fn(Bn,255)*255}}function _t($n,Kn,Bn){$n=Fn($n,255),Kn=Fn(Kn,255),Bn=Fn(Bn,255);var co=$($n,Kn,Bn),vs=b($n,Kn,Bn),Ts,Fs,Os=(co+vs)/2;if(co==vs)Ts=Fs=0;else{var Ns=co-vs;switch(Fs=Os>.5?Ns/(2-co-vs):Ns/(co+vs),co){case $n:Ts=(Kn-Bn)/Ns+(Kn<Bn?6:0);break;case Kn:Ts=(Bn-$n)/Ns+2;break;case Bn:Ts=($n-Kn)/Ns+4;break}Ts/=6}return{h:Ts,s:Fs,l:Os}}function Et($n,Kn,Bn){var co,vs,Ts;$n=Fn($n,360),Kn=Fn(Kn,100),Bn=Fn(Bn,100);function Fs(Ps,Ks,Bs){return Bs<0&&(Bs+=1),Bs>1&&(Bs-=1),Bs<1/6?Ps+(Ks-Ps)*6*Bs:Bs<1/2?Ks:Bs<2/3?Ps+(Ks-Ps)*(2/3-Bs)*6:Ps}if(Kn===0)co=vs=Ts=Bn;else{var Os=Bn<.5?Bn*(1+Kn):Bn+Kn-Bn*Kn,Ns=2*Bn-Os;co=Fs(Ns,Os,$n+1/3),vs=Fs(Ns,Os,$n),Ts=Fs(Ns,Os,$n-1/3)}return{r:co*255,g:vs*255,b:Ts*255}}function It($n,Kn,Bn){$n=Fn($n,255),Kn=Fn(Kn,255),Bn=Fn(Bn,255);var co=$($n,Kn,Bn),vs=b($n,Kn,Bn),Ts,Fs,Os=co,Ns=co-vs;if(Fs=co===0?0:Ns/co,co==vs)Ts=0;else{switch(co){case $n:Ts=(Kn-Bn)/Ns+(Kn<Bn?6:0);break;case Kn:Ts=(Bn-$n)/Ns+2;break;case Bn:Ts=($n-Kn)/Ns+4;break}Ts/=6}return{h:Ts,s:Fs,v:Os}}function it($n,Kn,Bn){$n=Fn($n,360)*6,Kn=Fn(Kn,100),Bn=Fn(Bn,100);var co=e.floor($n),vs=$n-co,Ts=Bn*(1-Kn),Fs=Bn*(1-vs*Kn),Os=Bn*(1-(1-vs)*Kn),Ns=co%6,Ps=[Bn,Fs,Ts,Ts,Os,Bn][Ns],Ks=[Os,Bn,Bn,Fs,Ts,Ts][Ns],Bs=[Ts,Ts,Os,Bn,Bn,Fs][Ns];return{r:Ps*255,g:Ks*255,b:Bs*255}}function st($n,Kn,Bn,co){var vs=[wo(g($n).toString(16)),wo(g(Kn).toString(16)),wo(g(Bn).toString(16))];return co&&vs[0].charAt(0)==vs[0].charAt(1)&&vs[1].charAt(0)==vs[1].charAt(1)&&vs[2].charAt(0)==vs[2].charAt(1)?vs[0].charAt(0)+vs[1].charAt(0)+vs[2].charAt(0):vs.join("")}function Mt($n,Kn,Bn,co,vs){var Ts=[wo(g($n).toString(16)),wo(g(Kn).toString(16)),wo(g(Bn).toString(16)),wo(es(co))];return vs&&Ts[0].charAt(0)==Ts[0].charAt(1)&&Ts[1].charAt(0)==Ts[1].charAt(1)&&Ts[2].charAt(0)==Ts[2].charAt(1)&&Ts[3].charAt(0)==Ts[3].charAt(1)?Ts[0].charAt(0)+Ts[1].charAt(0)+Ts[2].charAt(0)+Ts[3].charAt(0):Ts.join("")}function bt($n,Kn,Bn,co){var vs=[wo(es(co)),wo(g($n).toString(16)),wo(g(Kn).toString(16)),wo(g(Bn).toString(16))];return vs.join("")}rt.equals=function($n,Kn){return!$n||!Kn?!1:rt($n).toRgbString()==rt(Kn).toRgbString()},rt.random=function(){return rt.fromRatio({r:j(),g:j(),b:j()})};function Lt($n,Kn){Kn=Kn===0?0:Kn||10;var Bn=rt($n).toHsl();return Bn.s-=Kn/100,Bn.s=Or(Bn.s),rt(Bn)}function pt($n,Kn){Kn=Kn===0?0:Kn||10;var Bn=rt($n).toHsl();return Bn.s+=Kn/100,Bn.s=Or(Bn.s),rt(Bn)}function Dt($n){return rt($n).desaturate(100)}function wt($n,Kn){Kn=Kn===0?0:Kn||10;var Bn=rt($n).toHsl();return Bn.l+=Kn/100,Bn.l=Or(Bn.l),rt(Bn)}function Bt($n,Kn){Kn=Kn===0?0:Kn||10;var Bn=rt($n).toRgb();return Bn.r=$(0,b(255,Bn.r-g(255*-(Kn/100)))),Bn.g=$(0,b(255,Bn.g-g(255*-(Kn/100)))),Bn.b=$(0,b(255,Bn.b-g(255*-(Kn/100)))),rt(Bn)}function jt($n,Kn){Kn=Kn===0?0:Kn||10;var Bn=rt($n).toHsl();return Bn.l-=Kn/100,Bn.l=Or(Bn.l),rt(Bn)}function hr($n,Kn){var Bn=rt($n).toHsl(),co=(Bn.h+Kn)%360;return Bn.h=co<0?360+co:co,rt(Bn)}function gr($n){var Kn=rt($n).toHsl();return Kn.h=(Kn.h+180)%360,rt(Kn)}function Cr($n){var Kn=rt($n).toHsl(),Bn=Kn.h;return[rt($n),rt({h:(Bn+120)%360,s:Kn.s,l:Kn.l}),rt({h:(Bn+240)%360,s:Kn.s,l:Kn.l})]}function wr($n){var Kn=rt($n).toHsl(),Bn=Kn.h;return[rt($n),rt({h:(Bn+90)%360,s:Kn.s,l:Kn.l}),rt({h:(Bn+180)%360,s:Kn.s,l:Kn.l}),rt({h:(Bn+270)%360,s:Kn.s,l:Kn.l})]}function yr($n){var Kn=rt($n).toHsl(),Bn=Kn.h;return[rt($n),rt({h:(Bn+72)%360,s:Kn.s,l:Kn.l}),rt({h:(Bn+216)%360,s:Kn.s,l:Kn.l})]}function xr($n,Kn,Bn){Kn=Kn||6,Bn=Bn||30;var co=rt($n).toHsl(),vs=360/Bn,Ts=[rt($n)];for(co.h=(co.h-(vs*Kn>>1)+720)%360;--Kn;)co.h=(co.h+vs)%360,Ts.push(rt(co));return Ts}function In($n,Kn){Kn=Kn||6;for(var Bn=rt($n).toHsv(),co=Bn.h,vs=Bn.s,Ts=Bn.v,Fs=[],Os=1/Kn;Kn--;)Fs.push(rt({h:co,s:vs,v:Ts})),Ts=(Ts+Os)%1;return Fs}rt.mix=function($n,Kn,Bn){Bn=Bn===0?0:Bn||50;var co=rt($n).toRgb(),vs=rt(Kn).toRgb(),Ts=Bn/100,Fs={r:(vs.r-co.r)*Ts+co.r,g:(vs.g-co.g)*Ts+co.g,b:(vs.b-co.b)*Ts+co.b,a:(vs.a-co.a)*Ts+co.a};return rt(Fs)},rt.readability=function($n,Kn){var Bn=rt($n),co=rt(Kn);return(e.max(Bn.getLuminance(),co.getLuminance())+.05)/(e.min(Bn.getLuminance(),co.getLuminance())+.05)},rt.isReadable=function($n,Kn,Bn){var co=rt.readability($n,Kn),vs,Ts;switch(Ts=!1,vs=Gs(Bn),vs.level+vs.size){case"AAsmall":case"AAAlarge":Ts=co>=4.5;break;case"AAlarge":Ts=co>=3;break;case"AAAsmall":Ts=co>=7;break}return Ts},rt.mostReadable=function($n,Kn,Bn){var co=null,vs=0,Ts,Fs,Os,Ns;Bn=Bn||{},Fs=Bn.includeFallbackColors,Os=Bn.level,Ns=Bn.size;for(var Ps=0;Ps<Kn.length;Ps++)Ts=rt.readability($n,Kn[Ps]),Ts>vs&&(vs=Ts,co=rt(Kn[Ps]));return rt.isReadable($n,co,{level:Os,size:Ns})||!Fs?co:(Bn.includeFallbackColors=!1,rt.mostReadable($n,["#fff","#000"],Bn))};var rn=rt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Sr=rt.hexNames=Tr(rn);function Tr($n){var Kn={};for(var Bn in $n)$n.hasOwnProperty(Bn)&&(Kn[$n[Bn]]=Bn);return Kn}function Ln($n){return $n=parseFloat($n),(isNaN($n)||$n<0||$n>1)&&($n=1),$n}function Fn($n,Kn){eo($n)&&($n="100%");var Bn=uo($n);return $n=b(Kn,$(0,parseFloat($n))),Bn&&($n=parseInt($n*Kn,10)/100),e.abs($n-Kn)<1e-6?1:$n%Kn/parseFloat(Kn)}function Or($n){return b(1,$(0,$n))}function Nn($n){return parseInt($n,16)}function eo($n){return typeof $n=="string"&&$n.indexOf(".")!=-1&&parseFloat($n)===1}function uo($n){return typeof $n=="string"&&$n.indexOf("%")!=-1}function wo($n){return $n.length==1?"0"+$n:""+$n}function bo($n){return $n<=1&&($n=$n*100+"%"),$n}function es($n){return e.round(parseFloat($n)*255).toString(16)}function rs($n){return Nn($n)/255}var vo=function(){var $n="[-\\+]?\\d+%?",Kn="[-\\+]?\\d*\\.\\d+%?",Bn="(?:"+Kn+")|(?:"+$n+")",co="[\\s|\\(]+("+Bn+")[,|\\s]+("+Bn+")[,|\\s]+("+Bn+")\\s*\\)?",vs="[\\s|\\(]+("+Bn+")[,|\\s]+("+Bn+")[,|\\s]+("+Bn+")[,|\\s]+("+Bn+")\\s*\\)?";return{CSS_UNIT:new RegExp(Bn),rgb:new RegExp("rgb"+co),rgba:new RegExp("rgba"+vs),hsl:new RegExp("hsl"+co),hsla:new RegExp("hsla"+vs),hsv:new RegExp("hsv"+co),hsva:new RegExp("hsva"+vs),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function gs($n){return!!vo.CSS_UNIT.exec($n)}function cs($n){$n=$n.replace(o,"").replace(c,"").toLowerCase();var Kn=!1;if(rn[$n])$n=rn[$n],Kn=!0;else if($n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Bn;return(Bn=vo.rgb.exec($n))?{r:Bn[1],g:Bn[2],b:Bn[3]}:(Bn=vo.rgba.exec($n))?{r:Bn[1],g:Bn[2],b:Bn[3],a:Bn[4]}:(Bn=vo.hsl.exec($n))?{h:Bn[1],s:Bn[2],l:Bn[3]}:(Bn=vo.hsla.exec($n))?{h:Bn[1],s:Bn[2],l:Bn[3],a:Bn[4]}:(Bn=vo.hsv.exec($n))?{h:Bn[1],s:Bn[2],v:Bn[3]}:(Bn=vo.hsva.exec($n))?{h:Bn[1],s:Bn[2],v:Bn[3],a:Bn[4]}:(Bn=vo.hex8.exec($n))?{r:Nn(Bn[1]),g:Nn(Bn[2]),b:Nn(Bn[3]),a:rs(Bn[4]),format:Kn?"name":"hex8"}:(Bn=vo.hex6.exec($n))?{r:Nn(Bn[1]),g:Nn(Bn[2]),b:Nn(Bn[3]),format:Kn?"name":"hex"}:(Bn=vo.hex4.exec($n))?{r:Nn(Bn[1]+""+Bn[1]),g:Nn(Bn[2]+""+Bn[2]),b:Nn(Bn[3]+""+Bn[3]),a:rs(Bn[4]+""+Bn[4]),format:Kn?"name":"hex8"}:(Bn=vo.hex3.exec($n))?{r:Nn(Bn[1]+""+Bn[1]),g:Nn(Bn[2]+""+Bn[2]),b:Nn(Bn[3]+""+Bn[3]),format:Kn?"name":"hex"}:!1}function Gs($n){var Kn,Bn;return $n=$n||{level:"AA",size:"small"},Kn=($n.level||"AA").toUpperCase(),Bn=($n.size||"small").toLowerCase(),Kn!=="AA"&&Kn!=="AAA"&&(Kn="AA"),Bn!=="small"&&Bn!=="large"&&(Bn="small"),{level:Kn,size:Bn}}a.exports?a.exports=rt:window.tinycolor=rt})(Math)})(Lr);var _i=Lr.exports;const Zt=Pr(_i);/**
 * Display Band structure(s) in single plot
 *
 * @author Giovanni Pizzi, EPFL (2018-2020)
 * @author Snehal Kumbhar, EPFL (2020)
 *
 * @version 1.0 First release to plot single band structure
 * @version 1.1 Added support to plot multiple band structures in single plot
 *
 * @license
 * The MIT License (MIT)
 *
 * Copyright (c), 2018, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE
 * (Theory and Simulation of Materials (THEOS) and National Centre for
 * Computational Design and Discovery of Novel Materials (NCCR MARVEL)),
 * Switzerland.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */var er={},Rn={},Rt=[],nr=function(){var a=[].slice.call(arguments),e=a.length===0?[]:a.reduce(function(o,c){return o.length<c.length?o:c});return e.map(function(o,c){return a.map(function(h){return h[c]})})};function jr(a){var e=[],o="";return a.forEach(function(c){e.length===0?(e+=c[0],e+="-",e+=c[1]):(o!=c[0]&&(e+="|"+c[0]),e+="-",e+=c[1]),o=c[1]}),e}var ki=function(a){var e=[],o=a.split("|");return o.forEach(function(c){var h=c.split("-"),g=h.map(function($){return $.trim()}),b=g.filter(function($){return $!==""});nr(b.slice(0,b.length-1),b.slice(1)).forEach(function($){e.push([$[0],$[1]])})}),e};function Hr(a){var e=[];a.forEach(function(c){c.hasOwnProperty("paths")&&c.paths.forEach(function(h){e.push(h.from),e.push(h.to)})});var o=Array.from(new Set(e));return o.sort(),o}var yt=function(a,e,o,c,h){this.divID=a,this.allData=[],this.dosData={},this.allSeries=[],this.dosSeries=[],this.allColorInfo=[],this.dosColorInfo=[],this.dosBackgroundColorInfo=[],this.currentPath=[],this.bandFermiEnergy=null,this.dosFermiEnergy=null,this.showFermi=e,this.showLegend=o,this.yLimit=c,this.dosRange=h,this.yLabel="",typeof this.myChart<"u"&&this.myChart.destroy()};yt.prototype.addBandStructure=function(a,e){var o=["#555555","#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"];if(typeof e>"u"){var c=this.allColorInfo.length,h=Zt(o[c%o.length]);e=[h.toHexString(),h.darken(20).toHexString(),h.brighten(20).toHexString()]}this.allColorInfo.push(e),this.allData.push(a),this.bandFermiEnergy=a.fermi_level};yt.prototype.addDos=function(a){this.dosData=a;var e=a.dos.length,o=["#555555","#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];for(let g=0;g<e;g++){var c=Zt(o[g%o.length]);this.dosColorInfo.push(c);var h=Zt(o[g%o.length]);h.setAlpha(.4),this.dosBackgroundColorInfo.push(h)}this.dosFermiEnergy=a.fermi_energy};yt.prototype.initChart=function(a){var e=this;this.showFermi===!1?er={}:er={type:"line",id:"band-fermi",scaleID:"y",mode:"horizontal",value:0,borderColor:"red",borderWidth:2},console.log("ticksData",a),console.log("bandPlotObject",e);var o={type:"scatter",data:{datasets:this.allSeries},options:{parsing:!1,normalized:!0,animation:!1,spanGaps:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1},zoom:{zoom:{drag:{enabled:!0},mode:"y",onZoomComplete:function(h){e.myDos!==void 0&&(e.myDos.options.scales.y.min=e.myChart.options.scales.y.min,e.myDos.options.scales.y.max=e.myChart.options.scales.y.max,e.myDos.update("none"))}},pan:{enabled:!0,mode:"y",onPanComplete:function(h){e.myDos!==void 0&&(e.myDos.options.scales.y.min=e.myChart.options.scales.y.min,e.myDos.options.scales.y.max=e.myChart.options.scales.y.max,e.myDos.update("none"))}}}},transitions:{zoom:{animation:{duration:0}}},responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,ticks:{callback:function(h,g,b){return this.options.customTicks[g].label}},customTicks:a,afterBuildTicks:function(h){h.ticks=h.options.customTicks.map(g=>({value:g.value}))}},y:{display:!0,ticks:{callback:function(h,g,b){if(g!==0&&g!=b.length-1)return h}},title:{display:!0}},x2:{display:!0,position:"top",grid:{display:!1},ticks:{display:!1}}},annotation:{annotations:[er]}}};e.yLimit&&(o.options.scales.y.min=e.yLimit.ymin,o.options.scales.y.max=e.yLimit.ymax),e.xLimit&&(o.options.scales.x.min=e.xLimit.xmin,o.options.scales.x.max=e.xLimit.xmax),e.yLabel&&(o.options.scales.y.title.text=e.yLabel);var c=document.getElementById(this.divID).getContext("2d");e.myChart=new Chart(c,o),e.myChart.options.plugins.zoom.pan.enabled=!1};yt.prototype.initDosChart=function(a="vertical"){var e=this,o={};a==="vertical"?(o.zeroLine={type:"line",scaleID:"x",mode:"vertical",value:0,borderColor:"#E5E5E5",borderWidth:1},this.showFermi&&(o.fermiLine={type:"line",scaleID:"y",mode:"horizontal",value:0,borderColor:"red",borderWidth:1,label:{display:!0,position:"end",content:"Fermi",xAdjust:4}}),Rn={type:"scatter",data:{datasets:this.dosSeries},options:{animation:!1,plugins:{legend:{maxWidth:({chart:h})=>h.width*.5,display:this.showLegend,position:"right",labels:{filter:function(h,g){return!h.text.includes("y axis")}}},annotation:{annotations:o},zoom:{zoom:{drag:{enabled:!0},mode:"y",onZoomComplete:function(h){e.myChart!==void 0&&(e.myChart.options.scales.y.min=e.myDos.options.scales.y.min,e.myChart.options.scales.y.max=e.myDos.options.scales.y.max,e.myChart.update("none"))}},pan:{enabled:!0,mode:"y",onPanComplete:function(h){e.myChart!==void 0&&(e.myChart.options.scales.y.min=e.myDos.options.scales.y.min,e.myChart.options.scales.y.max=e.myDos.options.scales.y.max,e.myChart.update("none"))}}}},responsive:!0,maintainAspectRatio:!1,hover:{animationDuration:0,mode:null},scales:{x:{grid:{display:!1,drawBorder:!0},min:e.dosRange[0],max:e.dosRange[1]},y:{display:!0,position:"right",grid:{display:!0,drawBorder:!0},border:{display:!0},min:e.yLimit.ymin,max:e.yLimit.ymax,ticks:{callback:function(h,g,b){if(g!==0&&g!=b.length-1)return h}},title:{display:!0,text:"Density of States (eV)"}},x2:{display:!0,position:"top",grid:{display:!1},ticks:{display:!1}},y2:{display:!0,position:"left",grid:{display:!1},ticks:{display:!1}}},elements:{point:{radius:0}}}}):(this.showFermi&&(o.fermiLine={type:"line",scaleID:"x",mode:"vertical",value:0,borderColor:"red",borderWidth:1,label:{display:!0,position:"start",content:"Fermi"}}),Rn={type:"scatter",data:{datasets:this.dosSeries},options:{animation:!1,plugins:{legend:{maxWidth:({chart:h})=>h.width*.5,display:this.showLegend,position:"right",labels:{filter:function(h,g){return!h.text.includes("y axis")}}},annotation:{annotations:o},zoom:{zoom:{drag:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0,mode:null},scales:{y:{grid:{display:!0},min:e.dosRange[0],max:e.dosRange[1],title:{display:!0,text:"Density of States"}},x:{display:!0,position:"right",grid:{display:!0},title:{display:!0,text:"E-Ef (eV)"},min:e.yLimit.ymin,max:e.yLimit.ymax,ticks:{callback:function(h,g,b){if(g!==0&&g!=b.length-1)return h}}}},elements:{point:{radius:0}}}}),console.log("dosOptions",Rn);var c=document.getElementById(this.divID+"-dos").getContext("2d");e.myDos=new Chart(c,Rn),e.myDos.options.plugins.zoom.pan.enabled=!1};yt.prototype.getDefaultPath=function(){if(this.allData.length>0){var a=this.allData[0].path;return a}else return[]};yt.prototype.updateBandPlot=function(a,e){var o=this,c=null;e===void 0&&(e=!1);var h=.1;typeof a>"u"?c=o.getDefaultPath():c=a;var g=!1;if(o.currentPath.length!=c.length?g=!0:nr(o.currentPath,c).forEach(function(ot){ot[0][0]!=ot[1][0]&&(g=!0),ot[0][1]!=ot[1][1]&&(g=!0)}),!(!g&&!e)){o.currentPath=c;var b=function(ot,_t){for(var Et=0;Et<_t.length;Et++){var It=_t[Et];if(It.from==ot[0]&&It.to==ot[1])return{segment:It,reverse:!1};if(It.from==ot[1]&&It.to==ot[0])return{segment:It,reverse:!0}}return null},$=0,j=[];o.allSeries=[],c.forEach(function(ot,_t){j.length===0?j.push([$,ot[0]]):j[j.length-1][1]!=ot[0]&&(j[j.length-1][1]+="|"+ot[0]);var Et=!1,It=null,it;o.allData.forEach(function(st,Mt){var bt=b(ot,st.paths);if(bt){Et=!0;var Lt=[],pt=bt.segment.x.length;if(bt.reverse)for(it=bt.segment.x.length-1;it>=0;it--)Lt.push(bt.segment.x[pt-1]-bt.segment.x[it]);else for(it=0;it<pt;it++)Lt.push(bt.segment.x[it]-bt.segment.x[0]);var Dt=bt.segment.two_band_types||!1,wt=bt.segment.values.length;It===null&&(It=Lt[Lt.length-1]);var Bt=1;if(Lt[Lt.length-1]>0)for(Bt=It/Lt[Lt.length-1],it=0;it<Lt.length;it++)Lt[it]*=Bt;It>0&&bt.segment.values.forEach(function(jt,hr){var gr=[],Cr;if(bt.reverse?Cr=jt.slice().reverse():Cr=jt,o.bandFermiEnergy){var wr=Cr.map(function(rn){return rn-o.bandFermiEnergy});Cr=wr}nr(Lt,Cr).forEach(function(rn){gr.push({x:rn[0]+$,y:rn[1]})});var yr=o.allColorInfo[Mt],xr=null;Dt?hr*2<wt?xr=yr[1]:xr=yr[2]:xr=yr[0];var In={label:ot[0]+"-"+ot[1]+"."+hr,borderColor:xr,borderWidth:2,data:gr,fill:!1,showLine:!0,pointRadius:0};Dt&&hr*2>=wt&&(In.borderDash=[10,5]),o.allSeries.length<1e4&&o.allSeries.push(In)})}}),Et&&It>0?$+=It:$+=h,j.push([$,ot[1]])});var rt=o.updateTicks(j);console.log("HIGH-SYM-ticks",j);var nt=rt.map(function(ot,_t){return{value:ot[0],label:ot[1]}});console.log("ticksData",nt),o.xLimit={xmin:0,xmax:$},o.yLabel=o.allData[0].Y_label,o.yLabel===void 0&&(o.yLabel="E - Ef (eV)"),o.myChart===void 0?o.initChart(nt):(o.myChart.options.scales.x.customTicks=nt,o.myChart.data.datasets=o.allSeries,o.myChart.options.scales.x.max=$,o.myChart.update())}};yt.prototype.updateDosPlot=function(a="vertical"){var e=this;e.dosSeries=[],Rt=[];var o=e.dosData.dos[0].x,c=e.dosData.dos[0].y;o.forEach(function(b,$){a==="vertical"?b<=e.dosFermiEnergy&&Rt.push({x:0,y:b-e.dosFermiEnergy}):b<=e.dosFermiEnergy&&Rt.push({x:b-e.dosFermiEnergy,y:0})});var h={borderColor:"white",hidden:!1,borderWidth:1,data:Rt,fill:!1,showLine:!0,pointRadius:0,label:"y axis"};e.dosSeries.push(h);for(let b=0;b<e.dosData.dos.length;b++){Rt=[];var o=e.dosData.dos[b].x,c=e.dosData.dos[b].y;o.forEach(function(rt,nt){a==="vertical"?Rt.push({x:c[nt],y:rt-e.dosFermiEnergy}):Rt.push({x:rt-e.dosFermiEnergy,y:c[nt]})});var g={borderColor:e.dosData.dos[b].borderColor,backgroundColor:e.dosData.dos[b].backgroundColor,hidden:!1,borderWidth:1,data:Rt,fill:0,showLine:!0,pointRadius:0,label:e.dosData.dos[b].label};e.dosData.dos[b].lineStyle==="dash"&&(g.borderDash=[10,5]),e.dosSeries.push(g)}e.myDos===void 0&&e.initDosChart(a),e.myDos.update()};yt.prototype.resBandZoom=function(){var a=this;a.myChart.resetZoom(),a.myChart.options.scales.x.min=a.xLimit.xmin,a.myChart.options.scales.x.max=a.xLimit.xmax,a.myChart.options.scales.y.min=a.yLimit.ymin,a.myChart.options.scales.y.max=a.yLimit.ymax,a.myChart.update()};yt.prototype.resDosZoom=function(a="vertical"){var e=this;e.myDos.resetZoom(),a==="vertical"?(e.myDos.options.scales.y.min=e.yLimit.ymin,e.myDos.options.scales.y.max=e.yLimit.ymax):(e.myDos.options.scales.x.min=e.yLimit.ymin,e.myDos.options.scales.x.max=e.yLimit.ymax),e.myDos.update()};yt.prototype.updateTicks=function(a){var e=this,o,c=function(g,b){var $={};for(o=0;o<b.length;o++)$[b[o][0]]=b[o][1];var j=function(Et){return Et=Et.replace(/GAMMA/gi,"Γ"),Et=Et.replace(/DELTA/gi,"Δ"),Et=Et.replace(/SIGMA/gi,"Σ"),Et=Et.replace(/LAMBDA/gi,"Λ"),Et=Et.replace(/\-/gi,"—"),Et=Et.replace(/_(.)/gi,function(It,it,st,Mt){switch(it){case"0":return"₀";case"1":return"₁";case"2":return"₂";case"3":return"₃";case"4":return"₄";case"5":return"₅";case"6":return"₆";case"7":return"₇";case"8":return"₈";case"9":return"₉"}return it}),Et},rt=function(Et){return Et=="G"&&(Et="Γ"),Et=Et.replace(/\-/gi,"—"),Et=Et.replace(/(\d)/gi,function(It,it,st,Mt){switch(it){case"0":return"₀";case"1":return"₁";case"2":return"₂";case"3":return"₃";case"4":return"₄";case"5":return"₅";case"6":return"₆";case"7":return"₇";case"8":return"₈";case"9":return"₉"}return it}),Et},nt=Hr([g]),ot=!1;nt.findIndex(function(Et){return Et=="GAMMA"})!=-1?ot=!1:nt.findIndex(function(Et){return Et=="G"})!=-1?ot=!0:ot=!1;var _t;return ot?_t=rt:_t=j,function(Et){if(typeof Et>"u")return Et;var It=_t(Et);return It}},h=c(e.allData,a);return a.map(function(g){return[g[0],h(g[1])]})};var qr={exports:{}};/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */(function(a){(function(e,o){a.exports=e.document?o(e,!0):function(c){if(!c.document)throw new Error("jQuery requires a window with a document");return o(c)}})(typeof window<"u"?window:Ti,function(e,o){var c=[],h=Object.getPrototypeOf,g=c.slice,b=c.flat?function(Ht){return c.flat.call(Ht)}:function(Ht){return c.concat.apply([],Ht)},$=c.push,j=c.indexOf,rt={},nt=rt.toString,ot=rt.hasOwnProperty,_t=ot.toString,Et=_t.call(Object),It={},it=function(Ht){return typeof Ht=="function"&&typeof Ht.nodeType!="number"},st=function(Ht){return Ht!=null&&Ht===Ht.window},Mt=e.document,bt={type:!0,src:!0,nonce:!0,noModule:!0};function Lt(Ht,mr,br){br=br||Mt;var tn,Gn,Hn=br.createElement("script");if(Hn.text=Ht,mr)for(tn in bt)Gn=mr[tn]||mr.getAttribute&&mr.getAttribute(tn),Gn&&Hn.setAttribute(tn,Gn);br.head.appendChild(Hn).parentNode.removeChild(Hn)}function pt(Ht){return Ht==null?Ht+"":typeof Ht=="object"||typeof Ht=="function"?rt[nt.call(Ht)]||"object":typeof Ht}var Dt="3.5.1",wt=function(Ht,mr){return new wt.fn.init(Ht,mr)};wt.fn=wt.prototype={jquery:Dt,constructor:wt,length:0,toArray:function(){return g.call(this)},get:function(Ht){return Ht==null?g.call(this):Ht<0?this[Ht+this.length]:this[Ht]},pushStack:function(Ht){var mr=wt.merge(this.constructor(),Ht);return mr.prevObject=this,mr},each:function(Ht){return wt.each(this,Ht)},map:function(Ht){return this.pushStack(wt.map(this,function(mr,br){return Ht.call(mr,br,mr)}))},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(wt.grep(this,function(Ht,mr){return(mr+1)%2}))},odd:function(){return this.pushStack(wt.grep(this,function(Ht,mr){return mr%2}))},eq:function(Ht){var mr=this.length,br=+Ht+(Ht<0?mr:0);return this.pushStack(br>=0&&br<mr?[this[br]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:c.sort,splice:c.splice},wt.extend=wt.fn.extend=function(){var Ht,mr,br,tn,Gn,Hn,Jn=arguments[0]||{},ss=1,ls=arguments.length,bs=!1;for(typeof Jn=="boolean"&&(bs=Jn,Jn=arguments[ss]||{},ss++),typeof Jn!="object"&&!it(Jn)&&(Jn={}),ss===ls&&(Jn=this,ss--);ss<ls;ss++)if((Ht=arguments[ss])!=null)for(mr in Ht)tn=Ht[mr],!(mr==="__proto__"||Jn===tn)&&(bs&&tn&&(wt.isPlainObject(tn)||(Gn=Array.isArray(tn)))?(br=Jn[mr],Gn&&!Array.isArray(br)?Hn=[]:!Gn&&!wt.isPlainObject(br)?Hn={}:Hn=br,Gn=!1,Jn[mr]=wt.extend(bs,Hn,tn)):tn!==void 0&&(Jn[mr]=tn));return Jn},wt.extend({expando:"jQuery"+(Dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(Ht){throw new Error(Ht)},noop:function(){},isPlainObject:function(Ht){var mr,br;return!Ht||nt.call(Ht)!=="[object Object]"?!1:(mr=h(Ht),mr?(br=ot.call(mr,"constructor")&&mr.constructor,typeof br=="function"&&_t.call(br)===Et):!0)},isEmptyObject:function(Ht){var mr;for(mr in Ht)return!1;return!0},globalEval:function(Ht,mr,br){Lt(Ht,{nonce:mr&&mr.nonce},br)},each:function(Ht,mr){var br,tn=0;if(Bt(Ht))for(br=Ht.length;tn<br&&mr.call(Ht[tn],tn,Ht[tn])!==!1;tn++);else for(tn in Ht)if(mr.call(Ht[tn],tn,Ht[tn])===!1)break;return Ht},makeArray:function(Ht,mr){var br=mr||[];return Ht!=null&&(Bt(Object(Ht))?wt.merge(br,typeof Ht=="string"?[Ht]:Ht):$.call(br,Ht)),br},inArray:function(Ht,mr,br){return mr==null?-1:j.call(mr,Ht,br)},merge:function(Ht,mr){for(var br=+mr.length,tn=0,Gn=Ht.length;tn<br;tn++)Ht[Gn++]=mr[tn];return Ht.length=Gn,Ht},grep:function(Ht,mr,br){for(var tn,Gn=[],Hn=0,Jn=Ht.length,ss=!br;Hn<Jn;Hn++)tn=!mr(Ht[Hn],Hn),tn!==ss&&Gn.push(Ht[Hn]);return Gn},map:function(Ht,mr,br){var tn,Gn,Hn=0,Jn=[];if(Bt(Ht))for(tn=Ht.length;Hn<tn;Hn++)Gn=mr(Ht[Hn],Hn,br),Gn!=null&&Jn.push(Gn);else for(Hn in Ht)Gn=mr(Ht[Hn],Hn,br),Gn!=null&&Jn.push(Gn);return b(Jn)},guid:1,support:It}),typeof Symbol=="function"&&(wt.fn[Symbol.iterator]=c[Symbol.iterator]),wt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(Ht,mr){rt["[object "+mr+"]"]=mr.toLowerCase()});function Bt(Ht){var mr=!!Ht&&"length"in Ht&&Ht.length,br=pt(Ht);return it(Ht)||st(Ht)?!1:br==="array"||mr===0||typeof mr=="number"&&mr>0&&mr-1 in Ht}var jt=function(Ht){var mr,br,tn,Gn,Hn,Jn,ss,ls,bs,$s,Xs,Ms,js,Ml,Vl,Il,Pu,Ru,ku,cu="sizzle"+1*new Date,Hl=Ht.document,Wu=0,nu=0,fu=Op(),xp=Op(),Vp=Op(),Ku=Op(),Sp=function(so,os){return so===os&&(Xs=!0),0},Ep={}.hasOwnProperty,Hu=[],_p=Hu.pop,Qu=Hu.push,Cp=Hu.push,$p=Hu.slice,Rp=function(so,os){for(var ms=0,Ws=so.length;ms<Ws;ms++)if(so[ms]===os)return ms;return-1},nm="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eu="[\\x20\\t\\r\\n\\f]",wp="(?:\\\\[\\da-fA-F]{1,6}"+eu+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",im="\\["+eu+"*("+wp+")(?:"+eu+"*([*^$|!~]?=)"+eu+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+wp+"))|)"+eu+"*\\]",zp=":("+wp+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+im+")*)|.*)\\)|)",om=new RegExp(eu+"+","g"),kp=new RegExp("^"+eu+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eu+"+$","g"),Nm=new RegExp("^"+eu+"*,"+eu+"*"),vm=new RegExp("^"+eu+"*([>+~]|"+eu+")"+eu+"*"),$m=new RegExp(eu+"|>"),km=new RegExp(zp),Gp=new RegExp("^"+wp+"$"),Up={ID:new RegExp("^#("+wp+")"),CLASS:new RegExp("^\\.("+wp+")"),TAG:new RegExp("^("+wp+"|[*])"),ATTR:new RegExp("^"+im),PSEUDO:new RegExp("^"+zp),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eu+"*(even|odd|(([+-]|)(\\d*)n|)"+eu+"*(?:([+-]|)"+eu+"*(\\d+)|))"+eu+"*\\)|)","i"),bool:new RegExp("^(?:"+nm+")$","i"),needsContext:new RegExp("^"+eu+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eu+"*((?:-\\d)?\\d*)"+eu+"*\\)|)(?=[^-]|$)","i")},ym=/HTML$/i,_m=/^(?:input|select|textarea|button)$/i,Cm=/^h\d$/i,Bp=/^[^{]+\{\s*\[native \w/,Kp=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hp=/[+~]/,fp=new RegExp("\\\\[\\da-fA-F]{1,6}"+eu+"?|\\\\([^\\r\\n\\f])","g"),gp=function(so,os){var ms="0x"+so.slice(1)-65536;return os||(ms<0?String.fromCharCode(ms+65536):String.fromCharCode(ms>>10|55296,ms&1023|56320))},Zu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,sm=function(so,os){return os?so==="\0"?"�":so.slice(0,-1)+"\\"+so.charCodeAt(so.length-1).toString(16)+" ":"\\"+so},am=function(){Ms()},Gm=Pp(function(so){return so.disabled===!0&&so.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Cp.apply(Hu=$p.call(Hl.childNodes),Hl.childNodes),Hu[Hl.childNodes.length].nodeType}catch{Cp={apply:Hu.length?function(so,os){Qu.apply(so,$p.call(os))}:function(so,os){for(var ms=so.length,Ws=0;so[ms++]=os[Ws++];);so.length=ms-1}}}function du(so,os,ms,Ws){var Ss,Vs,qs,xl,Ol,Fl,Rl,Nl=os&&os.ownerDocument,Kl=os?os.nodeType:9;if(ms=ms||[],typeof so!="string"||!so||Kl!==1&&Kl!==9&&Kl!==11)return ms;if(!Ws&&(Ms(os),os=os||js,Vl)){if(Kl!==11&&(Ol=Kp.exec(so)))if(Ss=Ol[1]){if(Kl===9)if(qs=os.getElementById(Ss)){if(qs.id===Ss)return ms.push(qs),ms}else return ms;else if(Nl&&(qs=Nl.getElementById(Ss))&&ku(os,qs)&&qs.id===Ss)return ms.push(qs),ms}else{if(Ol[2])return Cp.apply(ms,os.getElementsByTagName(so)),ms;if((Ss=Ol[3])&&br.getElementsByClassName&&os.getElementsByClassName)return Cp.apply(ms,os.getElementsByClassName(Ss)),ms}if(br.qsa&&!Ku[so+" "]&&(!Il||!Il.test(so))&&(Kl!==1||os.nodeName.toLowerCase()!=="object")){if(Rl=so,Nl=os,Kl===1&&($m.test(so)||vm.test(so))){for(Nl=hp.test(so)&&Xp(os.parentNode)||os,(Nl!==os||!br.scope)&&((xl=os.getAttribute("id"))?xl=xl.replace(Zu,sm):os.setAttribute("id",xl=cu)),Fl=Jn(so),Vs=Fl.length;Vs--;)Fl[Vs]=(xl?"#"+xl:":scope")+" "+_d(Fl[Vs]);Rl=Fl.join(",")}try{return Cp.apply(ms,Nl.querySelectorAll(Rl)),ms}catch{Ku(so,!0)}finally{xl===cu&&os.removeAttribute("id")}}}return ls(so.replace(kp,"$1"),os,ms,Ws)}function Op(){var so=[];function os(ms,Ws){return so.push(ms+" ")>tn.cacheLength&&delete os[so.shift()],os[ms+" "]=Ws}return os}function Ju(so){return so[cu]=!0,so}function _c(so){var os=js.createElement("fieldset");try{return!!so(os)}catch{return!1}finally{os.parentNode&&os.parentNode.removeChild(os),os=null}}function Yp(so,os){for(var ms=so.split("|"),Ws=ms.length;Ws--;)tn.attrHandle[ms[Ws]]=os}function lm(so,os){var ms=os&&so,Ws=ms&&so.nodeType===1&&os.nodeType===1&&so.sourceIndex-os.sourceIndex;if(Ws)return Ws;if(ms){for(;ms=ms.nextSibling;)if(ms===os)return-1}return so?1:-1}function wm(so){return function(os){var ms=os.nodeName.toLowerCase();return ms==="input"&&os.type===so}}function bm(so){return function(os){var ms=os.nodeName.toLowerCase();return(ms==="input"||ms==="button")&&os.type===so}}function um(so){return function(os){return"form"in os?os.parentNode&&os.disabled===!1?"label"in os?"label"in os.parentNode?os.parentNode.disabled===so:os.disabled===so:os.isDisabled===so||os.isDisabled!==!so&&Gm(os)===so:os.disabled===so:"label"in os?os.disabled===so:!1}}function bp(so){return Ju(function(os){return os=+os,Ju(function(ms,Ws){for(var Ss,Vs=so([],ms.length,os),qs=Vs.length;qs--;)ms[Ss=Vs[qs]]&&(ms[Ss]=!(Ws[Ss]=ms[Ss]))})})}function Xp(so){return so&&typeof so.getElementsByTagName<"u"&&so}br=du.support={},Hn=du.isXML=function(so){var os=so.namespaceURI,ms=(so.ownerDocument||so).documentElement;return!ym.test(os||ms&&ms.nodeName||"HTML")},Ms=du.setDocument=function(so){var os,ms,Ws=so?so.ownerDocument||so:Hl;return Ws==js||Ws.nodeType!==9||!Ws.documentElement||(js=Ws,Ml=js.documentElement,Vl=!Hn(js),Hl!=js&&(ms=js.defaultView)&&ms.top!==ms&&(ms.addEventListener?ms.addEventListener("unload",am,!1):ms.attachEvent&&ms.attachEvent("onunload",am)),br.scope=_c(function(Ss){return Ml.appendChild(Ss).appendChild(js.createElement("div")),typeof Ss.querySelectorAll<"u"&&!Ss.querySelectorAll(":scope fieldset div").length}),br.attributes=_c(function(Ss){return Ss.className="i",!Ss.getAttribute("className")}),br.getElementsByTagName=_c(function(Ss){return Ss.appendChild(js.createComment("")),!Ss.getElementsByTagName("*").length}),br.getElementsByClassName=Bp.test(js.getElementsByClassName),br.getById=_c(function(Ss){return Ml.appendChild(Ss).id=cu,!js.getElementsByName||!js.getElementsByName(cu).length}),br.getById?(tn.filter.ID=function(Ss){var Vs=Ss.replace(fp,gp);return function(qs){return qs.getAttribute("id")===Vs}},tn.find.ID=function(Ss,Vs){if(typeof Vs.getElementById<"u"&&Vl){var qs=Vs.getElementById(Ss);return qs?[qs]:[]}}):(tn.filter.ID=function(Ss){var Vs=Ss.replace(fp,gp);return function(qs){var xl=typeof qs.getAttributeNode<"u"&&qs.getAttributeNode("id");return xl&&xl.value===Vs}},tn.find.ID=function(Ss,Vs){if(typeof Vs.getElementById<"u"&&Vl){var qs,xl,Ol,Fl=Vs.getElementById(Ss);if(Fl){if(qs=Fl.getAttributeNode("id"),qs&&qs.value===Ss)return[Fl];for(Ol=Vs.getElementsByName(Ss),xl=0;Fl=Ol[xl++];)if(qs=Fl.getAttributeNode("id"),qs&&qs.value===Ss)return[Fl]}return[]}}),tn.find.TAG=br.getElementsByTagName?function(Ss,Vs){if(typeof Vs.getElementsByTagName<"u")return Vs.getElementsByTagName(Ss);if(br.qsa)return Vs.querySelectorAll(Ss)}:function(Ss,Vs){var qs,xl=[],Ol=0,Fl=Vs.getElementsByTagName(Ss);if(Ss==="*"){for(;qs=Fl[Ol++];)qs.nodeType===1&&xl.push(qs);return xl}return Fl},tn.find.CLASS=br.getElementsByClassName&&function(Ss,Vs){if(typeof Vs.getElementsByClassName<"u"&&Vl)return Vs.getElementsByClassName(Ss)},Pu=[],Il=[],(br.qsa=Bp.test(js.querySelectorAll))&&(_c(function(Ss){var Vs;Ml.appendChild(Ss).innerHTML="<a id='"+cu+"'></a><select id='"+cu+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ss.querySelectorAll("[msallowcapture^='']").length&&Il.push("[*^$]="+eu+`*(?:''|"")`),Ss.querySelectorAll("[selected]").length||Il.push("\\["+eu+"*(?:value|"+nm+")"),Ss.querySelectorAll("[id~="+cu+"-]").length||Il.push("~="),Vs=js.createElement("input"),Vs.setAttribute("name",""),Ss.appendChild(Vs),Ss.querySelectorAll("[name='']").length||Il.push("\\["+eu+"*name"+eu+"*="+eu+`*(?:''|"")`),Ss.querySelectorAll(":checked").length||Il.push(":checked"),Ss.querySelectorAll("a#"+cu+"+*").length||Il.push(".#.+[+~]"),Ss.querySelectorAll("\\\f"),Il.push("[\\r\\n\\f]")}),_c(function(Ss){Ss.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Vs=js.createElement("input");Vs.setAttribute("type","hidden"),Ss.appendChild(Vs).setAttribute("name","D"),Ss.querySelectorAll("[name=d]").length&&Il.push("name"+eu+"*[*^$|!~]?="),Ss.querySelectorAll(":enabled").length!==2&&Il.push(":enabled",":disabled"),Ml.appendChild(Ss).disabled=!0,Ss.querySelectorAll(":disabled").length!==2&&Il.push(":enabled",":disabled"),Ss.querySelectorAll("*,:x"),Il.push(",.*:")})),(br.matchesSelector=Bp.test(Ru=Ml.matches||Ml.webkitMatchesSelector||Ml.mozMatchesSelector||Ml.oMatchesSelector||Ml.msMatchesSelector))&&_c(function(Ss){br.disconnectedMatch=Ru.call(Ss,"*"),Ru.call(Ss,"[s!='']:x"),Pu.push("!=",zp)}),Il=Il.length&&new RegExp(Il.join("|")),Pu=Pu.length&&new RegExp(Pu.join("|")),os=Bp.test(Ml.compareDocumentPosition),ku=os||Bp.test(Ml.contains)?function(Ss,Vs){var qs=Ss.nodeType===9?Ss.documentElement:Ss,xl=Vs&&Vs.parentNode;return Ss===xl||!!(xl&&xl.nodeType===1&&(qs.contains?qs.contains(xl):Ss.compareDocumentPosition&&Ss.compareDocumentPosition(xl)&16))}:function(Ss,Vs){if(Vs){for(;Vs=Vs.parentNode;)if(Vs===Ss)return!0}return!1},Sp=os?function(Ss,Vs){if(Ss===Vs)return Xs=!0,0;var qs=!Ss.compareDocumentPosition-!Vs.compareDocumentPosition;return qs||(qs=(Ss.ownerDocument||Ss)==(Vs.ownerDocument||Vs)?Ss.compareDocumentPosition(Vs):1,qs&1||!br.sortDetached&&Vs.compareDocumentPosition(Ss)===qs?Ss==js||Ss.ownerDocument==Hl&&ku(Hl,Ss)?-1:Vs==js||Vs.ownerDocument==Hl&&ku(Hl,Vs)?1:$s?Rp($s,Ss)-Rp($s,Vs):0:qs&4?-1:1)}:function(Ss,Vs){if(Ss===Vs)return Xs=!0,0;var qs,xl=0,Ol=Ss.parentNode,Fl=Vs.parentNode,Rl=[Ss],Nl=[Vs];if(!Ol||!Fl)return Ss==js?-1:Vs==js?1:Ol?-1:Fl?1:$s?Rp($s,Ss)-Rp($s,Vs):0;if(Ol===Fl)return lm(Ss,Vs);for(qs=Ss;qs=qs.parentNode;)Rl.unshift(qs);for(qs=Vs;qs=qs.parentNode;)Nl.unshift(qs);for(;Rl[xl]===Nl[xl];)xl++;return xl?lm(Rl[xl],Nl[xl]):Rl[xl]==Hl?-1:Nl[xl]==Hl?1:0}),js},du.matches=function(so,os){return du(so,null,null,os)},du.matchesSelector=function(so,os){if(Ms(so),br.matchesSelector&&Vl&&!Ku[os+" "]&&(!Pu||!Pu.test(os))&&(!Il||!Il.test(os)))try{var ms=Ru.call(so,os);if(ms||br.disconnectedMatch||so.document&&so.document.nodeType!==11)return ms}catch{Ku(os,!0)}return du(os,js,null,[so]).length>0},du.contains=function(so,os){return(so.ownerDocument||so)!=js&&Ms(so),ku(so,os)},du.attr=function(so,os){(so.ownerDocument||so)!=js&&Ms(so);var ms=tn.attrHandle[os.toLowerCase()],Ws=ms&&Ep.call(tn.attrHandle,os.toLowerCase())?ms(so,os,!Vl):void 0;return Ws!==void 0?Ws:br.attributes||!Vl?so.getAttribute(os):(Ws=so.getAttributeNode(os))&&Ws.specified?Ws.value:null},du.escape=function(so){return(so+"").replace(Zu,sm)},du.error=function(so){throw new Error("Syntax error, unrecognized expression: "+so)},du.uniqueSort=function(so){var os,ms=[],Ws=0,Ss=0;if(Xs=!br.detectDuplicates,$s=!br.sortStable&&so.slice(0),so.sort(Sp),Xs){for(;os=so[Ss++];)os===so[Ss]&&(Ws=ms.push(Ss));for(;Ws--;)so.splice(ms[Ws],1)}return $s=null,so},Gn=du.getText=function(so){var os,ms="",Ws=0,Ss=so.nodeType;if(Ss){if(Ss===1||Ss===9||Ss===11){if(typeof so.textContent=="string")return so.textContent;for(so=so.firstChild;so;so=so.nextSibling)ms+=Gn(so)}else if(Ss===3||Ss===4)return so.nodeValue}else for(;os=so[Ws++];)ms+=Gn(os);return ms},tn=du.selectors={cacheLength:50,createPseudo:Ju,match:Up,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(so){return so[1]=so[1].replace(fp,gp),so[3]=(so[3]||so[4]||so[5]||"").replace(fp,gp),so[2]==="~="&&(so[3]=" "+so[3]+" "),so.slice(0,4)},CHILD:function(so){return so[1]=so[1].toLowerCase(),so[1].slice(0,3)==="nth"?(so[3]||du.error(so[0]),so[4]=+(so[4]?so[5]+(so[6]||1):2*(so[3]==="even"||so[3]==="odd")),so[5]=+(so[7]+so[8]||so[3]==="odd")):so[3]&&du.error(so[0]),so},PSEUDO:function(so){var os,ms=!so[6]&&so[2];return Up.CHILD.test(so[0])?null:(so[3]?so[2]=so[4]||so[5]||"":ms&&km.test(ms)&&(os=Jn(ms,!0))&&(os=ms.indexOf(")",ms.length-os)-ms.length)&&(so[0]=so[0].slice(0,os),so[2]=ms.slice(0,os)),so.slice(0,3))}},filter:{TAG:function(so){var os=so.replace(fp,gp).toLowerCase();return so==="*"?function(){return!0}:function(ms){return ms.nodeName&&ms.nodeName.toLowerCase()===os}},CLASS:function(so){var os=fu[so+" "];return os||(os=new RegExp("(^|"+eu+")"+so+"("+eu+"|$)"))&&fu(so,function(ms){return os.test(typeof ms.className=="string"&&ms.className||typeof ms.getAttribute<"u"&&ms.getAttribute("class")||"")})},ATTR:function(so,os,ms){return function(Ws){var Ss=du.attr(Ws,so);return Ss==null?os==="!=":os?(Ss+="",os==="="?Ss===ms:os==="!="?Ss!==ms:os==="^="?ms&&Ss.indexOf(ms)===0:os==="*="?ms&&Ss.indexOf(ms)>-1:os==="$="?ms&&Ss.slice(-ms.length)===ms:os==="~="?(" "+Ss.replace(om," ")+" ").indexOf(ms)>-1:os==="|="?Ss===ms||Ss.slice(0,ms.length+1)===ms+"-":!1):!0}},CHILD:function(so,os,ms,Ws,Ss){var Vs=so.slice(0,3)!=="nth",qs=so.slice(-4)!=="last",xl=os==="of-type";return Ws===1&&Ss===0?function(Ol){return!!Ol.parentNode}:function(Ol,Fl,Rl){var Nl,Kl,mu,$l,Du,Lu,Yu=Vs!==qs?"nextSibling":"previousSibling",ou=Ol.parentNode,Dp=xl&&Ol.nodeName.toLowerCase(),Mp=!Rl&&!xl,Vu=!1;if(ou){if(Vs){for(;Yu;){for($l=Ol;$l=$l[Yu];)if(xl?$l.nodeName.toLowerCase()===Dp:$l.nodeType===1)return!1;Lu=Yu=so==="only"&&!Lu&&"nextSibling"}return!0}if(Lu=[qs?ou.firstChild:ou.lastChild],qs&&Mp){for($l=ou,mu=$l[cu]||($l[cu]={}),Kl=mu[$l.uniqueID]||(mu[$l.uniqueID]={}),Nl=Kl[so]||[],Du=Nl[0]===Wu&&Nl[1],Vu=Du&&Nl[2],$l=Du&&ou.childNodes[Du];$l=++Du&&$l&&$l[Yu]||(Vu=Du=0)||Lu.pop();)if($l.nodeType===1&&++Vu&&$l===Ol){Kl[so]=[Wu,Du,Vu];break}}else if(Mp&&($l=Ol,mu=$l[cu]||($l[cu]={}),Kl=mu[$l.uniqueID]||(mu[$l.uniqueID]={}),Nl=Kl[so]||[],Du=Nl[0]===Wu&&Nl[1],Vu=Du),Vu===!1)for(;($l=++Du&&$l&&$l[Yu]||(Vu=Du=0)||Lu.pop())&&!((xl?$l.nodeName.toLowerCase()===Dp:$l.nodeType===1)&&++Vu&&(Mp&&(mu=$l[cu]||($l[cu]={}),Kl=mu[$l.uniqueID]||(mu[$l.uniqueID]={}),Kl[so]=[Wu,Vu]),$l===Ol)););return Vu-=Ss,Vu===Ws||Vu%Ws===0&&Vu/Ws>=0}}},PSEUDO:function(so,os){var ms,Ws=tn.pseudos[so]||tn.setFilters[so.toLowerCase()]||du.error("unsupported pseudo: "+so);return Ws[cu]?Ws(os):Ws.length>1?(ms=[so,so,"",os],tn.setFilters.hasOwnProperty(so.toLowerCase())?Ju(function(Ss,Vs){for(var qs,xl=Ws(Ss,os),Ol=xl.length;Ol--;)qs=Rp(Ss,xl[Ol]),Ss[qs]=!(Vs[qs]=xl[Ol])}):function(Ss){return Ws(Ss,0,ms)}):Ws}},pseudos:{not:Ju(function(so){var os=[],ms=[],Ws=ss(so.replace(kp,"$1"));return Ws[cu]?Ju(function(Ss,Vs,qs,xl){for(var Ol,Fl=Ws(Ss,null,xl,[]),Rl=Ss.length;Rl--;)(Ol=Fl[Rl])&&(Ss[Rl]=!(Vs[Rl]=Ol))}):function(Ss,Vs,qs){return os[0]=Ss,Ws(os,null,qs,ms),os[0]=null,!ms.pop()}}),has:Ju(function(so){return function(os){return du(so,os).length>0}}),contains:Ju(function(so){return so=so.replace(fp,gp),function(os){return(os.textContent||Gn(os)).indexOf(so)>-1}}),lang:Ju(function(so){return Gp.test(so||"")||du.error("unsupported lang: "+so),so=so.replace(fp,gp).toLowerCase(),function(os){var ms;do if(ms=Vl?os.lang:os.getAttribute("xml:lang")||os.getAttribute("lang"))return ms=ms.toLowerCase(),ms===so||ms.indexOf(so+"-")===0;while((os=os.parentNode)&&os.nodeType===1);return!1}}),target:function(so){var os=Ht.location&&Ht.location.hash;return os&&os.slice(1)===so.id},root:function(so){return so===Ml},focus:function(so){return so===js.activeElement&&(!js.hasFocus||js.hasFocus())&&!!(so.type||so.href||~so.tabIndex)},enabled:um(!1),disabled:um(!0),checked:function(so){var os=so.nodeName.toLowerCase();return os==="input"&&!!so.checked||os==="option"&&!!so.selected},selected:function(so){return so.parentNode&&so.parentNode.selectedIndex,so.selected===!0},empty:function(so){for(so=so.firstChild;so;so=so.nextSibling)if(so.nodeType<6)return!1;return!0},parent:function(so){return!tn.pseudos.empty(so)},header:function(so){return Cm.test(so.nodeName)},input:function(so){return _m.test(so.nodeName)},button:function(so){var os=so.nodeName.toLowerCase();return os==="input"&&so.type==="button"||os==="button"},text:function(so){var os;return so.nodeName.toLowerCase()==="input"&&so.type==="text"&&((os=so.getAttribute("type"))==null||os.toLowerCase()==="text")},first:bp(function(){return[0]}),last:bp(function(so,os){return[os-1]}),eq:bp(function(so,os,ms){return[ms<0?ms+os:ms]}),even:bp(function(so,os){for(var ms=0;ms<os;ms+=2)so.push(ms);return so}),odd:bp(function(so,os){for(var ms=1;ms<os;ms+=2)so.push(ms);return so}),lt:bp(function(so,os,ms){for(var Ws=ms<0?ms+os:ms>os?os:ms;--Ws>=0;)so.push(Ws);return so}),gt:bp(function(so,os,ms){for(var Ws=ms<0?ms+os:ms;++Ws<os;)so.push(Ws);return so})}},tn.pseudos.nth=tn.pseudos.eq;for(mr in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})tn.pseudos[mr]=wm(mr);for(mr in{submit:!0,reset:!0})tn.pseudos[mr]=bm(mr);function jp(){}jp.prototype=tn.filters=tn.pseudos,tn.setFilters=new jp,Jn=du.tokenize=function(so,os){var ms,Ws,Ss,Vs,qs,xl,Ol,Fl=xp[so+" "];if(Fl)return os?0:Fl.slice(0);for(qs=so,xl=[],Ol=tn.preFilter;qs;){(!ms||(Ws=Nm.exec(qs)))&&(Ws&&(qs=qs.slice(Ws[0].length)||qs),xl.push(Ss=[])),ms=!1,(Ws=vm.exec(qs))&&(ms=Ws.shift(),Ss.push({value:ms,type:Ws[0].replace(kp," ")}),qs=qs.slice(ms.length));for(Vs in tn.filter)(Ws=Up[Vs].exec(qs))&&(!Ol[Vs]||(Ws=Ol[Vs](Ws)))&&(ms=Ws.shift(),Ss.push({value:ms,type:Vs,matches:Ws}),qs=qs.slice(ms.length));if(!ms)break}return os?qs.length:qs?du.error(so):xp(so,xl).slice(0)};function _d(so){for(var os=0,ms=so.length,Ws="";os<ms;os++)Ws+=so[os].value;return Ws}function Pp(so,os,ms){var Ws=os.dir,Ss=os.next,Vs=Ss||Ws,qs=ms&&Vs==="parentNode",xl=nu++;return os.first?function(Ol,Fl,Rl){for(;Ol=Ol[Ws];)if(Ol.nodeType===1||qs)return so(Ol,Fl,Rl);return!1}:function(Ol,Fl,Rl){var Nl,Kl,mu,$l=[Wu,xl];if(Rl){for(;Ol=Ol[Ws];)if((Ol.nodeType===1||qs)&&so(Ol,Fl,Rl))return!0}else for(;Ol=Ol[Ws];)if(Ol.nodeType===1||qs)if(mu=Ol[cu]||(Ol[cu]={}),Kl=mu[Ol.uniqueID]||(mu[Ol.uniqueID]={}),Ss&&Ss===Ol.nodeName.toLowerCase())Ol=Ol[Ws]||Ol;else{if((Nl=Kl[Vs])&&Nl[0]===Wu&&Nl[1]===xl)return $l[2]=Nl[2];if(Kl[Vs]=$l,$l[2]=so(Ol,Fl,Rl))return!0}return!1}}function qp(so){return so.length>1?function(os,ms,Ws){for(var Ss=so.length;Ss--;)if(!so[Ss](os,ms,Ws))return!1;return!0}:so[0]}function cm(so,os,ms){for(var Ws=0,Ss=os.length;Ws<Ss;Ws++)du(so,os[Ws],ms);return ms}function Wp(so,os,ms,Ws,Ss){for(var Vs,qs=[],xl=0,Ol=so.length,Fl=os!=null;xl<Ol;xl++)(Vs=so[xl])&&(!ms||ms(Vs,Ws,Ss))&&(qs.push(Vs),Fl&&os.push(xl));return qs}function Qp(so,os,ms,Ws,Ss,Vs){return Ws&&!Ws[cu]&&(Ws=Qp(Ws)),Ss&&!Ss[cu]&&(Ss=Qp(Ss,Vs)),Ju(function(qs,xl,Ol,Fl){var Rl,Nl,Kl,mu=[],$l=[],Du=xl.length,Lu=qs||cm(os||"*",Ol.nodeType?[Ol]:Ol,[]),Yu=so&&(qs||!os)?Wp(Lu,mu,so,Ol,Fl):Lu,ou=ms?Ss||(qs?so:Du||Ws)?[]:xl:Yu;if(ms&&ms(Yu,ou,Ol,Fl),Ws)for(Rl=Wp(ou,$l),Ws(Rl,[],Ol,Fl),Nl=Rl.length;Nl--;)(Kl=Rl[Nl])&&(ou[$l[Nl]]=!(Yu[$l[Nl]]=Kl));if(qs){if(Ss||so){if(Ss){for(Rl=[],Nl=ou.length;Nl--;)(Kl=ou[Nl])&&Rl.push(Yu[Nl]=Kl);Ss(null,ou=[],Rl,Fl)}for(Nl=ou.length;Nl--;)(Kl=ou[Nl])&&(Rl=Ss?Rp(qs,Kl):mu[Nl])>-1&&(qs[Rl]=!(xl[Rl]=Kl))}}else ou=Wp(ou===xl?ou.splice(Du,ou.length):ou),Ss?Ss(null,xl,ou,Fl):Cp.apply(xl,ou)})}function Zp(so){for(var os,ms,Ws,Ss=so.length,Vs=tn.relative[so[0].type],qs=Vs||tn.relative[" "],xl=Vs?1:0,Ol=Pp(function(Nl){return Nl===os},qs,!0),Fl=Pp(function(Nl){return Rp(os,Nl)>-1},qs,!0),Rl=[function(Nl,Kl,mu){var $l=!Vs&&(mu||Kl!==bs)||((os=Kl).nodeType?Ol(Nl,Kl,mu):Fl(Nl,Kl,mu));return os=null,$l}];xl<Ss;xl++)if(ms=tn.relative[so[xl].type])Rl=[Pp(qp(Rl),ms)];else{if(ms=tn.filter[so[xl].type].apply(null,so[xl].matches),ms[cu]){for(Ws=++xl;Ws<Ss&&!tn.relative[so[Ws].type];Ws++);return Qp(xl>1&&qp(Rl),xl>1&&_d(so.slice(0,xl-1).concat({value:so[xl-2].type===" "?"*":""})).replace(kp,"$1"),ms,xl<Ws&&Zp(so.slice(xl,Ws)),Ws<Ss&&Zp(so=so.slice(Ws)),Ws<Ss&&_d(so))}Rl.push(ms)}return qp(Rl)}function xm(so,os){var ms=os.length>0,Ws=so.length>0,Ss=function(Vs,qs,xl,Ol,Fl){var Rl,Nl,Kl,mu=0,$l="0",Du=Vs&&[],Lu=[],Yu=bs,ou=Vs||Ws&&tn.find.TAG("*",Fl),Dp=Wu+=Yu==null?1:Math.random()||.1,Mp=ou.length;for(Fl&&(bs=qs==js||qs||Fl);$l!==Mp&&(Rl=ou[$l])!=null;$l++){if(Ws&&Rl){for(Nl=0,!qs&&Rl.ownerDocument!=js&&(Ms(Rl),xl=!Vl);Kl=so[Nl++];)if(Kl(Rl,qs||js,xl)){Ol.push(Rl);break}Fl&&(Wu=Dp)}ms&&((Rl=!Kl&&Rl)&&mu--,Vs&&Du.push(Rl))}if(mu+=$l,ms&&$l!==mu){for(Nl=0;Kl=os[Nl++];)Kl(Du,Lu,qs,xl);if(Vs){if(mu>0)for(;$l--;)Du[$l]||Lu[$l]||(Lu[$l]=_p.call(Ol));Lu=Wp(Lu)}Cp.apply(Ol,Lu),Fl&&!Vs&&Lu.length>0&&mu+os.length>1&&du.uniqueSort(Ol)}return Fl&&(Wu=Dp,bs=Yu),Du};return ms?Ju(Ss):Ss}return ss=du.compile=function(so,os){var ms,Ws=[],Ss=[],Vs=Vp[so+" "];if(!Vs){for(os||(os=Jn(so)),ms=os.length;ms--;)Vs=Zp(os[ms]),Vs[cu]?Ws.push(Vs):Ss.push(Vs);Vs=Vp(so,xm(Ss,Ws)),Vs.selector=so}return Vs},ls=du.select=function(so,os,ms,Ws){var Ss,Vs,qs,xl,Ol,Fl=typeof so=="function"&&so,Rl=!Ws&&Jn(so=Fl.selector||so);if(ms=ms||[],Rl.length===1){if(Vs=Rl[0]=Rl[0].slice(0),Vs.length>2&&(qs=Vs[0]).type==="ID"&&os.nodeType===9&&Vl&&tn.relative[Vs[1].type]){if(os=(tn.find.ID(qs.matches[0].replace(fp,gp),os)||[])[0],os)Fl&&(os=os.parentNode);else return ms;so=so.slice(Vs.shift().value.length)}for(Ss=Up.needsContext.test(so)?0:Vs.length;Ss--&&(qs=Vs[Ss],!tn.relative[xl=qs.type]);)if((Ol=tn.find[xl])&&(Ws=Ol(qs.matches[0].replace(fp,gp),hp.test(Vs[0].type)&&Xp(os.parentNode)||os))){if(Vs.splice(Ss,1),so=Ws.length&&_d(Vs),!so)return Cp.apply(ms,Ws),ms;break}}return(Fl||ss(so,Rl))(Ws,os,!Vl,ms,!os||hp.test(so)&&Xp(os.parentNode)||os),ms},br.sortStable=cu.split("").sort(Sp).join("")===cu,br.detectDuplicates=!!Xs,Ms(),br.sortDetached=_c(function(so){return so.compareDocumentPosition(js.createElement("fieldset"))&1}),_c(function(so){return so.innerHTML="<a href='#'></a>",so.firstChild.getAttribute("href")==="#"})||Yp("type|href|height|width",function(so,os,ms){if(!ms)return so.getAttribute(os,os.toLowerCase()==="type"?1:2)}),(!br.attributes||!_c(function(so){return so.innerHTML="<input/>",so.firstChild.setAttribute("value",""),so.firstChild.getAttribute("value")===""}))&&Yp("value",function(so,os,ms){if(!ms&&so.nodeName.toLowerCase()==="input")return so.defaultValue}),_c(function(so){return so.getAttribute("disabled")==null})||Yp(nm,function(so,os,ms){var Ws;if(!ms)return so[os]===!0?os.toLowerCase():(Ws=so.getAttributeNode(os))&&Ws.specified?Ws.value:null}),du}(e);wt.find=jt,wt.expr=jt.selectors,wt.expr[":"]=wt.expr.pseudos,wt.uniqueSort=wt.unique=jt.uniqueSort,wt.text=jt.getText,wt.isXMLDoc=jt.isXML,wt.contains=jt.contains,wt.escapeSelector=jt.escape;var hr=function(Ht,mr,br){for(var tn=[],Gn=br!==void 0;(Ht=Ht[mr])&&Ht.nodeType!==9;)if(Ht.nodeType===1){if(Gn&&wt(Ht).is(br))break;tn.push(Ht)}return tn},gr=function(Ht,mr){for(var br=[];Ht;Ht=Ht.nextSibling)Ht.nodeType===1&&Ht!==mr&&br.push(Ht);return br},Cr=wt.expr.match.needsContext;function wr(Ht,mr){return Ht.nodeName&&Ht.nodeName.toLowerCase()===mr.toLowerCase()}var yr=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function xr(Ht,mr,br){return it(mr)?wt.grep(Ht,function(tn,Gn){return!!mr.call(tn,Gn,tn)!==br}):mr.nodeType?wt.grep(Ht,function(tn){return tn===mr!==br}):typeof mr!="string"?wt.grep(Ht,function(tn){return j.call(mr,tn)>-1!==br}):wt.filter(mr,Ht,br)}wt.filter=function(Ht,mr,br){var tn=mr[0];return br&&(Ht=":not("+Ht+")"),mr.length===1&&tn.nodeType===1?wt.find.matchesSelector(tn,Ht)?[tn]:[]:wt.find.matches(Ht,wt.grep(mr,function(Gn){return Gn.nodeType===1}))},wt.fn.extend({find:function(Ht){var mr,br,tn=this.length,Gn=this;if(typeof Ht!="string")return this.pushStack(wt(Ht).filter(function(){for(mr=0;mr<tn;mr++)if(wt.contains(Gn[mr],this))return!0}));for(br=this.pushStack([]),mr=0;mr<tn;mr++)wt.find(Ht,Gn[mr],br);return tn>1?wt.uniqueSort(br):br},filter:function(Ht){return this.pushStack(xr(this,Ht||[],!1))},not:function(Ht){return this.pushStack(xr(this,Ht||[],!0))},is:function(Ht){return!!xr(this,typeof Ht=="string"&&Cr.test(Ht)?wt(Ht):Ht||[],!1).length}});var In,rn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Sr=wt.fn.init=function(Ht,mr,br){var tn,Gn;if(!Ht)return this;if(br=br||In,typeof Ht=="string")if(Ht[0]==="<"&&Ht[Ht.length-1]===">"&&Ht.length>=3?tn=[null,Ht,null]:tn=rn.exec(Ht),tn&&(tn[1]||!mr))if(tn[1]){if(mr=mr instanceof wt?mr[0]:mr,wt.merge(this,wt.parseHTML(tn[1],mr&&mr.nodeType?mr.ownerDocument||mr:Mt,!0)),yr.test(tn[1])&&wt.isPlainObject(mr))for(tn in mr)it(this[tn])?this[tn](mr[tn]):this.attr(tn,mr[tn]);return this}else return Gn=Mt.getElementById(tn[2]),Gn&&(this[0]=Gn,this.length=1),this;else return!mr||mr.jquery?(mr||br).find(Ht):this.constructor(mr).find(Ht);else{if(Ht.nodeType)return this[0]=Ht,this.length=1,this;if(it(Ht))return br.ready!==void 0?br.ready(Ht):Ht(wt)}return wt.makeArray(Ht,this)};Sr.prototype=wt.fn,In=wt(Mt);var Tr=/^(?:parents|prev(?:Until|All))/,Ln={children:!0,contents:!0,next:!0,prev:!0};wt.fn.extend({has:function(Ht){var mr=wt(Ht,this),br=mr.length;return this.filter(function(){for(var tn=0;tn<br;tn++)if(wt.contains(this,mr[tn]))return!0})},closest:function(Ht,mr){var br,tn=0,Gn=this.length,Hn=[],Jn=typeof Ht!="string"&&wt(Ht);if(!Cr.test(Ht)){for(;tn<Gn;tn++)for(br=this[tn];br&&br!==mr;br=br.parentNode)if(br.nodeType<11&&(Jn?Jn.index(br)>-1:br.nodeType===1&&wt.find.matchesSelector(br,Ht))){Hn.push(br);break}}return this.pushStack(Hn.length>1?wt.uniqueSort(Hn):Hn)},index:function(Ht){return Ht?typeof Ht=="string"?j.call(wt(Ht),this[0]):j.call(this,Ht.jquery?Ht[0]:Ht):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(Ht,mr){return this.pushStack(wt.uniqueSort(wt.merge(this.get(),wt(Ht,mr))))},addBack:function(Ht){return this.add(Ht==null?this.prevObject:this.prevObject.filter(Ht))}});function Fn(Ht,mr){for(;(Ht=Ht[mr])&&Ht.nodeType!==1;);return Ht}wt.each({parent:function(Ht){var mr=Ht.parentNode;return mr&&mr.nodeType!==11?mr:null},parents:function(Ht){return hr(Ht,"parentNode")},parentsUntil:function(Ht,mr,br){return hr(Ht,"parentNode",br)},next:function(Ht){return Fn(Ht,"nextSibling")},prev:function(Ht){return Fn(Ht,"previousSibling")},nextAll:function(Ht){return hr(Ht,"nextSibling")},prevAll:function(Ht){return hr(Ht,"previousSibling")},nextUntil:function(Ht,mr,br){return hr(Ht,"nextSibling",br)},prevUntil:function(Ht,mr,br){return hr(Ht,"previousSibling",br)},siblings:function(Ht){return gr((Ht.parentNode||{}).firstChild,Ht)},children:function(Ht){return gr(Ht.firstChild)},contents:function(Ht){return Ht.contentDocument!=null&&h(Ht.contentDocument)?Ht.contentDocument:(wr(Ht,"template")&&(Ht=Ht.content||Ht),wt.merge([],Ht.childNodes))}},function(Ht,mr){wt.fn[Ht]=function(br,tn){var Gn=wt.map(this,mr,br);return Ht.slice(-5)!=="Until"&&(tn=br),tn&&typeof tn=="string"&&(Gn=wt.filter(tn,Gn)),this.length>1&&(Ln[Ht]||wt.uniqueSort(Gn),Tr.test(Ht)&&Gn.reverse()),this.pushStack(Gn)}});var Or=/[^\x20\t\r\n\f]+/g;function Nn(Ht){var mr={};return wt.each(Ht.match(Or)||[],function(br,tn){mr[tn]=!0}),mr}wt.Callbacks=function(Ht){Ht=typeof Ht=="string"?Nn(Ht):wt.extend({},Ht);var mr,br,tn,Gn,Hn=[],Jn=[],ss=-1,ls=function(){for(Gn=Gn||Ht.once,tn=mr=!0;Jn.length;ss=-1)for(br=Jn.shift();++ss<Hn.length;)Hn[ss].apply(br[0],br[1])===!1&&Ht.stopOnFalse&&(ss=Hn.length,br=!1);Ht.memory||(br=!1),mr=!1,Gn&&(br?Hn=[]:Hn="")},bs={add:function(){return Hn&&(br&&!mr&&(ss=Hn.length-1,Jn.push(br)),function $s(Xs){wt.each(Xs,function(Ms,js){it(js)?(!Ht.unique||!bs.has(js))&&Hn.push(js):js&&js.length&&pt(js)!=="string"&&$s(js)})}(arguments),br&&!mr&&ls()),this},remove:function(){return wt.each(arguments,function($s,Xs){for(var Ms;(Ms=wt.inArray(Xs,Hn,Ms))>-1;)Hn.splice(Ms,1),Ms<=ss&&ss--}),this},has:function($s){return $s?wt.inArray($s,Hn)>-1:Hn.length>0},empty:function(){return Hn&&(Hn=[]),this},disable:function(){return Gn=Jn=[],Hn=br="",this},disabled:function(){return!Hn},lock:function(){return Gn=Jn=[],!br&&!mr&&(Hn=br=""),this},locked:function(){return!!Gn},fireWith:function($s,Xs){return Gn||(Xs=Xs||[],Xs=[$s,Xs.slice?Xs.slice():Xs],Jn.push(Xs),mr||ls()),this},fire:function(){return bs.fireWith(this,arguments),this},fired:function(){return!!tn}};return bs};function eo(Ht){return Ht}function uo(Ht){throw Ht}function wo(Ht,mr,br,tn){var Gn;try{Ht&&it(Gn=Ht.promise)?Gn.call(Ht).done(mr).fail(br):Ht&&it(Gn=Ht.then)?Gn.call(Ht,mr,br):mr.apply(void 0,[Ht].slice(tn))}catch(Hn){br.apply(void 0,[Hn])}}wt.extend({Deferred:function(Ht){var mr=[["notify","progress",wt.Callbacks("memory"),wt.Callbacks("memory"),2],["resolve","done",wt.Callbacks("once memory"),wt.Callbacks("once memory"),0,"resolved"],["reject","fail",wt.Callbacks("once memory"),wt.Callbacks("once memory"),1,"rejected"]],br="pending",tn={state:function(){return br},always:function(){return Gn.done(arguments).fail(arguments),this},catch:function(Hn){return tn.then(null,Hn)},pipe:function(){var Hn=arguments;return wt.Deferred(function(Jn){wt.each(mr,function(ss,ls){var bs=it(Hn[ls[4]])&&Hn[ls[4]];Gn[ls[1]](function(){var $s=bs&&bs.apply(this,arguments);$s&&it($s.promise)?$s.promise().progress(Jn.notify).done(Jn.resolve).fail(Jn.reject):Jn[ls[0]+"With"](this,bs?[$s]:arguments)})}),Hn=null}).promise()},then:function(Hn,Jn,ss){var ls=0;function bs($s,Xs,Ms,js){return function(){var Ml=this,Vl=arguments,Il=function(){var Ru,ku;if(!($s<ls)){if(Ru=Ms.apply(Ml,Vl),Ru===Xs.promise())throw new TypeError("Thenable self-resolution");ku=Ru&&(typeof Ru=="object"||typeof Ru=="function")&&Ru.then,it(ku)?js?ku.call(Ru,bs(ls,Xs,eo,js),bs(ls,Xs,uo,js)):(ls++,ku.call(Ru,bs(ls,Xs,eo,js),bs(ls,Xs,uo,js),bs(ls,Xs,eo,Xs.notifyWith))):(Ms!==eo&&(Ml=void 0,Vl=[Ru]),(js||Xs.resolveWith)(Ml,Vl))}},Pu=js?Il:function(){try{Il()}catch(Ru){wt.Deferred.exceptionHook&&wt.Deferred.exceptionHook(Ru,Pu.stackTrace),$s+1>=ls&&(Ms!==uo&&(Ml=void 0,Vl=[Ru]),Xs.rejectWith(Ml,Vl))}};$s?Pu():(wt.Deferred.getStackHook&&(Pu.stackTrace=wt.Deferred.getStackHook()),e.setTimeout(Pu))}}return wt.Deferred(function($s){mr[0][3].add(bs(0,$s,it(ss)?ss:eo,$s.notifyWith)),mr[1][3].add(bs(0,$s,it(Hn)?Hn:eo)),mr[2][3].add(bs(0,$s,it(Jn)?Jn:uo))}).promise()},promise:function(Hn){return Hn!=null?wt.extend(Hn,tn):tn}},Gn={};return wt.each(mr,function(Hn,Jn){var ss=Jn[2],ls=Jn[5];tn[Jn[1]]=ss.add,ls&&ss.add(function(){br=ls},mr[3-Hn][2].disable,mr[3-Hn][3].disable,mr[0][2].lock,mr[0][3].lock),ss.add(Jn[3].fire),Gn[Jn[0]]=function(){return Gn[Jn[0]+"With"](this===Gn?void 0:this,arguments),this},Gn[Jn[0]+"With"]=ss.fireWith}),tn.promise(Gn),Ht&&Ht.call(Gn,Gn),Gn},when:function(Ht){var mr=arguments.length,br=mr,tn=Array(br),Gn=g.call(arguments),Hn=wt.Deferred(),Jn=function(ss){return function(ls){tn[ss]=this,Gn[ss]=arguments.length>1?g.call(arguments):ls,--mr||Hn.resolveWith(tn,Gn)}};if(mr<=1&&(wo(Ht,Hn.done(Jn(br)).resolve,Hn.reject,!mr),Hn.state()==="pending"||it(Gn[br]&&Gn[br].then)))return Hn.then();for(;br--;)wo(Gn[br],Jn(br),Hn.reject);return Hn.promise()}});var bo=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;wt.Deferred.exceptionHook=function(Ht,mr){e.console&&e.console.warn&&Ht&&bo.test(Ht.name)&&e.console.warn("jQuery.Deferred exception: "+Ht.message,Ht.stack,mr)},wt.readyException=function(Ht){e.setTimeout(function(){throw Ht})};var es=wt.Deferred();wt.fn.ready=function(Ht){return es.then(Ht).catch(function(mr){wt.readyException(mr)}),this},wt.extend({isReady:!1,readyWait:1,ready:function(Ht){(Ht===!0?--wt.readyWait:wt.isReady)||(wt.isReady=!0,!(Ht!==!0&&--wt.readyWait>0)&&es.resolveWith(Mt,[wt]))}}),wt.ready.then=es.then;function rs(){Mt.removeEventListener("DOMContentLoaded",rs),e.removeEventListener("load",rs),wt.ready()}Mt.readyState==="complete"||Mt.readyState!=="loading"&&!Mt.documentElement.doScroll?e.setTimeout(wt.ready):(Mt.addEventListener("DOMContentLoaded",rs),e.addEventListener("load",rs));var vo=function(Ht,mr,br,tn,Gn,Hn,Jn){var ss=0,ls=Ht.length,bs=br==null;if(pt(br)==="object"){Gn=!0;for(ss in br)vo(Ht,mr,ss,br[ss],!0,Hn,Jn)}else if(tn!==void 0&&(Gn=!0,it(tn)||(Jn=!0),bs&&(Jn?(mr.call(Ht,tn),mr=null):(bs=mr,mr=function($s,Xs,Ms){return bs.call(wt($s),Ms)})),mr))for(;ss<ls;ss++)mr(Ht[ss],br,Jn?tn:tn.call(Ht[ss],ss,mr(Ht[ss],br)));return Gn?Ht:bs?mr.call(Ht):ls?mr(Ht[0],br):Hn},gs=/^-ms-/,cs=/-([a-z])/g;function Gs(Ht,mr){return mr.toUpperCase()}function $n(Ht){return Ht.replace(gs,"ms-").replace(cs,Gs)}var Kn=function(Ht){return Ht.nodeType===1||Ht.nodeType===9||!+Ht.nodeType};function Bn(){this.expando=wt.expando+Bn.uid++}Bn.uid=1,Bn.prototype={cache:function(Ht){var mr=Ht[this.expando];return mr||(mr={},Kn(Ht)&&(Ht.nodeType?Ht[this.expando]=mr:Object.defineProperty(Ht,this.expando,{value:mr,configurable:!0}))),mr},set:function(Ht,mr,br){var tn,Gn=this.cache(Ht);if(typeof mr=="string")Gn[$n(mr)]=br;else for(tn in mr)Gn[$n(tn)]=mr[tn];return Gn},get:function(Ht,mr){return mr===void 0?this.cache(Ht):Ht[this.expando]&&Ht[this.expando][$n(mr)]},access:function(Ht,mr,br){return mr===void 0||mr&&typeof mr=="string"&&br===void 0?this.get(Ht,mr):(this.set(Ht,mr,br),br!==void 0?br:mr)},remove:function(Ht,mr){var br,tn=Ht[this.expando];if(tn!==void 0){if(mr!==void 0)for(Array.isArray(mr)?mr=mr.map($n):(mr=$n(mr),mr=mr in tn?[mr]:mr.match(Or)||[]),br=mr.length;br--;)delete tn[mr[br]];(mr===void 0||wt.isEmptyObject(tn))&&(Ht.nodeType?Ht[this.expando]=void 0:delete Ht[this.expando])}},hasData:function(Ht){var mr=Ht[this.expando];return mr!==void 0&&!wt.isEmptyObject(mr)}};var co=new Bn,vs=new Bn,Ts=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fs=/[A-Z]/g;function Os(Ht){return Ht==="true"?!0:Ht==="false"?!1:Ht==="null"?null:Ht===+Ht+""?+Ht:Ts.test(Ht)?JSON.parse(Ht):Ht}function Ns(Ht,mr,br){var tn;if(br===void 0&&Ht.nodeType===1)if(tn="data-"+mr.replace(Fs,"-$&").toLowerCase(),br=Ht.getAttribute(tn),typeof br=="string"){try{br=Os(br)}catch{}vs.set(Ht,mr,br)}else br=void 0;return br}wt.extend({hasData:function(Ht){return vs.hasData(Ht)||co.hasData(Ht)},data:function(Ht,mr,br){return vs.access(Ht,mr,br)},removeData:function(Ht,mr){vs.remove(Ht,mr)},_data:function(Ht,mr,br){return co.access(Ht,mr,br)},_removeData:function(Ht,mr){co.remove(Ht,mr)}}),wt.fn.extend({data:function(Ht,mr){var br,tn,Gn,Hn=this[0],Jn=Hn&&Hn.attributes;if(Ht===void 0){if(this.length&&(Gn=vs.get(Hn),Hn.nodeType===1&&!co.get(Hn,"hasDataAttrs"))){for(br=Jn.length;br--;)Jn[br]&&(tn=Jn[br].name,tn.indexOf("data-")===0&&(tn=$n(tn.slice(5)),Ns(Hn,tn,Gn[tn])));co.set(Hn,"hasDataAttrs",!0)}return Gn}return typeof Ht=="object"?this.each(function(){vs.set(this,Ht)}):vo(this,function(ss){var ls;if(Hn&&ss===void 0)return ls=vs.get(Hn,Ht),ls!==void 0||(ls=Ns(Hn,Ht),ls!==void 0)?ls:void 0;this.each(function(){vs.set(this,Ht,ss)})},null,mr,arguments.length>1,null,!0)},removeData:function(Ht){return this.each(function(){vs.remove(this,Ht)})}}),wt.extend({queue:function(Ht,mr,br){var tn;if(Ht)return mr=(mr||"fx")+"queue",tn=co.get(Ht,mr),br&&(!tn||Array.isArray(br)?tn=co.access(Ht,mr,wt.makeArray(br)):tn.push(br)),tn||[]},dequeue:function(Ht,mr){mr=mr||"fx";var br=wt.queue(Ht,mr),tn=br.length,Gn=br.shift(),Hn=wt._queueHooks(Ht,mr),Jn=function(){wt.dequeue(Ht,mr)};Gn==="inprogress"&&(Gn=br.shift(),tn--),Gn&&(mr==="fx"&&br.unshift("inprogress"),delete Hn.stop,Gn.call(Ht,Jn,Hn)),!tn&&Hn&&Hn.empty.fire()},_queueHooks:function(Ht,mr){var br=mr+"queueHooks";return co.get(Ht,br)||co.access(Ht,br,{empty:wt.Callbacks("once memory").add(function(){co.remove(Ht,[mr+"queue",br])})})}}),wt.fn.extend({queue:function(Ht,mr){var br=2;return typeof Ht!="string"&&(mr=Ht,Ht="fx",br--),arguments.length<br?wt.queue(this[0],Ht):mr===void 0?this:this.each(function(){var tn=wt.queue(this,Ht,mr);wt._queueHooks(this,Ht),Ht==="fx"&&tn[0]!=="inprogress"&&wt.dequeue(this,Ht)})},dequeue:function(Ht){return this.each(function(){wt.dequeue(this,Ht)})},clearQueue:function(Ht){return this.queue(Ht||"fx",[])},promise:function(Ht,mr){var br,tn=1,Gn=wt.Deferred(),Hn=this,Jn=this.length,ss=function(){--tn||Gn.resolveWith(Hn,[Hn])};for(typeof Ht!="string"&&(mr=Ht,Ht=void 0),Ht=Ht||"fx";Jn--;)br=co.get(Hn[Jn],Ht+"queueHooks"),br&&br.empty&&(tn++,br.empty.add(ss));return ss(),Gn.promise(mr)}});var Ps=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ks=new RegExp("^(?:([+-])=|)("+Ps+")([a-z%]*)$","i"),Bs=["Top","Right","Bottom","Left"],_l=Mt.documentElement,Cl=function(Ht){return wt.contains(Ht.ownerDocument,Ht)},Zn={composed:!0};_l.getRootNode&&(Cl=function(Ht){return wt.contains(Ht.ownerDocument,Ht)||Ht.getRootNode(Zn)===Ht.ownerDocument});var Vn=function(Ht,mr){return Ht=mr||Ht,Ht.style.display==="none"||Ht.style.display===""&&Cl(Ht)&&wt.css(Ht,"display")==="none"};function qn(Ht,mr,br,tn){var Gn,Hn,Jn=20,ss=tn?function(){return tn.cur()}:function(){return wt.css(Ht,mr,"")},ls=ss(),bs=br&&br[3]||(wt.cssNumber[mr]?"":"px"),$s=Ht.nodeType&&(wt.cssNumber[mr]||bs!=="px"&&+ls)&&Ks.exec(wt.css(Ht,mr));if($s&&$s[3]!==bs){for(ls=ls/2,bs=bs||$s[3],$s=+ls||1;Jn--;)wt.style(Ht,mr,$s+bs),(1-Hn)*(1-(Hn=ss()/ls||.5))<=0&&(Jn=0),$s=$s/Hn;$s=$s*2,wt.style(Ht,mr,$s+bs),br=br||[]}return br&&($s=+$s||+ls||0,Gn=br[1]?$s+(br[1]+1)*br[2]:+br[2],tn&&(tn.unit=bs,tn.start=$s,tn.end=Gn)),Gn}var hs={};function us(Ht){var mr,br=Ht.ownerDocument,tn=Ht.nodeName,Gn=hs[tn];return Gn||(mr=br.body.appendChild(br.createElement(tn)),Gn=wt.css(mr,"display"),mr.parentNode.removeChild(mr),Gn==="none"&&(Gn="block"),hs[tn]=Gn,Gn)}function xs(Ht,mr){for(var br,tn,Gn=[],Hn=0,Jn=Ht.length;Hn<Jn;Hn++)tn=Ht[Hn],tn.style&&(br=tn.style.display,mr?(br==="none"&&(Gn[Hn]=co.get(tn,"display")||null,Gn[Hn]||(tn.style.display="")),tn.style.display===""&&Vn(tn)&&(Gn[Hn]=us(tn))):br!=="none"&&(Gn[Hn]="none",co.set(tn,"display",br)));for(Hn=0;Hn<Jn;Hn++)Gn[Hn]!=null&&(Ht[Hn].style.display=Gn[Hn]);return Ht}wt.fn.extend({show:function(){return xs(this,!0)},hide:function(){return xs(this)},toggle:function(Ht){return typeof Ht=="boolean"?Ht?this.show():this.hide():this.each(function(){Vn(this)?wt(this).show():wt(this).hide()})}});var Rs=/^(?:checkbox|radio)$/i,zn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ds=/^$|^module$|\/(?:java|ecma)script/i;(function(){var Ht=Mt.createDocumentFragment(),mr=Ht.appendChild(Mt.createElement("div")),br=Mt.createElement("input");br.setAttribute("type","radio"),br.setAttribute("checked","checked"),br.setAttribute("name","t"),mr.appendChild(br),It.checkClone=mr.cloneNode(!0).cloneNode(!0).lastChild.checked,mr.innerHTML="<textarea>x</textarea>",It.noCloneChecked=!!mr.cloneNode(!0).lastChild.defaultValue,mr.innerHTML="<option></option>",It.option=!!mr.lastChild})();var _s={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_s.tbody=_s.tfoot=_s.colgroup=_s.caption=_s.thead,_s.th=_s.td,It.option||(_s.optgroup=_s.option=[1,"<select multiple='multiple'>","</select>"]);function ks(Ht,mr){var br;return typeof Ht.getElementsByTagName<"u"?br=Ht.getElementsByTagName(mr||"*"):typeof Ht.querySelectorAll<"u"?br=Ht.querySelectorAll(mr||"*"):br=[],mr===void 0||mr&&wr(Ht,mr)?wt.merge([Ht],br):br}function as(Ht,mr){for(var br=0,tn=Ht.length;br<tn;br++)co.set(Ht[br],"globalEval",!mr||co.get(mr[br],"globalEval"))}var Ls=/<|&#?\w+;/;function Un(Ht,mr,br,tn,Gn){for(var Hn,Jn,ss,ls,bs,$s,Xs=mr.createDocumentFragment(),Ms=[],js=0,Ml=Ht.length;js<Ml;js++)if(Hn=Ht[js],Hn||Hn===0)if(pt(Hn)==="object")wt.merge(Ms,Hn.nodeType?[Hn]:Hn);else if(!Ls.test(Hn))Ms.push(mr.createTextNode(Hn));else{for(Jn=Jn||Xs.appendChild(mr.createElement("div")),ss=(zn.exec(Hn)||["",""])[1].toLowerCase(),ls=_s[ss]||_s._default,Jn.innerHTML=ls[1]+wt.htmlPrefilter(Hn)+ls[2],$s=ls[0];$s--;)Jn=Jn.lastChild;wt.merge(Ms,Jn.childNodes),Jn=Xs.firstChild,Jn.textContent=""}for(Xs.textContent="",js=0;Hn=Ms[js++];){if(tn&&wt.inArray(Hn,tn)>-1){Gn&&Gn.push(Hn);continue}if(bs=Cl(Hn),Jn=ks(Xs.appendChild(Hn),"script"),bs&&as(Jn),br)for($s=0;Hn=Jn[$s++];)ds.test(Hn.type||"")&&br.push(Hn)}return Xs}var As=/^key/,yl=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Er=/^([^.]*)(?:\.(.+)|)/;function ys(){return!0}function fs(){return!1}function Yn(Ht,mr){return Ht===is()==(mr==="focus")}function is(){try{return Mt.activeElement}catch{}}function Es(Ht,mr,br,tn,Gn,Hn){var Jn,ss;if(typeof mr=="object"){typeof br!="string"&&(tn=tn||br,br=void 0);for(ss in mr)Es(Ht,ss,br,tn,mr[ss],Hn);return Ht}if(tn==null&&Gn==null?(Gn=br,tn=br=void 0):Gn==null&&(typeof br=="string"?(Gn=tn,tn=void 0):(Gn=tn,tn=br,br=void 0)),Gn===!1)Gn=fs;else if(!Gn)return Ht;return Hn===1&&(Jn=Gn,Gn=function(ls){return wt().off(ls),Jn.apply(this,arguments)},Gn.guid=Jn.guid||(Jn.guid=wt.guid++)),Ht.each(function(){wt.event.add(this,mr,Gn,tn,br)})}wt.event={global:{},add:function(Ht,mr,br,tn,Gn){var Hn,Jn,ss,ls,bs,$s,Xs,Ms,js,Ml,Vl,Il=co.get(Ht);if(Kn(Ht))for(br.handler&&(Hn=br,br=Hn.handler,Gn=Hn.selector),Gn&&wt.find.matchesSelector(_l,Gn),br.guid||(br.guid=wt.guid++),(ls=Il.events)||(ls=Il.events=Object.create(null)),(Jn=Il.handle)||(Jn=Il.handle=function(Pu){return typeof wt<"u"&&wt.event.triggered!==Pu.type?wt.event.dispatch.apply(Ht,arguments):void 0}),mr=(mr||"").match(Or)||[""],bs=mr.length;bs--;)ss=Er.exec(mr[bs])||[],js=Vl=ss[1],Ml=(ss[2]||"").split(".").sort(),js&&(Xs=wt.event.special[js]||{},js=(Gn?Xs.delegateType:Xs.bindType)||js,Xs=wt.event.special[js]||{},$s=wt.extend({type:js,origType:Vl,data:tn,handler:br,guid:br.guid,selector:Gn,needsContext:Gn&&wt.expr.match.needsContext.test(Gn),namespace:Ml.join(".")},Hn),(Ms=ls[js])||(Ms=ls[js]=[],Ms.delegateCount=0,(!Xs.setup||Xs.setup.call(Ht,tn,Ml,Jn)===!1)&&Ht.addEventListener&&Ht.addEventListener(js,Jn)),Xs.add&&(Xs.add.call(Ht,$s),$s.handler.guid||($s.handler.guid=br.guid)),Gn?Ms.splice(Ms.delegateCount++,0,$s):Ms.push($s),wt.event.global[js]=!0)},remove:function(Ht,mr,br,tn,Gn){var Hn,Jn,ss,ls,bs,$s,Xs,Ms,js,Ml,Vl,Il=co.hasData(Ht)&&co.get(Ht);if(!(!Il||!(ls=Il.events))){for(mr=(mr||"").match(Or)||[""],bs=mr.length;bs--;){if(ss=Er.exec(mr[bs])||[],js=Vl=ss[1],Ml=(ss[2]||"").split(".").sort(),!js){for(js in ls)wt.event.remove(Ht,js+mr[bs],br,tn,!0);continue}for(Xs=wt.event.special[js]||{},js=(tn?Xs.delegateType:Xs.bindType)||js,Ms=ls[js]||[],ss=ss[2]&&new RegExp("(^|\\.)"+Ml.join("\\.(?:.*\\.|)")+"(\\.|$)"),Jn=Hn=Ms.length;Hn--;)$s=Ms[Hn],(Gn||Vl===$s.origType)&&(!br||br.guid===$s.guid)&&(!ss||ss.test($s.namespace))&&(!tn||tn===$s.selector||tn==="**"&&$s.selector)&&(Ms.splice(Hn,1),$s.selector&&Ms.delegateCount--,Xs.remove&&Xs.remove.call(Ht,$s));Jn&&!Ms.length&&((!Xs.teardown||Xs.teardown.call(Ht,Ml,Il.handle)===!1)&&wt.removeEvent(Ht,js,Il.handle),delete ls[js])}wt.isEmptyObject(ls)&&co.remove(Ht,"handle events")}},dispatch:function(Ht){var mr,br,tn,Gn,Hn,Jn,ss=new Array(arguments.length),ls=wt.event.fix(Ht),bs=(co.get(this,"events")||Object.create(null))[ls.type]||[],$s=wt.event.special[ls.type]||{};for(ss[0]=ls,mr=1;mr<arguments.length;mr++)ss[mr]=arguments[mr];if(ls.delegateTarget=this,!($s.preDispatch&&$s.preDispatch.call(this,ls)===!1)){for(Jn=wt.event.handlers.call(this,ls,bs),mr=0;(Gn=Jn[mr++])&&!ls.isPropagationStopped();)for(ls.currentTarget=Gn.elem,br=0;(Hn=Gn.handlers[br++])&&!ls.isImmediatePropagationStopped();)(!ls.rnamespace||Hn.namespace===!1||ls.rnamespace.test(Hn.namespace))&&(ls.handleObj=Hn,ls.data=Hn.data,tn=((wt.event.special[Hn.origType]||{}).handle||Hn.handler).apply(Gn.elem,ss),tn!==void 0&&(ls.result=tn)===!1&&(ls.preventDefault(),ls.stopPropagation()));return $s.postDispatch&&$s.postDispatch.call(this,ls),ls.result}},handlers:function(Ht,mr){var br,tn,Gn,Hn,Jn,ss=[],ls=mr.delegateCount,bs=Ht.target;if(ls&&bs.nodeType&&!(Ht.type==="click"&&Ht.button>=1)){for(;bs!==this;bs=bs.parentNode||this)if(bs.nodeType===1&&!(Ht.type==="click"&&bs.disabled===!0)){for(Hn=[],Jn={},br=0;br<ls;br++)tn=mr[br],Gn=tn.selector+" ",Jn[Gn]===void 0&&(Jn[Gn]=tn.needsContext?wt(Gn,this).index(bs)>-1:wt.find(Gn,this,null,[bs]).length),Jn[Gn]&&Hn.push(tn);Hn.length&&ss.push({elem:bs,handlers:Hn})}}return bs=this,ls<mr.length&&ss.push({elem:bs,handlers:mr.slice(ls)}),ss},addProp:function(Ht,mr){Object.defineProperty(wt.Event.prototype,Ht,{enumerable:!0,configurable:!0,get:it(mr)?function(){if(this.originalEvent)return mr(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[Ht]},set:function(br){Object.defineProperty(this,Ht,{enumerable:!0,configurable:!0,writable:!0,value:br})}})},fix:function(Ht){return Ht[wt.expando]?Ht:new wt.Event(Ht)},special:{load:{noBubble:!0},click:{setup:function(Ht){var mr=this||Ht;return Rs.test(mr.type)&&mr.click&&wr(mr,"input")&&zs(mr,"click",ys),!1},trigger:function(Ht){var mr=this||Ht;return Rs.test(mr.type)&&mr.click&&wr(mr,"input")&&zs(mr,"click"),!0},_default:function(Ht){var mr=Ht.target;return Rs.test(mr.type)&&mr.click&&wr(mr,"input")&&co.get(mr,"click")||wr(mr,"a")}},beforeunload:{postDispatch:function(Ht){Ht.result!==void 0&&Ht.originalEvent&&(Ht.originalEvent.returnValue=Ht.result)}}}};function zs(Ht,mr,br){if(!br){co.get(Ht,mr)===void 0&&wt.event.add(Ht,mr,ys);return}co.set(Ht,mr,!1),wt.event.add(Ht,mr,{namespace:!1,handler:function(tn){var Gn,Hn,Jn=co.get(this,mr);if(tn.isTrigger&1&&this[mr]){if(Jn.length)(wt.event.special[mr]||{}).delegateType&&tn.stopPropagation();else if(Jn=g.call(arguments),co.set(this,mr,Jn),Gn=br(this,mr),this[mr](),Hn=co.get(this,mr),Jn!==Hn||Gn?co.set(this,mr,!1):Hn={},Jn!==Hn)return tn.stopImmediatePropagation(),tn.preventDefault(),Hn.value}else Jn.length&&(co.set(this,mr,{value:wt.event.trigger(wt.extend(Jn[0],wt.Event.prototype),Jn.slice(1),this)}),tn.stopImmediatePropagation())}})}wt.removeEvent=function(Ht,mr,br){Ht.removeEventListener&&Ht.removeEventListener(mr,br)},wt.Event=function(Ht,mr){if(!(this instanceof wt.Event))return new wt.Event(Ht,mr);Ht&&Ht.type?(this.originalEvent=Ht,this.type=Ht.type,this.isDefaultPrevented=Ht.defaultPrevented||Ht.defaultPrevented===void 0&&Ht.returnValue===!1?ys:fs,this.target=Ht.target&&Ht.target.nodeType===3?Ht.target.parentNode:Ht.target,this.currentTarget=Ht.currentTarget,this.relatedTarget=Ht.relatedTarget):this.type=Ht,mr&&wt.extend(this,mr),this.timeStamp=Ht&&Ht.timeStamp||Date.now(),this[wt.expando]=!0},wt.Event.prototype={constructor:wt.Event,isDefaultPrevented:fs,isPropagationStopped:fs,isImmediatePropagationStopped:fs,isSimulated:!1,preventDefault:function(){var Ht=this.originalEvent;this.isDefaultPrevented=ys,Ht&&!this.isSimulated&&Ht.preventDefault()},stopPropagation:function(){var Ht=this.originalEvent;this.isPropagationStopped=ys,Ht&&!this.isSimulated&&Ht.stopPropagation()},stopImmediatePropagation:function(){var Ht=this.originalEvent;this.isImmediatePropagationStopped=ys,Ht&&!this.isSimulated&&Ht.stopImmediatePropagation(),this.stopPropagation()}},wt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(Ht){var mr=Ht.button;return Ht.which==null&&As.test(Ht.type)?Ht.charCode!=null?Ht.charCode:Ht.keyCode:!Ht.which&&mr!==void 0&&yl.test(Ht.type)?mr&1?1:mr&2?3:mr&4?2:0:Ht.which}},wt.event.addProp),wt.each({focus:"focusin",blur:"focusout"},function(Ht,mr){wt.event.special[Ht]={setup:function(){return zs(this,Ht,Yn),!1},trigger:function(){return zs(this,Ht),!0},delegateType:mr}}),wt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(Ht,mr){wt.event.special[Ht]={delegateType:mr,bindType:mr,handle:function(br){var tn,Gn=this,Hn=br.relatedTarget,Jn=br.handleObj;return(!Hn||Hn!==Gn&&!wt.contains(Gn,Hn))&&(br.type=Jn.origType,tn=Jn.handler.apply(this,arguments),br.type=mr),tn}}}),wt.fn.extend({on:function(Ht,mr,br,tn){return Es(this,Ht,mr,br,tn)},one:function(Ht,mr,br,tn){return Es(this,Ht,mr,br,tn,1)},off:function(Ht,mr,br){var tn,Gn;if(Ht&&Ht.preventDefault&&Ht.handleObj)return tn=Ht.handleObj,wt(Ht.delegateTarget).off(tn.namespace?tn.origType+"."+tn.namespace:tn.origType,tn.selector,tn.handler),this;if(typeof Ht=="object"){for(Gn in Ht)this.off(Gn,mr,Ht[Gn]);return this}return(mr===!1||typeof mr=="function")&&(br=mr,mr=void 0),br===!1&&(br=fs),this.each(function(){wt.event.remove(this,Ht,br,mr)})}});var Js=/<script|<style|<link/i,Hs=/checked\s*(?:[^=]|=\s*.checked.)/i,Al=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Zl(Ht,mr){return wr(Ht,"table")&&wr(mr.nodeType!==11?mr:mr.firstChild,"tr")&&wt(Ht).children("tbody")[0]||Ht}function Ll(Ht){return Ht.type=(Ht.getAttribute("type")!==null)+"/"+Ht.type,Ht}function Wl(Ht){return(Ht.type||"").slice(0,5)==="true/"?Ht.type=Ht.type.slice(5):Ht.removeAttribute("type"),Ht}function Xl(Ht,mr){var br,tn,Gn,Hn,Jn,ss,ls;if(mr.nodeType===1){if(co.hasData(Ht)&&(Hn=co.get(Ht),ls=Hn.events,ls)){co.remove(mr,"handle events");for(Gn in ls)for(br=0,tn=ls[Gn].length;br<tn;br++)wt.event.add(mr,Gn,ls[Gn][br])}vs.hasData(Ht)&&(Jn=vs.access(Ht),ss=wt.extend({},Jn),vs.set(mr,ss))}}function yu(Ht,mr){var br=mr.nodeName.toLowerCase();br==="input"&&Rs.test(Ht.type)?mr.checked=Ht.checked:(br==="input"||br==="textarea")&&(mr.defaultValue=Ht.defaultValue)}function lu(Ht,mr,br,tn){mr=b(mr);var Gn,Hn,Jn,ss,ls,bs,$s=0,Xs=Ht.length,Ms=Xs-1,js=mr[0],Ml=it(js);if(Ml||Xs>1&&typeof js=="string"&&!It.checkClone&&Hs.test(js))return Ht.each(function(Vl){var Il=Ht.eq(Vl);Ml&&(mr[0]=js.call(this,Vl,Il.html())),lu(Il,mr,br,tn)});if(Xs&&(Gn=Un(mr,Ht[0].ownerDocument,!1,Ht,tn),Hn=Gn.firstChild,Gn.childNodes.length===1&&(Gn=Hn),Hn||tn)){for(Jn=wt.map(ks(Gn,"script"),Ll),ss=Jn.length;$s<Xs;$s++)ls=Gn,$s!==Ms&&(ls=wt.clone(ls,!0,!0),ss&&wt.merge(Jn,ks(ls,"script"))),br.call(Ht[$s],ls,$s);if(ss)for(bs=Jn[Jn.length-1].ownerDocument,wt.map(Jn,Wl),$s=0;$s<ss;$s++)ls=Jn[$s],ds.test(ls.type||"")&&!co.access(ls,"globalEval")&&wt.contains(bs,ls)&&(ls.src&&(ls.type||"").toLowerCase()!=="module"?wt._evalUrl&&!ls.noModule&&wt._evalUrl(ls.src,{nonce:ls.nonce||ls.getAttribute("nonce")},bs):Lt(ls.textContent.replace(Al,""),ls,bs))}return Ht}function zu(Ht,mr,br){for(var tn,Gn=mr?wt.filter(mr,Ht):Ht,Hn=0;(tn=Gn[Hn])!=null;Hn++)!br&&tn.nodeType===1&&wt.cleanData(ks(tn)),tn.parentNode&&(br&&Cl(tn)&&as(ks(tn,"script")),tn.parentNode.removeChild(tn));return Ht}wt.extend({htmlPrefilter:function(Ht){return Ht},clone:function(Ht,mr,br){var tn,Gn,Hn,Jn,ss=Ht.cloneNode(!0),ls=Cl(Ht);if(!It.noCloneChecked&&(Ht.nodeType===1||Ht.nodeType===11)&&!wt.isXMLDoc(Ht))for(Jn=ks(ss),Hn=ks(Ht),tn=0,Gn=Hn.length;tn<Gn;tn++)yu(Hn[tn],Jn[tn]);if(mr)if(br)for(Hn=Hn||ks(Ht),Jn=Jn||ks(ss),tn=0,Gn=Hn.length;tn<Gn;tn++)Xl(Hn[tn],Jn[tn]);else Xl(Ht,ss);return Jn=ks(ss,"script"),Jn.length>0&&as(Jn,!ls&&ks(Ht,"script")),ss},cleanData:function(Ht){for(var mr,br,tn,Gn=wt.event.special,Hn=0;(br=Ht[Hn])!==void 0;Hn++)if(Kn(br)){if(mr=br[co.expando]){if(mr.events)for(tn in mr.events)Gn[tn]?wt.event.remove(br,tn):wt.removeEvent(br,tn,mr.handle);br[co.expando]=void 0}br[vs.expando]&&(br[vs.expando]=void 0)}}}),wt.fn.extend({detach:function(Ht){return zu(this,Ht,!0)},remove:function(Ht){return zu(this,Ht)},text:function(Ht){return vo(this,function(mr){return mr===void 0?wt.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=mr)})},null,Ht,arguments.length)},append:function(){return lu(this,arguments,function(Ht){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var mr=Zl(this,Ht);mr.appendChild(Ht)}})},prepend:function(){return lu(this,arguments,function(Ht){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var mr=Zl(this,Ht);mr.insertBefore(Ht,mr.firstChild)}})},before:function(){return lu(this,arguments,function(Ht){this.parentNode&&this.parentNode.insertBefore(Ht,this)})},after:function(){return lu(this,arguments,function(Ht){this.parentNode&&this.parentNode.insertBefore(Ht,this.nextSibling)})},empty:function(){for(var Ht,mr=0;(Ht=this[mr])!=null;mr++)Ht.nodeType===1&&(wt.cleanData(ks(Ht,!1)),Ht.textContent="");return this},clone:function(Ht,mr){return Ht=Ht??!1,mr=mr??Ht,this.map(function(){return wt.clone(this,Ht,mr)})},html:function(Ht){return vo(this,function(mr){var br=this[0]||{},tn=0,Gn=this.length;if(mr===void 0&&br.nodeType===1)return br.innerHTML;if(typeof mr=="string"&&!Js.test(mr)&&!_s[(zn.exec(mr)||["",""])[1].toLowerCase()]){mr=wt.htmlPrefilter(mr);try{for(;tn<Gn;tn++)br=this[tn]||{},br.nodeType===1&&(wt.cleanData(ks(br,!1)),br.innerHTML=mr);br=0}catch{}}br&&this.empty().append(mr)},null,Ht,arguments.length)},replaceWith:function(){var Ht=[];return lu(this,arguments,function(mr){var br=this.parentNode;wt.inArray(this,Ht)<0&&(wt.cleanData(ks(this)),br&&br.replaceChild(mr,this))},Ht)}}),wt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(Ht,mr){wt.fn[Ht]=function(br){for(var tn,Gn=[],Hn=wt(br),Jn=Hn.length-1,ss=0;ss<=Jn;ss++)tn=ss===Jn?this:this.clone(!0),wt(Hn[ss])[mr](tn),$.apply(Gn,tn.get());return this.pushStack(Gn)}});var Uu=new RegExp("^("+Ps+")(?!px)[a-z%]+$","i"),tu=function(Ht){var mr=Ht.ownerDocument.defaultView;return(!mr||!mr.opener)&&(mr=e),mr.getComputedStyle(Ht)},au=function(Ht,mr,br){var tn,Gn,Hn={};for(Gn in mr)Hn[Gn]=Ht.style[Gn],Ht.style[Gn]=mr[Gn];tn=br.call(Ht);for(Gn in mr)Ht.style[Gn]=Hn[Gn];return tn},uu=new RegExp(Bs.join("|"),"i");(function(){function Ht(){if(bs){ls.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",bs.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_l.appendChild(ls).appendChild(bs);var $s=e.getComputedStyle(bs);br=$s.top!=="1%",ss=mr($s.marginLeft)===12,bs.style.right="60%",Hn=mr($s.right)===36,tn=mr($s.width)===36,bs.style.position="absolute",Gn=mr(bs.offsetWidth/3)===12,_l.removeChild(ls),bs=null}}function mr($s){return Math.round(parseFloat($s))}var br,tn,Gn,Hn,Jn,ss,ls=Mt.createElement("div"),bs=Mt.createElement("div");bs.style&&(bs.style.backgroundClip="content-box",bs.cloneNode(!0).style.backgroundClip="",It.clearCloneStyle=bs.style.backgroundClip==="content-box",wt.extend(It,{boxSizingReliable:function(){return Ht(),tn},pixelBoxStyles:function(){return Ht(),Hn},pixelPosition:function(){return Ht(),br},reliableMarginLeft:function(){return Ht(),ss},scrollboxSize:function(){return Ht(),Gn},reliableTrDimensions:function(){var $s,Xs,Ms,js;return Jn==null&&($s=Mt.createElement("table"),Xs=Mt.createElement("tr"),Ms=Mt.createElement("div"),$s.style.cssText="position:absolute;left:-11111px",Xs.style.height="1px",Ms.style.height="9px",_l.appendChild($s).appendChild(Xs).appendChild(Ms),js=e.getComputedStyle(Xs),Jn=parseInt(js.height)>3,_l.removeChild($s)),Jn}}))})();function gu(Ht,mr,br){var tn,Gn,Hn,Jn,ss=Ht.style;return br=br||tu(Ht),br&&(Jn=br.getPropertyValue(mr)||br[mr],Jn===""&&!Cl(Ht)&&(Jn=wt.style(Ht,mr)),!It.pixelBoxStyles()&&Uu.test(Jn)&&uu.test(mr)&&(tn=ss.width,Gn=ss.minWidth,Hn=ss.maxWidth,ss.minWidth=ss.maxWidth=ss.width=Jn,Jn=br.width,ss.width=tn,ss.minWidth=Gn,ss.maxWidth=Hn)),Jn!==void 0?Jn+"":Jn}function bu(Ht,mr){return{get:function(){if(Ht()){delete this.get;return}return(this.get=mr).apply(this,arguments)}}}var Mu=["Webkit","Moz","ms"],np=Mt.createElement("div").style,lp={};function Tp(Ht){for(var mr=Ht[0].toUpperCase()+Ht.slice(1),br=Mu.length;br--;)if(Ht=Mu[br]+mr,Ht in np)return Ht}function ip(Ht){var mr=wt.cssProps[Ht]||lp[Ht];return mr||(Ht in np?Ht:lp[Ht]=Tp(Ht)||Ht)}var up=/^(none|table(?!-c[ea]).+)/,Ou=/^--/,qu={position:"absolute",visibility:"hidden",display:"block"},ep={letterSpacing:"0",fontWeight:"400"};function Bl(Ht,mr,br){var tn=Ks.exec(mr);return tn?Math.max(0,tn[2]-(br||0))+(tn[3]||"px"):mr}function Nu(Ht,mr,br,tn,Gn,Hn){var Jn=mr==="width"?1:0,ss=0,ls=0;if(br===(tn?"border":"content"))return 0;for(;Jn<4;Jn+=2)br==="margin"&&(ls+=wt.css(Ht,br+Bs[Jn],!0,Gn)),tn?(br==="content"&&(ls-=wt.css(Ht,"padding"+Bs[Jn],!0,Gn)),br!=="margin"&&(ls-=wt.css(Ht,"border"+Bs[Jn]+"Width",!0,Gn))):(ls+=wt.css(Ht,"padding"+Bs[Jn],!0,Gn),br!=="padding"?ls+=wt.css(Ht,"border"+Bs[Jn]+"Width",!0,Gn):ss+=wt.css(Ht,"border"+Bs[Jn]+"Width",!0,Gn));return!tn&&Hn>=0&&(ls+=Math.max(0,Math.ceil(Ht["offset"+mr[0].toUpperCase()+mr.slice(1)]-Hn-ls-ss-.5))||0),ls}function xu(Ht,mr,br){var tn=tu(Ht),Gn=!It.boxSizingReliable()||br,Hn=Gn&&wt.css(Ht,"boxSizing",!1,tn)==="border-box",Jn=Hn,ss=gu(Ht,mr,tn),ls="offset"+mr[0].toUpperCase()+mr.slice(1);if(Uu.test(ss)){if(!br)return ss;ss="auto"}return(!It.boxSizingReliable()&&Hn||!It.reliableTrDimensions()&&wr(Ht,"tr")||ss==="auto"||!parseFloat(ss)&&wt.css(Ht,"display",!1,tn)==="inline")&&Ht.getClientRects().length&&(Hn=wt.css(Ht,"boxSizing",!1,tn)==="border-box",Jn=ls in Ht,Jn&&(ss=Ht[ls])),ss=parseFloat(ss)||0,ss+Nu(Ht,mr,br||(Hn?"border":"content"),Jn,tn,ss)+"px"}wt.extend({cssHooks:{opacity:{get:function(Ht,mr){if(mr){var br=gu(Ht,"opacity");return br===""?"1":br}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(Ht,mr,br,tn){if(!(!Ht||Ht.nodeType===3||Ht.nodeType===8||!Ht.style)){var Gn,Hn,Jn,ss=$n(mr),ls=Ou.test(mr),bs=Ht.style;if(ls||(mr=ip(ss)),Jn=wt.cssHooks[mr]||wt.cssHooks[ss],br!==void 0){if(Hn=typeof br,Hn==="string"&&(Gn=Ks.exec(br))&&Gn[1]&&(br=qn(Ht,mr,Gn),Hn="number"),br==null||br!==br)return;Hn==="number"&&!ls&&(br+=Gn&&Gn[3]||(wt.cssNumber[ss]?"":"px")),!It.clearCloneStyle&&br===""&&mr.indexOf("background")===0&&(bs[mr]="inherit"),(!Jn||!("set"in Jn)||(br=Jn.set(Ht,br,tn))!==void 0)&&(ls?bs.setProperty(mr,br):bs[mr]=br)}else return Jn&&"get"in Jn&&(Gn=Jn.get(Ht,!1,tn))!==void 0?Gn:bs[mr]}},css:function(Ht,mr,br,tn){var Gn,Hn,Jn,ss=$n(mr),ls=Ou.test(mr);return ls||(mr=ip(ss)),Jn=wt.cssHooks[mr]||wt.cssHooks[ss],Jn&&"get"in Jn&&(Gn=Jn.get(Ht,!0,br)),Gn===void 0&&(Gn=gu(Ht,mr,tn)),Gn==="normal"&&mr in ep&&(Gn=ep[mr]),br===""||br?(Hn=parseFloat(Gn),br===!0||isFinite(Hn)?Hn||0:Gn):Gn}}),wt.each(["height","width"],function(Ht,mr){wt.cssHooks[mr]={get:function(br,tn,Gn){if(tn)return up.test(wt.css(br,"display"))&&(!br.getClientRects().length||!br.getBoundingClientRect().width)?au(br,qu,function(){return xu(br,mr,Gn)}):xu(br,mr,Gn)},set:function(br,tn,Gn){var Hn,Jn=tu(br),ss=!It.scrollboxSize()&&Jn.position==="absolute",ls=ss||Gn,bs=ls&&wt.css(br,"boxSizing",!1,Jn)==="border-box",$s=Gn?Nu(br,mr,Gn,bs,Jn):0;return bs&&ss&&($s-=Math.ceil(br["offset"+mr[0].toUpperCase()+mr.slice(1)]-parseFloat(Jn[mr])-Nu(br,mr,"border",!1,Jn)-.5)),$s&&(Hn=Ks.exec(tn))&&(Hn[3]||"px")!=="px"&&(br.style[mr]=tn,tn=wt.css(br,mr)),Bl(br,tn,$s)}}}),wt.cssHooks.marginLeft=bu(It.reliableMarginLeft,function(Ht,mr){if(mr)return(parseFloat(gu(Ht,"marginLeft"))||Ht.getBoundingClientRect().left-au(Ht,{marginLeft:0},function(){return Ht.getBoundingClientRect().left}))+"px"}),wt.each({margin:"",padding:"",border:"Width"},function(Ht,mr){wt.cssHooks[Ht+mr]={expand:function(br){for(var tn=0,Gn={},Hn=typeof br=="string"?br.split(" "):[br];tn<4;tn++)Gn[Ht+Bs[tn]+mr]=Hn[tn]||Hn[tn-2]||Hn[0];return Gn}},Ht!=="margin"&&(wt.cssHooks[Ht+mr].set=Bl)}),wt.fn.extend({css:function(Ht,mr){return vo(this,function(br,tn,Gn){var Hn,Jn,ss={},ls=0;if(Array.isArray(tn)){for(Hn=tu(br),Jn=tn.length;ls<Jn;ls++)ss[tn[ls]]=wt.css(br,tn[ls],!1,Hn);return ss}return Gn!==void 0?wt.style(br,tn,Gn):wt.css(br,tn)},Ht,mr,arguments.length>1)}});function _u(Ht,mr,br,tn,Gn){return new _u.prototype.init(Ht,mr,br,tn,Gn)}wt.Tween=_u,_u.prototype={constructor:_u,init:function(Ht,mr,br,tn,Gn,Hn){this.elem=Ht,this.prop=br,this.easing=Gn||wt.easing._default,this.options=mr,this.start=this.now=this.cur(),this.end=tn,this.unit=Hn||(wt.cssNumber[br]?"":"px")},cur:function(){var Ht=_u.propHooks[this.prop];return Ht&&Ht.get?Ht.get(this):_u.propHooks._default.get(this)},run:function(Ht){var mr,br=_u.propHooks[this.prop];return this.options.duration?this.pos=mr=wt.easing[this.easing](Ht,this.options.duration*Ht,0,1,this.options.duration):this.pos=mr=Ht,this.now=(this.end-this.start)*mr+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),br&&br.set?br.set(this):_u.propHooks._default.set(this),this}},_u.prototype.init.prototype=_u.prototype,_u.propHooks={_default:{get:function(Ht){var mr;return Ht.elem.nodeType!==1||Ht.elem[Ht.prop]!=null&&Ht.elem.style[Ht.prop]==null?Ht.elem[Ht.prop]:(mr=wt.css(Ht.elem,Ht.prop,""),!mr||mr==="auto"?0:mr)},set:function(Ht){wt.fx.step[Ht.prop]?wt.fx.step[Ht.prop](Ht):Ht.elem.nodeType===1&&(wt.cssHooks[Ht.prop]||Ht.elem.style[ip(Ht.prop)]!=null)?wt.style(Ht.elem,Ht.prop,Ht.now+Ht.unit):Ht.elem[Ht.prop]=Ht.now}}},_u.propHooks.scrollTop=_u.propHooks.scrollLeft={set:function(Ht){Ht.elem.nodeType&&Ht.elem.parentNode&&(Ht.elem[Ht.prop]=Ht.now)}},wt.easing={linear:function(Ht){return Ht},swing:function(Ht){return .5-Math.cos(Ht*Math.PI)/2},_default:"swing"},wt.fx=_u.prototype.init,wt.fx.step={};var Bu,cp,mp=/^(?:toggle|show|hide)$/,Gu=/queueHooks$/;function op(){cp&&(Mt.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(op):e.setTimeout(op,wt.fx.interval),wt.fx.tick())}function vp(){return e.setTimeout(function(){Bu=void 0}),Bu=Date.now()}function ju(Ht,mr){var br,tn=0,Gn={height:Ht};for(mr=mr?1:0;tn<4;tn+=2-mr)br=Bs[tn],Gn["margin"+br]=Gn["padding"+br]=Ht;return mr&&(Gn.opacity=Gn.width=Ht),Gn}function sp(Ht,mr,br){for(var tn,Gn=(hu.tweeners[mr]||[]).concat(hu.tweeners["*"]),Hn=0,Jn=Gn.length;Hn<Jn;Hn++)if(tn=Gn[Hn].call(br,mr,Ht))return tn}function Au(Ht,mr,br){var tn,Gn,Hn,Jn,ss,ls,bs,$s,Xs="width"in mr||"height"in mr,Ms=this,js={},Ml=Ht.style,Vl=Ht.nodeType&&Vn(Ht),Il=co.get(Ht,"fxshow");br.queue||(Jn=wt._queueHooks(Ht,"fx"),Jn.unqueued==null&&(Jn.unqueued=0,ss=Jn.empty.fire,Jn.empty.fire=function(){Jn.unqueued||ss()}),Jn.unqueued++,Ms.always(function(){Ms.always(function(){Jn.unqueued--,wt.queue(Ht,"fx").length||Jn.empty.fire()})}));for(tn in mr)if(Gn=mr[tn],mp.test(Gn)){if(delete mr[tn],Hn=Hn||Gn==="toggle",Gn===(Vl?"hide":"show"))if(Gn==="show"&&Il&&Il[tn]!==void 0)Vl=!0;else continue;js[tn]=Il&&Il[tn]||wt.style(Ht,tn)}if(ls=!wt.isEmptyObject(mr),!(!ls&&wt.isEmptyObject(js))){Xs&&Ht.nodeType===1&&(br.overflow=[Ml.overflow,Ml.overflowX,Ml.overflowY],bs=Il&&Il.display,bs==null&&(bs=co.get(Ht,"display")),$s=wt.css(Ht,"display"),$s==="none"&&(bs?$s=bs:(xs([Ht],!0),bs=Ht.style.display||bs,$s=wt.css(Ht,"display"),xs([Ht]))),($s==="inline"||$s==="inline-block"&&bs!=null)&&wt.css(Ht,"float")==="none"&&(ls||(Ms.done(function(){Ml.display=bs}),bs==null&&($s=Ml.display,bs=$s==="none"?"":$s)),Ml.display="inline-block")),br.overflow&&(Ml.overflow="hidden",Ms.always(function(){Ml.overflow=br.overflow[0],Ml.overflowX=br.overflow[1],Ml.overflowY=br.overflow[2]})),ls=!1;for(tn in js)ls||(Il?"hidden"in Il&&(Vl=Il.hidden):Il=co.access(Ht,"fxshow",{display:bs}),Hn&&(Il.hidden=!Vl),Vl&&xs([Ht],!0),Ms.done(function(){Vl||xs([Ht]),co.remove(Ht,"fxshow");for(tn in js)wt.style(Ht,tn,js[tn])})),ls=sp(Vl?Il[tn]:0,tn,Ms),tn in Il||(Il[tn]=ls.start,Vl&&(ls.end=ls.start,ls.start=0))}}function tp(Ht,mr){var br,tn,Gn,Hn,Jn;for(br in Ht)if(tn=$n(br),Gn=mr[tn],Hn=Ht[br],Array.isArray(Hn)&&(Gn=Hn[1],Hn=Ht[br]=Hn[0]),br!==tn&&(Ht[tn]=Hn,delete Ht[br]),Jn=wt.cssHooks[tn],Jn&&"expand"in Jn){Hn=Jn.expand(Hn),delete Ht[tn];for(br in Hn)br in Ht||(Ht[br]=Hn[br],mr[br]=Gn)}else mr[tn]=Gn}function hu(Ht,mr,br){var tn,Gn,Hn=0,Jn=hu.prefilters.length,ss=wt.Deferred().always(function(){delete ls.elem}),ls=function(){if(Gn)return!1;for(var Xs=Bu||vp(),Ms=Math.max(0,bs.startTime+bs.duration-Xs),js=Ms/bs.duration||0,Ml=1-js,Vl=0,Il=bs.tweens.length;Vl<Il;Vl++)bs.tweens[Vl].run(Ml);return ss.notifyWith(Ht,[bs,Ml,Ms]),Ml<1&&Il?Ms:(Il||ss.notifyWith(Ht,[bs,1,0]),ss.resolveWith(Ht,[bs]),!1)},bs=ss.promise({elem:Ht,props:wt.extend({},mr),opts:wt.extend(!0,{specialEasing:{},easing:wt.easing._default},br),originalProperties:mr,originalOptions:br,startTime:Bu||vp(),duration:br.duration,tweens:[],createTween:function(Xs,Ms){var js=wt.Tween(Ht,bs.opts,Xs,Ms,bs.opts.specialEasing[Xs]||bs.opts.easing);return bs.tweens.push(js),js},stop:function(Xs){var Ms=0,js=Xs?bs.tweens.length:0;if(Gn)return this;for(Gn=!0;Ms<js;Ms++)bs.tweens[Ms].run(1);return Xs?(ss.notifyWith(Ht,[bs,1,0]),ss.resolveWith(Ht,[bs,Xs])):ss.rejectWith(Ht,[bs,Xs]),this}}),$s=bs.props;for(tp($s,bs.opts.specialEasing);Hn<Jn;Hn++)if(tn=hu.prefilters[Hn].call(bs,Ht,$s,bs.opts),tn)return it(tn.stop)&&(wt._queueHooks(bs.elem,bs.opts.queue).stop=tn.stop.bind(tn)),tn;return wt.map($s,sp,bs),it(bs.opts.start)&&bs.opts.start.call(Ht,bs),bs.progress(bs.opts.progress).done(bs.opts.done,bs.opts.complete).fail(bs.opts.fail).always(bs.opts.always),wt.fx.timer(wt.extend(ls,{elem:Ht,anim:bs,queue:bs.opts.queue})),bs}wt.Animation=wt.extend(hu,{tweeners:{"*":[function(Ht,mr){var br=this.createTween(Ht,mr);return qn(br.elem,Ht,Ks.exec(mr),br),br}]},tweener:function(Ht,mr){it(Ht)?(mr=Ht,Ht=["*"]):Ht=Ht.match(Or);for(var br,tn=0,Gn=Ht.length;tn<Gn;tn++)br=Ht[tn],hu.tweeners[br]=hu.tweeners[br]||[],hu.tweeners[br].unshift(mr)},prefilters:[Au],prefilter:function(Ht,mr){mr?hu.prefilters.unshift(Ht):hu.prefilters.push(Ht)}}),wt.speed=function(Ht,mr,br){var tn=Ht&&typeof Ht=="object"?wt.extend({},Ht):{complete:br||!br&&mr||it(Ht)&&Ht,duration:Ht,easing:br&&mr||mr&&!it(mr)&&mr};return wt.fx.off?tn.duration=0:typeof tn.duration!="number"&&(tn.duration in wt.fx.speeds?tn.duration=wt.fx.speeds[tn.duration]:tn.duration=wt.fx.speeds._default),(tn.queue==null||tn.queue===!0)&&(tn.queue="fx"),tn.old=tn.complete,tn.complete=function(){it(tn.old)&&tn.old.call(this),tn.queue&&wt.dequeue(this,tn.queue)},tn},wt.fn.extend({fadeTo:function(Ht,mr,br,tn){return this.filter(Vn).css("opacity",0).show().end().animate({opacity:mr},Ht,br,tn)},animate:function(Ht,mr,br,tn){var Gn=wt.isEmptyObject(Ht),Hn=wt.speed(mr,br,tn),Jn=function(){var ss=hu(this,wt.extend({},Ht),Hn);(Gn||co.get(this,"finish"))&&ss.stop(!0)};return Jn.finish=Jn,Gn||Hn.queue===!1?this.each(Jn):this.queue(Hn.queue,Jn)},stop:function(Ht,mr,br){var tn=function(Gn){var Hn=Gn.stop;delete Gn.stop,Hn(br)};return typeof Ht!="string"&&(br=mr,mr=Ht,Ht=void 0),mr&&this.queue(Ht||"fx",[]),this.each(function(){var Gn=!0,Hn=Ht!=null&&Ht+"queueHooks",Jn=wt.timers,ss=co.get(this);if(Hn)ss[Hn]&&ss[Hn].stop&&tn(ss[Hn]);else for(Hn in ss)ss[Hn]&&ss[Hn].stop&&Gu.test(Hn)&&tn(ss[Hn]);for(Hn=Jn.length;Hn--;)Jn[Hn].elem===this&&(Ht==null||Jn[Hn].queue===Ht)&&(Jn[Hn].anim.stop(br),Gn=!1,Jn.splice(Hn,1));(Gn||!br)&&wt.dequeue(this,Ht)})},finish:function(Ht){return Ht!==!1&&(Ht=Ht||"fx"),this.each(function(){var mr,br=co.get(this),tn=br[Ht+"queue"],Gn=br[Ht+"queueHooks"],Hn=wt.timers,Jn=tn?tn.length:0;for(br.finish=!0,wt.queue(this,Ht,[]),Gn&&Gn.stop&&Gn.stop.call(this,!0),mr=Hn.length;mr--;)Hn[mr].elem===this&&Hn[mr].queue===Ht&&(Hn[mr].anim.stop(!0),Hn.splice(mr,1));for(mr=0;mr<Jn;mr++)tn[mr]&&tn[mr].finish&&tn[mr].finish.call(this);delete br.finish})}}),wt.each(["toggle","show","hide"],function(Ht,mr){var br=wt.fn[mr];wt.fn[mr]=function(tn,Gn,Hn){return tn==null||typeof tn=="boolean"?br.apply(this,arguments):this.animate(ju(mr,!0),tn,Gn,Hn)}}),wt.each({slideDown:ju("show"),slideUp:ju("hide"),slideToggle:ju("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(Ht,mr){wt.fn[Ht]=function(br,tn,Gn){return this.animate(mr,br,tn,Gn)}}),wt.timers=[],wt.fx.tick=function(){var Ht,mr=0,br=wt.timers;for(Bu=Date.now();mr<br.length;mr++)Ht=br[mr],!Ht()&&br[mr]===Ht&&br.splice(mr--,1);br.length||wt.fx.stop(),Bu=void 0},wt.fx.timer=function(Ht){wt.timers.push(Ht),wt.fx.start()},wt.fx.interval=13,wt.fx.start=function(){cp||(cp=!0,op())},wt.fx.stop=function(){cp=null},wt.fx.speeds={slow:600,fast:200,_default:400},wt.fn.delay=function(Ht,mr){return Ht=wt.fx&&wt.fx.speeds[Ht]||Ht,mr=mr||"fx",this.queue(mr,function(br,tn){var Gn=e.setTimeout(br,Ht);tn.stop=function(){e.clearTimeout(Gn)}})},function(){var Ht=Mt.createElement("input"),mr=Mt.createElement("select"),br=mr.appendChild(Mt.createElement("option"));Ht.type="checkbox",It.checkOn=Ht.value!=="",It.optSelected=br.selected,Ht=Mt.createElement("input"),Ht.value="t",Ht.type="radio",It.radioValue=Ht.value==="t"}();var dp,yp=wt.expr.attrHandle;wt.fn.extend({attr:function(Ht,mr){return vo(this,wt.attr,Ht,mr,arguments.length>1)},removeAttr:function(Ht){return this.each(function(){wt.removeAttr(this,Ht)})}}),wt.extend({attr:function(Ht,mr,br){var tn,Gn,Hn=Ht.nodeType;if(!(Hn===3||Hn===8||Hn===2)){if(typeof Ht.getAttribute>"u")return wt.prop(Ht,mr,br);if((Hn!==1||!wt.isXMLDoc(Ht))&&(Gn=wt.attrHooks[mr.toLowerCase()]||(wt.expr.match.bool.test(mr)?dp:void 0)),br!==void 0){if(br===null){wt.removeAttr(Ht,mr);return}return Gn&&"set"in Gn&&(tn=Gn.set(Ht,br,mr))!==void 0?tn:(Ht.setAttribute(mr,br+""),br)}return Gn&&"get"in Gn&&(tn=Gn.get(Ht,mr))!==null?tn:(tn=wt.find.attr(Ht,mr),tn??void 0)}},attrHooks:{type:{set:function(Ht,mr){if(!It.radioValue&&mr==="radio"&&wr(Ht,"input")){var br=Ht.value;return Ht.setAttribute("type",mr),br&&(Ht.value=br),mr}}}},removeAttr:function(Ht,mr){var br,tn=0,Gn=mr&&mr.match(Or);if(Gn&&Ht.nodeType===1)for(;br=Gn[tn++];)Ht.removeAttribute(br)}}),dp={set:function(Ht,mr,br){return mr===!1?wt.removeAttr(Ht,br):Ht.setAttribute(br,br),br}},wt.each(wt.expr.match.bool.source.match(/\w+/g),function(Ht,mr){var br=yp[mr]||wt.find.attr;yp[mr]=function(tn,Gn,Hn){var Jn,ss,ls=Gn.toLowerCase();return Hn||(ss=yp[ls],yp[ls]=Jn,Jn=br(tn,Gn,Hn)!=null?ls:null,yp[ls]=ss),Jn}});var rp=/^(?:input|select|textarea|button)$/i,Ip=/^(?:a|area)$/i;wt.fn.extend({prop:function(Ht,mr){return vo(this,wt.prop,Ht,mr,arguments.length>1)},removeProp:function(Ht){return this.each(function(){delete this[wt.propFix[Ht]||Ht]})}}),wt.extend({prop:function(Ht,mr,br){var tn,Gn,Hn=Ht.nodeType;if(!(Hn===3||Hn===8||Hn===2))return(Hn!==1||!wt.isXMLDoc(Ht))&&(mr=wt.propFix[mr]||mr,Gn=wt.propHooks[mr]),br!==void 0?Gn&&"set"in Gn&&(tn=Gn.set(Ht,br,mr))!==void 0?tn:Ht[mr]=br:Gn&&"get"in Gn&&(tn=Gn.get(Ht,mr))!==null?tn:Ht[mr]},propHooks:{tabIndex:{get:function(Ht){var mr=wt.find.attr(Ht,"tabindex");return mr?parseInt(mr,10):rp.test(Ht.nodeName)||Ip.test(Ht.nodeName)&&Ht.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),It.optSelected||(wt.propHooks.selected={get:function(Ht){var mr=Ht.parentNode;return mr&&mr.parentNode&&mr.parentNode.selectedIndex,null},set:function(Ht){var mr=Ht.parentNode;mr&&(mr.selectedIndex,mr.parentNode&&mr.parentNode.selectedIndex)}}),wt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){wt.propFix[this.toLowerCase()]=this});function $u(Ht){var mr=Ht.match(Or)||[];return mr.join(" ")}function pp(Ht){return Ht.getAttribute&&Ht.getAttribute("class")||""}function Qn(Ht){return Array.isArray(Ht)?Ht:typeof Ht=="string"?Ht.match(Or)||[]:[]}wt.fn.extend({addClass:function(Ht){var mr,br,tn,Gn,Hn,Jn,ss,ls=0;if(it(Ht))return this.each(function(bs){wt(this).addClass(Ht.call(this,bs,pp(this)))});if(mr=Qn(Ht),mr.length){for(;br=this[ls++];)if(Gn=pp(br),tn=br.nodeType===1&&" "+$u(Gn)+" ",tn){for(Jn=0;Hn=mr[Jn++];)tn.indexOf(" "+Hn+" ")<0&&(tn+=Hn+" ");ss=$u(tn),Gn!==ss&&br.setAttribute("class",ss)}}return this},removeClass:function(Ht){var mr,br,tn,Gn,Hn,Jn,ss,ls=0;if(it(Ht))return this.each(function(bs){wt(this).removeClass(Ht.call(this,bs,pp(this)))});if(!arguments.length)return this.attr("class","");if(mr=Qn(Ht),mr.length){for(;br=this[ls++];)if(Gn=pp(br),tn=br.nodeType===1&&" "+$u(Gn)+" ",tn){for(Jn=0;Hn=mr[Jn++];)for(;tn.indexOf(" "+Hn+" ")>-1;)tn=tn.replace(" "+Hn+" "," ");ss=$u(tn),Gn!==ss&&br.setAttribute("class",ss)}}return this},toggleClass:function(Ht,mr){var br=typeof Ht,tn=br==="string"||Array.isArray(Ht);return typeof mr=="boolean"&&tn?mr?this.addClass(Ht):this.removeClass(Ht):it(Ht)?this.each(function(Gn){wt(this).toggleClass(Ht.call(this,Gn,pp(this),mr),mr)}):this.each(function(){var Gn,Hn,Jn,ss;if(tn)for(Hn=0,Jn=wt(this),ss=Qn(Ht);Gn=ss[Hn++];)Jn.hasClass(Gn)?Jn.removeClass(Gn):Jn.addClass(Gn);else(Ht===void 0||br==="boolean")&&(Gn=pp(this),Gn&&co.set(this,"__className__",Gn),this.setAttribute&&this.setAttribute("class",Gn||Ht===!1?"":co.get(this,"__className__")||""))})},hasClass:function(Ht){var mr,br,tn=0;for(mr=" "+Ht+" ";br=this[tn++];)if(br.nodeType===1&&(" "+$u(pp(br))+" ").indexOf(mr)>-1)return!0;return!1}});var lo=/\r/g;wt.fn.extend({val:function(Ht){var mr,br,tn,Gn=this[0];return arguments.length?(tn=it(Ht),this.each(function(Hn){var Jn;this.nodeType===1&&(tn?Jn=Ht.call(this,Hn,wt(this).val()):Jn=Ht,Jn==null?Jn="":typeof Jn=="number"?Jn+="":Array.isArray(Jn)&&(Jn=wt.map(Jn,function(ss){return ss==null?"":ss+""})),mr=wt.valHooks[this.type]||wt.valHooks[this.nodeName.toLowerCase()],(!mr||!("set"in mr)||mr.set(this,Jn,"value")===void 0)&&(this.value=Jn))})):Gn?(mr=wt.valHooks[Gn.type]||wt.valHooks[Gn.nodeName.toLowerCase()],mr&&"get"in mr&&(br=mr.get(Gn,"value"))!==void 0?br:(br=Gn.value,typeof br=="string"?br.replace(lo,""):br??"")):void 0}}),wt.extend({valHooks:{option:{get:function(Ht){var mr=wt.find.attr(Ht,"value");return mr??$u(wt.text(Ht))}},select:{get:function(Ht){var mr,br,tn,Gn=Ht.options,Hn=Ht.selectedIndex,Jn=Ht.type==="select-one",ss=Jn?null:[],ls=Jn?Hn+1:Gn.length;for(Hn<0?tn=ls:tn=Jn?Hn:0;tn<ls;tn++)if(br=Gn[tn],(br.selected||tn===Hn)&&!br.disabled&&(!br.parentNode.disabled||!wr(br.parentNode,"optgroup"))){if(mr=wt(br).val(),Jn)return mr;ss.push(mr)}return ss},set:function(Ht,mr){for(var br,tn,Gn=Ht.options,Hn=wt.makeArray(mr),Jn=Gn.length;Jn--;)tn=Gn[Jn],(tn.selected=wt.inArray(wt.valHooks.option.get(tn),Hn)>-1)&&(br=!0);return br||(Ht.selectedIndex=-1),Hn}}}}),wt.each(["radio","checkbox"],function(){wt.valHooks[this]={set:function(Ht,mr){if(Array.isArray(mr))return Ht.checked=wt.inArray(wt(Ht).val(),mr)>-1}},It.checkOn||(wt.valHooks[this].get=function(Ht){return Ht.getAttribute("value")===null?"on":Ht.value})}),It.focusin="onfocusin"in e;var ns=/^(?:focusinfocus|focusoutblur)$/,Cs=function(Ht){Ht.stopPropagation()};wt.extend(wt.event,{trigger:function(Ht,mr,br,tn){var Gn,Hn,Jn,ss,ls,bs,$s,Xs,Ms=[br||Mt],js=ot.call(Ht,"type")?Ht.type:Ht,Ml=ot.call(Ht,"namespace")?Ht.namespace.split("."):[];if(Hn=Xs=Jn=br=br||Mt,!(br.nodeType===3||br.nodeType===8)&&!ns.test(js+wt.event.triggered)&&(js.indexOf(".")>-1&&(Ml=js.split("."),js=Ml.shift(),Ml.sort()),ls=js.indexOf(":")<0&&"on"+js,Ht=Ht[wt.expando]?Ht:new wt.Event(js,typeof Ht=="object"&&Ht),Ht.isTrigger=tn?2:3,Ht.namespace=Ml.join("."),Ht.rnamespace=Ht.namespace?new RegExp("(^|\\.)"+Ml.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,Ht.result=void 0,Ht.target||(Ht.target=br),mr=mr==null?[Ht]:wt.makeArray(mr,[Ht]),$s=wt.event.special[js]||{},!(!tn&&$s.trigger&&$s.trigger.apply(br,mr)===!1))){if(!tn&&!$s.noBubble&&!st(br)){for(ss=$s.delegateType||js,ns.test(ss+js)||(Hn=Hn.parentNode);Hn;Hn=Hn.parentNode)Ms.push(Hn),Jn=Hn;Jn===(br.ownerDocument||Mt)&&Ms.push(Jn.defaultView||Jn.parentWindow||e)}for(Gn=0;(Hn=Ms[Gn++])&&!Ht.isPropagationStopped();)Xs=Hn,Ht.type=Gn>1?ss:$s.bindType||js,bs=(co.get(Hn,"events")||Object.create(null))[Ht.type]&&co.get(Hn,"handle"),bs&&bs.apply(Hn,mr),bs=ls&&Hn[ls],bs&&bs.apply&&Kn(Hn)&&(Ht.result=bs.apply(Hn,mr),Ht.result===!1&&Ht.preventDefault());return Ht.type=js,!tn&&!Ht.isDefaultPrevented()&&(!$s._default||$s._default.apply(Ms.pop(),mr)===!1)&&Kn(br)&&ls&&it(br[js])&&!st(br)&&(Jn=br[ls],Jn&&(br[ls]=null),wt.event.triggered=js,Ht.isPropagationStopped()&&Xs.addEventListener(js,Cs),br[js](),Ht.isPropagationStopped()&&Xs.removeEventListener(js,Cs),wt.event.triggered=void 0,Jn&&(br[ls]=Jn)),Ht.result}},simulate:function(Ht,mr,br){var tn=wt.extend(new wt.Event,br,{type:Ht,isSimulated:!0});wt.event.trigger(tn,null,mr)}}),wt.fn.extend({trigger:function(Ht,mr){return this.each(function(){wt.event.trigger(Ht,mr,this)})},triggerHandler:function(Ht,mr){var br=this[0];if(br)return wt.event.trigger(Ht,mr,br,!0)}}),It.focusin||wt.each({focus:"focusin",blur:"focusout"},function(Ht,mr){var br=function(tn){wt.event.simulate(mr,tn.target,wt.event.fix(tn))};wt.event.special[mr]={setup:function(){var tn=this.ownerDocument||this.document||this,Gn=co.access(tn,mr);Gn||tn.addEventListener(Ht,br,!0),co.access(tn,mr,(Gn||0)+1)},teardown:function(){var tn=this.ownerDocument||this.document||this,Gn=co.access(tn,mr)-1;Gn?co.access(tn,mr,Gn):(tn.removeEventListener(Ht,br,!0),co.remove(tn,mr))}}});var Us=e.location,Tl={guid:Date.now()},zl=/\?/;wt.parseXML=function(Ht){var mr;if(!Ht||typeof Ht!="string")return null;try{mr=new e.DOMParser().parseFromString(Ht,"text/xml")}catch{mr=void 0}return(!mr||mr.getElementsByTagName("parsererror").length)&&wt.error("Invalid XML: "+Ht),mr};var vu=/\[\]$/,Su=/\r?\n/g,Tu=/^(?:submit|button|image|reset|file)$/i,Iu=/^(?:input|select|textarea|keygen)/i;function Jp(Ht,mr,br,tn){var Gn;if(Array.isArray(mr))wt.each(mr,function(Hn,Jn){br||vu.test(Ht)?tn(Ht,Jn):Jp(Ht+"["+(typeof Jn=="object"&&Jn!=null?Hn:"")+"]",Jn,br,tn)});else if(!br&&pt(mr)==="object")for(Gn in mr)Jp(Ht+"["+Gn+"]",mr[Gn],br,tn);else tn(Ht,mr)}wt.param=function(Ht,mr){var br,tn=[],Gn=function(Hn,Jn){var ss=it(Jn)?Jn():Jn;tn[tn.length]=encodeURIComponent(Hn)+"="+encodeURIComponent(ss??"")};if(Ht==null)return"";if(Array.isArray(Ht)||Ht.jquery&&!wt.isPlainObject(Ht))wt.each(Ht,function(){Gn(this.name,this.value)});else for(br in Ht)Jp(br,Ht[br],mr,Gn);return tn.join("&")},wt.fn.extend({serialize:function(){return wt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var Ht=wt.prop(this,"elements");return Ht?wt.makeArray(Ht):this}).filter(function(){var Ht=this.type;return this.name&&!wt(this).is(":disabled")&&Iu.test(this.nodeName)&&!Tu.test(Ht)&&(this.checked||!Rs.test(Ht))}).map(function(Ht,mr){var br=wt(this).val();return br==null?null:Array.isArray(br)?wt.map(br,function(tn){return{name:mr.name,value:tn.replace(Su,`\r
`)}}):{name:mr.name,value:br.replace(Su,`\r
`)}}).get()}});var Om=/%20/g,ap=/#.*$/,Lp=/([?&])_=[^&]*/,Am=/^(.*?):[ \t]*([^\r\n]*)$/mg,Tm=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fp=/^(?:GET|HEAD)$/,hm=/^\/\//,_h={},_f={},_g="*/".concat("*"),em=Mt.createElement("a");em.href=Us.href;function fm(Ht){return function(mr,br){typeof mr!="string"&&(br=mr,mr="*");var tn,Gn=0,Hn=mr.toLowerCase().match(Or)||[];if(it(br))for(;tn=Hn[Gn++];)tn[0]==="+"?(tn=tn.slice(1)||"*",(Ht[tn]=Ht[tn]||[]).unshift(br)):(Ht[tn]=Ht[tn]||[]).push(br)}}function gm(Ht,mr,br,tn){var Gn={},Hn=Ht===_f;function Jn(ss){var ls;return Gn[ss]=!0,wt.each(Ht[ss]||[],function(bs,$s){var Xs=$s(mr,br,tn);if(typeof Xs=="string"&&!Hn&&!Gn[Xs])return mr.dataTypes.unshift(Xs),Jn(Xs),!1;if(Hn)return!(ls=Xs)}),ls}return Jn(mr.dataTypes[0])||!Gn["*"]&&Jn("*")}function tm(Ht,mr){var br,tn,Gn=wt.ajaxSettings.flatOptions||{};for(br in mr)mr[br]!==void 0&&((Gn[br]?Ht:tn||(tn={}))[br]=mr[br]);return tn&&wt.extend(!0,Ht,tn),Ht}function Pm(Ht,mr,br){for(var tn,Gn,Hn,Jn,ss=Ht.contents,ls=Ht.dataTypes;ls[0]==="*";)ls.shift(),tn===void 0&&(tn=Ht.mimeType||mr.getResponseHeader("Content-Type"));if(tn){for(Gn in ss)if(ss[Gn]&&ss[Gn].test(tn)){ls.unshift(Gn);break}}if(ls[0]in br)Hn=ls[0];else{for(Gn in br){if(!ls[0]||Ht.converters[Gn+" "+ls[0]]){Hn=Gn;break}Jn||(Jn=Gn)}Hn=Hn||Jn}if(Hn)return Hn!==ls[0]&&ls.unshift(Hn),br[Hn]}function Dm(Ht,mr,br,tn){var Gn,Hn,Jn,ss,ls,bs={},$s=Ht.dataTypes.slice();if($s[1])for(Jn in Ht.converters)bs[Jn.toLowerCase()]=Ht.converters[Jn];for(Hn=$s.shift();Hn;)if(Ht.responseFields[Hn]&&(br[Ht.responseFields[Hn]]=mr),!ls&&tn&&Ht.dataFilter&&(mr=Ht.dataFilter(mr,Ht.dataType)),ls=Hn,Hn=$s.shift(),Hn){if(Hn==="*")Hn=ls;else if(ls!=="*"&&ls!==Hn){if(Jn=bs[ls+" "+Hn]||bs["* "+Hn],!Jn){for(Gn in bs)if(ss=Gn.split(" "),ss[1]===Hn&&(Jn=bs[ls+" "+ss[0]]||bs["* "+ss[0]],Jn)){Jn===!0?Jn=bs[Gn]:bs[Gn]!==!0&&(Hn=ss[0],$s.unshift(ss[1]));break}}if(Jn!==!0)if(Jn&&Ht.throws)mr=Jn(mr);else try{mr=Jn(mr)}catch(Xs){return{state:"parsererror",error:Jn?Xs:"No conversion from "+ls+" to "+Hn}}}}return{state:"success",data:mr}}wt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Us.href,type:"GET",isLocal:Tm.test(Us.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_g,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":wt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(Ht,mr){return mr?tm(tm(Ht,wt.ajaxSettings),mr):tm(wt.ajaxSettings,Ht)},ajaxPrefilter:fm(_h),ajaxTransport:fm(_f),ajax:function(Ht,mr){typeof Ht=="object"&&(mr=Ht,Ht=void 0),mr=mr||{};var br,tn,Gn,Hn,Jn,ss,ls,bs,$s,Xs,Ms=wt.ajaxSetup({},mr),js=Ms.context||Ms,Ml=Ms.context&&(js.nodeType||js.jquery)?wt(js):wt.event,Vl=wt.Deferred(),Il=wt.Callbacks("once memory"),Pu=Ms.statusCode||{},Ru={},ku={},cu="canceled",Hl={readyState:0,getResponseHeader:function(nu){var fu;if(ls){if(!Hn)for(Hn={};fu=Am.exec(Gn);)Hn[fu[1].toLowerCase()+" "]=(Hn[fu[1].toLowerCase()+" "]||[]).concat(fu[2]);fu=Hn[nu.toLowerCase()+" "]}return fu==null?null:fu.join(", ")},getAllResponseHeaders:function(){return ls?Gn:null},setRequestHeader:function(nu,fu){return ls==null&&(nu=ku[nu.toLowerCase()]=ku[nu.toLowerCase()]||nu,Ru[nu]=fu),this},overrideMimeType:function(nu){return ls==null&&(Ms.mimeType=nu),this},statusCode:function(nu){var fu;if(nu)if(ls)Hl.always(nu[Hl.status]);else for(fu in nu)Pu[fu]=[Pu[fu],nu[fu]];return this},abort:function(nu){var fu=nu||cu;return br&&br.abort(fu),Wu(0,fu),this}};if(Vl.promise(Hl),Ms.url=((Ht||Ms.url||Us.href)+"").replace(hm,Us.protocol+"//"),Ms.type=mr.method||mr.type||Ms.method||Ms.type,Ms.dataTypes=(Ms.dataType||"*").toLowerCase().match(Or)||[""],Ms.crossDomain==null){ss=Mt.createElement("a");try{ss.href=Ms.url,ss.href=ss.href,Ms.crossDomain=em.protocol+"//"+em.host!=ss.protocol+"//"+ss.host}catch{Ms.crossDomain=!0}}if(Ms.data&&Ms.processData&&typeof Ms.data!="string"&&(Ms.data=wt.param(Ms.data,Ms.traditional)),gm(_h,Ms,mr,Hl),ls)return Hl;bs=wt.event&&Ms.global,bs&&wt.active++===0&&wt.event.trigger("ajaxStart"),Ms.type=Ms.type.toUpperCase(),Ms.hasContent=!Fp.test(Ms.type),tn=Ms.url.replace(ap,""),Ms.hasContent?Ms.data&&Ms.processData&&(Ms.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ms.data=Ms.data.replace(Om,"+")):(Xs=Ms.url.slice(tn.length),Ms.data&&(Ms.processData||typeof Ms.data=="string")&&(tn+=(zl.test(tn)?"&":"?")+Ms.data,delete Ms.data),Ms.cache===!1&&(tn=tn.replace(Lp,"$1"),Xs=(zl.test(tn)?"&":"?")+"_="+Tl.guid+++Xs),Ms.url=tn+Xs),Ms.ifModified&&(wt.lastModified[tn]&&Hl.setRequestHeader("If-Modified-Since",wt.lastModified[tn]),wt.etag[tn]&&Hl.setRequestHeader("If-None-Match",wt.etag[tn])),(Ms.data&&Ms.hasContent&&Ms.contentType!==!1||mr.contentType)&&Hl.setRequestHeader("Content-Type",Ms.contentType),Hl.setRequestHeader("Accept",Ms.dataTypes[0]&&Ms.accepts[Ms.dataTypes[0]]?Ms.accepts[Ms.dataTypes[0]]+(Ms.dataTypes[0]!=="*"?", "+_g+"; q=0.01":""):Ms.accepts["*"]);for($s in Ms.headers)Hl.setRequestHeader($s,Ms.headers[$s]);if(Ms.beforeSend&&(Ms.beforeSend.call(js,Hl,Ms)===!1||ls))return Hl.abort();if(cu="abort",Il.add(Ms.complete),Hl.done(Ms.success),Hl.fail(Ms.error),br=gm(_f,Ms,mr,Hl),!br)Wu(-1,"No Transport");else{if(Hl.readyState=1,bs&&Ml.trigger("ajaxSend",[Hl,Ms]),ls)return Hl;Ms.async&&Ms.timeout>0&&(Jn=e.setTimeout(function(){Hl.abort("timeout")},Ms.timeout));try{ls=!1,br.send(Ru,Wu)}catch(nu){if(ls)throw nu;Wu(-1,nu)}}function Wu(nu,fu,xp,Vp){var Ku,Sp,Ep,Hu,_p,Qu=fu;ls||(ls=!0,Jn&&e.clearTimeout(Jn),br=void 0,Gn=Vp||"",Hl.readyState=nu>0?4:0,Ku=nu>=200&&nu<300||nu===304,xp&&(Hu=Pm(Ms,Hl,xp)),!Ku&&wt.inArray("script",Ms.dataTypes)>-1&&(Ms.converters["text script"]=function(){}),Hu=Dm(Ms,Hu,Hl,Ku),Ku?(Ms.ifModified&&(_p=Hl.getResponseHeader("Last-Modified"),_p&&(wt.lastModified[tn]=_p),_p=Hl.getResponseHeader("etag"),_p&&(wt.etag[tn]=_p)),nu===204||Ms.type==="HEAD"?Qu="nocontent":nu===304?Qu="notmodified":(Qu=Hu.state,Sp=Hu.data,Ep=Hu.error,Ku=!Ep)):(Ep=Qu,(nu||!Qu)&&(Qu="error",nu<0&&(nu=0))),Hl.status=nu,Hl.statusText=(fu||Qu)+"",Ku?Vl.resolveWith(js,[Sp,Qu,Hl]):Vl.rejectWith(js,[Hl,Qu,Ep]),Hl.statusCode(Pu),Pu=void 0,bs&&Ml.trigger(Ku?"ajaxSuccess":"ajaxError",[Hl,Ms,Ku?Sp:Ep]),Il.fireWith(js,[Hl,Qu]),bs&&(Ml.trigger("ajaxComplete",[Hl,Ms]),--wt.active||wt.event.trigger("ajaxStop")))}return Hl},getJSON:function(Ht,mr,br){return wt.get(Ht,mr,br,"json")},getScript:function(Ht,mr){return wt.get(Ht,void 0,mr,"script")}}),wt.each(["get","post"],function(Ht,mr){wt[mr]=function(br,tn,Gn,Hn){return it(tn)&&(Hn=Hn||Gn,Gn=tn,tn=void 0),wt.ajax(wt.extend({url:br,type:mr,dataType:Hn,data:tn,success:Gn},wt.isPlainObject(br)&&br))}}),wt.ajaxPrefilter(function(Ht){var mr;for(mr in Ht.headers)mr.toLowerCase()==="content-type"&&(Ht.contentType=Ht.headers[mr]||"")}),wt._evalUrl=function(Ht,mr,br){return wt.ajax({url:Ht,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(tn){wt.globalEval(tn,mr,br)}})},wt.fn.extend({wrapAll:function(Ht){var mr;return this[0]&&(it(Ht)&&(Ht=Ht.call(this[0])),mr=wt(Ht,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&mr.insertBefore(this[0]),mr.map(function(){for(var br=this;br.firstElementChild;)br=br.firstElementChild;return br}).append(this)),this},wrapInner:function(Ht){return it(Ht)?this.each(function(mr){wt(this).wrapInner(Ht.call(this,mr))}):this.each(function(){var mr=wt(this),br=mr.contents();br.length?br.wrapAll(Ht):mr.append(Ht)})},wrap:function(Ht){var mr=it(Ht);return this.each(function(br){wt(this).wrapAll(mr?Ht.call(this,br):Ht)})},unwrap:function(Ht){return this.parent(Ht).not("body").each(function(){wt(this).replaceWith(this.childNodes)}),this}}),wt.expr.pseudos.hidden=function(Ht){return!wt.expr.pseudos.visible(Ht)},wt.expr.pseudos.visible=function(Ht){return!!(Ht.offsetWidth||Ht.offsetHeight||Ht.getClientRects().length)},wt.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Mm={0:200,1223:204},Np=wt.ajaxSettings.xhr();It.cors=!!Np&&"withCredentials"in Np,It.ajax=Np=!!Np,wt.ajaxTransport(function(Ht){var mr,br;if(It.cors||Np&&!Ht.crossDomain)return{send:function(tn,Gn){var Hn,Jn=Ht.xhr();if(Jn.open(Ht.type,Ht.url,Ht.async,Ht.username,Ht.password),Ht.xhrFields)for(Hn in Ht.xhrFields)Jn[Hn]=Ht.xhrFields[Hn];Ht.mimeType&&Jn.overrideMimeType&&Jn.overrideMimeType(Ht.mimeType),!Ht.crossDomain&&!tn["X-Requested-With"]&&(tn["X-Requested-With"]="XMLHttpRequest");for(Hn in tn)Jn.setRequestHeader(Hn,tn[Hn]);mr=function(ss){return function(){mr&&(mr=br=Jn.onload=Jn.onerror=Jn.onabort=Jn.ontimeout=Jn.onreadystatechange=null,ss==="abort"?Jn.abort():ss==="error"?typeof Jn.status!="number"?Gn(0,"error"):Gn(Jn.status,Jn.statusText):Gn(Mm[Jn.status]||Jn.status,Jn.statusText,(Jn.responseType||"text")!=="text"||typeof Jn.responseText!="string"?{binary:Jn.response}:{text:Jn.responseText},Jn.getAllResponseHeaders()))}},Jn.onload=mr(),br=Jn.onerror=Jn.ontimeout=mr("error"),Jn.onabort!==void 0?Jn.onabort=br:Jn.onreadystatechange=function(){Jn.readyState===4&&e.setTimeout(function(){mr&&br()})},mr=mr("abort");try{Jn.send(Ht.hasContent&&Ht.data||null)}catch(ss){if(mr)throw ss}},abort:function(){mr&&mr()}}}),wt.ajaxPrefilter(function(Ht){Ht.crossDomain&&(Ht.contents.script=!1)}),wt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(Ht){return wt.globalEval(Ht),Ht}}}),wt.ajaxPrefilter("script",function(Ht){Ht.cache===void 0&&(Ht.cache=!1),Ht.crossDomain&&(Ht.type="GET")}),wt.ajaxTransport("script",function(Ht){if(Ht.crossDomain||Ht.scriptAttrs){var mr,br;return{send:function(tn,Gn){mr=wt("<script>").attr(Ht.scriptAttrs||{}).prop({charset:Ht.scriptCharset,src:Ht.url}).on("load error",br=function(Hn){mr.remove(),br=null,Hn&&Gn(Hn.type==="error"?404:200,Hn.type)}),Mt.head.appendChild(mr[0])},abort:function(){br&&br()}}}});var mm=[],rm=/(=)\?(?=&|$)|\?\?/;wt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var Ht=mm.pop()||wt.expando+"_"+Tl.guid++;return this[Ht]=!0,Ht}}),wt.ajaxPrefilter("json jsonp",function(Ht,mr,br){var tn,Gn,Hn,Jn=Ht.jsonp!==!1&&(rm.test(Ht.url)?"url":typeof Ht.data=="string"&&(Ht.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rm.test(Ht.data)&&"data");if(Jn||Ht.dataTypes[0]==="jsonp")return tn=Ht.jsonpCallback=it(Ht.jsonpCallback)?Ht.jsonpCallback():Ht.jsonpCallback,Jn?Ht[Jn]=Ht[Jn].replace(rm,"$1"+tn):Ht.jsonp!==!1&&(Ht.url+=(zl.test(Ht.url)?"&":"?")+Ht.jsonp+"="+tn),Ht.converters["script json"]=function(){return Hn||wt.error(tn+" was not called"),Hn[0]},Ht.dataTypes[0]="json",Gn=e[tn],e[tn]=function(){Hn=arguments},br.always(function(){Gn===void 0?wt(e).removeProp(tn):e[tn]=Gn,Ht[tn]&&(Ht.jsonpCallback=mr.jsonpCallback,mm.push(tn)),Hn&&it(Gn)&&Gn(Hn[0]),Hn=Gn=void 0}),"script"}),It.createHTMLDocument=function(){var Ht=Mt.implementation.createHTMLDocument("").body;return Ht.innerHTML="<form></form><form></form>",Ht.childNodes.length===2}(),wt.parseHTML=function(Ht,mr,br){if(typeof Ht!="string")return[];typeof mr=="boolean"&&(br=mr,mr=!1);var tn,Gn,Hn;return mr||(It.createHTMLDocument?(mr=Mt.implementation.createHTMLDocument(""),tn=mr.createElement("base"),tn.href=Mt.location.href,mr.head.appendChild(tn)):mr=Mt),Gn=yr.exec(Ht),Hn=!br&&[],Gn?[mr.createElement(Gn[1])]:(Gn=Un([Ht],mr,Hn),Hn&&Hn.length&&wt(Hn).remove(),wt.merge([],Gn.childNodes))},wt.fn.load=function(Ht,mr,br){var tn,Gn,Hn,Jn=this,ss=Ht.indexOf(" ");return ss>-1&&(tn=$u(Ht.slice(ss)),Ht=Ht.slice(0,ss)),it(mr)?(br=mr,mr=void 0):mr&&typeof mr=="object"&&(Gn="POST"),Jn.length>0&&wt.ajax({url:Ht,type:Gn||"GET",dataType:"html",data:mr}).done(function(ls){Hn=arguments,Jn.html(tn?wt("<div>").append(wt.parseHTML(ls)).find(tn):ls)}).always(br&&function(ls,bs){Jn.each(function(){br.apply(this,Hn||[ls.responseText,bs,ls])})}),this},wt.expr.pseudos.animated=function(Ht){return wt.grep(wt.timers,function(mr){return Ht===mr.elem}).length},wt.offset={setOffset:function(Ht,mr,br){var tn,Gn,Hn,Jn,ss,ls,bs,$s=wt.css(Ht,"position"),Xs=wt(Ht),Ms={};$s==="static"&&(Ht.style.position="relative"),ss=Xs.offset(),Hn=wt.css(Ht,"top"),ls=wt.css(Ht,"left"),bs=($s==="absolute"||$s==="fixed")&&(Hn+ls).indexOf("auto")>-1,bs?(tn=Xs.position(),Jn=tn.top,Gn=tn.left):(Jn=parseFloat(Hn)||0,Gn=parseFloat(ls)||0),it(mr)&&(mr=mr.call(Ht,br,wt.extend({},ss))),mr.top!=null&&(Ms.top=mr.top-ss.top+Jn),mr.left!=null&&(Ms.left=mr.left-ss.left+Gn),"using"in mr?mr.using.call(Ht,Ms):(typeof Ms.top=="number"&&(Ms.top+="px"),typeof Ms.left=="number"&&(Ms.left+="px"),Xs.css(Ms))}},wt.fn.extend({offset:function(Ht){if(arguments.length)return Ht===void 0?this:this.each(function(Gn){wt.offset.setOffset(this,Ht,Gn)});var mr,br,tn=this[0];if(tn)return tn.getClientRects().length?(mr=tn.getBoundingClientRect(),br=tn.ownerDocument.defaultView,{top:mr.top+br.pageYOffset,left:mr.left+br.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var Ht,mr,br,tn=this[0],Gn={top:0,left:0};if(wt.css(tn,"position")==="fixed")mr=tn.getBoundingClientRect();else{for(mr=this.offset(),br=tn.ownerDocument,Ht=tn.offsetParent||br.documentElement;Ht&&(Ht===br.body||Ht===br.documentElement)&&wt.css(Ht,"position")==="static";)Ht=Ht.parentNode;Ht&&Ht!==tn&&Ht.nodeType===1&&(Gn=wt(Ht).offset(),Gn.top+=wt.css(Ht,"borderTopWidth",!0),Gn.left+=wt.css(Ht,"borderLeftWidth",!0))}return{top:mr.top-Gn.top-wt.css(tn,"marginTop",!0),left:mr.left-Gn.left-wt.css(tn,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var Ht=this.offsetParent;Ht&&wt.css(Ht,"position")==="static";)Ht=Ht.offsetParent;return Ht||_l})}}),wt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(Ht,mr){var br=mr==="pageYOffset";wt.fn[Ht]=function(tn){return vo(this,function(Gn,Hn,Jn){var ss;if(st(Gn)?ss=Gn:Gn.nodeType===9&&(ss=Gn.defaultView),Jn===void 0)return ss?ss[mr]:Gn[Hn];ss?ss.scrollTo(br?ss.pageXOffset:Jn,br?Jn:ss.pageYOffset):Gn[Hn]=Jn},Ht,tn,arguments.length)}}),wt.each(["top","left"],function(Ht,mr){wt.cssHooks[mr]=bu(It.pixelPosition,function(br,tn){if(tn)return tn=gu(br,mr),Uu.test(tn)?wt(br).position()[mr]+"px":tn})}),wt.each({Height:"height",Width:"width"},function(Ht,mr){wt.each({padding:"inner"+Ht,content:mr,"":"outer"+Ht},function(br,tn){wt.fn[tn]=function(Gn,Hn){var Jn=arguments.length&&(br||typeof Gn!="boolean"),ss=br||(Gn===!0||Hn===!0?"margin":"border");return vo(this,function(ls,bs,$s){var Xs;return st(ls)?tn.indexOf("outer")===0?ls["inner"+Ht]:ls.document.documentElement["client"+Ht]:ls.nodeType===9?(Xs=ls.documentElement,Math.max(ls.body["scroll"+Ht],Xs["scroll"+Ht],ls.body["offset"+Ht],Xs["offset"+Ht],Xs["client"+Ht])):$s===void 0?wt.css(ls,bs,ss):wt.style(ls,bs,$s,ss)},mr,Jn?Gn:void 0,Jn)}})}),wt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(Ht,mr){wt.fn[mr]=function(br){return this.on(mr,br)}}),wt.fn.extend({bind:function(Ht,mr,br){return this.on(Ht,null,mr,br)},unbind:function(Ht,mr){return this.off(Ht,null,mr)},delegate:function(Ht,mr,br,tn){return this.on(mr,Ht,br,tn)},undelegate:function(Ht,mr,br){return arguments.length===1?this.off(Ht,"**"):this.off(mr,Ht||"**",br)},hover:function(Ht,mr){return this.mouseenter(Ht).mouseleave(mr||Ht)}}),wt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(Ht,mr){wt.fn[mr]=function(br,tn){return arguments.length>0?this.on(mr,null,br,tn):this.trigger(mr)}});var Im=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;wt.proxy=function(Ht,mr){var br,tn,Gn;if(typeof mr=="string"&&(br=Ht[mr],mr=Ht,Ht=br),!!it(Ht))return tn=g.call(arguments,2),Gn=function(){return Ht.apply(mr||this,tn.concat(g.call(arguments)))},Gn.guid=Ht.guid=Ht.guid||wt.guid++,Gn},wt.holdReady=function(Ht){Ht?wt.readyWait++:wt.ready(!0)},wt.isArray=Array.isArray,wt.parseJSON=JSON.parse,wt.nodeName=wr,wt.isFunction=it,wt.isWindow=st,wt.camelCase=$n,wt.type=pt,wt.now=Date.now,wt.isNumeric=function(Ht){var mr=wt.type(Ht);return(mr==="number"||mr==="string")&&!isNaN(Ht-parseFloat(Ht))},wt.trim=function(Ht){return Ht==null?"":(Ht+"").replace(Im,"")};var Lm=e.jQuery,Fm=e.$;return wt.noConflict=function(Ht){return e.$===wt&&(e.$=Fm),Ht&&e.jQuery===wt&&(e.jQuery=Lm),wt},typeof o>"u"&&(e.jQuery=e.$=wt),wt})})(qr);var Di=qr.exports;const gt=Pr(Di);var Rr={},Ai=function(a,e,o){e.length&&(a.myChart.options.plugins.zoom.pan.enabled=!1,a.myChart.options.plugins.zoom.zoom.drag.enabled=!0,a.myChart.update("none")),gt.isEmptyObject(o)||(a.myDos.options.plugins.zoom.pan.enabled=!1,a.myDos.options.plugins.zoom.zoom.drag.enabled=!0,a.myDos.update("none"))};function ji(a,e,o){e.length&&(a.myChart.options.plugins.zoom.pan.enabled=!0,a.myChart.options.plugins.zoom.zoom.drag.enabled=!1,a.myChart.update("none")),gt.isEmptyObject(o)||(a.myDos.options.plugins.zoom.pan.enabled=!0,a.myDos.options.plugins.zoom.zoom.drag.enabled=!1,a.myDos.update("none"))}function Ri(a,e,o,c,h,g,b,$,j){Rr[a]={};var rt=window.performance.now();console.log("start time: plotting band plot: current time => ",a,rt);var nt=new yt(a,h,g,b,$);if(o.length){o.forEach(function(Dt,wt){var Bt;if(j!==void 0)if(typeof j[wt]=="object"){var jt=Zt("red");Bt=[jt,j[wt][0],j[wt][1]]}else if(typeof j[wt]=="string"){var jt=Zt(j[wt]);Bt=[jt.toHexString(),jt.darken(20).toHexString(),jt.brighten(20).toHexString()]}else{var jt=Zt("red");Bt=[jt.toHexString(),jt.darken(20).toHexString(),jt.brighten(20).toHexString()]}nt.addBandStructure(Dt,Bt)}),nt.updateBandPlot();var ot=document.getElementById(e);ot.value=jr(nt.getDefaultPath()),ot.onkeyup=function(){var Dt=document.getElementById(e),wt=Dt.value,Bt=ki(wt);nt.updateBandPlot(Bt)};var _t="Use - to define a segment<br>Use | to split the path.<br>Valid point names:<br>",Et=Hr(nt.allData);_t+=Et.join(", ");var It=document.getElementById(a+"bt-reset");It.onclick=function(){var Dt=document.getElementById(e);Dt.value=jr(nt.getDefaultPath()),nt.updateBandPlot(nt.getDefaultPath(),!0)};var it=document.getElementById(a+"bt-downloadFigure");it.onclick=function(){if(gt.isEmptyObject(c)){var Dt=document.createElement("a");Dt.href=nt.myChart.toBase64Image("bandstructure.png",1),Dt.download="bandstructure.png",Dt.click()}};var st=document.getElementById(a+"bt-downloadJson");st.onclick=function(){if(gt.isEmptyObject(c)){var Dt=document.createElement("a");o.length&&o.forEach(function(wt,Bt){Dt.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(wt)),Dt.download="bandData"+Bt+".json",Dt.click()})}}}if(!gt.isEmptyObject(c)){nt.addDos(c),o.length?nt.updateDosPlot("vertical"):nt.updateDosPlot("horizontal");var Mt=document.getElementById(a+"bt-togglePdos");Mt.onclick=function(){if(Mt.classList.contains("button")){gt("#"+a+"bt-togglePdos").addClass("button-white"),gt("#"+a+"bt-togglePdos").removeClass("button");for(var Bt=2;Bt<nt.dosSeries.length;Bt++)nt.dosSeries[Bt].hidden=!0;nt.myDos.update()}else{gt("#"+a+"bt-togglePdos").addClass("button"),gt("#"+a+"bt-togglePdos").removeClass("button-white");for(var Bt=2;Bt<nt.dosSeries.length;Bt++)nt.dosSeries[Bt].hidden=!1;nt.myDos.update()}};var it=document.getElementById(a+"bt-downloadFigure");it.onclick=function(){var Bt=document.createElement("a");if(o.length){var jt=document.createElement("a");Bt.href=nt.myDos.toBase64Image("dos.png",1),jt.href=nt.myChart.toBase64Image("bandstructure.png",1),Bt.download="dos.png",jt.download="bandstructure.png",jt.click()}else Bt.href=nt.myDos.toBase64Image("dos.png",1),Bt.download="dos.png";Bt.click()};var st=document.getElementById(a+"bt-downloadJson");st.onclick=function(){var Bt=document.createElement("a");o.length?(o.forEach(function(jt,hr){Bt.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(jt)),Bt.download="bandData"+hr+".json",Bt.click()}),Bt.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(c)),Bt.download="dosData.json",Bt.click()):(Bt.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(c)),Bt.download="dosData.json",Bt.click())}}Rr[a].plotObj=nt;var bt=document.getElementById(a+"bt-resetZoom");bt.onclick=function(){o.length&&nt.resBandZoom(),!gt.isEmptyObject(c)&&o.length&&nt.resDosZoom("vertical"),!gt.isEmptyObject(c)&&!o.length&&nt.resDosZoom("horizontal"),console.log(nt)};var Lt=document.getElementById(a+"bt-dragPan");Lt.onclick=function(){ji(nt,o,c)};var pt=document.getElementById(a+"bt-dragZoom");return pt.onclick=function(){Ai(nt,o,c)},console.log("end time: plotting band plot: current time, total time => ",a,window.performance.now(),window.performance.now()-rt),nt}function Pi(a){var e=Math.random().toString(16).slice(2),o=Math.random().toString(16).slice(2),c=null,h=a.bandsDataList.length>0,g=a.dosData!=null||a.dosData!=null,b=h&&g;reactExports.useEffect(()=>(c=Ri(e,o,a.bandsDataList,a.dosData,a.showFermi,a.showLegend,a.yLimit,a.dosRange,a.colorInfo),()=>{h&&c.myChart.destroy(),g&&c.myDos.destroy()}),[]);var $=null,j=null,rt=null,nt=null,ot=null;return h&&($=Re.jsx("div",{id:`bandsplot-${e}-div`,className:b?"bands-plot":"bands-plot-single",children:Re.jsx("canvas",{id:e})}),rt=Re.jsxs("div",{className:"bands-path-input",children:[Re.jsx("span",{className:"span-label",children:" Edit path: "}),Re.jsx("input",{id:o,className:"bands-input",type:"text"})]}),nt=Re.jsx("button",{type:"button",id:`${e}bt-reset`,className:"button",children:"Reset default path"})),g&&(j=Re.jsx("div",{id:`dosplot-${e}-div`,className:b?"dos-plot":"dos-plot-single",children:Re.jsx("canvas",{id:`${e}-dos`})}),ot=Re.jsx("button",{type:"button",id:`${e}bt-togglePdos`,className:"button",children:"Toggle PDOS"})),Re.jsxs("div",{className:"bands-widget-all",children:[Re.jsxs("div",{className:"plots-container",children:[$,j]}),rt,Re.jsxs("div",{className:"band-widget-buttons",children:[nt,Re.jsx("button",{type:"button",id:`${e}bt-resetZoom`,className:"button",children:"Reset zoom"}),Re.jsxs("div",{className:"drag-radio-buttons",children:[Re.jsx("input",{type:"radio",id:`${e}bt-dragZoom`,name:`${e}-radio`,defaultChecked:!0}),Re.jsx("label",{htmlFor:`${e}bt-dragZoom`,children:"Drag/pinch to zoom"}),Re.jsx("input",{type:"radio",id:`${e}bt-dragPan`,name:`${e}-radio`}),Re.jsx("label",{htmlFor:`${e}bt-dragPan`,children:"Drag to pan"})]}),ot,Re.jsx("button",{type:"button",id:`${e}bt-downloadFigure`,className:"button",children:"Download Figure"}),Re.jsx("button",{type:"button",id:`${e}bt-downloadJson`,className:"button",children:"Download Json"})]})]})}async function fetchAiidaBandsJson(a){return await(await fetch(`${REST_API_AIIDA}/nodes/${a}/download?download_format=json`)).json()}function shiftBands(a,e){a.paths.forEach(o=>{o.values.forEach(c=>{c.forEach((h,g,b)=>{b[g]+=e})})})}function BandsSection(a){const[e,o]=reactExports.useState(null);console.log(a);let c=a.compoundInfo.bands_2D,h=a.compoundInfo.bands_2D_y_max_lim,g=a.compoundInfo.bands_2D_y_min_lim,b=a.compoundInfo.bands_2D_y_origin;reactExports.useEffect(()=>{o(null),fetchAiidaBandsJson(c).then(j=>{shiftBands(j,-b),o(j)})},[]);let $=e==null;return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Electronic band structure"})," ",jsxRuntimeExports$1.jsx(Ka,{explore_url:EXPLORE_URL,uuid:c}),$?jsxRuntimeExports$1.jsx("span",{children:"loading"}):jsxRuntimeExports$1.jsx(Pi,{bandsDataList:[e],showFermi:!0,showLegend:void 0,yLimit:{ymin:g,ymax:h},dosRange:[-2,2],colorInfo:void 0})]})}async function fetchCompoundData(a,e){const h=(await(await fetch(`${REST_API_COMPOUNDS}/${a}`)).json()).data[`${a}`],g=h.map(nt=>nt.space_group),b=h.map(nt=>`mc2d-${nt.mc2d_id}`),$=h[b.indexOf(e)],j=$.structure_2D;return{compoundInfo:$,sameFormulaStructures:{spacegrps:g,ids:b},structureAttributes:await fetchAiidaAttributes(j),structureCifText:await fetchAiidaCifText(j)}}function DetailPage(){const[a,e]=reactExports.useState(null),[o,c]=reactExports.useState(null),[h,g]=reactExports.useState(null),[b,$]=reactExports.useState(null);useNavigate();const j=useParams();reactExports.useEffect(()=>{e(null),c(null),g(null),$(null);let nt=j.compound,ot=j.id;fetchCompoundData(nt,ot).then(_t=>{e(_t.compoundInfo),c(_t.sameFormulaStructures),g(_t.structureAttributes),$(_t.structureCifText)})},[j.compound,j.id]);let rt=a==null;return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud 2D crystals database",link:"/discover-mc2d-react/"},{name:formatTitle(j),link:null}],children:jsxRuntimeExports$1.jsxs("div",{className:"detail-page",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsxs("div",{className:"detail-page-inner",children:[jsxRuntimeExports$1.jsx("h3",{children:formatTitle(j)}),rt?jsxRuntimeExports$1.jsx("div",{style:{padding:"80px 400px"},children:jsxRuntimeExports$1.jsx(qa,{})}):jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsx(SelectionSection,{sameFormulaStructures:o,currentStructure:j}),jsxRuntimeExports$1.jsx(OverviewSection,{cifText:b,compoundInfo:a}),jsxRuntimeExports$1.jsx(BandsSection,{compoundInfo:a})]})]})]})})}Chart.register(...registerables);var hammer={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(a){(function(e,o,c,h){var g=["","webkit","Moz","MS","ms","o"],b=o.createElement("div"),$="function",j=Math.round,rt=Math.abs,nt=Date.now;function ot(Qn,lo,ns){return setTimeout(Lt(Qn,ns),lo)}function _t(Qn,lo,ns){return Array.isArray(Qn)?(Et(Qn,ns[lo],ns),!0):!1}function Et(Qn,lo,ns){var Cs;if(Qn)if(Qn.forEach)Qn.forEach(lo,ns);else if(Qn.length!==h)for(Cs=0;Cs<Qn.length;)lo.call(ns,Qn[Cs],Cs,Qn),Cs++;else for(Cs in Qn)Qn.hasOwnProperty(Cs)&&lo.call(ns,Qn[Cs],Cs,Qn)}function It(Qn,lo,ns){var Cs="DEPRECATED METHOD: "+lo+`
`+ns+` AT 
`;return function(){var Us=new Error("get-stack-trace"),Tl=Us&&Us.stack?Us.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",zl=e.console&&(e.console.warn||e.console.log);return zl&&zl.call(e.console,Cs,Tl),Qn.apply(this,arguments)}}var it;typeof Object.assign!="function"?it=function(lo){if(lo===h||lo===null)throw new TypeError("Cannot convert undefined or null to object");for(var ns=Object(lo),Cs=1;Cs<arguments.length;Cs++){var Us=arguments[Cs];if(Us!==h&&Us!==null)for(var Tl in Us)Us.hasOwnProperty(Tl)&&(ns[Tl]=Us[Tl])}return ns}:it=Object.assign;var st=It(function(lo,ns,Cs){for(var Us=Object.keys(ns),Tl=0;Tl<Us.length;)(!Cs||Cs&&lo[Us[Tl]]===h)&&(lo[Us[Tl]]=ns[Us[Tl]]),Tl++;return lo},"extend","Use `assign`."),Mt=It(function(lo,ns){return st(lo,ns,!0)},"merge","Use `assign`.");function bt(Qn,lo,ns){var Cs=lo.prototype,Us;Us=Qn.prototype=Object.create(Cs),Us.constructor=Qn,Us._super=Cs,ns&&it(Us,ns)}function Lt(Qn,lo){return function(){return Qn.apply(lo,arguments)}}function pt(Qn,lo){return typeof Qn==$?Qn.apply(lo&&lo[0]||h,lo):Qn}function Dt(Qn,lo){return Qn===h?lo:Qn}function wt(Qn,lo,ns){Et(gr(lo),function(Cs){Qn.addEventListener(Cs,ns,!1)})}function Bt(Qn,lo,ns){Et(gr(lo),function(Cs){Qn.removeEventListener(Cs,ns,!1)})}function jt(Qn,lo){for(;Qn;){if(Qn==lo)return!0;Qn=Qn.parentNode}return!1}function hr(Qn,lo){return Qn.indexOf(lo)>-1}function gr(Qn){return Qn.trim().split(/\s+/g)}function Cr(Qn,lo,ns){if(Qn.indexOf&&!ns)return Qn.indexOf(lo);for(var Cs=0;Cs<Qn.length;){if(ns&&Qn[Cs][ns]==lo||!ns&&Qn[Cs]===lo)return Cs;Cs++}return-1}function wr(Qn){return Array.prototype.slice.call(Qn,0)}function yr(Qn,lo,ns){for(var Cs=[],Us=[],Tl=0;Tl<Qn.length;){var zl=lo?Qn[Tl][lo]:Qn[Tl];Cr(Us,zl)<0&&Cs.push(Qn[Tl]),Us[Tl]=zl,Tl++}return ns&&(lo?Cs=Cs.sort(function(Su,Tu){return Su[lo]>Tu[lo]}):Cs=Cs.sort()),Cs}function xr(Qn,lo){for(var ns,Cs,Us=lo[0].toUpperCase()+lo.slice(1),Tl=0;Tl<g.length;){if(ns=g[Tl],Cs=ns?ns+Us:lo,Cs in Qn)return Cs;Tl++}return h}var In=1;function rn(){return In++}function Sr(Qn){var lo=Qn.ownerDocument||Qn;return lo.defaultView||lo.parentWindow||e}var Tr=/mobile|tablet|ip(ad|hone|od)|android/i,Ln="ontouchstart"in e,Fn=xr(e,"PointerEvent")!==h,Or=Ln&&Tr.test(navigator.userAgent),Nn="touch",eo="pen",uo="mouse",wo="kinect",bo=25,es=1,rs=2,vo=4,gs=8,cs=1,Gs=2,$n=4,Kn=8,Bn=16,co=Gs|$n,vs=Kn|Bn,Ts=co|vs,Fs=["x","y"],Os=["clientX","clientY"];function Ns(Qn,lo){var ns=this;this.manager=Qn,this.callback=lo,this.element=Qn.element,this.target=Qn.options.inputTarget,this.domHandler=function(Cs){pt(Qn.options.enable,[Qn])&&ns.handler(Cs)},this.init()}Ns.prototype={handler:function(){},init:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler),this.evTarget&&wt(this.target,this.evTarget,this.domHandler),this.evWin&&wt(Sr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Bt(this.element,this.evEl,this.domHandler),this.evTarget&&Bt(this.target,this.evTarget,this.domHandler),this.evWin&&Bt(Sr(this.element),this.evWin,this.domHandler)}};function Ps(Qn){var lo,ns=Qn.options.inputClass;return ns?lo=ns:Fn?lo=Er:Or?lo=Hs:Ln?lo=Wl:lo=as,new lo(Qn,Ks)}function Ks(Qn,lo,ns){var Cs=ns.pointers.length,Us=ns.changedPointers.length,Tl=lo&es&&Cs-Us===0,zl=lo&(vo|gs)&&Cs-Us===0;ns.isFirst=!!Tl,ns.isFinal=!!zl,Tl&&(Qn.session={}),ns.eventType=lo,Bs(Qn,ns),Qn.emit("hammer.input",ns),Qn.recognize(ns),Qn.session.prevInput=ns}function Bs(Qn,lo){var ns=Qn.session,Cs=lo.pointers,Us=Cs.length;ns.firstInput||(ns.firstInput=Zn(lo)),Us>1&&!ns.firstMultiple?ns.firstMultiple=Zn(lo):Us===1&&(ns.firstMultiple=!1);var Tl=ns.firstInput,zl=ns.firstMultiple,vu=zl?zl.center:Tl.center,Su=lo.center=Vn(Cs);lo.timeStamp=nt(),lo.deltaTime=lo.timeStamp-Tl.timeStamp,lo.angle=xs(vu,Su),lo.distance=us(vu,Su),_l(ns,lo),lo.offsetDirection=hs(lo.deltaX,lo.deltaY);var Tu=qn(lo.deltaTime,lo.deltaX,lo.deltaY);lo.overallVelocityX=Tu.x,lo.overallVelocityY=Tu.y,lo.overallVelocity=rt(Tu.x)>rt(Tu.y)?Tu.x:Tu.y,lo.scale=zl?zn(zl.pointers,Cs):1,lo.rotation=zl?Rs(zl.pointers,Cs):0,lo.maxPointers=ns.prevInput?lo.pointers.length>ns.prevInput.maxPointers?lo.pointers.length:ns.prevInput.maxPointers:lo.pointers.length,Cl(ns,lo);var Iu=Qn.element;jt(lo.srcEvent.target,Iu)&&(Iu=lo.srcEvent.target),lo.target=Iu}function _l(Qn,lo){var ns=lo.center,Cs=Qn.offsetDelta||{},Us=Qn.prevDelta||{},Tl=Qn.prevInput||{};(lo.eventType===es||Tl.eventType===vo)&&(Us=Qn.prevDelta={x:Tl.deltaX||0,y:Tl.deltaY||0},Cs=Qn.offsetDelta={x:ns.x,y:ns.y}),lo.deltaX=Us.x+(ns.x-Cs.x),lo.deltaY=Us.y+(ns.y-Cs.y)}function Cl(Qn,lo){var ns=Qn.lastInterval||lo,Cs=lo.timeStamp-ns.timeStamp,Us,Tl,zl,vu;if(lo.eventType!=gs&&(Cs>bo||ns.velocity===h)){var Su=lo.deltaX-ns.deltaX,Tu=lo.deltaY-ns.deltaY,Iu=qn(Cs,Su,Tu);Tl=Iu.x,zl=Iu.y,Us=rt(Iu.x)>rt(Iu.y)?Iu.x:Iu.y,vu=hs(Su,Tu),Qn.lastInterval=lo}else Us=ns.velocity,Tl=ns.velocityX,zl=ns.velocityY,vu=ns.direction;lo.velocity=Us,lo.velocityX=Tl,lo.velocityY=zl,lo.direction=vu}function Zn(Qn){for(var lo=[],ns=0;ns<Qn.pointers.length;)lo[ns]={clientX:j(Qn.pointers[ns].clientX),clientY:j(Qn.pointers[ns].clientY)},ns++;return{timeStamp:nt(),pointers:lo,center:Vn(lo),deltaX:Qn.deltaX,deltaY:Qn.deltaY}}function Vn(Qn){var lo=Qn.length;if(lo===1)return{x:j(Qn[0].clientX),y:j(Qn[0].clientY)};for(var ns=0,Cs=0,Us=0;Us<lo;)ns+=Qn[Us].clientX,Cs+=Qn[Us].clientY,Us++;return{x:j(ns/lo),y:j(Cs/lo)}}function qn(Qn,lo,ns){return{x:lo/Qn||0,y:ns/Qn||0}}function hs(Qn,lo){return Qn===lo?cs:rt(Qn)>=rt(lo)?Qn<0?Gs:$n:lo<0?Kn:Bn}function us(Qn,lo,ns){ns||(ns=Fs);var Cs=lo[ns[0]]-Qn[ns[0]],Us=lo[ns[1]]-Qn[ns[1]];return Math.sqrt(Cs*Cs+Us*Us)}function xs(Qn,lo,ns){ns||(ns=Fs);var Cs=lo[ns[0]]-Qn[ns[0]],Us=lo[ns[1]]-Qn[ns[1]];return Math.atan2(Us,Cs)*180/Math.PI}function Rs(Qn,lo){return xs(lo[1],lo[0],Os)+xs(Qn[1],Qn[0],Os)}function zn(Qn,lo){return us(lo[0],lo[1],Os)/us(Qn[0],Qn[1],Os)}var ds={mousedown:es,mousemove:rs,mouseup:vo},_s="mousedown",ks="mousemove mouseup";function as(){this.evEl=_s,this.evWin=ks,this.pressed=!1,Ns.apply(this,arguments)}bt(as,Ns,{handler:function(lo){var ns=ds[lo.type];ns&es&&lo.button===0&&(this.pressed=!0),ns&rs&&lo.which!==1&&(ns=vo),this.pressed&&(ns&vo&&(this.pressed=!1),this.callback(this.manager,ns,{pointers:[lo],changedPointers:[lo],pointerType:uo,srcEvent:lo}))}});var Ls={pointerdown:es,pointermove:rs,pointerup:vo,pointercancel:gs,pointerout:gs},Un={2:Nn,3:eo,4:uo,5:wo},As="pointerdown",yl="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(As="MSPointerDown",yl="MSPointerMove MSPointerUp MSPointerCancel");function Er(){this.evEl=As,this.evWin=yl,Ns.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}bt(Er,Ns,{handler:function(lo){var ns=this.store,Cs=!1,Us=lo.type.toLowerCase().replace("ms",""),Tl=Ls[Us],zl=Un[lo.pointerType]||lo.pointerType,vu=zl==Nn,Su=Cr(ns,lo.pointerId,"pointerId");Tl&es&&(lo.button===0||vu)?Su<0&&(ns.push(lo),Su=ns.length-1):Tl&(vo|gs)&&(Cs=!0),!(Su<0)&&(ns[Su]=lo,this.callback(this.manager,Tl,{pointers:ns,changedPointers:[lo],pointerType:zl,srcEvent:lo}),Cs&&ns.splice(Su,1))}});var ys={touchstart:es,touchmove:rs,touchend:vo,touchcancel:gs},fs="touchstart",Yn="touchstart touchmove touchend touchcancel";function is(){this.evTarget=fs,this.evWin=Yn,this.started=!1,Ns.apply(this,arguments)}bt(is,Ns,{handler:function(lo){var ns=ys[lo.type];if(ns===es&&(this.started=!0),!!this.started){var Cs=Es.call(this,lo,ns);ns&(vo|gs)&&Cs[0].length-Cs[1].length===0&&(this.started=!1),this.callback(this.manager,ns,{pointers:Cs[0],changedPointers:Cs[1],pointerType:Nn,srcEvent:lo})}}});function Es(Qn,lo){var ns=wr(Qn.touches),Cs=wr(Qn.changedTouches);return lo&(vo|gs)&&(ns=yr(ns.concat(Cs),"identifier",!0)),[ns,Cs]}var zs={touchstart:es,touchmove:rs,touchend:vo,touchcancel:gs},Js="touchstart touchmove touchend touchcancel";function Hs(){this.evTarget=Js,this.targetIds={},Ns.apply(this,arguments)}bt(Hs,Ns,{handler:function(lo){var ns=zs[lo.type],Cs=Al.call(this,lo,ns);Cs&&this.callback(this.manager,ns,{pointers:Cs[0],changedPointers:Cs[1],pointerType:Nn,srcEvent:lo})}});function Al(Qn,lo){var ns=wr(Qn.touches),Cs=this.targetIds;if(lo&(es|rs)&&ns.length===1)return Cs[ns[0].identifier]=!0,[ns,ns];var Us,Tl,zl=wr(Qn.changedTouches),vu=[],Su=this.target;if(Tl=ns.filter(function(Tu){return jt(Tu.target,Su)}),lo===es)for(Us=0;Us<Tl.length;)Cs[Tl[Us].identifier]=!0,Us++;for(Us=0;Us<zl.length;)Cs[zl[Us].identifier]&&vu.push(zl[Us]),lo&(vo|gs)&&delete Cs[zl[Us].identifier],Us++;if(vu.length)return[yr(Tl.concat(vu),"identifier",!0),vu]}var Zl=2500,Ll=25;function Wl(){Ns.apply(this,arguments);var Qn=Lt(this.handler,this);this.touch=new Hs(this.manager,Qn),this.mouse=new as(this.manager,Qn),this.primaryTouch=null,this.lastTouches=[]}bt(Wl,Ns,{handler:function(lo,ns,Cs){var Us=Cs.pointerType==Nn,Tl=Cs.pointerType==uo;if(!(Tl&&Cs.sourceCapabilities&&Cs.sourceCapabilities.firesTouchEvents)){if(Us)Xl.call(this,ns,Cs);else if(Tl&&lu.call(this,Cs))return;this.callback(lo,ns,Cs)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Xl(Qn,lo){Qn&es?(this.primaryTouch=lo.changedPointers[0].identifier,yu.call(this,lo)):Qn&(vo|gs)&&yu.call(this,lo)}function yu(Qn){var lo=Qn.changedPointers[0];if(lo.identifier===this.primaryTouch){var ns={x:lo.clientX,y:lo.clientY};this.lastTouches.push(ns);var Cs=this.lastTouches,Us=function(){var Tl=Cs.indexOf(ns);Tl>-1&&Cs.splice(Tl,1)};setTimeout(Us,Zl)}}function lu(Qn){for(var lo=Qn.srcEvent.clientX,ns=Qn.srcEvent.clientY,Cs=0;Cs<this.lastTouches.length;Cs++){var Us=this.lastTouches[Cs],Tl=Math.abs(lo-Us.x),zl=Math.abs(ns-Us.y);if(Tl<=Ll&&zl<=Ll)return!0}return!1}var zu=xr(b.style,"touchAction"),Uu=zu!==h,tu="compute",au="auto",uu="manipulation",gu="none",bu="pan-x",Mu="pan-y",np=ip();function lp(Qn,lo){this.manager=Qn,this.set(lo)}lp.prototype={set:function(Qn){Qn==tu&&(Qn=this.compute()),Uu&&this.manager.element.style&&np[Qn]&&(this.manager.element.style[zu]=Qn),this.actions=Qn.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Qn=[];return Et(this.manager.recognizers,function(lo){pt(lo.options.enable,[lo])&&(Qn=Qn.concat(lo.getTouchAction()))}),Tp(Qn.join(" "))},preventDefaults:function(Qn){var lo=Qn.srcEvent,ns=Qn.offsetDirection;if(this.manager.session.prevented){lo.preventDefault();return}var Cs=this.actions,Us=hr(Cs,gu)&&!np[gu],Tl=hr(Cs,Mu)&&!np[Mu],zl=hr(Cs,bu)&&!np[bu];if(Us){var vu=Qn.pointers.length===1,Su=Qn.distance<2,Tu=Qn.deltaTime<250;if(vu&&Su&&Tu)return}if(!(zl&&Tl)&&(Us||Tl&&ns&co||zl&&ns&vs))return this.preventSrc(lo)},preventSrc:function(Qn){this.manager.session.prevented=!0,Qn.preventDefault()}};function Tp(Qn){if(hr(Qn,gu))return gu;var lo=hr(Qn,bu),ns=hr(Qn,Mu);return lo&&ns?gu:lo||ns?lo?bu:Mu:hr(Qn,uu)?uu:au}function ip(){if(!Uu)return!1;var Qn={},lo=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ns){Qn[ns]=lo?e.CSS.supports("touch-action",ns):!0}),Qn}var up=1,Ou=2,qu=4,ep=8,Bl=ep,Nu=16,xu=32;function _u(Qn){this.options=it({},this.defaults,Qn||{}),this.id=rn(),this.manager=null,this.options.enable=Dt(this.options.enable,!0),this.state=up,this.simultaneous={},this.requireFail=[]}_u.prototype={defaults:{},set:function(Qn){return it(this.options,Qn),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Qn){if(_t(Qn,"recognizeWith",this))return this;var lo=this.simultaneous;return Qn=mp(Qn,this),lo[Qn.id]||(lo[Qn.id]=Qn,Qn.recognizeWith(this)),this},dropRecognizeWith:function(Qn){return _t(Qn,"dropRecognizeWith",this)?this:(Qn=mp(Qn,this),delete this.simultaneous[Qn.id],this)},requireFailure:function(Qn){if(_t(Qn,"requireFailure",this))return this;var lo=this.requireFail;return Qn=mp(Qn,this),Cr(lo,Qn)===-1&&(lo.push(Qn),Qn.requireFailure(this)),this},dropRequireFailure:function(Qn){if(_t(Qn,"dropRequireFailure",this))return this;Qn=mp(Qn,this);var lo=Cr(this.requireFail,Qn);return lo>-1&&this.requireFail.splice(lo,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Qn){return!!this.simultaneous[Qn.id]},emit:function(Qn){var lo=this,ns=this.state;function Cs(Us){lo.manager.emit(Us,Qn)}ns<ep&&Cs(lo.options.event+Bu(ns)),Cs(lo.options.event),Qn.additionalEvent&&Cs(Qn.additionalEvent),ns>=ep&&Cs(lo.options.event+Bu(ns))},tryEmit:function(Qn){if(this.canEmit())return this.emit(Qn);this.state=xu},canEmit:function(){for(var Qn=0;Qn<this.requireFail.length;){if(!(this.requireFail[Qn].state&(xu|up)))return!1;Qn++}return!0},recognize:function(Qn){var lo=it({},Qn);if(!pt(this.options.enable,[this,lo])){this.reset(),this.state=xu;return}this.state&(Bl|Nu|xu)&&(this.state=up),this.state=this.process(lo),this.state&(Ou|qu|ep|Nu)&&this.tryEmit(lo)},process:function(Qn){},getTouchAction:function(){},reset:function(){}};function Bu(Qn){return Qn&Nu?"cancel":Qn&ep?"end":Qn&qu?"move":Qn&Ou?"start":""}function cp(Qn){return Qn==Bn?"down":Qn==Kn?"up":Qn==Gs?"left":Qn==$n?"right":""}function mp(Qn,lo){var ns=lo.manager;return ns?ns.get(Qn):Qn}function Gu(){_u.apply(this,arguments)}bt(Gu,_u,{defaults:{pointers:1},attrTest:function(Qn){var lo=this.options.pointers;return lo===0||Qn.pointers.length===lo},process:function(Qn){var lo=this.state,ns=Qn.eventType,Cs=lo&(Ou|qu),Us=this.attrTest(Qn);return Cs&&(ns&gs||!Us)?lo|Nu:Cs||Us?ns&vo?lo|ep:lo&Ou?lo|qu:Ou:xu}});function op(){Gu.apply(this,arguments),this.pX=null,this.pY=null}bt(op,Gu,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ts},getTouchAction:function(){var Qn=this.options.direction,lo=[];return Qn&co&&lo.push(Mu),Qn&vs&&lo.push(bu),lo},directionTest:function(Qn){var lo=this.options,ns=!0,Cs=Qn.distance,Us=Qn.direction,Tl=Qn.deltaX,zl=Qn.deltaY;return Us&lo.direction||(lo.direction&co?(Us=Tl===0?cs:Tl<0?Gs:$n,ns=Tl!=this.pX,Cs=Math.abs(Qn.deltaX)):(Us=zl===0?cs:zl<0?Kn:Bn,ns=zl!=this.pY,Cs=Math.abs(Qn.deltaY))),Qn.direction=Us,ns&&Cs>lo.threshold&&Us&lo.direction},attrTest:function(Qn){return Gu.prototype.attrTest.call(this,Qn)&&(this.state&Ou||!(this.state&Ou)&&this.directionTest(Qn))},emit:function(Qn){this.pX=Qn.deltaX,this.pY=Qn.deltaY;var lo=cp(Qn.direction);lo&&(Qn.additionalEvent=this.options.event+lo),this._super.emit.call(this,Qn)}});function vp(){Gu.apply(this,arguments)}bt(vp,Gu,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[gu]},attrTest:function(Qn){return this._super.attrTest.call(this,Qn)&&(Math.abs(Qn.scale-1)>this.options.threshold||this.state&Ou)},emit:function(Qn){if(Qn.scale!==1){var lo=Qn.scale<1?"in":"out";Qn.additionalEvent=this.options.event+lo}this._super.emit.call(this,Qn)}});function ju(){_u.apply(this,arguments),this._timer=null,this._input=null}bt(ju,_u,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[au]},process:function(Qn){var lo=this.options,ns=Qn.pointers.length===lo.pointers,Cs=Qn.distance<lo.threshold,Us=Qn.deltaTime>lo.time;if(this._input=Qn,!Cs||!ns||Qn.eventType&(vo|gs)&&!Us)this.reset();else if(Qn.eventType&es)this.reset(),this._timer=ot(function(){this.state=Bl,this.tryEmit()},lo.time,this);else if(Qn.eventType&vo)return Bl;return xu},reset:function(){clearTimeout(this._timer)},emit:function(Qn){this.state===Bl&&(Qn&&Qn.eventType&vo?this.manager.emit(this.options.event+"up",Qn):(this._input.timeStamp=nt(),this.manager.emit(this.options.event,this._input)))}});function sp(){Gu.apply(this,arguments)}bt(sp,Gu,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[gu]},attrTest:function(Qn){return this._super.attrTest.call(this,Qn)&&(Math.abs(Qn.rotation)>this.options.threshold||this.state&Ou)}});function Au(){Gu.apply(this,arguments)}bt(Au,Gu,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:co|vs,pointers:1},getTouchAction:function(){return op.prototype.getTouchAction.call(this)},attrTest:function(Qn){var lo=this.options.direction,ns;return lo&(co|vs)?ns=Qn.overallVelocity:lo&co?ns=Qn.overallVelocityX:lo&vs&&(ns=Qn.overallVelocityY),this._super.attrTest.call(this,Qn)&&lo&Qn.offsetDirection&&Qn.distance>this.options.threshold&&Qn.maxPointers==this.options.pointers&&rt(ns)>this.options.velocity&&Qn.eventType&vo},emit:function(Qn){var lo=cp(Qn.offsetDirection);lo&&this.manager.emit(this.options.event+lo,Qn),this.manager.emit(this.options.event,Qn)}});function tp(){_u.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}bt(tp,_u,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[uu]},process:function(Qn){var lo=this.options,ns=Qn.pointers.length===lo.pointers,Cs=Qn.distance<lo.threshold,Us=Qn.deltaTime<lo.time;if(this.reset(),Qn.eventType&es&&this.count===0)return this.failTimeout();if(Cs&&Us&&ns){if(Qn.eventType!=vo)return this.failTimeout();var Tl=this.pTime?Qn.timeStamp-this.pTime<lo.interval:!0,zl=!this.pCenter||us(this.pCenter,Qn.center)<lo.posThreshold;this.pTime=Qn.timeStamp,this.pCenter=Qn.center,!zl||!Tl?this.count=1:this.count+=1,this._input=Qn;var vu=this.count%lo.taps;if(vu===0)return this.hasRequireFailures()?(this._timer=ot(function(){this.state=Bl,this.tryEmit()},lo.interval,this),Ou):Bl}return xu},failTimeout:function(){return this._timer=ot(function(){this.state=xu},this.options.interval,this),xu},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Bl&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function hu(Qn,lo){return lo=lo||{},lo.recognizers=Dt(lo.recognizers,hu.defaults.preset),new rp(Qn,lo)}hu.VERSION="2.0.7",hu.defaults={domEvents:!1,touchAction:tu,enable:!0,inputTarget:null,inputClass:null,preset:[[sp,{enable:!1}],[vp,{enable:!1},["rotate"]],[Au,{direction:co}],[op,{direction:co},["swipe"]],[tp],[tp,{event:"doubletap",taps:2},["tap"]],[ju]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var dp=1,yp=2;function rp(Qn,lo){this.options=it({},hu.defaults,lo||{}),this.options.inputTarget=this.options.inputTarget||Qn,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Qn,this.input=Ps(this),this.touchAction=new lp(this,this.options.touchAction),Ip(this,!0),Et(this.options.recognizers,function(ns){var Cs=this.add(new ns[0](ns[1]));ns[2]&&Cs.recognizeWith(ns[2]),ns[3]&&Cs.requireFailure(ns[3])},this)}rp.prototype={set:function(Qn){return it(this.options,Qn),Qn.touchAction&&this.touchAction.update(),Qn.inputTarget&&(this.input.destroy(),this.input.target=Qn.inputTarget,this.input.init()),this},stop:function(Qn){this.session.stopped=Qn?yp:dp},recognize:function(Qn){var lo=this.session;if(!lo.stopped){this.touchAction.preventDefaults(Qn);var ns,Cs=this.recognizers,Us=lo.curRecognizer;(!Us||Us&&Us.state&Bl)&&(Us=lo.curRecognizer=null);for(var Tl=0;Tl<Cs.length;)ns=Cs[Tl],lo.stopped!==yp&&(!Us||ns==Us||ns.canRecognizeWith(Us))?ns.recognize(Qn):ns.reset(),!Us&&ns.state&(Ou|qu|ep)&&(Us=lo.curRecognizer=ns),Tl++}},get:function(Qn){if(Qn instanceof _u)return Qn;for(var lo=this.recognizers,ns=0;ns<lo.length;ns++)if(lo[ns].options.event==Qn)return lo[ns];return null},add:function(Qn){if(_t(Qn,"add",this))return this;var lo=this.get(Qn.options.event);return lo&&this.remove(lo),this.recognizers.push(Qn),Qn.manager=this,this.touchAction.update(),Qn},remove:function(Qn){if(_t(Qn,"remove",this))return this;if(Qn=this.get(Qn),Qn){var lo=this.recognizers,ns=Cr(lo,Qn);ns!==-1&&(lo.splice(ns,1),this.touchAction.update())}return this},on:function(Qn,lo){if(Qn!==h&&lo!==h){var ns=this.handlers;return Et(gr(Qn),function(Cs){ns[Cs]=ns[Cs]||[],ns[Cs].push(lo)}),this}},off:function(Qn,lo){if(Qn!==h){var ns=this.handlers;return Et(gr(Qn),function(Cs){lo?ns[Cs]&&ns[Cs].splice(Cr(ns[Cs],lo),1):delete ns[Cs]}),this}},emit:function(Qn,lo){this.options.domEvents&&$u(Qn,lo);var ns=this.handlers[Qn]&&this.handlers[Qn].slice();if(!(!ns||!ns.length)){lo.type=Qn,lo.preventDefault=function(){lo.srcEvent.preventDefault()};for(var Cs=0;Cs<ns.length;)ns[Cs](lo),Cs++}},destroy:function(){this.element&&Ip(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Ip(Qn,lo){var ns=Qn.element;if(ns.style){var Cs;Et(Qn.options.cssProps,function(Us,Tl){Cs=xr(ns.style,Tl),lo?(Qn.oldCssProps[Cs]=ns.style[Cs],ns.style[Cs]=Us):ns.style[Cs]=Qn.oldCssProps[Cs]||""}),lo||(Qn.oldCssProps={})}}function $u(Qn,lo){var ns=o.createEvent("Event");ns.initEvent(Qn,!0,!0),ns.gesture=lo,lo.target.dispatchEvent(ns)}it(hu,{INPUT_START:es,INPUT_MOVE:rs,INPUT_END:vo,INPUT_CANCEL:gs,STATE_POSSIBLE:up,STATE_BEGAN:Ou,STATE_CHANGED:qu,STATE_ENDED:ep,STATE_RECOGNIZED:Bl,STATE_CANCELLED:Nu,STATE_FAILED:xu,DIRECTION_NONE:cs,DIRECTION_LEFT:Gs,DIRECTION_RIGHT:$n,DIRECTION_UP:Kn,DIRECTION_DOWN:Bn,DIRECTION_HORIZONTAL:co,DIRECTION_VERTICAL:vs,DIRECTION_ALL:Ts,Manager:rp,Input:Ns,TouchAction:lp,TouchInput:Hs,MouseInput:as,PointerEventInput:Er,TouchMouseInput:Wl,SingleTouchInput:is,Recognizer:_u,AttrRecognizer:Gu,Tap:tp,Pan:op,Swipe:Au,Pinch:vp,Rotate:sp,Press:ju,on:wt,off:Bt,each:Et,merge:Mt,extend:st,assign:it,inherit:bt,bindFn:Lt,prefixed:xr});var pp=typeof e<"u"?e:typeof self<"u"?self:{};pp.Hammer=hu,typeof h=="function"&&h.amd?h(function(){return hu}):a.exports?a.exports=hu:e[c]=hu})(window,document,"Hammer")})(hammer);var hammerExports=hammer.exports;const Hammer=getDefaultExportFromCjs(hammerExports);/*!
* chartjs-plugin-zoom v2.0.1
* undefined
 * (c) 2016-2023 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const getModifierKey=a=>a&&a.enabled&&a.modifierKey,keyPressed=(a,e)=>a&&e[a+"Key"],keyNotPressed=(a,e)=>a&&!e[a+"Key"];function directionEnabled(a,e,o){return a===void 0?!0:typeof a=="string"?a.indexOf(e)!==-1:typeof a=="function"?a({chart:o}).indexOf(e)!==-1:!1}function directionsEnabled(a,e){return typeof a=="function"&&(a=a({chart:e})),typeof a=="string"?{x:a.indexOf("x")!==-1,y:a.indexOf("y")!==-1}:{x:!1,y:!1}}function debounce(a,e){let o;return function(){return clearTimeout(o),o=setTimeout(a,e),e}}function getScaleUnderPoint({x:a,y:e},o){const c=o.scales,h=Object.keys(c);for(let g=0;g<h.length;g++){const b=c[h[g]];if(e>=b.top&&e<=b.bottom&&a>=b.left&&a<=b.right)return b}return null}function getEnabledScalesByPoint(a,e,o){const{mode:c="xy",scaleMode:h,overScaleMode:g}=a||{},b=getScaleUnderPoint(e,o),$=directionsEnabled(c,o),j=directionsEnabled(h,o);if(g){const nt=directionsEnabled(g,o);for(const ot of["x","y"])nt[ot]&&(j[ot]=$[ot],$[ot]=!1)}if(b&&j[b.axis])return[b];const rt=[];return each(o.scales,function(nt){$[nt.axis]&&rt.push(nt)}),rt}const chartStates$1=new WeakMap;function getState(a){let e=chartStates$1.get(a);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{}},chartStates$1.set(a,e)),e}function removeState(a){chartStates$1.delete(a)}function zoomDelta(a,e,o){const c=a.max-a.min,h=c*(e-1),g=a.isHorizontal()?o.x:o.y,b=Math.max(0,Math.min(1,(a.getValueForPixel(g)-a.min)/c||0)),$=1-b;return{min:h*b,max:h*$}}function getLimit(a,e,o,c,h){let g=o[c];if(g==="original"){const b=a.originalScaleLimits[e.id][c];g=valueOrDefault(b.options,b.scale)}return valueOrDefault(g,h)}function getRange(a,e,o){const c=a.getValueForPixel(e),h=a.getValueForPixel(o);return{min:Math.min(c,h),max:Math.max(c,h)}}function updateRange(a,{min:e,max:o},c,h=!1){const g=getState(a.chart),{id:b,axis:$,options:j}=a,rt=c&&(c[b]||c[$])||{},{minRange:nt=0}=rt,ot=getLimit(g,a,rt,"min",-1/0),_t=getLimit(g,a,rt,"max",1/0),Et=h?Math.max(o-e,nt):a.max-a.min,It=(Et-o+e)/2;return e-=It,o+=It,e<ot?(e=ot,o=Math.min(ot+Et,_t)):o>_t&&(o=_t,e=Math.max(_t-Et,ot)),j.min=e,j.max=o,g.updatedScaleLimits[a.id]={min:e,max:o},a.parse(e)!==a.min||a.parse(o)!==a.max}function zoomNumericalScale(a,e,o,c){const h=zoomDelta(a,e,o),g={min:a.min+h.min,max:a.max-h.max};return updateRange(a,g,c,!0)}function zoomRectNumericalScale(a,e,o,c){updateRange(a,getRange(a,e,o),c,!0)}const integerChange=a=>a===0||isNaN(a)?0:a<0?Math.min(Math.round(a),-1):Math.max(Math.round(a),1);function existCategoryFromMaxZoom(a){const o=a.getLabels().length-1;a.min>0&&(a.min-=1),a.max<o&&(a.max+=1)}function zoomCategoryScale(a,e,o,c){const h=zoomDelta(a,e,o);a.min===a.max&&e<1&&existCategoryFromMaxZoom(a);const g={min:a.min+integerChange(h.min),max:a.max-integerChange(h.max)};return updateRange(a,g,c,!0)}function scaleLength(a){return a.isHorizontal()?a.width:a.height}function panCategoryScale(a,e,o){const h=a.getLabels().length-1;let{min:g,max:b}=a;const $=Math.max(b-g,1),j=Math.round(scaleLength(a)/Math.max($,10)),rt=Math.round(Math.abs(e/j));let nt;return e<-j?(b=Math.min(b+rt,h),g=$===1?b:b-$,nt=b===h):e>j&&(g=Math.max(0,g-rt),b=$===1?g:g+$,nt=g===0),updateRange(a,{min:g,max:b},o)||nt}const OFFSETS={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function panNumericalScale(a,e,o,c=!1){const{min:h,max:g,options:b}=a,$=b.time&&b.time.round,j=OFFSETS[$]||0,rt=a.getValueForPixel(a.getPixelForValue(h+j)-e),nt=a.getValueForPixel(a.getPixelForValue(g+j)-e),{min:ot=-1/0,max:_t=1/0}=c&&o&&o[a.axis]||{};return isNaN(rt)||isNaN(nt)||rt<ot||nt>_t?!0:updateRange(a,{min:rt,max:nt},o,c)}function panNonLinearScale(a,e,o){return panNumericalScale(a,e,o,!0)}const zoomFunctions={category:zoomCategoryScale,default:zoomNumericalScale},zoomRectFunctions={default:zoomRectNumericalScale},panFunctions={category:panCategoryScale,default:panNumericalScale,logarithmic:panNonLinearScale,timeseries:panNonLinearScale};function shouldUpdateScaleLimits(a,e,o){const{id:c,options:{min:h,max:g}}=a;if(!e[c]||!o[c])return!0;const b=o[c];return b.min!==h||b.max!==g}function removeMissingScales(a,e){each(a,(o,c)=>{e[c]||delete a[c]})}function storeOriginalScaleLimits(a,e){const{scales:o}=a,{originalScaleLimits:c,updatedScaleLimits:h}=e;return each(o,function(g){shouldUpdateScaleLimits(g,c,h)&&(c[g.id]={min:{scale:g.min,options:g.options.min},max:{scale:g.max,options:g.options.max}})}),removeMissingScales(c,o),removeMissingScales(h,o),c}function doZoom(a,e,o,c){const h=zoomFunctions[a.type]||zoomFunctions.default;callback(h,[a,e,o,c])}function doZoomRect(a,e,o,c,h){const g=zoomRectFunctions[a.type]||zoomRectFunctions.default;callback(g,[a,e,o,c,h])}function getCenter(a){const e=a.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function zoom(a,e,o="none"){const{x:c=1,y:h=1,focalPoint:g=getCenter(a)}=typeof e=="number"?{x:e,y:e}:e,b=getState(a),{options:{limits:$,zoom:j}}=b;storeOriginalScaleLimits(a,b);const rt=c!==1,nt=h!==1,ot=getEnabledScalesByPoint(j,g,a);each(ot||a.scales,function(_t){_t.isHorizontal()&&rt?doZoom(_t,c,g,$):!_t.isHorizontal()&&nt&&doZoom(_t,h,g,$)}),a.update(o),callback(j.onZoom,[{chart:a}])}function zoomRect(a,e,o,c="none"){const h=getState(a),{options:{limits:g,zoom:b}}=h,{mode:$="xy"}=b;storeOriginalScaleLimits(a,h);const j=directionEnabled($,"x",a),rt=directionEnabled($,"y",a);each(a.scales,function(nt){nt.isHorizontal()&&j?doZoomRect(nt,e.x,o.x,g):!nt.isHorizontal()&&rt&&doZoomRect(nt,e.y,o.y,g)}),a.update(c),callback(b.onZoom,[{chart:a}])}function zoomScale(a,e,o,c="none"){storeOriginalScaleLimits(a,getState(a));const h=a.scales[e];updateRange(h,o,void 0,!0),a.update(c)}function resetZoom(a,e="default"){const o=getState(a),c=storeOriginalScaleLimits(a,o);each(a.scales,function(h){const g=h.options;c[h.id]?(g.min=c[h.id].min.options,g.max=c[h.id].max.options):(delete g.min,delete g.max)}),a.update(e),callback(o.options.zoom.onZoomComplete,[{chart:a}])}function getOriginalRange(a,e){const o=a.originalScaleLimits[e];if(!o)return;const{min:c,max:h}=o;return valueOrDefault(h.options,h.scale)-valueOrDefault(c.options,c.scale)}function getZoomLevel(a){const e=getState(a);let o=1,c=1;return each(a.scales,function(h){const g=getOriginalRange(e,h.id);if(g){const b=Math.round(g/(h.max-h.min)*100)/100;o=Math.min(o,b),c=Math.max(c,b)}}),o<1?o:c}function panScale(a,e,o,c){const{panDelta:h}=c,g=h[a.id]||0;sign(g)===sign(e)&&(e+=g);const b=panFunctions[a.type]||panFunctions.default;callback(b,[a,e,o])?h[a.id]=0:h[a.id]=e}function pan(a,e,o,c="none"){const{x:h=0,y:g=0}=typeof e=="number"?{x:e,y:e}:e,b=getState(a),{options:{pan:$,limits:j}}=b,{onPan:rt}=$||{};storeOriginalScaleLimits(a,b);const nt=h!==0,ot=g!==0;each(o||a.scales,function(_t){_t.isHorizontal()&&nt?panScale(_t,h,j,b):!_t.isHorizontal()&&ot&&panScale(_t,g,j,b)}),a.update(c),callback(rt,[{chart:a}])}function getInitialScaleBounds(a){const e=getState(a);storeOriginalScaleLimits(a,e);const o={};for(const c of Object.keys(a.scales)){const{min:h,max:g}=e.originalScaleLimits[c]||{min:{},max:{}};o[c]={min:h.scale,max:g.scale}}return o}function isZoomedOrPanned(a){const e=getInitialScaleBounds(a);for(const o of Object.keys(a.scales)){const{min:c,max:h}=e[o];if(c!==void 0&&a.scales[o].min!==c||h!==void 0&&a.scales[o].max!==h)return!0}return!1}function removeHandler(a,e){const{handlers:o}=getState(a),c=o[e];c&&c.target&&(c.target.removeEventListener(e,c),delete o[e])}function addHandler(a,e,o,c){const{handlers:h,options:g}=getState(a),b=h[o];b&&b.target===e||(removeHandler(a,o),h[o]=$=>c(a,$,g),h[o].target=e,e.addEventListener(o,h[o]))}function mouseMove(a,e){const o=getState(a);o.dragStart&&(o.dragging=!0,o.dragEnd=e,a.update("none"))}function keyDown(a,e){const o=getState(a);!o.dragStart||e.key!=="Escape"||(removeHandler(a,"keydown"),o.dragging=!1,o.dragStart=o.dragEnd=null,a.update("none"))}function zoomStart(a,e,o){const{onZoomStart:c,onZoomRejected:h}=o;if(c){const g=getRelativePosition$1(e,a);if(callback(c,[{chart:a,event:e,point:g}])===!1)return callback(h,[{chart:a,event:e}]),!1}}function mouseDown(a,e){const o=getState(a),{pan:c,zoom:h={}}=o.options;if(e.button!==0||keyPressed(getModifierKey(c),e)||keyNotPressed(getModifierKey(h.drag),e))return callback(h.onZoomRejected,[{chart:a,event:e}]);zoomStart(a,e,h)!==!1&&(o.dragStart=e,addHandler(a,a.canvas,"mousemove",mouseMove),addHandler(a,window.document,"keydown",keyDown))}function computeDragRect(a,e,o,c){const h=directionEnabled(e,"x",a),g=directionEnabled(e,"y",a);let{top:b,left:$,right:j,bottom:rt,width:nt,height:ot}=a.chartArea;const _t=getRelativePosition$1(o,a),Et=getRelativePosition$1(c,a);h&&($=Math.min(_t.x,Et.x),j=Math.max(_t.x,Et.x)),g&&(b=Math.min(_t.y,Et.y),rt=Math.max(_t.y,Et.y));const It=j-$,it=rt-b;return{left:$,top:b,right:j,bottom:rt,width:It,height:it,zoomX:h&&It?1+(nt-It)/nt:1,zoomY:g&&it?1+(ot-it)/ot:1}}function mouseUp(a,e){const o=getState(a);if(!o.dragStart)return;removeHandler(a,"mousemove");const{mode:c,onZoomComplete:h,drag:{threshold:g=0}}=o.options.zoom,b=computeDragRect(a,c,o.dragStart,e),$=directionEnabled(c,"x",a)?b.width:0,j=directionEnabled(c,"y",a)?b.height:0,rt=Math.sqrt($*$+j*j);if(o.dragStart=o.dragEnd=null,rt<=g){o.dragging=!1,a.update("none");return}zoomRect(a,{x:b.left,y:b.top},{x:b.right,y:b.bottom},"zoom"),setTimeout(()=>o.dragging=!1,500),callback(h,[{chart:a}])}function wheelPreconditions(a,e,o){if(keyNotPressed(getModifierKey(o.wheel),e)){callback(o.onZoomRejected,[{chart:a,event:e}]);return}if(zoomStart(a,e,o)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function wheel(a,e){const{handlers:{onZoomComplete:o},options:{zoom:c}}=getState(a);if(!wheelPreconditions(a,e,c))return;const h=e.target.getBoundingClientRect(),g=1+(e.deltaY>=0?-c.wheel.speed:c.wheel.speed),b={x:g,y:g,focalPoint:{x:e.clientX-h.left,y:e.clientY-h.top}};zoom(a,b),o&&o()}function addDebouncedHandler(a,e,o,c){o&&(getState(a).handlers[e]=debounce(()=>callback(o,[{chart:a}]),c))}function addListeners(a,e){const o=a.canvas,{wheel:c,drag:h,onZoomComplete:g}=e.zoom;c.enabled?(addHandler(a,o,"wheel",wheel),addDebouncedHandler(a,"onZoomComplete",g,250)):removeHandler(a,"wheel"),h.enabled?(addHandler(a,o,"mousedown",mouseDown),addHandler(a,o.ownerDocument,"mouseup",mouseUp)):(removeHandler(a,"mousedown"),removeHandler(a,"mousemove"),removeHandler(a,"mouseup"),removeHandler(a,"keydown"))}function removeListeners(a){removeHandler(a,"mousedown"),removeHandler(a,"mousemove"),removeHandler(a,"mouseup"),removeHandler(a,"wheel"),removeHandler(a,"click"),removeHandler(a,"keydown")}function createEnabler(a,e){return function(o,c){const{pan:h,zoom:g={}}=e.options;if(!h||!h.enabled)return!1;const b=c&&c.srcEvent;return b&&!e.panning&&c.pointerType==="mouse"&&(keyNotPressed(getModifierKey(h),b)||keyPressed(getModifierKey(g.drag),b))?(callback(h.onPanRejected,[{chart:a,event:c}]),!1):!0}}function pinchAxes(a,e){const o=Math.abs(a.clientX-e.clientX),c=Math.abs(a.clientY-e.clientY),h=o/c;let g,b;return h>.3&&h<1.7?g=b=!0:o>c?g=!0:b=!0,{x:g,y:b}}function handlePinch(a,e,o){if(e.scale){const{center:c,pointers:h}=o,g=1/e.scale*o.scale,b=o.target.getBoundingClientRect(),$=pinchAxes(h[0],h[1]),j=e.options.zoom.mode,rt={x:$.x&&directionEnabled(j,"x",a)?g:1,y:$.y&&directionEnabled(j,"y",a)?g:1,focalPoint:{x:c.x-b.left,y:c.y-b.top}};zoom(a,rt),e.scale=o.scale}}function startPinch(a,e){e.options.zoom.pinch.enabled&&(e.scale=1)}function endPinch(a,e,o){e.scale&&(handlePinch(a,e,o),e.scale=null,callback(e.options.zoom.onZoomComplete,[{chart:a}]))}function handlePan(a,e,o){const c=e.delta;c&&(e.panning=!0,pan(a,{x:o.deltaX-c.x,y:o.deltaY-c.y},e.panScales),e.delta={x:o.deltaX,y:o.deltaY})}function startPan(a,e,o){const{enabled:c,onPanStart:h,onPanRejected:g}=e.options.pan;if(!c)return;const b=o.target.getBoundingClientRect(),$={x:o.center.x-b.left,y:o.center.y-b.top};if(callback(h,[{chart:a,event:o,point:$}])===!1)return callback(g,[{chart:a,event:o}]);e.panScales=getEnabledScalesByPoint(e.options.pan,$,a),e.delta={x:0,y:0},clearTimeout(e.panEndTimeout),handlePan(a,e,o)}function endPan(a,e){e.delta=null,e.panning&&(e.panEndTimeout=setTimeout(()=>e.panning=!1,500),callback(e.options.pan.onPanComplete,[{chart:a}]))}const hammers=new WeakMap;function startHammer(a,e){const o=getState(a),c=a.canvas,{pan:h,zoom:g}=e,b=new Hammer.Manager(c);g&&g.pinch.enabled&&(b.add(new Hammer.Pinch),b.on("pinchstart",()=>startPinch(a,o)),b.on("pinch",$=>handlePinch(a,o,$)),b.on("pinchend",$=>endPinch(a,o,$))),h&&h.enabled&&(b.add(new Hammer.Pan({threshold:h.threshold,enable:createEnabler(a,o)})),b.on("panstart",$=>startPan(a,o,$)),b.on("panmove",$=>handlePan(a,o,$)),b.on("panend",()=>endPan(a,o))),hammers.set(a,b)}function stopHammer(a){const e=hammers.get(a);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),hammers.delete(a))}var version$1="2.0.1";function draw$1(a,e,o){const c=o.zoom.drag,{dragStart:h,dragEnd:g}=getState(a);if(c.drawTime!==e||!g)return;const{left:b,top:$,width:j,height:rt}=computeDragRect(a,o.zoom.mode,h,g),nt=a.ctx;nt.save(),nt.beginPath(),nt.fillStyle=c.backgroundColor||"rgba(225,225,225,0.3)",nt.fillRect(b,$,j,rt),c.borderWidth>0&&(nt.lineWidth=c.borderWidth,nt.strokeStyle=c.borderColor||"rgba(225,225,225)",nt.strokeRect(b,$,j,rt)),nt.restore()}var plugin={id:"zoom",version:version$1,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(a,e,o){const c=getState(a);c.options=o,Object.prototype.hasOwnProperty.call(o.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(o.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(o.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Hammer&&startHammer(a,o),a.pan=(h,g,b)=>pan(a,h,g,b),a.zoom=(h,g)=>zoom(a,h,g),a.zoomRect=(h,g,b)=>zoomRect(a,h,g,b),a.zoomScale=(h,g,b)=>zoomScale(a,h,g,b),a.resetZoom=h=>resetZoom(a,h),a.getZoomLevel=()=>getZoomLevel(a),a.getInitialScaleBounds=()=>getInitialScaleBounds(a),a.isZoomedOrPanned=()=>isZoomedOrPanned(a)},beforeEvent(a){const e=getState(a);if(e.panning||e.dragging)return!1},beforeUpdate:function(a,e,o){const c=getState(a);c.options=o,addListeners(a,o)},beforeDatasetsDraw(a,e,o){draw$1(a,"beforeDatasetsDraw",o)},afterDatasetsDraw(a,e,o){draw$1(a,"afterDatasetsDraw",o)},beforeDraw(a,e,o){draw$1(a,"beforeDraw",o)},afterDraw(a,e,o){draw$1(a,"afterDraw",o)},stop:function(a){removeListeners(a),Hammer&&stopHammer(a),removeState(a)},panFunctions,zoomFunctions,zoomRectFunctions};/*!
* chartjs-plugin-annotation v3.0.1
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2023 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const interaction={modes:{point(a,e){return filterElements(a,e,{intersect:!0})},nearest(a,e,o){return getNearestItem(a,e,o)},x(a,e,o){return filterElements(a,e,{intersect:o.intersect,axis:"x"})},y(a,e,o){return filterElements(a,e,{intersect:o.intersect,axis:"y"})}}};function getElements(a,e,o){return(interaction.modes[o.mode]||interaction.modes.nearest)(a,e,o)}function inRangeByAxis(a,e,o){return o!=="x"&&o!=="y"?a.inRange(e.x,e.y,"x",!0)||a.inRange(e.x,e.y,"y",!0):a.inRange(e.x,e.y,o,!0)}function getPointByAxis(a,e,o){return o==="x"?{x:a.x,y:e.y}:o==="y"?{x:e.x,y:a.y}:e}function filterElements(a,e,o){return a.visibleElements.filter(c=>o.intersect?c.inRange(e.x,e.y):inRangeByAxis(c,e,o.axis))}function getNearestItem(a,e,o){let c=Number.POSITIVE_INFINITY;return filterElements(a,e,o).reduce((h,g)=>{const b=g.getCenterPoint(),$=getPointByAxis(e,b,o.axis),j=distanceBetweenPoints(e,$);return j<c?(h=[g],c=j):j===c&&h.push(g),h},[]).sort((h,g)=>h._index-g._index).slice(0,1)}const isOlderPart=(a,e)=>e>a||a.length>e.length&&a.slice(0,e.length)===e,EPSILON=.001,clamp=(a,e,o)=>Math.min(o,Math.max(e,a));function clampAll(a,e,o){for(const c of Object.keys(a))a[c]=clamp(a[c],e,o);return a}function inPointRange(a,e,o,c){if(!a||!e||o<=0)return!1;const h=c/2;return Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)<=Math.pow(o+h,2)}function inBoxRange(a,{x:e,y:o,x2:c,y2:h},g,b){const $=b/2,j=a.x>=e-$-EPSILON&&a.x<=c+$+EPSILON,rt=a.y>=o-$-EPSILON&&a.y<=h+$+EPSILON;return g==="x"?j:(g==="y"||j)&&rt}function getElementCenterPoint(a,e){const{centerX:o,centerY:c}=a.getProps(["centerX","centerY"],e);return{x:o,y:c}}function requireVersion(a,e,o,c=!0){const h=o.split(".");let g=0;for(const b of e.split(".")){const $=h[g++];if(parseInt(b,10)<parseInt($,10))break;if(isOlderPart($,b)){if(c)throw new Error(`${a} v${o} is not supported. v${e} or newer is required.`);return!1}}return!0}const isPercentString=a=>typeof a=="string"&&a.endsWith("%"),toPercent=a=>parseFloat(a)/100,toPositivePercent=a=>clamp(toPercent(a),0,1),boxAppering=(a,e)=>({x:a,y:e,x2:a,y2:e,width:0,height:0}),defaultInitAnimation={box:a=>boxAppering(a.centerX,a.centerY),ellipse:a=>({centerX:a.centerX,centerY:a.centerX,radius:0,width:0,height:0}),label:a=>boxAppering(a.centerX,a.centerY),line:a=>boxAppering(a.x,a.y),point:a=>({centerX:a.centerX,centerY:a.centerY,radius:0,width:0,height:0}),polygon:a=>boxAppering(a.centerX,a.centerY)};function getRelativePosition(a,e){return e==="start"?0:e==="end"?a:isPercentString(e)?toPositivePercent(e)*a:a/2}function getSize(a,e,o=!0){return typeof e=="number"?e:isPercentString(e)?(o?toPositivePercent(e):toPercent(e))*a:a}function calculateTextAlignment(a,e){const{x:o,width:c}=a,h=e.textAlign;return h==="center"?o+c/2:h==="end"||h==="right"?o+c:o}function toPosition(a,e="center"){return isObject(a)?{x:valueOrDefault(a.x,e),y:valueOrDefault(a.y,e)}:(a=valueOrDefault(a,e),{x:a,y:a})}function isBoundToPoint(a){return a&&(defined(a.xValue)||defined(a.yValue))}function initAnimationProperties(a,e,o){const c=o.init;if(c){if(c===!0)return applyDefault(e,o)}else return;return execCallback(a,e,o)}function loadHooks(a,e,o){let c=!1;return e.forEach(h=>{isFunction(a[h])?(c=!0,o[h]=a[h]):defined(o[h])&&delete o[h]}),c}function applyDefault(a,e){const o=e.type||"line";return defaultInitAnimation[o](a)}function execCallback(a,e,o){const c=callback(o.init,[{chart:a,properties:e,options:o}]);if(c===!0)return applyDefault(e,o);if(isObject(c))return c}const widthCache=new Map,notRadius=a=>isNaN(a)||a<=0,fontsKey=a=>a.reduce(function(e,o){return e+=o.string,e},"");function isImageOrCanvas(a){if(a&&typeof a=="object"){const e=a.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function translate(a,{x:e,y:o},c){c&&(a.translate(e,o),a.rotate(toRadians(c)),a.translate(-e,-o))}function setBorderStyle(a,e){if(e&&e.borderWidth)return a.lineCap=e.borderCapStyle,a.setLineDash(e.borderDash),a.lineDashOffset=e.borderDashOffset,a.lineJoin=e.borderJoinStyle,a.lineWidth=e.borderWidth,a.strokeStyle=e.borderColor,!0}function setShadowStyle(a,e){a.shadowColor=e.backgroundShadowColor,a.shadowBlur=e.shadowBlur,a.shadowOffsetX=e.shadowOffsetX,a.shadowOffsetY=e.shadowOffsetY}function measureLabelSize(a,e){const o=e.content;if(isImageOrCanvas(o))return{width:getSize(o.width,e.width),height:getSize(o.height,e.height)};const c=e.font,h=isArray(c)?c.map(j=>toFont(j)):[toFont(c)],g=e.textStrokeWidth,b=isArray(o)?o:[o],$=b.join()+fontsKey(h)+g+(a._measureText?"-spriting":"");return widthCache.has($)||widthCache.set($,calculateLabelSize(a,b,h,g)),widthCache.get($)}function drawBox(a,e,o){const{x:c,y:h,width:g,height:b}=e;a.save(),setShadowStyle(a,o);const $=setBorderStyle(a,o);a.fillStyle=o.backgroundColor,a.beginPath(),addRoundedRectPath(a,{x:c,y:h,w:g,h:b,radius:clampAll(toTRBLCorners(o.borderRadius),0,Math.min(g,b)/2)}),a.closePath(),a.fill(),$&&(a.shadowColor=o.borderShadowColor,a.stroke()),a.restore()}function drawLabel(a,e,o){const c=o.content;if(isImageOrCanvas(c)){a.save(),a.globalAlpha=getOpacity(o.opacity,c.style.opacity),a.drawImage(c,e.x,e.y,e.width,e.height),a.restore();return}const h=isArray(c)?c:[c],g=o.font,b=isArray(g)?g.map(ot=>toFont(ot)):[toFont(g)],$=o.color,j=isArray($)?$:[$],rt=calculateTextAlignment(e,o),nt=e.y+o.textStrokeWidth/2;a.save(),a.textBaseline="middle",a.textAlign=o.textAlign,setTextStrokeStyle(a,o)&&applyLabelDecoration(a,{x:rt,y:nt},h,b),applyLabelContent(a,{x:rt,y:nt},h,{fonts:b,colors:j}),a.restore()}function setTextStrokeStyle(a,e){if(e.textStrokeWidth>0)return a.lineJoin="round",a.miterLimit=2,a.lineWidth=e.textStrokeWidth,a.strokeStyle=e.textStrokeColor,!0}function drawPoint(a,e,o,c){const{radius:h,options:g}=e,b=g.pointStyle,$=g.rotation;let j=($||0)*RAD_PER_DEG;if(isImageOrCanvas(b)){a.save(),a.translate(o,c),a.rotate(j),a.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),a.restore();return}notRadius(h)||drawPointStyle(a,{x:o,y:c,radius:h,rotation:$,style:b,rad:j})}function drawPointStyle(a,{x:e,y:o,radius:c,rotation:h,style:g,rad:b}){let $,j,rt,nt;switch(a.beginPath(),g){default:a.arc(e,o,c,0,TAU),a.closePath();break;case"triangle":a.moveTo(e+Math.sin(b)*c,o-Math.cos(b)*c),b+=TWO_THIRDS_PI,a.lineTo(e+Math.sin(b)*c,o-Math.cos(b)*c),b+=TWO_THIRDS_PI,a.lineTo(e+Math.sin(b)*c,o-Math.cos(b)*c),a.closePath();break;case"rectRounded":nt=c*.516,rt=c-nt,$=Math.cos(b+QUARTER_PI)*rt,j=Math.sin(b+QUARTER_PI)*rt,a.arc(e-$,o-j,nt,b-PI,b-HALF_PI),a.arc(e+j,o-$,nt,b-HALF_PI,b),a.arc(e+$,o+j,nt,b,b+HALF_PI),a.arc(e-j,o+$,nt,b+HALF_PI,b+PI),a.closePath();break;case"rect":if(!h){rt=Math.SQRT1_2*c,a.rect(e-rt,o-rt,2*rt,2*rt);break}b+=QUARTER_PI;case"rectRot":$=Math.cos(b)*c,j=Math.sin(b)*c,a.moveTo(e-$,o-j),a.lineTo(e+j,o-$),a.lineTo(e+$,o+j),a.lineTo(e-j,o+$),a.closePath();break;case"crossRot":b+=QUARTER_PI;case"cross":$=Math.cos(b)*c,j=Math.sin(b)*c,a.moveTo(e-$,o-j),a.lineTo(e+$,o+j),a.moveTo(e+j,o-$),a.lineTo(e-j,o+$);break;case"star":$=Math.cos(b)*c,j=Math.sin(b)*c,a.moveTo(e-$,o-j),a.lineTo(e+$,o+j),a.moveTo(e+j,o-$),a.lineTo(e-j,o+$),b+=QUARTER_PI,$=Math.cos(b)*c,j=Math.sin(b)*c,a.moveTo(e-$,o-j),a.lineTo(e+$,o+j),a.moveTo(e+j,o-$),a.lineTo(e-j,o+$);break;case"line":$=Math.cos(b)*c,j=Math.sin(b)*c,a.moveTo(e-$,o-j),a.lineTo(e+$,o+j);break;case"dash":a.moveTo(e,o),a.lineTo(e+Math.cos(b)*c,o+Math.sin(b)*c);break}a.fill()}function calculateLabelSize(a,e,o,c){a.save();const h=e.length;let g=0,b=c;for(let $=0;$<h;$++){const j=o[Math.min($,o.length-1)];a.font=j.string;const rt=e[$];g=Math.max(g,a.measureText(rt).width+c),b+=j.lineHeight}return a.restore(),{width:g,height:b}}function applyLabelDecoration(a,{x:e,y:o},c,h){a.beginPath();let g=0;c.forEach(function(b,$){const j=h[Math.min($,h.length-1)],rt=j.lineHeight;a.font=j.string,a.strokeText(b,e,o+rt/2+g),g+=rt}),a.stroke()}function applyLabelContent(a,{x:e,y:o},c,{fonts:h,colors:g}){let b=0;c.forEach(function($,j){const rt=g[Math.min(j,g.length-1)],nt=h[Math.min(j,h.length-1)],ot=nt.lineHeight;a.beginPath(),a.font=nt.string,a.fillStyle=rt,a.fillText($,e,o+ot/2+b),b+=ot,a.fill()})}function getOpacity(a,e){const o=isNumber(a)?a:e;return isNumber(o)?clamp(o,0,1):1}const limitedLineScale={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function scaleValue(a,e,o){return e=typeof e=="number"?e:a.parse(e),isNumberFinite(e)?a.getPixelForValue(e):o}function retrieveScaleID(a,e,o){const c=e[o];if(c||o==="scaleID")return c;const h=o.charAt(0),g=Object.values(a).filter(b=>b.axis&&b.axis===h);return g.length?g[0].id:h}function getDimensionByScale(a,e){if(a){const o=a.options.reverse,c=scaleValue(a,e.min,o?e.end:e.start),h=scaleValue(a,e.max,o?e.start:e.end);return{start:c,end:h}}}function getChartPoint(a,e){const{chartArea:o,scales:c}=a,h=c[retrieveScaleID(c,e,"xScaleID")],g=c[retrieveScaleID(c,e,"yScaleID")];let b=o.width/2,$=o.height/2;return h&&(b=scaleValue(h,e.xValue,h.left+h.width/2)),g&&($=scaleValue(g,e.yValue,g.top+g.height/2)),{x:b,y:$}}function resolveBoxProperties(a,e){const o=a.scales,c=o[retrieveScaleID(o,e,"xScaleID")],h=o[retrieveScaleID(o,e,"yScaleID")];if(!c&&!h)return{};let{left:g,right:b}=c||a.chartArea,{top:$,bottom:j}=h||a.chartArea;const rt=getChartDimensionByScale(c,{min:e.xMin,max:e.xMax,start:g,end:b});g=rt.start,b=rt.end;const nt=getChartDimensionByScale(h,{min:e.yMin,max:e.yMax,start:j,end:$});return $=nt.start,j=nt.end,{x:g,y:$,x2:b,y2:j,width:b-g,height:j-$,centerX:g+(b-g)/2,centerY:$+(j-$)/2}}function resolvePointProperties(a,e){if(!isBoundToPoint(e)){const o=resolveBoxProperties(a,e);let c=e.radius;(!c||isNaN(c))&&(c=Math.min(o.width,o.height)/2,e.radius=c);const h=c*2,g=o.centerX+e.xAdjust,b=o.centerY+e.yAdjust;return{x:g-c,y:b-c,x2:g+c,y2:b+c,centerX:g,centerY:b,width:h,height:h,radius:c}}return getChartCircle(a,e)}function resolveLineProperties(a,e){const{scales:o,chartArea:c}=a,h=o[e.scaleID],g={x:c.left,y:c.top,x2:c.right,y2:c.bottom};return h?resolveFullLineProperties(h,g,e):resolveLimitedLineProperties(o,g,e),g}function resolveBoxAndLabelProperties(a,e){const o=resolveBoxProperties(a,e);return o.initProperties=initAnimationProperties(a,o,e),o.elements=[{type:"label",optionScope:"label",properties:resolveLabelElementProperties$1(a,o,e),initProperties:o.initProperties}],o}function getChartCircle(a,e){const o=getChartPoint(a,e),c=e.radius*2;return{x:o.x-e.radius+e.xAdjust,y:o.y-e.radius+e.yAdjust,x2:o.x+e.radius+e.xAdjust,y2:o.y+e.radius+e.yAdjust,centerX:o.x+e.xAdjust,centerY:o.y+e.yAdjust,radius:e.radius,width:c,height:c}}function getChartDimensionByScale(a,e){const o=getDimensionByScale(a,e)||e;return{start:Math.min(o.start,o.end),end:Math.max(o.start,o.end)}}function resolveFullLineProperties(a,e,o){const c=scaleValue(a,o.value,NaN),h=scaleValue(a,o.endValue,c);a.isHorizontal()?(e.x=c,e.x2=h):(e.y=c,e.y2=h)}function resolveLimitedLineProperties(a,e,o){for(const c of Object.keys(limitedLineScale)){const h=a[retrieveScaleID(a,o,c)];if(h){const{min:g,max:b,start:$,end:j,startProp:rt,endProp:nt}=limitedLineScale[c],ot=getDimensionByScale(h,{min:o[g],max:o[b],start:h[$],end:h[j]});e[rt]=ot.start,e[nt]=ot.end}}}function calculateX({properties:a,options:e},o,c,h){const{x:g,x2:b,width:$}=a;return calculatePosition$1({start:g,end:b,size:$,borderWidth:e.borderWidth},{position:c.x,padding:{start:h.left,end:h.right},adjust:e.label.xAdjust,size:o.width})}function calculateY({properties:a,options:e},o,c,h){const{y:g,y2:b,height:$}=a;return calculatePosition$1({start:g,end:b,size:$,borderWidth:e.borderWidth},{position:c.y,padding:{start:h.top,end:h.bottom},adjust:e.label.yAdjust,size:o.height})}function calculatePosition$1(a,e){const{start:o,end:c,borderWidth:h}=a,{position:g,padding:{start:b,end:$},adjust:j}=e,rt=c-h-o-b-$-e.size;return o+h/2+j+getRelativePosition(rt,g)}function resolveLabelElementProperties$1(a,e,o){const c=o.label;c.backgroundColor="transparent",c.callout.display=!1;const h=toPosition(c.position),g=toPadding(c.padding),b=measureLabelSize(a.ctx,c),$=calculateX({properties:e,options:o},b,h,g),j=calculateY({properties:e,options:o},b,h,g),rt=b.width+g.width,nt=b.height+g.height;return{x:$,y:j,x2:$+rt,y2:j+nt,width:rt,height:nt,centerX:$+rt/2,centerY:j+nt/2,rotation:c.rotation}}function rotated(a,e,o){const c=Math.cos(o),h=Math.sin(o),g=e.x,b=e.y;return{x:g+c*(a.x-g)-h*(a.y-b),y:b+h*(a.x-g)+c*(a.y-b)}}const moveHooks=["enter","leave"],eventHooks=moveHooks.concat("click");function updateListeners(a,e,o){e.listened=loadHooks(o,eventHooks,e.listeners),e.moveListened=!1,e._getElements=getElements,moveHooks.forEach(c=>{isFunction(o[c])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(c=>{!e.listened&&isFunction(c.click)&&(e.listened=!0),e.moveListened||moveHooks.forEach(h=>{isFunction(c[h])&&(e.listened=!0,e.moveListened=!0)})})}function handleEvent(a,e,o){if(a.listened)switch(e.type){case"mousemove":case"mouseout":return handleMoveEvents(a,e,o);case"click":return handleClickEvents(a,e,o)}}function handleMoveEvents(a,e,o){if(!a.moveListened)return;let c;e.type==="mousemove"?c=getElements(a,e,o.interaction):c=[];const h=a.hovered;a.hovered=c;const g={state:a,event:e};let b=dispatchMoveEvents(g,"leave",h,c);return dispatchMoveEvents(g,"enter",c,h)||b}function dispatchMoveEvents({state:a,event:e},o,c,h){let g;for(const b of c)h.indexOf(b)<0&&(g=dispatchEvent(b.options[o]||a.listeners[o],b,e)||g);return g}function handleClickEvents(a,e,o){const c=a.listeners,h=getElements(a,e,o.interaction);let g;for(const b of h)g=dispatchEvent(b.options.click||c.click,b,e)||g;return g}function dispatchEvent(a,e,o){return callback(a,[e.$context,o])===!0}const elementHooks=["afterDraw","beforeDraw"];function updateHooks(a,e,o){const c=e.visibleElements;e.hooked=loadHooks(o,elementHooks,e.hooks),e.hooked||c.forEach(h=>{e.hooked||elementHooks.forEach(g=>{isFunction(h.options[g])&&(e.hooked=!0)})})}function invokeHook(a,e,o){if(a.hooked){const c=e.options[o]||a.hooks[o];return callback(c,[e.$context])}}function adjustScaleRange(a,e,o){const c=getScaleLimits(a.scales,e,o);let h=changeScaleLimit(e,c,"min","suggestedMin");h=changeScaleLimit(e,c,"max","suggestedMax")||h,h&&isFunction(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function verifyScaleOptions(a,e){for(const o of a)verifyScaleIDs(o,e)}function changeScaleLimit(a,e,o,c){if(isNumberFinite(e[o])&&!scaleLimitDefined(a.options,o,c)){const h=a[o]!==e[o];return a[o]=e[o],h}}function scaleLimitDefined(a,e,o){return defined(a[e])||defined(a[o])}function verifyScaleIDs(a,e){for(const o of["scaleID","xScaleID","yScaleID"]){const c=retrieveScaleID(e,a,o);c&&!e[c]&&verifyProperties(a,o)&&console.warn(`No scale found with id '${c}' for annotation '${a.id}'`)}}function verifyProperties(a,e){if(e==="scaleID")return!0;const o=e.charAt(0);for(const c of["Min","Max","Value"])if(defined(a[o+c]))return!0;return!1}function getScaleLimits(a,e,o){const c=e.axis,h=e.id,g=c+"ScaleID",b={min:valueOrDefault(e.min,Number.NEGATIVE_INFINITY),max:valueOrDefault(e.max,Number.POSITIVE_INFINITY)};for(const $ of o)$.scaleID===h?updateLimits($,e,["value","endValue"],b):retrieveScaleID(a,$,g)===h&&updateLimits($,e,[c+"Min",c+"Max",c+"Value"],b);return b}function updateLimits(a,e,o,c){for(const h of o){const g=a[h];if(defined(g)){const b=e.parse(g);c.min=Math.min(c.min,b),c.max=Math.max(c.max,b)}}}class BoxAnnotation extends Element$1{inRange(e,o,c,h){const{x:g,y:b}=rotated({x:e,y:o},this.getCenterPoint(h),toRadians(-this.options.rotation));return inBoxRange({x:g,y:b},this.getProps(["x","y","x2","y2"],h),c,this.options.borderWidth)}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){e.save(),translate(e,this.getCenterPoint(),this.options.rotation),drawBox(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,o){return resolveBoxAndLabelProperties(e,o)}}BoxAnnotation.id="boxAnnotation";BoxAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};BoxAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};BoxAnnotation.descriptors={label:{_fallback:!0}};const positions=["left","bottom","top","right"];class LabelAnnotation extends Element$1{inRange(e,o,c,h){const{x:g,y:b}=rotated({x:e,y:o},this.getCenterPoint(h),toRadians(-this.rotation));return inBoxRange({x:g,y:b},this.getProps(["x","y","x2","y2"],h),c,this.options.borderWidth)}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){const o=this.options,c=!defined(this._visible)||this._visible;!o.display||!o.content||!c||(e.save(),translate(e,this.getCenterPoint(),this.rotation),drawCallout(e,this),drawBox(e,this,o),drawLabel(e,getLabelSize(this),o),e.restore())}resolveElementProperties(e,o){let c;if(isBoundToPoint(o))c=getChartPoint(e,o);else{const{centerX:$,centerY:j}=resolveBoxProperties(e,o);c={x:$,y:j}}const h=toPadding(o.padding),g=measureLabelSize(e.ctx,o),b=measureRect(c,g,o,h);return{initProperties:initAnimationProperties(e,b,o),pointX:c.x,pointY:c.y,...b,rotation:o.rotation}}}LabelAnnotation.id="labelAnnotation";LabelAnnotation.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};LabelAnnotation.defaultRoutes={borderColor:"color"};function measureRect(a,e,o,c){const h=e.width+c.width+o.borderWidth,g=e.height+c.height+o.borderWidth,b=toPosition(o.position,"center"),$=calculatePosition(a.x,h,o.xAdjust,b.x),j=calculatePosition(a.y,g,o.yAdjust,b.y);return{x:$,y:j,x2:$+h,y2:j+g,width:h,height:g,centerX:$+h/2,centerY:j+g/2}}function calculatePosition(a,e,o=0,c){return a-getRelativePosition(e,c)+o}function drawCallout(a,e){const{pointX:o,pointY:c,options:h}=e,g=h.callout,b=g&&g.display&&resolveCalloutPosition(e,g);if(!b||isPointInRange(e,g,b))return;if(a.save(),a.beginPath(),!setBorderStyle(a,g))return a.restore();const{separatorStart:j,separatorEnd:rt}=getCalloutSeparatorCoord(e,b),{sideStart:nt,sideEnd:ot}=getCalloutSideCoord(e,b,j);(g.margin>0||h.borderWidth===0)&&(a.moveTo(j.x,j.y),a.lineTo(rt.x,rt.y)),a.moveTo(nt.x,nt.y),a.lineTo(ot.x,ot.y);const _t=rotated({x:o,y:c},e.getCenterPoint(),toRadians(-e.rotation));a.lineTo(_t.x,_t.y),a.stroke(),a.restore()}function getCalloutSeparatorCoord(a,e){const{x:o,y:c,x2:h,y2:g}=a,b=getCalloutSeparatorAdjust(a,e);let $,j;return e==="left"||e==="right"?($={x:o+b,y:c},j={x:$.x,y:g}):($={x:o,y:c+b},j={x:h,y:$.y}),{separatorStart:$,separatorEnd:j}}function getCalloutSeparatorAdjust(a,e){const{width:o,height:c,options:h}=a,g=h.callout.margin+h.borderWidth/2;return e==="right"?o+g:e==="bottom"?c+g:-g}function getCalloutSideCoord(a,e,o){const{y:c,width:h,height:g,options:b}=a,$=b.callout.start,j=getCalloutSideAdjust(e,b.callout);let rt,nt;return e==="left"||e==="right"?(rt={x:o.x,y:c+getSize(g,$)},nt={x:rt.x+j,y:rt.y}):(rt={x:o.x+getSize(h,$),y:o.y},nt={x:rt.x,y:rt.y+j}),{sideStart:rt,sideEnd:nt}}function getCalloutSideAdjust(a,e){const o=e.side;return a==="left"||a==="top"?-o:o}function resolveCalloutPosition(a,e){const o=e.position;return positions.includes(o)?o:resolveCalloutAutoPosition(a,e)}function resolveCalloutAutoPosition(a,e){const{x:o,y:c,x2:h,y2:g,width:b,height:$,pointX:j,pointY:rt,centerX:nt,centerY:ot,rotation:_t}=a,Et={x:nt,y:ot},It=e.start,it=getSize(b,It),st=getSize($,It),Mt=[o,o+it,o+it,h],bt=[c+st,g,c,g],Lt=[];for(let pt=0;pt<4;pt++){const Dt=rotated({x:Mt[pt],y:bt[pt]},Et,toRadians(_t));Lt.push({position:positions[pt],distance:distanceBetweenPoints(Dt,{x:j,y:rt})})}return Lt.sort((pt,Dt)=>pt.distance-Dt.distance)[0].position}function getLabelSize({x:a,y:e,width:o,height:c,options:h}){const g=h.borderWidth/2,b=toPadding(h.padding);return{x:a+b.left+g,y:e+b.top+g,width:o-b.left-b.right-h.borderWidth,height:c-b.top-b.bottom-h.borderWidth}}function isPointInRange(a,e,o){const{pointX:c,pointY:h}=a,g=e.margin;let b=c,$=h;return o==="left"?b+=g:o==="right"?b-=g:o==="top"?$+=g:o==="bottom"&&($-=g),a.inRange(b,$)}const pointInLine=(a,e,o)=>({x:a.x+o*(e.x-a.x),y:a.y+o*(e.y-a.y)}),interpolateX=(a,e,o)=>pointInLine(e,o,Math.abs((a-e.y)/(o.y-e.y))).x,interpolateY=(a,e,o)=>pointInLine(e,o,Math.abs((a-e.x)/(o.x-e.x))).y,sqr=a=>a*a,rangeLimit=(a,e,{x:o,y:c,x2:h,y2:g},b)=>b==="y"?{start:Math.min(c,g),end:Math.max(c,g),value:e}:{start:Math.min(o,h),end:Math.max(o,h),value:a},coordInCurve=(a,e,o,c)=>(1-c)*(1-c)*a+2*(1-c)*c*e+c*c*o,pointInCurve=(a,e,o,c)=>({x:coordInCurve(a.x,e.x,o.x,c),y:coordInCurve(a.y,e.y,o.y,c)}),coordAngleInCurve=(a,e,o,c)=>2*(1-c)*(e-a)+2*c*(o-e),angleInCurve=(a,e,o,c)=>-Math.atan2(coordAngleInCurve(a.x,e.x,o.x,c),coordAngleInCurve(a.y,e.y,o.y,c))+.5*PI;class LineAnnotation extends Element$1{inRange(e,o,c,h){const g=this.options.borderWidth/2;if(c!=="x"&&c!=="y"){const b={mouseX:e,mouseY:o},{path:$,ctx:j}=this;if($){setBorderStyle(j,this.options);const{chart:nt}=this.$context,ot=e*nt.currentDevicePixelRatio,_t=o*nt.currentDevicePixelRatio,Et=j.isPointInStroke($,ot,_t)||isOnLabel(this,b,h);return j.restore(),Et}const rt=sqr(g);return intersects(this,b,rt,h)||isOnLabel(this,b,h)}return inAxisRange(this,{mouseX:e,mouseY:o},c,{hBorderWidth:g,useFinalPosition:h})}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){const{x:o,y:c,x2:h,y2:g,cp:b,options:$}=this;if(e.save(),!setBorderStyle(e,$))return e.restore();setShadowStyle(e,$);const j=Math.sqrt(Math.pow(h-o,2)+Math.pow(g-c,2));if($.curve&&b)return drawCurve(e,this,b,j),e.restore();const{startOpts:rt,endOpts:nt,startAdjust:ot,endAdjust:_t}=getArrowHeads(this),Et=Math.atan2(g-c,h-o);e.translate(o,c),e.rotate(Et),e.beginPath(),e.moveTo(0+ot,0),e.lineTo(j-_t,0),e.shadowColor=$.borderShadowColor,e.stroke(),drawArrowHead(e,0,ot,rt),drawArrowHead(e,j,-_t,nt),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,o){const c=resolveLineProperties(e,o),{x:h,y:g,x2:b,y2:$}=c,j=isLineInArea(c,e.chartArea),rt=j?limitLineToArea({x:h,y:g},{x:b,y:$},e.chartArea):{x:h,y:g,x2:b,y2:$,width:Math.abs(b-h),height:Math.abs($-g)};if(rt.centerX=(b+h)/2,rt.centerY=($+g)/2,rt.initProperties=initAnimationProperties(e,rt,o),o.curve){const ot={x:rt.x,y:rt.y},_t={x:rt.x2,y:rt.y2};rt.cp=getControlPoint(rt,o,distanceBetweenPoints(ot,_t))}const nt=resolveLabelElementProperties(e,rt,o.label);return nt._visible=j,rt.elements=[{type:"label",optionScope:"label",properties:nt,initProperties:rt.initProperties}],rt}}LineAnnotation.id="lineAnnotation";const arrowHeadsDefaults={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};LineAnnotation.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},arrowHeadsDefaults),fill:!1,length:12,start:Object.assign({},arrowHeadsDefaults),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},LabelAnnotation.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};LineAnnotation.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};LineAnnotation.defaultRoutes={borderColor:"color"};function inAxisRange(a,{mouseX:e,mouseY:o},c,{hBorderWidth:h,useFinalPosition:g}){const b=rangeLimit(e,o,a.getProps(["x","y","x2","y2"],g),c);return b.value>=b.start-h&&b.value<=b.end+h||isOnLabel(a,{mouseX:e,mouseY:o},g,c)}function isLineInArea({x:a,y:e,x2:o,y2:c},{top:h,right:g,bottom:b,left:$}){return!(a<$&&o<$||a>g&&o>g||e<h&&c<h||e>b&&c>b)}function limitPointToArea({x:a,y:e},o,{top:c,right:h,bottom:g,left:b}){return a<b&&(e=interpolateY(b,{x:a,y:e},o),a=b),a>h&&(e=interpolateY(h,{x:a,y:e},o),a=h),e<c&&(a=interpolateX(c,{x:a,y:e},o),e=c),e>g&&(a=interpolateX(g,{x:a,y:e},o),e=g),{x:a,y:e}}function limitLineToArea(a,e,o){const{x:c,y:h}=limitPointToArea(a,e,o),{x:g,y:b}=limitPointToArea(e,a,o);return{x:c,y:h,x2:g,y2:b,width:Math.abs(g-c),height:Math.abs(b-h)}}function intersects(a,{mouseX:e,mouseY:o},c=EPSILON,h){const{x:g,y:b,x2:$,y2:j}=a.getProps(["x","y","x2","y2"],h),rt=$-g,nt=j-b,ot=sqr(rt)+sqr(nt),_t=ot===0?-1:((e-g)*rt+(o-b)*nt)/ot;let Et,It;return _t<0?(Et=g,It=b):_t>1?(Et=$,It=j):(Et=g+_t*rt,It=b+_t*nt),sqr(e-Et)+sqr(o-It)<=c}function isOnLabel(a,{mouseX:e,mouseY:o},c,h){const g=a.label;return g.options.display&&g.inRange(e,o,h,c)}function resolveLabelElementProperties(a,e,o){const c=o.borderWidth,h=toPadding(o.padding),g=measureLabelSize(a.ctx,o),b=g.width+h.width+c,$=g.height+h.height+c;return calculateLabelPosition(e,o,{width:b,height:$,padding:h},a.chartArea)}function calculateAutoRotation(a){const{x:e,y:o,x2:c,y2:h}=a,g=Math.atan2(h-o,c-e);return g>PI/2?g-PI:g<PI/-2?g+PI:g}function calculateLabelPosition(a,e,o,c){const{width:h,height:g,padding:b}=o,{xAdjust:$,yAdjust:j}=e,rt={x:a.x,y:a.y},nt={x:a.x2,y:a.y2},ot=e.rotation==="auto"?calculateAutoRotation(a):toRadians(e.rotation),_t=rotatedSize(h,g,ot),Et=calculateT(a,e,{labelSize:_t,padding:b},c),It=a.cp?pointInCurve(rt,a.cp,nt,Et):pointInLine(rt,nt,Et),it={size:_t.w,min:c.left,max:c.right,padding:b.left},st={size:_t.h,min:c.top,max:c.bottom,padding:b.top},Mt=adjustLabelCoordinate(It.x,it)+$,bt=adjustLabelCoordinate(It.y,st)+j;return{x:Mt-h/2,y:bt-g/2,x2:Mt+h/2,y2:bt+g/2,centerX:Mt,centerY:bt,pointX:It.x,pointY:It.y,width:h,height:g,rotation:toDegrees(ot)}}function rotatedSize(a,e,o){const c=Math.cos(o),h=Math.sin(o);return{w:Math.abs(a*c)+Math.abs(e*h),h:Math.abs(a*h)+Math.abs(e*c)}}function calculateT(a,e,o,c){let h;const g=spaceAround(a,c);return e.position==="start"?h=calculateTAdjust({w:a.x2-a.x,h:a.y2-a.y},o,e,g):e.position==="end"?h=1-calculateTAdjust({w:a.x-a.x2,h:a.y-a.y2},o,e,g):h=getRelativePosition(1,e.position),h}function calculateTAdjust(a,e,o,c){const{labelSize:h,padding:g}=e,b=a.w*c.dx,$=a.h*c.dy,j=b>0&&(h.w/2+g.left-c.x)/b,rt=$>0&&(h.h/2+g.top-c.y)/$;return clamp(Math.max(j,rt),0,.25)}function spaceAround(a,e){const{x:o,x2:c,y:h,y2:g}=a,b=Math.min(h,g)-e.top,$=Math.min(o,c)-e.left,j=e.bottom-Math.max(h,g),rt=e.right-Math.max(o,c);return{x:Math.min($,rt),y:Math.min(b,j),dx:$<=rt?1:-1,dy:b<=j?1:-1}}function adjustLabelCoordinate(a,e){const{size:o,min:c,max:h,padding:g}=e,b=o/2;return o>h-c?(h+c)/2:(c>=a-g-b&&(a=c+g+b),h<=a+g+b&&(a=h-g-b),a)}function getArrowHeads(a){const e=a.options,o=e.arrowHeads&&e.arrowHeads.start,c=e.arrowHeads&&e.arrowHeads.end;return{startOpts:o,endOpts:c,startAdjust:getLineAdjust(a,o),endAdjust:getLineAdjust(a,c)}}function getLineAdjust(a,e){if(!e||!e.display)return 0;const{length:o,width:c}=e,h=a.options.borderWidth/2,g={x:o,y:c+h};return Math.abs(interpolateX(0,g,{x:0,y:h}))}function drawArrowHead(a,e,o,c){if(!c||!c.display)return;const{length:h,width:g,fill:b,backgroundColor:$,borderColor:j}=c,rt=Math.abs(e-h)+o;a.beginPath(),setShadowStyle(a,c),setBorderStyle(a,c),a.moveTo(rt,-g),a.lineTo(e+o,0),a.lineTo(rt,g),b===!0?(a.fillStyle=$||j,a.closePath(),a.fill(),a.shadowColor="transparent"):a.shadowColor=c.borderShadowColor,a.stroke()}function getControlPoint(a,e,o){const{x:c,y:h,x2:g,y2:b,centerX:$,centerY:j}=a,rt=Math.atan2(b-h,g-c),nt=toPosition(e.controlPoint,0),ot={x:$+getSize(o,nt.x,!1),y:j+getSize(o,nt.y,!1)};return rotated(ot,{x:$,y:j},rt)}function drawArrowHeadOnCurve(a,{x:e,y:o},{angle:c,adjust:h},g){!g||!g.display||(a.save(),a.translate(e,o),a.rotate(c),drawArrowHead(a,0,-h,g),a.restore())}function drawCurve(a,e,o,c){const{x:h,y:g,x2:b,y2:$,options:j}=e,{startOpts:rt,endOpts:nt,startAdjust:ot,endAdjust:_t}=getArrowHeads(e),Et={x:h,y:g},It={x:b,y:$},it=angleInCurve(Et,o,It,0),st=angleInCurve(Et,o,It,1)-PI,Mt=pointInCurve(Et,o,It,ot/c),bt=pointInCurve(Et,o,It,1-_t/c),Lt=new Path2D;a.beginPath(),Lt.moveTo(Mt.x,Mt.y),Lt.quadraticCurveTo(o.x,o.y,bt.x,bt.y),a.shadowColor=j.borderShadowColor,a.stroke(Lt),e.path=Lt,e.ctx=a,drawArrowHeadOnCurve(a,Mt,{angle:it,adjust:ot},rt),drawArrowHeadOnCurve(a,bt,{angle:st,adjust:_t},nt)}class EllipseAnnotation extends Element$1{inRange(e,o,c,h){const g=this.options.rotation,b=this.options.borderWidth;if(c!=="x"&&c!=="y")return pointInEllipse({x:e,y:o},this.getProps(["width","height","centerX","centerY"],h),g,b);const{x:$,y:j,x2:rt,y2:nt}=this.getProps(["x","y","x2","y2"],h),ot=b/2,_t=c==="y"?{start:j,end:nt}:{start:$,end:rt},Et=rotated({x:e,y:o},this.getCenterPoint(h),toRadians(-g));return Et[c]>=_t.start-ot-EPSILON&&Et[c]<=_t.end+ot+EPSILON}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){const{width:o,height:c,centerX:h,centerY:g,options:b}=this;e.save(),translate(e,this.getCenterPoint(),b.rotation),setShadowStyle(e,this.options),e.beginPath(),e.fillStyle=b.backgroundColor;const $=setBorderStyle(e,b);e.ellipse(h,g,c/2,o/2,PI/2,0,2*PI),e.fill(),$&&(e.shadowColor=b.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,o){return resolveBoxAndLabelProperties(e,o)}}EllipseAnnotation.id="ellipseAnnotation";EllipseAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:Object.assign({},BoxAnnotation.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};EllipseAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};EllipseAnnotation.descriptors={label:{_fallback:!0}};function pointInEllipse(a,e,o,c){const{width:h,height:g,centerX:b,centerY:$}=e,j=h/2,rt=g/2;if(j<=0||rt<=0)return!1;const nt=toRadians(o||0),ot=c/2||0,_t=Math.cos(nt),Et=Math.sin(nt),It=Math.pow(_t*(a.x-b)+Et*(a.y-$),2),it=Math.pow(Et*(a.x-b)-_t*(a.y-$),2);return It/Math.pow(j+ot,2)+it/Math.pow(rt+ot,2)<=1.0001}class PointAnnotation extends Element$1{inRange(e,o,c,h){const{x:g,y:b,x2:$,y2:j,width:rt}=this.getProps(["x","y","x2","y2","width"],h),nt=this.options.borderWidth;if(c!=="x"&&c!=="y")return inPointRange({x:e,y:o},this.getCenterPoint(h),rt/2,nt);const ot=nt/2,_t=c==="y"?{start:b,end:j,value:o}:{start:g,end:$,value:e};return _t.value>=_t.start-ot&&_t.value<=_t.end+ot}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){const o=this.options,c=o.borderWidth;if(o.radius<.1)return;e.save(),e.fillStyle=o.backgroundColor,setShadowStyle(e,o);const h=setBorderStyle(e,o);drawPoint(e,this,this.centerX,this.centerY),h&&!isImageOrCanvas(o.pointStyle)&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore(),o.borderWidth=c}resolveElementProperties(e,o){const c=resolvePointProperties(e,o);return c.initProperties=initAnimationProperties(e,c,o),c}}PointAnnotation.id="pointAnnotation";PointAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};PointAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};class PolygonAnnotation extends Element$1{inRange(e,o,c,h){if(c!=="x"&&c!=="y")return this.options.radius>=.1&&this.elements.length>1&&pointIsInPolygon(this.elements,e,o,h);const g=rotated({x:e,y:o},this.getCenterPoint(h),toRadians(-this.options.rotation)),b=this.elements.map(rt=>c==="y"?rt.bY:rt.bX),$=Math.min(...b),j=Math.max(...b);return g[c]>=$&&g[c]<=j}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){const{elements:o,options:c}=this;e.save(),e.beginPath(),e.fillStyle=c.backgroundColor,setShadowStyle(e,c);const h=setBorderStyle(e,c);let g=!0;for(const b of o)g?(e.moveTo(b.x,b.y),g=!1):e.lineTo(b.x,b.y);e.closePath(),e.fill(),h&&(e.shadowColor=c.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,o){const c=resolvePointProperties(e,o),{sides:h,rotation:g}=o,b=[],$=2*PI/h;let j=g*RAD_PER_DEG;for(let rt=0;rt<h;rt++,j+=$){const nt=buildPointElement(c,o,j);nt.initProperties=initAnimationProperties(e,c,o),b.push(nt)}return c.elements=b,c}}PolygonAnnotation.id="polygonAnnotation";PolygonAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};PolygonAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};function buildPointElement({centerX:a,centerY:e},{radius:o,borderWidth:c},h){const g=c/2,b=Math.sin(h),$=Math.cos(h),j={x:a+b*o,y:e-$*o};return{type:"point",optionScope:"point",properties:{x:j.x,y:j.y,centerX:j.x,centerY:j.y,bX:a+b*(o+g),bY:e-$*(o+g)}}}function pointIsInPolygon(a,e,o,c){let h=!1,g=a[a.length-1].getProps(["bX","bY"],c);for(const b of a){const $=b.getProps(["bX","bY"],c);$.bY>o!=g.bY>o&&e<(g.bX-$.bX)*(o-$.bY)/(g.bY-$.bY)+$.bX&&(h=!h),g=$}return h}const annotationTypes={box:BoxAnnotation,ellipse:EllipseAnnotation,label:LabelAnnotation,line:LineAnnotation,point:PointAnnotation,polygon:PolygonAnnotation};Object.keys(annotationTypes).forEach(a=>{defaults.describe(`elements.${annotationTypes[a].id}`,{_fallback:"plugins.annotation.common"})});const directUpdater={update:Object.assign},hooks$1=eventHooks.concat(elementHooks),resolve=(a,e)=>isObject(e)?resolveObj(a,e):a,isIndexable=a=>a==="color"||a==="font";function resolveType(a="line"){return annotationTypes[a]?a:(console.warn(`Unknown annotation type: '${a}', defaulting to 'line'`),"line")}function updateElements(a,e,o,c){const h=resolveAnimations(a,o.animations,c),g=e.annotations,b=resyncElements(e.elements,g);for(let $=0;$<g.length;$++){const j=g[$],rt=getOrCreateElement(b,$,j.type),nt=j.setContext(getContext(a,rt,j)),ot=rt.resolveElementProperties(a,nt);ot.skip=toSkip(ot),"elements"in ot&&(updateSubElements(rt,ot.elements,nt,h),delete ot.elements),defined(rt.x)||Object.assign(rt,ot),Object.assign(rt,ot.initProperties),ot.options=resolveAnnotationOptions(nt),h.update(rt,ot)}}function toSkip(a){return isNaN(a.x)||isNaN(a.y)}function resolveAnimations(a,e,o){return o==="reset"||o==="none"||o==="resize"?directUpdater:new Animations(a,e)}function updateSubElements(a,e,o,c){const h=a.elements||(a.elements=[]);h.length=e.length;for(let g=0;g<e.length;g++){const b=e[g],$=b.properties,j=getOrCreateElement(h,g,b.type,b.initProperties),rt=o[b.optionScope].override(b);$.options=resolveAnnotationOptions(rt),c.update(j,$)}}function getOrCreateElement(a,e,o,c){const h=annotationTypes[resolveType(o)];let g=a[e];return(!g||!(g instanceof h))&&(g=a[e]=new h,Object.assign(g,c)),g}function resolveAnnotationOptions(a){const e=annotationTypes[resolveType(a.type)],o={};o.id=a.id,o.type=a.type,o.drawTime=a.drawTime,Object.assign(o,resolveObj(a,e.defaults),resolveObj(a,e.defaultRoutes));for(const c of hooks$1)o[c]=a[c];return o}function resolveObj(a,e){const o={};for(const c of Object.keys(e)){const h=e[c],g=a[c];isIndexable(c)&&isArray(g)?o[c]=g.map(b=>resolve(b,h)):o[c]=resolve(g,h)}return o}function getContext(a,e,o){return e.$context||(e.$context=Object.assign(Object.create(a.getContext()),{element:e,id:o.id,type:"annotation"}))}function resyncElements(a,e){const o=e.length,c=a.length;if(c<o){const h=o-c;a.splice(c,0,...new Array(h))}else c>o&&a.splice(o,c-o);return a}var version="3.0.1";const chartStates=new Map,hooks=eventHooks.concat(elementHooks);var annotation={id:"annotation",version,beforeRegister(){requireVersion("chart.js","4.0",Chart.version)},afterRegister(){Chart.register(annotationTypes)},afterUnregister(){Chart.unregister(annotationTypes)},beforeInit(a){chartStates.set(a,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(a,e,o){const c=chartStates.get(a),h=c.annotations=[];let g=o.annotations;isObject(g)?Object.keys(g).forEach(b=>{const $=g[b];isObject($)&&($.id=b,h.push($))}):isArray(g)&&h.push(...g),verifyScaleOptions(h,a.scales)},afterDataLimits(a,e){const o=chartStates.get(a);adjustScaleRange(a,e.scale,o.annotations.filter(c=>c.display&&c.adjustScaleRange))},afterUpdate(a,e,o){const c=chartStates.get(a);updateListeners(a,c,o),updateElements(a,c,o,e.mode),c.visibleElements=c.elements.filter(h=>!h.skip&&h.options.display),updateHooks(a,c,o)},beforeDatasetsDraw(a,e,o){draw(a,"beforeDatasetsDraw",o.clip)},afterDatasetsDraw(a,e,o){draw(a,"afterDatasetsDraw",o.clip)},beforeDraw(a,e,o){draw(a,"beforeDraw",o.clip)},afterDraw(a,e,o){draw(a,"afterDraw",o.clip)},beforeEvent(a,e,o){const c=chartStates.get(a);handleEvent(c,e.event,o)&&(e.changed=!0)},afterDestroy(a){chartStates.delete(a)},_getState(a){return chartStates.get(a)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:a=>!hooks.includes(a)&&a!=="init",annotations:{_allKeys:!1,_fallback:(a,e)=>`elements.${annotationTypes[resolveType(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:isIndexable,_fallback:!0},_indexable:isIndexable}},additionalOptionScopes:[""]};function draw(a,e,o){const{ctx:c,chartArea:h}=a,g=chartStates.get(a);o&&clipArea(c,h);const b=getDrawableElements(g.visibleElements,e).sort(($,j)=>$.element.options.z-j.element.options.z);for(const $ of b)drawElement(c,h,g,$);o&&unclipArea(c)}function getDrawableElements(a,e){const o=[];for(const c of a)if(c.options.drawTime===e&&o.push({element:c,main:!0}),c.elements&&c.elements.length)for(const h of c.elements)h.options.display&&h.options.drawTime===e&&o.push({element:h});return o}function drawElement(a,e,o,c){const h=c.element;c.main?(invokeHook(o,h,"beforeDraw"),h.draw(a,e),invokeHook(o,h,"afterDraw")):h.draw(a,e)}Chart.register(plugin);Chart.register(annotation);function App(){return jsxRuntimeExports$1.jsx(HashRouter,{children:jsxRuntimeExports$1.jsxs(Routes,{children:[jsxRuntimeExports$1.jsx(Route,{path:"/",element:jsxRuntimeExports$1.jsx(MainPage,{})}),jsxRuntimeExports$1.jsx(Route,{path:"/details/:compound/:id",element:jsxRuntimeExports$1.jsx(DetailPage,{})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports$1.jsx(React.StrictMode,{children:jsxRuntimeExports$1.jsx(App,{})}));
